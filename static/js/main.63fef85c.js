/*! For license information please see main.63fef85c.js.LICENSE.txt */
!function(){var e={1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(u[c]=a[c]);if(t){s=t(a);for(var A=0;A<s.length;A++)r.call(a,s[A])&&(u[s[A]]=a[s[A]])}}return u}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var A=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},d={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(d,e)||!h.call(p,e)&&(f.test(e)?d[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,m);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,m);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,m);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,x=60106,C=60107,B=60108,E=60114,S=60109,k=60110,O=60112,T=60113,P=60120,M=60115,F=60116,I=60121,L=60128,R=60129,D=60130,Z=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;w=U("react.element"),x=U("react.portal"),C=U("react.fragment"),B=U("react.strict_mode"),E=U("react.profiler"),S=U("react.provider"),k=U("react.context"),O=U("react.forward_ref"),T=U("react.suspense"),P=U("react.suspense_list"),M=U("react.memo"),F=U("react.lazy"),I=U("react.block"),U("react.scope"),L=U("react.opaque.id"),R=U("react.debug_trace_mode"),D=U("react.offscreen"),Z=U("react.legacy_hidden")}var j,N="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}function Q(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var H=!1;function V(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Q(e):""}function G(e){switch(e.tag){case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case E:return"Profiler";case B:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return W(e.type);case I:return W(e._render);case F:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function le(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ae="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,ge,ve=(ge=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(me).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Oe=null;function Te(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Se(e.stateNode,e.type,t))}}function Pe(e){ke?Oe?Oe.push(e):Oe=[e]:ke=e}function Me(){if(ke){var e=ke,t=Oe;if(Oe=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Fe(e,t){return e(t)}function Ie(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Re=Fe,De=!1,Ze=!1;function Ue(){null===ke&&null===Oe||(Le(),Me())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ne=!1;if(A)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ge){Ne=!1}function Qe(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var He=!1,Ve=null,Ge=!1,We=null,Ke={onError:function(e){He=!0,Ve=e}};function qe(e,t,n,r,i,o,a,s,u){He=!1,Ve=null,Qe.apply(Ke,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(a(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,lt=null,ct=new Map,At=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function dt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function mt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==lt&&yt(lt)&&(lt=null),ct.forEach(mt),At.forEach(mt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function wt(e){function t(t){return _t(t,e)}if(0<at.length){_t(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&_t(st,e),null!==ut&&_t(ut,e),null!==lt&&_t(lt,e),ct.forEach(t),At.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)vt(n),null===n.blockedOn&&ft.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ct={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Bt={},Et={};function St(e){if(Bt[e])return Bt[e];if(!Ct[e])return e;var t,n=Ct[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return Bt[e]=n[t];return e}A&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete Ct.animationend.animation,delete Ct.animationiteration.animation,delete Ct.animationstart.animation),"TransitionEvent"in window||delete Ct.transitionend.transition);var kt=St("animationend"),Ot=St("animationiteration"),Tt=St("animationstart"),Pt=St("transitionend"),Mt=new Map,Ft=new Map,It=["abort","abort",kt,"animationEnd",Ot,"animationIteration",Tt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ft.set(r,t),Mt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Rt=8;function Dt(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Zt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Rt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Dt(u),i=Rt):0!==(s&=o)&&(r=Dt(s),i=Rt)}else 0!==(o=n&~a)?(r=Dt(o),i=Rt):0!==s&&(r=Dt(s),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Dt(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Nt(24&~t))?jt(10,t):e;case 10:return 0===(e=Nt(192&~t))?jt(8,t):e;case 8:return 0===(e=Nt(3584&~t))&&(0===(e=Nt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Nt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Nt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/Gt|0)|0},Vt=Math.log,Gt=Math.LN2;var Wt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,qt=!0;function Xt(e,t,n,r){De||Le();var i=Jt,o=De;De=!0;try{Ie(i,e,t,n,r)}finally{(De=o)||Ue()}}function Yt(e,t,n,r){Kt(Wt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(qt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=$t(e,t,n,r);if(null===o)i&&dt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=gt(st,e,t,n,r,i),!0;case"dragenter":return ut=gt(ut,e,t,n,r,i),!0;case"mouseover":return lt=gt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,gt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,gt(At.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;dt(e,r)}Lr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Ee(r);if(null!==(i=ni(i))){var o=Xe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,An,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(fn),pn=i({},fn,{view:0,detail:0}),dn=un(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==An&&(An&&"mousemove"===e.type?(ln=e.screenX-An.screenX,cn=e.screenY-An.screenY):cn=ln=0,An=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=un(gn),yn=un(i({},gn,{dataTransfer:0})),mn=un(i({},pn,{relatedTarget:0})),bn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=un(_n),xn=un(i({},fn,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return Sn}var On=i({},pn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=un(On),Pn=un(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Fn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(In),Rn=[9,13,27,32],Dn=A&&"CompositionEvent"in window,Zn=null;A&&"documentMode"in document&&(Zn=document.documentMode);var Un=A&&"TextEvent"in window&&!Zn,jn=A&&(!Dn||Zn&&8<Zn&&11>=Zn),Nn=String.fromCharCode(32),zn=!1;function Qn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Kn(e,t,n,r){Pe(r),0<(t=Dr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Yn(e){Or(e,0)}function Jn(e){if(Y(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(A){var tr;if(A){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){qn&&(qn.detachEvent("onpropertychange",or),Xn=qn=null)}function or(e){if("value"===e.propertyName&&Jn(Xn)){var t=[];if(Kn(t,Xn,e,Ee(e)),e=Yn,De)e(t);else{De=!0;try{Fe(e,t)}finally{De=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Xn=n,(qn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Xn)}function ur(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ar=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ar.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=A&&"documentMode"in document&&11>=document.documentMode,mr=null,br=null,_r=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==J(r)||("selectionStart"in(r=mr)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&fr(_r,r)||(_r=r,0<(r=Dr(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(It,2);for(var Cr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Br=0;Br<Cr.length;Br++)Ft.set(Cr[Br],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(qe.apply(this,arguments),He){if(!He)throw Error(a(198));var c=Ve;He=!1,Ve=null,Ge||(Ge=!0,We=c)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;kr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;kr(i,s,l),o=u}}}if(Ge)throw e=We,Ge=!1,We=null,e}function Tr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Ir(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Sr.has(t)||Fr(t,!1,e,null),Fr(t,!0,e,null)})))}function Fr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Ir(o,e,i,t),a.add(s))}function Ir(e,t,n,r){var i=Ft.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ze)return e(t,n);Ze=!0;try{Re(e,t,n)}finally{Ze=!1,Ue()}}((function(){var r=o,i=Ee(n),a=[];e:{var s=Mt.get(e);if(void 0!==s){var u=hn,l=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Mn;break;case kt:case Ot:case Tt:u=bn;break;case Pt:u=Fn;break;case"scroll":u=dn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var c=0!==(4&t),A=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var d=(h=p).stateNode;if(5===h.tag&&null!==d&&(h=d,null!==f&&(null!=(d=je(p,f))&&c.push(Rr(p,d,h)))),A)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!ni(l)&&!l[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ni(l):null)&&(l!==(A=Xe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=vn,d="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,d="onPointerLeave",f="onPointerEnter",p="pointer"),A=null==u?s:ii(u),h=null==l?s:ii(l),(s=new c(d,p+"leave",u,n,i)).target=A,s.relatedTarget=h,d=null,ni(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=h,c.relatedTarget=A,d=c),A=d,u&&l)e:{for(f=l,p=0,h=c=u;h;h=Zr(h))p++;for(h=0,d=f;d;d=Zr(d))h++;for(;0<p-h;)c=Zr(c),p--;for(;0<h-p;)f=Zr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Zr(c),f=Zr(f)}c=null}else c=null;null!==u&&Ur(a,s,u,c,!1),null!==l&&null!==A&&Ur(a,A,l,c,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=$n;else if(Wn(s))if(er)g=lr;else{g=sr;var v=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ur);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ii(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,br=r,_r=null);break;case"focusout":_r=br=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else Vn?Qn(e,n)&&(m="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(m="onCompositionStart");m&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==m?"onCompositionEnd"===m&&Vn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Vn=!0)),0<(v=Dr(r,m)).length&&(m=new xn(m,e,null,n,i),a.push({event:m,listeners:v}),y?m.data=y:null!==(y=Hn(n))&&(m.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,Nn);case"textInput":return(e=t.data)===Nn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Qn(e,t)?(e=rn(),nn=tn=en=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Dr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Or(a,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Rr(e,o,i)),null!=(o=je(e,t))&&r.push(Rr(e,o,i))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=je(n,o))&&a.unshift(Rr(n,u,s)):i||null!=(u=je(n,o))&&a.push(Rr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function jr(){}var Nr=null,zr=null;function Qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,$r="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qr(e);null!==e;){if(n=e[Jr])return n;e=qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[$r]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function li(e){return{current:e}}function ci(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function Ai(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},hi=li(fi),pi=li(!1),di=fi;function gi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(pi),ci(hi)}function mi(e,t,n){if(hi.current!==fi)throw Error(a(168));Ai(hi,t),Ai(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,W(t)||"Unknown",o));return i({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,di=hi.current,Ai(hi,e),Ai(pi,pi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(hi),Ai(hi,e)):ci(pi),Ai(pi,n)}var xi=null,Ci=null,Bi=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,ki=o.unstable_shouldYield,Oi=o.unstable_requestPaint,Ti=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,Fi=o.unstable_UserBlockingPriority,Ii=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Di={},Zi=void 0!==Oi?Oi:function(){},Ui=null,ji=null,Ni=!1,zi=Ti(),Qi=1e4>zi?Ti:function(){return Ti()-zi};function Hi(){switch(Pi()){case Mi:return 99;case Fi:return 98;case Ii:return 97;case Li:return 96;case Ri:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return Mi;case 98:return Fi;case 97:return Ii;case 96:return Li;case 95:return Ri;default:throw Error(a(332))}}function Gi(e,t){return e=Vi(e),Bi(e,t)}function Wi(e,t,n){return e=Vi(e),Ei(e,t,n)}function Ki(){if(null!==ji){var e=ji;ji=null,Si(e)}qi()}function qi(){if(!Ni&&null!==Ui){Ni=!0;var e=0;try{var t=Ui;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ei(Mi,Ki),n}finally{Ni=!1}}}var Xi=_.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=li(null),$i=null,eo=null,to=null;function no(){to=eo=$i=null}function ro(e){var t=Ji.current;ci(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){$i=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Da=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===$i)throw Error(a(308));eo=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ao(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var A=e.alternate;if(null!==A){var f=(A=A.updateQueue).lastBaseUpdate;f!==s&&(null===f?A.firstBaseUpdate=c:f.next=c,A.lastBaseUpdate=l)}}if(null!==a){for(f=o.baseState,s=0,A=c=l=null;;){u=a.lane;var h=a.eventTime;if((r&u)===u){null!==A&&(A=A.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,d=a;switch(u=t,h=n,d.tag){case 1:if("function"===typeof(p=d.payload)){f=p.call(h,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=d.payload)?p.call(h,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===A?(c=A=h,l=f):A=A.next=h,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===A&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=A,Ns|=s,e.lanes=s,e.memoizedState=f}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=hu(e),o=co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),Ao(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=hu(e),o=co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),Ao(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=hu(e),i=co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),Ao(e,i),pu(e,r,n)}};function mo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function bo(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=vi(t)?di:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=vi(t)?di:hi.current,i.context=gi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xo=Array.isArray;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Bo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Co(e,t,n),r.return=e,r):((r=Wu(n.type,n.key,n.props,null,e.mode,r)).ref=Co(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function A(e,t,n,r,o){return null===t||7!==t.tag?((t=Ku(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Wu(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case x:return(t=Yu(t,e.mode,n)).return=e,t}if(xo(t)||z(t))return(t=Ku(t,e.mode,n,null)).return=e,t;Bo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===C?A(e,t,n.props.children,r,i):l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null}if(xo(n)||z(n))return null!==i?null:A(e,t,n,r,null);Bo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===C?A(t,e,r.props.children,i,r.key):l(t,e,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xo(r)||z(r))return A(t,e=e.get(n)||null,r,i,null);Bo(t,r)}return null}function d(i,a,s,u){for(var l=null,c=null,A=a,d=a=0,g=null;null!==A&&d<s.length;d++){A.index>d?(g=A,A=null):g=A.sibling;var v=h(i,A,s[d],u);if(null===v){null===A&&(A=g);break}e&&A&&null===v.alternate&&t(i,A),a=o(v,a,d),null===c?l=v:c.sibling=v,c=v,A=g}if(d===s.length)return n(i,A),l;if(null===A){for(;d<s.length;d++)null!==(A=f(i,s[d],u))&&(a=o(A,a,d),null===c?l=A:c.sibling=A,c=A);return l}for(A=r(i,A);d<s.length;d++)null!==(g=p(A,i,d,s[d],u))&&(e&&null!==g.alternate&&A.delete(null===g.key?d:g.key),a=o(g,a,d),null===c?l=g:c.sibling=g,c=g);return e&&A.forEach((function(e){return t(i,e)})),l}function g(i,s,u,l){var c=z(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var A=c=null,d=s,g=s=0,v=null,y=u.next();null!==d&&!y.done;g++,y=u.next()){d.index>g?(v=d,d=null):v=d.sibling;var m=h(i,d,y.value,l);if(null===m){null===d&&(d=v);break}e&&d&&null===m.alternate&&t(i,d),s=o(m,s,g),null===A?c=m:A.sibling=m,A=m,d=v}if(y.done)return n(i,d),c;if(null===d){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,l))&&(s=o(y,s,g),null===A?c=y:A.sibling=y,A=y);return c}for(d=r(i,d);!y.done;g++,y=u.next())null!==(y=p(d,i,g,y.value,l))&&(e&&null!==y.alternate&&d.delete(null===y.key?g:y.key),s=o(y,s,g),null===A?c=y:A.sibling=y,A=y);return e&&d.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"===typeof o&&null!==o&&o.type===C&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case w:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===C){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Co(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===C?((r=Ku(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Wu(o.type,o.key,o.props,null,e.mode,u)).ref=Co(e,r,o),u.return=e,e=u)}return s(e);case x:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Xu(o,e.mode,u)).return=e,e=r),s(e);if(xo(o))return d(e,r,o,u);if(z(o))return g(e,r,o,u);if(c&&Bo(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,W(e.type)||"Component"))}return n(e,r)}}var So=Eo(!0),ko=Eo(!1),Oo={},To=li(Oo),Po=li(Oo),Mo=li(Oo);function Fo(e){if(e===Oo)throw Error(a(174));return e}function Io(e,t){switch(Ai(Mo,t),Ai(Po,e),Ai(To,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(To),Ai(To,t)}function Lo(){ci(To),ci(Po),ci(Mo)}function Ro(e){Fo(Mo.current);var t=Fo(To.current),n=pe(t,e.type);t!==n&&(Ai(Po,e),Ai(To,n))}function Do(e){Po.current===e&&(ci(To),ci(Po))}var Zo=li(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,No=null,zo=!1;function Qo(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Vo(e){if(zo){var t=No;if(t){var n=t;if(!Ho(e,t)){if(!(t=Kr(n.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(jo=e);Qo(jo,n)}jo=e,No=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,jo=e}}function Go(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Wo(e){if(e!==jo)return!1;if(!zo)return Go(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=No;t;)Qo(e,t),t=Kr(t.nextSibling);if(Go(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){No=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}No=null}}else No=jo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){No=jo=null,zo=!1}var qo=[];function Xo(){for(var e=0;e<qo.length;e++)qo[e]._workInProgressVersionPrimary=null;qo.length=0}var Yo=_.ReactCurrentDispatcher,Jo=_.ReactCurrentBatchConfig,$o=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if($o=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Fa:Ia,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Yo.current=La,e=n(r,i)}while(ia)}if(Yo.current=Ma,t=null!==ta&&null!==ta.next,$o=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function la(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function ca(e,t){return"function"===typeof t?t(e):t}function Aa(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if(($o&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var A={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=A,o=r):u=u.next=A,ea.lanes|=c,Ns|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,cr(r,t.memoizedState)||(Da=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,qo.push(t))),e)return n(t._source);throw qo.push(t),Error(a(350))}function pa(e,t,n,r){var i=Fs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Yo.current,l=u.useState((function(){return ha(i,t,n)})),c=l[1],A=l[0];l=na;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,d=f.source;f=f.subscribe;var g=ea;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(A,e)||(c(e),e=hu(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Ht(a),l=1<<u;r[u]|=e,a&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hu(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(p,n)&&cr(d,t)&&cr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:A}).dispatch=c=Pa.bind(null,ea,e),l.queue=e,l.baseQueue=null,A=ha(i,t,n),l.memoizedState=l.baseState=A),A}function da(e,t,n){return pa(la(),e,t,n)}function ga(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Pa.bind(null,ea,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ua().memoizedState=e}function ma(){return la().memoizedState}function ba(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function _a(e,t,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void va(t,n,o,r)}ea.flags|=e,i.memoizedState=va(1|t,n,o,r)}function wa(e,t){return ba(516,4,e,t)}function xa(e,t){return _a(516,4,e,t)}function Ca(e,t){return _a(4,2,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Ba.bind(null,t,e),n)}function Sa(){}function ka(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oa(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ta(e,t){var n=Hi();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Pa(e,t,n){var r=fu(),i=hu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,cr(u,s))return}catch(l){}pu(e,i,r)}}var Ma={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Fa={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ba(4,2,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:ga,useDebugValue:Sa,useDeferredValue:function(e){var t=ga(e),n=t[0],r=t[1];return wa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ga(!1),t=e[0];return ya(e=Ta.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(a(355))})),n=ga(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,va(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return ga(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Ia={readContext:ao,useCallback:ka,useContext:ao,useEffect:xa,useImperativeHandle:Ea,useLayoutEffect:Ca,useMemo:Oa,useReducer:Aa,useRef:ma,useState:function(){return Aa(ca)},useDebugValue:Sa,useDeferredValue:function(e){var t=Aa(ca),n=t[0],r=t[1];return xa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=Aa(ca)[0];return[ma().current,e]},useMutableSource:da,useOpaqueIdentifier:function(){return Aa(ca)[0]},unstable_isNewReconciler:!1},La={readContext:ao,useCallback:ka,useContext:ao,useEffect:xa,useImperativeHandle:Ea,useLayoutEffect:Ca,useMemo:Oa,useReducer:fa,useRef:ma,useState:function(){return fa(ca)},useDebugValue:Sa,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return xa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[ma().current,e]},useMutableSource:da,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Ra=_.ReactCurrentOwner,Da=!1;function Za(e,t,n,r){t.child=null===e?ko(t,null,n,r):So(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Da?(t.flags|=1,Za(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function ja(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Vu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Na(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Gu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Na(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Da=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Da=!0)}return Ha(e,t,n,r,o)}function za(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},wu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wu(t,e),null;t.memoizedState={baseLanes:0},wu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,wu(t,r);return Za(e,t,i,n),t.child}function Qa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ha(e,t,n,r,i){var o=vi(n)?di:hi.current;return o=gi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Da?(t.flags|=1,Za(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Va(e,t,n,r,i){if(vi(n)){var o=!0;_i(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ao(l):l=gi(t,l=vi(n)?di:hi.current);var c=n.getDerivedStateFromProps,A="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;A||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&_o(t,a,r,l),so=!1;var f=t.memoizedState;a.state=f,ho(t,r,a,i),u=t.memoizedState,s!==r||f!==u||pi.current||so?("function"===typeof c&&(vo(t,n,c,r),u=t.memoizedState),(s=so||mo(t,n,s,r,f,u,l))?(A||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,lo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Yi(t.type,s),a.props=l,A=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=gi(t,u=vi(n)?di:hi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==A||f!==u)&&_o(t,a,r,u),so=!1,f=t.memoizedState,a.state=f,ho(t,r,a,i);var p=t.memoizedState;s!==A||f!==p||pi.current||so?("function"===typeof h&&(vo(t,n,h,r),p=t.memoizedState),(l=so||mo(t,n,l,r,f,p,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ga(e,t,n,r,o,i)}function Ga(e,t,n,r,i,o){Qa(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&wi(t,n,!1),os(e,t,o);r=t.stateNode,Ra.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Za(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Wa(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Io(e,t.containerInfo)}var Ka,qa,Xa,Ya={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Zo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Ai(Zo,1&o),null===e?(void 0!==i.fallback&&Vo(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,e):"number"===typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,t.lanes=33554432,e):((n=qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ya,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=qu(t,i,0,null),n=Ku(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Gu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gu(a,s),null!==e?r=Gu(e,r):(r=Ku(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Za(e,t,r.children,n),0!==(2&(r=Zo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(Zo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ns|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Gu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&yi(),null;case 3:return Lo(),ci(pi),ci(hi),Xo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Do(t);var o=Fo(Mo.current);if(n=t.type,null!==e&&null!=t.stateNode)qa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Fo(To.current),Wo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[$r]=s,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Tr(Er[e],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":ee(r,s),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tr("invalid",r);break;case"textarea":ue(r,s),Tr("invalid",r)}for(var l in Ce(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Tr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===Ae&&(e=he(n)),e===Ae?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Jr]=t,e[$r]=r,Ka(e,t),t.stateNode=e,l=Be(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),o=r;break;case"iframe":case"object":case"embed":Tr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Tr(Er[o],e);o=r;break;case"source":Tr("error",e),o=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),o=r;break;case"details":Tr("toggle",e),o=r;break;case"input":ee(e,r),o=$(e,r),Tr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Tr("invalid",e);break;default:o=r}Ce(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var A=c[s];"style"===s?we(e,A):"dangerouslySetInnerHTML"===s?null!=(A=A?A.__html:void 0)&&ve(e,A):"children"===s?"string"===typeof A?("textarea"!==n||""!==A)&&ye(e,A):"number"===typeof A&&ye(e,""+A):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=A&&"onScroll"===s&&Tr("scroll",e):null!=A&&b(e,s,A,l))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=jr)}Qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Fo(Mo.current),Fo(To.current),Wo(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ci(Zo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Zo.current)?0===Zs&&(Zs=3):(0!==Zs&&3!==Zs||(Zs=4),null===Fs||0===(134217727&Ns)&&0===(134217727&zs)||yu(Fs,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),null===e&&Mr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ci(Zo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=r.rendering))if(s)as(r,!1);else{if(0!==Zs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Uo(e))){for(t.flags|=64,as(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(Zo,1&Zo.current|2),t.child}e=e.sibling}null!==r.tail&&Qi()>Gs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!zo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Qi()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Qi(),n.sibling=null,t=Zo.current,Ai(Zo,s?1&t|2:1&t),n):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:vi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),ci(pi),ci(hi),Xo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Do(e),null;case 13:return ci(Zo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Zo),null;case 4:return Lo(),null;case 10:return ro(e),null;case 23:case 24:return xu(),null;default:return null}}function ls(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Fo(To.current);var a,s=null;switch(n){case"input":o=$(e,o),r=$(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(A in Ce(n,r),n=null,o)if(!r.hasOwnProperty(A)&&o.hasOwnProperty(A)&&null!=o[A])if("style"===A){var l=o[A];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==A&&"children"!==A&&"suppressContentEditableWarning"!==A&&"suppressHydrationWarning"!==A&&"autoFocus"!==A&&(u.hasOwnProperty(A)?s||(s=[]):(s=s||[]).push(A,null));for(A in r){var c=r[A];if(l=null!=o?o[A]:void 0,r.hasOwnProperty(A)&&c!==l&&(null!=c||null!=l))if("style"===A)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(A,n)),n=c;else"dangerouslySetInnerHTML"===A?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(A,c)):"children"===A?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(A,""+c):"suppressContentEditableWarning"!==A&&"suppressHydrationWarning"!==A&&(u.hasOwnProperty(A)?(null!=c&&"onScroll"===A&&Tr("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===L?c.toString():(s=s||[]).push(A,c))}n&&(s=s||[]).push("style",n);var A=s;(t.updateQueue=A)&&(t.flags|=4)}},Xa=function(e,t,n,r){n!==r&&(t.flags|=4)};var As="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Ys=r),cs(0,t)},n}function hs(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return cs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function ds(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){ju(e,n)}else t.current=null}function gs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo))}throw Error(a(163))}function vs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Du(n,e),Ru(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ms(e,t){if(Ci&&"function"===typeof Ci.onCommitFiberUnmount)try{Ci.onCommitFiberUnmount(xi,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Du(t,n);else{r=t;try{i()}catch(o){ju(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ds(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){ju(t,o)}break;case 5:ds(t);break;case 4:Bs(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Cs(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Cs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Cs(e,t,n),e=e.sibling;null!==e;)Cs(e,t,n),e=e.sibling}function Bs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(ms(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ms(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Be(e,i),t=Be(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?ve(n,u):"children"===s?ye(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Vs=Qi(),ys(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ks(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Os=Math.ceil,Ts=_.ReactCurrentDispatcher,Ps=_.ReactCurrentOwner,Ms=0,Fs=null,Is=null,Ls=0,Rs=0,Ds=li(0),Zs=0,Us=null,js=0,Ns=0,zs=0,Qs=0,Hs=null,Vs=0,Gs=1/0;function Ws(){Gs=Qi()+500}var Ks,qs=null,Xs=!1,Ys=null,Js=null,$s=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,lu=0,cu=null,Au=!1;function fu(){return 0!==(48&Ms)?Qi():-1!==su?su:su=Qi()}function hu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=js),0!==Xi.transition){0!==lu&&(lu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~lu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Ms)&&98===e?e=jt(12,uu):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=du(e,t)))return null;Qt(e,t,n),e===Fs&&(zs|=t,4===Zs&&yu(e,Ls));var r=Hi();1===t?0!==(8&Ms)&&0===(48&Ms)?mu(e):(gu(e,n),0===Ms&&(Ws(),Ki())):(0===(4&Ms)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),gu(e,n)),Hs=e}function du(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,Dt(l);var A=Rt;o[u]=10<=A?c+250:6<=A?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Zt(e,e===Fs?Ls:0),t=Rt,0===r)null!==n&&(n!==Di&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Di&&Si(n)}15===t?(n=mu.bind(null,e),null===Ui?(Ui=[n],ji=Ei(Mi,qi)):Ui.push(n),n=Di):14===t?n=Wi(99,mu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Wi(n,vu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vu(e){if(su=-1,lu=uu=0,0!==(48&Ms))throw Error(a(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Zt(e,e===Fs?Ls:0);if(0===n)return null;var r=n,i=Ms;Ms|=16;var o=Eu();for(Fs===e&&Ls===r||(Ws(),Cu(e,r));;)try{Ou();break}catch(u){Bu(e,u)}if(no(),Ts.current=o,Ms=i,null!==Is?r=0:(Fs=null,Ls=0,r=Zs),0!==(js&zs))Cu(e,0);else if(0!==r){if(2===r&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Ut(e))&&(r=Su(e,n))),1===r)throw t=Us,Cu(e,0),yu(e,n),gu(e,Qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Mu(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Vs+500-Qi())){if(0!==Zt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vr(Mu.bind(null,e),r);break}Mu(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Os(n/1960))-n)){e.timeoutHandle=Vr(Mu.bind(null,e),n);break}Mu(e);break;default:throw Error(a(329))}}return gu(e,Qi()),e.callbackNode===t?vu.bind(null,e):null}function yu(e,t){for(t&=~Qs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function mu(e){if(0!==(48&Ms))throw Error(a(327));if(Lu(),e===Fs&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Su(e,t);0!==(js&zs)&&(n=Su(e,t=Zt(e,t)))}else n=Su(e,t=Zt(e,0));if(0!==e.tag&&2===n&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Ut(e))&&(n=Su(e,t))),1===n)throw n=Us,Cu(e,0),yu(e,t),gu(e,Qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mu(e),gu(e,Qi()),null}function bu(e,t){var n=Ms;Ms|=1;try{return e(t)}finally{0===(Ms=n)&&(Ws(),Ki())}}function _u(e,t){var n=Ms;Ms&=-2,Ms|=8;try{return e(t)}finally{0===(Ms=n)&&(Ws(),Ki())}}function wu(e,t){Ai(Ds,Rs),Rs|=t,js|=t}function xu(){Rs=Ds.current,ci(Ds)}function Cu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Is)for(n=Is.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Lo(),ci(pi),ci(hi),Xo();break;case 5:Do(r);break;case 4:Lo();break;case 13:case 19:ci(Zo);break;case 10:ro(r);break;case 23:case 24:xu()}n=n.return}Fs=e,Is=Gu(e.current,null),Ls=Rs=js=t,Zs=0,Us=null,Qs=zs=Ns=0}function Bu(e,t){for(;;){var n=Is;try{if(no(),Yo.current=Ma,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if($o=0,na=ta=ea=null,ia=!1,Ps.current=null,null===n||null===n.return){Zs=1,Us=t,Is=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var A=0!==(1&Zo.current),f=a;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var d=f.memoizedProps;h=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!A)}}if(h){var g=f.updateQueue;if(null===g){var v=new Set;v.add(l),f.updateQueue=v}else g.add(l);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,Ao(s,y)}s.lanes|=1;break e}u=void 0,s=t;var m=o.pingCache;if(null===m?(m=o.pingCache=new As,u=new Set,m.set(l,u)):void 0===(u=m.get(l))&&(u=new Set,m.set(l,u)),!u.has(s)){u.add(s);var b=Nu.bind(null,o,l,s);l.then(b,b)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((W(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Zs&&(Zs=2),u=ls(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,fo(f,fs(0,o,t));break e;case 1:o=u;var _=f.type,w=f.stateNode;if(0===(64&f.flags)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Js||!Js.has(w)))){f.flags|=4096,t&=-t,f.lanes|=t,fo(f,hs(f,o,t));break e}}f=f.return}while(null!==f)}Pu(n)}catch(x){t=x,Is===n&&null!==n&&(Is=n=n.return);continue}break}}function Eu(){var e=Ts.current;return Ts.current=Ma,null===e?Ma:e}function Su(e,t){var n=Ms;Ms|=16;var r=Eu();for(Fs===e&&Ls===t||Cu(e,t);;)try{ku();break}catch(i){Bu(e,i)}if(no(),Ms=n,Ts.current=r,null!==Is)throw Error(a(261));return Fs=null,Ls=0,Zs}function ku(){for(;null!==Is;)Tu(Is)}function Ou(){for(;null!==Is&&!ki();)Tu(Is)}function Tu(e){var t=Ks(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?Pu(e):Is=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Rs)))return void(Is=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Rs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Is=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Is=t);Is=t=e}while(null!==t);0===Zs&&(Zs=5)}function Mu(e){var t=Hi();return Gi(99,Fu.bind(null,e,t)),null}function Fu(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ms))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-Ht(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Fs&&(Is=Fs=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ms,Ms|=32,Ps.current=null,Nr=qt,vr(s=gr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(E){u=null;break e}var A=0,f=-1,h=-1,p=0,d=0,g=s,v=null;t:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(f=A+o),g!==l||0!==c&&3!==g.nodeType||(h=A+c),3===g.nodeType&&(A+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break t;if(v===u&&++p===o&&(f=A),v===l&&++d===c&&(h=A),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}u=-1===f||-1===h?null:{start:f,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},qt=!1,cu=null,Au=!1,qs=r;do{try{Iu()}catch(E){if(null===qs)throw Error(a(330));ju(qs,E),qs=qs.nextEffect}}while(null!==qs);cu=null,qs=r;do{try{for(s=e;null!==qs;){var m=qs.flags;if(16&m&&ye(qs.stateNode,""),128&m){var b=qs.alternate;if(null!==b){var _=b.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&m){case 2:ws(qs),qs.flags&=-3;break;case 6:ws(qs),qs.flags&=-3,Es(qs.alternate,qs);break;case 1024:qs.flags&=-1025;break;case 1028:qs.flags&=-1025,Es(qs.alternate,qs);break;case 4:Es(qs.alternate,qs);break;case 8:Bs(s,u=qs);var w=u.alternate;bs(u),null!==w&&bs(w)}qs=qs.nextEffect}}catch(E){if(null===qs)throw Error(a(330));ju(qs,E),qs=qs.nextEffect}}while(null!==qs);if(_=zr,b=gr(),m=_.focusedElem,s=_.selectionRange,b!==m&&m&&m.ownerDocument&&dr(m.ownerDocument.documentElement,m)){null!==s&&vr(m)&&(b=s.start,void 0===(_=s.end)&&(_=b),"selectionStart"in m?(m.selectionStart=b,m.selectionEnd=Math.min(_,m.value.length)):(_=(b=m.ownerDocument||document)&&b.defaultView||window).getSelection&&(_=_.getSelection(),u=m.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!_.extend&&w>s&&(u=s,s=w,w=u),u=pr(m,w),o=pr(m,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((b=b.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),w>s?(_.addRange(b),_.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),_.addRange(b))))),b=[];for(_=m;_=_.parentNode;)1===_.nodeType&&b.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof m.focus&&m.focus(),m=0;m<b.length;m++)(_=b[m]).element.scrollLeft=_.left,_.element.scrollTop=_.top}qt=!!Nr,zr=Nr=null,e.current=n,qs=r;do{try{for(m=e;null!==qs;){var x=qs.flags;if(36&x&&vs(m,qs.alternate,qs),128&x){b=void 0;var C=qs.ref;if(null!==C){var B=qs.stateNode;qs.tag,b=B,"function"===typeof C?C(b):C.current=b}}qs=qs.nextEffect}}catch(E){if(null===qs)throw Error(a(330));ju(qs,E),qs=qs.nextEffect}}while(null!==qs);qs=null,Zi(),Ms=i}else e.current=n;if($s)$s=!1,eu=e,tu=t;else for(qs=r;null!==qs;)t=qs.nextEffect,qs.nextEffect=null,8&qs.flags&&((x=qs).sibling=null,x.stateNode=null),qs=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ci&&"function"===typeof Ci.onCommitFiberRoot)try{Ci.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(E){}if(gu(e,Qi()),Xs)throw Xs=!1,e=Ys,Ys=null,e;return 0!==(8&Ms)||Ki(),null}function Iu(){for(;null!==qs;){var e=qs.alternate;Au||null===cu||(0!==(8&qs.flags)?et(qs,cu)&&(Au=!0):13===qs.tag&&ks(e,qs)&&et(qs,cu)&&(Au=!0));var t=qs.flags;0!==(256&t)&&gs(e,qs),0===(512&t)||$s||($s=!0,Wi(97,(function(){return Lu(),null}))),qs=qs.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Gi(e,Zu)}return!1}function Ru(e,t){nu.push(t,e),$s||($s=!0,Wi(97,(function(){return Lu(),null})))}function Du(e,t){ru.push(t,e),$s||($s=!0,Wi(97,(function(){return Lu(),null})))}function Zu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ms))throw Error(a(331));var t=Ms;Ms|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));ju(o,l)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===o)throw Error(a(330));ju(o,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ms=t,Ki(),!0}function Uu(e,t,n){Ao(e,t=fs(0,t=ls(n,t),1)),t=fu(),null!==(e=du(e,1))&&(Qt(e,1,t),gu(e,t))}function ju(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=hs(n,e=ls(t,e),1);if(Ao(n,i),i=fu(),null!==(n=du(n,1)))Qt(n,1,i),gu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Nu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Fs===e&&(Ls&n)===n&&(4===Zs||3===Zs&&(62914560&Ls)===Ls&&500>Qi()-Vs?Cu(e,0):Qs|=n),gu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=js),0===(t=Nt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=du(e,t))&&(Qt(e,t,n),gu(e,n))}function Qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new Qu(e,t,n,r)}function Vu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Vu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Ku(n.children,i,o,t);case R:s=8,i|=16;break;case B:s=8,i|=1;break;case E:return(e=Hu(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=o,e;case T:return(e=Hu(13,n,t,i)).type=T,e.elementType=T,e.lanes=o,e;case P:return(e=Hu(19,n,t,i)).elementType=P,e.lanes=o,e;case D:return qu(n,i,o,t);case Z:return(e=Hu(24,n,t,i)).elementType=Z,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case k:s=9;break e;case O:s=11;break e;case M:s=14;break e;case F:s=16,r=null;break e;case I:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ku(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function qu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=D,e.lanes=n,e}function Xu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Yu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function el(e,t,n,r){var i=t.current,o=fu(),s=hu(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(vi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(vi(l)){n=bi(n,l,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Ao(i,t),pu(i,s,o),s}function tl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rl(e,t){nl(e,t),(e=e.alternate)&&nl(e,t)}function il(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Mr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ol(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function al(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tl(a);s.call(e)}}el(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new il(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tl(a);u.call(e)}}_u((function(){el(t,a,e,i)}))}return tl(a)}function sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(t))throw Error(a(200));return $u(e,t,null,n)}Ks=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Da=!0;else{if(0===(n&r)){switch(Da=!1,t.tag){case 3:Wa(t),Ko();break;case 5:Ro(t);break;case 1:vi(t.type)&&_i(t);break;case 4:Io(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Ai(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(Ai(Zo,1&Zo.current),null!==(t=os(e,t,n))?t.sibling:null);Ai(Zo,1&Zo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(Zo,Zo.current),r)break;return null;case 23:case 24:return t.lanes=0,za(e,t,n)}return os(e,t,n)}Da=0!==(16384&e.flags)}else Da=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,hi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&vo(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,wo(t,r,e,n),t=Ga(null,t,r,!0,o,n)}else t.tag=0,Za(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Vu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===M)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=Ha(null,t,i,e,n);break e;case 1:t=Va(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=ja(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Wa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(No=Kr(t.stateNode.containerInfo.firstChild),jo=t,o=zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],qo.push(o);for(n=ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Za(e,t,r,n),Ko();t=t.child}return t;case 5:return Ro(t),null===e&&Vo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==o&&Hr(r,o)&&(t.flags|=16),Qa(e,t),Za(e,t,s,n),t.child;case 6:return null===e&&Vo(t),null;case 13:return Ja(e,t,n);case 4:return Io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Za(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Za(e,t,t.pendingProps,n),t.child;case 8:case 12:return Za(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(Ai(Ji,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=cr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=co(-1,n&-n)).tag=2,Ao(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),io(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Za(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Za(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),ja(e,t,i,o=Yi(i.type,o),r,n);case 15:return Na(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,_i(t)):e=!1,oo(t,n),bo(t,r,i),wo(t,r,i,n),Ga(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return za(e,t,n)}throw Error(a(156,t.tag))},il.prototype.render=function(e){el(e,this._internalRoot,null,null)},il.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;el(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,fu()),rl(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,fu()),rl(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=hu(e);pu(e,n,t),rl(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));Y(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Fe=bu,Ie=function(e,t,n,r,i){var o=Ms;Ms|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Ms=o)&&(Ws(),Ki())}},Le=function(){0===(49&Ms)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gu(e,Qi())}))}Ki()}(),Lu())},Re=function(e,t){var n=Ms;Ms|=2;try{return e(t)}finally{0===(Ms=n)&&(Ws(),Ki())}};var ul={Events:[ri,ii,oi,Pe,Me,Lu,{current:!1}]},ll={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{xi=Al.inject(cl),Ci=Al}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ms;if(0!==(48&n))return e(t);Ms|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Ms=n,Ki()}},t.hydrate=function(e,t,n){if(!ol(t))throw Error(a(200));return al(null,e,t,!0,n)},t.render=function(e,t,n){if(!ol(t))throw Error(a(200));return al(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ol(e))throw Error(a(40));return!!e._reactRootContainer&&(_u((function(){al(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ol(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return al(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:a.current}}t.jsx=l},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var A=Symbol.for;i=A("react.element"),o=A("react.portal"),t.Fragment=A("react.fragment"),t.StrictMode=A("react.strict_mode"),t.Profiler=A("react.profiler"),a=A("react.provider"),s=A("react.context"),u=A("react.forward_ref"),t.Suspense=A("react.suspense"),l=A("react.memo"),c=A("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d={};function g(e,t,n){this.props=e,this.context=t,this.refs=d,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=d,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var m=y.prototype=new v;m.constructor=y,r(m,g.prototype),m.isPureReactComponent=!0;var b={current:null},_=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:b.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var B=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+E(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(B,"$&/")+"/"),S(a,t,n,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(B,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+E(s=e[l],l);u+=S(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,c=r+E(s,l++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function k(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function P(){var e=T.current;if(null===e)throw Error(h(321));return e}var M={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(h(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var A=0;A<c;A++)l[A]=arguments[A+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,A=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(A,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var d=!1,g=null,v=-1,y=5,m=0;t.unstable_shouldYield=function(){return t.unstable_now()>=m},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,_=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();m=e+y;try{g(!0,e)?_.postMessage(null):(d=!1,g=null)}catch(n){throw _.postMessage(null),n}}else d=!1},n=function(e){g=e,d||(d=!0,_.postMessage(null))},r=function(e,n){v=f((function(){e(t.unstable_now())}),n)},i=function(){h(v),v=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<B(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>B(a,n))void 0!==u&&0>B(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>B(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function B(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],S=[],k=1,O=null,T=3,P=!1,M=!1,F=!1;function I(e){for(var t=x(S);null!==t;){if(null===t.callback)C(S);else{if(!(t.startTime<=e))break;C(S),t.sortIndex=t.expirationTime,w(E,t)}t=x(S)}}function L(e){if(F=!1,I(e),!M)if(null!==x(E))M=!0,n(R);else{var t=x(S);null!==t&&r(L,t.startTime-e)}}function R(e,n){M=!1,F&&(F=!1,i()),P=!0;var o=T;try{for(I(n),O=x(E);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=O.callback;if("function"===typeof a){O.callback=null,T=O.priorityLevel;var s=a(O.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?O.callback=s:O===x(E)&&C(E),I(n)}else C(E);O=x(E)}if(null!==O)var u=!0;else{var l=x(S);null!==l&&r(L,l.startTime-n),u=!1}return u}finally{O=null,T=o,P=!1}}var D=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||P||(M=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return x(E)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=D,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:k++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,w(S,e),null===x(E)&&e===x(S)&&(F?i():F=!0,r(L,a-s))):(e.sortIndex=u,w(E,e),M||P||(M=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,u.params)(e,e.location?e.location.search:window.location.search);return r.default.createElement("main",null,r.default.createElement(i.Provider,{value:c},r.default.createElement(o.BaseProvider,{theme:!1===t.dark?o.LightTheme:o.DarkTheme},r.default.createElement(s.default,t))))};var r=l(n(2791)),i=n(29),o=n(5602),a=n(6929),s=l(n(1241));n(8862);var u=n(6946);function l(e){return e&&e.__esModule?e:{default:e}}var c=new a.Client},9639:function(e,t){"use strict";function n(e,n){Object.defineProperty(t,e,{value:n,enumerable:!0})}n("PRD_URL","https://tgve.github.io/tgvejs"),n("DEV_URL","http://localhost:8000"),n("UI_LIST",["checkbox","radio","buttongroups","dropdown","slider"]),n("DECK_LAYER_NAMES",["arc","geojson","grid","heatmap","hex","icon","line","path","scatterplot","sgrid","barvis"]),n("LAYERS_2D_REGEX","sgrid|scatter|geojson|line|path"),n("NO_LEGEND_LAYERS_REGEX","hex|grid|sgrid|text|heatmap|icon"),n("DECKGL_INIT",{longitude:-1.6362,latitude:53.8321,zoom:10,pitch:55,bearing:0}),n("LIGHT_SETTINGS",{lightsPosition:[-.144528,49.739968,8e3,-3.807751,54.104682,8e3],ambientRatio:.4,diffuseRatio:.6,specularRatio:.2,lightsStrength:[.8,0,.8,0],numberOfLights:2}),n("PLOT_W",250),n("TURQUOISE_RANGE",["#12939A","#1293FF"]),n("BLANKSTYLE",{version:8,name:"Blank",center:[0,0],zoom:0,sources:{},layers:[{id:"background",type:"background",paint:{"background-color":"rgba(255,255,255,1)"}}],id:"blank"}),n("ICONLIMIT",500),n("ELEVATION",4),n("RADIUS",100),n("DATE_REGEX","date|time|datetime|year"),n("BOTTOM_PANEL_MARGIN_LEFT",340),n("BOTTOM_PANEL_MARGIN_RIGHT",60),n("BOTTOM_PANEL_MARGIN_BOTTOM",30),n("BOTTOM_PANEL_HEIGHT",120),n("LEGEND_MIN_HEIGHT",100)},5744:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=d((0,i.useState)(!1),2),n=t[0],r=t[1],s=d((0,i.useState)(!1),2),l=s[0],A=s[1],f=d((0,i.useState)([]),2),h=f[0],p=f[1],b=e.data,_=e.onSelectCallback,w=e.dark,x=e.noAccordion,C=e.plotStyle,B=e.noLimit;if(!b||0===b.length)return null;var E=Object.keys(b[0].properties);return i.default.createElement("div",null,i.default.createElement("h6",null,"Generate graphs from columns"),i.default.createElement("div",{className:"searchField"},i.default.createElement(u.default,{single:!0,title:"Choose column",values:E.map((function(e){return{id:(0,c.humanize)(e),value:e}})),onSelectCallback:function(e){r(e),"function"===typeof _&&_(e)},value:n}),n.length>0&&i.default.createElement(u.default,{single:!0,title:"Choose vis",values:y.map((function(e){return{id:e,value:e}})),onSelectCallback:function(e){A(e)},value:l})),i.default.createElement(o.Button,{kind:o.KIND.secondary,size:o.SIZE.compact,onClick:function(){var e;0!==n.length&&0!==l.length&&n[0]&&p([].concat(function(e){if(Array.isArray(e))return v(e)}(e=h)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[m(b,n[0].value,l[0].value,C,w,B)]))}},"Add"),i.default.createElement("div",{className:"visArea"},x?i.default.createElement("center",null,h.map((function(e,t){return e&&i.default.createElement("div",null,i.default.createElement(o.Button,{kind:o.KIND.secondary,size:o.SIZE.compact,onClick:function(){p(h.filter((function(e,n){return t!==n})))}},"X"),e)}))):i.default.createElement(a.Accordion,{expanded:!0,onChange:function(e){var t=e.expanded;return console.log(t)}},h.map((function(e,t){return i.default.createElement(a.Panel,{key:"panel-"+t},i.default.createElement(o.Button,{kind:o.KIND.secondary,size:o.SIZE.compact,onClick:function(){p(h.filter((function(e,n){return t!==n})))}},"X"),e)})))))};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=n(4021),a=n(9003),s=n(2419),u=h(n(8262)),l=h(n(9713)),c=n(3678),A=n(7199),f=h(n(4703));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=["Vertical Bar","Horizontal Bar","Line","Pop. Pyramid","Treemap"];function m(e,t,n,r,o,a){if(e&&0!==e.length&&(0,A.isString)(t)&&(0,A.isString)(n)){var u=(0,c.xyObjectByProperty)(e,t);return"Treemap"===n?i.default.createElement(l.default,{plotStyle:r,data:{title:t+" "+n,color:1,children:u.map((function(t,n){return{name:t.x,size:+t.y/e.length,color:(0,A.isNumber)(t.x)||n,style:{border:"thin solid red"}}}))},title:(0,c.humanize)(t)}):n.startsWith("Vertical")||n.startsWith("Horizontal")||n.startsWith("Line")?i.default.createElement(f.default,{dark:a,noLimit:o,plotStyle:r,data:u,type:n.startsWith("Vertical")?s.VerticalBarSeries:n.startsWith("Horizontal")?s.HorizontalBarSeries:s.LineSeries,title:(0,c.humanize)(t),noYAxis:!0}):void 0}}},313:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(u=(0,i.useState)(0),l=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(u,l)||function(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(u,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],r=t[1],a=e.colourCallback;var u,l;return i.default.createElement("div",{className:"color-picker-container"},i.default.createElement("p",null,"Color:"),o.colorRangeNames.map((function(e,t){return i.default.createElement("div",{key:e,style:{backgroundColor:0===t?"red":1===t?"blue":2===t?"green":3===t?"orange":4===t?"brown":"yellow"},className:"color-box"+(n===t?" color-box-active":""),onClick:function(){r(t),"function"===typeof a&&a(e)}})})))};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=n(3678);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},5219:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2791)),o=a(n(8262));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(c,e);var t,n,r,a=l(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={bases:["No map"].concat(["dark","basic","streets","bright","light","satellite"]),selected:e.dark?"dark":"streets"},t}return t=c,(n=[{key:"render",value:function(){var e=this,t=this.state,n=t.selected,r=t.bases,a=this.props,s=a.onSelectCallback,u=a.dark;return i.default.createElement(o.default,{title:"dark"===n?"Default(dark)":u?n:"Default(streets)",single:!0,values:r.map((function(e){return{id:e,value:e}})),onSelectCallback:function(t){t&&t.length&&(e.setState({selected:t[0].value}),"function"===typeof s&&s(t[0].value))}})}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.default.Component);t.default=f},3303:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=n(4021),a=n(2384),s=n(3678);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=l(i.useState(!1),2),n=t[0],r=t[1],u=e.toggleOpen,c=e.title,A=e.component,f=e.button;return i.createElement(i.Fragment,null,(0,s.iWithFaName)(f||"fa fa-table",(function(){"function"===typeof u&&u(),r(!0)}),{},"Quick look"),i.createElement(a.Modal,{size:"80%",onClose:function(){"function"===typeof u&&u(),r(!1)},isOpen:n},i.createElement(a.ModalHeader,null,c),i.createElement(a.ModalBody,null,A),i.createElement(a.ModalFooter,null,i.createElement(o.Button,{kind:o.KIND.secondary,size:o.SIZE.compact,onClick:function(){r(!1),"function"===typeof u&&u()}},"Okay"))))}},8262:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=n(972);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=s((0,i.useState)([]),2),n=t[0],r=t[1],a=e.onSelectCallback,u=e.values,l=e.filter,c=e.multiVarSelect,A=e.title,f=e.single;return i.default.createElement(o.Select,{options:u,labelKey:"id",valueKey:"value",placeholder:A||"Choose",maxDropdownHeight:"300px",type:o.TYPE.search,multi:!f,onChange:function(e){var t=e.value;r(t),c?(0===Object.keys(t).length?delete c[l]:c[l]=new Set(t.map((function(e){return e.value}))),"function"===typeof a&&a(0===Object.keys(c).length?{what:""}:{what:"multi",selected:c})):"function"===typeof a&&a(t)},value:e.value||n})}},6421:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=n(2518);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alert;return t?i.createElement(o.Notification,{overrides:{Body:{style:function(){return{width:"100%"}}}},kind:t&&t.kind||o.KIND.warning,autoHideDuration:t&&+t.time||3e3},t.content):null}},8357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(c=i.default.useState(1),A=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(c,A)||function(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(c,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],r=t[1],l=e.data;var c,A;if(!l||0===l.length)return null;var f=Math.floor(l.length/10),h=Object.keys(l[0].properties).map((function(e){return(0,s.humanize)(e)})),p=l.slice(10*n,10*n+10).map((function(e){return Object.keys(e.properties).map((function(t){return e.properties[t]}))}));return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.Pagination,{numPages:f,currentPage:n,onPageChange:function(e){var t=e.nextPage;r(Math.min(Math.max(t,1),f))}}),i.default.createElement(o.Table,{columns:h,data:p}),i.default.createElement(a.Pagination,{numPages:f,currentPage:n,onPageChange:function(e){var t=e.nextPage;r(Math.min(Math.max(t,1),f))}}))};var r,i=(r=n(2791))&&r.__esModule?r:{default:r},o=n(3315),a=n(4249),s=n(3678);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},9713:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(f=(0,i.useState)(!1),h=2,function(e){if(Array.isArray(e))return e}(f)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(f,h)||function(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(f,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],r=t[1],o=e.data,a=e.plotStyle,s=e.title,A={animation:{damping:9,stiffness:300},data:o,onLeafMouseOver:function(e){return r({hoveredNode:e})},onLeafMouseOut:function(){return r({hoveredNode:!1})},mode:"squarify",getLabel:function(e){return e.name},width:a&&a.width||c+50,height:a&&a.height||c};var f,h;return o&&0!==o.length?i.default.createElement("div",{className:"dynamic-treemap-example"},i.default.createElement("h6",null,s),i.default.createElement(l,A),n&&n.value):null};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=n(2419),a=n(9639);function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,o.makeWidthFlexible)(o.Treemap),c=a.PLOT_W},9763:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(2791))&&i.__esModule?i:{default:i},a=n(9072),s=n(5569),u=n(4021),l=n(5385),c=n(972),A=n(3678);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(d,e);var t,n,r,i=p(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=i.call(this,e)).state={checks:[]},t}return t=d,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.sublist,i=t.suggested,f=t.onChange,h=t.steps;if(!n||!r||0===r.length)return null;var p=this.state.checks,d=i||(0,A.suggestUIforNumber)(r.length),g=null;if("checkbox"===d)g=o.default.createElement(o.default.Fragment,null,r.map((function(t,n){return o.default.createElement(s.Checkbox,{key:t,checked:e.state.checks[n],value:t,onChange:function(){p[n]=!p[n],e.setState({checks:p})}},t)})));else if("slider"===d&&parseInt(r[0])){var v=r;g=o.default.createElement(o.default.Fragment,null,o.default.createElement(a.Slider,{value:this.state.value||[v[0]],min:parseInt(v[0]),max:parseInt(v[v.length-1]),step:h||1,onChange:function(t){var n=t.value;e.setState({value:n}),"function"===typeof f&&f(n[0])}}),n)}else g="buttongroups"===d?o.default.createElement(o.default.Fragment,null,"Checkbox Mode StatefulButtonGroup",o.default.createElement(l.StatefulButtonGroup,{mode:"checkbox",initialState:{selected:[0]}},r.map((function(e,t){return o.default.createElement(u.Button,{key:e+"-"+t,value:e,onClick:function(e){return console.log(e.target.value)}},e)})))):o.default.createElement(c.StatefulSelect,{options:r.map((function(e){return{id:e}})),labelKey:"id",placeholder:"Choose "+(0,A.humanize)(n),type:c.TYPE.search,onChange:function(e){return console.log(e&&e.value[0]&&e.value[0].id)}});return g}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(o.default.Component);t.default=v},1522:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onSelectCallback,n=e.multiVarSelect,r=e.unfilteredData,o=(p=(0,i.useState)(n&&Object.keys(n).map((function(e){return{id:e,value:e}}))),d=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(p,d)||function(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(p,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),A=o[0],h=o[1];var p,d;if(!r||!r[0])return null;if(r&&0===Object.keys(r[0].properties).filter((function(e){return!(0,s.isEmptyOrSpaces)(e)})).length)return i.default.createElement("h3",null,"There are no columns to inspect or filter.");var g=(0,u.describeFeatureVariables)(r[0].properties),v=Object.keys(r[0].properties).map((function(e){return{id:(0,a.humanize)(e)+" ["+g[e].name+"]",value:e}})),y=Array.from(new Set(A.map((function(e){return e.value})).concat(Object.keys(n))));return y=y.map((function(e){return{id:(0,a.humanize)(e)+" ["+g[e].name+"]",value:e}})),i.default.createElement("div",{style:e.style},"Column to filter:",i.default.createElement(l.Select,{labelKey:"id",valueKey:"value",placeholder:"Chose column ("+v.length+")",maxDropdownHeight:"300px",type:l.TYPE.search,multi:!0,onChange:function(e){var r=e.value,i=r.map((function(e){return e.value}));Object.keys(n).map((function(e){i.includes(e)||delete n[e]})),"function"===typeof t&&t(n),h(r)},value:y,options:v}),y&&y.map((function(e){return e.value})).map((function(e){var o=[];return r.forEach((function(t){return Object.keys(t.properties).forEach((function(n){return n===e&&t.properties[e]&&!o.includes(t.properties[e])&&o.push(t.properties[e])}))})),i.default.createElement(i.default.Fragment,{key:e},(0,a.humanize)(e),i.default.createElement(c.default,{title:"Available ("+o.length+")",filter:e,multiVarSelect:n,values:o.map((function(e){return{id:e+"",value:e+""}})),onSelectCallback:function(e){"function"===typeof t&&t(e.selected||{})},value:n[e]&&Array.from(n[e]).map((function(e){return{id:e+"",value:e+""}}))}))})))};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791));n(5134);var o,a=n(3678),s=n(7199),u=n(5789),l=n(972),c=(o=n(8262))&&o.__esModule?o:{default:o};function A(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},3764:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(2791))&&r.__esModule?r:{default:r},o=n(7568),a=n(7199),s=n(3678);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}n(9434);t.default=function(e){var t=e.data,n=e.lineAttrs,r=e.plotStyle;if(!t||!Array.isArray(t)||0===t.length)return null;var l=!0;if(t.forEach((function(e){(0,a.isNumber)(e)||(l=!1)})),!l)return null;var c=r&&r.height||100,A=t.sort(o.ascending);A=A.map((function(e){return(0,s.convertRange)(e,{oldMax:A[A.length-1],oldMin:A[0],newMax:95,newMin:5})}));var f=+(0,o.quantile)(A,.25).toFixed(2),h=+(0,o.quantile)(A,.5).toFixed(2),p=+(0,o.quantile)(A,.75).toFixed(2),d=+(p-f).toFixed(2),g=+(f-1.5*d).toFixed(2),v=+(f+1.5*d).toFixed(2),y=A.filter((function(e){return e>v||e<g})),m=t;return t.length>5&&(m=[],t.forEach((function(e,n){var r=Math.floor(t.length/5);if(1===r&&(r=2),n%r===0){var i=Math.floor(e);i>1e3&&(i=(i/1e3).toFixed(1)+"k"),m.push(i)}}))),i.default.createElement("div",{style:{width:"100%",height:c,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}},i.default.createElement("div",{style:{width:"100%",height:"100%",maxWidth:"600px"}},i.default.createElement("svg",{width:"100%",height:"100%"},i.default.createElement("g",{style:{stroke:r&&r.lineColor||"rgb(18, 147, 154)"}},i.default.createElement("line",u({x1:g+"%",x2:f+"%",y1:"35%",y2:"35%"},n)),i.default.createElement("line",u({style:{strokeWidth:1},x1:g+"%",x2:g+"%",y1:"5%",y2:"65%"},n)),i.default.createElement("line",u({x1:v+"%",x2:p+"%",y1:"35%",y2:"35%"},n)),i.default.createElement("line",u({style:{strokeWidth:1},x1:v+"%",x2:v+"%",y1:"5%",y2:"65%"},n)),i.default.createElement("rect",{x:f+"%",width:d+"%",y:"5%",height:"60%",fill:r&&r.fillColor||"rgb(18, 147, 154)",stroke:"black 0.5px"}),i.default.createElement("line",u({style:{stroke:"black",strokeWidth:1},x1:h+"%",x2:h+"%",y1:"5%",y2:"65%"},n)),y.map((function(e,t){return i.default.createElement("circle",{key:e+"-"+t,r:"5",cx:(e>v?e+2:e-2)+"%",cy:"35%",style:{fill:"none",opacity:1}})})),m&&m.map((function(e,t){var n=t*(100/m.length);return i.default.createElement("g",{key:n+"-"+t},i.default.createElement("text",{x:n+2+"%",y:"85%",className:"d3-axis-labels"},e))}))))))}},353:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(430),a=(i=n(1561))&&i.__esModule?i:{default:i},s=n(5771);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){return c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=A(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},c.apply(this,arguments)}function A(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(A,e);var t,n,r,i=h(A);function A(){return u(this,A),i.apply(this,arguments)}return t=A,(n=[{key:"getShaders",value:function(){return c(d(A.prototype),"getShaders",this).call(this,{vs:"\n  attribute vec3 positions;\n  attribute vec3 instancePositions;\n  attribute vec3 instancePositions64Low;\n  attribute float instanceRadius;\n  attribute vec4 instanceColors;\n  attribute float instanceScale;\n  attribute float instanceRotationAngle;\n  // attribute float instanceWidth;\n  // for onHover to work must\n  // delcare instancePickingColors here and assign it to\n  // geometry.pickingColor\n  // and then register DECKGL_FILTER_COLOR hook in\n  // fragment shader\n  attribute vec3 instancePickingColors;\n\n  varying vec4 vColor;\n  varying vec2 vPosition;\n\n  vec2 rotate_by_angle(vec2 v, float angle) {\n    float angle_radian = angle * PI / 180.0;\n    float cos_angle = cos(angle_radian);\n    float sin_angle = sin(angle_radian);\n    // v.x = v.x * cos_angle - v.x * sin_angle;\n    // v.y = v.y * sin_angle + v.y * cos_angle;\n    mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n    return rotationMatrix * v;\n  }\n\n  void main(void) {\n    geometry.pickingColor = instancePickingColors;\n\n    vec3 offsetCommon = positions * project_size(instanceRadius);\n    offsetCommon = vec3(rotate_by_angle(offsetCommon.xy, instanceRotationAngle), 0);\n    offsetCommon.x = offsetCommon.x * 8.0;\n    offsetCommon.y = offsetCommon.y * 3.0;\n    // width if active\n    // offsetCommon = offsetCommon.x + offsetCommon.x / instanceWidth;\n\n    offsetCommon = offsetCommon * instanceScale;\n\n    vec3 positionCommon = project_position(instancePositions, instancePositions64Low);\n    // missx: So in your shader, positionCommon is the anchor position on the map.\n    // offsetCommon is the local coordinate relative to the anchor\n    // You want to leave the anchor alone and rotate the offset\n\n    gl_Position = project_common_position_to_clipspace(vec4(positionCommon + offsetCommon, 1.0));\n\n    vPosition = positions.xy;\n    vColor = instanceColors;\n    DECKGL_FILTER_COLOR(vColor, geometry);\n\n  }",fs:"\n  precision highp float;\n\n  varying vec4 vColor;\n  varying vec2 vPosition;\n\n  void main(void) {\n    gl_FragColor = vColor;\n    DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n  }",modules:[o.project32,o.picking]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:a.default.DOUBLE,accessor:"getPosition"},instanceRadius:{size:1,accessor:"getRadius",defaultValue:1},instanceColors:{size:4,type:a.default.UNSIGNED_BYTE,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceScale:{size:1,accessor:"getScale",defaultValue:1},instanceRotationAngle:{size:1,accessor:"getRotationAngle",defaultValue:1}})}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags;if(c(d(A.prototype),"updateState",this).call(this,{props:t,oldProps:n,changeFlags:r}),r.extensionsChanged){var i=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(i)})}}},{key:"draw",value:function(e){var t=e.uniforms;this.state.model.setUniforms(t).draw()}},{key:"_getModel",value:function(e){return new s.Model(e,Object.assign(this.getShaders(),{id:this.props.id,geometry:new s.Geometry({drawMode:a.default.TRIANGLE_STRIP,vertexCount:6,attributes:{positions:{size:2,value:new Float32Array([-.1,-1,.1,-1,-.1,1,-.1,1,.1,1,.1,-1])}}}),isInstanced:!0}))}}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),A}(o.Layer);t.default=g,g.layerName="BarLayer",g.defaultProps={getPosition:{type:"accessor",value:function(e){return e.position}},getRadius:{type:"accessor",value:30},getColor:{type:"accessor",value:[0,0,0,255]},getScale:{type:"accessor",value:1},getRotationAngle:{type:"accessor",value:1}}},5842:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=A(n(2791)),o=n(2419),a=n(5789),s=n(3678),u=n(2736),l=A(n(3764)),c=A(n(4703));function A(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(d,e);var t,n,r,A=p(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=A.call(this,e)).state={multiVarSelect:e.multiVarSelect},t}return t=d,(n=[{key:"shouldComponentUpdate",value:function(e){var t=this.props.data;if(!t&&!e.data)return!1;var n=Math.floor(Math.random()*t.length);return t.length!==e.data.length||JSON.stringify(t[n])!==JSON.stringify(e.data[n])}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.column,A=t.dark,f=t.onSelectCallback,h=this.state.multiVarSelect;if(!n||!n.length)return null;var p=n&&n.length>1,d=p?(0,a.arrayPlotProps)(n,r):[],g=(0,a.propertyCount)(n,"accident_severity"),v=[];return i.default.createElement(i.default.Fragment,null,v.length>1&&i.default.createElement(l.default,{data:v}),g&&g.map((function(t){return(0,s.percentDiv)(t.x,100*t.y/n.length,(function(){h&&h.accident_severity&&h.accident_severity.has(t.x)?delete h.accident_severity:(h.accident_severity=new Set([t.x]),e.setState({multiVarSelect:h})),f&&f(0===Object.keys(h).length?{what:""}:{what:"multi",selected:h})}),A)})),p&&(0,u.plotByProperty)(n.filter((function(e){return Boolean(e.properties.age_of_casualty)})),"age_of_casualty",A,void 0,!0),(0,u.plotByPropertyByDate)(n,"sex_of_casualty",A),i.default.createElement(c.default,{dark:A,data:d.data,type:o.VerticalBarSeries,onValueClick:function(t){h[r||barChartVariable]=new Set([t.x+""]),e.setState({multiVarSelect:h}),f&&f({what:"multi",selected:h})},onDragSelected:function(t){h[r||barChartVariable]=new Set(t.map((function(e){return e+""}))),e.setState({multiVarSelect:h}),f&&f({what:"multi",selected:h})},plotStyle:{marginBottom:100},noYAxis:!0}),(0,u.popPyramidPlot)({data:n,dark:A}))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.Component);t.default=v},7717:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=E(n(2791)),o=n(4021),a=n(8182),s=n(638),u=n(5569),l=n(3393);n(4305);var c=E(n(9158)),A=E(n(5219)),f=n(3678),h=E(n(1522)),p=E(n(6421)),d=E(n(313)),g=E(n(3303)),v=E(n(8357)),y=n(7199),m=E(n(8262)),b=E(n(5744)),_=E(n(9601)),w=n(934),x=E(n(3128)),C=E(n(5842)),B=n(1199);function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var i=L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var R=n(2307),D=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(S,e);var t,n,r,E=F(S);function S(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),(t=E.call(this,e)).state={radius:100,reset:!1,multiVarSelect:e.multiVarSelect||{},barChartVariable:"",datasetName:e.datasetName},t}return t=S,(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.data,i=n.alert,o=n.layerName,a=n.column,s=n.subsetBoundsChange,u=n.hideChartGenerator,l=n.hideCharts,c=n.datasetName,A=this.state,f=A.reset,h=A.barChartVariable;if(f!==t.reset||i!==e.alert||s!==e.subsetBoundsChange||h!==t.barChartVariable||c!==e.datasetName||a!==e.column||o!==e.layerName||u!==e.hideChartGenerator||l!==e.hideCharts)return!0;if(!r&&!e.data)return!1;var p=Math.floor(Math.random()*r.length);return JSON.stringify(r[p])!==JSON.stringify(e.data[p])}},{key:"render",value:function(){var e=this,t=this.state,n=t.multiVarSelect,r=t.barChartVariable,E=t.datasetName,S=this.props,O=S.onLayerOptionsCallback,P=S.onSelectCallback,M=S.data,F=S.colourCallback,I=S.unfilteredData,L=S.toggleSubsetBoundsChange,D=S.urlCallback,Z=S.alert,U=S.layerName,j=S.onlocationChange,N=S.column,z=S.dark,Q=S.toggleOpen,H=S.toggleHexPlot,V=S.hideChartGenerator,G=S.hideCharts,W=M&&M.length>1,K=!U||new RegExp("grid|sgrid|hex|scatter","i").test(U),q=W&&Object.keys(M[0].properties).filter((function(e){return!(0,y.isEmptyOrSpaces)(e)})),X=function(t,n){e.setState({reset:!n,multiVarSelect:{},barChartVariable:"",datasetName:t||e.props.datasetName})},Y={TabPanel:{component:function(e){return i.default.createElement(l.StyledTabPanel,T({},e,{$pad:!1}))}}};return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{style:k({},(0,f.theme)(z)),className:"side-panel"},i.default.createElement(p.default,{alert:Z}),(0,B.headerComponent)(i.default.createElement(i.default.Fragment,null,i.default.createElement("h2",null,(0,f.getMainMessage)(M,I)),W&&i.default.createElement("h6",{className:"truncate"},"dataset: ",(0,f.firstLastNCharacters)(E,15)))),i.default.createElement("div",null,i.default.createElement(c.default,{toggleOpen:Q,urlCallback:function(e){var t=e.geojson,n=e.name,r=e.geography,i=e.geoColumn;X(n),"function"===typeof D&&D({geojson_returned:t,geography_returned:r,geoColumn:i,reset:!0})}}),this.state.reset&&(!Z||!Z.content.includes("Could not reach:"))&&i.default.createElement(o.Button,{kind:o.KIND.secondary,size:o.SIZE.compact,onClick:function(){X(void 0,!0),"function"===typeof D&&D({reset:!0})}},"Reset"),W&&i.default.createElement(g.default,{toggleOpen:Q,component:i.default.createElement(v.default,{data:M})}),i.default.createElement(x.default,{data:M,notEmpty:W,map:this.props.map,deck:this.props.deck})),i.default.createElement("div",{className:"side-panel-body"},i.default.createElement("div",{className:"side-panel-body-content"},i.default.createElement("hr",{style:{clear:"both"}}),i.default.createElement(l.StatefulTabs,{initialState:{activeKey:"0"},id:"main-tabs"},i.default.createElement(l.Tab,{title:(0,f.iWithFaName)("fa fa-info",void 0,{fontSize:"2rem"},"Explore"),overrides:Y},!V&&i.default.createElement(b.default,{data:M,dark:z,plotStyle:{width:270,margin:10}}),W&&q.length>0&&"grid"!==U&&i.default.createElement(i.default.Fragment,null,i.default.createElement("h6",null,"Column for layer:"),i.default.createElement(m.default,{title:"Choose Column",single:!0,value:N&&{id:(0,f.humanize)(N),value:N},values:q.map((function(e){return{id:(0,f.humanize)(e),value:e}})),onSelectCallback:function(t){var n=t&&t[0]?t[0].value:r;e.setState({barChartVariable:n}),"function"===typeof P&&P({what:"column",selected:n})}})),!G&&i.default.createElement(C.default,this.props)),i.default.createElement(l.Tab,{title:(0,f.iWithFaName)("fa fa-sliders",void 0,{fontSize:"2rem"},"Settings"),overrides:Y},W&&(0,B.headerComponent)(i.default.createElement(d.default,{colourCallback:function(e){return"function"===typeof F&&F(e)}})),W&&i.default.createElement(i.default.Fragment,null,i.default.createElement("h6",null,"Deck Layer:"),i.default.createElement(m.default,{title:"Choose Layer",single:!0,values:w.LAYERS.map((function(e){return{id:(0,f.humanize)(e),value:e}})),onSelectCallback:function(t){if(t&&t[0]){var n=t[0].value;e.setState({layerName:n}),"function"===typeof P&&P({what:"layerName",selected:n})}}}),i.default.createElement(_.default,{layerName:U,columnNames:q,layerOptions:this.props.layerOptions,onLayerOptionsCallback:function(e){"function"===typeof O&&O(k({},e))}})),(0,B.headerComponent)(i.default.createElement(i.default.Fragment,null,"Map Styles",i.default.createElement("br",null),i.default.createElement(A.default,{dark:z,onSelectCallback:function(e){return P&&P({selected:e,what:"mapstyle"})}}))),W&&K&&i.default.createElement(u.StatefulCheckbox,{onChange:function(){return H&&H()}},"Hex Plot"),W&&i.default.createElement(u.Checkbox,{checked:this.props.subsetBoundsChange,onChange:function(){return"function"===typeof L&&L()}},"Subset by map boundary")),I&&I.length>0&&i.default.createElement(l.Tab,{title:i.default.createElement("i",{style:{fontSize:"2rem"},className:"fa fa-filter"},n&&Object.keys(n).length?Object.keys(n).length:""),overrides:Y},(0,B.headerComponent)(i.default.createElement(h.default,{multiVarSelect:n,onSelectCallback:function(t){"function"===typeof P&&P(0===Object.keys(t).length?{what:""}:{what:"multi",selected:t}),e.setState({multiVarSelect:t})},unfilteredData:I}))))),this.props.leftSidebarContent,i.default.createElement("div",{className:"space"}),W&&(0,B.headerComponent)("Vis: "+(U||"None")),i.default.createElement("form",{className:"search-form",onSubmit:function(t){t.preventDefault(),(0,f.searchNominatom)(e.state.search,(function(e){var t=e&&e.length>0&&e[0].boundingbox;t=t&&t.map((function(e){return+e})),"function"===typeof j&&t&&j({bbox:t,lon:+e[0].lon,lat:+e[0].lat})}))}},i.default.createElement(s.FormControl,null,i.default.createElement(a.Input,{id:"search-nominatum",placeholder:"fly to ...",value:this.state.search,onChange:function(t){var n=t.target.value;return e.setState({search:n})},endEnhancer:"\ud83c\udf10"}))),i.default.createElement("p",null,"TGVE: ",R.version))))}}])&&P(t.prototype,n),r&&P(t,r),Object.defineProperty(t,"prototype",{writable:!1}),S}(i.default.Component);t.default=D},1504:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=c((0,i.useState)(!e.isMobile),2),n=t[0],r=t[1],s=c((0,i.useState)(!1),2),u=s[0],A=s[1];return(0,i.useEffect)((function(){}),[e.bottomPanel]),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"side-panel-container",style:{marginLeft:n?0:"-320px"}},i.default.createElement(o.default,l({},e,{toggleOpen:function(){return r((function(e){return!e}))},toggleHexPlot:function(){return A((function(e){return!e}))}})),u&&i.default.createElement(a.default,{open:n,isMobile:e.isMobile,data:e.data}),i.default.createElement("div",{className:"close-button",onClick:function(){return r(!n)},style:{color:"white"}},i.default.createElement("div",{style:{backgroundColor:"#242730"}},i.default.createElement("i",{style:{marginLeft:0,fontSize:"2rem",color:"white !important"},className:n?"fa fa-arrow-circle-left":"fa fa-arrow-circle-right"})))))};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=s(n(7717)),a=s(n(3375));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},3375:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),a=(i=n(6665))&&i.__esModule?i:{default:i},s=n(5789);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=l((0,o.useState)(!1===e.isMobile),2),n=t[0],r=t[1];(0,o.useEffect)((function(){!0!==e.open&&r(e.open)}),[e.open]);var i=e.data,u=i&&i.length>1;return u&&"POINT"===i[0].geometry.type.toUpperCase()?o.default.createElement("div",{style:{marginRight:n?0:-350},className:"right-panel-container"},o.default.createElement("div",{className:"close-button",onClick:function(){return r(!n)},style:{color:"white"}},o.default.createElement("i",{style:{marginLeft:-16,bottom:0,position:"absolute",backgroundColor:"#242730",fontSize:"2rem",color:"white !important"},className:n?"fa fa-arrow-circle-right":"fa fa-arrow-circle-left"})),o.default.createElement("div",{className:"right-side-panel"},u&&o.default.createElement(a.default,{data:(0,s.coordsAsXY)({features:i}),options:{noXAxis:!0,noYAxis:!0}}))):null}},1199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headerComponent=void 0;var r,i=(r=n(2791))&&r.__esModule?r:{default:r},o=n(5602);t.headerComponent=function(e){var t=(0,o.styled)("div",(function(e){return{backgroundColor:e.$theme.colors.backgroundTertiary,padding:"10px",borderRadius:"5px",marginBottom:"20px"}}));return i.default.createElement(t,null,e)}},3128:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(g=(0,o.useState)(!1),v=2,function(e){if(Array.isArray(e))return e}(g)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(g,v)||function(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(g,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],r=t[1],i=e.notEmpty,A=e.map,f=e.deck;var g,v;return i?o.default.createElement(a.StatefulPopover,{placement:"top",dismissOnEsc:!1,dismissOnClickOutside:!0,accessibilityType:"tooltip",content:function(t){var n=t.close;return o.default.createElement(s.Block,{padding:"5px","data-html2canvas-ignore":"true"},(0,l.iWithFaName)("fa fa-times",n,{},"Close"),o.default.createElement(c.default,{map:A,deck:f}),i&&p(e.data),(0,l.iWithFaName)("fa fa-copy",(function(){window.location&&d(window.location.href,(function(e){e?(r("Link copied to clipboard"),n()):window.prompt("Copy to clipboard: Ctrl+C, Enter",window.location.href)}))}),{},"Copy URL"))}},o.default.createElement("i",{role:"button",title:"save, download or share"},(0,l.iWithFaName)("fa fa-share-alt-square",void 0,{},"Share"),n&&o.default.createElement(u.Notification,{overrides:{Body:{style:{width:"auto"}}},kind:u.KIND.positive,autoHideDuration:3e3,onClose:function(){return r(!1)}},(function(){return n})))):o.default.createElement(c.default,{map:A,deck:f})};var i,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),a=n(9133),s=n(3890),u=n(2518),l=n(3678),c=(i=n(4817))&&i.__esModule?i:{default:i},A=n(7199);function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t){var n="tgve-span-download";return o.default.createElement("span",{onClick:function(){var r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({type:"FeatureCollection",features:e})),i=document.getElementById(n);i.setAttribute("href",r),i.setAttribute("download",t||"tgve-data.geojson"),i.click()}},o.default.createElement("a",{id:n,style:{display:"none"}}),o.default.createElement("i",{style:{margin:5,cursor:"pointer",fontSize:"1.5em"},className:"fa fa-download"}))},d=function(e,t){(0,A.isString)(e)&&(navigator.clipboard?navigator.clipboard.writeText(e).then((function(){"function"===typeof t&&t(!0)}),(function(e){"function"===typeof t&&t(!1)})):"function"===typeof t&&t(!1))}},4817:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=A(i.useState(!1),2),n=t[0],r=t[1],c=A(i.useState(!1),2),f=c[0],p=c[1],d=A(i.useState(!1),2),g=d[0],v=d[1],y=A(i.useState(!1),2),m=y[0],b=y[1],_=e.map,w=e.deck;return i.useEffect((function(){n&&(v((function(e){return!e})),(0,l.screenshot)(_,w,!m,(function(e){var t=e.toDataURL("image/png").replace("image/png","image/octet-stream");p(t),v((function(e){return!e}))})))}),[n,m]),i.createElement(i.Fragment,null,(0,l.iWithFaName)("fa fa-save",(function(){return r((function(e){return!e}))}),{},"Save"),i.createElement(u.Modal,{isOpen:n},i.createElement(u.ModalHeader,{"data-html2canvas-ignore":"true"},g?i.createElement(a.Spinner,null):"Screenshot Preview"),i.createElement(u.ModalBody,{"data-html2canvas-ignore":"true"},i.createElement(o.Card,{overrides:{Root:{style:{width:"100%"}}},headerImage:f})),i.createElement(u.ModalFooter,{"data-html2canvas-ignore":"true"},i.createElement(s.Checkbox,{"data-html2canvas-ignore":"true",checked:m,onChange:function(e){return b(e.target.checked)}},"No sidebar"),h("Download",(function(){var e=document.createElement("a");e.download="tgve-screenshot.png",e.href=f,e.click()})),h("Close",(function(){return r(!1)})))))};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=n(196),a=n(9069),s=n(5569),u=n(2384),l=n(3678);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e,t){return i.createElement(u.ModalButton,{"data-html2canvas-ignore":"true",kind:"tertiary",onClick:t},e)}},9158:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=f(i.useState(!1),2),n=t[0],r=t[1],c=f(i.useState(!1),2),A=c[0],h=c[1],d=f(i.useState(null),2),g=d[0],v=d[1],y=f(i.useState(null),2),m=y[0],b=y[1],_=e.urlCallback,w=e.toggleOpen,x=function(e){h(null),h(e)};function C(){h(null),r((function(e){return!e})),"function"===typeof w&&w()}return i.createElement(i.Fragment,null,i.createElement(o.Button,{kind:o.KIND.secondary,size:o.SIZE.compact,onClick:function(){C()}},"Add data"),i.createElement(a.Modal,{onClose:function(){C()},isOpen:n},i.createElement(a.ModalHeader,null,i.createElement(l.default,{alert:A}),"Your data remains on your browser. It is NOT uploaded anywhere."),i.createElement(a.ModalBody,null,i.createElement("p",null,"You can add remote data using the URL API. Like tgve.github.com/app?defaultURL=https://domain.com/data.geojson"),g?i.createElement("p",null,"Now add the geography"):i.createElement("p",null,"You can add separate data & geography files. First read a CSV file, then add the geography file (shap or geojson)."),i.createElement(u.default,{contentCallback:function(e){var t=e.textOrBuffer,n=e.name,r=e.type;if("function"===typeof _){var i=function(e,t){var i=0,o=e;t&&(o=t),o.features&&o.features.forEach((function(e){e.geometry||(i+=1)})),i===o.features.length?(!g&&v({json:e,name:n,type:r}),x({time:5e3,content:t?"Geography file has no geography.":"File has no geography. File saved as data file, add a geography file or remove & upload."})):(_({geojson:e||g.json,name:n,geography:t,geoColumn:m}),v(null),C())};B(r,t,g?function(e){i(null,e)}:function(e){i(e)})}}}),g&&i.createElement(i.Fragment,null,i.createElement("p",null,"Data file:",g&&" ".concat(g.name," , waiting for geography file. ")||" none",g&&i.createElement("i",{onClick:function(){v(null),h(null)},style:{fontSize:"2rem"},className:"fa fa-trash"})),i.createElement("p",null,"Type the geography column name or map data file column name to geography like `geo:geography`"),i.createElement(s.Input,{placeholder:"geo:geography",onChange:function(e){return b(e.target.value)}}))),i.createElement(a.ModalFooter,null,i.createElement(a.ModalButton,{onClick:function(){r(!1),"function"===typeof w&&w()}},"Close"))));function B(e,t,n){if(e.match(/json|geo/i))try{var r=JSON.parse(t);n(r)}catch(i){console.log(i)}else e.match(/zip/)?"function"===typeof shp?shp(t).then((function(e){n(e)})):x({time:5e3,content:"No shp in context or corrupt shapefile zip"}):p.csv2geojson(t,(function(e,t){if(e){var r=Array.isArray(e)&&e[0]&&e[0].message;x({time:5e3,content:"Invalid format. "+(r?"ERROR: "+r:"")})}else n(t)}))}};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=n(4021),a=n(2384),s=n(8182),u=c(n(2294)),l=c(n(6421));function c(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=n(5922)},2294:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=n(5707);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(c,e);var t,n,r,a=l(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={progressAmount:0},t.reset=t.reset.bind(A(t)),t.handleDrop=t.handleDrop.bind(A(t)),t.startProgress=t.startProgress.bind(A(t)),t}return t=c,(n=[{key:"handleDrop",value:function(e,t){var n=this,r=this.props.contentCallback,i=/text.*|json|geo/,o=e[0];if(o.type.match(i)||o.type.match(/zip/)){var a=new FileReader;a.onload=function(e){n.setState({progressAmount:100}),n.reset(),"function"===typeof r&&r({textOrBuffer:a.result,name:o.name,type:o.type})},o.type.match(i)&&a.readAsText(o),o.type.match(/zip/)&&a.readAsArrayBuffer(o)}else this.setState({progressAmount:100}),this.reset(),console.log("File not supported!");this.startProgress()}},{key:"startProgress",value:function(){var e=this;this.intervalId=setInterval((function(){e.state.progressAmount>=100?e.reset():e.setState({progressAmount:e.state.progressAmount+10})}),500)}},{key:"reset",value:function(){clearInterval(this.intervalId),this.setState({progressAmount:0})}},{key:"render",value:function(){return i.createElement("center",{className:"file-upload"},i.createElement(o.FileUploader,{multiple:!1,onCancel:this.reset,onDrop:this.handleDrop,progressAmount:this.state.progressAmount,progressMessage:this.state.progressAmount&&"Uploading... ".concat(this.state.progressAmount,"% of 100%")}))}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.Component);t.default=h},9601:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.layerName,n=e.columnNames,A=e.layerOptions,f=e.onLayerOptionsCallback,g=d(r.default.useState((0,o.getLayerProps)(t)),2),v=g[0],y=g[1],m=d(r.default.useState(Object.assign({},A)),2),b=m[0],_=m[1];return r.default.useEffect((function(){if(e.layerName){var t=(0,o.getLayerProps)(e.layerName);t&&(y(t),_(Object.assign({},e.layerOptions)))}}),[e.layerName]),v&&Object.keys(v)?r.default.createElement(c.Accordion,null,r.default.createElement(c.Panel,{title:"Settings: "+t},r.default.createElement("div",{style:{minWidth:220}},Object.keys(v).map((function(e){var t=v[e].type;return(0,s.isString)(t)&&function(e,t){if("class"===t)return null;switch(e){case"number":return r.default.createElement(r.default.Fragment,{key:t},t,r.default.createElement(u.Slider,{value:b[t]&&[b[t]]||[v[t].default],min:v[t].min,max:v[t].max,step:v[t].step,onChange:function(e){var n=e.value,r=h(h({},b),{},p({},t,n[0]));_(r),"function"===typeof f&&f(r)}}));case"boolean":return r.default.createElement(l.Checkbox,{key:t,checked:b.hasOwnProperty(t)?b[t]:v[t].value,onChange:function(){var e=h(h({},b),{},p({},t,!b[t]));_(e),"function"===typeof f&&f(e)}},(0,a.humanize)(t));default:return r.default.createElement(r.default.Fragment,{key:t},t,r.default.createElement(i.default,{title:(0,a.humanize)(t),single:!0,values:n&&n.map((function(e){return{id:(0,a.humanize)(e),value:e}})),onSelectCallback:function(e){var n=h({},b),r=function(n){var r="number"===v[t].value,i=n&&n.properties&&n.properties[e[0].value];return(0,s.isStringNumeric)(i)&&r&&(i=+i),i};n[t]=v[t].default,e.length&&(n[t]=r),_(n),"function"===typeof f&&f(n)}}))}}(t,e)}))))):null};var r=A(n(2791)),i=A(n(8262)),o=n(934),a=n(3678),s=n(7199),u=n(9072),l=n(5569),c=n(9003);function A(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLayerProps=t.LAYERS=void 0;var r=n(8212),i=s(n(6276)),o=s(n(353)),a=n(7199);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){return Object.keys(e).forEach((function(n){t[n]=e[n]})),t},l=function(e,t,n,r,i){return{type:e,min:t,max:n,default:r,step:i}},c={pickable:{type:"boolean",value:!0},extruded:{type:"boolean",value:!0},autoHighlight:{type:"boolean",value:!0}},A={},f={class:{value:r.HexagonLayer,type:"class"},extruded:{type:"boolean",value:!0},radius:l("number",50,1e3,100,50),elevationScale:l("number",1,8,1,2)};A.hex=u(c,f);var h={class:{value:r.ScatterplotLayer,type:"class"},opacity:l("number",0,1,.8,.1),getRadius:{type:"column",value:"number",default:30},radiusScale:l("number",0,1,.8,.1),radiusMinPixels:l("number",1,10,1,1),radiusMaxPixels:l("number",1,100,100,5)};A.scatterplot=u(c,h);var p={class:{value:r.GeoJsonLayer,type:"class"},pickable:{type:"boolean",value:!0},extruded:{type:"boolean",value:!1},stroked:{type:"boolean",value:!1},filled:{type:"boolean",value:!0},lineWidthScale:l("number",20,100,20,5),lineWidthMinPixels:l("number",2,20,2,2),getRadius:{type:"column",value:"number",default:30},getLineWidth:{type:"column",value:"number",default:1},getElevation:l("number",30,100,30,10)};A.geojson=p;var d={class:{value:i.default,type:"class"},wrapLongitude:{type:"boolean",value:!1}};A.icon=u(c,d);var g={class:{value:r.ScreenGridLayer,type:"class"},cellSizePixels:l("number",50,100,50,5)};A.sgrid=u(c,g);var v={class:{value:r.GridLayer,type:"class"},cellSize:l("number",100,5e4,100,50),elevationScale:l("number",4,10,4,2)};A.grid=u(c,v);var y={class:{value:r.LineLayer,type:"class"},getWidth:{type:"column",value:"number",default:1},getSourcePosition:function(e){return e.geometry.coordinates[0]},getTargetPosition:function(e){return e.geometry.coordinates[1]}};A.line=u(c,y);var m={class:{value:r.ArcLayer,type:"class"},getWidth:{type:"column",value:"number",default:1},getWeight:{type:"column",value:"number",default:1},getTilt:{type:"column",value:"number",default:0},getSourcePosition:function(e){return e.geometry.coordinates[0]},getTargetPosition:function(e){return e.geometry.coordinates[1]},getSourceColor:[255,255,178],getTargetColor:[189,0,38]};A.arc=u(c,m);var b={class:{value:r.PathLayer,type:"class"},widthUnits:"pixels",getPath:function(e){return e.geometry.coordinates},getWidth:{type:"column",value:"number",default:2},widthScale:{type:"column",value:"number",default:1},widthMinScale:l("number",0,100,1,2)};A.path=u(c,b);var _={class:{value:r.HeatmapLayer,type:"class"},getWeight:{type:"column",value:"number",default:1}};A.heatmap=u(c,_);var w={class:{value:r.TextLayer,type:"class"},getText:{type:"column",value:"string",default:""}};A.text=u(c,w);var x={class:{value:o.default,type:"class"},getRotationAngle:{type:"column",value:"number",default:0},getScale:{type:"column",value:"number",default:20}};A.barvis=u(c,x);var C={class:{value:r.PointCloudLayer,type:"class"},pointSize:l("number",1,100,10,2),opacity:l("number",0,1,.5,.1)};A.pointcloud=u(c,C);t.getLayerProps=function(e){return(0,a.isString)(e)?Object.freeze(A[e]):null};var B=Object.keys(A);t.LAYERS=B},2834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.data,n=e.width,o=void 0===n?250:n,s=e.height,u=void 0===s?200:s,l=e.title,c=void 0===l?"Plot":l,A=e.dark,f=e.xaxis,h=void 0===f?{}:f,p=e.yaxis,d=void 0===p?{}:p,g=e.displayModeBar,v=e.onClickCallback,y={visible:!0,color:A&&"#fff"},m={color:A&&"#fff"};return t&&(0,i.isArray)(t)&&0!==t.length&&a?r.default.createElement(a,{data:t,layout:{width:o,height:u,title:{text:c,font:m},margin:{t:30,r:20,b:50,l:30},paper_bgcolor:A&&"#0000",plot_bgcolor:A&&"#0000",xaxis:Object.assign(y,h),yaxis:Object.assign(m,d),legend:{x:.35,y:-.35,orientation:"h",font:m}},onClick:function(e){"function"===typeof v&&v(e.points)},config:{displayModeBar:!g&&!1}}):null};var r=o(n(2791)),i=n(7199);function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,o(n(3096)).default)(window.Plotly)},6665:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=n(9072),a=n(2419);function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,n,r,s=A(f);function f(){var e;u(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(h(e=s.call.apply(s,[this].concat(n))),"state",{hoveredNode:null,radius:10,offset:0}),e}return t=f,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.options,s=this.state.radius;return n&&n.length?i.default.createElement("div",{className:"centered-and-flexed",style:{color:"#fff"}},i.default.createElement(o.Slider,{value:[this.state.radius],min:5,max:50,step:5,onChange:function(t){var n=t.value;e.setState({radius:n[0]})}}),"Radius (pixels)",i.default.createElement(a.XYPlot,{margin:{left:10,bottom:10},height:r&&r.plotStyle&&r.plotStyle.height||350,width:r&&r.plotStyle&&r.plotStyle.width||350,onMouseLeave:function(){return e.setState({hoveredNode:null})}},i.default.createElement(a.HexbinSeries,{animation:!0,className:"hexbin-example",style:{stroke:"#125C77",strokeLinejoin:"round"},colorRange:["orange","cyan"],radius:s,data:n}),r&&!r.noXAxis&&i.default.createElement(a.XAxis,{tickLabelAngle:-45,style:{text:{fill:"#fff",fontWeight:400}}}),r&&!r.noYAxis&&i.default.createElement(a.YAxis,{tickLabelAngle:-45,style:{text:{fill:"#fff",fontWeight:400}}}))):null}}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(i.Component);t.default=g},4703:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(f=(0,i.useState)(),h=2,function(e){if(Array.isArray(e))return e}(f)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(f,h)||function(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(f,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],r=t[1],u=e.type;var f,h;if(!u)return null;var p=10,d=e.type!==o.MarkSeries&&!e.noLimit&&e.data&&e.data.length>p?e.data.slice(0,p):e.data,g=e.plotStyle,v=e.title,y=e.noXAxis,m=e.noYAxis,b=e.onValueClick;return d&&d.length?i.default.createElement("div",{className:"unselectable",style:{position:"relative"}},e.type!==o.MarkSeries&&!e.noLimit&&e.data&&e.data.length>p&&i.default.createElement("h4",null,"Plotting first ",p," values:"),m&&v&&i.default.createElement("h4",null,v),i.default.createElement(A,{xType:"ordinal",margin:{bottom:g&&g.marginBottom||40},animation:{duration:1},height:g&&g.height||c,width:g&&g.width||c,onMouseLeave:function(){r(!1)}},!y&&i.default.createElement(o.XAxis,{tickSize:0,tickFormat:function(e){return(0,s.shortenName)(e,10)},tickValues:d.length>p?d.filter((function(e,t){if(t%Math.floor(d.length/p)===0)return e.x})).map((function(e){return e.x})):d.map((function(e){return e.x})),position:"right",tickLabelAngle:-65,style:{line:{strokeWidth:0},text:{fill:e.dark?"#fff":"#000"}}}),!m&&i.default.createElement(o.YAxis,{tickSize:0,tickLabelAngle:-45,tickFormat:function(e){return(0,a.format)(".2s")(e)},style:{line:{strokeWidth:0},title:{fill:e.dark?"#fff":"#000"},text:{fill:e.dark?"#fff":"#000"}},position:"start",title:v}),i.default.createElement(u,{onValueClick:b,onNearestX:function(e){r({x:e.x,y:e.y})},data:d}),n&&i.default.createElement(o.Hint,{value:n}))):null};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=n(2419),a=n(8419),s=n(3678);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=n(9639).PLOT_W,A=(0,o.makeWidthFlexible)(o.XYPlot)},7870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomSlider=function(e){var t=f(r.default.useState([0]),2),n=t[0],o=t[1],a=f(r.default.useState([]),2),s=a[0],u=a[1],c=f(r.default.useState(null),2),A=c[0],h=c[1],p=f(r.default.useState("1000"),2),d=p[0],g=p[1];r.default.useEffect((function(){u(e.dates),o(e.dates&&[0])}),[e]),function(e,t){var n=r.default.useRef();r.default.useEffect((function(){n.current=e}),[e]),r.default.useEffect((function(){function e(){n.current()}if(null!==t){var r=setInterval(e,t);return function(){return clearInterval(r)}}}),[t])}((function(){o((function(e){return[(e[0]+1)%s.length]})),"function"===typeof v&&v(s[n[0]])}),A);var v=e.callback,y=e.data;return y&&y.length&&s?r.default.createElement("div",{style:{display:"flex",alignItems:"center"}},r.default.createElement("div",{style:{maxWidth:110}},r.default.createElement(i.Input,{value:d,onChange:function(e){return g(e.target.value)},placeholder:"Delay Input",type:"number",size:i.SIZE.mini,clearable:!0,clearOnEscape:!0,min:100,max:5e3,step:"50"})),r.default.createElement("i",{style:{maxHeight:40,maxWidth:40},onClick:function(){h(A?null:d)}},A?r.default.createElement("i",{style:{fontSize:"2em"},className:"fa fa-pause"}):r.default.createElement("i",{style:{fontSize:"2em"},className:"fa fa-play"})),r.default.createElement("div",{style:{flexGrow:1}},r.default.createElement(l.Slider,{value:n,min:0,max:e.dates.length-1,step:1,onChange:function(e){e.value?o(e.value):o([]),A&&h(null),"function"===typeof v&&v(s[e.value])},overrides:{ThumbValue:function(e){var t=e.$value;return r.default.createElement("div",{style:{position:"absolute",top:-20,backgroundColor:"transparent"}},s[t])},TickBar:function(e){var t=e.$min,n=e.$max;return r.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},[s[t],s[Math.floor(n/2)],s[n]].map((function(e){return r.default.createElement("div",{className:"slider-label",key:e},e)})))}}}))):null},t.yearSlider=void 0;var r=A(n(2791)),i=n(8182),o=A(n(9763)),a=n(6809),s=n(5789),u=n(3678),l=n(9072),c=n(7199);function A(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.yearSlider=function(e){var t=e.data,n=e.year,i=e.multiVarSelect,l=e.onSelectCallback,A=e.callback;if(!t||!t.length||!Object.keys(t[0].properties))return null;var f=(0,u.getFirstDateColumnName)(t[0].properties);if(!a.DateTime.fromISO(t[0].properties[f]).isValid)return null;var p=(0,s.getPropertyValues)({features:t},f).map((function(e){return a.DateTime.fromISO(e).year})).sort();return p&&(0,c.isArray)(p)&&p.length&&1!=p.length?r.default.createElement(o.default,{title:r.default.createElement("h5",null,"Year(s): ",n||p[0]+" - "+p[p.length-1],n&&r.default.createElement("i",{style:{fontSize:"2rem"},className:"fa fa-trash",onClick:function(){delete i[f],"function"===typeof l&&l(0===Object.keys(i).length?{what:""}:{what:"multi",selected:i}),A({year:"",multiVarSelect:i})}})),sublist:h(new Set(p)),suggested:"slider",onChange:function(e){i[f]=new Set([e+""]),A({year:e+"",multiVarSelect:i}),"function"===typeof l&&l({selected:i,what:"multi"})}}):null}},3096:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(r,t);var n=function(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).p=Promise.resolve(),t.resizeHandler=null,t.handlers={},t.syncWindowResize=t.syncWindowResize.bind(A(t)),t.syncEventHandlers=t.syncEventHandlers.bind(A(t)),t.attachUpdateEvents=t.attachUpdateEvents.bind(A(t)),t.getRef=t.getRef.bind(A(t)),t.handleUpdate=t.handleUpdate.bind(A(t)),t.figureCallback=t.figureCallback.bind(A(t)),t.updatePlotly=t.updatePlotly.bind(A(t)),t}return function(e,t,n){t&&u(e.prototype,t);n&&u(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"updatePlotly",value:function(t,n,r){var i=this;this.p=this.p.then((function(){if(!i.unmounting){if(!i.el)throw new Error("Missing element reference");return e.react(i.el,{data:i.props.data,layout:i.props.layout,config:i.props.config,frames:i.props.frames})}})).then((function(){i.unmounting||(i.syncWindowResize(t),i.syncEventHandlers(),i.figureCallback(n),r&&i.attachUpdateEvents())})).catch((function(e){i.props.onError&&i.props.onError(e)}))}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(e){this.unmounting=!1;var t=e.frames&&e.frames.length?e.frames.length:0,n=this.props.frames&&this.props.frames.length?this.props.frames.length:0,r=!(e.layout===this.props.layout&&e.data===this.props.data&&e.config===this.props.config&&n===t),i=void 0!==e.revision,o=e.revision!==this.props.revision;(r||i&&(!i||o))&&this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&d&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),e.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var e=this;this.el&&this.el.removeListener&&p.forEach((function(t){e.el.on(t,e.handleUpdate)}))}},{key:"removeUpdateEvents",value:function(){var e=this;this.el&&this.el.removeListener&&p.forEach((function(t){e.el.removeListener(t,e.handleUpdate)}))}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(e){if("function"===typeof e){var t=this.el;e({data:t.data,layout:t.layout,frames:this.el._transitionData?this.el._transitionData._frames:null},this.el)}}},{key:"syncWindowResize",value:function(t){var n=this;d&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return e.Plots.resize(n.el)},window.addEventListener("resize",this.resizeHandler),t&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(e){this.el=e,this.props.debug&&d&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var e=this;h.forEach((function(t){var n=e.props["on"+t],r=e.handlers[t],i=Boolean(r);n&&!i?e.addEventHandler(t,n):!n&&i?e.removeEventHandler(t):n&&i&&n!==r&&(e.removeEventHandler(t),e.addEventHandler(t,n))}))}},{key:"addEventHandler",value:function(e,t){this.handlers[e]=t,this.el.on(this.getPlotlyEventName(e),this.handlers[e])}},{key:"removeEventHandler",value:function(e){this.el.removeListener(this.getPlotlyEventName(e),this.handlers[e]),delete this.handlers[e]}},{key:"getPlotlyEventName",value:function(e){return"plotly_"+e.toLowerCase()}},{key:"render",value:function(){return o.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),r}(o.Component);return t.propTypes={data:a.default.arrayOf(a.default.object),config:a.default.object,layout:a.default.object,frames:a.default.arrayOf(a.default.object),revision:a.default.number,onInitialized:a.default.func,onPurge:a.default.func,onError:a.default.func,onUpdate:a.default.func,debug:a.default.bool,style:a.default.object,className:a.default.string,useResizeHandler:a.default.bool,divId:a.default.string},h.forEach((function(e){t.propTypes&&(t.propTypes["on"+e]=a.default.func)})),t.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},t};var i,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),a=(i=n(4093))&&i.__esModule?i:{default:i};function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function c(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],p=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],d="undefined"!==typeof window},2736:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timePlot=t.popPyramidPlot=t.plotByPropertyByDate=t.plotByProperty=t.arrayOfYearAndProperty=void 0;var r=f(n(2791)),i=n(2419),o=n(8419),a=n(5789),s=n(7199),u=n(9639),l=n(3678),c=n(1028),A=f(n(2834));function f(e){return e&&e.__esModule?e:{default:e}}var h=u.PLOT_W,p="rgb(18, 147, 154)",d="rgb(239, 93, 40)";t.plotByPropertyByDate=function(e,t,n){if(!e||!(0,s.isArray)(e)||!e.length||!t)return null;var i=g(e,t);return i?r.default.createElement(A.default,{dark:n,yaxis:{showgrid:!1},xaxis:{showgrid:!1},data:i.map((function(e,t){return{mode:"lines",showlegend:!1,x:e.map((function(e){return e.x})).sort((function(e,t){return new Date(e)-new Date(t)})),y:e.map((function(e){return e.y})),name:["Male","Female","Total"][t],marker:{color:(0,c.scaleSequential)(u.TURQUOISE_RANGE)(t/i.length)}}})),title:"Sex of Casualty"}):null};t.plotByProperty=function(e,t,n,i,o){if(!e||!(0,s.isArray)(e)||!e.length)return null;var a=!o&&e.length>10,c=e[0].properties.hasOwnProperty(t)&&(0,l.xyObjectByProperty)(a?e.slice(0,10):e,t);return c?r.default.createElement(r.default.Fragment,null,a&&r.default.createElement("h4",null,"Plotting first ",10," values:"),r.default.createElement(A.default,{dark:n,yaxis:{showgrid:!1},xaxis:{showgrid:!1},data:[{x:c.map((function(e){return e.x})),y:c.map((function(e){return e.y})),marker:{color:u.TURQUOISE_RANGE[0]},type:i||"lines"}],title:(0,l.humanize)(t)})):null};t.popPyramidPlot=function(e){if(e&&e.data&&e.data[0]&&e.data[0].properties.date&&e.data[0].properties.sex_of_casualty){var t=(0,a.propertyCountByProperty)(e.data,"sex_of_casualty","date"),n=[],s=[];if(1!==Object.keys(t).length)return t&&Object.keys(t).forEach((function(e,r){n.push({x:0,x0:+t[e].Male,y:0===r?0:r,y0:r+1,color:"#428BCA"})})),t&&Object.keys(t).forEach((function(e,n){s.push({x:0,x0:-1*+t[e].Female,y:0===n?0:n,y0:n+1})})),r.default.createElement(r.default.Fragment,null,r.default.createElement(i.XYPlot,{margin:{left:e.margin||60},height:e.plotStyle&&e.plotStyle.height||h,width:e.plotStyle&&e.plotStyle.width||h},r.default.createElement(i.HorizontalRectSeries,{color:p,stroke:"black",data:s}),r.default.createElement(i.HorizontalRectSeries,{color:d,stroke:"black",data:n}),r.default.createElement(i.YAxis,{tickSize:0,tickFormat:function(e){return 0===e?2009:e-2+2009},style:{line:{strokeWidth:0},text:{fill:e.dark?"#fff":"#000",fontWeight:400}}}),r.default.createElement(i.XAxis,{tickSize:0,tickFormat:function(e){return(0,o.format)(".2s")(e<0?-1*e:e)},style:{line:{strokeWidth:0},text:{fill:e.dark?"#fff":"#000",fontWeight:400}}})),r.default.createElement(i.DiscreteColorLegend,{orientation:"horizontal",width:h,items:[{title:"Male",color:d},{title:"Female",color:p}]}))}};var g=function(e,t){var n=(0,s.isArray)(e)&&e.length>0&&t,r=[[],[],[]];if(n){var i=1===e.length?0:Math.floor(Math.random()*(e.length-1)+1),o=Object.keys(e[i].properties).filter((function(t){return(0,l.isStringDate)(e[i].properties[t])}));if(o.length>0){var u=(0,a.propertyCountByProperty)(e,t,o[0]);u&&Object.keys(u).length>1&&Object.keys(u).forEach((function(e){e&&u[e].Male&&u[e].Female&&(r[0].push({x:e,y:u[e].Male}),r[1].push({x:e,y:u[e].Female}),r[2].push({x:e,y:u[e].Male+u[e].Female}))}))}}return r[0].length?r:null};t.arrayOfYearAndProperty=g;t.timePlot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.property,i=e.dark,o=e.title,u=e.height,c=e.width,f=e.onClickCallback;if(!(0,s.isString)(n)||!t||!t.length)return null;var h=(0,l.getFirstDateColumnName)(t[0].properties);if(!h)return null;var p=(0,a.getPropertyValues)({features:t},h).map((function(e){return new Date(e)})),d=(0,a.getPropertyValues)({features:t},n);return r.default.createElement(A.default,{dark:i,height:u,width:c,title:o||h+" v "+n,yaxis:{showgrid:!1},xaxis:{showgrid:!1},data:[{x:p,y:d,mode:"graph"}],onClickCallback:f})}},3017:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n(2791)),o=n(4021),a=u(n(5110)),s=u(n(5178));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(h,e);var t,n,r,u=f(h);function h(){return l(this,h),u.apply(this,arguments)}return t=h,(n=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this._handleWindowSizeChange.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._handleWindowSizeChange.bind(this))}},{key:"_handleWindowSizeChange",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props.onCloseCallback;return this.props.popup?i.default.createElement("div",{id:"tgve-tooltip",style:{top:100,left:320,position:"absolute",cursor:"move"}},i.default.createElement(s.default,{component:i.default.createElement("div",null,i.default.createElement(o.Button,{kind:o.KIND.minimal,onClick:function(){return"function"===typeof e&&e()}},"X"),(0,a.default)(this.props))})):(0,a.default)(this.props)}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),h}(i.default.Component);t.default=d},5110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=A(n(2791)),i=n(1028),o=n(3315),a=n(5789),s=n(3678),u=n(9639),l=n(7199),c=A(n(2834));function A(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;if(!e.properties&&(!e.points||e.points&&!e.points[0].source.properties))return null;var i=[],a=e.properties;if(a){var u=Object.keys(a);i=u.slice(0,t?u.length:n).map((function(e){return[(0,s.humanize)(e),a[e]]}))}else{var l=Object.keys(e.points[0].source.properties);i=l.slice(0,t?l.length:n).map((function(t){var n=[(0,s.humanize)(t),e.points[0].source.properties[t]];return e.points[1]&&n.push(e.points[1].source.properties[t]),n}))}return r.default.createElement(o.Table,{style:{maxWidth:"320px"},columns:e.points&&2===e.points.length?["Property","Value p1","Value p2"]:["Property","Value"],data:i})},h=function(e){var t=220,n=e.topx,o=e.topy,A=e.selectedObject,h=e.column1,p=void 0===h?"accident_severity":h,d=e.column2,g=void 0===d?"date":d,v=(0,l.isObject)(e)&&e.isMobile;if(!A)return null;var y=A.type&&"Feature"===A.type,m=A&&A.cluster,b=[];if(!y&&!m){var _=p&&(0,a.getPropertyValues)({features:A.points.map((function(e){return e.source}))},p),w=p&&g&&(0,a.propertyCountByProperty)(A.points.map((function(e){return e.source})),p,g);_&&_.forEach((function(e,t){Object.keys(w).forEach((function(n){n&&w[n][e]&&(b[t]||(b[t]={x:[],y:[],name:e,marker:{color:(0,i.scaleSequential)(u.TURQUOISE_RANGE)(t/_.length)}}),b[t].x.push(n),b[t].y.push(w[n][e]))}))})),b.forEach((function(e){e.x.length>1&&(e.mode="lines")}))}var x=window.innerWidth,C=window.innerHeight,B={top:o+300>C?v?10:o+300>C?o-t:o:o,left:n+t>x?v?10:n+t>x?n-t:n:n};return e.popup&&(B.position="inherit"),r.default.createElement("div",{className:"xyz",style:B},r.default.createElement("div",null,r.default.createElement("b",null,"Total: ",m?A.point_count:y?1:A.points.length)),r.default.createElement("div",null,!m&&(y||A.points.length<=2)?f(A):r.default.createElement(c.default,{title:"".concat((0,s.humanize)(p)," by ").concat((0,s.humanize)(g)),width:t,data:b,dark:!0,xaxis:{tickformat:"d",showgrid:!1},yaxis:{showgrid:!1}})))};t.default=h},9332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(9474).createBrowserHistory)();t.default=r},1241:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(2791)),i=d(n(8212)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==b(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(924)),a=n(6120),s=n(3678),u=n(9639),l=d(n(1504));n(8862);var c=d(n(3017)),A=n(7199),f=n(2017),h=n(6946);function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===b(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var S="linear-gradient(to top, red , yellow)",k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(v,e);var t,n,p,d=x(v);function v(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),t=d.call(this,e);var n=(0,f.initViewState)(e);return t.state={loading:!0,layers:[],backgroundImage:S,mapStyle:"mapbox://styles/mapbox/"+(e.dark?"dark":"streets")+"-v9",initialViewState:n,subsetBoundsChange:!1,lastViewPortChange:new Date,colorName:"default",iconLimit:u.ICONLIMIT,legend:!1,multiVarSelect:e.select||{},width:window.innerWidth,height:window.innerHeight,tooltipColumns:{column1:"accident_severity",column2:"date"},geographyURL:e.geographyURL,geographyColumn:e.geographyColumn,column:e.column,layerName:e.layerName,bottomPanel:!1},t._callGenerateLayer=t._callGenerateLayer.bind(B(t)),t._renderTooltip=t._renderTooltip.bind(B(t)),t._fetchAndUpdateState=t._fetchAndUpdateState.bind(B(t)),t._fitViewport=t._fitViewport.bind(B(t)),t._initWithGeojson=t._initWithGeojson.bind(B(t)),t._initDataState=t._initDataState.bind(B(t)),t._updateStateAndLayers=t._updateStateAndLayers.bind(B(t)),t._resize=t._resize.bind(B(t)),t._updateHistory=t._updateHistory.bind(B(t)),t._throttleUR=(0,a.throttle)((function(e){return t._updateHistory(e)}),300),t._urlCallback=t._urlCallback.bind(B(t)),t}return t=v,n=[{key:"componentDidUpdate",value:function(e){var t=e.data,n=e.defaultURL,r=e.geographyURL,i=e.geographyColumn;if((0,A.isObject)(t)){var o=(0,A.isArray)(t.features)&&Math.floor(Math.random()*t.features.length);!this.state.reset&&this.props.data&&((0,A.isArray)(this.props.data.features)&&JSON.stringify(t.features[o])!==JSON.stringify(this.props.data.features[o])||n!==this.props.defaultURL||r!==this.props.geographyURL||i!==this.props.geographyColumn)&&(this.map&&this.map.stop(),this._initDataState())}}},{key:"componentDidMount",value:function(){this._initDataState(),window.addEventListener("resize",this._resize)}},{key:"_initDataState",value:function(){var e=this,t=this.props,n=t.data,r=t.defaultURL;(0,A.isObject)(n)&&n.features&&n.features.length?this.setState({loading:!1,data:n},(function(){e._fitViewport(),e._callGenerateLayer()})):r?this._fetchAndUpdateState(r):this.setState({loading:!1})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resize)}},{key:"_fetchAndUpdateState",value:function(e,t){var n=this;!e||(0,s.isURL)(e)?t&&"object"!==b(t)||(0,s.fetchData)(e,(function(r,i){var o=n.props.geographyURL;(0,s.isURL)(o)?(0,s.fetchData)(o,(function(e,i){n._updateStateAndLayers(i,e,r,t,o)})):o&&!(0,s.isURL)(o)?n._initWithGeojson(i,r,t||{content:"Invalid URL: "+o},e):n._initWithGeojson(i,r,t,e)})):this.state.loading&&this.setState({loading:!1})}},{key:"_updateStateAndLayers",value:function(e,t,n,r,i){var o=this;e?this.setState({loading:!1,alert:{content:"Could not reach: "+i}}):this.setState({loading:!1,geography:t,data:n,alert:r||null},(function(){o._fitViewport(t),o._callGenerateLayer()}))}},{key:"_initWithGeojson",value:function(e,t,n,r){e?this.setState({loading:!1,alert:{content:"Could not reach: "+r}}):(this.setState({loading:!1,data:t}),this._fitViewport(t),this._callGenerateLayer({customError:n||null}))}},{key:"_callGenerateLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,f.generateLayer)(e,this.state,this._renderTooltip,this._callGenerateLayer);if((0,A.isObject)(t)){this.setState(y({},t));var n=t.multiVarSelect,r=this.props.onStateChange;"function"===typeof r&&r({select:(0,h.jsonFromKeySetObject)(n)})}}},{key:"_fitViewport",value:function(e,t){this.setState({viewport:(0,f.getViewPort)(this.state,e,t,this.map)})}},{key:"_renderTooltip",value:function(e,t,n){var i=this,o=e.x,a=e.y,u=e.object;if(u){var l=r.default.createElement(c.default,g({popup:!0===n,onCloseCallback:function(){return i.setState({popup:null})}},this.state.tooltipColumns,{isMobile:(0,s.isMobile)(),topx:o,topy:a,selectedObject:u}));n?this.setState({tooltip:null,popup:l}):this.setState({tooltip:l})}else n?this.setState({popup:null}):this.setState({tooltip:null})}},{key:"_updateHistory",value:function(e){var t=this.state,n=t.subsetBoundsChange,r=t.lastViewPortChange,i=this.props.onViewStateChange;if(new Date-r>1e3&&((0,s.updateHistory)(y(y({},e),{defaultURL:this.props.defaultURL,geographyURL:this.props.geographyURL,geographyColumn:this.props.geographyColumn})),this.setState({lastViewPortChange:new Date}),"function"===typeof i&&i({viewState:e})),n){var o=this.map&&this.map.getBounds();this.setState({loading:!0}),this._callGenerateLayer({filter:{what:"boundsSubset",bounds:o}})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.hideCharts,a=t.hideChartGenerator,c=t.dark,A=t.defaultURL,f=t.leftSidebarContent,h=t.hideSidebar,p=this.state,d=p.tooltip,v=p.popup,m=p.viewport,b=p.initialViewState,_=p.loading,w=p.mapStyle,x=p.alert,C=p.data,B=p.filtered,E=p.bottomPanel,S=p.layerName,k=p.legend,O=p.coords,T=k&&!new RegExp(u.NO_LEGEND_LAYERS_REGEX,"i").test(S);return r.default.createElement("div",null,r.default.createElement("div",{className:"loader",style:{zIndex:_?999:-1,visibility:"string"===typeof w&&w.endsWith("No map-v9")?"hidden":"visible"}}),r.default.createElement(o.default,{preserveDrawingBuffer:!0,ref:function(t){e.map=t&&t.getMap()},mapStyle:w,onViewportChange:function(t){e._throttleUR(t),e.setState({viewport:t})},height:this.state.height+"px",width:this.state.width+"px",viewState:m||b},r.default.createElement("div",{className:"mapboxgl-ctrl-top-right",style:{zIndex:9}},r.default.createElement(o.NavigationControl,g({},m,{onViewportChange:function(t){return e.setState({viewport:t})}})),r.default.createElement(o.ScaleControl,{maxWidth:100,unit:"metric",style:{left:20,bottom:100}})),r.default.createElement(i.default,{ref:function(t){return e.deck=t&&t.deck},viewState:m||b,initialViewState:b,layers:this.state.layers,onClick:function(t,n){!t.layer&&O&&(e.setState({coords:null}),e._callGenerateLayer()),e._renderTooltip(t,n,!0)}})),!h&&r.default.createElement(l.default,{key:"decksidebar",unfilteredData:C&&C.features,data:B,hideCharts:n,hideChartGenerator:a,leftSidebarContent:f,dark:c,layerName:S,layerOptions:this.state.layerOptions,subsetBoundsChange:this.state.subsetBoundsChange,datasetName:A,bottomPanel:E,map:this.map,deck:this.deck,isMobile:(0,s.isMobile)(),alert:x,multiVarSelect:this.state.multiVarSelect,onlocationChange:function(t){e._fitViewport(void 0,t)},colourCallback:function(t){e._callGenerateLayer({cn:t})},urlCallback:this._urlCallback,column:this.state.column,onSelectCallback:function(t){return e._callGenerateLayer({filter:t})},onLayerOptionsCallback:function(t){return e._callGenerateLayer({layerOptions:t})},toggleSubsetBoundsChange:function(){e.setState({subsetBoundsChange:!e.state.subsetBoundsChange}),e._callGenerateLayer()}}),T&&r.default.createElement("div",{id:"tgve-legend",style:y({overflowY:"scroll",maxHeight:"70%"},(0,s.theme)(this.props.dark)),className:"right-side-panel mapbox-legend"},k),d,v)}},{key:"_urlCallback",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.geojson_returned,r=t.geography_returned,i=t.geoColumn,o=t.reset;this.setState({column:null,tooltip:"",loading:!0,coords:null,multiVarSelect:{},geography:null,data:o?[]:this.state.data,filtered:o?[]:this.state.filtered,layers:o?[]:this.state.layers,legend:o?null:this.state.legend,reset:o},(function(){if(n)try{e.setState({data:n,geography:r,geographyColumn:i},(function(){e._fitViewport(r||n),e._callGenerateLayer()}))}catch(t){e.setState({alert:{content:t.message}}),e._initDataState()}else e._initDataState()}))}},{key:"_resize",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}}],n&&_(t.prototype,n),p&&_(t,p),Object.defineProperty(t,"prototype",{writable:!1}),v}(r.default.Component);t.default=k},2017:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initViewState=t.getViewPort=t.generateLayer=void 0;var r=g(n(2791)),i=n(2564),o=g(n(3271)),a=n(4439),s=g(n(4647)),u=g(n(8733)),l=n(924),c=n(3678),A=n(923),f=n(9639),h=n(5789),p=n(7870),d=n(7199);function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t,n,r){var i=r,o=n;return(n<1||r>300)&&(i=10,o=1),(0,c.convertRange)(e.properties[t],{oldMin:n,oldMax:r,newMax:i,newMin:o})};t.generateLayer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=e.layerOptions,a=void 0===o?{}:o,s=e.filter,u=e.cn,l=e.customError;if(s&&"mapstyle"===s.what){var d="mapbox://styles/mapbox/"+s.selected+"-v9";return{mapStyle:"mapstyle"===s.what?"No map"===s.selected?f.BLANKSTYLE:d:t.mapStyle}}var g=t.colorName,v=t.iconLimit,y=t.geography,m=t.geographyColumn,b=t.multiVarSelect,x=t.data&&t.data.features;if(x){if(s&&"%"===s.what&&(x=x.slice(0,s.selected/100*x.length)),(t.coords||s&&"column"===s.what)&&(x=t.filtered),y){if(!(x=(0,h.setGeojsonProps)(y,x,m))||!x.features)return{alert:{content:"Is there a matching geography column?"}};x=x.features||x}if(!(x=_(x,s,t,b))||!x.length)return{loading:!1,alert:{content:"Filtering returns no results"}};var C=s&&"column"===s.what&&s.selected||t.column,B=C||Object.keys(x[0].properties)&&Object.keys(x[0].properties)[0]||0,E=(0,h.sfType)(y?y.features[0]:x[0]).toLowerCase(),S=s&&"layerName"===s.what&&s.selected||t.layerName;f.DECK_LAYER_NAMES.includes(t.layerName)||(S=(0,c.suggestDeckLayer)(y?y.features:x));var k=x.length<v&&!S&&(!s||"layerName"!==s.what)&&"point"===E;k&&(S="icon");var O=(0,c.generateDomain)(x,B),T=w(t,u,g,a,S,x,B,O,E,i),P=t.legend;P=O&&O.length>1&&r.default.createElement(A.Legend,{domain:O,title:(0,c.humanize)(B),interpolate:(0,c.colorRangeNamesToInterpolate)(u||g)});var M=(0,c.generateDeckLayer)(S,x,n,T);return{alert:k?{content:"Switched to icon mode. "}:l||null,loading:!1,layerName:S,geomType:E,tooltip:"",filtered:x,layers:[M],layerOptions:T,multiVarSelect:s&&"multi"===s.what?s.selected:b,road_type:s&&"road_type"===s.what?s.selected:t.road_type,colorName:u||g,column:C,coords:s&&"coords"===s.what?s.selected:t.coords,legend:P,bottomPanel:r.default.createElement(p.CustomSlider,{data:t.date&&t.data.features,dates:(0,h.getPropertyValues)(t.data,"alt")})}}};var _=function(e,t,n,r){var s=t&&"multi"===t.what||(0,d.isObject)(r)&&Object.keys(r).length,u=t&&"coords"===t.what,l=t&&"boundsSubset"===t.what&&(0,c.getBbx)(t.bounds),A=l||{},f=A.xmin,p=A.ymin,g=A.xmax,v=A.ymax,y=l&&(0,a.polygon)([[[f,p],[f,v],[g,v],[g,p],[f,p]]]);if(!s&&!u&&!l)return e;var m=t&&"multi"===t.what&&t.selected||r;return e.filter((function(e){if(s)for(var r=0,a=Object.keys(m);r<a.length;r++){var c=a[r],A=e.properties[c]+"";if(!m[c].has(A))return!1}return(!u||0===(0,i.difference)(t.selected||n.coords,e.geometry.coordinates.flat()).length)&&!(l&&y&&e&&e.geometry&&"MultiPolygon"!==(0,h.sfType)(e)&&e.geometry.coordinates&&!(0,o.default)(y,e))}))};t.initViewState=function(e){var t=e.viewport,n=e.layerName,r=t&&Object.keys(t)?Object.assign(f.DECKGL_INIT,t):f.DECKGL_INIT,i=(0,c.getViewportParams)(e.location?e.location.search:window.location.search);return i&&Object.keys(i).forEach((function(e){Object.keys(r).forEach((function(t){t.startsWith(e)&&(r[e]=i[e])}))})),n&&new RegExp(f.LAYERS_2D_REGEX,"i").test(n)&&(r.pitch=0),r};function w(e,t,n,r,i,o,a,s,u,l){var A=(0,c.colorRanges)(t||n),h=Object.assign(y(y({},e.layerOptions),{},{lightSettings:f.LIGHT_SETTINGS,colorRange:A,getColor:(0,c.getColorArray)(t||n)}),r),p=(0,c.isArrayNumeric)(s)&&s.length>1;if("heatmap"===i&&(h.getPosition=function(e){return e.geometry.coordinates},h.updateTriggers={getWeight:"function"===typeof h.getWeight&&o.map((function(e){return h.getWeight(e)}))}),"scatterplot"===i&&p){var d=(0,c.getMin)(s),g=(0,c.getMax)(s);h.getRadius=function(e){return b(e,a,d,g)}}if("arc"===i)if(p){var v=(0,c.getMin)(s),m=(0,c.getMax)(s);h.getSourceColor=(0,c.colorScale)(v,s,180,t||n),h.getTargetColor=(0,c.colorScale)(m,s,180,t||n)}else h.getSourceColor=A[0],h.getTargetColor=A[A.length-1];var _=function(e){return e.properties[a]},w=function(e){return(0,c.colorScale)(+_(e)?+_(e):_(e),s,180,t||n)},x=o.map((function(e){return w(e)})),C=s&&s.length>1?w:A[A.length-1];if(("linestring"===u||"line"===i)&&(h.getColor=C,h.getPath=function(e){return e.geometry.coordinates},h.onClick=function(e){e&&e.hasOwnProperty("coordinate")&&(["path","arc","line"].includes(i)||"linestring"===u)&&e.object.geometry.coordinates&&"function"===typeof l&&l({filter:{what:"coords",selected:e.object.geometry.coordinates[0]}})},p)){var B=(0,c.getMin)(s),E=(0,c.getMax)(s);h.getWidth=function(e){return b(e,a,B,E)},h.updateTriggers={getColor:x}}return"polygon"!==u&&"multipolygon"!==u&&"geojson"!==i&&"scatterplot"!==i||(h.getFillColor=C,h.getLineColor=C,h.updateTriggers={getFillColor:x,getLineColor:x}),"pointcloud"!==i&&"barvis"!==i||(h.getColor=C,h.updateTriggers={getColor:x,getPosition:[o.length]}),h}t.getViewPort=function(e,t,n,r){var i=t||e.data;if(i&&0!==i.length||n){var o=n?n.bbox:(0,u.default)(i),a=n?[n.lon,n.lat]:(0,s.default)(i).geometry.coordinates;return r||r.fitBounds(o,{padding:100}),y(y({},e.viewport),{},{longitude:a[0],latitude:a[1],transitionDuration:500,transitionInterpolator:new l.FlyToInterpolator})}}},6276:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(430),a=n(1996),s=(i=n(7127))&&i.__esModule?i:{default:i};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(o,e);var t,n,r,i=A(o);function o(){return u(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags.dataChanged||t.sizeScale!==n.sizeScale;if(r){var i=new s.default({maxZoom:16,radius:t.sizeScale});i.load(t.data.map((function(e){return{geometry:{coordinates:t.getPosition(e)},properties:e}}))),this.setState({index:i})}var o=Math.floor(this.context.viewport.zoom);(r||o!==this.state.z)&&this.setState({data:this.state.index.getClusters([-180,-85,180,85],o),z:o})}},{key:"getPickingInfo",value:function(e){var t=e.info,n=e.mode,r=t.object&&t.object.properties;return r&&(r.cluster&&"hover"!==n&&(t.objects=this.state.index.getLeaves(r.cluster_id,25).map((function(e){return e.properties}))),t.object=r),t}},{key:"renderLayers",value:function(){var e=this.state.data,t=this.props,n=t.iconAtlas,r=t.iconMapping,i=t.sizeScale;return new a.IconLayer(this.getSubLayerProps({id:"icon",data:e,iconAtlas:n,iconMapping:r,sizeScale:i,getPosition:function(e){return e.geometry.coordinates},getIcon:function(e){return 0===(t=e.properties.cluster?e.properties.point_count:1)?"":t<10?"marker-".concat(t):t<100?"marker-".concat(Math.floor(t/10),"0"):"marker-100";var t},getSize:function(e){return t=e.properties.cluster?e.properties.point_count:1,Math.min(100,t)/100+1;var t}}))}}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(o.CompositeLayer);t.default=p},5495:function(e,t,n){"use strict";t.Z=function(e){return r.default.createElement(i.default,e)};var r=o(n(2791)),i=o(n(9499));function o(e){return e&&e.__esModule?e:{default:e}}},7199:function(e,t){"use strict";var n=function(e){return null!==e&&void 0!==e&&e.constructor===String},r=function(e){return null!==e&&void 0!==e&&e.constructor===Number},i=function(e){return null!==e&&void 0!==e&&e.constructor===Boolean};t.isNullUndefinedNaN=function(e){return null===e||void 0===e||"number"===typeof e&&isNaN(e)},t.isStringNumeric=function(e){return"string"===typeof e&&(!isNaN(e)&&!isNaN(parseFloat(e)))},t.randomToNumber=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e&&+e?Math.floor(Math.random()*e):0},t.isBoolean=i,t.isString=n,t.isNumber=r,t.isObject=function(e){return null!==e&&void 0!==e&&e.constructor===Object},t.isArray=function(e){return null!==e&&void 0!==e&&e.constructor===Array},t.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t.sanitizeFloat=function(e){if(r(e))return e;if(n(e)){var t=parseFloat(e);return isNaN(t)?null:t}return null},t.sanitizeInt=function(e){return r(e)?e:n(e)?parseInt(e):null},t.sanitizeString=function(e){return n(e)?e:r(e)?e.toString():null},t.sanitizeStringNonNull=function(e){return n(e)?e:r(e)?e.toString():""},t.sanitizeBool=function(e){return i(e)?e:r(e)?Boolean(e):null},t.isEmptyOrSpaces=function(e){return null===e||null!==e.match(/^ *$/)}},6946:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.params=t.keySetObject=t.jsonStr=t.jsonFromKeySetObject=void 0;var r,i=(r=n(6189))&&r.__esModule?r:{default:r},o=n(7199);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}t.params=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="string"===typeof t&&i.default.parse(t.replace("?","")),r=document.getElementById("tgve-data")&&document.getElementById("tgve-data").textContent&&u(document.getElementById("tgve-data").textContent),o=document.getElementById("tgve-settings")&&document.getElementById("tgve-settings").textContent&&u(document.getElementById("tgve-settings").textContent)||{},c=function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e[t];return n.hasOwnProperty(t)&&!a?i?s(n[t]):n[t]:i&&"boolean"===typeof a||!i&&a?a:o.hasOwnProperty(t)?i?s(o[t]):o[t]:{NODE_ENV:"production",PUBLIC_URL:"https://tgve.github.io/app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoibGF5aWsiLCJhIjoiY2xmZXF4cmtlMDAwNjNxcGgyeTB3Z2F0eSJ9.yBHbLSRvwPtHjf5I8ONOzQ",REACT_APP_DEFAULT_URL:"https://raw.githubusercontent.com/tgve/example-data/main/casualties.csv"}.hasOwnProperty(r)?i?s({NODE_ENV:"production",PUBLIC_URL:"https://tgve.github.io/app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoibGF5aWsiLCJhIjoiY2xmZXF4cmtlMDAwNjNxcGgyeTB3Z2F0eSJ9.yBHbLSRvwPtHjf5I8ONOzQ",REACT_APP_DEFAULT_URL:"https://raw.githubusercontent.com/tgve/example-data/main/casualties.csv"}[r]):{NODE_ENV:"production",PUBLIC_URL:"https://tgve.github.io/app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoibGF5aWsiLCJhIjoiY2xmZXF4cmtlMDAwNjNxcGgyeTB3Z2F0eSJ9.yBHbLSRvwPtHjf5I8ONOzQ",REACT_APP_DEFAULT_URL:"https://raw.githubusercontent.com/tgve/example-data/main/casualties.csv"}[r]:void 0},A=function(e,t,n){return a(e)===t?e:n};return{defaultURL:c("defaultURL","REACT_APP_DEFAULT_URL"),geographyURL:c("geographyURL","REACT_APP_GEOGRAPHY_URL"),geographyColumn:c("geographyColumn","REACT_APP_GEOGRAPHY_COLUMN"),column:c("column","REACT_APP_COLUMN"),layerName:c("layerName","REACT_APP_LAYER_NAME"),tooltipColumns:c("tooltipColumns","REACT_APP_TOOLTIP_COLUMNS"),viewport:u(n.viewport)||e.viewport||o.viewport,data:u(n.data)||e.data||r,dark:A(c("dark","REACT_APP_DARK",!0),"boolean",!0),hideChartGenerator:c("hideChartGenerator","REACT_APP_HIDE_CHART_GENERATOR",!0),hideCharts:c("hideCharts","REACT_APP_HIDE_CHARTS",!0),hideSidebar:c("hideSidebar","REACT_APP_HIDE_SIDEBAR",!0),select:l(n.select)||e.select,leftSidebarContent:e.leftSidebarContent,onViewStateChange:e.onViewStateChange,onStateChange:e.onStateChange}};var s=function(e){return"true"===e||"false"!==e&&void 0},u=function(e){try{return JSON.parse(e)}catch(t){return!1}};t.jsonStr=u;var l=function(e){var t=u(e),n={};if((0,o.isObject)(t))return Object.keys(t).forEach((function(e){(0,o.isArray)(t[e])&&(n[e]=new Set(t[e]))})),n;if((0,o.isString)(e)){if(!new RegExp(/^[\w+._-\s\\(\\)]+:[\w+._-\s\\(\\)]+/).test(e))return null;var r=e.split(":");if(r.length<1)return null;for(var i=0;i<r.length;i+=2){var a=r[i+1]&&r[i+1].split(",");(0,o.isArray)(a)&&(n[r[i]]=new Set(a))}return n}return null};t.keySetObject=l;t.jsonFromKeySetObject=function(e){return e&&Object.keys(e)?Object.keys(e).reduce((function(t,n){return t[n]=Array.from(e[n]),t}),{}):{}}},5178:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=a?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(2791));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){var t=null,n=null,r=function(){e.apply(void 0,s(n)),t=null},i=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];n=i,t||(t=requestAnimationFrame(r))};return i.cancel=function(){return t&&cancelAnimationFrame(t)},i};t.throttle=c;var A=function(e){return e},f=function(e){var t=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onDrag,t=void 0===e?A:e,n=a((0,i.useState)(!1),2),r=n[0],o=n[1],s=(0,i.useRef)({x:0,y:0}),u=(0,i.useRef)(),l=(0,i.useRef)(),f=(0,i.useCallback)((function(e){if(u.current=e,l.current&&l.current(),e){var t=function(e){e&&e.target&&e.target.style&&(e.target.style.userSelect="none",o(!0))};e.addEventListener("mousedown",t),l.current=function(){e.removeEventListener("mousedown",t)}}}),[]);return(0,i.useEffect)((function(){if(r){var e=c((function(e){if(u.current&&s.current){var n=s.current,r=u.current;s.current=t({x:n.x+e.movementX,y:n.y+e.movementY}),r.style.transform="translate(".concat(n.x,"px, ").concat(n.y,"px)")}})),n=function(e){e&&e.target&&e.target.style&&(e.target.style.userSelect="auto",o(!1))};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",n),function(){e.cancel(),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",n)}}}),[r,t]),[f,r]}({onDrag:(0,i.useCallback)((function(e){var t=e.x,n=e.y;return{x:Math.max(0,t),y:Math.max(0,n)}}),[])}),n=a(t,2),r=n[0];n[1];return i.default.createElement("div",{ref:r},e.component)};t.default=f},5789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sfType=t.setGeojsonProps=t.propertyCountByProperty=t.propertyCount=t.properties=t.isPropertyValueNumeric=t.isONSCode=t.isColumnAllNumeric=t.getPropertyValues=t.getKeyColumns=t.describeFeatureVariables=t.coordsAsXY=t.arrayPlotProps=void 0;var r=n(7199),i=n(3678);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}t.sfType=function(e){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type};t.properties=function(e){if(!e||!e.features)return null;var t=e.features[0].properties;return Object.keys(t)};t.getKeyColumns=function(e){if(!e||!e.features)return null;var t=[],n=s(e);return Object.keys(n).forEach((function(r){Array.from(n[r]).length===e.features.length&&t.push(r)})),t.length>0?t:null};t.isONSCode=function(e){if(!e||0===e.length)return!1;var t=!0;return e.forEach((function(e){(0,r.isString)(e)&&9===e.length&&e.match(/^[EWS]\d{2}.{6}$/)||(t=!1)})),t};t.describeFeatureVariables=function(e){if(!e||!(0,r.isObject)(e))return null;var t={};return Object.keys(e).forEach((function(n){var o=String,a=e[n];(0,i.isStringDate)(a)?o=Date:(0,r.isNumber)(a)?o=Number:(0,r.isBoolean)(a)?o=Boolean:(0,r.isObject)(a)&&(o=Object),t[n]=o})),t};var s=function(e,t){if(!e||!e.features)return null;var n={},r=new Set;return e.features.forEach((function(e){e.properties&&Object.keys(e.properties)&&Object.keys(e.properties).forEach((function(i){t&&t===i?r.add(e.properties[i]):("object"===a(n[i])||(n[i]=new Set),n[i].add(e.properties[i]))}))})),t?Array.from(r):n};t.getPropertyValues=s;t.propertyCount=function(e,t,n){if(e&&t){var r=[],i=n;return n&&0!==n.length||(i=s({features:e},t)),e.forEach((function(e){Object.keys(e.properties).forEach((function(n){if(n===t){var o=i.indexOf(e.properties[n]);r[o]&&r[o].x===e.properties[n]?r[o].y+=1:r[o]={x:e.properties[n],y:1}}}))})),r}};t.propertyCountByProperty=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e&&t&&n&&t!==n){var i={};return e.forEach((function(e){var a=e.properties;if(a&&Object.keys(a)){var s=r&&new Date(a[n])&&new Date(a[n]).getFullYear()?new Date(a[n]).getFullYear():a[n];Object.keys(a).forEach((function(e){e===t&&(i[s]&&i[s][a[e]]?i[s][a[e]]+=1:i[s]=Object.assign(i[s]||{},o({},a[e],1)))}))}})),i}};t.coordsAsXY=function(e,t){return e.features?e.features.map((function(e){var n={x:e.geometry.coordinates[0],y:e.geometry.coordinates[1]};return t&&e.properties[t]&&(n.size=e.properties[t]),n})):null};t.isColumnAllNumeric=function(e,t){if(!Array.isArray(e)&&(!(0,r.isString)(t)||!(0,r.isNumber)(t)))return null;var n=!0;return e.forEach((function(e){(0,r.isStringNumeric)(e.properties[+t||0===+t?Object.keys(e.properties)[t]:t])||(n=!1)})),n};t.isPropertyValueNumeric=function(e,t){if(!(0,r.isArray)(e))return null;if(!(0,r.isString)(t)&&!(0,r.isNumber)(t))return null;var n=Math.floor(Math.random()*e.length);return+(e[n]&&e[n].properties&&e[n].properties[t])};t.arrayPlotProps=function(e,t){var n={data:[],type:null};if(!e||!Array.isArray(e)||!e.length||!t)return n;var o=e.map((function(e){return e.properties[t]})),a=(0,i.uniqueValuePercentage)(o,95),s=[];e.forEach((function(e){var n=e.properties[t];(0,r.isStringNumeric)(n)&&s.push(n)}));var u=s.length/o.length*100,l=s.length>10?u>95:u>50;return a&&!l?n:{data:l?e.map((function(e,n){return{x:n,y:e.properties[t]}})):(0,i.xyObjectByProperty)(e,t),type:l?"continuous":"cardinal"}};t.setGeojsonProps=function(e,t,n){if(!(0,r.isObject)(e)||!(0,r.isArray)(t)||!e.features||!e.features[0]||!t[0]||!t[0].properties)return e;var i=function(e){return(0,r.isString)(n)&&n.split(":")[e]||n},o=i(0),a=i(1);if(!n){var s=Object.keys(e.features[0].properties).map((function(e){return e.toLocaleLowerCase()})),u=Object.keys(t[0].properties).map((function(e){return e.toLocaleLowerCase()})),l=s.filter((function(e){return u.includes(e)}))[0];o=a=l}if(!(0,r.isString)(o)&&!(0,r.isString)(a)||!e.features[0].properties[a]||!t[0].properties[o])return e;var c=Object.assign({},e);return c.features=[],e.features.forEach((function(e){for(var n=0;n<t.length;n++)if(e.properties[a]===t[n].properties[o]){var r={type:e.type,properties:t[n].properties,geometry:e.geometry};c.features.push(r);break}})),c}},923:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Legend=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=n(7564),a=n(5602),s=n(7199),u=n(3678);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=(0,a.styled)("div",(function(e){var t;return f(t={backgroundColor:e.$theme.colors.backgroundTertiary,display:"flex",justifyContent:"space-between",position:"-webkit-sticky"},"position","sticky"),f(t,"top",0),t}));function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],r=/\.0+$|(\.[0-9]*[1-9])0+$/,i=n.reverse().find((function(t){return e>=t.value}));return i?(e/i.value).toFixed(t).replace(r,"$1")+i.symbol:"0"}t.Legend=function(e){var t=c((0,i.useState)(!e.hasOwnProperty("open")||e.open),2),n=t[0],r=t[1],a=e.domain,l=e.interpolate,A=void 0===l?o.interpolateOrRd:l,f=e.title;(0,s.randomToNumber)(a&&a.length);if(!a||!Array.isArray(a))return null;for(var d=(0,u.iWithFaName)(n?"fa fa-compress":"fa fa-expand",(function(){r((function(e){return!e}))}),{fontSize:"1.1em"},n?"Minimize legend":"Expand legend"),g=a[a.length-1],v=a[0],y=(0,u.isArrayNumeric)(a),m=[i.default.createElement(h,{key:"tgve-legend-header"},i.default.createElement("p",{key:"title"},f),d)],b=y&&a.length>10?10:a.length,_=0;_<b;_+=1){var w=i.default.createElement("p",{title:a[_],key:_,style:{textAlign:"left"}},i.default.createElement("span",{style:{borderRadius:0,width:15,background:A(_/b)}}),(0,u.shortenName)(a[_],8));y&&(w=i.default.createElement("i",{key:_},p(v)),_===b-1?w=i.default.createElement("i",{key:_},p(g)):0!==_&&(w=i.default.createElement("span",{key:_,style:{background:A(_/b)}}))),m.push(w)}return n?m:d}},3678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xyObjectByProperty=t.updateHistory=t.uniqueValuePercentage=t.theme=t.suggestUIforNumber=t.suggestDeckLayer=t.sortNumericArray=t.shortenName=t.searchNominatom=t.screenshot=t.percentDiv=t.isURL=t.isStringDate=t.isMobile=t.isArrayNumeric=t.iconJSType=t.iWithFaName=t.humanize=t.getViewportParams=t.getResultsFromGoogleMaps=t.getOSMTiles=t.getMin=t.getMax=t.getMainMessage=t.getFirstDateColumnName=t.getColorArray=t.getCentroid=t.getBbx=t.generateDomain=t.generateDeckLayer=t.firstLastNCharacters=t.fetchData=t.convertRange=t.colorScale=t.colorRanges=t.colorRangeNamesToInterpolate=t.colorRangeNames=t.checkURLReachable=t.COLOR_RANGE=void 0;var r=m(n(2791)),i=n(7564),o=n(1028),a=n(2564),s=m(n(5922)),u=n(7568),l=m(n(7313)),c=m(n(6189)),A=m(n(723)),f=m(n(9639)),h=n(7199),p=m(n(6276)),d=m(n(5503)),g=n(5789),v=n(934),y=m(n(9332));function m(e){return e&&e.__esModule?e:{default:e}}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=n(6809).DateTime;t.getResultsFromGoogleMaps=function(e,t){"string"===typeof e&&"function"===typeof t&&fetch("https://maps.googleapis.com/maps/api/geocode/json?address="+e+"&key=WRONG_KEY").then((function(e){200===e.status?e.json().then((function(n){0===n.results.length||"ZERO_RESULTS"===e.status?t(e.status):t(n.results[0].geometry.location)})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)}))};var S=function(e,t){fetch(e).then((function(e){return e.text()})).then((function(n){if((0,h.isString)(e)&&e.endsWith("zip"))"function"===typeof shp?shp(e).then((function(e){"function"===typeof t&&t(e)})):t(void 0,new Error(e+"Function 'shp' is not in context."));else if((0,h.isString)(e)&&e.endsWith("csv"))s.default.csv2geojson(n,(function(e,n){e||"function"===typeof t&&t(n)}));else try{var r=JSON.parse(n);t(r)}catch(i){t(void 0,i)}})).catch((function(e){console.error(e),t(null,e)}))};t.fetchData=S;t.checkURLReachable=function(e,t){fetch(e).then((function(e){e.ok?t(!0):t(!1)})).catch((function(e){console.log("There has been a problem with your fetch operation: "+e.message)}))};t.xyObjectByProperty=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&t){var r=new Map;e.forEach((function(e){var i=e.properties[t];n&&(0,h.isNullUndefinedNaN)(i)||(i=(0,h.isStringNumeric)(i)?+i:i,r.get(i)?r.set(i,r.get(i)+1):r.set(i,1))}));var i=Array.from(r.keys());if(i&&i.length)return i.sort(u.ascending),i.map((function(e){return{x:e,y:+r.get(e)}}))}};var k=(0,o.scaleThreshold)().domain([-.6,-.45,-.3,-.15,0,.15,.3,.45,.6,.75,.9,1.05,1.2]).range([[65,182,196],[127,205,187],[199,233,180],[237,248,177],[255,255,204],[255,237,160],[254,217,118],[254,178,76],[253,141,60],[252,78,42],[227,26,28],[189,0,38],[128,0,38]]);t.COLOR_RANGE=k;t.generateDeckLayer=function(e,t,n,r){var i=function(e,t){Object.keys(e).forEach((function(n){return t[n]=e[n]}))};if("icon"===e){var o={id:"icon-layer",data:t,pickable:!0,iconAtlas:d.default,iconMapping:A.default,sizeScale:60,getPosition:function(e){return e.geometry.coordinates},wrapLongitude:!0,onHover:n};return i(r,o),new p.default(o)}return function(e,t,n){var o=(0,v.getLayerProps)(e);if(!o||!o.class||!o.class.value)return null;var a={},s={};return Object.keys(o).forEach((function(e){var n=o[e]&&o[e].type;"number"===n||"column"===n?(a[e]=o[e].default,"column"===n&&"function"===typeof r[e]&&(s[e]="function"===typeof r[e]&&t.map((function(t){return r[e](t)})))):a[e]="boolean"===n||"class"===n?o[e].value:o[e]})),a.data=t,a.id=e+"-layer",a.onHover=n,a.getPosition=function(e){return e.geometry.coordinates},i(r,a),a.updateTriggers=C(C({},a.updateTriggers),s),new o.class.value(a)}(e,t,n)};t.getCentroid=function(e){var t=e.reduce((function(t,n){return[t[0]+n[0]/e.length,t[1]+n[1]/e.length]}),[0,0]);return t=[parseFloat(t[1].toFixed(3)),parseFloat(t[0].toFixed(3))]};t.convertRange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{oldMax:10,oldMin:1,newMax:1,newMin:0},n=(e-t.oldMin)*(t.newMax-t.newMin)/(t.oldMax-t.oldMin)+t.newMin;return+n.toFixed(2)};t.getViewportParams=function(e){if("string"!==typeof e||!e)return null;var t=c.default.parse(e.replace("?","")),n=Number(t.lat).toFixed(3),r=Number(t.lng).toFixed(3);return{latitude:isNaN(n)?53.8321:Number(n),longitude:isNaN(r)?-1.6362:Number(r),zoom:Number(c.default.parse(e).zoom)||10,pit:Number(c.default.parse(e).pit)||55,bea:Number(c.default.parse(e).bea)||0,alt:Number(c.default.parse(e).alt)||1.5}};t.getBbx=function(e){if(!e)return null;var t=e._sw.lng,n=e._ne.lng,r=e._sw.lat,i=e._ne.lat;return t>n&&(n=e._sw.lng,t=e._ne.lng),r>i&&(i=e._sw.lat,r=e._ne.lat),{xmin:t,ymin:r,xmax:n,ymax:i}};t.suggestDeckLayer=function(e){var t=(0,h.randomToNumber)(e&&e.length);if(!e||!e[t].geometry||!e[t].geometry.type)return null;var n=(0,g.sfType)(e[t]);return new RegExp("point","i").test(n)?"grid":new RegExp("line","i").test(n)?"line":"geojson"};t.suggestUIforNumber=function(e){var t=f.default.UI_LIST;return e?1===e?t[0]:e>3&&e<=6?t[1]:2===e||3===e?t[2]:e>9&&e<15?t[3]:t[4]:t[1]};t.humanize=function(e){if(!(0,h.isString)(e))return e;for(var t=e.split("_"),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].slice(1);return t.join(" ")};t.shortenName=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:26;if((0,h.isNumber)(e))return parseFloat(Number.parseFloat(e).toFixed(2).toString());if(!e||e.length<=t||!(0,h.isString)(e))return e;var n=e.trim(),r=e.split(".").length>1&&e.split(".").pop().length<10&&e.split(".").pop();return n.replace(r,""),e.length>10&&(n=n.substring(0,10)+"..."+(r||"")),n};t.firstLastNCharacters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return+e||!e?e:e.slice(0,t)+(e.length>t+t?"..."+e.slice(e.length-t,e.length):e.length>t?"...":"")};t.percentDiv=function(e,t,n,i){return r.default.createElement("div",{key:e,onClick:function(){return"function"===typeof n&&n()},style:{cursor:"pointer",textAlign:"center",position:"relative",float:"left",width:"30%",color:i?"white":"black",margin:"10px 2px",border:"1px solid gray"}},r.default.createElement("span",{style:{position:"absolute",left:"10%"}},e),r.default.createElement("div",{style:{width:t+"%",height:20,background:"rgb(18, 147, 154)"}}))},Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.reduce((function(t,n){return t.concat(Array.isArray(n)&&e>1?n.flat(e-1):n)}),[])}});var O=["http://localhost","http://127.0.0.1"].map((function(e){return[e,e+":8080",e+":8000",e+":5000",e+":3000"]})).flat(),T=new RegExp("^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?)?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");t.isURL=function(e){return!!(0,h.isString)(e)&&(!!O.some((function(t){return e.startsWith(t)}))||T.test(e))};function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,h.isString)(e)){var n=parseInt(e.substring(1,e.length),16),r=n>>16&255,i=n>>8&255,o=255&n;return t?[r,i,o]:"rgb("+r+","+i+","+o+")"}}t.isMobile=function(){var e,t=!1;return window.innerWidth<640||(e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t)};t.colorScale=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:180,r=arguments.length>3?arguments[3]:void 0;if(!e||!(0,a.isArray)(t)||!t.length)return null;if(r===M[5]&&t.length<=10){var o=P(i.schemeSet1[t.indexOf(e)],!0);return(0,a.isArray)(o)?[].concat(_(o),[n]):void 0}var s=t.indexOf(e),u=(0,h.isString)(r)&&F(r)?F(r):i.interpolateOrRd,l=u(s/t.length);return l=l.substring(4,l.length-1).replace(/ /g,"").split(",").map((function(e){return+e})),[].concat(_(l),[n])};var M=["inverseDefault","yellowblue","greens","oranges","diverge","default"];t.colorRangeNames=M;var F=function(e){return e?e===M[0]?i.interpolateReds:e===M[1]?i.interpolateYlGnBu:e===M[2]?i.interpolateGreens:e===M[3]?i.interpolateOranges:e===M[4]?i.interpolateSinebow:i.interpolateOrRd:i.interpolateOrRd};t.colorRangeNamesToInterpolate=F;t.colorRanges=function(e){var t={yellowblue:[[255,255,204],[199,233,180],[127,205,187],[65,182,196],[44,127,184],[37,52,148]],greens:[[237,248,233],[199,233,192],[161,217,155],[116,196,118],[49,163,84],[0,109,44]],oranges:[[254,237,222],[253,208,162],[253,174,107],[253,141,60],[230,85,13],[166,54,3]],diverge:[[140,81,10],[216,179,101],[246,232,195],[199,234,229],[90,180,172],[1,102,94]],inverseDefault:[[189,0,38],[240,59,32],[253,141,60],[254,178,76],[254,217,118],[255,255,178]],default:[[255,255,178],[254,217,118],[254,178,76],[253,141,60],[240,59,32],[189,0,38]]};return(0,h.isString)(e)?t[e]:t.default};t.getColorArray=function(e){if(!(0,h.isString)(e))return null;return{yellowblue:[0,52,148],greens:[0,255,0],oranges:[166,166,0],diverge:[255,102,94],inverseDefault:[255,255,178],default:[189,0,38]}[e]};t.iconJSType=function(e){if(!e)return null;switch(e){case"String":e="fa fa-globe";break;case"Number":e="fa fa-list";break;case"Object":e="fa fa-sack";break;default:e="fa fa-question-circle"}return e};t.searchNominatom=function(e,t){S("https://nominatim.openstreetmap.org/search/"+e+"?format=json",(function(e){"function"===typeof t&&t(e)}))};t.generateDomain=function(e,t){if(e&&Array.isArray(e)&&t&&e.length){var n=!0,r=[];return e.forEach((function(e){var i=e.properties[+t?Object.keys(e.properties)[t]:t];i&&(+i&&"Mean.Travel.Time..Seconds."===t?r.push(Math.floor(i/300)):+i?r.push(+i):(n=!1,r.push(i)))})),r=Array.from(new Set(r)),n&&(r=r.sort((function(e,t){return e-t}))),r}};t.sortNumericArray=function(e){var t=!0;return e.map((function(e){return!(0,h.isNumber)(e)&&(t=!1)})),t&&(e=e.sort((function(e,t){return e-t}))),e};t.getMax=function(e){return e.reduce((function(e,t){return e>=t?e:t}),-1/0)};t.getMin=function(e){return e.reduce((function(e,t){return e<=t?e:t}),1/0)};t.getOSMTiles=function(e){var t={OSM:"http://tile.openstreetmap.org/{z}/{x}/{y}.png",OSMB:"http://b.tile.openstreetmap.org/{z}/{x}/{y}.png",TONER:"http://tile.stamen.com/toner/{z}/{x}/{y}.png",STAMEN:"https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg"};return{version:8,sources:{"simple-tiles":{type:"raster",tiles:[t[e]||t.STAMEN],tileSize:256}},layers:[{id:"simple-tiles",type:"raster",source:"simple-tiles"}]}};t.getFirstDateColumnName=function(e){if(!(0,h.isObject)(e)||!Object.keys(e))return null;var t=new RegExp(f.default.DATE_REGEX);return Object.keys(e).filter((function(e){return t.test(e)}))[0]};var I=function(e){return e&&e.length&&e.length+" row"+(e.length>1?"s":"")};t.getMainMessage=function(e,t){return e&&e.length&&t&&t.length?I(e)+(e.length<t.length?" of "+t.length:""):e&&e.length?I(e):"Nothing to show"};t.theme=function(e){return{color:e?"white":"black",background:e?"#242730":"white"}};t.isStringDate=function(e){return E.fromFormat(e+"","MMMM dd yyyy").isValid||E.fromFormat(e+"","MMMM d yyyy").isValid||E.fromFormat(e+"","MMM d yyyy").isValid||E.fromFormat(e+"","MMM dd yyyy").isValid||E.fromFormat(e+"","dd/MM/yyyy").isValid||E.fromFormat(e+"","dd-MM-yyyy").isValid||E.fromFormat(e+"","yyyy/mm/dd").isValid||E.fromFormat(e+"","yyyy-mm-dd").isValid||E.fromISO(e).isValid||E.fromHTTP(e).isValid||b(e)===Number&&E.fromMillis(e).isValid};var L=function(e){return Array.isArray(e)&&e.length?Array.from(new Set(e)).length:null};t.uniqueValuePercentage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=L(e);return n||0===n?n/e.length*100>t:null};t.updateHistory=function(e){if(e){var t="?",n=["defaultURL","geographyURL","geographyColumn"];Object.keys(e).forEach((function(r){"latitude"===r?t+="lat=".concat(e[r].toFixed(3),"&"):"longitude"===r?t+="lng=".concat(e[r].toFixed(3),"&"):"zoom"===r?t+="".concat(r,"=").concat(e[r].toFixed(2),"&"):"bearing"===r||"pitch"===r||"altitude"===r?t+="".concat(r.substring(0,3),"=").concat(e[r],"&"):n.includes(r)&&(0,h.isString)(e[r])&&(t+="".concat(r,"=").concat(e[r],"&"))})),t=t.slice(0,-1);var r={pathname:y.default.location.pathname,search:t};y.default.location.search?y.default.replace(r):y.default.push(r)}};t.screenshot=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i="tgve-screenshot.png";if(e&&t){var o=e.getCanvas();t.redraw(!0);var a=t.canvas,s=document.createElement("canvas");s.width=o.width,s.height=o.height;var u=s.getContext("2d");if(u.globalAlpha=1,u.drawImage(o,0,0),u.globalAlpha=1,u.drawImage(a,0,0),n)(0,l.default)(document.body).then((function(e){u.drawImage(e,0,0),"function"!==typeof r?R(s,i):r(s,i)}));else{if("function"===typeof r)return void r(s,i);R(s,i)}}};var R=function(e,t){var n=e.toDataURL("image/png").replace("image/png","image/octet-stream"),r=document.createElement("a");r.download=t,r.href=n,r.click()};t.iWithFaName=function(e,t,n,i){return r.default.createElement("i",{style:Object.assign({margin:5,cursor:"pointer",fontSize:"1.5em"},n),onClick:t,className:e||"fa fa-info",title:i})};t.isArrayNumeric=function(e){if(!(0,a.isArray)(e))return null;var t=!0;return e.forEach((function(e){(0,h.isNumber)(e)||(t=!1)})),t}},2252:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(1413),i=n(5671),o=n(3144),a=n(8810),s=n(6287),u=n(3417),l={transitionDuration:0},c=function(e){return 1-(1-e)*(1-e)},A=["wheel"],f=["panstart","panmove","panend"],h=["pinchstart","pinchmove","pinchend"],p=["tripanstart","tripanmove","tripanend"],d=["doubletap"],g=["keydown"],v={},y=function(){function e(t){var n=this;(0,i.Z)(this,e),(0,a.Z)(this,"props",void 0),(0,a.Z)(this,"state",{}),(0,a.Z)(this,"transitionManager",void 0),(0,a.Z)(this,"eventManager",void 0),(0,a.Z)(this,"onViewStateChange",void 0),(0,a.Z)(this,"onStateChange",void 0),(0,a.Z)(this,"makeViewport",void 0),(0,a.Z)(this,"_controllerState",void 0),(0,a.Z)(this,"_events",{}),(0,a.Z)(this,"_interactionState",{isDragging:!1}),(0,a.Z)(this,"_customEvents",[]),(0,a.Z)(this,"_eventStartBlocked",null),(0,a.Z)(this,"_panMove",!1),(0,a.Z)(this,"invertPan",!1),(0,a.Z)(this,"dragMode","rotate"),(0,a.Z)(this,"inertia",0),(0,a.Z)(this,"scrollZoom",!0),(0,a.Z)(this,"dragPan",!0),(0,a.Z)(this,"dragRotate",!0),(0,a.Z)(this,"doubleClickZoom",!0),(0,a.Z)(this,"touchZoom",!0),(0,a.Z)(this,"touchRotate",!1),(0,a.Z)(this,"keyboard",!0),this.transitionManager=new s.Z((0,r.Z)((0,r.Z)({},t),{},{getControllerState:function(e){return new n.ControllerState(e)},onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)})),this.handleEvent=this.handleEvent.bind(this),this.eventManager=t.eventManager,this.onViewStateChange=t.onViewStateChange||function(){},this.onStateChange=t.onStateChange||function(){},this.makeViewport=t.makeViewport}return(0,o.Z)(e,[{key:"events",set:function(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}},{key:"finalize",value:function(){for(var e in this._events){var t;if(this._events[e])null===(t=this.eventManager)||void 0===t||t.off(e,this.handleEvent)}this.transitionManager.finalize()}},{key:"handleEvent",value:function(e){this._controllerState=void 0;var t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"controllerState",get:function(){return this._controllerState=this._controllerState||new this.ControllerState((0,r.Z)((0,r.Z)({makeViewport:this.makeViewport},this.props),this.state)),this._controllerState}},{key:"getCenter",value:function(e){var t=this.props,n=t.x,r=t.y,i=e.offsetCenter;return[i.x-n,i.y-r]}},{key:"isPointInBounds",value:function(e,t){var n=this.props,r=n.width,i=n.height;if(t&&t.handled)return!1;var o=e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=i;return o&&t&&t.stopPropagation(),o}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"isDragging",value:function(){return this._interactionState.isDragging||!1}},{key:"blockEvents",value:function(e){var t=this,n=setTimeout((function(){t._eventStartBlocked===n&&(t._eventStartBlocked=null)}),e);this._eventStartBlocked=n}},{key:"setProps",value:function(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);var t=e.inertia;this.inertia=Number.isFinite(t)?t:!0===t?300:0;var n=e.scrollZoom,r=void 0===n||n,i=e.dragPan,o=void 0===i||i,a=e.dragRotate,s=void 0===a||a,u=e.doubleClickZoom,l=void 0===u||u,c=e.touchZoom,v=void 0===c||c,y=e.touchRotate,m=void 0!==y&&y,b=e.keyboard,_=void 0===b||b,w=Boolean(this.onViewStateChange);this.toggleEvents(A,w&&r),this.toggleEvents(f,w&&(o||s)),this.toggleEvents(h,w&&(v||m)),this.toggleEvents(p,w&&m),this.toggleEvents(d,w&&l),this.toggleEvents(g,w&&_),this.scrollZoom=r,this.dragPan=o,this.dragRotate=s,this.doubleClickZoom=l,this.touchZoom=v,this.touchRotate=m,this.keyboard=_}},{key:"updateTransition",value:function(){this.transitionManager.updateTransition()}},{key:"toggleEvents",value:function(e,t){var n=this;this.eventManager&&e.forEach((function(e){n._events[e]!==t&&(n._events[e]=t,t?n.eventManager.on(e,n.handleEvent):n.eventManager.off(e,n.handleEvent))}))}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,r.Z)((0,r.Z)({},e.getViewportProps()),t),o=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(n),o){var a=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:i,interactionState:this._interactionState,oldViewState:a})}}},{key:"_onTransition",value:function(e){this.onViewStateChange((0,r.Z)((0,r.Z)({},e),{},{interactionState:this._interactionState}))}},{key:"_setInteractionState",value:function(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(n=!n);var r=this.controllerState[n?"panStart":"rotateStart"]({pos:t});return this._panMove=n,this.updateViewport(r,l,{isDragging:!0}),!0}},{key:"_onPan",value:function(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}},{key:"_onPanEnd",value:function(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),n=this.controllerState.pan({pos:t});return this.updateViewport(n,l,{isDragging:!0,isPanning:!0}),!0}},{key:"_onPanMoveEnd",value:function(e){var t=this.inertia;if(this.dragPan&&t&&e.velocity){var n=this.getCenter(e),i=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],o=this.controllerState.pan({pos:i}).panEnd();this.updateViewport(o,(0,r.Z)((0,r.Z)({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:c}),{isDragging:!1,isPanning:!0})}else{var a=this.controllerState.panEnd();this.updateViewport(a,null,{isDragging:!1,isPanning:!1})}return!0}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=this.getCenter(e),n=this.controllerState.rotate({pos:t});return this.updateViewport(n,l,{isDragging:!0,isRotating:!0}),!0}},{key:"_onPanRotateEnd",value:function(e){var t=this.inertia;if(this.dragRotate&&t&&e.velocity){var n=this.getCenter(e),i=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],o=this.controllerState.rotate({pos:i}).rotateEnd();this.updateViewport(o,(0,r.Z)((0,r.Z)({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:c}),{isDragging:!1,isRotating:!0})}else{var a=this.controllerState.rotateEnd();this.updateViewport(a,null,{isDragging:!1,isRotating:!1})}return!0}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;e.srcEvent.preventDefault();var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=!0===this.scrollZoom?{}:this.scrollZoom,i=n.speed,o=void 0===i?.01:i,a=n.smooth,s=void 0!==a&&a,u=e.delta,l=2/(1+Math.exp(-Math.abs(u*o)));u<0&&0!==l&&(l=1/l);var c=this.controllerState.zoom({pos:t,scale:l});return this.updateViewport(c,(0,r.Z)((0,r.Z)({},this._getTransitionProps({around:t})),{},{transitionDuration:s?250:1}),{isZooming:!0,isPanning:!0}),!0}},{key:"_onTriplePanStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.controllerState.rotateStart({pos:t});return this.updateViewport(n,l,{isDragging:!0}),!0}},{key:"_onTriplePan",value:function(e){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;var t=this.getCenter(e);t[0]-=e.deltaX;var n=this.controllerState.rotate({pos:t});return this.updateViewport(n,l,{isDragging:!0,isRotating:!0}),!0}},{key:"_onTriplePanEnd",value:function(e){if(!this.isDragging())return!1;var t=this.inertia;if(this.touchRotate&&t&&e.velocityY){var n=this.getCenter(e),i=[n[0],n[1]+=e.velocityY*t/2],o=this.controllerState.rotate({pos:i});this.updateViewport(o,(0,r.Z)((0,r.Z)({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:c}),{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{var a=this.controllerState.rotateEnd();this.updateViewport(a,null,{isDragging:!1,isRotating:!1})}return!0}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return v._startPinchRotation=e.rotation,v._lastPinchEvent=e,this.updateViewport(n,l,{isDragging:!0}),!0}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;var t=this.controllerState;if(this.touchZoom){var n=e.scale,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){var i=e.rotation;t=t.rotate({deltaAngleX:v._startPinchRotation-i})}return this.updateViewport(t,l,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),v._lastPinchEvent=e,!0}},{key:"_onPinchEnd",value:function(e){if(!this.isDragging())return!1;var t=this.inertia,n=v._lastPinchEvent;if(this.touchZoom&&t&&n&&e.scale!==n.scale){var i=this.getCenter(e),o=this.controllerState.rotateEnd(),a=Math.log2(e.scale),s=(a-Math.log2(n.scale))/(e.deltaTime-n.deltaTime),u=Math.pow(2,a+s*t/2);o=o.zoom({pos:i,scale:u}).zoomEnd(),this.updateViewport(o,(0,r.Z)((0,r.Z)({},this._getTransitionProps({around:i})),{},{transitionDuration:t,transitionEasing:c}),{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{var l=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(l,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return v._startPinchRotation=null,v._lastPinchEvent=null,!0}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,n=this.isFunctionKeyPressed(e),r=!0===this.keyboard?{}:this.keyboard,i=r.zoomSpeed,o=r.moveSpeed,a=r.rotateSpeedX,s=r.rotateSpeedY,u=this.controllerState,l={};switch(e.srcEvent.code){case"Minus":t=n?u.zoomOut(i).zoomOut(i):u.zoomOut(i),l.isZooming=!0;break;case"Equal":t=n?u.zoomIn(i).zoomIn(i):u.zoomIn(i),l.isZooming=!0;break;case"ArrowLeft":n?(t=u.rotateLeft(a),l.isRotating=!0):(t=u.moveLeft(o),l.isPanning=!0);break;case"ArrowRight":n?(t=u.rotateRight(a),l.isRotating=!0):(t=u.moveRight(o),l.isPanning=!0);break;case"ArrowUp":n?(t=u.rotateUp(s),l.isRotating=!0):(t=u.moveUp(o),l.isPanning=!0);break;case"ArrowDown":n?(t=u.rotateDown(s),l.isRotating=!0):(t=u.moveDown(o),l.isPanning=!0);break;default:return!1}return this.updateViewport(t,this._getTransitionProps(),l),!0}},{key:"_getTransitionProps",value:function(e){var t=this.transition;return t&&t.transitionInterpolator?e?(0,r.Z)((0,r.Z)({},t),{},{transitionInterpolator:new u.Z((0,r.Z)((0,r.Z)((0,r.Z)({},e),t.transitionInterpolator.opts),{},{makeViewport:this.controllerState.makeViewport}))}):t:l}}]),e}()},1051:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(7326),i=n(1413),o=n(5671),a=n(3144),s=n(136),u=n(7277),l=n(8810),c=n(2252),A=n(1345),f=n(7416),h=n(3417),p=n(8140),d=n(1570),g=n(9166),v=20,y=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){(0,o.Z)(this,n);var r=e.width,i=e.height,a=e.position,s=void 0===a?[0,0,0]:a,u=e.bearing,l=void 0===u?0:u,c=e.pitch,A=void 0===c?0:c,f=e.longitude,h=void 0===f?null:f,p=e.latitude,d=void 0===p?null:p,g=e.maxPitch,v=void 0===g?90:g,y=e.minPitch,m=void 0===y?-90:y,b=e.startRotatePos,_=e.startBearing,w=e.startPitch,x=e.startZoomPosition;return t.call(this,{width:r,height:i,position:s,bearing:l,pitch:A,longitude:h,latitude:d,maxPitch:v,minPitch:m},{startRotatePos:b,startBearing:_,startPitch:w,startZoomPosition:x})}return(0,a.Z)(n,[{key:"panStart",value:function(){return this}},{key:"pan",value:function(){return this}},{key:"panEnd",value:function(){return this}},{key:"rotateStart",value:function(e){var t=e.pos;return this._getUpdatedState({startRotatePos:t,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}},{key:"rotate",value:function(e){var t,n=e.pos,r=e.deltaAngleX,i=void 0===r?0:r,o=e.deltaAngleY,a=void 0===o?0:o,s=this.getState(),u=s.startRotatePos,l=s.startBearing,c=s.startPitch,A=this.getViewportProps(),f=A.width,h=A.height;if(!u||void 0===l||void 0===c)return this;n?t={bearing:l-180*((n[0]-u[0])/f),pitch:c-90*((n[1]-u[1])/h)}:t={bearing:l-i,pitch:c-a};return this._getUpdatedState(t)}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(){return this._getUpdatedState({startZoomPosition:this.getViewportProps().position})}},{key:"zoom",value:function(e){var t=e.scale,n=this.getState().startZoomPosition;n||(n=this.getViewportProps().position);var r=this.getDirection();return this._move(r,Math.log2(t)*v,n)}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomPosition:null})}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=this.getDirection(!0);return this._move(t.rotateZ({radians:Math.PI/2}),e)}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=this.getDirection(!0);return this._move(t.rotateZ({radians:-Math.PI/2}),e)}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=this.getDirection(!0);return this._move(t,e)}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=this.getDirection(!0);return this._move(t.negate(),e)}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}},{key:"rotateUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}},{key:"rotateDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this.zoom({scale:e})}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this.zoom({scale:1/e})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),n=(0,i.Z)({},this.getViewportProps()),r=n.bearing,o=n.longitude;return Math.abs(r-t.bearing)>180&&(n.bearing=r<0?r+360:r-360),null!==o&&null!==t.longitude&&Math.abs(o-t.longitude)>180&&(n.longitude=o<0?o+360:o-360),n}},{key:"_move",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getViewportProps().position,r=e.scale(t);return this._getUpdatedState({position:new p.Z(n).add(r)})}},{key:"getDirection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new d.Z({bearing:this.getViewportProps().bearing,pitch:e?90:90+this.getViewportProps().pitch}),n=t.toVector3().normalize();return n}},{key:"_getUpdatedState",value:function(e){return new n((0,i.Z)((0,i.Z)((0,i.Z)({},this.getViewportProps()),this.getState()),e))}},{key:"applyConstraints",value:function(e){var t=e.pitch,n=e.maxPitch,r=e.minPitch,i=e.longitude,o=e.bearing;return e.pitch=(0,g.uZ)(t,r,n),null!==i&&(i<-180||i>180)&&(e.longitude=(0,f.wQ)(i+180,360)-180),(o<-180||o>180)&&(e.bearing=(0,f.wQ)(o+180,360)-180),e}}]),n}(A.Z),m=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,l.Z)((0,r.Z)(e),"ControllerState",y),(0,l.Z)((0,r.Z)(e),"transition",{transitionDuration:300,transitionInterpolator:new h.Z(["position","pitch","bearing"])}),e}return(0,a.Z)(n)}(c.Z)},7411:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(7326),i=n(1752),o=n(1120),a=n(5671),s=n(3144),u=n(136),l=n(7277),c=n(8810),A=n(9166),f=n(2252),h=n(3791),p=n(7416),d=n(3417),g=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=(0,A.uZ)(r,n,t);var i=e.longitude,o=e.latitude;return(i<-180||i>180)&&(e.longitude=(0,p.wQ)(i+180,360)-180),e.latitude=(0,A.uZ)(o,-89,89),e}}]),n}(h.U),v=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.Z)((0,r.Z)(e),"ControllerState",g),(0,c.Z)((0,r.Z)(e),"transition",{transitionDuration:300,transitionInterpolator:new d.Z(["longitude","latitude","zoom"])}),(0,c.Z)((0,r.Z)(e),"dragMode","pan"),e}return(0,s.Z)(n,[{key:"setProps",value:function(e){(0,i.Z)((0,o.Z)(n.prototype),"setProps",this).call(this,e),this.dragRotate=!1,this.touchRotate=!1}}]),n}(f.Z)},3791:function(e,t,n){"use strict";n.d(t,{U:function(){return y},Z:function(){return m}});var r=n(1752),i=n(1120),o=n(1413),a=n(5671),s=n(3144),u=n(7326),l=n(136),c=n(7277),A=n(8810),f=n(9166),h=n(2252),p=n(1345),d=n(8611),g=n(2515),v=n(3417),y=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;(0,a.Z)(this,n);var i=e.width,o=e.height,s=e.latitude,l=e.longitude,c=e.zoom,f=e.bearing,h=void 0===f?0:f,p=e.pitch,d=void 0===p?0:p,v=e.altitude,y=void 0===v?1.5:v,m=e.position,b=void 0===m?[0,0,0]:m,_=e.maxZoom,w=void 0===_?20:_,x=e.minZoom,C=void 0===x?0:x,B=e.maxPitch,E=void 0===B?60:B,S=e.minPitch,k=void 0===S?0:S,O=e.startPanLngLat,T=e.startZoomLngLat,P=e.startRotatePos,M=e.startBearing,F=e.startPitch,I=e.startZoom,L=e.normalize,R=void 0===L||L;return(0,g.Z)(Number.isFinite(l)),(0,g.Z)(Number.isFinite(s)),(0,g.Z)(Number.isFinite(c)),r=t.call(this,{width:i,height:o,latitude:s,longitude:l,zoom:c,bearing:h,pitch:d,altitude:y,maxZoom:w,minZoom:C,maxPitch:E,minPitch:k,normalize:R,position:b},{startPanLngLat:O,startZoomLngLat:T,startRotatePos:P,startBearing:M,startPitch:F,startZoom:I}),(0,A.Z)((0,u.Z)(r),"makeViewport",void 0),r.makeViewport=e.makeViewport,r}return(0,s.Z)(n,[{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,r=this.getState().startPanLngLat||this._unproject(n);if(!r)return this;var i=this.makeViewport(this.getViewportProps()).panByPosition(r,t);return this._getUpdatedState(i)}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){var t=e.pos;return this._getUpdatedState({startRotatePos:t,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}},{key:"rotate",value:function(e){var t,n=e.pos,r=e.deltaAngleX,i=void 0===r?0:r,o=e.deltaAngleY,a=void 0===o?0:o,s=this.getState(),u=s.startRotatePos,l=s.startBearing,c=s.startPitch;return u&&void 0!==l&&void 0!==c?(t=n?this._getNewRotation(n,u,c,l):{bearing:l+i,pitch:c+a},this._getUpdatedState(t)):this}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomLngLat:this._unproject(t),startZoom:this.getViewportProps().zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale,i=this.getState(),a=i.startZoom,s=i.startZoomLngLat;if(s||(a=this.getViewportProps().zoom,s=this._unproject(n)||this._unproject(t)),!s)return this;var u=this.getViewportProps(),l=u.maxZoom,c=u.minZoom,A=a+Math.log2(r);A=(0,f.uZ)(A,c,l);var h=this.makeViewport((0,o.Z)((0,o.Z)({},this.getViewportProps()),{},{zoom:A}));return this._getUpdatedState((0,o.Z)({zoom:A},h.panByPosition(s,t)))}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(e)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(1/e)}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([e,0])}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([-e,0])}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,e])}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,-e])}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}},{key:"rotateUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}},{key:"rotateDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),n=(0,o.Z)({},this.getViewportProps()),r=n.bearing,i=n.longitude;return Math.abs(r-t.bearing)>180&&(n.bearing=r<0?r+360:r-360),Math.abs(i-t.longitude)>180&&(n.longitude=i<0?i+360:i-360),n}},{key:"applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=(0,f.uZ)(r,n,t);var i=e.maxPitch,o=e.minPitch,a=e.pitch;e.pitch=(0,f.uZ)(a,o,i);var s=e.normalize;return(void 0===s||s)&&Object.assign(e,(0,d.QA)(e)),e}},{key:"_zoomFromCenter",value:function(e){var t=this.getViewportProps(),n=t.width,r=t.height;return this.zoom({pos:[n/2,r/2],scale:e})}},{key:"_panFromCenter",value:function(e){var t=this.getViewportProps(),n=t.width,r=t.height;return this.pan({startPos:[n/2,r/2],pos:[n/2+e[0],r/2+e[1]]})}},{key:"_getUpdatedState",value:function(e){return new this.constructor((0,o.Z)((0,o.Z)((0,o.Z)({makeViewport:this.makeViewport},this.getViewportProps()),this.getState()),e))}},{key:"_unproject",value:function(e){var t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}},{key:"_getNewRotation",value:function(e,t,n,r){var i=e[0]-t[0],o=e[1]-t[1],a=e[1],s=t[1],u=this.getViewportProps(),l=u.width,c=u.height,A=i/l,h=0;o>0?Math.abs(c-s)>5&&(h=o/(s-c)*1.2):o<0&&s>5&&(h=1-a/s),h=(0,f.uZ)(h,-1,1);var p=this.getViewportProps(),d=p.minPitch,g=p.maxPitch,v=n;return h>0?v=n+h*(g-n):h<0&&(v=n-h*(d-n)),{pitch:v,bearing:r+180*A}}}]),n}(p.Z),m=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,A.Z)((0,u.Z)(e),"ControllerState",y),(0,A.Z)((0,u.Z)(e),"transition",{transitionDuration:300,transitionInterpolator:new v.Z({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),(0,A.Z)((0,u.Z)(e),"dragMode","pan"),e}return(0,s.Z)(n,[{key:"setProps",value:function(e){e.position=e.position||[0,0,0];var t=this.props;(0,r.Z)((0,i.Z)(n.prototype),"setProps",this).call(this,e),(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState((0,o.Z)((0,o.Z)({makeViewport:this.makeViewport},e),this.state)))}}]),n}(h.Z)},9200:function(e,t,n){"use strict";n.d(t,{G:function(){return d},Z:function(){return g}});var r=n(1413),i=n(5671),o=n(3144),a=n(7326),s=n(136),u=n(7277),l=n(8810),c=n(9166),A=n(2252),f=n(1345),h=n(7416),p=n(3417),d=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;(0,i.Z)(this,n);var o=e.width,s=e.height,u=e.rotationX,c=void 0===u?0:u,A=e.rotationOrbit,f=void 0===A?0:A,h=e.target,p=void 0===h?[0,0,0]:h,d=e.zoom,g=void 0===d?0:d,v=e.minRotationX,y=void 0===v?-90:v,m=e.maxRotationX,b=void 0===m?90:m,_=e.minZoom,w=void 0===_?-1/0:_,x=e.maxZoom,C=void 0===x?1/0:x,B=e.startPanPosition,E=e.startRotatePos,S=e.startRotationX,k=e.startRotationOrbit,O=e.startZoomPosition,T=e.startZoom;return r=t.call(this,{width:o,height:s,rotationX:c,rotationOrbit:f,target:p,zoom:g,minRotationX:y,maxRotationX:b,minZoom:w,maxZoom:C},{startPanPosition:B,startRotatePos:E,startRotationX:S,startRotationOrbit:k,startZoomPosition:O,startZoom:T}),(0,l.Z)((0,a.Z)(r),"makeViewport",void 0),r.makeViewport=e.makeViewport,r}return(0,o.Z)(n,[{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedState({startPanPosition:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPosition,r=this.getState().startPanPosition||n;if(!r)return this;var i=this.makeViewport(this.getViewportProps()).panByPosition(r,t);return this._getUpdatedState(i)}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanPosition:null})}},{key:"rotateStart",value:function(e){var t=e.pos;return this._getUpdatedState({startRotatePos:t,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}},{key:"rotate",value:function(e){var t,n=e.pos,r=e.deltaAngleX,i=void 0===r?0:r,o=e.deltaAngleY,a=void 0===o?0:o,s=this.getState(),u=s.startRotatePos,l=s.startRotationX,c=s.startRotationOrbit,A=this.getViewportProps(),f=A.width,h=A.height;if(!u||void 0===l||void 0===c)return this;if(n){var p=(n[0]-u[0])/f;(l<-90||l>90)&&(p*=-1),t={rotationX:l+180*((n[1]-u[1])/h),rotationOrbit:c+180*p}}else t={rotationX:l+a,rotationOrbit:c+i};return this._getUpdatedState(t)}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),n=(0,r.Z)({},this.getViewportProps()),i=n.rotationOrbit;return Math.abs(i-t.rotationOrbit)>180&&(n.rotationOrbit=i<0?i+360:i-360),n}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomPosition:this._unproject(t),startZoom:this.getViewportProps().zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,i=e.scale,o=this.getState(),a=o.startZoom,s=o.startZoomPosition;if(s||(a=this.getViewportProps().zoom,s=this._unproject(n)||this._unproject(t)),!s)return this;var u=this._calculateNewZoom({scale:i,startZoom:a}),l=this.makeViewport((0,r.Z)((0,r.Z)({},this.getViewportProps()),{},{zoom:u}));return this._getUpdatedState((0,r.Z)({zoom:u},l.panByPosition(s,t)))}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._getUpdatedState({zoom:this._calculateNewZoom({scale:e})})}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/e})})}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([-e,0])}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([e,0])}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([0,-e])}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([0,e])}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-e})}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+e})}},{key:"rotateUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-e})}},{key:"rotateDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+e})}},{key:"_unproject",value:function(e){var t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,r=this.getViewportProps(),i=r.maxZoom,o=r.minZoom;void 0===n&&(n=this.getViewportProps().zoom);var a=n+Math.log2(t);return(0,c.uZ)(a,o,i)}},{key:"_panFromCenter",value:function(e){var t=this.getViewportProps(),n=t.width,r=t.height,i=t.target;return this.pan({startPosition:i,pos:[n/2+e[0],r/2+e[1]]})}},{key:"_getUpdatedState",value:function(e){return new this.constructor((0,r.Z)((0,r.Z)((0,r.Z)({makeViewport:this.makeViewport},this.getViewportProps()),this.getState()),e))}},{key:"applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom,i=e.maxRotationX,o=e.minRotationX,a=e.rotationOrbit;return e.zoom=Array.isArray(r)?[(0,c.uZ)(r[0],n,t),(0,c.uZ)(r[1],n,t)]:(0,c.uZ)(r,n,t),e.rotationX=(0,c.uZ)(e.rotationX,o,i),(a<-180||a>180)&&(e.rotationOrbit=(0,h.wQ)(a+180,360)-180),e}}]),n}(f.Z),g=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,a.Z)(e),"ControllerState",d),(0,l.Z)((0,a.Z)(e),"transition",{transitionDuration:300,transitionInterpolator:new p.Z({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})}),e}return(0,o.Z)(n)}(A.Z)},4148:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(885),i=n(5671),o=n(3144),a=n(7326),s=n(136),u=n(7277),l=n(8810),c=n(9166),A=n(2252),f=n(9200),h=n(3417),p=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,l.Z)((0,a.Z)(r),"zoomAxis",void 0),r.zoomAxis=e.zoomAxis||"all",r}return(0,o.Z)(n,[{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,i=this.getViewportProps(),o=i.maxZoom,a=i.minZoom;void 0===n&&(n=this.getViewportProps().zoom);var s=Math.log2(t);if(Array.isArray(n)){var u=n,l=(0,r.Z)(u,2),A=l[0],f=l[1];switch(this.zoomAxis){case"X":A=(0,c.uZ)(A+s,a,o);break;case"Y":f=(0,c.uZ)(f+s,a,o);break;default:var h=Math.min(A+s,f+s);h<a&&(s+=a-h),(h=Math.max(A+s,f+s))>o&&(s+=o-h),A+=s,f+=s}return[A,f]}return(0,c.uZ)(n+s,a,o)}}]),n}(f.G),d=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,a.Z)(e),"ControllerState",p),(0,l.Z)((0,a.Z)(e),"transition",{transitionDuration:300,transitionInterpolator:new h.Z(["target","zoom"])}),(0,l.Z)((0,a.Z)(e),"dragMode","pan"),e}return(0,o.Z)(n,[{key:"_onPanRotate",value:function(){return!1}}]),n}(A.Z)},6287:function(e,t,n){"use strict";n.d(t,{Z:function(){return f},r:function(){return l}});var r=n(1413),i=n(5671),o=n(3144),a=n(8810),s=n(4834),u=function(){},l={BREAK:1,SNAP_TO_END:2,IGNORE:3},c=function(e){return e},A=l.BREAK,f=function(){function e(t){var n=this;(0,i.Z)(this,e),(0,a.Z)(this,"getControllerState",void 0),(0,a.Z)(this,"props",void 0),(0,a.Z)(this,"propsInTransition",void 0),(0,a.Z)(this,"transition",void 0),(0,a.Z)(this,"onViewStateChange",void 0),(0,a.Z)(this,"onStateChange",void 0),(0,a.Z)(this,"_onTransitionUpdate",(function(e){var t=e.time,i=e.settings,o=i.interpolator,a=i.startProps,s=i.endProps,u=i.duration,l=(0,i.easing)(t/u),c=o.interpolateProps(a,s,l);n.propsInTransition=n.getControllerState((0,r.Z)((0,r.Z)({},n.props),c)).getViewportProps(),n.onViewStateChange({viewState:n.propsInTransition,oldViewState:n.props})})),this.getControllerState=t.getControllerState,this.propsInTransition=null,this.transition=new s.Z(t.timeline),this.onViewStateChange=t.onViewStateChange||u,this.onStateChange=t.onStateChange||u}return(0,o.Z)(e,[{key:"finalize",value:function(){this.transition.cancel()}},{key:"getViewportInTransition",value:function(){return this.propsInTransition}},{key:"processViewStateChange",value:function(e){var t=!1,n=this.props;if(this.props=e,!n||this._shouldIgnoreViewportChange(n,e))return!1;if(this._isTransitionEnabled(e)){var i=n;if(this.transition.inProgress){var o=this.transition.settings,a=o.interruption,s=o.endProps;i=(0,r.Z)((0,r.Z)({},n),a===l.SNAP_TO_END?s:this.propsInTransition||n)}this._triggerTransition(i,e),t=!0}else this.transition.cancel();return t}},{key:"updateTransition",value:function(){this.transition.update()}},{key:"_isTransitionEnabled",value:function(e){var t=e.transitionDuration,n=e.transitionInterpolator;return(t>0||"auto"===t)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return this.transition.inProgress?this.transition.settings.interruption===l.IGNORE||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}},{key:"_triggerTransition",value:function(e,t){var n=this.getControllerState(e),r=this.getControllerState(t).shortestPathFrom(n),i=t.transitionInterpolator,o=i.getDuration?i.getDuration(e,t):t.transitionDuration;if(0!==o){var a=i.initializeProps(e,r);this.propsInTransition={};var s={duration:o,easing:t.transitionEasing||c,interpolator:i,interruption:t.transitionInterruption||A,startProps:a.start,endProps:a.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(s),this.onStateChange({inTransition:!0}),this.updateTransition()}}},{key:"_onTransitionEnd",value:function(e){var t=this;return function(n){t.propsInTransition=null,t.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),null===e||void 0===e||e(n)}}}]),e}()},1345:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5671),i=n(3144),o=n(8810),a=function(){function e(t,n){(0,r.Z)(this,e),(0,o.Z)(this,"_viewportProps",void 0),(0,o.Z)(this,"_state",void 0),this._viewportProps=this.applyConstraints(t),this._state=n}return(0,i.Z)(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getState",value:function(){return this._state}}]),e}()},694:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},z:function(){return o}});var r=n(3452),i={};function o(e){i=e}function a(e,t,n,o){r.Z.level>0&&i[e]&&i[e].call(null,t,n,o)}},549:function(e,t,n){"use strict";n.d(t,{M:function(){return u}});var r=n(3144),i=n(5671),o=n(8810),a=[255,255,255],s=0,u=(0,r.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"color",void 0),(0,o.Z)(this,"intensity",void 0),(0,o.Z)(this,"type","ambient");var n=t.color,r=void 0===n?a:n,u=t.intensity,l=void 0===u?1:u;this.id=t.id||"ambient-".concat(s++),this.color=r,this.intensity=l}))},6811:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var r=n(5671),i=n(3144),o=n(8810),a=n(8140),s=[255,255,255],u=[0,0,-1],l=0,c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,e),(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"color",void 0),(0,o.Z)(this,"intensity",void 0),(0,o.Z)(this,"type","directional"),(0,o.Z)(this,"direction",void 0),(0,o.Z)(this,"shadow",void 0);var n=t.color,i=void 0===n?s:n,c=t.intensity,A=void 0===c?1:c,f=t.direction,h=void 0===f?u:f,p=t._shadow,d=void 0!==p&&p;this.id=t.id||"directional-".concat(l++),this.color=i,this.intensity=A,this.type="directional",this.direction=new a.Z(h).normalize().toArray(),this.shadow=d}return(0,i.Z)(e,[{key:"getProjectedLight",value:function(e){return this}}]),e}()},955:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(7762),i=n(5671),o=n(3144),a=n(8810),s=n(9230),u=n(3978),l=n(549),c=n(6811),A=n(8025),f=n(8140),h=n(1413),p=n(4942),d=n(7326),g=n(1752),v=n(1120),y=n(136),m=n(7277),b=n(191),_=n(845),w=n(6158),x=n(1622),C=function(e){(0,y.Z)(n,e);var t=(0,m.Z)(n);function n(e,r){var o,s,l;return(0,i.Z)(this,n),l=t.call(this,e,r),(0,a.Z)((0,d.Z)(l),"shadowMap",void 0),(0,a.Z)((0,d.Z)(l),"depthBuffer",void 0),(0,a.Z)((0,d.Z)(l),"fbo",void 0),l.shadowMap=new u.Z(e,{width:1,height:1,parameters:(o={},(0,p.Z)(o,10241,9729),(0,p.Z)(o,10240,9729),(0,p.Z)(o,10242,33071),(0,p.Z)(o,10243,33071),o)}),l.depthBuffer=new _.Z(e,{format:33189,width:1,height:1}),l.fbo=new w.Z(e,{id:"shadowmap",width:1,height:1,attachments:(s={},(0,p.Z)(s,36064,l.shadowMap),(0,p.Z)(s,36096,l.depthBuffer),s)}),l}return(0,o.Z)(n,[{key:"render",value:function(e){var t=this,r=this.fbo;(0,x.s8)(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},(function(){var i=e.viewports[0],o=(0,x.w)(t.gl),a=i.width*o,s=i.height*o;a===r.width&&s===r.height||r.resize({width:a,height:s}),(0,g.Z)((0,v.Z)(n.prototype),"render",t).call(t,(0,h.Z)((0,h.Z)({},e),{},{target:r,pass:"shadow"}))}))}},{key:"shouldDrawLayer",value:function(e){return!1!==e.props.shadowEnabled}},{key:"getModuleParameters",value:function(){return{drawToShadowMap:!0}}},{key:"delete",value:function(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}]),n}(b.Z),B=n(7918),E={color:[255,255,255],intensity:1},S=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],k=[0,0,0,200/255],O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in(0,i.Z)(this,e),(0,a.Z)(this,"id","lighting-effect"),(0,a.Z)(this,"props",null),(0,a.Z)(this,"shadowColor",k),(0,a.Z)(this,"shadow",void 0),(0,a.Z)(this,"ambientLight",null),(0,a.Z)(this,"directionalLights",[]),(0,a.Z)(this,"pointLights",[]),(0,a.Z)(this,"shadowPasses",[]),(0,a.Z)(this,"shadowMaps",[]),(0,a.Z)(this,"dummyShadowMap",null),(0,a.Z)(this,"programManager",void 0),(0,a.Z)(this,"shadowMatrices",void 0),t){var r=t[n];switch(r.type){case"ambient":this.ambientLight=r;break;case"directional":this.directionalLights.push(r);break;case"point":this.pointLights.push(r)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some((function(e){return e.shadow}))}return(0,o.Z)(e,[{key:"preRender",value:function(e,t){var n=t.layers,r=t.layerFilter,i=t.viewports,o=t.onViewportActive,a=t.views;if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=s.Z.getDefaultProgramManager(e),B.Z&&this.programManager.addDefaultModule(B.Z)),this.dummyShadowMap||(this.dummyShadowMap=new u.Z(e,{width:1,height:1}));for(var l=0;l<this.shadowPasses.length;l++){this.shadowPasses[l].render({layers:n,layerFilter:r,viewports:i,onViewportActive:o,views:a,moduleParameters:{shadowLightId:l,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}}},{key:"getModuleParameters",value:function(e){var t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((function(t){return t.getProjectedLight({layer:e})})),pointLights:this.pointLights.map((function(t){return t.getProjectedLight({layer:e})}))},t}},{key:"cleanup",value:function(){var e,t=(0,r.Z)(this.shadowPasses);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(B.Z),this.programManager=null)}},{key:"_calculateMatrices",value:function(){var e,t=[],n=(0,r.Z)(this.directionalLights);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=(new A.Z).lookAt({eye:new f.Z(i.direction).negate()});t.push(o)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"_createShadowPasses",value:function(e){for(var t=0;t<this.directionalLights.length;t++){var n=new C(e);this.shadowPasses[t]=n,this.shadowMaps[t]=n.shadowMap}}},{key:"_applyDefaultLights",value:function(){var e=this.ambientLight,t=this.pointLights,n=this.directionalLights;e||0!==t.length||0!==n.length||(this.ambientLight=new l.M(E),this.directionalLights.push(new c.O(S[0]),new c.O(S[1])))}}]),e}()},6589:function(e,t,n){"use strict";n.d(t,{c:function(){return h}});var r=n(1413),i=n(5671),o=n(3144),a=n(8810),s=n(8992),u=n(3924),l=[255,255,255],c=[0,0,1],A=[0,0,1],f=0,h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),(0,a.Z)(this,"id",void 0),(0,a.Z)(this,"color",void 0),(0,a.Z)(this,"intensity",void 0),(0,a.Z)(this,"type","point"),(0,a.Z)(this,"position",void 0),(0,a.Z)(this,"attenuation",void 0),(0,a.Z)(this,"projectedLight",void 0);var n=t.color,o=void 0===n?l:n,s=t.intensity,u=void 0===s?1:s,c=t.position,h=void 0===c?A:c;this.id=t.id||"point-".concat(f++),this.color=o,this.intensity=u,this.type="point",this.position=h,this.attenuation=p(t),this.projectedLight=(0,r.Z)({},this)}return(0,o.Z)(e,[{key:"getProjectedLight",value:function(e){var t=e.layer,n=this.projectedLight,r=t.context.viewport,i=t.props,o=i.coordinateSystem,a=i.coordinateOrigin,l=(0,s.D)(this.position,{viewport:r,coordinateSystem:o,coordinateOrigin:a,fromCoordinateSystem:r.isGeospatial?u.Df.LNGLAT:u.Df.CARTESIAN,fromCoordinateOrigin:[0,0,0]});return n.color=this.color,n.intensity=this.intensity,n.position=l,n}}]),e}();function p(e){return e.attenuation?e.attenuation:"intensity"in e?[0,0,e.intensity||0]:c}},4852:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7762),i=n(5671),o=n(3144),a=n(8810),s=n(7326),u=n(136),l=n(7277),c=n(5323),A=n(1622),f=n(107),h=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){var o;(0,i.Z)(this,n),o=t.call(this,e,r),(0,a.Z)((0,s.Z)(o),"model",void 0);var u=r.module,l=r.fs,A=r.id;return o.model=new c.Z(e,{id:A,fs:l,modules:[u]}),o}return(0,o.Z)(n,[{key:"render",value:function(e){var t=this,n=this.gl;(0,A.dR)(n,{viewport:[0,0,n.drawingBufferWidth,n.drawingBufferHeight]}),(0,A.s8)(n,{framebuffer:e.outputBuffer,clearColor:[0,0,0,0]},(function(){return t._renderPass(n,e)}))}},{key:"delete",value:function(){this.model.delete(),this.model=null}},{key:"_renderPass",value:function(e,t){var n=t.inputBuffer;(0,f.Z)(e,{color:!0}),this.model.draw({moduleSettings:this.props.moduleSettings,uniforms:{texture:n,texSize:[n.width,n.height]},parameters:{depthWrite:!1,depthTest:!1}})}}]),n}(n(4830).Z),p=n(1925),d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,e),(0,a.Z)(this,"id",void 0),(0,a.Z)(this,"props",void 0),(0,a.Z)(this,"module",void 0),(0,a.Z)(this,"passes",void 0),this.id="".concat(t.name,"-pass"),this.props=n,(0,p.v)(t),this.module=t}return(0,o.Z)(e,[{key:"preRender",value:function(){}},{key:"postRender",value:function(e,t){var n=this.passes||function(e,t,n,r){if(!t.passes){var i=y(t);return[new h(e,{id:n,module:t,fs:i,moduleSettings:r})]}return t.passes.map((function(i,o){var a=y(t,i),s="".concat(n,"-").concat(o);return new h(e,{id:s,module:t,fs:a,moduleSettings:r})}))}(e,this.module,this.id,this.props);this.passes=n;for(var r=t.target,i=t.inputBuffer,o=t.swapBuffer,a=0;a<this.passes.length;a++){r&&a===this.passes.length-1&&(o=r),this.passes[a].render({inputBuffer:i,outputBuffer:o});var s=o;o=i,i=s}return i}},{key:"cleanup",value:function(){if(this.passes){var e,t=(0,r.Z)(this.passes);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}this.passes=void 0}}}]),e}();var g=function(e){return"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = texture2D(texture, texCoord);\n  gl_FragColor = ".concat(e,"(gl_FragColor, texSize, texCoord);\n}\n")},v=function(e){return"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = ".concat(e,"(texture, texSize, texCoord);\n}\n")};function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t.filter){var n="string"===typeof t.filter?t.filter:"".concat(e.name,"_filterColor");return g(n)}if(t.sampler){var r="string"===typeof t.sampler?t.sampler:"".concat(e.name,"_sampleColor");return v(r)}return null}},430:function(e,t,n){"use strict";n.r(t),n.d(t,{AmbientLight:function(){return o.M},AttributeManager:function(){return D.Z},COORDINATE_SYSTEM:function(){return r.Df},CompositeLayer:function(){return U.Z},Controller:function(){return ie.Z},Deck:function(){return L.Z},DeckRenderer:function(){return j.Z},DirectionalLight:function(){return a.O},FirstPersonController:function(){return se.Z},FirstPersonView:function(){return ee.Z},FirstPersonViewport:function(){return G.Z},FlyToInterpolator:function(){return pe.Z},Layer:function(){return Z.Z},LayerExtension:function(){return ce.Z},LayerManager:function(){return R.Z},LightingEffect:function(){return i.Z},LinearInterpolator:function(){return he.Z},MapController:function(){return oe.Z},MapView:function(){return $.Z},OPERATION:function(){return r.k8},OrbitController:function(){return ue.Z},OrbitView:function(){return te.Z},OrbitViewport:function(){return H.Z},OrthographicController:function(){return le.Z},OrthographicView:function(){return ne.Z},OrthographicViewport:function(){return V.Z},PointLight:function(){return s.c},PostProcessEffect:function(){return F.Z},TRANSITION_EVENTS:function(){return Ae.r},Tesselator:function(){return me.Z},TransitionInterpolator:function(){return fe.Z},UNIT:function(){return r.iI},View:function(){return J.Z},Viewport:function(){return N.Z},WebMercatorViewport:function(){return z.Z},_CameraLight:function(){return h},_GlobeController:function(){return ae.Z},_GlobeView:function(){return re.Z},_GlobeViewport:function(){return Q.Z},_LayersPass:function(){return I.Z},_SunLight:function(){return M},_compareProps:function(){return Ce.tg},_count:function(){return _e.Q},_fillArray:function(){return be.k},_flatten:function(){return be.x},_memoize:function(){return we.Z},_mergeShaders:function(){return xe.l},assert:function(){return ge.Z},createIterable:function(){return ve.jB},fp64LowPart:function(){return ye.Ks},gouraudLighting:function(){return X.N},log:function(){return de.Z},phongLighting:function(){return X.s},picking:function(){return W.Z},project:function(){return K.Z},project32:function(){return q.Z},shadow:function(){return Y.Z}});var r=n(3924),i=n(955),o=n(549),a=n(6811),s=n(6589),u=n(5671),l=n(3144),c=n(136),A=n(7277),f=n(5886),h=function(e){(0,c.Z)(n,e);var t=(0,A.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"getProjectedLight",value:function(e){var t=e.layer,n=this.projectedLight,r=t.context.viewport,i=t.props,o=i.coordinateSystem,a=i.coordinateOrigin,s=i.modelMatrix,u=(0,f.C)({viewport:r,modelMatrix:s,coordinateSystem:o,coordinateOrigin:a}).project_uCameraPosition;return n.color=this.color,n.intensity=this.intensity,n.position=u,n}}]),n}(s.c),p=n(885),d=n(7326),g=n(8810),v=Math.PI/180,y=864e5,m=2440588,b=2451545,_=23.4397*v,w=357.5291,x=.98560028,C=280.147,B=360.9856235;function E(e,t,n){var r=v*-n,i=v*t,o=function(e){return function(e){return("number"===typeof e?e:e.getTime())/y-.5+m}(e)-b}(e),a=function(e){var t=function(e){var t=e,n=v*(1.9148*Math.sin(t)+.02*Math.sin(2*t)+3e-4*Math.sin(3*t));return t+n+102.9372*v+Math.PI}((n=e,v*(w+x*n)));var n;return{declination:O(t,0),rightAscension:k(t,0)}}(o),s=function(e,t){return v*(C+B*e)-t}(o,r)-a.rightAscension;return{azimuth:T(s,i,a.declination),altitude:P(s,i,a.declination)}}function S(e,t,n){var r=E(e,t,n),i=r.azimuth,o=r.altitude;return[Math.sin(i)*Math.cos(o),Math.cos(i)*Math.cos(o),-Math.sin(o)]}function k(e,t){var n=e;return Math.atan2(Math.sin(n)*Math.cos(_)-Math.tan(t)*Math.sin(_),Math.cos(n))}function O(e,t){var n=e;return Math.asin(Math.sin(t)*Math.cos(_)+Math.cos(t)*Math.sin(_)*Math.sin(n))}function T(e,t,n){var r=e,i=t,o=n;return Math.atan2(Math.sin(r),Math.cos(r)*Math.sin(i)-Math.tan(o)*Math.cos(i))}function P(e,t,n){var r=e,i=t,o=n;return Math.asin(Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos(r))}var M=function(e){(0,c.Z)(n,e);var t=(0,A.Z)(n);function n(e){var r;return(0,u.Z)(this,n),r=t.call(this,e),(0,g.Z)((0,d.Z)(r),"timestamp",void 0),r.timestamp=e.timestamp,r}return(0,l.Z)(n,[{key:"getProjectedLight",value:function(e){var t=e.layer.context.viewport;if(t.resolution&&t.resolution>0){var n=S(this.timestamp,0,0),r=(0,p.Z)(n,3),i=r[0],o=r[1],a=r[2];this.direction=[i,-a,o]}else{var s=t.latitude,u=t.longitude;this.direction=S(this.timestamp,s,u)}return this}}]),n}(a.O),F=n(4852),I=n(191),L=n(8458),R=n(667),D=n(5860),Z=n(5546),U=n(155),j=n(3931),N=n(5773),z=n(6293),Q=n(2465),H=n(5982),V=n(1456),G=n(7563),W=n(251),K=n(4256),q=n(9446),X=n(5600),Y=n(7918),J=n(9575),$=n(5665),ee=n(3237),te=n(5586),ne=n(610),re=n(9482),ie=n(2252),oe=n(3791),ae=n(7411),se=n(1051),ue=n(9200),le=n(4148),ce=n(3976),Ae=n(6287),fe=n(7066),he=n(3417),pe=n(4735),de=n(3452),ge=n(2515),ve=n(3626),ye=n(7416),me=n(1409),be=n(8844),_e=n(1286),we=n(2971),xe=n(1932),Ce=n(9214)},5860:function(e,t,n){"use strict";n.d(t,{Z:function(){return H}});var r=n(1413),i=n(7762),o=n(5671),a=n(3144),s=n(8810),u=n(4942),l=n(885),c=n(7326),A=n(1752),f=n(1120),h=n(136),p=n(7277),d=n(7504),g=n(348),v=n(1744),y=function(){function e(t,n){(0,o.Z)(this,e),(0,s.Z)(this,"opts",void 0),(0,s.Z)(this,"source",void 0),this.opts=n,this.source=t}return(0,a.Z)(e,[{key:"value",get:function(){return this.source.value}},{key:"getValue",value:function(){var e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];var n=this.source.value,r=t.size,i=n;if(n&&n.length!==r){i=new Float32Array(r);for(var o=t.elementOffset||0,a=0;a<r;++a)i[a]=n[o+a]}return i}},{key:"getAccessor",value:function(){return(0,r.Z)((0,r.Z)({},this.source.getAccessor()),this.opts)}}]),e}();var m=n(6188),b=n(7416),_=n(3452);function w(e){return e.stride||e.size*e.bytesPerElement}function x(e,t){t.offset&&_.Z.removed("shaderAttribute.offset","vertexOffset, elementOffset")();var n=w(e),i=(void 0!==t.vertexOffset?t.vertexOffset:e.vertexOffset||0)*n+(t.elementOffset||0)*e.bytesPerElement+(e.offset||0);return(0,r.Z)((0,r.Z)({},t),{},{offset:i,stride:n})}var C=function(){function e(t,n,i){(0,o.Z)(this,e),(0,s.Z)(this,"gl",void 0),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"size",void 0),(0,s.Z)(this,"settings",void 0),(0,s.Z)(this,"value",void 0),(0,s.Z)(this,"doublePrecision",void 0),(0,s.Z)(this,"_buffer",void 0),(0,s.Z)(this,"state",void 0),this.gl=t,this.id=n.id||"",this.size=n.size||1;var a,u=n.logicalType||n.type,l=5130===u,c=n.defaultValue;c=Number.isFinite(c)?[c]:c||new Array(this.size).fill(0),a=l?5126:!u&&n.isIndexed?t&&(0,d.U6)(t,g.h.ELEMENT_INDEX_UINT32)?5125:5123:u||5126;var A=function(e){switch(e){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(u||a||5126);this.doublePrecision=l,l&&!1===n.fp64&&(A=Float32Array),this.value=null,this.settings=(0,r.Z)((0,r.Z)({},n),{},{defaultType:A,defaultValue:c,logicalType:u,type:a,size:this.size,bytesPerElement:A.BYTES_PER_ELEMENT}),this.state=(0,r.Z)((0,r.Z)({},i),{},{externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}),this._buffer=null}return(0,a.Z)(e,[{key:"isConstant",get:function(){return this.state.constant}},{key:"buffer",get:function(){if(!this._buffer){var e=this.settings,t=e.isIndexed,n=e.type;this._buffer=new v.Z(this.gl,{id:this.id,target:t?34963:34962,accessor:{type:n}})}return this._buffer}},{key:"byteOffset",get:function(){var e=this.getAccessor();return e.vertexOffset?e.vertexOffset*w(e):0}},{key:"numInstances",get:function(){return this.state.numInstances},set:function(e){this.state.numInstances=e}},{key:"delete",value:function(){this._buffer&&(this._buffer.delete(),this._buffer=null),m.Z.release(this.state.allocatedValue)}},{key:"getShaderAttributes",value:function(e,t){if(this.doublePrecision){var n={},i=this.value instanceof Float64Array,o=function(e,t){var n=x(e,t);return{high:n,low:(0,r.Z)((0,r.Z)({},n),{},{offset:n.offset+4*e.size})}}(this.getAccessor(),t||{});return n[e]=new y(this,o.high),n["".concat(e,"64Low")]=i?new y(this,o.low):new Float32Array(this.size),n}if(t){var a=x(this.getAccessor(),t);return(0,u.Z)({},e,new y(this,a))}return(0,u.Z)({},e,this)}},{key:"getBuffer",value:function(){return this.state.constant?null:this.state.externalBuffer||this._buffer}},{key:"getValue",value:function(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}},{key:"getAccessor",value:function(){return this.state.bufferAccessor}},{key:"getBounds",value:function(){if(this.state.bounds)return this.state.bounds;var e=null;if(this.state.constant&&this.value){var t=Array.from(this.value);e=[t,t]}else{var n=this.value,r=this.numInstances,i=this.size,o=r*i;if(n&&o&&n.length>=o){for(var a=new Array(i).fill(1/0),s=new Array(i).fill(-1/0),u=0;u<o;)for(var l=0;l<i;l++){var c=n[u++];c<a[l]&&(a[l]=c),c>s[l]&&(s[l]=c)}e=[a,s]}}return this.state.bounds=e,e}},{key:"setData",value:function(e){var t,n=this.state;t=ArrayBuffer.isView(e)?{value:e}:e instanceof v.Z?{buffer:e}:e;var i=(0,r.Z)((0,r.Z)({},this.settings),t);if(n.bufferAccessor=i,n.bounds=null,t.constant){var o=t.value;if(o=this._normalizeValue(o,[],0),this.settings.normalized&&(o=this.normalizeConstant(o)),!(!n.constant||!this._areValuesEqual(o,this.value)))return!1;n.externalBuffer=null,n.constant=!0,this.value=o}else if(t.buffer){var a=t.buffer;n.externalBuffer=a,n.constant=!1,this.value=t.value||null;var s=t.value instanceof Float64Array;i.type=t.type||a.accessor.type,i.bytesPerElement=a.accessor.BYTES_PER_ELEMENT*(s?2:1),i.stride=w(i)}else if(t.value){this._checkExternalBuffer(t);var u=t.value;n.externalBuffer=null,n.constant=!1,this.value=u,i.bytesPerElement=u.BYTES_PER_ELEMENT,i.stride=w(i);var l=this.buffer,c=this.byteOffset;this.doublePrecision&&u instanceof Float64Array&&(u=(0,b.TK)(u,i));var A=u.byteLength+c+2*i.stride;l.byteLength<A&&l.reallocate(A),l.setAccessor(null),l.subData({data:u,offset:c}),i.type=t.type||l.accessor.type}return!0}},{key:"updateSubBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.bounds=null;var t=this.value,n=e.startOffset,r=void 0===n?0:n,i=e.endOffset;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?(0,b.TK)(t,{size:this.size,startIndex:r,endIndex:i}):t.subarray(r,i),offset:r*t.BYTES_PER_ELEMENT+this.byteOffset})}},{key:"allocate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.allocatedValue,i=m.Z.allocate(r,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=i;var o=this.buffer,a=this.byteOffset;return o.byteLength<i.byteLength+a&&(o.reallocate(i.byteLength+a),t&&r&&o.subData({data:r instanceof Float64Array?(0,b.TK)(r,this):r,offset:a})),n.allocatedValue=i,n.constant=!1,n.externalBuffer=null,n.bufferAccessor=this.settings,!0}},{key:"_checkExternalBuffer",value:function(e){var t=e.value;if(!ArrayBuffer.isView(t))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));var n=this.settings.defaultType,r=!1;if(this.doublePrecision&&(r=t.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));t instanceof n||!this.settings.normalized||"normalized"in e||_.Z.warn("Attribute ".concat(this.id," is normalized"))()}},{key:"normalizeConstant",value:function(e){switch(this.settings.type){case 5120:return new Float32Array(e).map((function(e){return(e+128)/255*2-1}));case 5122:return new Float32Array(e).map((function(e){return(e+32768)/65535*2-1}));case 5121:return new Float32Array(e).map((function(e){return e/255}));case 5123:return new Float32Array(e).map((function(e){return e/65535}));default:return e}}},{key:"_normalizeValue",value:function(e,t,n){var r=this.settings,i=r.defaultValue,o=r.size;if(Number.isFinite(e))return t[n]=e,t;if(!e)return t[n]=i[0],t;switch(o){case 4:t[n+3]=Number.isFinite(e[3])?e[3]:i[3];case 3:t[n+2]=Number.isFinite(e[2])?e[2]:i[2];case 2:t[n+1]=Number.isFinite(e[1])?e[1]:i[1];case 1:t[n+0]=Number.isFinite(e[0])?e[0]:i[0];break;default:for(var a=o;--a>=0;)t[n+a]=Number.isFinite(e[a])?e[a]:i[a]}return t}},{key:"_areValuesEqual",value:function(e,t){if(!e||!t)return!1;for(var n=this.size,r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}}]),e}(),B=n(2515),E=n(3626),S=n(8844),k=[],O=[[0,1/0]];function T(e,t){if(e===O)return e;if(t[0]<0&&(t[0]=0),t[0]>=t[1])return e;for(var n=[],r=e.length,i=0,o=0;o<r;o++){var a=e[o];a[1]<t[0]?(n.push(a),i=o+1):a[0]>t[1]?n.push(a):t=[Math.min(a[0],t[0]),Math.max(a[1],t[1])]}return n.splice(i,0,t),n}var P=n(6954),M=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e,r){var i;return(0,o.Z)(this,n),i=t.call(this,e,r,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:O}),(0,s.Z)((0,c.Z)(i),"constant",!1),i.settings.update=r.update||(r.accessor?i._autoUpdater:void 0),Object.seal(i.settings),Object.seal(i.state),i._validateAttributeUpdaters(),i}return(0,a.Z)(n,[{key:"startIndices",get:function(){return this.state.startIndices},set:function(e){this.state.startIndices=e}},{key:"needsUpdate",value:function(){return this.state.needsUpdate}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearChangedFlags,n=void 0!==t&&t,r=this.state.needsRedraw;return this.state.needsRedraw=r&&!n,r}},{key:"getUpdateTriggers",value:function(){var e=this.settings.accessor;return[this.id].concat("function"!==typeof e&&e||[])}},{key:"supportsTransition",value:function(){return Boolean(this.settings.transition)}},{key:"getTransitionSetting",value:function(e){if(!e||!this.supportsTransition())return null;var t=this.settings.accessor,n=this.settings.transition,r=Array.isArray(t)?e[t.find((function(t){return e[t]}))]:e[t];return(0,P.M0)(r,n)}},{key:"setNeedsUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id,t=arguments.length>1?arguments[1]:void 0;if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){var n=t.startRow,r=void 0===n?0:n,i=t.endRow,o=void 0===i?1/0:i;this.state.updateRanges=T(this.state.updateRanges,[r,o])}else this.state.updateRanges=O}},{key:"clearNeedsUpdate",value:function(){this.state.needsUpdate=!1,this.state.updateRanges=k}},{key:"setNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.state.needsRedraw=this.state.needsRedraw||e}},{key:"allocate",value:function(e){var t=this.state,r=this.settings;return!r.noAlloc&&(!!r.update&&((0,A.Z)((0,f.Z)(n.prototype),"allocate",this).call(this,e,t.updateRanges!==O),!0))}},{key:"updateBuffer",value:function(e){var t=e.numInstances,r=e.data,o=e.props,a=e.context;if(!this.needsUpdate())return!1;var s=this.state.updateRanges,u=this.settings,c=u.update,h=u.noAlloc,p=!0;if(c){var d,g=(0,i.Z)(s);try{for(g.s();!(d=g.n()).done;){var v=(0,l.Z)(d.value,2),y=v[0],m=v[1];c.call(a,this,{data:r,startRow:y,endRow:m,props:o,numInstances:t})}}catch(S){g.e(S)}finally{g.f()}if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else{var b,_=(0,i.Z)(s);try{for(_.s();!(b=_.n()).done;){var w=(0,l.Z)(b.value,2),x=w[0],C=w[1],B=Number.isFinite(x)?this.getVertexOffset(x):0,E=Number.isFinite(C)?this.getVertexOffset(C):h||!Number.isFinite(t)?this.value.length:t*this.size;(0,A.Z)((0,f.Z)(n.prototype),"updateSubBuffer",this).call(this,{startOffset:B,endOffset:E})}}catch(S){_.e(S)}finally{_.f()}}else;this._checkAttributeArray()}else p=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),p}},{key:"setConstantValue",value:function(e){return void 0!==e&&"function"!==typeof e&&(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}},{key:"setExternalBuffer",value:function(e){var t=this.state;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}},{key:"setBinaryValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.state,r=this.settings;if(!e)return n.binaryValue=null,n.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(n.binaryValue===e)return this.clearNeedsUpdate(),!0;n.binaryValue=e,this.setNeedsRedraw();var i=r.transform||t!==this.startIndices;if(i){ArrayBuffer.isView(e)&&(e={value:e});var o=e;(0,B.Z)(ArrayBuffer.isView(o.value),"invalid ".concat(r.accessor));var a=Boolean(o.size)&&o.size!==this.size;return n.binaryAccessor=(0,E.jr)(o.value,{size:o.size||this.size,stride:o.stride,offset:o.offset,startIndices:t,nested:a}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}},{key:"getVertexOffset",value:function(e){var t=this.startIndices;return(t?t[e]:e)*this.size}},{key:"getShaderAttributes",value:function(){var e=this.settings.shaderAttributes||(0,u.Z)({},this.id,null),t={};for(var r in e)Object.assign(t,(0,A.Z)((0,f.Z)(n.prototype),"getShaderAttributes",this).call(this,r,e[r]));return t}},{key:"_autoUpdater",value:function(e,t){var n=t.data,r=t.startRow,o=t.endRow,a=t.props,s=t.numInstances;if(!e.constant){var u=e.settings,l=e.state,c=e.value,A=e.size,f=e.startIndices,h=u.accessor,p=u.transform,d=l.binaryAccessor||("function"===typeof h?h:a[h]);(0,B.Z)("function"===typeof d,'accessor "'.concat(h,'" is not a function'));var g,v=e.getVertexOffset(r),y=(0,E.jB)(n,r,o),m=y.iterable,b=y.objectInfo,_=(0,i.Z)(m);try{for(_.s();!(g=_.n()).done;){var w=g.value;b.index++;var x=d(w,b);if(p&&(x=p.call(this,x)),f){var C=(b.index<f.length-1?f[b.index+1]:s)-f[b.index];if(x&&Array.isArray(x[0])){var k,O=v,T=(0,i.Z)(x);try{for(T.s();!(k=T.n()).done;){var P=k.value;e._normalizeValue(P,c,O),O+=A}}catch(M){T.e(M)}finally{T.f()}}else x&&x.length>A?c.set(x,v):(e._normalizeValue(x,b.target,0),(0,S.k)({target:c,source:b.target,start:v,count:C}));v+=C*A}else e._normalizeValue(x,c,v),v+=A}}catch(M){_.e(M)}finally{_.f()}}}},{key:"_validateAttributeUpdaters",value:function(){var e=this.settings;if(!(e.noAlloc||"function"===typeof e.update))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}},{key:"_checkAttributeArray",value:function(){var e=this.value,t=Math.min(4,this.size);if(e&&e.length>=t){var n=!0;switch(t){case 4:n=n&&Number.isFinite(e[3]);case 3:n=n&&Number.isFinite(e[2]);case 2:n=n&&Number.isFinite(e[1]);case 1:n=n&&Number.isFinite(e[0]);break;default:n=!1}if(!n)throw new Error("Illegal attribute generated for ".concat(this.id))}}}]),n}(C),F=n(694),I=n(9184),L=n(4834),R=function(){function e(t){var n=t.gl,r=t.attribute,i=t.timeline;(0,o.Z)(this,e),(0,s.Z)(this,"gl",void 0),(0,s.Z)(this,"type","interpolation"),(0,s.Z)(this,"attributeInTransition",void 0),(0,s.Z)(this,"settings",void 0),(0,s.Z)(this,"attribute",void 0),(0,s.Z)(this,"transition",void 0),(0,s.Z)(this,"currentStartIndices",void 0),(0,s.Z)(this,"currentLength",void 0),(0,s.Z)(this,"transform",void 0),(0,s.Z)(this,"buffers",void 0),this.gl=n,this.transition=new L.Z(i),this.attribute=r,this.attributeInTransition=new M(n,r.settings),this.currentStartIndices=r.startIndices,this.currentLength=0,this.transform=function(e,t){var n=(0,P.w)(t.size);return new I.Z(e,{vs:D,defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"]})}(n,r);var a={byteLength:0,usage:35050};this.buffers=[new v.Z(n,a),new v.Z(n,a)]}return(0,a.Z)(e,[{key:"inProgress",get:function(){return this.transition.inProgress}},{key:"start",value:function(e,t){if(e.duration<=0)this.transition.cancel();else{this.settings=e;var n=this.gl,o=this.buffers,a=this.attribute;(0,P.DY)(o);var s,u={numInstances:t,attribute:a,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter},l=(0,i.Z)(o);try{for(l.s();!(s=l.n()).done;){var c=s.value;(0,P.IV)((0,r.Z)({buffer:c},u))}}catch(A){l.e(A)}finally{l.f()}this.currentStartIndices=a.startIndices,this.currentLength=(0,P.pi)(a,t),this.attributeInTransition.setData({buffer:o[1],value:a.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/a.size),sourceBuffers:{aFrom:o[0],aTo:(0,P.AQ)(n,a)},feedbackBuffers:{vCurrent:o[1]}})}}},{key:"update",value:function(){var e=this.transition.update();if(e){var t=this.settings,n=t.duration,r=t.easing,i=this.transition.time/n;r&&(i=r(i)),this.transform.run({uniforms:{time:i}})}return e}},{key:"cancel",value:function(){this.transition.cancel(),this.transform.delete();var e,t=(0,i.Z)(this.buffers);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}this.buffers.length=0}}]),e}(),D="\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n";var Z=n(5802),U=n(3978),j=n(6158);var N={interpolation:R,spring:function(){function e(t){var n=t.gl,i=t.attribute,a=t.timeline;(0,o.Z)(this,e),(0,s.Z)(this,"gl",void 0),(0,s.Z)(this,"type","spring"),(0,s.Z)(this,"attributeInTransition",void 0),(0,s.Z)(this,"settings",void 0),(0,s.Z)(this,"attribute",void 0),(0,s.Z)(this,"transition",void 0),(0,s.Z)(this,"currentStartIndices",void 0),(0,s.Z)(this,"currentLength",void 0),(0,s.Z)(this,"texture",void 0),(0,s.Z)(this,"framebuffer",void 0),(0,s.Z)(this,"transform",void 0),(0,s.Z)(this,"buffers",void 0),this.gl=n,this.type="spring",this.transition=new L.Z(a),this.attribute=i,this.attributeInTransition=new M(n,(0,r.Z)((0,r.Z)({},i.settings),{},{normalized:!1})),this.currentStartIndices=i.startIndices,this.currentLength=0,this.texture=function(e){return new U.Z(e,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(n),this.framebuffer=function(e,t){return new j.Z(e,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:(0,u.Z)({},36064,t)})}(n,this.texture),this.transform=function(e,t,n){var r=(0,P.w)(t.size);return new I.Z(e,{framebuffer:n,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:r},varyings:["vNext"]})}(n,i,this.framebuffer);var l={byteLength:0,usage:35050};this.buffers=[new v.Z(n,l),new v.Z(n,l),new v.Z(n,l)]}return(0,a.Z)(e,[{key:"inProgress",get:function(){return this.transition.inProgress}},{key:"start",value:function(e,t){var n,o=this.gl,a=this.buffers,s=this.attribute,u={numInstances:t,attribute:s,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter},l=(0,i.Z)(a);try{for(l.s();!(n=l.n()).done;){var c=n.value;(0,P.IV)((0,r.Z)({buffer:c},u))}}catch(A){l.e(A)}finally{l.f()}this.settings=e,this.currentStartIndices=s.startIndices,this.currentLength=(0,P.pi)(s,t),this.attributeInTransition.setData({buffer:a[1],value:s.value}),this.transition.start((0,r.Z)((0,r.Z)({},e),{},{duration:1/0})),this.transform.update({elementCount:Math.floor(this.currentLength/s.size),sourceBuffers:{aTo:(0,P.AQ)(o,s)}})}},{key:"update",value:function(){var e=this.buffers,t=this.transform,n=this.framebuffer,r=this.transition;if(!r.update())return!1;var i=this.settings;return t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:n,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:i.stiffness,damping:i.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),(0,P.DY)(e),this.attributeInTransition.setData({buffer:e[1],value:this.attribute.value}),(0,Z.z6)(n)[0]>0||r.end(),!0}},{key:"cancel",value:function(){this.transition.cancel(),this.transform.delete();var e,t=(0,i.Z)(this.buffers);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}]),e}()},z=function(){function e(t,n){var r=n.id,i=n.timeline;(0,o.Z)(this,e),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"isSupported",void 0),(0,s.Z)(this,"gl",void 0),(0,s.Z)(this,"timeline",void 0),(0,s.Z)(this,"transitions",void 0),(0,s.Z)(this,"needsRedraw",void 0),(0,s.Z)(this,"numInstances",void 0),this.id=r,this.gl=t,this.timeline=i,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=I.Z.isSupported(t)}return(0,a.Z)(e,[{key:"finalize",value:function(){for(var e in this.transitions)this._removeTransition(e)}},{key:"update",value:function(e){var t=e.attributes,n=e.transitions,r=e.numInstances;for(var i in this.numInstances=r||1,t){var o=t[i],a=o.getTransitionSetting(n);a&&this._updateAttribute(i,o,a)}for(var s in this.transitions){var u=t[s];u&&u.getTransitionSetting(n)||this._removeTransition(s)}}},{key:"hasAttribute",value:function(e){var t=this.transitions[e];return t&&t.inProgress}},{key:"getAttributes",value:function(){var e={};for(var t in this.transitions){var n=this.transitions[t];n.inProgress&&(e[t]=n.attributeInTransition)}return e}},{key:"run",value:function(){if(!this.isSupported||0===this.numInstances)return!1;for(var e in this.transitions){this.transitions[e].update()&&(this.needsRedraw=!0)}var t=this.needsRedraw;return this.needsRedraw=!1,t}},{key:"_removeTransition",value:function(e){this.transitions[e].cancel(),delete this.transitions[e]}},{key:"_updateAttribute",value:function(e,t,n){var r=this.transitions[e],i=!r||r.type!==n.type;if(i){if(!this.isSupported)return void _.Z.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();r&&this._removeTransition(e);var o=N[n.type];o?this.transitions[e]=new o({attribute:t,timeline:this.timeline,gl:this.gl}):(_.Z.error("unsupported transition type '".concat(n.type,"'"))(),i=!1)}(i||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(n,this.numInstances))}}]),e}(),Q="attributeManager.invalidate",H=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.id,i=void 0===r?"attribute-manager":r,a=n.stats,u=n.timeline;(0,o.Z)(this,e),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"gl",void 0),(0,s.Z)(this,"attributes",void 0),(0,s.Z)(this,"updateTriggers",void 0),(0,s.Z)(this,"needsRedraw",void 0),(0,s.Z)(this,"userData",void 0),(0,s.Z)(this,"stats",void 0),(0,s.Z)(this,"attributeTransitionManager",void 0),this.id=i,this.gl=t,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=a,this.attributeTransitionManager=new z(t,{id:"".concat(i,"-transitions"),timeline:u}),Object.seal(this)}return(0,a.Z)(e,[{key:"finalize",value:function(){for(var e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}},{key:"setNeedsRedraw",value:function(){this.needsRedraw=!0}},{key:"add",value:function(e){this._add(e)}},{key:"addInstanced",value:function(e){this._add(e,{instanced:1})}},{key:"remove",value:function(e){var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==this.attributes[r]&&(this.attributes[r].delete(),delete this.attributes[r])}}catch(o){n.e(o)}finally{n.f()}}},{key:"invalidate",value:function(e,t){var n=this._invalidateTrigger(e,t);(0,F.Z)(Q,this,e,n)}},{key:"invalidateAll",value:function(e){for(var t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);(0,F.Z)(Q,this,"all")}},{key:"update",value:function(e){var t=e.data,n=e.numInstances,r=e.startIndices,i=void 0===r?null:r,o=e.transitions,a=e.props,s=void 0===a?{}:a,u=e.buffers,l=void 0===u?{}:u,c=e.context,A=void 0===c?{}:c,f=!1;for(var h in(0,F.Z)("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart(),this.attributes){var p=this.attributes[h],d=p.settings.accessor;p.startIndices=i,p.numInstances=n,s[h]&&_.Z.removed("props.".concat(h),"data.attributes.".concat(h))(),p.setExternalBuffer(l[h])||p.setBinaryValue("string"===typeof d?l[d]:void 0,t.startIndices)||"string"===typeof d&&!l[d]&&p.setConstantValue(s[d])||p.needsUpdate()&&(f=!0,this._updateAttribute({attribute:p,numInstances:n,data:t,props:s,context:A})),this.needsRedraw=this.needsRedraw||p.needsRedraw()}f&&(0,F.Z)("attributeManager.updateEnd",this,n),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:o})}},{key:"updateTransition",value:function(){var e=this.attributeTransitionManager.run();return this.needsRedraw=this.needsRedraw||e,e}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getChangedAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearChangedFlags:!1},t=this.attributes,n=this.attributeTransitionManager,i=(0,r.Z)({},n.getAttributes());for(var o in t){var a=t[o];a.needsRedraw(e)&&!n.hasAttribute(o)&&(i[o]=a)}return i}},{key:"getShaderAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=this.getAttributes());var n={};for(var r in e)t[r]||Object.assign(n,e[r].getShaderAttributes());return n}},{key:"_add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e){var r=e[n];this.attributes[n]=this._createAttribute(n,r,t)}this._mapUpdateTriggersToAttributes()}},{key:"_createAttribute",value:function(e,t,n){var i=(0,r.Z)((0,r.Z)({},t),{},{id:e,size:(t.isIndexed?1:t.size)||1,divisor:n.instanced?1:t.divisor||0});return new M(this.gl,i)}},{key:"_mapUpdateTriggersToAttributes",value:function(){var e=this,t={},n=function(n){e.attributes[n].getUpdateTriggers().forEach((function(e){t[e]||(t[e]=[]),t[e].push(n)}))};for(var r in this.attributes)n(r);this.updateTriggers=t}},{key:"_invalidateTrigger",value:function(e,t){var n=this.attributes,r=this.updateTriggers[e];return r&&r.forEach((function(e){var r=n[e];r&&r.setNeedsUpdate(r.id,t)})),r}},{key:"_updateAttribute",value:function(e){var t=e.attribute,n=e.numInstances;((0,F.Z)("attribute.updateStart",t),t.constant)?t.setConstantValue(t.value):(t.allocate(n)&&(0,F.Z)("attribute.allocate",t,n),t.updateBuffer(e)&&(this.needsRedraw=!0,(0,F.Z)("attribute.updateEnd",t,n)))}}]),e}()},6954:function(e,t,n){"use strict";n.d(t,{DY:function(){return l},pi:function(){return c},w:function(){return u},AQ:function(){return s},M0:function(){return a},IV:function(){return A}});var r=n(1413);function i(e){var t=e.source,n=e.target,r=e.start,i=void 0===r?0:r,o=e.size,a=e.getData,s=e.end||n.length,u=t.length,l=s-i;if(u>l)n.set(t.subarray(0,l),i);else if(n.set(t,i),a)for(var c=u;c<l;)for(var A=a(c,t),f=0;f<o;f++)n[i+c]=A[f]||0,c++}var o={interpolation:{duration:0,easing:function(e){return e}},spring:{stiffness:.05,damping:.5}};function a(e,t){if(!e)return null;Number.isFinite(e)&&(e={type:"interpolation",duration:e});var n=e.type||"interpolation";return(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},o[n]),t),e),{},{type:n})}function s(e,t){var n=t.getBuffer();return n?[n,{divisor:0,size:t.size,normalized:t.settings.normalized}]:t.value}function u(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(e,'"'))}}function l(e){e.push(e.shift())}function c(e,t){var n=e.doublePrecision,r=e.settings,i=e.value,o=e.size,a=n&&i instanceof Float64Array?2:1;return(r.noAlloc?i.length:t*o)*a}function A(e){var t=e.buffer,n=e.numInstances,r=e.attribute,o=e.fromLength,a=e.fromStartIndices,s=e.getData,u=void 0===s?function(e){return e}:s,l=r.doublePrecision&&r.value instanceof Float64Array?2:1,A=r.size*l,f=r.byteOffset,h=r.startIndices,p=a&&h,d=c(r,n),g=r.isConstant;if(p||!(o>=d)){var v=g?r.value:r.getBuffer().getData({srcByteOffset:f});if(r.settings.normalized&&!g){var y=u;u=function(e,t){return r.normalizeConstant(y(e,t))}}var m=g?function(e,t){return u(v,t)}:function(e,t){return u(v.subarray(e,e+A),t)},b=t.getData({length:o}),_=new Float32Array(d);!function(e){var t=e.source,n=e.target,r=e.size,o=e.getData,a=e.sourceStartIndices,s=e.targetStartIndices;if(!Array.isArray(s))return i({source:t,target:n,size:r,getData:o}),n;for(var u=0,l=0,c=o&&function(e,t){return o(e+l,t)},A=Math.min(a.length,s.length),f=1;f<A;f++){var h=a[f]*r,p=s[f]*r;i({source:t.subarray(u,h),target:n,start:l,end:p,size:r,getData:c}),u=h,l=p}l<n.length&&i({source:[],target:n,start:l,size:r,getData:c})}({source:b,target:_,sourceStartIndices:a,targetStartIndices:h,size:A,getData:m}),t.byteLength<_.byteLength+f&&t.reallocate(_.byteLength+f),t.subData({data:_,offset:f})}}},155:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7762),i=n(1413),o=n(5671),a=n(3144),s=n(1752),u=n(1120),l=n(136),c=n(7277),A=n(8810),f=n(5546),h=n(694),p=n(8844),d=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"isComposite",get:function(){return!0}},{key:"isLoaded",get:function(){return(0,s.Z)((0,u.Z)(n.prototype),"isLoaded",this)&&this.getSubLayers().every((function(e){return e.isLoaded}))}},{key:"getSubLayers",value:function(){return this.internalState&&this.internalState.subLayers||[]}},{key:"initializeState",value:function(e){}},{key:"setState",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"setState",this).call(this,e),this.setNeedsUpdate()}},{key:"getPickingInfo",value:function(e){var t=e.info,n=t.object;return n&&n.__source&&n.__source.parent&&n.__source.parent.id===this.id?(t.object=n.__source.object,t.index=n.__source.index,t):t}},{key:"filterSubLayer",value:function(e){return!0}},{key:"shouldRenderSubLayer",value:function(e,t){return t&&t.length}},{key:"getSubLayerClass",value:function(e,t){var n=this.props._subLayerProps;return n&&n[e]&&n[e].type||t}},{key:"getSubLayerRow",value:function(e,t,n){return e.__source={parent:this,object:t,index:n},e}},{key:"getSubLayerAccessor",value:function(e){if("function"===typeof e){var t={index:-1,data:this.props.data,target:[]};return function(n,r){return n&&n.__source?(t.index=n.__source.index,e(n.__source.object,t)):e(n,r)}}return e}},{key:"getSubLayerProps",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,o=n.opacity,a=n.pickable,s=n.visible,u=n.parameters,l=n.getPolygonOffset,c=n.highlightedObjectIndex,A=n.autoHighlight,f=n.highlightColor,h=n.coordinateSystem,p=n.coordinateOrigin,d=n.wrapLongitude,g=n.positionFormat,v=n.modelMatrix,y=n.extensions,m=n.fetch,b=n.operation,_=n._subLayerProps,w={id:"",updateTriggers:{},opacity:o,pickable:a,visible:s,parameters:u,getPolygonOffset:l,highlightedObjectIndex:c,autoHighlight:A,highlightColor:f,coordinateSystem:h,coordinateOrigin:p,wrapLongitude:d,positionFormat:g,modelMatrix:v,extensions:y,fetch:m,operation:b},x=_&&t.id&&_[t.id],C=x&&x.updateTriggers,B=t.id||"sublayer";if(x){var E=this.constructor._propTypes,S=t.type?t.type._propTypes:{};for(var k in x){var O=S[k]||E[k];O&&"accessor"===O.type&&(x[k]=this.getSubLayerAccessor(x[k]))}}Object.assign(w,t,x),w.id="".concat(this.props.id,"-").concat(B),w.updateTriggers=(0,i.Z)((0,i.Z)({all:null===(e=this.props.updateTriggers)||void 0===e?void 0:e.all},t.updateTriggers),C);var T,P=(0,r.Z)(y);try{for(P.s();!(T=P.n()).done;){var M=T.value,F=M.getSubLayerProps.call(this,M);F&&Object.assign(w,F,{updateTriggers:Object.assign(w.updateTriggers,F.updateTriggers)})}}catch(I){P.e(I)}finally{P.f()}return w}},{key:"_updateAutoHighlight",value:function(e){var t,n=(0,r.Z)(this.getSubLayers());try{for(n.s();!(t=n.n()).done;){t.value.updateAutoHighlight(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_getAttributeManager",value:function(){return null}},{key:"_postUpdate",value:function(e,t){var n=this.internalState.subLayers,i=!n||this.needsUpdate();if(i){var o=this.renderLayers();n=(0,p.x)(o,Boolean),this.internalState.subLayers=n}(0,h.Z)("compositeLayer.renderLayers",this,i,n);var a,s=(0,r.Z)(n);try{for(s.s();!(a=s.n()).done;){a.value.parent=this}}catch(u){s.e(u)}finally{s.f()}}}]),n}(f.Z);(0,A.Z)(d,"layerName","CompositeLayer")},3924:function(e,t,n){"use strict";n.d(t,{Df:function(){return i},FP:function(){return s},iI:function(){return a},k8:function(){return u},zG:function(){return o}});var r=n(3452),i={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(i,"IDENTITY",{get:function(){return r.Z.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0}});var o={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},a={common:0,meters:1,pixels:2},s={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},u={DRAW:"draw",MASK:"mask"}},3931:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7762),i=n(1413),o=n(5671),a=n(3144),s=n(694),u=n(136),l=n(7277),c=n(3924),A=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"shouldDrawLayer",value:function(e){return e.props.operation===c.k8.DRAW}}]),n}(n(191).Z),f=n(7155),h=n(6158),p=function(){function e(t){(0,o.Z)(this,e),this.gl=t,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new A(t),this.pickLayersPass=new f.Z(t),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}return(0,a.Z)(e,[{key:"setProps",value:function(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}},{key:"renderLayers",value:function(e){var t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=e.layerFilter||this.layerFilter,e.effects=e.effects||[],e.target=e.target||h.Z.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);var n=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,r=t.render((0,i.Z)((0,i.Z)({},e),{},{target:n}));this._postRender(e.effects,e),this.renderCount++,(0,s.Z)("deckRenderer.renderLayers",this,r,e)}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"finalize",value:function(){var e,t=this.renderBuffers,n=(0,r.Z)(t);try{for(n.s();!(e=n.n()).done;){e.value.delete()}}catch(i){n.e(i)}finally{n.f()}t.length=0}},{key:"_preRender",value:function(e,t){var n,i=null,o=(0,r.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.preRender(this.gl,t),a.postRender&&(i=a)}}catch(s){o.e(s)}finally{o.f()}i&&this._resizeRenderBuffers(),this.lastPostProcessEffect=i}},{key:"_resizeRenderBuffers",value:function(){var e=this.renderBuffers;0===e.length&&e.push(new h.Z(this.gl),new h.Z(this.gl));var t,n=(0,r.Z)(e);try{for(n.s();!(t=n.n()).done;){t.value.resize()}}catch(i){n.e(i)}finally{n.f()}}},{key:"_postRender",value:function(e,t){var n,i=this.renderBuffers,o={inputBuffer:i[0],swapBuffer:i[1],target:null},a=(0,r.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.postRender){if(s===this.lastPostProcessEffect){o.target=t.target,s.postRender(this.gl,o);break}var u=s.postRender(this.gl,o);o.inputBuffer=u,o.swapBuffer=u===i[0]?i[1]:i[0]}}}catch(l){a.e(l)}finally{a.f()}}}]),e}()},8458:function(e,t,n){"use strict";n.d(t,{Z:function(){return se}});var r=n(4942),i=n(7762),o=n(1413),a=n(5671),s=n(3144),u=n(8810),l=n(667),c=n(8202),A=n(3452),f=n(8844),h=function(){function e(t){(0,a.Z)(this,e),(0,u.Z)(this,"width",void 0),(0,u.Z)(this,"height",void 0),(0,u.Z)(this,"views",void 0),(0,u.Z)(this,"viewState",void 0),(0,u.Z)(this,"controllers",void 0),(0,u.Z)(this,"timeline",void 0),(0,u.Z)(this,"_viewports",void 0),(0,u.Z)(this,"_viewportMap",void 0),(0,u.Z)(this,"_isUpdating",void 0),(0,u.Z)(this,"_needsRedraw",void 0),(0,u.Z)(this,"_needsUpdate",void 0),(0,u.Z)(this,"_eventManager",void 0),(0,u.Z)(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=t.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=t.eventManager,this._eventCallbacks={onViewStateChange:t.onViewStateChange,onInteractionStateChange:t.onInteractionStateChange},Object.seal(this),this.setProps(t)}return(0,s.Z)(e,[{key:"finalize",value:function(){for(var e in this.controllers){var t=this.controllers[e];t&&t.finalize()}this.controllers={}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}},{key:"updateViewStates",value:function(){for(var e in this.controllers){var t=this.controllers[e];t&&t.updateTransition()}}},{key:"getViewports",value:function(e){return e?this._viewports.filter((function(t){return t.containsPixel(e)})):this._viewports}},{key:"getViews",value:function(){var e={};return this.views.forEach((function(t){e[t.id]=t})),e}},{key:"getView",value:function(e){return this.views.find((function(t){return t.id===e}))}},{key:"getViewState",value:function(e){var t="string"===typeof e?this.getView(e):e,n=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(n):n}},{key:"getViewport",value:function(e){return this._viewportMap[e]}},{key:"unproject",value:function(e,t){for(var n=this.getViewports(),r={x:e[0],y:e[1]},i=n.length-1;i>=0;--i){var o=n[i];if(o.containsPixel(r)){var a=e.slice();return a[0]-=o.x,a[1]-=o.y,o.unproject(a,t)}}return null}},{key:"setProps",value:function(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}},{key:"_update",value:function(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}},{key:"_setSize",value:function(e,t){e===this.width&&t===this.height||(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}},{key:"_setViews",value:function(e){e=(0,f.x)(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}},{key:"_setViewState",value:function(e){e?(!(0,c.v)(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):A.Z.warn("missing `viewState` or `initialViewState`")()}},{key:"_onViewStateChange",value:function(e,t){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange((0,o.Z)((0,o.Z)({},t),{},{viewId:e}))}},{key:"_createController",value:function(e,t){var n=this;return new(0,t.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:function(t){var r;return null===(r=n.getView(e.id))||void 0===r?void 0:r.makeViewport({viewState:t,width:n.width,height:n.height})}})}},{key:"_updateController",value:function(e,t,n,r){var i=e.controller;if(i){var a=(0,o.Z)((0,o.Z)((0,o.Z)({},t),i),{},{id:e.id,x:n.x,y:n.y,width:n.width,height:n.height});return r||(r=this._createController(e,a)),r&&r.setProps(a),r}return null}},{key:"_rebuildViewports",value:function(){var e=this.views,t=this.controllers;this._viewports=[],this.controllers={};for(var n=!1,r=e.length;r--;){var i=e[r],o=this.getViewState(i),a=i.makeViewport({viewState:o,width:this.width,height:this.height}),s=t[i.id],u=Boolean(i.controller);u&&!s&&(n=!0),!n&&u||!s||(s.finalize(),s=null),this.controllers[i.id]=this._updateController(i,o,a,s),this._viewports.unshift(a)}for(var l in t){var c=t[l];c&&!this.controllers[l]&&c.finalize()}this._buildViewportMap()}},{key:"_buildViewportMap",value:function(){var e=this;this._viewportMap={},this._viewports.forEach((function(t){t.id&&(e._viewportMap[t.id]=e._viewportMap[t.id]||t)}))}},{key:"_diffViews",value:function(e,t){return e.length!==t.length||e.some((function(n,r){return!e[r].equals(t[r])}))}}]),e}(),p=n(5665),d=n(955),g=n(3978),v=n(9166),y=n(7326),m=n(1752),b=n(1120),_=n(136),w=n(7277),x=n(6158),C=n(1622),B=n(3924),E=function(e){(0,_.Z)(n,e);var t=(0,w.Z)(n);function n(e,i){var o,s;(0,a.Z)(this,n),s=t.call(this,e,i),(0,u.Z)((0,y.Z)(s),"maskMap",void 0),(0,u.Z)((0,y.Z)(s),"fbo",void 0);var l=i.mapSize,c=void 0===l?2048:l;return s.maskMap=new g.Z(e,{width:c,height:c,parameters:(o={},(0,r.Z)(o,10241,9729),(0,r.Z)(o,10240,9729),(0,r.Z)(o,10242,33071),(0,r.Z)(o,10243,33071),o)}),s.fbo=new x.Z(e,{id:"maskmap",width:c,height:c,attachments:(0,r.Z)({},36064,s.maskMap)}),s}return(0,s.Z)(n,[{key:"render",value:function(e){var t=this,r=this.gl,i=[!1,!1,!1,!1];return i[e.channel]=!0,(0,C.s8)(r,{clearColor:[255,255,255,255],blend:!0,blendFunc:[0,1],blendEquation:32778,colorMask:i,depthTest:!1},(function(){return(0,m.Z)((0,b.Z)(n.prototype),"render",t).call(t,(0,o.Z)((0,o.Z)({},e),{},{target:t.fbo,pass:"mask"}))}))}},{key:"shouldDrawLayer",value:function(e){return e.props.operation===B.k8.MASK}},{key:"delete",value:function(){this.fbo.delete(),this.maskMap.delete()}}]),n}(n(191).Z),S=n(610),k=n(6293),O=n(8611);var T=function(){function e(){(0,a.Z)(this,e),(0,u.Z)(this,"id","mask-effect"),(0,u.Z)(this,"props",null),(0,u.Z)(this,"useInPicking",!0),(0,u.Z)(this,"dummyMaskMap",void 0),(0,u.Z)(this,"channels",[]),(0,u.Z)(this,"masks",null),(0,u.Z)(this,"maskPass",void 0),(0,u.Z)(this,"maskMap",void 0),(0,u.Z)(this,"lastViewport",void 0)}return(0,s.Z)(e,[{key:"preRender",value:function(e,t){var n=t.layers,r=t.layerFilter,i=t.viewports,o=t.onViewportActive,a=t.views;this.dummyMaskMap||(this.dummyMaskMap=new g.Z(e,{width:1,height:1}));var s=n.filter((function(e){return e.props.visible&&e.props.operation===B.k8.MASK}));if(0===s.length)return this.masks=null,void(this.channels.length=0);this.masks={},this.maskPass||(this.maskPass=new E(e,{id:"default-mask"}),this.maskMap=this.maskPass.maskMap);var u=this._sortMaskChannels(s),l=i[0],c=!this.lastViewport||!this.lastViewport.equals(l);for(var A in u)this._renderChannel(u[A],{layerFilter:r,onViewportActive:o,views:a,viewport:l,viewportChanged:c})}},{key:"_renderChannel",value:function(e,t){var n=t.layerFilter,r=t.onViewportActive,o=t.views,a=t.viewport,s=t.viewportChanged,u=this.channels[e.index];if(u){var l=e===u||u.layers.length!==e.layers.length||e.layerBounds.some((function(e,t){return e!==u.layerBounds[t]}));if(e.bounds=u.bounds,e.maskBounds=u.maskBounds,this.channels[e.index]=e,(l||s)&&(this.lastViewport=a,e.bounds=function(e){var t,n=e.layers,r=e.viewport,o=null,a=(0,i.Z)(n);try{for(a.s();!(t=a.n()).done;){var s=t.value.getBounds();s&&(o?(o[0]=Math.min(o[0],s[0][0]),o[1]=Math.min(o[1],s[0][1]),o[2]=Math.max(o[2],s[1][0]),o[3]=Math.max(o[3],s[1][1])):o=[s[0][0],s[0][1],s[1][0],s[1][1]])}}catch(c){a.e(c)}finally{a.f()}var u=r.getBounds();if(!o)return u;var l=function(e){var t={x:e[2]-e[0],y:e[3]-e[1]},n={x:e[0]+.5*t.x,y:e[1]+.5*t.y};return[n.x-t.x,n.y-t.y,n.x+t.x,n.y+t.y]}(u);return o[2]-o[0]<l[2]-l[0]||o[3]-o[1]<l[3]-l[1]||(o[0]=Math.max(o[0],l[0]),o[1]=Math.max(o[1],l[1]),o[2]=Math.min(o[2],l[2]),o[3]=Math.min(o[3],l[3])),o}({layers:e.layers,viewport:a}),l||!(0,v.fS)(e.bounds,u.bounds))){var c=this.maskPass,A=this.maskMap,f=function(e){var t=e.bounds,n=e.viewport,r=e.width,i=e.height;if(t[2]<=t[0]||t[3]<=t[1])return null;if(r-=2,i-=2,n instanceof k.Z){var o=(0,O.Xg)({width:r,height:i,bounds:[[t[0],t[1]],[t[2],t[3]]],maxZoom:20}),a=o.longitude,s=o.latitude,u=o.zoom;return new k.Z({longitude:a,latitude:s,zoom:u,x:1,y:1,width:r,height:i})}var l=[(t[0]+t[2])/2,(t[1]+t[3])/2,0],c=Math.min(20,r/(t[2]-t[0]),i/(t[3]-t[1]));return new S.Z({x:1,y:1}).makeViewport({width:r,height:i,viewState:{target:l,zoom:Math.log2(c)}})}({bounds:e.bounds,viewport:a,width:A.width,height:A.height});e.maskBounds=f?f.getBounds():[0,0,1,1],c.render({pass:"mask",channel:e.index,layers:e.layers,layerFilter:n,viewports:f?[f]:[],onViewportActive:r,views:o,moduleParameters:{devicePixelRatio:1}})}this.masks[e.id]={index:e.index,bounds:e.maskBounds,coordinateOrigin:e.coordinateOrigin,coordinateSystem:e.coordinateSystem}}}},{key:"_sortMaskChannels",value:function(e){var t,n=this,r={},o=0,a=(0,i.Z)(e);try{var s=function(){var e=t.value,i=e.root.id,a=r[i];if(!a){if(++o>4)return A.Z.warn("Too many mask layers. The max supported is 4")(),"continue";a={id:i,index:n.channels.findIndex((function(e){return(null===e||void 0===e?void 0:e.id)===i})),layers:[],layerBounds:[],coordinateOrigin:e.root.props.coordinateOrigin,coordinateSystem:e.root.props.coordinateSystem},r[i]=a}a.layers.push(e),a.layerBounds.push(e.getBounds())};for(a.s();!(t=a.n()).done;)s()}catch(h){a.e(h)}finally{a.f()}for(var u=0;u<4;u++){var l=this.channels[u];l&&l.id in r||(this.channels[u]=null)}for(var c in r){var f=r[c];f.index<0&&(f.index=this.channels.findIndex((function(e){return!e})),this.channels[f.index]=f)}return r}},{key:"getModuleParameters",value:function(){return{maskMap:this.masks?this.maskMap:this.dummyMaskMap,maskChannels:this.masks}}},{key:"cleanup",value:function(){this.dummyMaskMap&&(this.dummyMaskMap.delete(),this.dummyMaskMap=void 0),this.maskPass&&(this.maskPass.delete(),this.maskPass=void 0,this.maskMap=void 0),this.lastViewport=void 0,this.masks=null,this.channels.length=0}}]),e}(),P=new d.Z,M=function(){function e(){(0,a.Z)(this,e),(0,u.Z)(this,"effects",void 0),(0,u.Z)(this,"_internalEffects",void 0),(0,u.Z)(this,"_needsRedraw",void 0),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}return(0,s.Z)(e,[{key:"setProps",value:function(e){"effects"in e&&(e.effects.length===this.effects.length&&(0,c.v)(e.effects,this.effects)||(this.setEffects(e.effects),this._needsRedraw="effects changed"))}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"getEffects",value:function(){return this._internalEffects}},{key:"finalize",value:function(){this.cleanup()}},{key:"setEffects",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.cleanup(),this.effects=e,this._internalEffects=e.slice(),this._internalEffects.push(new T),e.some((function(e){return e instanceof d.Z}))||this._internalEffects.push(P)}},{key:"cleanup",value:function(){var e,t=(0,i.Z)(this.effects);try{for(t.s();!(e=t.n()).done;){e.value.cleanup()}}catch(o){t.e(o)}finally{t.f()}var n,r=(0,i.Z)(this._internalEffects);try{for(r.s();!(n=r.n()).done;){n.value.cleanup()}}catch(o){r.e(o)}finally{r.f()}this.effects.length=0,this._internalEffects.length=0}}]),e}(),F=n(3931),I=n(5802),L=n(7155),R={pickedColor:null,pickedObjectIndex:-1};function D(e){for(var t=e.pickedColors,n=e.decodePickingColor,r=e.deviceX,i=e.deviceY,a=e.deviceRadius,s=e.deviceRect,u=s.x,l=s.y,c=s.width,f=s.height,h=a*a,p=-1,d=0,g=0;g<f;g++){var v=g+l-i,y=v*v;if(y>h)d+=4*c;else for(var m=0;m<c;m++){if(t[d+3]-1>=0){var b=m+u-r,_=b*b+y;_<=h&&(h=_,p=d)}d+=4}}if(p>=0){var w=t.slice(p,p+4),x=n(w);if(x){var C=Math.floor(p/4/c),B=p/4-C*c;return(0,o.Z)((0,o.Z)({},x),{},{pickedColor:w,pickedX:u+B,pickedY:l+C})}A.Z.error("Picked non-existent layer. Is picking buffer corrupt?")()}return R}function Z(e){var t,n=e.pickInfo,r=e.viewports,i=e.pixelRatio,o=e.x,a=e.y,s=e.z,u=r[0];if(r.length>1&&(u=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.containsPixel(t))return r}return e[0]}((null===n||void 0===n?void 0:n.pickedViewports)||r,{x:o,y:a})),u){var l=[o-u.x,a-u.y];void 0!==s&&(l[2]=s),t=u.unproject(l)}return{color:null,layer:null,viewport:u,index:-1,picked:!1,x:o,y:a,pixel:[o,a],coordinate:t,devicePixel:n&&"pickedX"in n?[n.pickedX,n.pickedY]:void 0,pixelRatio:i}}function U(e){var t=e.pickInfo,n=e.lastPickedInfo,r=e.mode,i=e.layers,a=t.pickedColor,s=t.pickedLayer,u=t.pickedObjectIndex,l=s?[s]:[];if("hover"===r){var c=n.index,A=n.layerId,f=s?s.props.id:null;if(f!==A||u!==c){if(f!==A){var h=i.find((function(e){return e.props.id===A}));h&&l.unshift(h)}n.layerId=f,n.index=u,n.info=null}}var p=Z(e),d=new Map;return d.set(null,p),l.forEach((function(e){var t=(0,o.Z)({},p);e===s&&(t.color=a,t.index=u,t.picked=!0);var i=(t=j({layer:e,info:t,mode:r})).layer;e===s&&"hover"===r&&(n.info=t),d.set(i.id,t),"hover"===r&&i.updateAutoHighlight(t)})),d}function j(e){for(var t=e.layer,n=e.info,r=e.mode;t&&n;){var i=n.layer||null;n.sourceLayer=i,n.layer=t,n=t.getPickingInfo({info:n,mode:r,sourceLayer:i}),t=t.parent}return n}var N=function(){function e(t){(0,a.Z)(this,e),(0,u.Z)(this,"gl",void 0),(0,u.Z)(this,"pickingFBO",void 0),(0,u.Z)(this,"depthFBO",void 0),(0,u.Z)(this,"pickLayersPass",void 0),(0,u.Z)(this,"layerFilter",void 0),(0,u.Z)(this,"lastPickedInfo",void 0),(0,u.Z)(this,"_pickable",!0),this.gl=t,this.pickLayersPass=new L.Z(t),this.lastPickedInfo={index:-1,layerId:null,info:null}}return(0,s.Z)(e,[{key:"setProps",value:function(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}},{key:"finalize",value:function(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}},{key:"pickObject",value:function(e){return this._pickClosestObject(e)}},{key:"pickObjects",value:function(e){return this._pickVisibleObjects(e)}},{key:"getLastPickedObject",value:function(e){var t=e.x,n=e.y,r=e.layers,i=e.viewports,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastPickedInfo.info,s=a&&a.layer&&a.layer.id,u=a&&a.viewport&&a.viewport.id,l=s?r.find((function(e){return e.id===s})):null,c=u&&i.find((function(e){return e.id===u}))||i[0],A=c&&c.unproject([t-c.x,n-c.y]),f={x:t,y:n,viewport:c,coordinate:A,layer:l};return(0,o.Z)((0,o.Z)({},a),f)}},{key:"_resizeBuffer",value:function(){var e,t,n=this.gl;if(!this.pickingFBO&&(this.pickingFBO=new x.Z(n),x.Z.isSupported(n,{colorBufferFloat:!0}))){var i=new x.Z(n);i.attach((0,r.Z)({},36064,new g.Z(n,{format:(0,C.D0)(n)?34836:6408,type:5126}))),this.depthFBO=i}null===(e=this.pickingFBO)||void 0===e||e.resize({width:n.canvas.width,height:n.canvas.height}),null===(t=this.depthFBO)||void 0===t||t.resize({width:n.canvas.width,height:n.canvas.height})}},{key:"_getPickable",value:function(e){if(!1===this._pickable)return null;var t=e.filter((function(e){return e.isPickable()&&!e.isComposite}));return t.length?t:null}},{key:"_pickClosestObject",value:function(e){var t=e.layers,n=e.views,r=e.viewports,a=e.x,s=e.y,u=e.radius,l=void 0===u?0:u,c=e.depth,A=void 0===c?1:c,f=e.mode,h=void 0===f?"query":f,p=e.unproject3D,d=e.onViewportActive,g=e.effects,v=this._getPickable(t),y=(0,C.w)(this.gl);if(!v)return{result:[],emptyInfo:Z({viewports:r,x:a,y:s,pixelRatio:y})};this._resizeBuffer();for(var m,b=(0,C.JY)(this.gl,[a,s],!0),_=[b.x+Math.floor(b.width/2),b.y+Math.floor(b.height/2)],w=Math.round(l*y),x=this.pickingFBO,B=x.width,E=x.height,S=this._getPickingRect({deviceX:_[0],deviceY:_[1],deviceRadius:w,deviceWidth:B,deviceHeight:E}),k={x:a-l,y:s-l,width:2*l+1,height:2*l+1},O=[],T=new Set,P=0;P<A;P++){var M=void 0;if(S){var F=this._drawAndSample({layers:v,views:n,viewports:r,onViewportActive:d,deviceRect:S,cullRect:k,effects:g,pass:"picking:".concat(h)});M=D((0,o.Z)((0,o.Z)({},F),{},{deviceX:_[0],deviceY:_[1],deviceRadius:w,deviceRect:S}))}else M={pickedColor:null,pickedObjectIndex:-1};var I=void 0;if(M.pickedLayer&&p&&this.depthFBO)I=this._drawAndSample({layers:[M.pickedLayer],views:n,viewports:r,onViewportActive:d,deviceRect:{x:M.pickedX,y:M.pickedY,width:1,height:1},cullRect:k,effects:g,pass:"picking:".concat(h,":z")},!0).pickedColors[0];M.pickedLayer&&P+1<A&&(T.add(M.pickedLayer),M.pickedLayer.disablePickingIndex(M.pickedObjectIndex)),m=U({pickInfo:M,lastPickedInfo:this.lastPickedInfo,mode:h,layers:v,viewports:r,x:a,y:s,z:I,pixelRatio:y});var L,R=(0,i.Z)(m.values());try{for(R.s();!(L=R.n()).done;){var j=L.value;j.layer&&O.push(j)}}catch(Q){R.e(Q)}finally{R.f()}if(!M.pickedColor)break}var N,z=(0,i.Z)(T);try{for(z.s();!(N=z.n()).done;){N.value.restorePickingColors()}}catch(Q){z.e(Q)}finally{z.f()}return{result:O,emptyInfo:m.get(null)}}},{key:"_pickVisibleObjects",value:function(e){var t=e.layers,n=e.views,r=e.viewports,i=e.x,a=e.y,s=e.width,u=void 0===s?1:s,l=e.height,c=void 0===l?1:l,f=e.mode,h=void 0===f?"query":f,p=e.maxObjects,d=void 0===p?null:p,g=e.onViewportActive,v=e.effects,y=this._getPickable(t);if(!y)return[];this._resizeBuffer();for(var m=(0,C.w)(this.gl),b=(0,C.JY)(this.gl,[i,a],!0),_=b.x,w=b.y+b.height,x=(0,C.JY)(this.gl,[i+u,a+c],!0),B=x.x+x.width,E=x.y,S={x:_,y:E,width:B-_,height:w-E},k=function(e){var t=e.pickedColors,n=e.decodePickingColor,r=new Map;if(t)for(var i=0;i<t.length;i+=4)if(t[i+3]-1>=0){var a=t.slice(i,i+4),s=a.join(",");if(!r.has(s)){var u=n(a);u?r.set(s,(0,o.Z)((0,o.Z)({},u),{},{color:a})):A.Z.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(r.values())}(this._drawAndSample({layers:y,views:n,viewports:r,onViewportActive:g,deviceRect:S,cullRect:{x:i,y:a,width:u,height:c},effects:v,pass:"picking:".concat(h)})),O=new Map,T=Number.isFinite(d),P=0;P<k.length&&!(T&&d&&O.size>=d);P++){var M=k[P],F={color:M.pickedColor,layer:null,index:M.pickedObjectIndex,picked:!0,x:i,y:a,pixelRatio:m};F=j({layer:M.pickedLayer,info:F,mode:h}),O.has(F.object)||O.set(F.object,F)}return Array.from(O.values())}},{key:"_drawAndSample",value:function(e){var t=e.layers,n=e.views,r=e.viewports,i=e.onViewportActive,o=e.deviceRect,a=e.cullRect,s=e.effects,u=e.pass,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=l?this.depthFBO:this.pickingFBO,A=this.pickLayersPass.render({layers:t,layerFilter:this.layerFilter,views:n,viewports:r,onViewportActive:i,pickingFBO:c,deviceRect:o,cullRect:a,effects:s,pass:u,pickZ:l}),f=A.decodePickingColor,h=o.x,p=o.y,d=o.width,g=o.height,v=new(l?Float32Array:Uint8Array)(d*g*4);return(0,I.z6)(c,{sourceX:h,sourceY:p,sourceWidth:d,sourceHeight:g,target:v}),{pickedColors:v,decodePickingColor:f}}},{key:"_getPickingRect",value:function(e){var t=e.deviceX,n=e.deviceY,r=e.deviceRadius,i=e.deviceWidth,o=e.deviceHeight,a=Math.max(0,t-r),s=Math.max(0,n-r),u=Math.min(i,t+r+1)-a,l=Math.min(o,n+r+1)-s;return u<=0||l<=0?null:{x:a,y:s,width:u,height:l}}}]),e}(),z={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"},Q=function(){function e(t){(0,a.Z)(this,e),(0,u.Z)(this,"el",null),(0,u.Z)(this,"isVisible",!1);var n=t.parentElement;n&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,z),n.appendChild(this.el))}return(0,s.Z)(e,[{key:"setTooltip",value:function(e,t,n){var r=this.el;if(r){if("string"===typeof e)r.innerText=e;else{if(!e)return this.isVisible=!1,void(r.style.display="none");e.text&&(r.innerText=e.text),e.html&&(r.innerHTML=e.html),e.className&&(r.className=e.className),Object.assign(r.style,e.style)}this.isVisible=!0,r.style.display="block",r.style.transform="translate(".concat(t,"px, ").concat(n,"px)")}}},{key:"remove",value:function(){this.el&&(this.el.remove(),this.el=null)}}]),e}(),H=n(6188),V=n(2317),G=n(984),W=n(694);var K={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function(e){var t=e[0],n=e[e.length-1];return"{"===t&&"}"===n||"["===t&&"]"===n},parseTextSync:JSON.parse},q="8.8.11",X=globalThis.deck&&globalThis.deck.VERSION;if(X&&X!==q)throw new Error("deck.gl - multiple versions detected: ".concat(X," vs ").concat(q));X||(A.Z.log(1,"deck.gl ".concat(q))(),globalThis.deck=(0,o.Z)((0,o.Z)({},globalThis.deck),{},{VERSION:q,version:q,log:A.Z,_registerLoggers:W.z}),(0,V.fh)([K,[G.S,{imagebitmap:{premultiplyAlpha:"none"}}]]));var Y=globalThis.deck,J=n(8047),$=n(3011),ee=n(176),te=n(6893),ne=n(3987),re=n(511),ie=n(2515);function oe(){}var ae={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:oe,onResize:oe,onViewStateChange:oe,onInteractionStateChange:oe,onBeforeRender:oe,onAfterRender:oe,onLoad:oe,onError:function(e){return A.Z.error(e.message)()},onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:function(e){return e.isDragging?"grabbing":"grab"},getTooltip:null,debug:!1,drawPickingColors:!1},se=function(){function e(t){var n=this;(0,a.Z)(this,e),(0,u.Z)(this,"props",void 0),(0,u.Z)(this,"width",0),(0,u.Z)(this,"height",0),(0,u.Z)(this,"userData",{}),(0,u.Z)(this,"canvas",null),(0,u.Z)(this,"viewManager",null),(0,u.Z)(this,"layerManager",null),(0,u.Z)(this,"effectManager",null),(0,u.Z)(this,"deckRenderer",null),(0,u.Z)(this,"deckPicker",null),(0,u.Z)(this,"eventManager",null),(0,u.Z)(this,"tooltip",null),(0,u.Z)(this,"metrics",void 0),(0,u.Z)(this,"animationLoop",void 0),(0,u.Z)(this,"stats",void 0),(0,u.Z)(this,"viewState",void 0),(0,u.Z)(this,"cursorState",void 0),(0,u.Z)(this,"_needsRedraw",void 0),(0,u.Z)(this,"_pickRequest",void 0),(0,u.Z)(this,"_lastPointerDownInfo",null),(0,u.Z)(this,"_metricsCounter",void 0),(0,u.Z)(this,"_onPointerMove",(function(e){var t=n._pickRequest;if("pointerleave"===e.type)t.x=-1,t.y=-1,t.radius=0;else{if(e.leftButton||e.rightButton)return;var r=e.offsetCenter;if(!r)return;t.x=r.x,t.y=r.y,t.radius=n.props.pickingRadius}n.layerManager&&(n.layerManager.context.mousePosition={x:t.x,y:t.y}),t.event=e})),(0,u.Z)(this,"_onEvent",(function(e){var t=B.FP[e.type],r=e.offsetCenter;if(t&&r&&n.layerManager){var i=n.layerManager.getLayers(),o=n.deckPicker.getLastPickedObject({x:r.x,y:r.y,layers:i,viewports:n.getViewports(r)},n._lastPointerDownInfo),a=o.layer,s=a&&(a[t.handler]||a.props[t.handler]),u=n.props[t.handler],l=!1;s&&(l=s.call(a,o,e)),!l&&u&&u(o,e)}})),(0,u.Z)(this,"_onPointerDown",(function(e){var t=e.offsetCenter,r=n._pick("pickObject","pickObject Time",{x:t.x,y:t.y,radius:n.props.pickingRadius});n._lastPointerDownInfo=r.result[0]||r.emptyInfo})),this.props=(0,o.Z)((0,o.Z)({},ae),t),t=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},t.viewState&&t.initialViewState&&A.Z.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===(0,J.Z)()&&A.Z.warn("IE 11 is not supported")(),this.viewState=t.initialViewState,t.gl||"undefined"!==typeof document&&(this.canvas=this._createCanvas(t)),this.animationLoop=this._createAnimationLoop(t),this.stats=new ne.Z({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(t),t._typedArrayManagerProps&&H.Z.setOptions(t._typedArrayManagerProps),this.animationLoop.start()}return(0,s.Z)(e,[{key:"finalize",value:function(){var e,t,n,r,i,o,a,s;(this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(e=this.layerManager)||void 0===e||e.finalize(),this.layerManager=null,null===(t=this.viewManager)||void 0===t||t.finalize(),this.viewManager=null,null===(n=this.effectManager)||void 0===n||n.finalize(),this.effectManager=null,null===(r=this.deckRenderer)||void 0===r||r.finalize(),this.deckRenderer=null,null===(i=this.deckPicker)||void 0===i||i.finalize(),this.deckPicker=null,null===(o=this.eventManager)||void 0===o||o.destroy(),this.eventManager=null,null===(a=this.tooltip)||void 0===a||a.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas)||(null===(s=this.canvas.parentElement)||void 0===s||s.removeChild(this.canvas),this.canvas=null)}},{key:"setProps",value:function(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&A.Z.removed("onLayerHover","onHover")(),"onLayerClick"in e&&A.Z.removed("onLayerClick","onClick")(),e.initialViewState&&!(0,c.v)(this.props.initialViewState,e.initialViewState)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);var t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";var t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);var n=this.viewManager.needsRedraw(e),r=this.layerManager.needsRedraw(e),i=this.effectManager.needsRedraw(e),o=this.deckRenderer.needsRedraw(e);return t=t||n||r||i||o}},{key:"redraw",value:function(e){if(this.layerManager){var t=this.needsRedraw({clearRedrawFlags:!0});(t=e||t)&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}}},{key:"isInitialized",get:function(){return null!==this.viewManager}},{key:"getViews",value:function(){return(0,ie.Z)(this.viewManager),this.viewManager.views}},{key:"getViewports",value:function(e){return(0,ie.Z)(this.viewManager),this.viewManager.getViewports(e)}},{key:"pickObject",value:function(e){var t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}},{key:"pickMultipleObjects",value:function(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}},{key:"pickObjects",value:function(e){return this._pick("pickObjects","pickObjects Time",e)}},{key:"_addResources",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in e)this.layerManager.resourceManager.add({resourceId:n,data:e[n],forceUpdate:t})}},{key:"_removeResources",value:function(e){var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.layerManager.resourceManager.remove(r)}}catch(o){n.e(o)}finally{n.f()}}},{key:"_pick",value:function(e,t,n){(0,ie.Z)(this.deckPicker);var r=this.stats;r.get("Pick Count").incrementCount(),r.get(t).timeStart();var i=this.deckPicker[e]((0,o.Z)({layers:this.layerManager.getLayers(n),views:this.viewManager.getViews(),viewports:this.getViewports(n),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects()},n));return r.get(t).timeEnd(),i}},{key:"_createCanvas",value:function(e){var t=e.canvas;("string"===typeof t&&(t=document.getElementById(t),(0,ie.Z)(t)),t)||((t=document.createElement("canvas")).id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(t));return Object.assign(t.style,e.style),t}},{key:"_setCanvasSize",value:function(e){if(this.canvas){var t=e.width,n=e.height;if(t||0===t){var r=Number.isFinite(t)?"".concat(t,"px"):t;this.canvas.style.width=r}if(n||0===n){var i,o=Number.isFinite(n)?"".concat(n,"px"):n;this.canvas.style.position=(null===(i=e.style)||void 0===i?void 0:i.position)||"absolute",this.canvas.style.height=o}}}},{key:"_updateCanvasSize",value:function(){var e=this.canvas;if(e){var t,n=e.clientWidth||e.width,r=e.clientHeight||e.height;if(n!==this.width||r!==this.height)this.width=n,this.height=r,null===(t=this.viewManager)||void 0===t||t.setProps({width:n,height:r}),this.props.onResize({width:n,height:r})}}},{key:"_createAnimationLoop",value:function(e){var t=this,n=e.width,r=e.height,i=e.gl,a=e.glOptions,s=e.debug,u=e.onError,l=e.onBeforeRender,c=e.onAfterRender,A=e.useDevicePixels;return new $.Z({width:n,height:r,useDevicePixels:A,autoResizeViewport:!1,gl:i,onCreateContext:function(e){return(0,C.s9)((0,o.Z)((0,o.Z)((0,o.Z)({},a),e),{},{canvas:t.canvas,debug:s,onContextLost:function(){return t._onContextLost()}}))},onInitialize:function(e){return t._setGLContext(e.gl)},onRender:this._onRenderFrame.bind(this),onBeforeRender:l,onAfterRender:c,onError:u})}},{key:"_getViewState",value:function(){return this.props.viewState||this.viewState}},{key:"_getViews",value:function(){var e=this.props.views||[new p.Z({id:"default-view"})];return(e=Array.isArray(e)?e:[e]).length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}},{key:"_onContextLost",value:function(){var e=this.props.onError;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}},{key:"_pickAndCallback",value:function(){var e=this._pickRequest;if(e.event){var t=this._pick("pickObject","pickObject Time",e),n=t.result,r=t.emptyInfo;this.cursorState.isHovering=n.length>0;var o,a=r,s=!1,u=(0,i.Z)(n);try{for(u.s();!(o=u.n()).done;){var l,c=o.value;a=c,s=(null===(l=c.layer)||void 0===l?void 0:l.onHover(c,e.event))||s}}catch(f){u.e(f)}finally{u.f()}if(!s&&this.props.onHover&&this.props.onHover(a,e.event),this.props.getTooltip&&this.tooltip){var A=this.props.getTooltip(a);this.tooltip.setTooltip(A,a.x,a.y)}e.event=null}}},{key:"_updateCursor",value:function(){var e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}},{key:"_setGLContext",value:function(e){if(!this.layerManager){this.canvas||(this.canvas=e.canvas,(0,C.yW)(e,{enable:!0,copyState:!0})),this.tooltip=new Q(this.canvas),(0,C.dR)(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);var t=new ee.T;for(var n in t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new re.Q(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}}),B.FP)this.eventManager.on(n,this._onEvent);this.viewManager=new h({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});var r=this.viewManager.getViewports()[0];this.layerManager=new l.Z(e,{deck:this,stats:this.stats,viewport:r,timeline:t}),this.effectManager=new M,this.deckRenderer=new F.Z(e),this.deckPicker=new N(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}}},{key:"_drawLayers",value:function(e,t){var n=this.layerManager.context.gl;(0,C.dR)(n,this.props.parameters),this.props.onBeforeRender({gl:n}),this.deckRenderer.renderLayers((0,o.Z)({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects()},t)),this.props.onAfterRender({gl:n})}},{key:"_onRenderFrame",value:function(e){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),A.Z.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}},{key:"_onViewStateChange",value:function(e){var t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState=(0,o.Z)((0,o.Z)({},this.viewState),{},(0,r.Z)({},e.viewId,t)),this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}},{key:"_onInteractionStateChange",value:function(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}},{key:"_getFrameStats",value:function(){var e=this.stats;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();var t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}},{key:"_getMetrics",value:function(){var e=this.metrics,t=this.stats;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();var n=te.lR.get("Memory Usage");e.bufferMemory=n.get("Buffer Memory").count,e.textureMemory=n.get("Texture Memory").count,e.renderbufferMemory=n.get("Renderbuffer Memory").count,e.gpuMemory=n.get("GPU Memory").count}}]),e}();(0,u.Z)(se,"defaultProps",ae),(0,u.Z)(se,"VERSION",Y.VERSION)},3976:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5671),i=n(3144),o=n(8810),a=n(8202),s=function(){function e(t){(0,r.Z)(this,e),(0,o.Z)(this,"opts",void 0),t&&(this.opts=t)}return(0,i.Z)(e,[{key:"equals",value:function(e){return this===e||this.constructor===e.constructor&&(0,a.v)(this.opts,e.opts)}},{key:"getShaders",value:function(e){return null}},{key:"getSubLayerProps",value:function(e){var t=e.constructor.defaultProps,n={updateTriggers:{}};for(var r in t)if(r in this.props){var i=t[r],o=this.props[r];n[r]=o,i&&"accessor"===i.type&&(n.updateTriggers[r]=this.props.updateTriggers[r],"function"===typeof o&&(n[r]=this.getSubLayerAccessor(o)))}return n}},{key:"initializeState",value:function(e,t){}},{key:"updateState",value:function(e,t){}},{key:"draw",value:function(e,t){}},{key:"finalizeState",value:function(e,t){}}]),e}();(0,o.Z)(s,"defaultProps",{})},667:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(7762),i=n(5671),o=n(3144),a=n(8810),s=n(176),u=n(6174),l=n(3452),c=n(694),A=n(8844),f=n(3987),h=n(9716),p=function(){function e(t,n,r){(0,i.Z)(this,e),(0,a.Z)(this,"id",void 0),(0,a.Z)(this,"context",void 0),(0,a.Z)(this,"isLoaded",void 0),(0,a.Z)(this,"persistent",void 0),(0,a.Z)(this,"_loadCount",0),(0,a.Z)(this,"_subscribers",new Set),(0,a.Z)(this,"_data",void 0),(0,a.Z)(this,"_loader",void 0),(0,a.Z)(this,"_error",void 0),(0,a.Z)(this,"_content",void 0),this.id=t,this.context=r,this.setData(n)}return(0,o.Z)(e,[{key:"subscribe",value:function(e){this._subscribers.add(e)}},{key:"unsubscribe",value:function(e){this._subscribers.delete(e)}},{key:"inUse",value:function(){return this._subscribers.size>0}},{key:"delete",value:function(){}},{key:"getData",value:function(){var e=this;return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then((function(){return e.getData()}))}},{key:"setData",value:function(e,t){var n=this;if(e!==this._data||t){this._data=e;var i=++this._loadCount,o=e;"string"===typeof e&&(o=(0,h.z)(e)),o instanceof Promise?(this.isLoaded=!1,this._loader=o.then((function(e){n._loadCount===i&&(n.isLoaded=!0,n._error=void 0,n._content=e)})).catch((function(e){n._loadCount===i&&(n.isLoaded=!0,n._error=e||!0)}))):(this.isLoaded=!0,this._error=void 0,this._content=e);var a,s=(0,r.Z)(this._subscribers);try{for(s.s();!(a=s.n()).done;){a.value.onChange(this.getData())}}catch(u){s.e(u)}finally{s.f()}}}}]),e}(),d=function(){function e(t){var n=t.gl,r=t.protocol;(0,i.Z)(this,e),(0,a.Z)(this,"protocol",void 0),(0,a.Z)(this,"_context",void 0),(0,a.Z)(this,"_resources",void 0),(0,a.Z)(this,"_consumers",void 0),(0,a.Z)(this,"_pruneRequest",void 0),this.protocol=r||"resource://",this._context={gl:n,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}return(0,o.Z)(e,[{key:"contains",value:function(e){return!!e.startsWith(this.protocol)||e in this._resources}},{key:"add",value:function(e){var t=e.resourceId,n=e.data,r=e.forceUpdate,i=void 0!==r&&r,o=e.persistent,a=void 0===o||o,s=this._resources[t];s?s.setData(n,i):(s=new p(t,n,this._context),this._resources[t]=s),s.persistent=a}},{key:"remove",value:function(e){var t=this._resources[e];t&&(t.delete(),delete this._resources[e])}},{key:"unsubscribe",value:function(e){var t=e.consumerId,n=this._consumers[t];if(n){for(var r in n){var i=n[r],o=this._resources[i.resourceId];o&&o.unsubscribe(i)}delete this._consumers[t],this.prune()}}},{key:"subscribe",value:function(e){var t=e.resourceId,n=e.onChange,r=e.consumerId,i=e.requestId,o=void 0===i?"default":i,a=this._resources,s=this.protocol;t.startsWith(s)&&(a[t=t.replace(s,"")]||this.add({resourceId:t,data:null,persistent:!1}));var u=a[t];if(this._track(r,o,u,n),u)return u.getData()}},{key:"prune",value:function(){var e=this;this._pruneRequest||(this._pruneRequest=setTimeout((function(){return e._prune()}),0))}},{key:"finalize",value:function(){for(var e in this._resources)this._resources[e].delete()}},{key:"_track",value:function(e,t,n,r){var i=this._consumers,o=i[e]=i[e]||{},a=o[t]||{},s=a.resourceId&&this._resources[a.resourceId];s&&(s.unsubscribe(a),this.prune()),n&&(o[t]=a,a.onChange=r,a.resourceId=n.id,n.subscribe(a))}},{key:"_prune",value:function(){this._pruneRequest=null;for(var e=0,t=Object.keys(this._resources);e<t.length;e++){var n=t[e],r=this._resources[n];r.persistent||r.inUse()||(r.delete(),delete this._resources[n])}}}]),e}(),g=n(5773),v=n(9230),y=[n(4256).Z],m=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function b(e){var t,n=v.Z.getDefaultProgramManager(e),i=(0,r.Z)(y);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.addDefaultModule(o)}}catch(l){i.e(l)}finally{i.f()}var a,s=(0,r.Z)(m);try{for(s.s();!(a=s.n()).done;){var u=a.value;n.addShaderHook(u)}}catch(l){s.e(l)}finally{s.f()}return n}var _="layerManager.activateViewport",w=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.deck,u=r.stats,l=r.viewport,A=r.timeline;(0,i.Z)(this,e),(0,a.Z)(this,"layers",void 0),(0,a.Z)(this,"context",void 0),(0,a.Z)(this,"resourceManager",void 0),(0,a.Z)(this,"_lastRenderedLayers",[]),(0,a.Z)(this,"_needsRedraw",!1),(0,a.Z)(this,"_needsUpdate",!1),(0,a.Z)(this,"_nextLayers",null),(0,a.Z)(this,"_debug",!1),(0,a.Z)(this,"activateViewport",(function(e){(0,c.Z)(_,n,e),e&&(n.context.viewport=e)})),this.layers=[],this.resourceManager=new d({gl:t,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:t,deck:o,programManager:t&&b(t),stats:u||new f.Z({id:"deck.gl"}),viewport:l||new g.Z({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:A||new s.T,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}return(0,o.Z)(e,[{key:"finalize",value:function(){this.resourceManager.finalize();var e,t=(0,r.Z)(this.layers);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._finalizeLayer(n)}}catch(i){t.e(i)}finally{t.f()}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);var n,i=(0,r.Z)(this.layers);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.getNeedsRedraw(e);t=t||a}}catch(s){i.e(s)}finally{i.f()}return t}},{key:"needsUpdate",value:function(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}},{key:"setNeedsRedraw",value:function(e){this._needsRedraw=this._needsRedraw||e}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e}},{key:"getLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerIds;return t?this.layers.filter((function(e){return t.find((function(t){return 0===e.id.indexOf(t)}))})):this.layers}},{key:"setProps",value:function(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}},{key:"setLayers",value:function(e,t){(0,c.Z)("layerManager.setLayers",this,t,e),this._lastRenderedLayers=e;var n,i=(0,A.x)(e,Boolean),o=(0,r.Z)(i);try{for(o.s();!(n=o.n()).done;){n.value.context=this.context}}catch(a){o.e(a)}finally{o.f()}this._updateLayers(this.layers,i)}},{key:"updateLayers",value:function(){var e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}},{key:"_handleError",value:function(e,t,n){n.raiseError(t,"".concat(e," of ").concat(n))}},{key:"_updateLayers",value:function(e,t){var n,i={},o=(0,r.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;i[a.id]?l.Z.warn("Multiple old layers with same id ".concat(a.id))():i[a.id]=a}}catch(h){o.e(h)}finally{o.f()}var s=[];this._updateSublayersRecursively(t,i,s),this._finalizeOldLayers(i);for(var u=!1,c=0,A=s;c<A.length;c++){var f=A[c];if(f.hasUniformTransition()){u="Uniform transition in ".concat(f);break}}this._needsUpdate=u,this.layers=s}},{key:"_updateSublayersRecursively",value:function(e,t,n){var i,o=(0,r.Z)(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.context=this.context;var s=t[a.id];null===s&&l.Z.warn("Multiple new layers with same id ".concat(a.id))(),t[a.id]=null;var u=null;try{this._debug&&s!==a&&a.validateProps(),s?(this._transferLayerState(s,a),this._updateLayer(a)):this._initializeLayer(a),n.push(a),u=a.isComposite?a.getSubLayers():null}catch(c){this._handleError("matching",c,a)}u&&this._updateSublayersRecursively(u,t,n)}}catch(c){o.e(c)}finally{o.f()}}},{key:"_finalizeOldLayers",value:function(e){for(var t in e){var n=e[t];n&&this._finalizeLayer(n)}}},{key:"_initializeLayer",value:function(e){try{e._initialize(),e.lifecycle=u.dt.INITIALIZED}catch(t){this._handleError("initialization",t,e)}}},{key:"_transferLayerState",value:function(e,t){t._transferState(e),t.lifecycle=u.dt.MATCHED,t!==e&&(e.lifecycle=u.dt.AWAITING_GC)}},{key:"_updateLayer",value:function(e){try{e._update()}catch(t){this._handleError("update",t,e)}}},{key:"_finalizeLayer",value:function(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle=u.dt.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=u.dt.FINALIZED}catch(t){this._handleError("finalization",t,e)}}}]),e}()},5546:function(e,t,n){"use strict";n.d(t,{Z:function(){return ge}});var r=n(7762),i=n(885),o=n(5671),a=n(3144),s=n(7326),u=n(136),l=n(7277),c=n(1413),A=n(8810),f=n(3924),h=n(5860),p=n(6954),d=n(9166),g=n(4834),v=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"value",get:function(){return this._value}},{key:"_onUpdate",value:function(){var e=this.time,t=this.settings,n=t.fromValue,r=t.toValue,i=t.duration,o=(0,t.easing)(e/i);this._value=(0,d.t7)(n,r,o)}}]),n}(g.Z),y=1e-5;function m(e,t,n,r,i){var o=t-e;return(n-t)*i+-o*r+o+t}function b(e,t){if(Array.isArray(e)){for(var n=0,r=0;r<e.length;r++){var i=e[r]-t[r];n+=i*i}return Math.sqrt(n)}return Math.abs(e-t)}var _,w=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"value",get:function(){return this._currValue}},{key:"_onUpdate",value:function(){var e=this.settings,t=e.fromValue,n=e.toValue,r=e.damping,i=e.stiffness,o=this._prevValue,a=void 0===o?t:o,s=this._currValue,u=void 0===s?t:s,l=function(e,t,n,r,i){if(Array.isArray(n)){for(var o=[],a=0;a<n.length;a++)o[a]=m(e[a],t[a],n[a],r,i);return o}return m(e,t,n,r,i)}(a,u,n,r,i),c=b(l,n),A=b(l,u);c<y&&A<y&&(l=n,this.end()),this._prevValue=u,this._currValue=l}}]),n}(g.Z),x=n(3452),C={interpolation:v,spring:w},B=function(){function e(t){(0,o.Z)(this,e),this.transitions=new Map,this.timeline=t}return(0,a.Z)(e,[{key:"active",get:function(){return this.transitions.size>0}},{key:"add",value:function(e,t,n,r){var i=this.transitions;if(i.has(e)){var o=i.get(e),a=o.value;t=void 0===a?o.settings.fromValue:a,this.remove(e)}if(r=(0,p.M0)(r)){var s=C[r.type];if(s){var u=new s(this.timeline);u.start((0,c.Z)((0,c.Z)({},r),{},{fromValue:t,toValue:n})),i.set(e,u)}else x.Z.error("unsupported transition type '".concat(r.type,"'"))()}}},{key:"remove",value:function(e){var t=this.transitions;t.has(e)&&(t.get(e).cancel(),t.delete(e))}},{key:"update",value:function(){var e,t={},n=(0,r.Z)(this.transitions);try{for(n.s();!(e=n.n()).done;){var o=(0,i.Z)(e.value,2),a=o[0],s=o[1];s.update(),t[a]=s.value,s.inProgress||this.remove(a)}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"clear",value:function(){var e,t=(0,r.Z)(this.transitions.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.remove(n)}}catch(i){t.e(i)}finally{t.f()}}}]),e}(),E=n(9214),S=n(6174),k=n(1286),O=n(694),T=n(1622),P=n(2515),M=n(2971),F=n(1932),I=n(8992),L=n(6188),R=n(3626),D=n(4942),Z=n(3978),U=(_={},(0,D.Z)(_,10241,9987),(0,D.Z)(_,10240,9729),(0,D.Z)(_,10242,33071),(0,D.Z)(_,10243,33071),_),j={};var N=n(8202),z={boolean:{validate:function(e,t){return!0},equal:function(e,t,n){return Boolean(e)===Boolean(t)}},number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},color:{validate:function(e,t){return t.optional&&!e||G(e)&&(3===e.length||4===e.length)},equal:function(e,t,n){return Q(e,t)}},accessor:{validate:function(e,t){var n=W(e);return"function"===n||n===W(t.value)},equal:function(e,t,n){return"function"===typeof t||Q(e,t)}},array:{validate:function(e,t){return t.optional&&!e||G(e)},equal:function(e,t,n){return n.compare?Q(e,t):e===t}},object:{equal:function(e,t,n){return n.compare?(0,N.v)(e,t):e===t}},function:{validate:function(e,t){return t.optional&&!e||"function"===typeof e},equal:function(e,t,n){return!n.compare||e===t}},data:{transform:function(e,t,n){var r=n.props.dataTransform;return r&&e?r(e):e}},image:{transform:function(e,t,n){return function(e,t){var n=e.context&&e.context.gl;if(!n||!t)return null;if(t instanceof Z.Z)return t;t.constructor&&"Object"!==t.constructor.name&&(t={data:t});var r=null;t.compressed&&(r=(0,D.Z)({},10241,t.data.length>1?9985:9729));var i=new Z.Z(n,(0,c.Z)((0,c.Z)({},t),{},{parameters:(0,c.Z)((0,c.Z)((0,c.Z)({},U),r),e.props.textureParameters)}));return j[i.id]=!0,i}(n,e)},release:function(e){var t;(t=e)&&t instanceof Z.Z&&j[t.id]&&(t.delete(),delete j[t.id])}}};function Q(e,t){if(e===t)return!0;if(!G(e)||!G(t))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function H(e,t){switch(W(t)){case"object":return V(e,t);case"array":return V(e,{type:"array",value:t,compare:!1});case"boolean":return V(e,{type:"boolean",value:t});case"number":return V(e,{type:"number",value:t});case"function":return V(e,{type:"function",value:t,compare:!0});default:return{name:e,type:"unknown",value:t}}}function V(e,t){return"type"in t?(0,c.Z)((0,c.Z)({name:e},z[t.type]),t):"value"in t?(0,c.Z)({name:e,type:W(t.value)},t):{name:e,type:"object",value:t}}function G(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function W(e){return G(e)?"array":null===e?"null":typeof e}function K(e,t){var n=q(e.constructor),r=Object.create(n);r[S.fm]=e,r[S.fO]={},r[S.bN]={};for(var i=0;i<t.length;++i){var o=t[i];for(var a in o)r[a]=o[a]}return Object.freeze(r),r}function q(e){var t=J(e,"_mergedDefaultProps");return t||(function(e){if(!e.prototype)return;var t=Object.getPrototypeOf(e),n=q(t),o=function(e){for(var t={},n={},r={},o=0,a=Object.entries(e);o<a.length;o++){var s=(0,i.Z)(a[o],2),u=s[0],l=s[1],c=null===l||void 0===l?void 0:l.deprecatedFor;if(c)r[u]=Array.isArray(c)?c:[c];else{var A=H(u,l);t[u]=A,n[u]=A.value}}return{propTypes:t,defaultProps:n,deprecatedProps:r}}(J(e,"defaultProps")||{}),a=function(e,t,n){var r=Object.create(null);Object.assign(r,t,e);var i=function(e){var t=J(e,"layerName")||J(e,"componentName");t||x.Z.once(0,"".concat(e.name,".componentName not specified"))();return t||e.name}(n);return delete e.id,Object.defineProperties(r,{id:{writable:!0,value:i}}),r}(o.defaultProps,n,e),s=(0,c.Z)((0,c.Z)({},t._propTypes),o.propTypes);!function(e,t){var n={},r={};for(var i in t){var o=t[i],a=o.name,s=o.value;o.async&&(n[a]=s,r[a]=X(a))}e[S.lY]=n,e[S.fO]={},Object.defineProperties(e,r)}(a,s);var u=(0,c.Z)((0,c.Z)({},t._deprecatedProps),o.deprecatedProps);(function(e,t){var n=function(n){Object.defineProperty(e,n,{enumerable:!1,set:function(e){var i,o="".concat(this.id,": ").concat(n),a=(0,r.Z)(t[n]);try{for(a.s();!(i=a.n()).done;){var s=i.value;Y(this,s)||(this[s]=e)}}catch(u){a.e(u)}finally{a.f()}x.Z.deprecated(o,t[n].join("/"))()}})};for(var i in t)n(i)})(a,u),e._mergedDefaultProps=a,e._propTypes=s,e._deprecatedProps=u}(e),e._mergedDefaultProps)}function X(e){return{enumerable:!0,set:function(t){"string"===typeof t||t instanceof Promise||(0,R.D0)(t)?this[S.fO][e]=t:this[S.bN][e]=t},get:function(){if(this[S.bN]){if(e in this[S.bN])return this[S.bN][e]||this[S.lY][e];if(e in this[S.fO]){var t=this[S.fm]&&this[S.fm].internalState;if(t&&t.hasAsyncProp(e))return t.getAsyncProp(e)||this[S.lY][e]}}return this[S.lY][e]}}}function Y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function J(e,t){return Y(e,t)&&e[t]}var $=0,ee=function(){function e(){(0,o.Z)(this,e),(0,A.Z)(this,"id",void 0),(0,A.Z)(this,"props",void 0),(0,A.Z)(this,"count",void 0);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.props=K(this,n),this.id=this.props.id,this.count=$++}return(0,a.Z)(e,[{key:"clone",value:function(e){var t=this.props,n={};for(var r in t[S.lY])r in t[S.bN]?n[r]=t[S.bN][r]:r in t[S.fO]&&(n[r]=t[S.fO][r]);return new this.constructor((0,c.Z)((0,c.Z)((0,c.Z)({},t),n),e))}}]),e}();(0,A.Z)(ee,"componentName","Component"),(0,A.Z)(ee,"defaultProps",{});var te=n(1752),ne=n(1120),re=n(4165),ie=n(5861),oe=n(6296),ae=Object.freeze({}),se=function(){function e(t){(0,o.Z)(this,e),(0,A.Z)(this,"component",void 0),(0,A.Z)(this,"onAsyncPropUpdated",void 0),(0,A.Z)(this,"asyncProps",void 0),(0,A.Z)(this,"oldProps",void 0),(0,A.Z)(this,"oldAsyncProps",void 0),this.component=t,this.asyncProps={},this.onAsyncPropUpdated=function(){},this.oldProps=null,this.oldAsyncProps=null}return(0,a.Z)(e,[{key:"finalize",value:function(){for(var e in this.asyncProps){var t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}}},{key:"getOldProps",value:function(){return this.oldAsyncProps||this.oldProps||ae}},{key:"resetOldProps",value:function(){this.oldAsyncProps=null,this.oldProps=this.component.props}},{key:"hasAsyncProp",value:function(e){return e in this.asyncProps}},{key:"getAsyncProp",value:function(e){var t=this.asyncProps[e];return t&&t.resolvedValue}},{key:"isAsyncPropLoading",value:function(e){if(e){var t=this.asyncProps[e];return Boolean(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(var n in this.asyncProps)if(this.isAsyncPropLoading(n))return!0;return!1}},{key:"reloadAsyncProp",value:function(e,t){this._watchPromise(e,Promise.resolve(t))}},{key:"setAsyncProps",value:function(e){var t=e[S.bN]||{},n=e[S.fO]||e,r=e[S.lY]||{};for(var i in t){var o=t[i];this._createAsyncPropData(i,r[i]),this._updateAsyncProp(i,o),t[i]=this.getAsyncProp(i)}for(var a in n){var s=n[a];this._createAsyncPropData(a,r[a]),this._updateAsyncProp(a,s)}}},{key:"_fetch",value:function(e,t){return null}},{key:"_onResolve",value:function(e,t){}},{key:"_onError",value:function(e,t){}},{key:"_updateAsyncProp",value:function(e,t){this._didAsyncInputValueChange(e,t)&&("string"===typeof t&&(t=this._fetch(e,t)),t instanceof Promise?this._watchPromise(e,t):(0,R.D0)(t)?this._resolveAsyncIterable(e,t):this._setPropValue(e,t))}},{key:"_freezeAsyncOldProps",value:function(){if(!this.oldAsyncProps&&this.oldProps)for(var e in this.oldAsyncProps=Object.create(this.oldProps),this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}},{key:"_didAsyncInputValueChange",value:function(e,t){var n=this.asyncProps[e];return t!==n.resolvedValue&&t!==n.lastValue&&(n.lastValue=t,!0)}},{key:"_setPropValue",value:function(e,t){this._freezeAsyncOldProps();var n=this.asyncProps[e];n&&(t=this._postProcessValue(n,t),n.resolvedValue=t,n.pendingLoadCount++,n.resolvedLoadCount=n.pendingLoadCount)}},{key:"_setAsyncPropValue",value:function(e,t,n){var r=this.asyncProps[e];r&&n>=r.resolvedLoadCount&&void 0!==t&&(this._freezeAsyncOldProps(),r.resolvedValue=t,r.resolvedLoadCount=n,this.onAsyncPropUpdated(e,t))}},{key:"_watchPromise",value:function(e,t){var n=this,r=this.asyncProps[e];if(r){r.pendingLoadCount++;var i=r.pendingLoadCount;t.then((function(t){t=n._postProcessValue(r,t),n._setAsyncPropValue(e,t,i),n._onResolve(e,t)})).catch((function(t){n._onError(e,t)}))}}},{key:"_resolveAsyncIterable",value:function(){var e=(0,ie.Z)((0,re.Z)().mark((function e(t,n){var r,i,o,a,s,u,l,c,A,f,h;return(0,re.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("data"===t){e.next=3;break}return this._setPropValue(t,n),e.abrupt("return");case 3:if(r=this.asyncProps[t]){e.next=6;break}return e.abrupt("return");case 6:r.pendingLoadCount++,i=r.pendingLoadCount,o=[],a=0,s=!1,u=!1,e.prev=12,c=(0,oe.Z)(n);case 14:return e.next=16,c.next();case 16:if(!(s=!(A=e.sent).done)){e.next=26;break}f=A.value,h=this.component.props.dataTransform,o=h?h(f,o):o.concat(f),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:a,endRow:o.length}]}),a=o.length,this._setAsyncPropValue(t,o,i);case 23:s=!1,e.next=14;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(12),u=!0,l=e.t0;case 32:if(e.prev=32,e.prev=33,!s||null==c.return){e.next=37;break}return e.next=37,c.return();case 37:if(e.prev=37,!u){e.next=40;break}throw l;case 40:return e.finish(37);case 41:return e.finish(32);case 42:this._onResolve(t,o);case 43:case"end":return e.stop()}}),e,this,[[12,28,32,42],[33,,37,41]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_postProcessValue",value:function(e,t){var n=e.type;return n&&(n.release&&n.release(e.resolvedValue,n,this.component),n.transform)?n.transform(t,n,this.component):t}},{key:"_createAsyncPropData",value:function(e,t){if(!this.asyncProps[e]){var n=this.component&&this.component.constructor._propTypes;this.asyncProps[e]={type:n&&n[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}]),e}(),ue=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r,i=e.attributeManager,a=e.layer;return(0,o.Z)(this,n),r=t.call(this,a),(0,A.Z)((0,s.Z)(r),"attributeManager",void 0),(0,A.Z)((0,s.Z)(r),"needsRedraw",void 0),(0,A.Z)((0,s.Z)(r),"needsUpdate",void 0),(0,A.Z)((0,s.Z)(r),"subLayers",void 0),(0,A.Z)((0,s.Z)(r),"usesPickingColorCache",void 0),(0,A.Z)((0,s.Z)(r),"changeFlags",void 0),(0,A.Z)((0,s.Z)(r),"viewport",void 0),(0,A.Z)((0,s.Z)(r),"uniformTransitions",void 0),(0,A.Z)((0,s.Z)(r),"propsInTransition",void 0),r.attributeManager=i,r.needsRedraw=!0,r.needsUpdate=!0,r.subLayers=null,r.usesPickingColorCache=!1,r}return(0,a.Z)(n,[{key:"layer",get:function(){return this.component},set:function(e){this.component=e}},{key:"_fetch",value:function(e,t){var r=this.component.props.fetch;return r?r(t,{propName:e,layer:this.layer}):(0,te.Z)((0,ne.Z)(n.prototype),"_fetch",this).call(this,e,t)}},{key:"_onResolve",value:function(e,t){var n=this.component.props.onDataLoad;"data"===e&&n&&n(t,{propName:e,layer:this.layer})}},{key:"_onError",value:function(e,t){this.layer.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}}]),n}(se),le=n(8611),ce=n(9716),Ae=Math.pow(2,24)-1,fe=Object.freeze([]),he=(0,M.Z)((function(e){var t=e.oldViewport,n=e.viewport;return t.equals(n)})),pe=new Uint8ClampedArray(0),de={data:{type:"data",value:fe,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:function(e){return e&&e.__diff},compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:function(e,t){var n,r=t.propName,i=t.layer,o=t.loaders,a=t.loadOptions,s=t.signal,u=i.context.resourceManager;(a=a||i.getLoadOptions(),o=o||i.props.loaders,s)&&(a=(0,c.Z)((0,c.Z)({},a),{},{fetch:(0,c.Z)((0,c.Z)({},null===(n=a)||void 0===n?void 0:n.fetch),{},{signal:s})}));var l=u.contains(e);return l||a||(u.add({resourceId:e,data:(0,ce.z)(e,o),persistent:!1}),l=!0),l?u.subscribe({resourceId:e,onChange:function(e){var t;return null===(t=i.internalState)||void 0===t?void 0:t.reloadAsyncProp(r,e)},consumerId:i.id,requestId:r}):(0,ce.z)(e,o,a)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:f.k8.DRAW,onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:f.Df.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:function(e){return[0,100*-e.layerIndex]},compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}},ge=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,A.Z)((0,s.Z)(e),"internalState",null),(0,A.Z)((0,s.Z)(e),"lifecycle",S.dt.NO_STATE),(0,A.Z)((0,s.Z)(e),"context",void 0),(0,A.Z)((0,s.Z)(e),"state",void 0),(0,A.Z)((0,s.Z)(e),"parent",null),e}return(0,a.Z)(n,[{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"toString",value:function(){var e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}},{key:"project",value:function(e){(0,P.Z)(this.internalState);var t=this.internalState.viewport||this.context.viewport,n=(0,I.T)(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),r=(0,le.aW)(n,t.pixelProjectionMatrix),o=(0,i.Z)(r,3),a=o[0],s=o[1],u=o[2];return 2===e.length?[a,s]:[a,s,u]}},{key:"unproject",value:function(e){return(0,P.Z)(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}},{key:"projectPosition",value:function(e,t){(0,P.Z)(this.internalState);var n=this.internalState.viewport||this.context.viewport;return(0,I.D)(e,(0,c.Z)({viewport:n,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem},t))}},{key:"isComposite",get:function(){return!1}},{key:"setState",value:function(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}},{key:"setNeedsRedraw",value:function(){this.internalState&&(this.internalState.needsRedraw=!0)}},{key:"setNeedsUpdate",value:function(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}},{key:"isLoaded",get:function(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}},{key:"wrapLongitude",get:function(){return this.props.wrapLongitude}},{key:"isPickable",value:function(){return this.props.pickable&&this.props.visible}},{key:"getModels",value:function(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}},{key:"setModuleParameters",value:function(e){var t,n=(0,r.Z)(this.getModels());try{for(n.s();!(t=n.n()).done;){t.value.updateModuleSettings(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"getAttributeManager",value:function(){return this.internalState&&this.internalState.attributeManager}},{key:"getCurrentLayer",value:function(){return this.internalState&&this.internalState.layer}},{key:"getLoadOptions",value:function(){return this.props.loadOptions}},{key:"use64bitPositions",value:function(){var e=this.props.coordinateSystem;return e===f.Df.DEFAULT||e===f.Df.LNGLAT||e===f.Df.CARTESIAN}},{key:"onHover",value:function(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}},{key:"onClick",value:function(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}},{key:"nullPickingColor",value:function(){return[0,0,0]}},{key:"encodePickingColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}},{key:"decodePickingColor",value:function(e){(0,P.Z)(e instanceof Uint8Array);var t=(0,i.Z)(e,3);return t[0]+256*t[1]+65536*t[2]-1}},{key:"getNumInstances",value:function(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:(0,k.Q)(this.props.data)}},{key:"getStartIndices",value:function(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}},{key:"getBounds",value:function(){var e,t=this.getAttributeManager();if(!t)return null;var n=t.attributes,r=n.positions,i=n.instancePositions;return null===(e=r||i)||void 0===e?void 0:e.getBounds()}},{key:"getShaders",value:function(e){var t,n=(0,r.Z)(this.props.extensions);try{for(n.s();!(t=n.n()).done;){var i=t.value;e=(0,F.l)(e,i.getShaders.call(this,i))}}catch(o){n.e(o)}finally{n.f()}return e}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.propsOrDataChanged}},{key:"updateState",value:function(e){var t=this.getAttributeManager(),n=e.changeFlags.dataChanged;if(n&&t)if(Array.isArray(n)){var i,o=(0,r.Z)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;t.invalidateAll(a)}}catch(d){o.e(d)}finally{o.f()}}else t.invalidateAll();var s=e.props,u=e.oldProps,l=Number.isInteger(u.highlightedObjectIndex)||u.pickable,c=Number.isInteger(s.highlightedObjectIndex)||s.pickable;if(l!==c&&t){var A=t.attributes,f=A.pickingColors,h=A.instancePickingColors,p=f||h;p&&(c&&p.constant&&(p.constant=!1,t.invalidate(p.id)),p.value||c||(p.constant=!0,p.value=[0,0,0]))}}},{key:"finalizeState",value:function(e){var t,n=(0,r.Z)(this.getModels());try{for(n.s();!(t=n.n()).done;){t.value.delete()}}catch(o){n.e(o)}finally{n.f()}var i=this.getAttributeManager();i&&i.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}},{key:"draw",value:function(e){var t,n=(0,r.Z)(this.getModels());try{for(n.s();!(t=n.n()).done;){t.value.draw(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"getPickingInfo",value:function(e){var t=e.info,n=(e.mode,e.sourceLayer,t.index);return n>=0&&Array.isArray(this.props.data)&&(t.object=this.props.data[n]),t}},{key:"raiseError",value:function(e,t){var n,r,i,o;(t&&(e.message="".concat(t,": ").concat(e.message)),null!==(n=(r=this.props).onError)&&void 0!==n&&n.call(r,e))||(null===(i=this.context)||void 0===i||null===(o=i.onError)||void 0===o||o.call(i,e,this))}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};return this._getNeedsRedraw(e)}},{key:"needsUpdate",value:function(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}},{key:"hasUniformTransition",value:function(){var e;return(null===(e=this.internalState)||void 0===e?void 0:e.uniformTransitions.active)||!1}},{key:"activateViewport",value:function(e){if(this.internalState){var t=this.internalState.viewport;this.internalState.viewport=e,t&&he({oldViewport:t,viewport:e})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}}},{key:"invalidateAttribute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}},{key:"updateAttributes",value:function(e){var t,n=(0,r.Z)(this.getModels());try{for(n.s();!(t=n.n()).done;){var i=t.value;this._setModelAttributes(i,e)}}catch(o){n.e(o)}finally{n.f()}}},{key:"_updateAttributes",value:function(){var e=this.getAttributeManager();if(e){var t=this.props,n=this.getNumInstances(),r=this.getStartIndices();e.update({data:t.data,numInstances:n,startIndices:r,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});var i=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(i)}}},{key:"_updateAttributeTransition",value:function(){var e=this.getAttributeManager();e&&e.updateTransition()}},{key:"_updateUniformTransition",value:function(){var e=this.internalState.uniformTransitions;if(e.active){var t=e.update(),n=Object.create(this.props);for(var r in t)Object.defineProperty(n,r,{value:t[r]});return n}return this.props}},{key:"calculateInstancePickingColors",value:function(e,t){var n=t.numInstances;if(!e.constant){var r=Math.floor(pe.length/3);if(this.internalState.usesPickingColorCache=!0,r<n){n>Ae&&x.Z.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),pe=L.Z.allocate(pe,n,{size:3,copy:!0,maxCount:Math.max(n,Ae)});for(var i=Math.floor(pe.length/3),o=[],a=r;a<i;a++)this.encodePickingColor(a,o),pe[3*a+0]=o[0],pe[3*a+1]=o[1],pe[3*a+2]=o[2]}e.value=pe.subarray(0,3*n)}}},{key:"_setModelAttributes",value:function(e,t){var n=this.getAttributeManager(),r=e.userData.excludeAttributes||{},i=n.getShaderAttributes(t,r);e.setAttributes(i)}},{key:"disablePickingIndex",value:function(e){this._disablePickingIndex(e)}},{key:"_disablePickingIndex",value:function(e){var t=this.getAttributeManager().attributes,n=t.pickingColors,r=t.instancePickingColors,i=n||r;if(i){var o=i.getVertexOffset(e),a=i.getVertexOffset(e+1);i.buffer.subData({data:new Uint8Array(a-o),offset:o})}}},{key:"restorePickingColors",value:function(){var e=this.getAttributeManager().attributes,t=e.pickingColors,n=e.instancePickingColors,r=t||n;r&&(this.internalState.usesPickingColorCache&&r.value.buffer!==pe.buffer&&(r.value=pe.subarray(0,r.value.length)),r.updateSubBuffer({startOffset:0}))}},{key:"_initialize",value:function(){(0,P.Z)(!this.internalState),(0,P.Z)(Number.isFinite(this.props.coordinateSystem)),(0,O.Z)("layer.initialize",this);var e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new ue({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:function(){return x.Z.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e}}),this.internalState.layer=this,this.internalState.uniformTransitions=new B(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);var t,n=(0,r.Z)(this.props.extensions);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.initializeState.call(this,this.context,i)}}catch(o){n.e(o)}finally{n.f()}this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}},{key:"_transferState",value:function(e){(0,O.Z)("layer.matched",this,this===e);var t=e.state,n=e.internalState;this!==e&&(this.internalState=n,this.internalState.layer=this,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}},{key:"_update",value:function(){var e=this.needsUpdate();if((0,O.Z)("layer.update",this,e),e){var t=this.props,n=this.context,i=this.internalState,o=n.viewport,a=this._updateUniformTransition();i.propsInTransition=a,n.viewport=i.viewport||o,this.props=a;try{var s=this._getUpdateParams(),u=this.getModels();if(n.gl)this.updateState(s);else try{this.updateState(s)}catch(h){}var l,c=(0,r.Z)(this.props.extensions);try{for(c.s();!(l=c.n()).done;){var A=l.value;A.updateState.call(this,s,A)}}catch(p){c.e(p)}finally{c.f()}var f=this.getModels()[0]!==u[0];this._postUpdate(s,f)}finally{n.viewport=o,this.props=t,this._clearChangeFlags(),i.needsUpdate=!1,i.resetOldProps()}}}},{key:"_finalize",value:function(){(0,O.Z)("layer.finalize",this),this.finalizeState(this.context);var e,t=(0,r.Z)(this.props.extensions);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.finalizeState.call(this,n)}}catch(i){t.e(i)}finally{t.f()}}},{key:"_drawLayer",value:function(e){var t=this,n=e.moduleParameters,i=void 0===n?null:n,o=e.uniforms,a=void 0===o?{}:o,s=e.parameters,u=void 0===s?{}:s;this._updateAttributeTransition();var l=this.props,c=this.context;this.props=this.internalState.propsInTransition||l;var A=this.props.opacity;a.opacity=Math.pow(A,1/2.2);try{i&&this.setModuleParameters(i);var f=this.props.getPolygonOffset,h=f&&f(a)||[0,0];(0,T.dR)(c.gl,{polygonOffset:h}),(0,T.s8)(c.gl,u,(function(){var e,n={moduleParameters:i,uniforms:a,parameters:u,context:c},o=(0,r.Z)(t.props.extensions);try{for(o.s();!(e=o.n()).done;){var s=e.value;s.draw.call(t,n,s)}}catch(l){o.e(l)}finally{o.f()}t.draw(n)}))}finally{this.props=l}}},{key:"getChangeFlags",value:function(){var e;return null===(e=this.internalState)||void 0===e?void 0:e.changeFlags}},{key:"setChangeFlags",value:function(e){if(this.internalState){var t=this.internalState.changeFlags;for(var n in e)if(e[n]){var r=!1;if("dataChanged"===n){var i=e[n],o=t[n];i&&Array.isArray(o)&&(t.dataChanged=Array.isArray(i)?o.concat(i):i,r=!0)}t[n]||(t[n]=e[n],r=!0),r&&(0,O.Z)("layer.changeFlag",this,n,e)}var a=Boolean(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=a,t.somethingChanged=a||t.viewportChanged||t.stateChanged}}},{key:"_clearChangeFlags",value:function(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}},{key:"_diffProps",value:function(e,t){var n=(0,E.Yt)(e,t);if(n.updateTriggersChanged)for(var r in n.updateTriggersChanged)n.updateTriggersChanged[r]&&this.invalidateAttribute(r);if(n.transitionsChanged)for(var i in n.transitionsChanged){var o;this.internalState.uniformTransitions.add(i,t[i],e[i],null===(o=e.transitions)||void 0===o?void 0:o[i])}return this.setChangeFlags(n)}},{key:"validateProps",value:function(){(0,E.eQ)(this.props)}},{key:"updateAutoHighlight",value:function(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}},{key:"_updateAutoHighlight",value:function(e){var t={pickingSelectedColor:e.picked?e.color:null},n=this.props.highlightColor;e.picked&&"function"===typeof n&&(t.pickingHighlightColor=n(e)),this.setModuleParameters(t),this.setNeedsRedraw()}},{key:"_getAttributeManager",value:function(){var e=this.context;return new h.Z(e.gl,{id:this.props.id,stats:e.stats,timeline:e.timeline})}},{key:"_postUpdate",value:function(e,t){var n=e.props,r=e.oldProps;this.setNeedsRedraw(),this._updateAttributes();var i=this.state.model;null===i||void 0===i||i.setInstanceCount(this.getNumInstances());var o=n.autoHighlight,a=n.highlightedObjectIndex,s=n.highlightColor;if(t||r.autoHighlight!==o||r.highlightedObjectIndex!==a||r.highlightColor!==s){var u={};o||(u.pickingSelectedColor=null),Array.isArray(s)&&(u.pickingHighlightColor=s),Number.isInteger(a)&&(u.pickingSelectedColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setModuleParameters(u)}}},{key:"_getUpdateParams",value:function(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}},{key:"_getNeedsRedraw",value:function(e){if(!this.internalState)return!1;var t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;var n=this.getAttributeManager(),r=!!n&&n.getNeedsRedraw(e);return t=t||r}},{key:"_onAsyncPropUpdated",value:function(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}]),n}(ee);(0,A.Z)(ge,"defaultProps",de),(0,A.Z)(ge,"layerName","Layer")},6174:function(e,t,n){"use strict";n.d(t,{bN:function(){return s},dt:function(){return r},fO:function(){return a},fm:function(){return i},lY:function(){return o}});var r={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},i=Symbol.for("component"),o=Symbol.for("asyncPropDefaults"),a=Symbol.for("asyncPropOriginal"),s=Symbol.for("asyncPropResolved")},9214:function(e,t,n){"use strict";n.d(t,{Yt:function(){return o},eQ:function(){return i},tg:function(){return s}});var r=n(6174);function i(e){var t=A(e);for(var n in t){var r=t[n],i=r.validate;if(i&&!i(e[n],r))throw new Error("Invalid prop ".concat(n,": ").concat(e[n]))}}function o(e,t){var n=s({newProps:e,oldProps:t,propTypes:A(e),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=function(e,t){if(null===t)return"oldProps is null, initial diff";var n=!1,r=e.dataComparator,i=e._dataDiff;r?r(e.data,t.data)||(n="Data comparator detected a change"):e.data!==t.data&&(n="A new data container was supplied");n&&i&&(n=i(e.data,t.data)||n);return n}(e,t),i=!1;return r||(i=function(e,t){if(null===t)return{all:!0};if("all"in e.updateTriggers){if(c(e,t,"all"))return{all:!0}}var n={},r=!1;for(var i in e.updateTriggers){if("all"!==i)c(e,t,i)&&(n[i]=!0,r=!0)}return!!r&&n}(e,t)),{dataChanged:r,propsChanged:n,updateTriggersChanged:i,extensionsChanged:l(e,t),transitionsChanged:a(e,t)}}function a(e,t){if(!e.transitions)return!1;var n={},r=A(e),i=!1;for(var o in e.transitions){var a=r[o],s=a&&a.type;("number"===s||"color"===s||"array"===s)&&u(e[o],t[o],a)&&(n[o]=!0,i=!0)}return!!i&&n}function s(e){var t=e.newProps,n=e.oldProps,r=e.ignoreProps,i=void 0===r?{}:r,o=e.propTypes,a=void 0===o?{}:o,s=e.triggerName,l=void 0===s?"props":s;if(n===t)return!1;if("object"!==typeof t||null===t)return"".concat(l," changed shallowly");if("object"!==typeof n||null===n)return"".concat(l," changed shallowly");for(var c=0,A=Object.keys(t);c<A.length;c++){var f=A[c];if(!(f in i)){if(!(f in n))return"".concat(l,".").concat(f," added");var h=u(t[f],n[f],a[f]);if(h)return"".concat(l,".").concat(f," ").concat(h)}}for(var p=0,d=Object.keys(n);p<d.length;p++){var g=d[p];if(!(g in i)){if(!(g in t))return"".concat(l,".").concat(g," dropped");if(!Object.hasOwnProperty.call(t,g)){var v=u(t[g],n[g],a[g]);if(v)return"".concat(l,".").concat(g," ").concat(v)}}}return!1}function u(e,t,n){var r=n&&n.equal;return r&&!r(e,t,n)?"changed deeply":r||!(r=e&&t&&e.equals)||r.call(e,t)?r||t===e?null:"changed shallowly":"changed deeply"}function l(e,t){if(null===t)return!0;var n=t.extensions,r=e.extensions;if(r===n)return!1;if(!n||!r)return!0;if(r.length!==n.length)return!0;for(var i=0;i<r.length;i++)if(!r[i].equals(n[i]))return!0;return!1}function c(e,t,n){var r=e.updateTriggers[n];r=void 0===r||null===r?{}:r;var i=t.updateTriggers[n];return s({oldProps:i=void 0===i||null===i?{}:i,newProps:r,triggerName:n})}function A(e){var t=e[r.fm],n=t&&t.constructor;return n?n._propTypes:{}}},191:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(7762),i=n(5671),o=n(3144),a=n(7326),s=n(136),u=n(7277),l=n(8810),c=n(4830),A=n(1622),f=n(107),h=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,a.Z)(e),"_lastRenderIndex",-1),e}return(0,o.Z)(n,[{key:"render",value:function(e){var t=this.gl;return(0,A.dR)(t,{framebuffer:e.target}),this._drawLayers(e)}},{key:"_drawLayers",value:function(e){var t=e.target,n=e.moduleParameters,i=e.viewports,o=e.views,a=e.onViewportActive,s=e.clearStack,u=void 0===s||s,l=e.clearCanvas,c=void 0===l||l;e.pass=e.pass||"unknown";var f=this.gl;c&&function(e){var t=e.drawingBufferWidth,n=e.drawingBufferHeight;(0,A.dR)(e,{viewport:[0,0,t,n]}),e.clear(16640)}(f),u&&(this._lastRenderIndex=-1);var h,p=[],d=(0,r.Z)(i);try{for(d.s();!(h=d.n()).done;){var g=h.value,v=o&&o[g.id];a(g);var y,m=this._getDrawLayerParams(g,e),b=g.subViewports||[g],_=(0,r.Z)(b);try{for(_.s();!(y=_.n()).done;){var w=y.value,x=this._drawLayersInViewport(f,{target:t,moduleParameters:n,viewport:w,view:v,pass:e.pass,layers:e.layers},m);p.push(x)}}catch(C){_.e(C)}finally{_.f()}}}catch(C){d.e(C)}finally{d.f()}return p}},{key:"_getDrawLayerParams",value:function(e,t){for(var n=t.layers,r=t.pass,i=t.layerFilter,o=t.cullRect,a=t.effects,s=t.moduleParameters,u=[],l=p(this._lastRenderIndex+1),c={layer:n[0],viewport:e,isPicking:r.startsWith("picking"),renderPass:r,cullRect:o},A={},f=0;f<n.length;f++){var h=n[f],d=this._shouldDrawLayer(h,c,i,A),g={shouldDrawLayer:d};d&&(g.layerRenderIndex=l(h,d),g.moduleParameters=this._getModuleParameters(h,a,r,s),g.layerParameters=this.getLayerParameters(h,f,e)),u[f]=g}return u}},{key:"_drawLayersInViewport",value:function(e,t,n){var r=t.layers,i=t.moduleParameters,o=t.pass,a=t.target,s=t.viewport,u=t.view,l=function(e,t){var n=t.moduleParameters,r=t.target,i=t.viewport,o=r&&"default-framebuffer"!==r.id,a=n&&n.devicePixelRatio||(0,A.w)(e),s=o?r.height:e.drawingBufferHeight,u=i;return[u.x*a,s-(u.y+u.height)*a,u.width*a,u.height*a]}(e,{moduleParameters:i,target:a,viewport:s});if(u&&u.props.clear){var c=!0===u.props.clear?{color:!0,depth:!0}:u.props.clear;(0,A.s8)(e,{scissorTest:!0,scissor:l},(function(){return(0,f.Z)(e,c)}))}var h={totalCount:r.length,visibleCount:0,compositeCount:0,pickableCount:0};(0,A.dR)(e,{viewport:l});for(var p=0;p<r.length;p++){var d=r[p],g=n[p],v=g.shouldDrawLayer,y=g.layerRenderIndex,m=g.moduleParameters,b=g.layerParameters;if(v&&d.props.pickable&&h.pickableCount++,d.isComposite)h.compositeCount++;else if(v){h.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,y),m.viewport=s;try{d._drawLayer({moduleParameters:m,uniforms:{layerIndex:y},parameters:b})}catch(_){d.raiseError(_,"drawing ".concat(d," to ").concat(o))}}}return h}},{key:"shouldDrawLayer",value:function(e){return!0}},{key:"getModuleParameters",value:function(e,t){return null}},{key:"getLayerParameters",value:function(e,t,n){return e.props.parameters}},{key:"_shouldDrawLayer",value:function(e,t,n,r){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;t.layer=e;for(var i=e.parent;i;){if(!i.props.visible||!i.filterSubLayer(t))return!1;t.layer=i,i=i.parent}if(n){var o=t.layer.id;if(o in r||(r[o]=n(t)),!r[o])return!1}return e.activateViewport(t.viewport),!0}},{key:"_getModuleParameters",value:function(e,t,n,i){var o,a=Object.assign(Object.create((null===(o=e.internalState)||void 0===o?void 0:o.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:(0,A.w)(this.gl)});if(t){var s,u=(0,r.Z)(t);try{for(u.s();!(s=u.n()).done;){var l,c=s.value;Object.assign(a,null===(l=c.getModuleParameters)||void 0===l?void 0:l.call(c,e))}}catch(f){u.e(f)}finally{u.f()}}return Object.assign(a,this.getModuleParameters(e,t),i)}}]),n}(c.Z);function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=function r(i,o){var a,s=i.props._offset,u=i.id,l=i.parent&&i.parent.id;if(l&&!(l in t)&&r(i.parent,!1),l in n){var c=n[l]=n[l]||p(t[l],t);a=c(i,o),n[u]=c}else Number.isFinite(s)?(a=s+(t[l]||0),n[u]=null):a=e;return o&&a>=e&&(e=a+1),t[u]=a,a};return r}},4830:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1413),i=n(5671),o=n(3144),a=n(8810),s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:"pass"};(0,i.Z)(this,e),(0,a.Z)(this,"id",void 0),(0,a.Z)(this,"gl",void 0),(0,a.Z)(this,"props",void 0);var o=n.id;this.id=o,this.gl=t,this.props=(0,r.Z)({},n)}return(0,o.Z)(e,[{key:"setProps",value:function(e){Object.assign(this.props,e)}},{key:"render",value:function(e){}},{key:"cleanup",value:function(){}}]),e}()},7155:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(1413),i=n(5671),o=n(3144),a=n(7326),s=n(1752),u=n(1120),l=n(136),c=n(7277),A=n(8810),f=n(191),h=n(1622),p=n(3924),d=n(3452),g={blendFunc:[1,0,32771,0],blendEquation:32774},v=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,A.Z)((0,a.Z)(e),"pickZ",void 0),(0,A.Z)((0,a.Z)(e),"_colors",null),e}return(0,o.Z)(n,[{key:"render",value:function(e){return e.pickingFBO?this._drawPickingBuffer(e):(0,s.Z)((0,u.Z)(n.prototype),"render",this).call(this,e)}},{key:"_drawPickingBuffer",value:function(e){var t=this,i=e.layers,o=e.layerFilter,a=e.views,l=e.viewports,c=e.onViewportActive,A=e.pickingFBO,f=e.deviceRect,p=f.x,d=f.y,v=f.width,m=f.height,b=e.cullRect,_=e.effects,w=e.pass,x=void 0===w?"picking":w,C=e.pickZ,B=this.gl;this.pickZ=C;var E=C?null:{byLayer:new Map,byAlpha:[]};this._colors=E;var S=(0,h.s8)(B,(0,r.Z)((0,r.Z)({scissorTest:!0,scissor:[p,d,v,m],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0]},g),{},{blend:!C}),(function(){return(0,s.Z)((0,u.Z)(n.prototype),"render",t).call(t,{target:A,layers:i,layerFilter:o,views:a,viewports:l,onViewportActive:c,cullRect:b,effects:null===_||void 0===_?void 0:_.filter((function(e){return e.useInPicking})),pass:x})}));return this._colors=null,{decodePickingColor:E&&y.bind(null,E),stats:S}}},{key:"shouldDrawLayer",value:function(e){return e.props.pickable&&e.props.operation===p.k8.DRAW}},{key:"getModuleParameters",value:function(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}},{key:"getLayerParameters",value:function(e,t,n){var i=(0,r.Z)({},e.props.parameters);return this._colors?(Object.assign(i,g),i.blend=!0,i.blendColor=function(e,t,n){var r,i=e.byLayer,o=e.byAlpha,a=i.get(t);a?(a.viewports.push(n),r=a.a):(r=i.size+1)<=255?(a={a:r,layer:t,viewports:[n]},i.set(t,a),o[r]=a):(d.Z.warn("Too many pickable layers, only picking the first 255")(),r=0);return[0,0,0,r/255]}(this._colors,e,n)):i.blend=!1,i}}]),n}(f.Z);function y(e,t){var n=e.byAlpha[t[3]];return n&&{pickedLayer:n.layer,pickedViewports:n.viewports,pickedObjectIndex:n.layer.decodePickingColor(t)}}},251:function(e,t,n){"use strict";var r=n(1413),i=n(7500);t.Z=(0,r.Z)({inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}}},i.q)},8992:function(e,t,n){"use strict";n.d(t,{D:function(){return f},T:function(){return A}});var r=n(885),i=n(3924),o=n(5886),a=n(6293),s=n(725),u=n(7206),l=n(8611);function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.projectPosition(e);if(n&&t instanceof a.Z){var o=(0,r.Z)(e,3),s=o[0],u=o[1],l=o[2],c=void 0===l?0:l,A=t.getDistanceScales([s,u]);i[2]=c*A.unitsPerMeter[2]}return i}function A(e,t){var n=t.viewport,o=t.modelMatrix,a=t.coordinateSystem,u=t.coordinateOrigin,A=t.offsetMode,f=(0,r.Z)(e,3),h=f[0],p=f[1],d=f[2],g=void 0===d?0:d;if(o){var v=s.fF([],[h,p,g,1],o),y=(0,r.Z)(v,3);h=y[0],p=y[1],g=y[2]}switch(a){case i.Df.LNGLAT:return c([h,p,g],n,A);case i.Df.LNGLAT_OFFSETS:return c([h+u[0],p+u[1],g+(u[2]||0)],n,A);case i.Df.METER_OFFSETS:return c((0,l.eG)(u,[h,p,g]),n,A);case i.Df.CARTESIAN:default:return n.isGeospatial?[h+u[0],p+u[1],g+u[2]]:n.projectPosition([h,p,g])}}function f(e,t){var n=function(e){var t=e.viewport,n=e.modelMatrix,r=e.coordinateOrigin,o=e.coordinateSystem,a=e.fromCoordinateSystem,s=e.fromCoordinateOrigin;return o===i.Df.DEFAULT&&(o=t.isGeospatial?i.Df.LNGLAT:i.Df.CARTESIAN),void 0===a&&(a=o),void 0===s&&(s=r),{viewport:t,coordinateSystem:o,coordinateOrigin:r,modelMatrix:n,fromCoordinateSystem:a,fromCoordinateOrigin:s}}(t),r=n.viewport,a=n.coordinateSystem,s=n.coordinateOrigin,l=n.modelMatrix,c=n.fromCoordinateSystem,f=n.fromCoordinateOrigin,h=(0,o.v)(r,a,s),p=h.geospatialOrigin,d=h.shaderCoordinateOrigin,g=h.offsetMode,v=A(e,{viewport:r,modelMatrix:l,coordinateSystem:c,coordinateOrigin:f,offsetMode:g});if(g){var y=r.projectPosition(p||d);u.lu(v,v,y)}return v}},4256:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(6265),i="#define SMOOTH_EDGE_RADIUS 0.5",o={name:"geometry",vs:"\n".concat(i,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(i,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")},a=n(3924),s=Object.keys(a.Df).map((function(e){return"const int COORDINATE_SYSTEM_".concat(e," = ").concat(a.Df[e],";")})).join(""),u=Object.keys(a.zG).map((function(e){return"const int PROJECTION_MODE_".concat(e," = ").concat(a.zG[e],";")})).join(""),l=Object.keys(a.iI).map((function(e){return"const int UNIT_".concat(e.toUpperCase()," = ").concat(a.iI[e],";")})).join(""),c="".concat(s,"\n").concat(u,"\n").concat(l,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      float y = clamp(geometry.worldPosition.y, -89.9, 89.9);\n      return 1.0 / cos(radians(y));\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size(position_world.z),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n'),A=n(5886),f={};var h={name:"project",dependencies:[r.O,o],vs:c,getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return"viewport"in e?(0,A.C)(e):{}}}},5886:function(e,t,n){"use strict";n.d(t,{C:function(){return p},v:function(){return h}});var r=n(71),i=n(725),o=n(3924),a=n(2971),s=[0,0,0,0],u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c=[0,0,0],A=[0,0,0],f=(0,a.Z)((function(e){var t=e.viewport,n=e.devicePixelRatio,a=e.coordinateSystem,A=e.coordinateOrigin,f=function(e,t,n){var o=e.viewMatrixUncentered,a=e.projectionMatrix,l=e.viewMatrix,c=e.viewProjectionMatrix,A=s,f=s,p=e.cameraPosition,d=h(e,t,n),g=d.geospatialOrigin,v=d.shaderCoordinateOrigin;d.offsetMode&&(f=e.projectPosition(g||v),p=[p[0]-f[0],p[1]-f[1],p[2]-f[2]],f[3]=1,A=i.fF([],f,c),l=o||l,c=r.Jp([],a,l),c=r.Jp([],c,u));return{viewMatrix:l,viewProjectionMatrix:c,projectionCenter:A,originCommon:f,cameraPosCommon:p,shaderCoordinateOrigin:v,geospatialOrigin:g}}(t,a,A),p=f.projectionCenter,d=f.viewProjectionMatrix,g=f.originCommon,v=f.cameraPosCommon,y=f.shaderCoordinateOrigin,m=f.geospatialOrigin,b=t.getDistanceScales(),_=[t.width*n,t.height*n],w=i.fF([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,x={project_uCoordinateSystem:a,project_uProjectionMode:t.projectionMode,project_uCoordinateOrigin:y,project_uCommonOrigin:g.slice(0,3),project_uCenter:p,project_uPseudoMeters:Boolean(t._pseudoMeters),project_uViewportSize:_,project_uDevicePixelRatio:n,project_uFocalDistance:w,project_uCommonUnitsPerMeter:b.unitsPerMeter,project_uCommonUnitsPerWorldUnit:b.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:c,project_uScale:t.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:d,project_uModelMatrix:l,project_uCameraPosition:v};if(m){var C=t.getDistanceScales(m);switch(a){case o.Df.METER_OFFSETS:x.project_uCommonUnitsPerWorldUnit=C.unitsPerMeter,x.project_uCommonUnitsPerWorldUnit2=C.unitsPerMeter2;break;case o.Df.LNGLAT:case o.Df.LNGLAT_OFFSETS:t._pseudoMeters||(x.project_uCommonUnitsPerMeter=C.unitsPerMeter),x.project_uCommonUnitsPerWorldUnit=C.unitsPerDegree,x.project_uCommonUnitsPerWorldUnit2=C.unitsPerDegree2;break;case o.Df.CARTESIAN:x.project_uCommonUnitsPerWorldUnit=[1,1,C.unitsPerMeter[2]],x.project_uCommonUnitsPerWorldUnit2=[0,0,C.unitsPerMeter2[2]]}}return x}));function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;n.length<3&&(n=[n[0],n[1],0]);var r,i=n,a=!0;switch(r=t===o.Df.LNGLAT_OFFSETS||t===o.Df.METER_OFFSETS?n:e.isGeospatial?[Math.fround(e.longitude),Math.fround(e.latitude),0]:null,e.projectionMode){case o.zG.WEB_MERCATOR:t!==o.Df.LNGLAT&&t!==o.Df.CARTESIAN||(r=[0,0,0],a=!1);break;case o.zG.WEB_MERCATOR_AUTO_OFFSET:t===o.Df.LNGLAT?i=r:t===o.Df.CARTESIAN&&(i=[Math.fround(e.center[0]),Math.fround(e.center[1]),0],r=e.unprojectPosition(i),i[0]-=n[0],i[1]-=n[1],i[2]-=n[2]);break;case o.zG.IDENTITY:(i=e.position.map(Math.fround))[2]=i[2]||0;break;case o.zG.GLOBE:a=!1,r=null;break;default:a=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:i,offsetMode:a}}function p(e){var t=e.viewport,n=e.devicePixelRatio,r=void 0===n?1:n,i=e.modelMatrix,a=void 0===i?null:i,s=e.coordinateSystem,u=void 0===s?o.Df.DEFAULT:s,c=e.coordinateOrigin,h=void 0===c?A:c,p=e.autoWrapLongitude,d=void 0!==p&&p;u===o.Df.DEFAULT&&(u=t.isGeospatial?o.Df.LNGLAT:o.Df.CARTESIAN);var g=f({viewport:t,devicePixelRatio:r,coordinateSystem:u,coordinateOrigin:h});return g.project_uWrapLongitude=d,g.project_uModelMatrix=a||l,g}},9446:function(e,t,n){"use strict";var r=n(4256);t.Z={name:"project32",dependencies:[r.Z],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"}},7918:function(e,t,n){"use strict";var r=n(2982),i=n(7762),o=n(885),a=n(3924),s=n(4256),u=n(8025),l=n(8140),c=n(2971),A=n(8611),f=(0,c.Z)((function(e){var t=e.viewport,n=e.center;return new u.Z(t.viewProjectionMatrix).invert().transform(n)})),h=(0,c.Z)((function(e){var t,n=e.viewport,a=e.shadowMatrices,s=[],c=n.pixelUnprojectionMatrix,f=n.isGeospatial?void 0:1,h=[[0,0,f],[n.width,0,f],[0,n.height,f],[n.width,n.height,f],[0,0,-1],[n.width,0,-1],[0,n.height,-1],[n.width,n.height,-1]].map((function(e){return function(e,t){var n=(0,o.Z)(e,3),r=n[0],i=n[1],a=n[2],s=(0,A.CT)([r,i,a],t);if(Number.isFinite(a))return s;return[s[0],s[1],0]}(e,c)})),p=(0,i.Z)(a);try{var d=function(){var e=t.value,i=e.clone().translate(new l.Z(n.center).negate()),o=h.map((function(e){return i.transform(e)})),a=(new u.Z).ortho({left:Math.min.apply(Math,(0,r.Z)(o.map((function(e){return e[0]})))),right:Math.max.apply(Math,(0,r.Z)(o.map((function(e){return e[0]})))),bottom:Math.min.apply(Math,(0,r.Z)(o.map((function(e){return e[1]})))),top:Math.max.apply(Math,(0,r.Z)(o.map((function(e){return e[1]})))),near:Math.min.apply(Math,(0,r.Z)(o.map((function(e){return-e[2]})))),far:Math.max.apply(Math,(0,r.Z)(o.map((function(e){return-e[2]}))))});s.push(a.multiplyRight(e))};for(p.s();!(t=p.n()).done;)d()}catch(g){p.e(g)}finally{p.f()}return s})),p=[0,0,0,1],d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function g(e,t){var n=e.shadowEnabled;if(!(void 0===n||n)||!e.shadowMatrices||!e.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};for(var r={shadow_uDrawShadowMap:Boolean(e.drawToShadowMap),shadow_uUseShadowMap:!!e.shadowMaps&&e.shadowMaps.length>0,shadow_uColor:e.shadowColor||p,shadow_uLightId:e.shadowLightId||0,shadow_uLightCount:e.shadowMatrices.length},i=f({viewport:e.viewport,center:t.project_uCenter}),o=[],s=h({shadowMatrices:e.shadowMatrices,viewport:e.viewport}).slice(),u=0;u<e.shadowMatrices.length;u++){var c=s[u],A=c.clone().translate(new l.Z(e.viewport.center).negate());t.project_uCoordinateSystem===a.Df.LNGLAT&&t.project_uProjectionMode===a.zG.WEB_MERCATOR?(s[u]=A,o[u]=i):(s[u]=c.clone().multiplyRight(d),o[u]=A.transform(i))}for(var g=0;g<s.length;g++)r["shadow_uViewProjectionMatrices[".concat(g,"]")]=s[g],r["shadow_uProjectCenters[".concat(g,"]")]=o[g],e.shadowMaps&&e.shadowMaps.length>0?r["shadow_uShadowMap".concat(g)]=e.shadowMaps[g]:r["shadow_uShadowMap".concat(g)]=e.dummyShadowMap;return r}t.Z={name:"shadow",dependencies:[s.Z],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"viewport"in e&&(e.drawToShadowMap||e.shadowMaps&&e.shadowMaps.length>0)?g(e,t):{}}}},4735:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(7762),i=n(1413),o=n(5671),a=n(3144),s=n(7326),u=n(136),l=n(7277),c=n(8810),A=n(7066),f=n(9166),h=n(8611),p=["bearing","pitch"],d={speed:1.2,curve:1.414},g=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.Z)(this,n),e=t.call(this,{compare:["longitude","latitude","zoom","bearing","pitch"],extract:["width","height","longitude","latitude","zoom","bearing","pitch"],required:["width","height","latitude","longitude","zoom"]}),(0,c.Z)((0,s.Z)(e),"opts",void 0),e.opts=(0,i.Z)((0,i.Z)({},d),r),e}return(0,a.Z)(n,[{key:"interpolateProps",value:function(e,t,n){var i,o=(0,h.if)(e,t,n,this.opts),a=(0,r.Z)(p);try{for(a.s();!(i=a.n()).done;){var s=i.value;o[s]=(0,f.t7)(e[s]||0,t[s]||0,n)}}catch(u){a.e(u)}finally{a.f()}return o}},{key:"getDuration",value:function(e,t){var n=t.transitionDuration;return"auto"===n&&(n=(0,h.up)(e,t,this.opts)),n}}]),n}(A.Z)},3417:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(1413),i=n(7762),o=n(5671),a=n(3144),s=n(7326),u=n(1752),l=n(1120),c=n(136),A=n(7277),f=n(8810),h=n(7066),p=n(9166),d=["longitude","latitude","zoom","bearing","pitch"],g=["longitude","latitude","zoom"],v=function(e){(0,c.Z)(n,e);var t=(0,A.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,n);var i=Array.isArray(r)?r:r.transitionProps,a=Array.isArray(r)?{}:r;return a.transitionProps=Array.isArray(i)?{compare:i,required:i}:i||{compare:d,required:g},e=t.call(this,a.transitionProps),(0,f.Z)((0,s.Z)(e),"opts",void 0),e.opts=a,e}return(0,a.Z)(n,[{key:"initializeProps",value:function(e,t){var r=(0,u.Z)((0,l.Z)(n.prototype),"initializeProps",this).call(this,e,t),i=this.opts,o=i.makeViewport,a=i.around;if(o&&a){var s=o(e),c=o(t),A=s.unproject(a);r.start.around=a,Object.assign(r.end,{around:c.project(A),aroundPosition:A,width:t.width,height:t.height})}return r}},{key:"interpolateProps",value:function(e,t,n){var o,a={},s=(0,i.Z)(this._propsToExtract);try{for(s.s();!(o=s.n()).done;){var u=o.value;a[u]=(0,p.t7)(e[u]||0,t[u]||0,n)}}catch(c){s.e(c)}finally{s.f()}if(t.aroundPosition&&this.opts.makeViewport){var l=this.opts.makeViewport((0,r.Z)((0,r.Z)({},t),a));Object.assign(a,l.panByPosition(t.aroundPosition,(0,p.t7)(e.around,t.around,n)))}return a}}]),n}(h.Z)},7066:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(7762),i=n(5671),o=n(3144),a=n(8810),s=n(9166),u=n(2515),l=function(){function e(t){(0,i.Z)(this,e),(0,a.Z)(this,"_propsToCompare",void 0),(0,a.Z)(this,"_propsToExtract",void 0),(0,a.Z)(this,"_requiredProps",void 0);var n=t.compare,r=t.extract,o=t.required;this._propsToCompare=n,this._propsToExtract=r||n,this._requiredProps=o}return(0,o.Z)(e,[{key:"arePropsEqual",value:function(e,t){var n,i=(0,r.Z)(this._propsToCompare);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(!(o in e)||!(o in t)||!(0,s.fS)(e[o],t[o]))return!1}}catch(a){i.e(a)}finally{i.f()}return!0}},{key:"initializeProps",value:function(e,t){var n,i={},o={},a=(0,r.Z)(this._propsToExtract);try{for(a.s();!(n=a.n()).done;){var s=n.value;(s in e||s in t)&&(i[s]=e[s],o[s]=t[s])}}catch(u){a.e(u)}finally{a.f()}return this._checkRequiredProps(i),this._checkRequiredProps(o),{start:i,end:o}}},{key:"getDuration",value:function(e,t){return t.transitionDuration}},{key:"_checkRequiredProps",value:function(e){this._requiredProps&&this._requiredProps.forEach((function(t){var n=e[t];(0,u.Z)(Number.isFinite(n)||Array.isArray(n),"".concat(t," is required for transition"))}))}}]),e}()},4834:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5671),i=n(3144),o=n(8810),a=function(){function e(t){(0,r.Z)(this,e),(0,o.Z)(this,"_inProgress",void 0),(0,o.Z)(this,"_handle",void 0),(0,o.Z)(this,"_timeline",void 0),(0,o.Z)(this,"time",void 0),(0,o.Z)(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=t,this.time=0,this.settings={duration:0}}return(0,i.Z)(e,[{key:"inProgress",get:function(){return this._inProgress}},{key:"start",value:function(e){var t,n;this.cancel(),this.settings=e,this._inProgress=!0,null===(t=(n=this.settings).onStart)||void 0===t||t.call(n,this)}},{key:"end",value:function(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(e=(t=this.settings).onEnd)||void 0===e||e.call(t,this))}},{key:"cancel",value:function(){var e,t;this._inProgress&&(null===(e=(t=this.settings).onInterrupt)||void 0===e||e.call(t,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}},{key:"update",value:function(){var e,t;if(!this._inProgress)return!1;if(null===this._handle){var n=this._timeline,r=this.settings;this._handle=n.addChannel({delay:n.getTime(),duration:r.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(e=(t=this.settings).onUpdate)||void 0===e||e.call(t,this),this._timeline.isFinished(this._handle)&&this.end(),!0}},{key:"_onUpdate",value:function(){}}]),e}()},2515:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"deck.gl: assertion failed.")}n.d(t,{Z:function(){return r}})},1286:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});function r(e){if(null===(t=e)||"object"!==typeof t)throw new Error("count(): argument not an object");var t;if("function"===typeof e.count)return e.count();if(Number.isFinite(e.size))return e.size;if(Number.isFinite(e.length))return e.length;if(function(e){return null!==e&&"object"===typeof e&&e.constructor===Object}(e))return Object.keys(e).length;throw new Error("count(): argument not a container")}},8202:function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;for(var n in e){var i=e[n],o=t[n];if(!(i===o||Array.isArray(i)&&Array.isArray(o)&&r(i,o)))return!1}return!0}n.d(t,{v:function(){return r}})},8844:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return Array.isArray(e)?i(e,t,[]):t(e)?[e]:[]}function i(e,t,n){for(var r=-1;++r<e.length;){var o=e[r];Array.isArray(o)?i(o,t,n):t(o)&&n.push(o)}return n}function o(e){for(var t=e.target,n=e.source,r=e.start,i=void 0===r?0:r,o=e.count,a=void 0===o?1:o,s=n.length,u=a*s,l=0,c=i;l<s;l++)t[c++]=n[l];for(;l<u;)l<u-l?(t.copyWithin(i+l,i,i+l),l*=2):(t.copyWithin(i+l,i,i+u-l),l=u);return t}n.d(t,{k:function(){return o},x:function(){return r}})},3626:function(e,t,n){"use strict";n.d(t,{D0:function(){return a},jB:function(){return o},jr:function(){return s}});var r=[],i=[];function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,o=r,a={index:-1,data:e,target:[]};return e?"function"===typeof e[Symbol.iterator]?o=e:e.length>0&&(i.length=e.length,o=i):o=r,(t>0||Number.isFinite(n))&&(o=(Array.isArray(o)?o:Array.from(o)).slice(t,n),a.index=t-1),{iterable:o,objectInfo:a}}function a(e){return e&&e[Symbol.asyncIterator]}function s(e,t){var n=t.size,r=t.stride,i=t.offset,o=t.startIndices,a=t.nested,s=e.BYTES_PER_ELEMENT,u=r?r/s:n,l=i?i/s:0,c=Math.floor((e.length-l)/u);return function(t,r){var i=r.index,s=r.target;if(!o){for(var A=i*u+l,f=0;f<n;f++)s[f]=e[A+f];return s}var h,p=o[i],d=o[i+1]||c;if(a){h=new Array(d-p);for(var g=p;g<d;g++){var v=g*u+l;s=new Array(n);for(var y=0;y<n;y++)s[y]=e[v+y];h[g-p]=s}}else if(u===n)h=e.subarray(p*n+l,d*n+l);else{h=new e.constructor((d-p)*n);for(var m=0,b=p;b<d;b++)for(var _=b*u+l,w=0;w<n;w++)h[m++]=e[_+w]}return h}}},3452:function(e,t,n){"use strict";var r=n(4177);t.Z=new r.Z({id:"deck"})},7416:function(e,t,n){"use strict";n.d(t,{Du:function(){return u},Ks:function(){return f},TK:function(){return h},Xt:function(){return s},bS:function(){return o},wQ:function(){return a}});var r=n(6188),i=n(8140);function o(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function a(e,t){var n=e%t;return n<0?t+n:n}function s(e){return[e[12],e[13],e[14]]}function u(e){return{left:A(e[3]+e[0],e[7]+e[4],e[11]+e[8],e[15]+e[12]),right:A(e[3]-e[0],e[7]-e[4],e[11]-e[8],e[15]-e[12]),bottom:A(e[3]+e[1],e[7]+e[5],e[11]+e[9],e[15]+e[13]),top:A(e[3]-e[1],e[7]-e[5],e[11]-e[9],e[15]-e[13]),near:A(e[3]+e[2],e[7]+e[6],e[11]+e[10],e[15]+e[14]),far:A(e[3]-e[2],e[7]-e[6],e[11]-e[10],e[15]-e[14])}}var l,c=new i.Z;function A(e,t,n,r){c.set(e,t,n);var o=c.len();return{distance:r/o,normal:new i.Z(-e/o,-t/o,-n/o)}}function f(e){return e-Math.fround(e)}function h(e,t){var n=t.size,i=void 0===n?1:n,o=t.startIndex,a=void 0===o?0:o,s=void 0!==t.endIndex?t.endIndex:e.length,u=(s-a)/i;l=r.Z.allocate(l,u,{type:Float32Array,size:2*i});for(var c=a,A=0;c<s;){for(var h=0;h<i;h++){var p=e[c++];l[A+h]=p,l[A+h+i]=f(p)}A+=2*i}return l.subarray(0,u*i*2)}},2971:function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(Array.isArray(e)){var n=e.length;if(!t||t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return!1}function i(e){var t,n={};return function(i){for(var o in i)if(!r(i[o],n[o])){t=e(i),n=i;break}return t}}n.d(t,{Z:function(){return i}})},1932:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});var r=n(1413);function i(e,t){if(!t)return e;var n=(0,r.Z)((0,r.Z)({},e),t);if("defines"in t&&(n.defines=(0,r.Z)((0,r.Z)({},e.defines),t.defines)),"modules"in t&&(n.modules=(e.modules||[]).concat(t.modules),t.modules.some((function(e){return"project64"===e.name})))){var i=n.modules.findIndex((function(e){return"project32"===e.name}));i>=0&&n.modules.splice(i,1)}if("inject"in t)if(e.inject){var o=(0,r.Z)({},e.inject);for(var a in t.inject)o[a]=(o[a]||"")+t.inject[a];n.inject=o}else n.inject=t.inject;return n}},1409:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(7762),i=n(5671),o=n(3144),a=n(8810),s=n(3626),u=n(6188),l=n(2515),c=n(1744),A=function(){function e(t){(0,i.Z)(this,e),(0,a.Z)(this,"opts",void 0),(0,a.Z)(this,"typedArrayManager",void 0),(0,a.Z)(this,"indexStarts",[0]),(0,a.Z)(this,"vertexStarts",[0]),(0,a.Z)(this,"vertexCount",0),(0,a.Z)(this,"instanceCount",0),(0,a.Z)(this,"attributes",void 0),(0,a.Z)(this,"_attributeDefs",void 0),(0,a.Z)(this,"data",void 0),(0,a.Z)(this,"getGeometry",void 0),(0,a.Z)(this,"geometryBuffer",void 0),(0,a.Z)(this,"buffers",void 0),(0,a.Z)(this,"positionSize",void 0),(0,a.Z)(this,"normalize",void 0);var n=t.attributes,r=void 0===n?{}:n;this.typedArrayManager=u.Z,this.attributes={},this._attributeDefs=r,this.opts=t,this.updateGeometry(t)}return(0,o.Z)(e,[{key:"updateGeometry",value:function(e){Object.assign(this.opts,e);var t=this.opts,n=t.data,i=t.buffers,o=void 0===i?{}:i,a=t.getGeometry,s=t.geometryBuffer,u=t.positionFormat,c=t.dataChanged,A=t.normalize,f=void 0===A||A;if(this.data=n,this.getGeometry=a,this.positionSize=s&&s.size||("XY"===u?2:3),this.buffers=o,this.normalize=f,s&&((0,l.Z)(n.startIndices),this.getGeometry=this.getGeometryFromBuffer(s),f||(o.positions=s)),this.geometryBuffer=o.positions,Array.isArray(c)){var h,p=(0,r.Z)(c);try{for(p.s();!(h=p.n()).done;){var d=h.value;this._rebuildGeometry(d)}}catch(g){p.e(g)}finally{p.f()}}else this._rebuildGeometry()}},{key:"updatePartialGeometry",value:function(e){var t=e.startRow,n=e.endRow;this._rebuildGeometry({startRow:t,endRow:n})}},{key:"getGeometryFromBuffer",value:function(e){var t=e.value||e;return ArrayBuffer.isView(t)?(0,s.jr)(t,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices}):null}},{key:"_allocate",value:function(e,t){var n=this.attributes,r=this.buffers,i=this._attributeDefs,o=this.typedArrayManager;for(var a in i)if(a in r)o.release(n[a]),n[a]=null;else{var s=i[a];s.copy=t,n[a]=o.allocate(n[a],e,s)}}},{key:"_forEachGeometry",value:function(e,t,n){var i,o=this.data,a=this.getGeometry,u=(0,s.jB)(o,t,n),l=u.iterable,c=u.objectInfo,A=(0,r.Z)(l);try{for(A.s();!(i=A.n()).done;){var f=i.value;c.index++,e(a?a(f,c):null,c.index)}}catch(h){A.e(h)}finally{A.f()}}},{key:"_rebuildGeometry",value:function(e){var t=this;if(this.data){var n=this.indexStarts,r=this.vertexStarts,i=this.instanceCount,o=this.data,a=this.geometryBuffer,s=e||{},u=s.startRow,l=void 0===u?0:u,A=s.endRow,f=void 0===A?1/0:A,h={};if(e||(n=[0],r=[0]),this.normalize||!a)this._forEachGeometry((function(e,n){var i=e&&t.normalizeGeometry(e);h[n]=i,r[n+1]=r[n]+(i?t.getGeometrySize(i):0)}),l,f),i=r[r.length-1];else if(r=o.startIndices,i=r[o.length]||0,ArrayBuffer.isView(a))i=i||a.length/this.positionSize;else if(a instanceof c.Z){var p=a.accessor.stride||4*this.positionSize;i=i||a.byteLength/p}else if(a.buffer){var d=a.stride||4*this.positionSize;i=i||a.buffer.byteLength/d}else if(a.value){var g=a.value,v=a.stride/g.BYTES_PER_ELEMENT||this.positionSize;i=i||g.length/v}this._allocate(i,Boolean(e)),this.indexStarts=n,this.vertexStarts=r,this.instanceCount=i;var y={};this._forEachGeometry((function(e,o){var a=h[o]||e;y.vertexStart=r[o],y.indexStart=n[o];var s=o<r.length-1?r[o+1]:i;y.geometrySize=s-r[o],y.geometryIndex=o,t.updateGeometryAttributes(a,y)}),l,f),this.vertexCount=n[n.length-1]}}}]),e}()},6188:function(e,t,n){"use strict";var r=n(5671),i=n(3144),o=n(8810),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,e),(0,o.Z)(this,"_pool",[]),(0,o.Z)(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(t)}return(0,i.Z)(e,[{key:"setOptions",value:function(e){Object.assign(this.opts,e)}},{key:"allocate",value:function(e,t,n){var r=n.size,i=void 0===r?1:r,o=n.type,a=n.padding,s=void 0===a?0:a,u=n.copy,l=void 0!==u&&u,c=n.initialize,A=void 0!==c&&c,f=n.maxCount,h=o||e&&e.constructor||Float32Array,p=t*i+s;if(ArrayBuffer.isView(e)){if(p<=e.length)return e;if(p*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new h(e.buffer,0,p)}var d=1/0;f&&(d=f*i+s);var g=this._allocate(h,p,A,d);return e&&l?g.set(e):A||g.fill(0,0,4),this._release(e),g}},{key:"release",value:function(e){this._release(e)}},{key:"_allocate",value:function(e,t,n,r){var i=Math.max(Math.ceil(t*this.opts.overAlloc),1);i>r&&(i=r);var o=this._pool,a=e.BYTES_PER_ELEMENT*i,s=o.findIndex((function(e){return e.byteLength>=a}));if(s>=0){var u=new e(o.splice(s,1)[0],0,i);return n&&u.fill(0),u}return new e(i)}},{key:"_release",value:function(e){if(ArrayBuffer.isView(e)){var t=this._pool,n=e.buffer,r=n.byteLength,i=t.findIndex((function(e){return e.byteLength>=r}));i<0?t.push(n):(i>0||t.length<this.opts.poolSize)&&t.splice(i,0,n),t.length>this.opts.poolSize&&t.shift()}}}]),e}();t.Z=new a},7563:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(1413),i=n(3144),o=n(5671),a=n(7326),s=n(136),u=n(7277),l=n(8810),c=n(5773),A=n(8611),f=n(1570),h=n(8025),p=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i;(0,o.Z)(this,n);var s=e.longitude,u=e.latitude,c=e.modelMatrix,p=e.bearing,d=void 0===p?0:p,g=e.pitch,v=void 0===g?0:g,y=e.up,m=void 0===y?[0,0,1]:y,b=new f.Z({bearing:d,pitch:-90===v?1e-4:90+v}).toVector3().normalize(),_=c?new h.Z(c).transformAsVector(b):b,w=Number.isFinite(u)?(0,A.Bf)({latitude:u}):0,x=Math.pow(2,w),C=(new h.Z).lookAt({eye:[0,0,0],center:_,up:m}).scale(x);return i=t.call(this,(0,r.Z)((0,r.Z)({},e),{},{zoom:w,viewMatrix:C})),(0,l.Z)((0,a.Z)(i),"longitude",void 0),(0,l.Z)((0,a.Z)(i),"latitude",void 0),i.latitude=u,i.longitude=s,i}return(0,i.Z)(n)}(c.Z)},2465:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(885),i=n(1413),o=n(5671),a=n(3144),s=n(7326),u=n(136),l=n(7277),c=n(8810),A=n(8025),f=n(5773),h=n(3924),p=n(7206),d=n(725),g=Math.PI/180,v=180/Math.PI,y=6370972,m=256;function b(){var e=4018225162502676e-20,t=Math.PI/180*m;return{unitsPerMeter:[e,e,e],unitsPerMeter2:[0,0,0],metersPerUnit:[24886.609375,24886.609375,24886.609375],unitsPerDegree:[t,t,e],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/t,1/t,24886.609375]}}var _=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,n);var a=r.latitude,u=void 0===a?0:a,l=r.longitude,f=void 0===l?0:l,h=r.zoom,p=void 0===h?0:h,d=r.nearZMultiplier,v=void 0===d?.1:d,y=r.farZMultiplier,m=void 0===y?2:y,_=r.resolution,w=void 0===_?10:_,x=r.height,C=r.altitude,B=void 0===C?1.5:C;x=x||1,B=Math.max(.75,B);var E=(new A.Z).lookAt({eye:[0,-B,0],up:[0,0,1]}),S=Math.pow(2,p);E.rotateX(u*g),E.rotateZ(-f*g),E.scale(S/x);var k=Math.atan(.5/B),O=512*S/x;return e=t.call(this,(0,i.Z)((0,i.Z)({},r),{},{height:x,viewMatrix:E,longitude:f,latitude:u,zoom:p,distanceScales:b(),fovyRadians:2*k,focalDistance:B,near:v,far:Math.min(2,1/O+1)*B*m})),(0,c.Z)((0,s.Z)(e),"longitude",void 0),(0,c.Z)((0,s.Z)(e),"latitude",void 0),(0,c.Z)((0,s.Z)(e),"resolution",void 0),e.latitude=u,e.longitude=f,e.resolution=w,e}return(0,a.Z)(n,[{key:"projectionMode",get:function(){return h.zG.GLOBE}},{key:"getDistanceScales",value:function(){return this.distanceScales}},{key:"getBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={targetZ:e.z||0},n=this.unproject([0,this.height/2],t),r=this.unproject([this.width/2,0],t),i=this.unproject([this.width,this.height/2],t),o=this.unproject([this.width/2,this.height],t);return i[0]<this.longitude&&(i[0]+=360),n[0]>this.longitude&&(n[0]-=360),[Math.min(n[0],i[0],r[0],o[0]),Math.min(n[1],i[1],r[1],o[1]),Math.max(n[0],i[0],r[0],o[0]),Math.max(n[1],i[1],r[1],o[1])]}},{key:"unproject",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.topLeft,o=void 0===i||i,a=n.targetZ,s=(0,r.Z)(e,3),u=s[0],l=s[1],c=s[2],A=o?l:this.height-l,f=this.pixelUnprojectionMatrix;if(Number.isFinite(c))t=w(f,[u,A,c,1]);else{var h=w(f,[u,A,-1,1]),d=w(f,[u,A,1,1]),g=((a||0)/y+1)*m,v=p.x9(p.lu([],h,d)),b=p.x9(h),_=p.x9(d),x=(4*b*_-Math.pow(v-b-_,2))/16,C=4*x/v,B=Math.sqrt(b-C),E=Math.sqrt(Math.max(0,g*g-C)),S=(B-E)/Math.sqrt(v);t=p.t7([],h,d,S)}var k=this.unprojectPosition(t),O=(0,r.Z)(k,3),T=O[0],P=O[1],M=O[2];return Number.isFinite(c)?[T,P,M]:Number.isFinite(a)?[T,P,a]:[T,P]}},{key:"projectPosition",value:function(e){var t=(0,r.Z)(e,3),n=t[0],i=t[1],o=t[2],a=void 0===o?0:o,s=n*g,u=i*g,l=Math.cos(u),c=(a/y+1)*m;return[Math.sin(s)*l*c,-Math.cos(s)*l*c,Math.sin(u)*c]}},{key:"unprojectPosition",value:function(e){var t=(0,r.Z)(e,3),n=t[0],i=t[1],o=t[2],a=p.Zh(e),s=Math.asin(o/a);return[Math.atan2(n,-i)*v,s*v,(a/m-1)*y]}},{key:"projectFlat",value:function(e){return e}},{key:"unprojectFlat",value:function(e){return e}},{key:"panByPosition",value:function(e,t){var n=this.unproject(t);return{longitude:e[0]-n[0]+this.longitude,latitude:e[1]-n[1]+this.latitude}}}]),n}(f.Z);function w(e,t){var n=d.fF([],t,e);return d.bA(n,n,1/n[3]),n}},5982:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(885),i=n(1413),o=n(5671),a=n(3144),s=n(7326),u=n(136),l=n(7277),c=n(8810),A=n(5773),f=n(8025),h=n(8611),p=Math.PI/180;function d(e){var t=e.height,n=e.focalDistance,r=e.orbitAxis,i=e.rotationX,o=e.rotationOrbit,a=e.zoom,s="Z"===r?[0,0,1]:[0,1,0],u="Z"===r?[0,-n,0]:[0,0,n],l=(new f.Z).lookAt({eye:u,up:s});l.rotateX(i*p),"Z"===r?l.rotateZ(o*p):l.rotateY(o*p);var c=Math.pow(2,a)/t;return l.scale(c),l}var g=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;(0,o.Z)(this,n);var a=e.height,u=e.projectionMatrix,l=e.fovy,A=void 0===l?50:l,f=e.orbitAxis,p=void 0===f?"Z":f,g=e.target,v=void 0===g?[0,0,0]:g,y=e.rotationX,m=void 0===y?0:y,b=e.rotationOrbit,_=void 0===b?0:b,w=e.zoom,x=void 0===w?0:w,C=u?u[5]/2:(0,h.sj)(A);return r=t.call(this,(0,i.Z)((0,i.Z)({},e),{},{longitude:void 0,viewMatrix:d({height:a||1,focalDistance:C,orbitAxis:p,rotationX:m,rotationOrbit:_,zoom:x}),fovy:A,focalDistance:C,position:v,zoom:x})),(0,c.Z)((0,s.Z)(r),"projectedCenter",void 0),r.projectedCenter=r.project(r.center),r}return(0,a.Z)(n,[{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,i=void 0===n||n,o=(0,r.Z)(e,3),a=o[0],s=o[1],u=o[2],l=void 0===u?this.projectedCenter[2]:u,c=i?s:this.height-s,A=(0,h.CT)([a,c,l],this.pixelUnprojectionMatrix),f=(0,r.Z)(A,3),p=f[0],d=f[1],g=f[2];return[p,d,g]}},{key:"panByPosition",value:function(e,t){var n=this.project(e),r=[this.width/2+n[0]-t[0],this.height/2+n[1]-t[1],this.projectedCenter[2]];return{target:this.unproject(r)}}}]),n}(A.Z)},1456:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(885),i=n(1413),o=n(5671),a=n(3144),s=n(136),u=n(7277),l=n(5773),c=n(8025),A=n(9166),f=n(8611),h=n(9233),p=(new c.Z).lookAt({eye:[0,0,1]});function d(e){var t=e.width,n=e.height,r=e.near,i=e.far,o=e.padding,a=-t/2,s=t/2,u=-n/2,l=n/2;if(o){var f=o.left,h=void 0===f?0:f,p=o.right,d=void 0===p?0:p,g=o.top,v=void 0===g?0:g,y=o.bottom,m=void 0===y?0:y,b=(0,A.uZ)((h+t-d)/2,0,t)-t/2,_=(0,A.uZ)((v+n-m)/2,0,n)-n/2;a-=b,s-=b,u+=_,l+=_}return(new c.Z).ortho({left:a,right:s,bottom:u,top:l,near:r,far:i})}var g=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){(0,o.Z)(this,n);var r,a=e.width,s=e.height,u=e.near,l=void 0===u?.1:u,c=e.far,A=void 0===c?1e3:c,f=e.zoom,h=void 0===f?0:f,g=e.target,v=void 0===g?[0,0,0]:g,y=e.padding,m=void 0===y?null:y,b=e.flipY,_=void 0===b||b,w=Array.isArray(h)?h[0]:h,x=Array.isArray(h)?h[1]:h,C=Math.min(w,x),B=Math.pow(2,C);if(w!==x){var E=Math.pow(2,w),S=Math.pow(2,x);r={unitsPerMeter:[E/B,S/B,1],metersPerUnit:[B/E,B/S,1]}}return t.call(this,(0,i.Z)((0,i.Z)({},e),{},{longitude:void 0,position:v,viewMatrix:p.clone().scale([B,B*(_?-1:1),B]),projectionMatrix:d({width:a||1,height:s||1,padding:m,near:l,far:A}),zoom:C,distanceScales:r}))}return(0,a.Z)(n,[{key:"projectFlat",value:function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1],o=this.distanceScales.unitsPerMeter;return[n*o[0],i*o[1]]}},{key:"unprojectFlat",value:function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1],o=this.distanceScales.metersPerUnit;return[n*o[0],i*o[1]]}},{key:"panByPosition",value:function(e,t){var n=(0,f.CT)(t,this.pixelUnprojectionMatrix),r=this.projectFlat(e),i=h.IH([],r,h.tk([],n)),o=h.IH([],this.center,i);return{target:this.unprojectFlat(o)}}}]),n}(l.Z)},5773:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(885),i=n(5671),o=n(3144),a=n(8810),s=n(3452),u=n(7416),l=n(8025),c=n(9166),A=n(8140),f=n(71),h=n(8611),p=n(3924),d=Math.PI/180,g=(0,u.bS)(),v=[0,0,0],y={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),(0,a.Z)(this,"id",void 0),(0,a.Z)(this,"x",void 0),(0,a.Z)(this,"y",void 0),(0,a.Z)(this,"width",void 0),(0,a.Z)(this,"height",void 0),(0,a.Z)(this,"isGeospatial",void 0),(0,a.Z)(this,"zoom",void 0),(0,a.Z)(this,"focalDistance",void 0),(0,a.Z)(this,"position",void 0),(0,a.Z)(this,"modelMatrix",void 0),(0,a.Z)(this,"distanceScales",void 0),(0,a.Z)(this,"scale",void 0),(0,a.Z)(this,"center",void 0),(0,a.Z)(this,"cameraPosition",void 0),(0,a.Z)(this,"projectionMatrix",void 0),(0,a.Z)(this,"viewMatrix",void 0),(0,a.Z)(this,"viewMatrixUncentered",void 0),(0,a.Z)(this,"viewMatrixInverse",void 0),(0,a.Z)(this,"viewProjectionMatrix",void 0),(0,a.Z)(this,"pixelProjectionMatrix",void 0),(0,a.Z)(this,"pixelUnprojectionMatrix",void 0),(0,a.Z)(this,"resolution",void 0),(0,a.Z)(this,"_frustumPlanes",{}),this.id=t.id||this.constructor.displayName||"viewport",this.x=t.x||0,this.y=t.y||0,this.width=t.width||1,this.height=t.height||1,this.zoom=t.zoom||0,this.distanceScales=t.distanceScales||y,this.focalDistance=t.focalDistance||1,this.position=t.position||v,this.modelMatrix=t.modelMatrix||null;var n=t.longitude,r=t.latitude;this.isGeospatial=Number.isFinite(r)&&Number.isFinite(n),this._initProps(t),this._initMatrices(t),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return(0,o.Z)(e,[{key:"metersPerPixel",get:function(){return this.distanceScales.metersPerUnit[2]/this.scale}},{key:"projectionMode",get:function(){return this.isGeospatial?this.zoom<12?p.zG.WEB_MERCATOR:p.zG.WEB_MERCATOR_AUTO_OFFSET:p.zG.IDENTITY}},{key:"equals",value:function(t){return t instanceof e&&(this===t||t.width===this.width&&t.height===this.height&&t.scale===this.scale&&(0,c.fS)(t.projectionMatrix,this.projectionMatrix)&&(0,c.fS)(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,i=void 0===n||n,o=this.projectPosition(e),a=(0,h.aW)(o,this.pixelProjectionMatrix),s=(0,r.Z)(a,2),u=s[0],l=s[1],c=i?l:this.height-l;return 2===e.length?[u,c]:[u,c,a[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,i=void 0===n||n,o=t.targetZ,a=(0,r.Z)(e,3),s=a[0],u=a[1],l=a[2],c=i?u:this.height-u,A=o&&o*this.distanceScales.unitsPerMeter[2],f=(0,h.CT)([s,c,l],this.pixelUnprojectionMatrix,A),p=this.unprojectPosition(f),d=(0,r.Z)(p,3),g=d[0],v=d[1],y=d[2];return Number.isFinite(l)?[g,v,y]:Number.isFinite(o)?[g,v,o]:[g,v]}},{key:"projectPosition",value:function(e){var t=this.projectFlat(e),n=(0,r.Z)(t,2);return[n[0],n[1],(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(e){var t=this.unprojectFlat(e),n=(0,r.Z)(t,2);return[n[0],n[1],(e[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(e){if(this.isGeospatial){var t=(0,h.w5)(e);return t[1]=(0,c.uZ)(t[1],-318,830),t}return e}},{key:"unprojectFlat",value:function(e){return this.isGeospatial?(0,h.es)(e):e}},{key:"getBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={targetZ:e.z||0},n=this.unproject([0,0],t),r=this.unproject([this.width,0],t),i=this.unproject([0,this.height],t),o=this.unproject([this.width,this.height],t);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])]}},{key:"getDistanceScales",value:function(e){return e?(0,h.ro)({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}},{key:"containsPixel",value:function(e){var t=e.x,n=e.y,r=e.width,i=void 0===r?1:r,o=e.height,a=void 0===o?1:o;return t<this.x+this.width&&this.x<t+i&&n<this.y+this.height&&this.y<n+a}},{key:"getFrustumPlanes",value:function(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,(0,u.Du)(this.viewProjectionMatrix)),this._frustumPlanes}},{key:"panByPosition",value:function(e,t){return null}},{key:"_initProps",value:function(e){var t=e.longitude,n=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=(0,h.Bf)({latitude:n})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||(0,h.ro)({latitude:n,longitude:t}));var r=Math.pow(2,this.zoom);this.scale=r;var i=e.position,o=e.modelMatrix,a=v;if(i&&(a=o?new l.Z(o).transformAsVector(i,[]):i),this.isGeospatial){var s=this.projectPosition([t,n,0]);this.center=new A.Z(a).scale(this.distanceScales.unitsPerMeter).add(s)}else this.center=this.projectPosition(a)}},{key:"_initMatrices",value:function(e){var t=e.viewMatrix,n=void 0===t?g:t,r=e.projectionMatrix,i=void 0===r?null:r,o=e.orthographic,a=void 0!==o&&o,h=e.fovyRadians,p=e.fovy,v=void 0===p?75:p,y=e.near,m=void 0===y?.1:y,b=e.far,_=void 0===b?1e3:b,w=e.padding,x=void 0===w?null:w,C=e.focalDistance,B=void 0===C?1:C;this.viewMatrixUncentered=n,this.viewMatrix=(new l.Z).multiplyRight(n).translate(new A.Z(this.center).negate()),this.projectionMatrix=i||function(e){var t=e.width,n=e.height,r=e.orthographic,i=e.fovyRadians,o=e.focalDistance,a=e.padding,s=e.near,u=e.far,A=t/n,f=r?(new l.Z).orthographic({fovy:i,aspect:A,focalDistance:o,near:s,far:u}):(new l.Z).perspective({fovy:i,aspect:A,near:s,far:u});if(a){var h=a.left,p=void 0===h?0:h,d=a.right,g=void 0===d?0:d,v=a.top,y=void 0===v?0:v,m=a.bottom,b=void 0===m?0:m,_=(0,c.uZ)((p+t-g)/2,0,t)-t/2,w=(0,c.uZ)((y+n-b)/2,0,n)-n/2;f[8]-=2*_/t,f[9]+=2*w/n}return f}({width:this.width,height:this.height,orthographic:a,fovyRadians:h||v*d,focalDistance:B,padding:x,near:m,far:_});var E=(0,u.bS)();f.Jp(E,E,this.projectionMatrix),f.Jp(E,E,this.viewMatrix),this.viewProjectionMatrix=E,this.viewMatrixInverse=f.U_([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=(0,u.Xt)(this.viewMatrixInverse);var S=(0,u.bS)(),k=(0,u.bS)();f.bA(S,S,[this.width/2,-this.height/2,1]),f.Iu(S,S,[1,-1,0]),f.Jp(k,S,this.viewProjectionMatrix),this.pixelProjectionMatrix=k,this.pixelUnprojectionMatrix=f.U_((0,u.bS)(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||s.Z.warn("Pixel project matrix not invertible")()}}]),e}();(0,a.Z)(m,"displayName","Viewport")},6293:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(885),i=n(1413),o=n(5671),a=n(3144),s=n(7326),u=n(1752),l=n(1120),c=n(136),A=n(7277),f=n(8810),h=n(5773),p=n(8611),d=n(9233),g=n(8025),v=Math.PI/180;function y(e){return 512/4003e4/Math.cos(e*v)}var m=function(e){(0,c.Z)(n,e);var t=(0,A.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,n);var a,u=r.latitude,l=void 0===u?0:u,c=r.longitude,A=void 0===c?0:c,h=r.zoom,d=void 0===h?0:h,v=r.pitch,y=void 0===v?0:v,m=r.bearing,b=void 0===m?0:m,_=r.nearZMultiplier,w=void 0===_?.1:_,x=r.farZMultiplier,C=void 0===x?1.01:x,B=r.orthographic,E=void 0!==B&&B,S=r.projectionMatrix,k=r.repeat,O=void 0!==k&&k,T=r.worldOffset,P=void 0===T?0:T,M=r.legacyMeterSizes,F=void 0!==M&&M,I=r.width,L=r.height,R=r.altitude,D=void 0===R?1.5:R,Z=Math.pow(2,d);I=I||1,L=L||1;var U=null;S?(D=S[5]/2,a=(0,p.Lu)(D)):(r.fovy?(a=r.fovy,D=(0,p.sj)(a)):a=(0,p.Lu)(D),U=(0,p.wl)({width:I,height:L,pitch:y,fovy:a,nearZMultiplier:w,farZMultiplier:C}));var j=(0,p.lf)({height:L,pitch:y,bearing:b,scale:Z,altitude:D});if(P){var N=(new g.Z).translate([512*P,0,0]);j=N.multiplyLeft(j)}return e=t.call(this,(0,i.Z)((0,i.Z)((0,i.Z)({},r),{},{width:I,height:L,viewMatrix:j,longitude:A,latitude:l,zoom:d},U),{},{fovy:a,focalDistance:D})),(0,f.Z)((0,s.Z)(e),"longitude",void 0),(0,f.Z)((0,s.Z)(e),"latitude",void 0),(0,f.Z)((0,s.Z)(e),"pitch",void 0),(0,f.Z)((0,s.Z)(e),"bearing",void 0),(0,f.Z)((0,s.Z)(e),"altitude",void 0),(0,f.Z)((0,s.Z)(e),"fovy",void 0),(0,f.Z)((0,s.Z)(e),"orthographic",void 0),(0,f.Z)((0,s.Z)(e),"_subViewports",void 0),(0,f.Z)((0,s.Z)(e),"_pseudoMeters",void 0),e.latitude=l,e.longitude=A,e.zoom=d,e.pitch=y,e.bearing=b,e.altitude=D,e.fovy=a,e.orthographic=E,e._subViewports=O?[]:null,e._pseudoMeters=F,Object.freeze((0,s.Z)(e)),e}return(0,a.Z)(n,[{key:"subViewports",get:function(){if(this._subViewports&&!this._subViewports.length)for(var e=this.getBounds(),t=Math.floor((e[0]+180)/360),r=Math.ceil((e[2]-180)/360),o=t;o<=r;o++){var a=o?new n((0,i.Z)((0,i.Z)({},this),{},{worldOffset:o})):this;this._subViewports.push(a)}return this._subViewports}},{key:"projectPosition",value:function(e){if(this._pseudoMeters)return(0,u.Z)((0,l.Z)(n.prototype),"projectPosition",this).call(this,e);var t=this.projectFlat(e),i=(0,r.Z)(t,2);return[i[0],i[1],(e[2]||0)*y(e[1])]}},{key:"unprojectPosition",value:function(e){if(this._pseudoMeters)return(0,u.Z)((0,l.Z)(n.prototype),"unprojectPosition",this).call(this,e);var t=this.unprojectFlat(e),i=(0,r.Z)(t,2),o=i[0],a=i[1];return[o,a,(e[2]||0)/y(a)]}},{key:"addMetersToLngLat",value:function(e,t){return(0,p.eG)(e,t)}},{key:"panByPosition",value:function(e,t){var n=(0,p.CT)(t,this.pixelUnprojectionMatrix),i=this.projectFlat(e),o=d.IH([],i,d.tk([],n)),a=d.IH([],this.center,o),s=this.unprojectFlat(a),u=(0,r.Z)(s,2);return{longitude:u[0],latitude:u[1]}}},{key:"getBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,p.zX)(this,e.z||0);return[Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),Math.min(t[0][1],t[1][1],t[2][1],t[3][1]),Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),Math.max(t[0][1],t[1][1],t[2][1],t[3][1])]}},{key:"fitBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,o=this.height,a=(0,p.Xg)((0,i.Z)({width:r,height:o,bounds:e},t)),s=a.longitude,u=a.latitude,l=a.zoom;return new n({width:r,height:o,longitude:s,latitude:u,zoom:l})}}]),n}(h.Z);(0,f.Z)(m,"displayName","WebMercatorViewport")},3237:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(8810),u=n(9575),l=n(7563),c=n(1051),A=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"ViewportType",get:function(){return l.Z}},{key:"ControllerType",get:function(){return c.Z}}]),n}(u.Z);(0,s.Z)(A,"displayName","FirstPersonView")},9482:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(8810),u=n(9575),l=n(2465),c=n(7411),A=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"ViewportType",get:function(){return l.Z}},{key:"ControllerType",get:function(){return c.Z}}]),n}(u.Z);(0,s.Z)(A,"displayName","GlobeView")},5665:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(8810),u=n(9575),l=n(6293),c=n(3791),A=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"ViewportType",get:function(){return l.Z}},{key:"ControllerType",get:function(){return c.Z}}]),n}(u.Z);(0,s.Z)(A,"displayName","MapView")},5586:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(8810),u=n(9575),l=n(5982),c=n(9200),A=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.Z)(this,n),(e=t.call(this,i)).props.orbitAxis=i.orbitAxis||"Z",e}return(0,i.Z)(n,[{key:"ViewportType",get:function(){return l.Z}},{key:"ControllerType",get:function(){return c.Z}}]),n}(u.Z);(0,s.Z)(A,"displayName","OrbitView")},610:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(8810),u=n(9575),l=n(1456),c=n(4148),A=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"ViewportType",get:function(){return l.Z}},{key:"ControllerType",get:function(){return c.Z}}]),n}(u.Z);(0,s.Z)(A,"displayName","OrthographicView")},9575:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(1413),i=n(5671),o=n(3144),a=n(8810),s=n(5773),u=/([0-9]+\.?[0-9]*)(%|px)/;function l(e){switch(typeof e){case"number":return{position:e,relative:!1};case"string":var t=u.exec(e);if(t&&t.length>=3){var n="%"===t[2],r=parseFloat(t[1]);return{position:n?r/100:r,relative:n}}default:throw new Error("Could not parse position string ".concat(e))}}function c(e,t){return e.relative?Math.round(e.position*t):e.position}var A=n(8202),f=n(2515),h=function(){function e(t){(0,i.Z)(this,e),(0,a.Z)(this,"id",void 0),(0,a.Z)(this,"viewportInstance",void 0),(0,a.Z)(this,"_x",void 0),(0,a.Z)(this,"_y",void 0),(0,a.Z)(this,"_width",void 0),(0,a.Z)(this,"_height",void 0),(0,a.Z)(this,"_padding",void 0),(0,a.Z)(this,"props",void 0);var n=t||{},o=n.id,u=n.x,c=void 0===u?0:u,A=n.y,h=void 0===A?0:A,p=n.width,d=void 0===p?"100%":p,g=n.height,v=void 0===g?"100%":g,y=n.padding,m=void 0===y?null:y,b=n.viewportInstance;(0,f.Z)(!b||b instanceof s.Z),this.viewportInstance=b,this.id=o||this.constructor.displayName||"view",this.props=(0,r.Z)((0,r.Z)({},t),{},{id:this.id}),this._x=l(c),this._y=l(h),this._width=l(d),this._height=l(v),this._padding=m&&{left:l(m.left||0),right:l(m.right||0),top:l(m.top||0),bottom:l(m.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}return(0,o.Z)(e,[{key:"equals",value:function(e){return this===e||(this.viewportInstance?!!e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):this.ViewportType===e.ViewportType&&(0,A.v)(this.props,e.props))}},{key:"makeViewport",value:function(e){var t=e.width,n=e.height,i=e.viewState;if(this.viewportInstance)return this.viewportInstance;i=this.filterViewState(i);var o=this.getDimensions({width:t,height:n});return new this.ViewportType((0,r.Z)((0,r.Z)((0,r.Z)({},i),this.props),o))}},{key:"getViewStateId",value:function(){var e=this.props.viewState;return"string"===typeof e?e:(null===e||void 0===e?void 0:e.id)||this.id}},{key:"filterViewState",value:function(e){if(this.props.viewState&&"object"===typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;var t=(0,r.Z)({},e);for(var n in this.props.viewState)"id"!==n&&(t[n]=this.props.viewState[n]);return t}return e}},{key:"getDimensions",value:function(e){var t=e.width,n=e.height,r={x:c(this._x,t),y:c(this._y,n),width:c(this._width,t),height:c(this._height,n)};return this._padding&&(r.padding={left:c(this._padding.left,t),top:c(this._padding.top,n),right:c(this._padding.right,t),bottom:c(this._padding.bottom,n)}),r}},{key:"controller",get:function(){var e=this.props.controller;return e?!0===e?{type:this.ControllerType}:"function"===typeof e?{type:e}:(0,r.Z)({type:this.ControllerType},e):null}}]),e}()},8950:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(1413),i=n(5671),o=n(3144),a=n(7326),s=n(1752),u=n(1120),l=n(136),c=n(7277),A=n(8810),f=n(9446),h=n(251),p=n(3924),d=n(5546),g=n(739),v=n(1509),y=[0,0,0,255],m={getSourcePosition:{type:"accessor",value:function(e){return e.sourcePosition}},getTargetPosition:{type:"accessor",value:function(e){return e.targetPosition}},getSourceColor:{type:"accessor",value:y},getTargetColor:{type:"accessor",value:y},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}},b=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,A.Z)((0,a.Z)(e),"state",void 0),e}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME arc-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\nattribute float instanceHeights;\nattribute float instanceTilts;\n\nuniform bool greatCircle;\nuniform bool useShortestPath;\nuniform float numSegments;\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nfloat paraboloid(float distance, float sourceZ, float targetZ, float ratio) {\n  // d: distance on the xy plane\n  // r: ratio of the current point\n  // p: ratio of the peak of the arc\n  // h: height multiplier\n  // z = f(r) = sqrt(r * (p * 2 - r)) * d * h\n  // f(0) = 0\n  // f(1) = dz\n\n  float deltaZ = targetZ - sourceZ;\n  float dh = distance * instanceHeights;\n  if (dh == 0.0) {\n    return sourceZ + deltaZ * ratio;\n  }\n  float unitZ = deltaZ / dh;\n  float p2 = unitZ * unitZ + 1.0;\n\n  // sqrt does not deal with negative values, manually flip source and target if delta.z < 0\n  float dir = step(deltaZ, 0.0);\n  float z0 = mix(sourceZ, targetZ, dir);\n  float r = mix(ratio, 1.0 - ratio, dir);\n  return sqrt(r * (p2 - r)) * dh + z0;\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {\n  float distance = length(source.xy - target.xy);\n  float z = paraboloid(distance, source.z, target.z, segmentRatio);\n\n  float tiltAngle = radians(instanceTilts);\n  vec2 tiltDirection = normalize(target.xy - source.xy);\n  vec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);\n\n  return vec3(\n    mix(source.xy, target.xy, segmentRatio) + tilt,\n    z * cos(tiltAngle)\n  );\n}\n\n/* Great circle interpolation\n * http://www.movable-type.co.uk/scripts/latlong.html\n */\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 sourceRadians = radians(source);\n  vec2 targetRadians = radians(target);\n  vec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);\n  vec2 shd_sq = sin_half_delta * sin_half_delta;\n\n  float a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;\n  return 2.0 * asin(sqrt(a));\n}\n\nvec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {\n  vec2 lngLat;\n\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  if(abs(angularDist - PI) < 0.001) {\n    lngLat = (1.0 - t) * source.xy + t * target.xy;\n  } else {\n    float a = sin((1.0 - t) * angularDist);\n    float b = sin(t * angularDist);\n    vec3 p = source3D.yxz * a + target3D.yxz * b;\n    lngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));\n  }\n\n  float z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);\n\n  return vec3(lngLat, z);\n}\n\n/* END GREAT CIRCLE */\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));\n  float nextSegmentRatio = getSegmentRatio(min(numSegments - 1.0, segmentIndex + 1.0));\n\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  isValid = 1.0;\n\n  uv = vec2(segmentRatio, positions.y);\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n\n  vec4 curr;\n  vec4 next;\n  vec3 source;\n  vec3 target;\n\n  if ((greatCircle || project_uProjectionMode == PROJECTION_MODE_GLOBE) && project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    source = project_globe_(vec3(instanceSourcePositions.xy, 0.0));\n    target = project_globe_(vec3(instanceTargetPositions.xy, 0.0));\n    float angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);\n\n    vec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);\n    vec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);\n    vec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);\n\n    if (abs(currPos.x - prevPos.x) > 180.0) {\n      indexDir = -1.0;\n      isValid = 0.0;\n    } else if (abs(currPos.x - nextPos.x) > 180.0) {\n      indexDir = 1.0;\n      isValid = 0.0;\n    }\n    nextPos = indexDir < 0.0 ? prevPos : nextPos;\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n\n    if (isValid == 0.0) {\n      // split at the 180th meridian\n      nextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;\n      float t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);\n      currPos = mix(currPos, nextPos, t);\n      segmentRatio = mix(segmentRatio, nextSegmentRatio, t);\n    }\n\n    vec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);\n    vec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);\n  \n    curr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);\n    next = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));\n  \n  } else {\n    vec3 source_world = instanceSourcePositions;\n    vec3 target_world = instanceTargetPositions;\n    if (useShortestPath) {\n      source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n      target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n\n      float deltaLng = target_world.x - source_world.x;\n      if (deltaLng > 180.) target_world.x -= 360.;\n      if (deltaLng < -180.) source_world.x -= 360.;\n    }\n    source = project_position(source_world, instanceSourcePositions64Low);\n    target = project_position(target_world, instanceTargetPositions64Low);\n\n    // common x at longitude=-180\n    float antiMeridianX = 0.0;\n\n    if (useShortestPath) {\n      if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n        antiMeridianX = -(project_uCoordinateOrigin.x + 180.) / 360. * TILE_SIZE;\n      }\n      float thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);\n\n      if (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {\n        isValid = 0.0;\n        indexDir = sign(segmentRatio - thresholdRatio);\n        segmentRatio = thresholdRatio;\n      }\n    }\n\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n    vec3 currPos = interpolateFlat(source, target, segmentRatio);\n    vec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);\n\n    if (useShortestPath) {\n      if (nextPos.x < antiMeridianX) {\n        currPos.x += TILE_SIZE;\n        nextPos.x += TILE_SIZE;\n      }\n    }\n\n    curr = project_common_position_to_clipspace(vec4(currPos, 1.0));\n    next = project_common_position_to_clipspace(vec4(nextPos, 1.0));\n    geometry.position = vec4(currPos, 1.0);\n  }\n\n  // Multiply out width and clamp to limits\n  // mercator pixels are interpreted as screen pixels\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n\n  // extrude\n  vec3 offset = vec3(\n    getExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);\n  vColor = vec4(color.rgb, color.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME arc-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nvoid main(void) {\n  if (isValid == 0.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  geometry.uv = uv;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[f.Z,h.Z]})}},{key:"wrapLongitude",get:function(){return!1}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getSourceColor",defaultValue:y},instanceTargetColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getTargetColor",defaultValue:y},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}},{key:"updateState",value:function(e){if((0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var t,r=this.context.gl;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.widthUnits,i=n.widthScale,o=n.widthMinPixels,a=n.widthMaxPixels,s=n.greatCircle,u=n.wrapLongitude;this.state.model.setUniforms(t).setUniforms({greatCircle:s,widthUnits:p.iI[r],widthScale:i,widthMinPixels:o,widthMaxPixels:a,useShortestPath:u}).draw()}},{key:"_getModel",value:function(e){for(var t=[],n=0;n<50;n++)t=t.concat([n,1,0,n,-1,0]);var i=new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new v.Z({drawMode:5,attributes:{positions:new Float32Array(t)}}),isInstanced:!0}));return i.setUniforms({numSegments:50}),i}}]),n}(d.Z);(0,A.Z)(b,"layerName","ArcLayer"),(0,A.Z)(b,"defaultProps",m)},743:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(885),i=n(1413),o=n(5671),a=n(3144),s=n(7326),u=n(1752),l=n(1120),c=n(136),A=n(7277),f=n(8810),h=n(3924),p=n(9446),d=n(251),g=n(5546),v=n(739),y=n(1509),m=n(8611),b=n(9166),_=new Uint16Array([0,2,1,0,3,2]),w=new Float32Array([0,1,0,0,1,0,1,1]);function x(e,t){if(!t)return function(e){for(var t=new Float64Array(12),n=0;n<e.length;n++)t[3*n+0]=e[n][0],t[3*n+1]=e[n][1],t[3*n+2]=e[n][2]||0;return{vertexCount:6,positions:t,indices:_,texCoords:w}}(e);for(var n=Math.max(Math.abs(e[0][0]-e[3][0]),Math.abs(e[1][0]-e[2][0])),r=Math.max(Math.abs(e[1][1]-e[0][1]),Math.abs(e[2][1]-e[3][1])),i=Math.ceil(n/t)+1,o=Math.ceil(r/t)+1,a=(i-1)*(o-1)*6,s=new Uint32Array(a),u=new Float32Array(i*o*2),l=new Float64Array(i*o*3),c=0,A=0,f=0;f<i;f++)for(var h=f/(i-1),p=0;p<o;p++){var d=p/(o-1),g=C(e,h,d);l[3*c+0]=g[0],l[3*c+1]=g[1],l[3*c+2]=g[2]||0,u[2*c+0]=h,u[2*c+1]=1-d,f>0&&p>0&&(s[A++]=c-o,s[A++]=c-o-1,s[A++]=c-1,s[A++]=c-o,s[A++]=c-1,s[A++]=c),c++}return{vertexCount:a,positions:l,indices:s,texCoords:u}}function C(e,t,n){return(0,b.t7)((0,b.t7)(e[0],e[1],n),(0,b.t7)(e[3],e[2],n),t)}var B="\n#define SHADER_NAME bitmap-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D bitmapTexture;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float desaturate;\nuniform vec4 transparentColor;\nuniform vec3 tintColor;\nuniform float opacity;\n\nuniform float coordinateConversion;\nuniform vec4 bounds;\n\n/* projection utils */\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / PI / 2.0;\n\n// from degrees to Web Mercator\nvec2 lnglat_to_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\n// from Web Mercator to degrees\nvec2 mercator_to_lnglat(vec2 xy) {\n  xy /= WORLD_SCALE;\n  return degrees(vec2(\n    xy.x - PI,\n    atan(exp(xy.y - PI)) * 2.0 - PI * 0.5\n  ));\n}\n/* End projection utils */\n\n// apply desaturation\nvec3 color_desaturate(vec3 color) {\n  float luminance = (color.r + color.g + color.b) * 0.333333333;\n  return mix(color, vec3(luminance), desaturate);\n}\n\n// apply tint\nvec3 color_tint(vec3 color) {\n  return color * tintColor;\n}\n\n// blend with background color\nvec4 apply_opacity(vec3 color, float alpha) {\n  return mix(transparentColor, vec4(color, 1.0), alpha);\n}\n\nvec2 getUV(vec2 pos) {\n  return vec2(\n    (pos.x - bounds[0]) / (bounds[2] - bounds[0]),\n    (pos.y - bounds[3]) / (bounds[1] - bounds[3])\n  );\n}\n\n".concat("\nvec3 packUVsIntoRGB(vec2 uv) {\n  // Extract the top 8 bits. We want values to be truncated down so we can add a fraction\n  vec2 uv8bit = floor(uv * 256.);\n\n  // Calculate the normalized remainders of u and v parts that do not fit into 8 bits\n  // Scale and clamp to 0-1 range\n  vec2 uvFraction = fract(uv * 256.);\n  vec2 uvFraction4bit = floor(uvFraction * 16.);\n\n  // Remainder can be encoded in blue channel, encode as 4 bits for pixel coordinates\n  float fractions = uvFraction4bit.x + uvFraction4bit.y * 16.;\n\n  return vec3(uv8bit, fractions) / 255.;\n}\n","\n\nvoid main(void) {\n  vec2 uv = vTexCoord;\n  if (coordinateConversion < -0.5) {\n    vec2 lnglat = mercator_to_lnglat(vTexPos);\n    uv = getUV(lnglat);\n  } else if (coordinateConversion > 0.5) {\n    vec2 commonPos = lnglat_to_mercator(vTexPos);\n    uv = getUV(commonPos);\n  }\n  vec4 bitmapColor = texture2D(bitmapTexture, uv);\n\n  gl_FragColor = apply_opacity(color_tint(color_desaturate(bitmapColor.rgb)), bitmapColor.a * opacity);\n\n  geometry.uv = uv;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n\n  if (picking_uActive) {\n    // Since instance information is not used, we can use picking color for pixel index\n    gl_FragColor.rgb = packUVsIntoRGB(uv);\n  }\n}\n"),E={image:{type:"image",value:null,async:!0},bounds:{type:"array",value:[1,0,0,1],compare:!0},_imageCoordinateSystem:h.Df.DEFAULT,desaturate:{type:"number",min:0,max:1,value:0},transparentColor:{type:"color",value:[0,0,0,0]},tintColor:{type:"color",value:[255,255,255]}},S=function(e){(0,c.Z)(n,e);var t=(0,A.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,f.Z)((0,s.Z)(e),"state",void 0),e}return(0,a.Z)(n,[{key:"getShaders",value:function(){return(0,u.Z)((0,l.Z)(n.prototype),"getShaders",this).call(this,{vs:"\n#define SHADER_NAME bitmap-layer-vertex-shader\n\nattribute vec2 texCoords;\nattribute vec3 positions;\nattribute vec3 positions64Low;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float coordinateConversion;\n\nconst vec3 pickingColor = vec3(1.0, 0.0, 0.0);\n\nvoid main(void) {\n  geometry.worldPosition = positions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = pickingColor;\n\n  gl_Position = project_position_to_clipspace(positions, positions64Low, vec3(0.0), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTexCoord = texCoords;\n\n  if (coordinateConversion < -0.5) {\n    vTexPos = geometry.position.xy + project_uCommonOrigin.xy;\n  } else if (coordinateConversion > 0.5) {\n    vTexPos = geometry.worldPosition.xy;\n  }\n\n  vec4 color = vec4(0.0);\n  DECKGL_FILTER_COLOR(color, geometry);\n}\n",fs:B,modules:[p.Z,d.Z]})}},{key:"initializeState",value:function(){var e=this,t=this.getAttributeManager();t.remove(["instancePickingColors"]);var n=!0;t.add({indices:{size:1,isIndexed:!0,update:function(t){return t.value=e.state.mesh.indices},noAlloc:n},positions:{size:3,type:5130,fp64:this.use64bitPositions(),update:function(t){return t.value=e.state.mesh.positions},noAlloc:n},texCoords:{size:2,update:function(t){return t.value=e.state.mesh.texCoords},noAlloc:n}})}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags,o=this.getAttributeManager();if(r.extensionsChanged){var a,s=this.context.gl;null===(a=this.state.model)||void 0===a||a.delete(),this.state.model=this._getModel(s),o.invalidateAll()}if(t.bounds!==n.bounds){var u=this.state.mesh,l=this._createMesh();for(var c in this.state.model.setVertexCount(l.vertexCount),l)u&&u[c]!==l[c]&&o.invalidate(c);this.setState((0,i.Z)({mesh:l},this._getCoordinateUniforms()))}else t._imageCoordinateSystem!==n._imageCoordinateSystem&&this.setState(this._getCoordinateUniforms())}},{key:"getPickingInfo",value:function(e){var t=this.props.image,n=e.info;if(!n.color||!t)return n.bitmap=null,n;var i=t.width,o=t.height;n.index=0;var a=function(e){var t=(0,r.Z)(e,3),n=t[0],i=t[1],o=t[2];return[(n+(15&o)/16)/256,(i+(240&o)/256)/256]}(n.color),s=[Math.floor(a[0]*i),Math.floor(a[1]*o)];return n.bitmap={size:{width:i,height:o},uv:a,pixel:s},n}},{key:"disablePickingIndex",value:function(){this.setState({disablePicking:!0})}},{key:"restorePickingColors",value:function(){this.setState({disablePicking:!1})}},{key:"_updateAutoHighlight",value:function(e){(0,u.Z)((0,l.Z)(n.prototype),"_updateAutoHighlight",this).call(this,(0,i.Z)((0,i.Z)({},e),{},{color:this.encodePickingColor(0)}))}},{key:"_createMesh",value:function(){var e=this.props.bounds,t=e;return k(e)&&(t=[[e[0],e[1]],[e[0],e[3]],[e[2],e[3]],[e[2],e[1]]]),x(t,this.context.viewport.resolution)}},{key:"_getModel",value:function(e){return e?new v.Z(e,(0,i.Z)((0,i.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new y.Z({drawMode:4,vertexCount:6}),isInstanced:!1})):null}},{key:"draw",value:function(e){var t=e.uniforms,n=e.moduleParameters,r=this.state,i=r.model,o=r.coordinateConversion,a=r.bounds,s=r.disablePicking,u=this.props,l=u.image,c=u.desaturate,A=u.transparentColor,f=u.tintColor;n.pickingActive&&s||l&&i&&i.setUniforms(t).setUniforms({bitmapTexture:l,desaturate:c,transparentColor:A.map((function(e){return e/255})),tintColor:f.slice(0,3).map((function(e){return e/255})),coordinateConversion:o,bounds:a}).draw()}},{key:"_getCoordinateUniforms",value:function(){var e=h.Df.LNGLAT,t=h.Df.CARTESIAN,n=h.Df.DEFAULT,r=this.props._imageCoordinateSystem;if(r!==n){var i=this.props.bounds;if(!k(i))throw new Error("_imageCoordinateSystem only supports rectangular bounds");var o=this.context.viewport.resolution?e:t;if((r=r===e?e:t)===e&&o===t)return{coordinateConversion:-1,bounds:i};if(r===t&&o===e){var a=(0,m.w5)([i[0],i[1]]),s=(0,m.w5)([i[2],i[3]]);return{coordinateConversion:1,bounds:[a[0],a[1],s[0],s[1]]}}}return{coordinateConversion:0,bounds:[0,0,0,0]}}}]),n}(g.Z);function k(e){return Number.isFinite(e[0])}(0,f.Z)(S,"layerName","BitmapLayer"),(0,f.Z)(S,"defaultProps",E)},194:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(1413),i=n(5671),o=n(3144),a=n(1752),s=n(1120),u=n(136),l=n(7277),c=n(8810),A=n(9446),f=n(5600),h=n(251),p=n(3924),d=n(5546),g=n(1622),v=n(7504),y=n(348),m=n(739),b=n(3452),_=n(3889),w=n(1509),x=n(9113),C=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){(0,i.Z)(this,n);var o=e.id,a=void 0===o?(0,_.hQ)("column-geometry"):o,s=function(e){var t=e.radius,n=e.height,r=void 0===n?1:n,i=e.nradial,o=void 0===i?10:i,a=e.vertices;a&&(b.Z.assert(a.length>=o),a=a.flatMap((function(e){return[e[0],e[1]]})),(0,x.Ny)(a,x.wG.COUNTER_CLOCKWISE));var s=r>0,u=o+1,l=s?3*u+1:o,c=2*Math.PI/o,A=new Uint16Array(s?3*o*2:0),f=new Float32Array(3*l),h=new Float32Array(3*l),p=0;if(s){for(var d=0;d<u;d++)for(var g=d*c,v=d%o,y=Math.sin(g),m=Math.cos(g),_=0;_<2;_++)f[p+0]=a?a[2*v]:m*t,f[p+1]=a?a[2*v+1]:y*t,f[p+2]=(.5-_)*r,h[p+0]=a?a[2*v]:m,h[p+1]=a?a[2*v+1]:y,p+=3;f[p+0]=f[p-3],f[p+1]=f[p-2],f[p+2]=f[p-1],p+=3}for(var w=s?0:1;w<u;w++){var C=Math.floor(w/2)*Math.sign(.5-w%2),B=C*c,E=(C+o)%o,S=Math.sin(B),k=Math.cos(B);f[p+0]=a?a[2*E]:k*t,f[p+1]=a?a[2*E+1]:S*t,f[p+2]=r/2,h[p+2]=1,p+=3}if(s)for(var O=0,T=0;T<o;T++)A[O++]=2*T+0,A[O++]=2*T+2,A[O++]=2*T+0,A[O++]=2*T+1,A[O++]=2*T+1,A[O++]=2*T+3;return{indices:A,attributes:{POSITION:{size:3,value:f},NORMAL:{size:3,value:h}}}}(e),u=s.indices,l=s.attributes;return t.call(this,(0,r.Z)((0,r.Z)({},e),{},{id:a,indices:u,attributes:l}))}return(0,o.Z)(n)}(w.Z);var B=[0,0,0,255],E={diskResolution:{type:"number",min:4,value:20},vertices:null,radius:{type:"number",min:0,value:1e3},angle:{type:"number",value:0},offset:{type:"array",value:[0,0]},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},radiusUnits:"meters",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,extruded:!0,wireframe:!1,filled:!0,stroked:!1,getPosition:{type:"accessor",value:function(e){return e.position}},getFillColor:{type:"accessor",value:B},getLineColor:{type:"accessor",value:B},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0,getColor:{deprecatedFor:["getFillColor","getLineColor"]}},S=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"getShaders",value:function(){var e=this.context.gl,t=!(0,g.D0)(e),r={},i=this.props.flatShading&&(0,v.U6)(e,y.h.GLSL_DERIVATIVES);return i&&(r.FLAT_SHADING=1),(0,a.Z)((0,s.Z)(n.prototype),"getShaders",this).call(this,{vs:"#version 300 es\n\n#define SHADER_NAME column-layer-vertex-shader\n\nin vec3 positions;\nin vec3 normals;\n\nin vec3 instancePositions;\nin float instanceElevations;\nin vec3 instancePositions64Low;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin float instanceStrokeWidths;\n\nin vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform bool extruded;\nuniform bool stroked;\nuniform bool isStroke;\nuniform float coverage;\nuniform float elevationScale;\nuniform float edgeDistance;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int radiusUnits;\nuniform int widthUnits;\n\n// Result\nout vec4 vColor;\n#ifdef FLAT_SHADING\nout vec4 position_commonspace;\n#endif\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  vec4 color = isStroke ? instanceLineColors : instanceFillColors;\n  // rotate primitive position and normal\n  mat2 rotationMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n\n  // calculate elevation, if 3d not enabled set to 0\n  // cylindar gemoetry height are between -1.0 to 1.0, transform it to between 0, 1\n  float elevation = 0.0;\n  // calculate stroke offset\n  float strokeOffsetRatio = 1.0;\n\n  if (extruded) {\n    elevation = instanceElevations * (positions.z + 1.0) / 2.0 * elevationScale;\n  } else if (stroked) {\n    float widthPixels = clamp(\n      project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n      widthMinPixels, widthMaxPixels) / 2.0;\n    float halfOffset = project_pixel_size(widthPixels) / project_size(edgeDistance * coverage * radius);\n    if (isStroke) {\n      strokeOffsetRatio -= sign(positions.z) * halfOffset;\n    } else {\n      strokeOffsetRatio -= halfOffset;\n    }\n  }\n\n  // if alpha == 0.0 or z < 0.0, do not render element\n  float shouldRender = float(color.a > 0.0 && instanceElevations >= 0.0);\n  float dotRadius = radius * coverage * shouldRender;\n\n  geometry.pickingColor = instancePickingColors;\n\n  // project center of column\n  vec3 centroidPosition = vec3(instancePositions.xy, instancePositions.z + elevation);\n  vec3 centroidPosition64Low = instancePositions64Low;\n  vec2 offset = (rotationMatrix * positions.xy * strokeOffsetRatio + offset) * dotRadius;\n  if (radiusUnits == UNIT_METERS) {\n    offset = project_size(offset);\n  }\n  vec3 pos = vec3(offset, 0.);\n  DECKGL_FILTER_SIZE(pos, geometry);\n\n  gl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);\n  geometry.normal = project_normal(vec3(rotationMatrix * normals.xy, normals.z));\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Light calculations\n  if (extruded && !isStroke) {\n#ifdef FLAT_SHADING\n    position_commonspace = geometry.position;\n    vColor = vec4(color.rgb, color.a * opacity);\n#else\n    vec3 lightColor = lighting_getLightColor(color.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n    vColor = vec4(lightColor, color.a * opacity);\n#endif\n  } else {\n    vColor = vec4(color.rgb, color.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME column-layer-fragment-shader\n\nprecision highp float;\n\nuniform vec3 project_uCameraPosition;\nuniform bool extruded;\nuniform bool isStroke;\n\nout vec4 fragColor;\n\nin vec4 vColor;\n#ifdef FLAT_SHADING\nin vec4 position_commonspace;\n#endif\n\nvoid main(void) {\n  fragColor = vColor;\n#ifdef FLAT_SHADING\n  if (extruded && !isStroke && !picking_uActive) {\n    vec3 normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n    fragColor.rgb = lighting_getLightColor(vColor.rgb, project_uCameraPosition, position_commonspace.xyz, normal);\n  }\n#endif\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",defines:r,transpileToGLSL100:t,modules:[A.Z,i?f.s:f.N,h.Z]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instanceFillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getFillColor",defaultValue:B},instanceLineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getLineColor",defaultValue:B},instanceStrokeWidths:{size:1,accessor:"getLineWidth",transition:!0}})}},{key:"updateState",value:function(e){(0,a.Z)((0,s.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps,i=e.changeFlags.extensionsChanged||t.flatShading!==r.flatShading;if(i){var o,u=this.context.gl;null===(o=this.state.model)||void 0===o||o.delete(),this.state.model=this._getModel(u),this.getAttributeManager().invalidateAll()}(i||t.diskResolution!==r.diskResolution||t.vertices!==r.vertices||(t.extruded||t.stroked)!==(r.extruded||r.stroked))&&this._updateGeometry(t)}},{key:"getGeometry",value:function(e,t,n){var r=new C({radius:1,height:n?2:0,vertices:t,nradial:e}),i=0;if(t)for(var o=0;o<e;o++){var a=t[o];i+=Math.sqrt(a[0]*a[0]+a[1]*a[1])/e}else i=1;return this.setState({edgeDistance:Math.cos(Math.PI/e)*i}),r}},{key:"_getModel",value:function(e){return new m.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,isInstanced:!0}))}},{key:"_updateGeometry",value:function(e){var t=e.diskResolution,n=e.vertices,r=e.extruded,i=e.stroked,o=this.getGeometry(t,n,r||i);this.setState({fillVertexCount:o.attributes.POSITION.value.length/3,wireframeVertexCount:o.indices.value.length}),this.state.model.setProps({geometry:o})}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.lineWidthUnits,i=n.lineWidthScale,o=n.lineWidthMinPixels,a=n.lineWidthMaxPixels,s=n.radiusUnits,u=n.elevationScale,l=n.extruded,c=n.filled,A=n.stroked,f=n.wireframe,h=n.offset,d=n.coverage,g=n.radius,v=n.angle,y=this.state,m=y.model,b=y.fillVertexCount,_=y.wireframeVertexCount,w=y.edgeDistance;m.setUniforms(t).setUniforms({radius:g,angle:v/180*Math.PI,offset:h,extruded:l,stroked:A,coverage:d,elevationScale:u,edgeDistance:w,radiusUnits:p.iI[s],widthUnits:p.iI[r],widthScale:i,widthMinPixels:o,widthMaxPixels:a}),l&&f&&(m.setProps({isIndexed:!0}),m.setVertexCount(_).setDrawMode(1).setUniforms({isStroke:!0}).draw()),c&&(m.setProps({isIndexed:!1}),m.setVertexCount(b).setDrawMode(5).setUniforms({isStroke:!1}).draw()),!l&&A&&(m.setProps({isIndexed:!1}),m.setVertexCount(2*b/3).setDrawMode(5).setUniforms({isStroke:!0}).draw())}}]),n}(d.Z);(0,c.Z)(S,"layerName","ColumnLayer"),(0,c.Z)(S,"defaultProps",E)},3769:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(8810),u=n(3876),l=n(3924),c=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"getGeometry",value:function(e){return new u.Z}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.elevationScale,i=n.extruded,o=n.offset,a=n.coverage,s=n.cellSize,u=n.angle,c=n.radiusUnits;this.state.model.setUniforms(t).setUniforms({radius:s/2,radiusUnits:l.iI[c],angle:u,offset:o,extruded:i,coverage:a,elevationScale:r,edgeDistance:1,isWireframe:!1}).draw()}}]),n}(n(194).Z);(0,s.Z)(c,"layerName","GridCellLayer"),(0,s.Z)(c,"defaultProps",{cellSize:{type:"number",min:0,value:1e3},offset:{type:"array",value:[1,1]}})},414:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r=n(4925),i=n(7762),o=n(5671),a=n(3144),s=n(1752),u=n(1120),l=n(136),c=n(7277),A=n(1413),f=n(8810),h=n(155),p=n(5149);function d(e,t){if(!e)return null;var n="startIndices"in e?e.startIndices[t]:t,r=e.featureIds.value[n];return-1!==n?function(e,t,n){var r={properties:(0,A.Z)({},e.properties[t])};for(var i in e.numericProps)r.properties[i]=e.numericProps[i].value[n];return r}(e,r,n):null}var g=n(5052),v=n(5391),y=n(7252),m=n(4078),b=n(2674),_={circle:{type:v.Z,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:g.Z,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:y.Z,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},w={type:m.Z,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},x={type:b.Z,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function C(e){var t=e.type,n=e.props,r={};for(var i in n)r[i]=t.defaultProps[n[i]];return r}function B(e,t){var n=e.props,r=n.transitions,i=n.updateTriggers,o={updateTriggers:{},transitions:r&&{getPosition:r.geometry}};for(var a in t){var s=t[a],u=e.props[a];a.startsWith("get")&&(u=e.getSubLayerAccessor(u),o.updateTriggers[s]=i[a],r&&(o.transitions[s]=r[a])),o[s]=u}return o}var E=n(3452);function S(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},i=n.startRow,o=void 0===i?0:i,a=n.endRow,s=void 0===a?e.length:a,u=o;u<s;u++){var l=e[u];E.Z.assert(l&&l.geometry,"GeoJSON does not have geometry");var c=l.geometry;if("GeometryCollection"===c.type){E.Z.assert(Array.isArray(c.geometries),"GeoJSON does not have geometries array");for(var A=c.geometries,f=0;f<A.length;f++){var h=A[f];k(h,r,t,l,u)}}else k(c,r,t,l,u)}return r}function k(e,t,n,r,i){var o=e.type,a=e.coordinates,s=t.pointFeatures,u=t.lineFeatures,l=t.polygonFeatures,c=t.polygonOutlineFeatures;if(function(e,t){var n=O[e];E.Z.assert(n,"Unknown GeoJSON type ".concat(e));for(;t&&--n>0;)t=t[0];return t&&Number.isFinite(t[0])}(o,a))switch(o){case"Point":s.push(n({geometry:e},r,i));break;case"MultiPoint":a.forEach((function(e){s.push(n({geometry:{type:"Point",coordinates:e}},r,i))}));break;case"LineString":u.push(n({geometry:e},r,i));break;case"MultiLineString":a.forEach((function(e){u.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}));break;case"Polygon":l.push(n({geometry:e},r,i)),a.forEach((function(e){c.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}));break;case"MultiPolygon":a.forEach((function(e){l.push(n({geometry:{type:"Polygon",coordinates:e}},r,i)),e.forEach((function(e){c.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}))}))}else E.Z.warn("".concat(o," coordinates are malformed"))()}var O={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function T(e){return e.geometry.coordinates}function P(e,t){var n={points:{},lines:{},polygons:{},polygonsOutline:{}},r=e.points,i=e.lines,o=e.polygons,a=function(e,t){var n={points:null,lines:null,polygons:null};for(var r in n){var i=e[r].globalFeatureIds.value;n[r]=new Uint8ClampedArray(3*i.length);for(var o=[],a=0;a<i.length;a++)t(i[a],o),n[r][3*a+0]=o[0],n[r][3*a+1]=o[1],n[r][3*a+2]=o[2]}return n}(e,t);return n.points.data={length:r.positions.value.length/r.positions.size,attributes:(0,A.Z)((0,A.Z)({},r.attributes),{},{getPosition:r.positions,instancePickingColors:{size:3,value:a.points}}),properties:r.properties,numericProps:r.numericProps,featureIds:r.featureIds},n.lines.data={length:i.pathIndices.value.length-1,startIndices:i.pathIndices.value,attributes:(0,A.Z)((0,A.Z)({},i.attributes),{},{getPath:i.positions,instancePickingColors:{size:3,value:a.lines}}),properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},n.lines._pathType="open",n.polygons.data={length:o.polygonIndices.value.length-1,startIndices:o.polygonIndices.value,attributes:(0,A.Z)((0,A.Z)({},o.attributes),{},{getPolygon:o.positions,pickingColors:{size:3,value:a.polygons}}),properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},n.polygons._normalize=!1,o.triangles&&(n.polygons.data.attributes.indices=o.triangles.value),n.polygonsOutline.data={length:o.primitivePolygonIndices.value.length-1,startIndices:o.primitivePolygonIndices.value,attributes:(0,A.Z)((0,A.Z)({},o.attributes),{},{getPath:o.positions,instancePickingColors:{size:3,value:a.polygons}}),properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},n.polygonsOutline._pathType="open",n}var M=["instancePickingColors"],F=["points","linestrings","polygons"],I=(0,A.Z)((0,A.Z)((0,A.Z)((0,A.Z)((0,A.Z)((0,A.Z)({},C(_.circle)),C(_.icon)),C(_.text)),C(w)),C(x)),{},{stroked:!0,filled:!0,extruded:!1,wireframe:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:function(e){return e.properties.icon}},getText:{type:"accessor",value:function(e){return e.properties.text}},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}}),L=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"initializeState",value:function(){this.state={layerProps:{},features:{}}}},{key:"updateState",value:function(e){var t=e.props,n=e.changeFlags;if(n.dataChanged){var r=this.props.data,i=r&&"points"in r&&"polygons"in r&&"lines"in r;this.setState({binary:i}),i?this._updateStateBinary({props:t,changeFlags:n}):this._updateStateJSON({props:t,changeFlags:n})}}},{key:"_updateStateBinary",value:function(e){var t=e.props,n=(e.changeFlags,P(t.data,this.encodePickingColor));this.setState({layerProps:n})}},{key:"_updateStateJSON",value:function(e){var t=e.props,n=e.changeFlags,r=function(e){if(Array.isArray(e))return e;switch(E.Z.assert(e.type,"GeoJSON does not have type"),e.type){case"Feature":return[e];case"FeatureCollection":return E.Z.assert(Array.isArray(e.features),"GeoJSON does not have features array"),e.features;default:return[{geometry:e}]}}(t.data),o=this.getSubLayerRow.bind(this),a={},s={};if(Array.isArray(n.dataChanged)){var u=this.state.features;for(var l in u)a[l]=u[l].slice(),s[l]=[];var c,A=(0,i.Z)(n.dataChanged);try{for(A.s();!(c=A.n()).done;){var f=c.value,h=S(r,o,f);for(var d in u)s[d].push((0,p.b)({data:a[d],getIndex:function(e){return e.__source.index},dataRange:f,replace:h[d]}))}}catch(v){A.e(v)}finally{A.f()}}else a=S(r,o);var g=function(e,t){var n={points:{},lines:{},polygons:{},polygonsOutline:{}},r=e.pointFeatures,i=e.lineFeatures,o=e.polygonFeatures,a=e.polygonOutlineFeatures;return n.points.data=r,n.points._dataDiff=t.pointFeatures&&function(){return t.pointFeatures},n.points.getPosition=T,n.lines.data=i,n.lines._dataDiff=t.lineFeatures&&function(){return t.lineFeatures},n.lines.getPath=T,n.polygons.data=o,n.polygons._dataDiff=t.polygonFeatures&&function(){return t.polygonFeatures},n.polygons.getPolygon=T,n.polygonsOutline.data=a,n.polygonsOutline._dataDiff=t.polygonOutlineFeatures&&function(){return t.polygonOutlineFeatures},n.polygonsOutline.getPath=T,n}(a,s);this.setState({features:a,featuresDiff:s,layerProps:g})}},{key:"getPickingInfo",value:function(e){var t=this,r=(0,s.Z)((0,u.Z)(n.prototype),"getPickingInfo",this).call(this,e),i=r.index,o=r.sourceLayer;return r.featureType=F.find((function(e){return o.id.startsWith("".concat(t.id,"-").concat(e,"-"))})),i>=0&&o.id.startsWith("".concat(this.id,"-points-text"))&&this.state.binary&&(r.index=this.props.data.points.globalFeatureIds.value[i]),r}},{key:"_updateAutoHighlight",value:function(e){var t,n="".concat(this.id,"-points-"),r="points"===e.featureType,o=(0,i.Z)(this.getSubLayers());try{for(o.s();!(t=o.n()).done;){var a=t.value;a.id.startsWith(n)===r&&a.updateAutoHighlight(e)}}catch(s){o.e(s)}finally{o.f()}}},{key:"_renderPolygonLayer",value:function(){var e=this.props,t=e.extruded,n=e.wireframe,r=this.state.layerProps,i="polygons-fill",o=this.shouldRenderSubLayer(i,r.polygons.data)&&this.getSubLayerClass(i,x.type);if(o){var a=B(this,x.props),s=t&&n;return s||delete a.getLineColor,a.updateTriggers.lineColors=s,new o(a,this.getSubLayerProps({id:i,updateTriggers:a.updateTriggers}),r.polygons)}return null}},{key:"_renderLineLayers",value:function(){var e=this.props,t=e.extruded,n=e.stroked,r=this.state.layerProps,i="polygons-stroke",o="linestrings",a=!t&&n&&this.shouldRenderSubLayer(i,r.polygonsOutline.data)&&this.getSubLayerClass(i,w.type),s=this.shouldRenderSubLayer(o,r.lines.data)&&this.getSubLayerClass(o,w.type);if(a||s){var u=B(this,w.props);return[a&&new a(u,this.getSubLayerProps({id:i,updateTriggers:u.updateTriggers}),r.polygonsOutline),s&&new s(u,this.getSubLayerProps({id:o,updateTriggers:u.updateTriggers}),r.lines)]}return null}},{key:"_renderPointLayers",value:function(){var e=this.props.pointType,t=this.state,n=t.layerProps,o=t.binary,a=this.props.highlightedObjectIndex;!o&&Number.isFinite(a)&&(a=n.points.data.findIndex((function(e){return e.__source.index===a})));var s,u=new Set(e.split("+")),l=[],c=(0,i.Z)(u);try{for(c.s();!(s=c.n()).done;){var f=s.value,h="points-".concat(f),p=_[f],d=p&&this.shouldRenderSubLayer(h,n.points.data)&&this.getSubLayerClass(h,p.type);if(d){var g=B(this,p.props),v=n.points;if("text"===f&&o){var y=v.data.attributes,m=(y.instancePickingColors,(0,r.Z)(y,M));v=(0,A.Z)((0,A.Z)({},v),{},{data:(0,A.Z)((0,A.Z)({},v.data),{},{attributes:m})})}l.push(new d(g,this.getSubLayerProps({id:h,updateTriggers:g.updateTriggers,highlightedObjectIndex:a}),v))}}}catch(b){c.e(b)}finally{c.f()}return l}},{key:"renderLayers",value:function(){var e=this.props.extruded,t=this._renderPolygonLayer();return[!e&&t,this._renderLineLayers(),this._renderPointLayers(),e&&t]}},{key:"getSubLayerAccessor",value:function(e){return this.state.binary&&"function"===typeof e?function(t,n){var r=d(n.data,n.index);return e(r,n)}:(0,s.Z)((0,u.Z)(n.prototype),"getSubLayerAccessor",this).call(this,e)}}]),n}(h.Z);(0,f.Z)(L,"layerName","GeoJsonLayer"),(0,f.Z)(L,"defaultProps",I)},5052:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r,i=n(1413),o=n(5671),a=n(3144),s=n(7326),u=n(1752),l=n(1120),c=n(136),A=n(7277),f=n(8810),h=n(9446),p=n(251),d=n(3924),g=n(3452),v=n(5546),y=n(739),m=n(1509),b=n(7762),_=n(4942),w=n(3978),x=n(5802),C=n(984),B=n(9716),E=n(3626),S=function(){},k=(r={},(0,_.Z)(r,10241,9987),(0,_.Z)(r,10240,9729),(0,_.Z)(r,10242,33071),(0,_.Z)(r,10243,33071),r);function O(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function T(e){return e&&(e.id||e.url)}function P(e,t,n){for(var r=0;r<t.length;r++){var o=t[r],a=o.icon,s=o.xOffset;e[T(a)]=(0,i.Z)((0,i.Z)({},a),{},{x:s,y:n})}}var M=function(){function e(t,n){var r=n.onUpdate,i=void 0===r?S:r,a=n.onError,s=void 0===a?S:a;(0,o.Z)(this,e),(0,f.Z)(this,"gl",void 0),(0,f.Z)(this,"onUpdate",void 0),(0,f.Z)(this,"onError",void 0),(0,f.Z)(this,"_loadOptions",null),(0,f.Z)(this,"_texture",null),(0,f.Z)(this,"_externalTexture",null),(0,f.Z)(this,"_mapping",{}),(0,f.Z)(this,"_textureParameters",null),(0,f.Z)(this,"_pendingCount",0),(0,f.Z)(this,"_autoPacking",!1),(0,f.Z)(this,"_xOffset",0),(0,f.Z)(this,"_yOffset",0),(0,f.Z)(this,"_rowHeight",0),(0,f.Z)(this,"_buffer",4),(0,f.Z)(this,"_canvasWidth",1024),(0,f.Z)(this,"_canvasHeight",0),(0,f.Z)(this,"_canvas",null),this.gl=t,this.onUpdate=i,this.onError=s}return(0,a.Z)(e,[{key:"finalize",value:function(){var e;null===(e=this._texture)||void 0===e||e.delete()}},{key:"getTexture",value:function(){return this._texture||this._externalTexture}},{key:"getIconMapping",value:function(e){var t=this._autoPacking?T(e):e;return this._mapping[t]||{}}},{key:"setProps",value:function(e){var t,n=e.loadOptions,r=e.autoPacking,i=e.iconAtlas,o=e.iconMapping,a=e.textureParameters;(n&&(this._loadOptions=n),void 0!==r&&(this._autoPacking=r),o&&(this._mapping=o),i)&&(null===(t=this._texture)||void 0===t||t.delete(),this._texture=null,this._externalTexture=i);a&&(this._textureParameters=a)}},{key:"isLoaded",get:function(){return 0===this._pendingCount}},{key:"packIcons",value:function(e,t){if(this._autoPacking&&"undefined"!==typeof document){var n=Object.values(function(e,t,n){if(!e||!t)return null;n=n||{};var r,o={},a=(0,E.jB)(e),s=a.iterable,u=a.objectInfo,l=(0,b.Z)(s);try{for(l.s();!(r=l.n()).done;){var c=r.value;u.index++;var A=t(c,u),f=T(A);if(!A)throw new Error("Icon is missing.");if(!A.url)throw new Error("Icon url is missing.");o[f]||n[f]&&A.url===n[f].url||(o[f]=(0,i.Z)((0,i.Z)({},A),{},{source:c,sourceIndex:u.index}))}}catch(h){l.e(h)}finally{l.f()}return o}(e,t,this._mapping)||{});if(n.length>0){var r=function(e){for(var t=e.icons,n=e.buffer,r=e.mapping,i=void 0===r?{}:r,o=e.xOffset,a=void 0===o?0:o,s=e.yOffset,u=void 0===s?0:s,l=e.rowHeight,c=void 0===l?0:l,A=e.canvasWidth,f=[],h=0;h<t.length;h++){var p=t[h];if(!i[T(p)]){var d=p.height,g=p.width;a+g+n>A&&(P(i,f,u),a=0,u=c+u+n,c=0,f=[]),f.push({icon:p,xOffset:a}),a=a+g+n,c=Math.max(c,d)}}return f.length>0&&P(i,f,u),{mapping:i,rowHeight:c,xOffset:a,yOffset:u,canvasWidth:A,canvasHeight:O(c+u+n)}}({icons:n,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset}),o=r.mapping,a=r.xOffset,s=r.yOffset,u=r.rowHeight,l=r.canvasHeight;this._rowHeight=u,this._mapping=o,this._xOffset=a,this._yOffset=s,this._canvasHeight=l,this._texture||(this._texture=new w.Z(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||k})),this._texture.height!==this._canvasHeight&&(this._texture=function(e,t,n,r){var i=e.width,o=e.height,a=new w.Z(e.gl,{width:t,height:n,parameters:r});return(0,x.Lv)(e,a,{targetY:0,width:i,height:o}),e.delete(),a}(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||k)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(n)}}}},{key:"_loadIcons",value:function(e){var t,n=this,r=this._canvas.getContext("2d"),i=(0,b.Z)(e);try{var o=function(){var e=t.value;n._pendingCount++,(0,B.z)(e.url,C.S,n._loadOptions).then((function(t){var i=T(e),o=n._mapping[i],a=o.x,s=o.y,u=o.width,l=o.height,c=function(e,t,n,r){return n===t.width&&r===t.height?t:(e.canvas.height=r,e.canvas.width=n,e.clearRect(0,0,e.canvas.width,e.canvas.height),e.drawImage(t,0,0,t.width,t.height,0,0,n,r),e.canvas)}(r,t,u,l);n._texture.setSubImageData({data:c,x:a,y:s,width:u,height:l}),n._texture.generateMipmap(),n.onUpdate()})).catch((function(t){n.onError({url:e.url,source:e.source,sourceIndex:e.sourceIndex,loadOptions:n._loadOptions,error:t})})).finally((function(){n._pendingCount--}))};for(i.s();!(t=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}}]),e}(),F=[0,0,0,255],I={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:function(e){return e.position}},getIcon:{type:"accessor",value:function(e){return e.icon}},getColor:{type:"accessor",value:F},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}},L=function(e){(0,c.Z)(n,e);var t=(0,A.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,f.Z)((0,s.Z)(e),"state",void 0),e}return(0,a.Z)(n,[{key:"getShaders",value:function(){return(0,u.Z)((0,l.Z)(n.prototype),"getShaders",this).call(this,{vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  // convert size in meters to pixels, then scaled and clamp\n \n  // project meters to pixels and clamp to limits \n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n',fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[h.Z,p.Z]})}},{key:"initializeState",value:function(){this.state={iconManager:new M(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:F},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}},{key:"updateState",value:function(e){(0,u.Z)((0,l.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps,i=e.changeFlags,o=this.getAttributeManager(),a=t.iconAtlas,s=t.iconMapping,c=t.data,A=t.getIcon,f=t.textureParameters,h=this.state.iconManager,p=a||this.internalState.isAsyncPropLoading("iconAtlas");if(h.setProps({loadOptions:t.loadOptions,autoPacking:!p,iconAtlas:a,iconMapping:p?s:null,textureParameters:f}),p?r.iconMapping!==t.iconMapping&&o.invalidate("getIcon"):(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getIcon))&&h.packIcons(c,A),i.extensionsChanged){var d,g=this.context.gl;null===(d=this.state.model)||void 0===d||d.delete(),this.state.model=this._getModel(g),o.invalidateAll()}}},{key:"isLoaded",get:function(){return(0,u.Z)((0,l.Z)(n.prototype),"isLoaded",this)&&this.state.iconManager.isLoaded}},{key:"finalizeState",value:function(e){(0,u.Z)((0,l.Z)(n.prototype),"finalizeState",this).call(this,e),this.state.iconManager.finalize()}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.sizeScale,i=n.sizeMinPixels,o=n.sizeMaxPixels,a=n.sizeUnits,s=n.billboard,u=n.alphaCutoff,l=this.state.iconManager.getTexture();l&&this.state.model.setUniforms(t).setUniforms({iconsTexture:l,iconsTextureDim:[l.width,l.height],sizeUnits:d.iI[a],sizeScale:r,sizeMinPixels:i,sizeMaxPixels:o,billboard:s,alphaCutoff:u}).draw()}},{key:"_getModel",value:function(e){return new y.Z(e,(0,i.Z)((0,i.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new m.Z({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0}))}},{key:"_onUpdate",value:function(){this.setNeedsRedraw()}},{key:"_onError",value:function(e){var t,n=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;n?n(e):g.Z.error(e.error.message)()}},{key:"getInstanceOffset",value:function(e){var t=this.state.iconManager.getIconMapping(e),n=t.width,r=t.height,i=t.anchorX,o=void 0===i?n/2:i,a=t.anchorY;return[n/2-o,r/2-(void 0===a?r/2:a)]}},{key:"getInstanceColorMode",value:function(e){return this.state.iconManager.getIconMapping(e).mask?1:0}},{key:"getInstanceIconFrame",value:function(e){var t=this.state.iconManager.getIconMapping(e);return[t.x,t.y,t.width,t.height]}}]),n}(v.Z);(0,f.Z)(L,"defaultProps",I),(0,f.Z)(L,"layerName","IconLayer")},1996:function(e,t,n){"use strict";n.r(t),n.d(t,{ArcLayer:function(){return r.Z},BitmapLayer:function(){return i.Z},ColumnLayer:function(){return l.Z},GeoJsonLayer:function(){return h.Z},GridCellLayer:function(){return c.Z},IconLayer:function(){return o.Z},LineLayer:function(){return a.Z},PathLayer:function(){return A.Z},PointCloudLayer:function(){return s.Z},PolygonLayer:function(){return f.Z},ScatterplotLayer:function(){return u.Z},SolidPolygonLayer:function(){return d.Z},TextLayer:function(){return p.Z},_MultiIconLayer:function(){return g.Z},_TextBackgroundLayer:function(){return v.Z}});var r=n(8950),i=n(743),o=n(5052),a=n(3216),s=n(6157),u=n(5391),l=n(194),c=n(3769),A=n(4078),f=n(1926),h=n(414),p=n(7252),d=n(2674),g=n(2361),v=n(1031)},3216:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(1413),i=n(5671),o=n(3144),a=n(1752),s=n(1120),u=n(136),l=n(7277),c=n(8810),A=n(9446),f=n(251),h=n(3924),p=n(5546),d=n(739),g=n(1509),v={getSourcePosition:{type:"accessor",value:function(e){return e.sourcePosition}},getTargetPosition:{type:"accessor",value:function(e){return e.targetPosition}},getColor:{type:"accessor",value:[0,0,0,255]},getWidth:{type:"accessor",value:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}},y=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,a.Z)((0,s.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME line-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float useShortestPath;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nvec3 splitLine(vec3 a, vec3 b, float x) {\n  float t = (x - a.x) / (b.x - a.x);\n  return vec3(x, mix(a.yz, b.yz, t));\n}\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  vec3 source_world = instanceSourcePositions;\n  vec3 target_world = instanceTargetPositions;\n  vec3 source_world_64low = instanceSourcePositions64Low;\n  vec3 target_world_64low = instanceTargetPositions64Low;\n\n  if (useShortestPath > 0.5 || useShortestPath < -0.5) {\n    source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n    target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n    float deltaLng = target_world.x - source_world.x;\n\n    if (deltaLng * useShortestPath > 180.) {\n      source_world.x += 360. * useShortestPath;\n      source_world = splitLine(source_world, target_world, 180. * useShortestPath);\n      source_world_64low = vec3(0.0);\n    } else if (deltaLng * useShortestPath < -180.) {\n      target_world.x += 360. * useShortestPath;\n      target_world = splitLine(source_world, target_world, 180. * useShortestPath);\n      target_world_64low = vec3(0.0);\n    } else if (useShortestPath < 0.) {\n      // Line is not split, abort\n      gl_Position = vec4(0.);\n      return;\n    }\n  }\n\n  // Position\n  vec4 source_commonspace;\n  vec4 target_commonspace;\n  vec4 source = project_position_to_clipspace(source_world, source_world_64low, vec3(0.), source_commonspace);\n  vec4 target = project_position_to_clipspace(target_world, target_world_64low, vec3(0.), target_commonspace);\n  \n  // linear interpolation of source & target to pick right coord\n  float segmentIndex = positions.x;\n  vec4 p = mix(source, target, segmentIndex);\n  geometry.position = mix(source_commonspace, target_commonspace, segmentIndex);\n  uv = positions.xy;\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n\n  // Multiply out width and clamp to limits\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n\n  // extrude\n  vec3 offset = vec3(\n    getExtrusionOffset(target.xy - source.xy, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = p + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME line-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[A.Z,f.Z]})}},{key:"wrapLongitude",get:function(){return!1}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1}})}},{key:"updateState",value:function(e){if((0,a.Z)((0,s.Z)(n.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var t,r=this.context.gl;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.widthUnits,i=n.widthScale,o=n.widthMinPixels,a=n.widthMaxPixels,s=n.wrapLongitude;this.state.model.setUniforms(t).setUniforms({widthUnits:h.iI[r],widthScale:i,widthMinPixels:o,widthMaxPixels:a,useShortestPath:s?1:0}).draw(),s&&this.state.model.setUniforms({useShortestPath:-1}).draw()}},{key:"_getModel",value:function(e){return new d.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new g.Z({drawMode:5,attributes:{positions:new Float32Array([0,-1,0,0,1,0,1,-1,0,1,1,0])}}),isInstanced:!0}))}}]),n}(p.Z);(0,c.Z)(y,"layerName","LineLayer"),(0,c.Z)(y,"defaultProps",v)},4078:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(1413),i=n(5671),o=n(3144),a=n(7326),s=n(1752),u=n(1120),l=n(136),c=n(7277),A=n(8810),f=n(9446),h=n(251),p=n(3924),d=n(5546),g=n(739),v=n(1509),y=n(7762),m=n(1409),b=n(9113);var _=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){return(0,i.Z)(this,n),t.call(this,(0,r.Z)((0,r.Z)({},e),{},{attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}}))}return(0,o.Z)(n,[{key:"get",value:function(e){return this.attributes[e]}},{key:"getGeometryFromBuffer",value:function(e){return this.normalize?(0,s.Z)((0,u.Z)(n.prototype),"getGeometryFromBuffer",this).call(this,e):null}},{key:"normalizeGeometry",value:function(e){return this.normalize?function(e,t,n,r){var i;if(Array.isArray(e[0])){var o=e.length*t;i=new Array(o);for(var a=0;a<e.length;a++)for(var s=0;s<t;s++)i[a*t+s]=e[a][s]||0}else i=e;return n?(0,b.dj)(i,{size:t,gridResolution:n}):r?(0,b.ct)(i,{size:t}):i}(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}},{key:"getGeometrySize",value:function(e){if(w(e)){var t,n=0,r=(0,y.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.getGeometrySize(i)}}catch(a){r.e(a)}finally{r.f()}return n}var o=this.getPathLength(e);return o<2?0:this.isClosed(e)?o<3?0:o+2:o}},{key:"updateGeometryAttributes",value:function(e,t){if(0!==t.geometrySize)if(e&&w(e)){var n,r=(0,y.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.getGeometrySize(i);t.geometrySize=o,this.updateGeometryAttributes(i,t),t.vertexStart+=o}}catch(a){r.e(a)}finally{r.f()}}else this._updateSegmentTypes(e,t),this._updatePositions(e,t)}},{key:"_updateSegmentTypes",value:function(e,t){var n=this.attributes.segmentTypes,r=!!e&&this.isClosed(e),i=t.vertexStart,o=t.geometrySize;n.fill(0,i,i+o),r?(n[i]=4,n[i+o-2]=4):(n[i]+=1,n[i+o-2]+=2),n[i+o-1]=4}},{key:"_updatePositions",value:function(e,t){var n=this.attributes.positions;if(n&&e)for(var r=t.vertexStart,i=t.geometrySize,o=new Array(3),a=r,s=0;s<i;a++,s++)this.getPointOnPath(e,s,o),n[3*a]=o[0],n[3*a+1]=o[1],n[3*a+2]=o[2]}},{key:"getPathLength",value:function(e){return e.length/this.positionSize}},{key:"getPointOnPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.positionSize;t*r>=e.length&&(t+=1-e.length/r);var i=t*r;return n[0]=e[i],n[1]=e[i+1],n[2]=3===r&&e[i+2]||0,n}},{key:"isClosed",value:function(e){if(!this.normalize)return Boolean(this.opts.loop);var t=this.positionSize,n=e.length-t;return e[0]===e[n]&&e[1]===e[n+1]&&(2===t||e[2]===e[n+2])}}]),n}(m.Z);function w(e){return Array.isArray(e[0])}var x=[0,0,0,255],C={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:function(e){return e.path}},getColor:{type:"accessor",value:x},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},B={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},E=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,A.Z)((0,a.Z)(e),"state",void 0),e}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  // side of the segment - -1: left, 0: center, 1: right\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // direction of the segment\n  vec2 dir = isEnd ? dirA : dirB;\n  // direction of the extrusion\n  vec2 perp = isEnd ? perpA : perpB;\n  // length of the segment\n  float L = isEnd ? lenA : lenB;\n\n  // A = angle of the corner\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  // -1: right, 1: left\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  // trim if inside corner extends further than the line segment\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n\n  // special treatment for start cap and end cap\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\n    vJointType = capType;\n  } else {\n    vJointType = jointType;\n  }\n\n  // Generate variables for fragment shader\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return currPoint + offset;\n}\n\n// In clipspace extrusion, if a line extends behind the camera, clip it to avoid visual artifacts\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.pickingColor = instancePickingColors;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  geometry.worldPosition = currPosition;\n  vec2 widthPixels = vec2(clamp(\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  if (billboard) {\n    // Extrude in clipspace\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 pos = lineJoin(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    // Extrude in commonspace\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec4 pos = vec4(\n      lineJoin(prevPosition, currPosition, nextPosition, width.xy),\n      1.0);\n    geometry.position = pos;\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\n/*\n * vPathPosition represents the relative coordinates of the current fragment on the path segment.\n * vPathPosition.x - position along the width of the path, between [-1, 1]. 0 is the center line.\n * vPathPosition.y - position along the length of the path, between [0, L / width].\n */\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    // if joint is rounded, test distance from the corner\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    // trim miter\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[f.Z,h.Z]})}},{key:"wrapLongitude",get:function(){return!1}},{key:"initializeState",value:function(){var e=this;this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:B,accessor:"getPath",update:this.calculatePositions,noAlloc:true,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:true},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:B,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:B,defaultValue:x},instancePickingColors:{size:3,type:5121,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(t&&t.__source?t.__source.index:r,i)}}}),this.setState({pathTesselator:new _({fp64:this.use64bitPositions()})})}},{key:"updateState",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.changeFlags,i=this.getAttributeManager();if(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getPath)){var o=this.state.pathTesselator,a=t.data.attributes||{};o.updateGeometry({data:t.data,geometryBuffer:a.getPath,buffers:a,normalize:!t._pathType,loop:"loop"===t._pathType,getGeometry:t.getPath,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:r.dataChanged}),this.setState({numInstances:o.instanceCount,startIndices:o.vertexStarts}),r.dataChanged||i.invalidateAll()}if(r.extensionsChanged){var l,c=this.context.gl;null===(l=this.state.model)||void 0===l||l.delete(),this.state.model=this._getModel(c),i.invalidateAll()}}},{key:"getPickingInfo",value:function(e){var t=(0,s.Z)((0,u.Z)(n.prototype),"getPickingInfo",this).call(this,e),r=t.index,i=this.props.data;return i[0]&&i[0].__source&&(t.object=i.find((function(e){return e.__source.index===r}))),t}},{key:"disablePickingIndex",value:function(e){var t=this.props.data;if(t[0]&&t[0].__source)for(var n=0;n<t.length;n++)t[n].__source.index===e&&this._disablePickingIndex(n);else this._disablePickingIndex(e)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.jointRounded,i=n.capRounded,o=n.billboard,a=n.miterLimit,s=n.widthUnits,u=n.widthScale,l=n.widthMinPixels,c=n.widthMaxPixels;this.state.model.setUniforms(t).setUniforms({jointType:Number(r),capType:Number(i),billboard:o,widthUnits:p.iI[s],widthScale:u,miterLimit:a,widthMinPixels:l,widthMaxPixels:c}).draw()}},{key:"_getModel",value:function(e){return new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new v.Z({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0}))}},{key:"calculatePositions",value:function(e){var t=this.state.pathTesselator;e.startIndices=t.vertexStarts,e.value=t.get("positions")}},{key:"calculateSegmentTypes",value:function(e){var t=this.state.pathTesselator;e.startIndices=t.vertexStarts,e.value=t.get("segmentTypes")}}]),n}(d.Z);(0,A.Z)(E,"defaultProps",C),(0,A.Z)(E,"layerName","PathLayer")},6157:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(1413),i=n(5671),o=n(3144),a=n(1752),s=n(1120),u=n(136),l=n(7277),c=n(8810),A=n(9446),f=n(5600),h=n(251),p=n(3924),d=n(5546),g=n(739),v=n(1509),y=[0,0,0,255],m=[0,0,1],b={sizeUnits:"pixels",pointSize:{type:"number",min:0,value:10},getPosition:{type:"accessor",value:function(e){return e.position}},getNormal:{type:"accessor",value:m},getColor:{type:"accessor",value:y},material:!0,radiusPixels:{deprecatedFor:"pointSize"}};var _=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,a.Z)((0,s.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\nuniform int sizeUnits;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.normal = project_normal(instanceNormals);\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  // Find the center of the point and add the current vertex\n  vec3 offset = vec3(positions.xy * project_size_to_pixel(radiusPixels, sizeUnits), 0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);\n  gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply lighting\n  vec3 lightColor = lighting_getLightColor(instanceColors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(lightColor, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME point-cloud-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[A.Z,f.N,h.Z]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:m},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:y}})}},{key:"updateState",value:function(e){var t=e.changeFlags,r=e.props;if((0,a.Z)((0,s.Z)(n.prototype),"updateState",this).call(this,e),t.extensionsChanged){var i,o=this.context.gl;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(o),this.getAttributeManager().invalidateAll()}t.dataChanged&&function(e){var t=e.header,n=e.attributes;t&&n&&(e.length=t.vertexCount,n.POSITION&&(n.instancePositions=n.POSITION),n.NORMAL&&(n.instanceNormals=n.NORMAL),n.COLOR_0&&(n.instanceColors=n.COLOR_0))}(r.data)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.pointSize,i=n.sizeUnits;this.state.model.setUniforms(t).setUniforms({sizeUnits:p.iI[i],radiusPixels:r}).draw()}},{key:"_getModel",value:function(e){for(var t=[],n=0;n<3;n++){var i=n/3*Math.PI*2;t.push(2*Math.cos(i),2*Math.sin(i),0)}return new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new v.Z({drawMode:4,attributes:{positions:new Float32Array(t)}}),isInstanced:!0}))}}]),n}(d.Z);(0,c.Z)(_,"layerName","PointCloudLayer"),(0,c.Z)(_,"defaultProps",b)},1926:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(7762),i=n(5671),o=n(3144),a=n(136),s=n(7277),u=n(8810),l=n(3452),c=n(3626),A=n(155),f=n(2674),h=n(4078),p=n(4558),d=n(5149),g=[0,0,0,255],v={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:function(e){return e.polygon}},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:g},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0},y=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"initializeState",value:function(){this.state={paths:[]},this.props.getLineDashArray&&l.Z.removed("getLineDashArray","PathStyleExtension")()}},{key:"updateState",value:function(e){var t=this,n=e.changeFlags,r=n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPolygon);if(r&&Array.isArray(n.dataChanged)){var i=this.state.paths.slice(),o=n.dataChanged.map((function(e){return(0,d.b)({data:i,getIndex:function(e){return e.__source.index},dataRange:e,replace:t._getPaths(e)})}));this.setState({paths:i,pathsDiff:o})}else r&&this.setState({paths:this._getPaths(),pathsDiff:null})}},{key:"_getPaths",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,i=n.data,o=n.getPolygon,a=n.positionFormat,s=n._normalize,u=[],l="XY"===a?2:3,A=t.startRow,f=t.endRow,h=(0,c.jB)(i,A,f),d=h.iterable,g=h.objectInfo,v=(0,r.Z)(d);try{for(v.s();!(e=v.n()).done;){var y=e.value;g.index++;var m=o(y,g);s&&(m=p.Fv(m,l));var b=m,_=b.holeIndices,w=m.positions||m;if(_)for(var x=0;x<=_.length;x++){var C=w.slice(_[x-1]||0,_[x]||w.length);u.push(this.getSubLayerRow({path:C},y,g.index))}else u.push(this.getSubLayerRow({path:w},y,g.index))}}catch(B){v.e(B)}finally{v.f()}return u}},{key:"renderLayers",value:function(){var e=this.props,t=e.data,n=e._dataDiff,r=e.stroked,i=e.filled,o=e.extruded,a=e.wireframe,s=e._normalize,u=e._windingOrder,l=e.elevationScale,c=e.transitions,A=e.positionFormat,p=this.props,d=p.lineWidthUnits,v=p.lineWidthScale,y=p.lineWidthMinPixels,m=p.lineWidthMaxPixels,b=p.lineJointRounded,_=p.lineMiterLimit,w=p.lineDashJustified,x=this.props,C=x.getFillColor,B=x.getLineColor,E=x.getLineWidth,S=x.getLineDashArray,k=x.getElevation,O=x.getPolygon,T=x.updateTriggers,P=x.material,M=this.state,F=M.paths,I=M.pathsDiff,L=this.getSubLayerClass("fill",f.Z),R=this.getSubLayerClass("stroke",h.Z),D=this.shouldRenderSubLayer("fill",F)&&new L({_dataDiff:n,extruded:o,elevationScale:l,filled:i,wireframe:a,_normalize:s,_windingOrder:u,getElevation:k,getFillColor:C,getLineColor:o&&a?B:g,material:P,transitions:c},this.getSubLayerProps({id:"fill",updateTriggers:T&&{getPolygon:T.getPolygon,getElevation:T.getElevation,getFillColor:T.getFillColor,lineColors:o&&a,getLineColor:T.getLineColor}}),{data:t,positionFormat:A,getPolygon:O});return[!o&&D,!o&&r&&this.shouldRenderSubLayer("stroke",F)&&new R({_dataDiff:I&&function(){return I},widthUnits:d,widthScale:v,widthMinPixels:y,widthMaxPixels:m,jointRounded:b,miterLimit:_,dashJustified:w,_pathType:"loop",transitions:c&&{getWidth:c.getLineWidth,getColor:c.getLineColor,getPath:c.getPolygon},getColor:this.getSubLayerAccessor(B),getWidth:this.getSubLayerAccessor(E),getDashArray:this.getSubLayerAccessor(S)},this.getSubLayerProps({id:"stroke",updateTriggers:T&&{getWidth:T.getLineWidth,getColor:T.getLineColor,getDashArray:T.getLineDashArray}}),{data:F,positionFormat:A,getPath:function(e){return e.path}}),o&&D]}}]),n}(A.Z);(0,u.Z)(y,"layerName","PolygonLayer"),(0,u.Z)(y,"defaultProps",v)},5391:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(1413),i=n(5671),o=n(3144),a=n(1752),s=n(1120),u=n(136),l=n(7277),c=n(8810),A=n(9446),f=n(251),h=n(3924),p=n(5546),d=n(739),g=n(1509),v=[0,0,0,255],y={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:function(e){return e.position}},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:v},getLineColor:{type:"accessor",value:v},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}},m=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,a.Z)((0,s.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool antialiasing;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  // Multiply out radius and clamp to limits\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\n    radiusMinPixels, radiusMaxPixels\n  );\n  \n  // Multiply out line width and clamp to limits\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n\n  // Expand geometry to accomodate edge smoothing\n  float edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = edgePadding * positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  if (billboard) {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = edgePadding * positions * outerRadiusPixels;\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n  }\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\nuniform bool antialiasing;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = antialiasing ? \n    smoothedge(distToCenter, outerRadiusPixels) : \n    step(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = antialiasing ? \n      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\n      step(innerUnitRadius * outerRadiusPixels, distToCenter);\n\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[A.Z,f.Z]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(e){if((0,a.Z)((0,s.Z)(n.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var t,r=this.context.gl;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.radiusUnits,i=n.radiusScale,o=n.radiusMinPixels,a=n.radiusMaxPixels,s=n.stroked,u=n.filled,l=n.billboard,c=n.antialiasing,A=n.lineWidthUnits,f=n.lineWidthScale,p=n.lineWidthMinPixels,d=n.lineWidthMaxPixels;this.state.model.setUniforms(t).setUniforms({stroked:s?1:0,filled:u,billboard:l,antialiasing:c,radiusUnits:h.iI[r],radiusScale:i,radiusMinPixels:o,radiusMaxPixels:a,lineWidthUnits:h.iI[A],lineWidthScale:f,lineWidthMinPixels:p,lineWidthMaxPixels:d}).draw()}},{key:"_getModel",value:function(e){return new d.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new g.Z({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}}}),isInstanced:!0}))}}]),n}(p.Z);(0,c.Z)(m,"defaultProps",y),(0,c.Z)(m,"layerName","ScatterplotLayer")},4558:function(e,t,n){"use strict";n.d(t,{Fv:function(){return g},Gd:function(){return f},k8:function(){return A},mD:function(){return v}});var r=n(885),i=n(7762),o=n(4217),a=n.n(o),s=n(9113),u=s.wG.CLOCKWISE,l=s.wG.COUNTER_CLOCKWISE,c={isClosed:!0};function A(e){return"positions"in e?e.positions:e}function f(e){return"holeIndices"in e?e.holeIndices:null}function h(e,t,n,r){for(var i=0;i<t;i++)if(e[n+i]!==e[r-t+i])return!1;return!0}function p(e,t,n,r,i){for(var o=t,a=n.length,u=0;u<a;u++)for(var l=0;l<r;l++)e[o++]=n[u][l]||0;if(!function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}(n))for(var A=0;A<r;A++)e[o++]=n[0][A]||0;return c.start=t,c.end=o,c.size=r,(0,s.Ny)(e,i,c),o}function d(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,u=(o=o||n.length)-i;if(u<=0)return t;for(var l=t,A=0;A<u;A++)e[l++]=n[i+A];if(!h(n,r,i,o))for(var f=0;f<r;f++)e[l++]=n[i+f];return c.start=t,c.end=l,c.size=r,(0,s.Ny)(e,a,c),l}function g(e,t){!function(e){if(e=e&&e.positions||e,!Array.isArray(e)&&!ArrayBuffer.isView(e))throw new Error("invalid polygon")}(e);var n=[],o=[];if("positions"in e){var a=e,s=a.positions,c=a.holeIndices;if(c){for(var A=0,f=0;f<=c.length;f++)A=d(n,A,s,t,c[f-1],c[f],0===f?u:l),o.push(A);return o.pop(),{positions:n,holeIndices:o}}e=s}if(!function(e){return Array.isArray(e[0])}(e))return d(n,0,e,t,0,n.length,u),n;if(!function(e){return e.length>=1&&e[0].length>=2&&Number.isFinite(e[0][0])}(e)){var h,g=0,v=(0,i.Z)(e.entries());try{for(v.s();!(h=v.n()).done;){var y=(0,r.Z)(h.value,2),m=y[0];g=p(n,g,y[1],t,0===m?u:l),o.push(g)}}catch(b){v.e(b)}finally{v.f()}return o.pop(),{positions:n,holeIndices:o}}return p(n,0,e,t,u),n}function v(e,t,n){var r=f(e);r&&(r=r.map((function(e){return e/t})));var i=A(e);if(n){var o=i.length;i=i.slice();for(var s=[],u=0;u<o;u+=t){s[0]=i[u],s[1]=i[u+1];var l=n(s);i[u]=l[0],i[u+1]=l[1]}}return a()(i,r,t)}},2674:function(e,t,n){"use strict";n.d(t,{Z:function(){return F}});var r=n(1413),i=n(5671),o=n(3144),a=n(7326),s=n(1752),u=n(1120),l=n(136),c=n(7277),A=n(8810),f=n(9446),h=n(5600),p=n(251),d=n(3924),g=n(5546),v=n(7504),y=n(348),m=n(739),b=n(1509),_=n(7762),w=n(4558),x=n(1409),C=n(9113),B=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){(0,i.Z)(this,n);var o=e.fp64,a=e.IndexType,s=void 0===a?Uint32Array:a;return t.call(this,(0,r.Z)((0,r.Z)({},e),{},{attributes:{positions:{size:3,type:o?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:s,size:1}}}))}return(0,o.Z)(n,[{key:"get",value:function(e){var t=this.attributes;return"indices"===e?t.indices&&t.indices.subarray(0,this.vertexCount):t[e]}},{key:"updateGeometry",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"updateGeometry",this).call(this,e);var t=this.buffers.indices;if(t)this.vertexCount=(t.value||t).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}},{key:"normalizeGeometry",value:function(e){if(this.normalize){var t=w.Fv(e,this.positionSize);return this.opts.resolution?(0,C.WZ)(w.k8(t),w.Gd(t),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?(0,C.GU)(w.k8(t),w.Gd(t),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):t}return e}},{key:"getGeometrySize",value:function(e){if(E(e)){var t,n=0,r=(0,_.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.getGeometrySize(i)}}catch(o){r.e(o)}finally{r.f()}return n}return w.k8(e).length/this.positionSize}},{key:"getGeometryFromBuffer",value:function(e){return this.normalize||!this.buffers.indices?(0,s.Z)((0,u.Z)(n.prototype),"getGeometryFromBuffer",this).call(this,e):null}},{key:"updateGeometryAttributes",value:function(e,t){if(e&&E(e)){var n,r=(0,_.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.getGeometrySize(i);t.geometrySize=o,this.updateGeometryAttributes(i,t),t.vertexStart+=o,t.indexStart=this.indexStarts[t.geometryIndex+1]}}catch(a){r.e(a)}finally{r.f()}}else this._updateIndices(e,t),this._updatePositions(e,t),this._updateVertexValid(e,t)}},{key:"_updateIndices",value:function(e,t){var n=t.geometryIndex,r=t.vertexStart,i=t.indexStart,o=this.attributes,a=this.indexStarts,s=this.typedArrayManager,u=o.indices;if(u&&e){var l=i,c=w.mD(e,this.positionSize,this.opts.preproject);u=s.allocate(u,i+c.length,{copy:!0});for(var A=0;A<c.length;A++)u[l++]=c[A]+r;a[n+1]=i+c.length,o.indices=u}}},{key:"_updatePositions",value:function(e,t){var n=t.vertexStart,r=t.geometrySize,i=this.attributes.positions,o=this.positionSize;if(i&&e)for(var a=w.k8(e),s=n,u=0;u<r;s++,u++){var l=a[u*o],c=a[u*o+1],A=o>2?a[u*o+2]:0;i[3*s]=l,i[3*s+1]=c,i[3*s+2]=A}}},{key:"_updateVertexValid",value:function(e,t){var n=t.vertexStart,r=t.geometrySize,i=this.positionSize,o=this.attributes.vertexValid,a=e&&w.Gd(e);if(e&&e.edgeTypes?o.set(e.edgeTypes,n):o.fill(1,n,n+r),a)for(var s=0;s<a.length;s++)o[n+a[s]/i-1]=0;o[n+r-1]=0}}]),n}(x.Z);function E(e){return Array.isArray(e)&&e.length>0&&!Number.isFinite(e[0])}var S="\nattribute vec2 vertexPositions;\nattribute float vertexValid;\n\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nstruct PolygonProps {\n  vec4 fillColors;\n  vec4 lineColors;\n  vec3 positions;\n  vec3 nextPositions;\n  vec3 pickingColors;\n  vec3 positions64Low;\n  vec3 nextPositions64Low;\n  float elevations;\n};\n\nvec3 project_offset_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\n  }\n  return project_normal(vector);\n}\n\nvoid calculatePosition(PolygonProps props) {\n#ifdef IS_SIDE_VERTEX\n  if(vertexValid < 0.5){\n    gl_Position = vec4(0.);\n    return;\n  }\n#endif\n\n  vec3 pos;\n  vec3 pos64Low;\n  vec3 normal;\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\n\n  geometry.worldPosition = props.positions;\n  geometry.worldPositionAlt = props.nextPositions;\n  geometry.pickingColor = props.pickingColors;\n\n#ifdef IS_SIDE_VERTEX\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\n#else\n  pos = props.positions;\n  pos64Low = props.positions64Low;\n#endif\n\n  if (extruded) {\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\n  }\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  if (extruded) {\n  #ifdef IS_SIDE_VERTEX\n    normal = vec3(\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\n      0.0);\n    normal = project_offset_normal(normal);\n  #else\n    normal = project_normal(vec3(0.0, 0.0, 1.0));\n  #endif\n    geometry.normal = normal;\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\n    vColor = vec4(lightColor, colors.a * opacity);\n  } else {\n    vColor = vec4(colors.rgb, colors.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",k="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\n".concat(S,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = positions;\n  props.positions64Low = positions64Low;\n  props.elevations = elevations;\n  props.fillColors = fillColors;\n  props.lineColors = lineColors;\n  props.pickingColors = pickingColors;\n\n  calculatePosition(props);\n}\n"),O="#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\n\n\nattribute vec3 instancePositions;\nattribute vec3 nextPositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 nextPositions64Low;\nattribute float instanceElevations;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\n".concat(S,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  #if RING_WINDING_ORDER_CW == 1\n    props.positions = instancePositions;\n    props.positions64Low = instancePositions64Low;\n    props.nextPositions = nextPositions;\n    props.nextPositions64Low = nextPositions64Low;\n  #else\n    props.positions = nextPositions;\n    props.positions64Low = nextPositions64Low;\n    props.nextPositions = instancePositions;\n    props.nextPositions64Low = instancePositions64Low;\n  #endif\n  props.elevations = instanceElevations;\n  props.fillColors = instanceFillColors;\n  props.lineColors = instanceLineColors;\n  props.pickingColors = instancePickingColors;\n\n  calculatePosition(props);\n}\n"),T=[0,0,0,255],P={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:function(e){return e.polygon}},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:T},getLineColor:{type:"accessor",value:T},material:!0},M={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},F=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,A.Z)((0,a.Z)(e),"state",void 0),e}return(0,o.Z)(n,[{key:"getShaders",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"top"===e?k:O,fs:"#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[f.Z,h.N,p.Z]})}},{key:"wrapLongitude",get:function(){return!1}},{key:"initializeState",value:function(){var e=this,t=this.context,n=t.gl,r=t.viewport,i=this.props.coordinateSystem;r.isGeospatial&&i===d.Df.DEFAULT&&(i=d.Df.LNGLAT),this.setState({numInstances:0,polygonTesselator:new B({preproject:i===d.Df.LNGLAT&&r.projectFlat.bind(r),fp64:this.use64bitPositions(),IndexType:!n||(0,v.ag)(n,y.h.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});var o=this.getAttributeManager(),a=!0;o.remove(["instancePickingColors"]),o.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:a},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:M,accessor:"getPolygon",update:this.calculatePositions,noAlloc:a,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:a},elevations:{size:1,transition:M,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:M,accessor:"getFillColor",defaultValue:T,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:M,accessor:"getLineColor",defaultValue:T,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(t&&t.__source?t.__source.index:r,i)},shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}},{key:"getPickingInfo",value:function(e){var t=(0,s.Z)((0,u.Z)(n.prototype),"getPickingInfo",this).call(this,e),r=t.index,i=this.props.data;return i[0]&&i[0].__source&&(t.object=i.find((function(e){return e.__source.index===r}))),t}},{key:"disablePickingIndex",value:function(e){var t=this.props.data;if(t[0]&&t[0].__source)for(var n=0;n<t.length;n++)t[n].__source.index===e&&this._disablePickingIndex(n);else this._disablePickingIndex(e)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,i=n.extruded,o=n.filled,a=n.wireframe,s=n.elevationScale,u=this.state,l=u.topModel,c=u.sideModel,A=u.polygonTesselator,f=(0,r.Z)((0,r.Z)({},t),{},{extruded:Boolean(i),elevationScale:s});c&&(c.setInstanceCount(A.instanceCount-1),c.setUniforms(f),a&&(c.setDrawMode(3),c.setUniforms({isWireframe:!0}).draw()),o&&(c.setDrawMode(6),c.setUniforms({isWireframe:!1}).draw())),l&&(l.setVertexCount(A.vertexCount),l.setUniforms(f).draw())}},{key:"updateState",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e),this.updateGeometry(e);var t,r=e.props,i=e.oldProps,o=e.changeFlags,a=this.getAttributeManager();(o.extensionsChanged||r.filled!==i.filled||r.extruded!==i.extruded)&&(null===(t=this.state.models)||void 0===t||t.forEach((function(e){return e.delete()})),this.setState(this._getModels(this.context.gl)),a.invalidateAll())}},{key:"updateGeometry",value:function(e){var t=e.props,n=(e.oldProps,e.changeFlags);if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPolygon)){var r=this.state.polygonTesselator,i=t.data.attributes||{};r.updateGeometry({data:t.data,normalize:t._normalize,geometryBuffer:i.getPolygon,buffers:i,getGeometry:t.getPolygon,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:n.dataChanged}),this.setState({numInstances:r.instanceCount,startIndices:r.vertexStarts}),n.dataChanged||this.getAttributeManager().invalidateAll()}}},{key:"_getModels",value:function(e){var t,n,i=this.props,o=i.id,a=i.filled,s=i.extruded;if(a){var u=this.getShaders("top");u.defines.NON_INSTANCED_MODEL=1,t=new m.Z(e,(0,r.Z)((0,r.Z)({},u),{},{id:"".concat(o,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0}))}return s&&((n=new m.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders("side")),{},{id:"".concat(o,"-side"),geometry:new b.Z({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}))).userData.excludeAttributes={indices:!0}),{models:[n,t].filter(Boolean),topModel:t,sideModel:n}}},{key:"calculateIndices",value:function(e){var t=this.state.polygonTesselator;e.startIndices=t.indexStarts,e.value=t.get("indices")}},{key:"calculatePositions",value:function(e){var t=this.state.polygonTesselator;e.startIndices=t.vertexStarts,e.value=t.get("positions")}},{key:"calculateVertexValid",value:function(e){e.value=this.state.polygonTesselator.get("vertexValid")}}]),n}(g.Z);(0,A.Z)(F,"defaultProps",P),(0,A.Z)(F,"layerName","SolidPolygonLayer")},2361:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(1413),i=n(5671),o=n(3144),a=n(7326),s=n(1752),u=n(1120),l=n(136),c=n(7277),A=n(8810),f=n(3452),h=n(5052),p=[],d=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,A.Z)((0,a.Z)(e),"state",void 0),e}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,r.Z)((0,r.Z)({},(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this)),{},{fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float buffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n\n    // if enable sdf (signed distance fields)\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n\n    // Take the global opacity and the alpha from color into account for the alpha component\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"})}},{key:"initializeState",value:function(){var e=this;(0,s.Z)((0,u.Z)(n.prototype),"initializeState",this).call(this),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(r,i)}}})}},{key:"updateState",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps,i=t.outlineColor;i!==r.outlineColor&&((i=i.map((function(e){return e/255})))[3]=Number.isFinite(i[3])?i[3]:1,this.setState({outlineColor:i})),!t.sdf&&t.outlineWidth&&f.Z.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}},{key:"draw",value:function(e){var t=this.props,i=t.sdf,o=t.smoothing,a=t.outlineWidth,l=this.state.outlineColor;e.uniforms=(0,r.Z)((0,r.Z)({},e.uniforms),{},{buffer:.75,outlineBuffer:a?Math.max(o,.75*(1-a)):-1,gamma:o,sdf:Boolean(i),outlineColor:l}),(0,s.Z)((0,u.Z)(n.prototype),"draw",this).call(this,e)}},{key:"getInstanceOffset",value:function(e){var t=this;return e?Array.from(e).flatMap((function(e){return(0,s.Z)((0,u.Z)(n.prototype),"getInstanceOffset",t).call(t,e)})):p}},{key:"getInstanceColorMode",value:function(e){return 1}},{key:"getInstanceIconFrame",value:function(e){var t=this;return e?Array.from(e).flatMap((function(e){return(0,s.Z)((0,u.Z)(n.prototype),"getInstanceIconFrame",t).call(t,e)})):p}}]),n}(h.Z);(0,A.Z)(d,"defaultProps",{getIconOffsets:{type:"accessor",value:function(e){return e.offsets}},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),(0,A.Z)(d,"layerName","MultiIconLayer")},1031:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(1413),i=n(5671),o=n(3144),a=n(7326),s=n(1752),u=n(1120),l=n(136),c=n(7277),A=n(8810),f=n(9446),h=n(251),p=n(3924),d=n(5546),g=n(739),v=n(1509),y={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:function(e){return e.position}},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}},m=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,A.Z)((0,a.Z)(e),"state",void 0),e}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n\n  // convert size in meters to pixels, then scaled and clamp\n\n  // project meters to pixels and clamp to limits\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[f.Z,h.Z]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(e){if((0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var t,r=this.context.gl;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.billboard,i=n.sizeScale,o=n.sizeUnits,a=n.sizeMinPixels,s=n.sizeMaxPixels,u=n.getLineWidth,l=this.props.padding;l.length<4&&(l=[l[0],l[1],l[0],l[1]]),this.state.model.setUniforms(t).setUniforms({billboard:r,stroked:Boolean(u),padding:l,sizeUnits:p.iI[o],sizeScale:i,sizeMinPixels:a,sizeMaxPixels:s}).draw()}},{key:"_getModel",value:function(e){return new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new v.Z({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0}))}}]),n}(d.Z);(0,A.Z)(m,"defaultProps",y),(0,A.Z)(m,"layerName","TextBackgroundLayer")},7252:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(7762),i=n(1413),o=n(885),a=n(5671),s=n(3144),u=n(7326),l=n(136),c=n(7277),A=n(8810),f=n(3626),h=n(155),p=n(2361),d=n(7684),g=n.n(d),v=n(3452),y=[];function m(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function b(e,t,n,r){for(var i=0,o=t;o<n;o++){var a;i+=(null===(a=r[e[o]])||void 0===a?void 0:a.width)||0}return i}function _(e,t,n,r,i,o){for(var a=t,s=0,u=t;u<n;u++){var l=b(e,u,u+1,i);s+l>r&&(a<u&&o.push(u),a=u,s=0),s+=l}return s}function w(e,t,n,r,i,o){for(var a=t,s=t,u=t,l=0,c=t;c<n;c++)if(" "===e[c]?u=c+1:" "!==e[c+1]&&c+1!==n||(u=c+1),u>s){var A=b(e,s,u,i);l+A>r&&(a<s&&(o.push(s),a=s,l=0),A>r&&(A=_(e,s,u,r,i,o),a=o[o.length-1])),s=u,l+=A}return l}function x(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;void 0===o&&(o=e.length);var a=[];return"break-all"===t?_(e,i,o,n,r,a):w(e,i,o,n,r,a),a}function C(e,t,n,r,i,o){for(var a=0,s=0,u=t;u<n;u++){var l=e[u],c=r[l];c?(s||(s=c.height),i[u]=a+c.width/2,a+=c.width):(v.Z.warn("Missing character: ".concat(l," (").concat(l.codePointAt(0),")"))(),i[u]=a,a+=32)}o[0]=a,o[1]=s}function B(e,t,n,r,i){for(var o=Array.from(e),a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=("break-word"===n||"break-all"===n)&&isFinite(r)&&r>0,A=[0,0],f=[0,0],h=0,p=0,d=0,g=0;g<=a;g++){var v=o[g];if("\n"!==v&&g!==a||(d=g),d>p){for(var m=c?x(o,n,r,i,p,d):y,b=0;b<=m.length;b++){var _=0===b?p:m[b-1],w=b<m.length?m[b]:d;C(o,_,w,i,s,f);for(var B=_;B<w;B++)u[B]=h+f[1]/2,l[B]=f[0];h+=f[1]*t,A[0]=Math.max(A[0],f[0])}p=d}"\n"===v&&(s[p]=0,u[p]=0,l[p]=0,p++)}return A[1]=h,{x:s,y:u,rowWidth:l,size:A}}var E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;(0,a.Z)(this,e),(0,A.Z)(this,"limit",void 0),(0,A.Z)(this,"_cache",{}),(0,A.Z)(this,"_order",[]),this.limit=t}return(0,s.Z)(e,[{key:"get",value:function(e){var t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}},{key:"set",value:function(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}},{key:"delete",value:function(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}},{key:"_deleteOrder",value:function(e){var t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}},{key:"_appendOrder",value:function(e){this._order.push(e)}}]),e}();var S={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function(){for(var e=[],t=32;t<128;t++)e.push(String.fromCharCode(t));return e}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1},k=new E(3);function O(e,t){var n;n="string"===typeof t?new Set(Array.from(t)):new Set(t);var r=k.get(e);if(!r)return n;for(var i in r.mapping)n.has(i)&&n.delete(i);return n}function T(e,t){for(var n=0;n<e.length;n++)t.data[4*n+3]=e[n]}function P(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="#000",e.textBaseline="alphabetic",e.textAlign="left"}var M=function(){function e(){(0,a.Z)(this,e),(0,A.Z)(this,"props",(0,i.Z)({},S)),(0,A.Z)(this,"_key",void 0),(0,A.Z)(this,"_atlas",void 0)}return(0,s.Z)(e,[{key:"texture",get:function(){return this._atlas}},{key:"mapping",get:function(){return this._atlas&&this._atlas.mapping}},{key:"scale",get:function(){return 1.2}},{key:"setProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.props,e);var t=this._key;this._key=this._getKey();var n=O(this._key,this.props.characterSet),r=k.get(this._key);if(r&&0===n.size)this._key!==t&&(this._atlas=r);else{var i=this._generateFontAtlas(this._key,n,r);this._atlas=i,k.set(this._key,i)}}},{key:"_generateFontAtlas",value:function(e,t,n){var o=this.props,a=o.fontFamily,s=o.fontWeight,u=o.fontSize,l=o.buffer,c=o.sdf,A=o.radius,f=o.cutoff,h=n&&n.data;h||((h=document.createElement("canvas")).width=1024);var p=h.getContext("2d");P(p,a,u,s);var d=function(e){var t,n=e.characterSet,i=e.getFontWidth,o=e.fontHeight,a=e.buffer,s=e.maxCanvasWidth,u=e.mapping,l=void 0===u?{}:u,c=e.xOffset,A=void 0===c?0:c,f=e.yOffset,h=void 0===f?0:f,p=0,d=A,g=(0,r.Z)(n);try{for(g.s();!(t=g.n()).done;){var v=t.value;if(!l[v]){var y=i(v);d+y+2*a>s&&(d=0,p++),l[v]={x:d+a,y:h+p*(o+2*a)+a,width:y,height:o},d+=y+2*a}}}catch(_){g.e(_)}finally{g.f()}var b=o+2*a;return{mapping:l,xOffset:d,yOffset:h+p*b,canvasHeight:m(h+(p+1)*b)}}((0,i.Z)({getFontWidth:function(e){return p.measureText(e).width},fontHeight:1.2*u,buffer:l,characterSet:t,maxCanvasWidth:1024},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),v=d.mapping,y=d.canvasHeight,b=d.xOffset,_=d.yOffset;if(h.height!==y){var w=p.getImageData(0,0,h.width,h.height);h.height=y,p.putImageData(w,0,0)}if(P(p,a,u,s),c){var x,C=new(g())(u,l,A,f,a,s),B=p.getImageData(0,0,C.size,C.size),E=(0,r.Z)(t);try{for(E.s();!(x=E.n()).done;){var S=x.value;T(C.draw(S),B),p.putImageData(B,v[S].x-l,v[S].y+l)}}catch(F){E.e(F)}finally{E.f()}}else{var k,O=(0,r.Z)(t);try{for(O.s();!(k=O.n()).done;){var M=k.value;p.fillText(M,v[M].x,v[M].y+.9*u)}}catch(F){O.e(F)}finally{O.f()}}return{xOffset:b,yOffset:_,mapping:v,data:h,width:h.width,height:h.height}}},{key:"_getKey",value:function(){var e=this.props,t=e.fontFamily,n=e.fontWeight,r=e.fontSize,i=e.buffer,o=e.sdf,a=e.radius,s=e.cutoff;return o?"".concat(t," ").concat(n," ").concat(r," ").concat(i," ").concat(a," ").concat(s):"".concat(t," ").concat(n," ").concat(r," ").concat(i)}}]),e}(),F=n(1031),I={start:1,middle:0,end:-1},L={top:1,center:0,bottom:-1},R=[0,0,0,255],D={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:R},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:S.characterSet},fontFamily:S.fontFamily,fontWeight:S.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:R},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:function(e){return e.text}},getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:R},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}},Z=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,A.Z)((0,u.Z)(e),"state",void 0),(0,A.Z)((0,u.Z)(e),"getBoundingRect",(function(t,n){var r=e.state.fontAtlasManager.mapping,i=e.state.getText,a=e.props,s=a.wordBreak,u=a.maxWidth,l=a.lineHeight,c=a.getTextAnchor,A=a.getAlignmentBaseline,f=B(i(t,n)||"",l,s,u,r),h=(0,o.Z)(f.size,2),p=h[0],d=h[1];return[(I["function"===typeof c?c(t,n):c]-1)*p/2,(L["function"===typeof A?A(t,n):A]-1)*d/2,p,d]})),(0,A.Z)((0,u.Z)(e),"getIconOffsets",(function(t,n){for(var r=e.state.fontAtlasManager.mapping,i=e.state.getText,a=e.props,s=a.wordBreak,u=a.maxWidth,l=a.lineHeight,c=a.getTextAnchor,A=a.getAlignmentBaseline,f=B(i(t,n)||"",l,s,u,r),h=f.x,p=f.y,d=f.rowWidth,g=(0,o.Z)(f.size,2),v=g[0],y=g[1],m=I["function"===typeof c?c(t,n):c],b=L["function"===typeof A?A(t,n):A],_=h.length,w=new Array(2*_),x=0,C=0;C<_;C++){var E=(1-m)*(v-d[C])/2;w[x++]=(m-1)*v/2+E+h[C],w[x++]=(b-1)*y/2+p[C]}return w})),e}return(0,s.Z)(n,[{key:"initializeState",value:function(){this.state={styleVersion:0,fontAtlasManager:new M}}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||t.lineHeight!==n.lineHeight||t.wordBreak!==n.wordBreak||t.maxWidth!==n.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}},{key:"getPickingInfo",value:function(e){var t=e.info;return t.object=t.index>=0?this.props.data[t.index]:null,t}},{key:"_updateFontAtlas",value:function(){var e=this.props,t=e.fontSettings,n=e.fontFamily,r=e.fontWeight,o=this.state,a=o.fontAtlasManager,s=o.characterSet,u=(0,i.Z)((0,i.Z)({},t),{},{characterSet:s,fontFamily:n,fontWeight:r});if(!a.mapping)return a.setProps(u),!0;for(var l in u)if(u[l]!==a.props[l])return a.setProps(u),!0;return!1}},{key:"_updateText",value:function(){var e,t,n=this.props,o=n.data,a=n.characterSet,s=null===(e=o.attributes)||void 0===e?void 0:e.getText,u=this.props.getText,l=o.startIndices,c="auto"===a&&new Set;if(s&&l){var A=function(e){var t=e.value,n=e.length,i=e.stride,o=e.offset,a=e.startIndices,s=e.characterSet,u=t.BYTES_PER_ELEMENT,l=i?i/u:1,c=o?o/u:0,A=a[n]||Math.ceil((t.length-c)/l),f=s&&new Set,h=new Array(n),p=t;if(l>1||c>0){p=new(0,t.constructor)(A);for(var d=0;d<A;d++)p[d]=t[d*l+c]}for(var g=0;g<n;g++){var v=a[g],y=a[g+1]||A,m=p.subarray(v,y);h[g]=String.fromCodePoint.apply(null,m),f&&m.forEach(f.add,f)}if(f){var b,_=(0,r.Z)(f);try{for(_.s();!(b=_.n()).done;){var w=b.value;s.add(String.fromCodePoint(w))}}catch(x){_.e(x)}finally{_.f()}}return{texts:h,characterCount:A}}((0,i.Z)((0,i.Z)({},ArrayBuffer.isView(s)?{value:s}:s),{},{length:o.length,startIndices:l,characterSet:c})),h=A.texts;t=A.characterCount,u=function(e,t){var n=t.index;return h[n]}}else{var p=(0,f.jB)(o),d=p.iterable,g=p.objectInfo;l=[0],t=0;var v,y=(0,r.Z)(d);try{for(y.s();!(v=y.n()).done;){var m=v.value;g.index++;var b=Array.from(u(m,g)||"");c&&b.forEach(c.add,c),t+=b.length,l.push(t)}}catch(_){y.e(_)}finally{y.f()}}this.setState({getText:u,startIndices:l,numInstances:t,characterSet:c||a})}},{key:"renderLayers",value:function(){var e=this.state,t=e.startIndices,n=e.numInstances,r=e.getText,i=e.fontAtlasManager,o=i.scale,a=i.texture,s=i.mapping,u=e.styleVersion,l=this.props,c=l.data,A=l._dataDiff,f=l.getPosition,h=l.getColor,d=l.getSize,g=l.getAngle,v=l.getPixelOffset,y=l.getBackgroundColor,m=l.getBorderColor,b=l.getBorderWidth,_=l.backgroundPadding,w=l.background,x=l.billboard,C=l.fontSettings,B=l.outlineWidth,E=l.outlineColor,k=l.sizeScale,O=l.sizeUnits,T=l.sizeMinPixels,P=l.sizeMaxPixels,M=l.transitions,I=l.updateTriggers,L=this.getSubLayerClass("characters",p.Z),R=this.getSubLayerClass("background",F.Z);return[w&&new R({getFillColor:y,getLineColor:m,getLineWidth:b,padding:_,getPosition:f,getSize:d,getAngle:g,getPixelOffset:v,billboard:x,sizeScale:k/this.state.fontAtlasManager.props.fontSize,sizeUnits:O,sizeMinPixels:T,sizeMaxPixels:P,transitions:M&&{getPosition:M.getPosition,getAngle:M.getAngle,getSize:M.getSize,getFillColor:M.getBackgroundColor,getLineColor:M.getBorderColor,getLineWidth:M.getBorderWidth,getPixelOffset:M.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:I.getPosition,getAngle:I.getAngle,getSize:I.getSize,getFillColor:I.getBackgroundColor,getLineColor:I.getBorderColor,getLineWidth:I.getBorderWidth,getPixelOffset:I.getPixelOffset,getBoundingRect:{getText:I.getText,getTextAnchor:I.getTextAnchor,getAlignmentBaseline:I.getAlignmentBaseline,styleVersion:u}}}),{data:c.attributes&&c.attributes.background?{length:c.length,attributes:c.attributes.background}:c,_dataDiff:A,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new L({sdf:C.sdf,smoothing:Number.isFinite(C.smoothing)?C.smoothing:S.smoothing,outlineWidth:B,outlineColor:E,iconAtlas:a,iconMapping:s,getPosition:f,getColor:h,getSize:d,getAngle:g,getPixelOffset:v,billboard:x,sizeScale:k*o,sizeUnits:O,sizeMinPixels:T*o,sizeMaxPixels:P*o,transitions:M&&{getPosition:M.getPosition,getAngle:M.getAngle,getColor:M.getColor,getSize:M.getSize,getPixelOffset:M.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:I.getText,getPosition:I.getPosition,getAngle:I.getAngle,getColor:I.getColor,getSize:I.getSize,getPixelOffset:I.getPixelOffset,getIconOffsets:{getText:I.getText,getTextAnchor:I.getTextAnchor,getAlignmentBaseline:I.getAlignmentBaseline,styleVersion:u}}}),{data:c,_dataDiff:A,startIndices:t,numInstances:n,getIconOffsets:this.getIconOffsets,getIcon:r})]}}],[{key:"fontAtlasCacheLimit",set:function(e){!function(e){v.Z.assert(Number.isFinite(e)&&e>=3,"Invalid cache limit"),k=new E(e)}(e)}}]),n}(h.Z);(0,A.Z)(Z,"defaultProps",D),(0,A.Z)(Z,"layerName","TextLayer")},5149:function(e,t,n){"use strict";function r(e){for(var t=e.data,n=e.getIndex,r=e.dataRange,i=e.replace,o=r.startRow,a=void 0===o?0:o,s=r.endRow,u=void 0===s?1/0:s,l=t.length,c=l,A=l,f=0;f<l;f++){var h=n(t[f]);if(c>f&&h>=a&&(c=f),h>=u){A=f;break}}for(var p=c,d=A-c!==i.length?t.slice(A):void 0,g=0;g<i.length;g++)t[p++]=i[g];if(d){for(var v=0;v<d.length;v++)t[p++]=d[v];t.length=p}return{startRow:c,endRow:c+i.length}}n.d(t,{b:function(){return r}})},8781:function(e,t,n){"use strict";n.d(t,{D0:function(){return u},Ew:function(){return l},Kn:function(){return o},Lj:function(){return c},Os:function(){return f},Ss:function(){return a},TW:function(){return s},zH:function(){return A}});var r=function(e){return"boolean"===typeof e},i=function(e){return"function"===typeof e},o=function(e){return null!==e&&"object"===typeof e},a=function(e){return o(e)&&e.constructor==={}.constructor},s=function(e){return e&&"function"===typeof e[Symbol.iterator]},u=function(e){return e&&"function"===typeof e[Symbol.asyncIterator]},l=function(e){return"undefined"!==typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json},c=function(e){return"undefined"!==typeof Blob&&e instanceof Blob},A=function(e){return e&&"object"===typeof e&&e.isBuffer},f=function(e){return function(e){return"undefined"!==typeof ReadableStream&&e instanceof ReadableStream||o(e)&&i(e.tee)&&i(e.cancel)&&i(e.getReader)}(e)||function(e){return o(e)&&i(e.read)&&i(e.pipe)&&r(e.readable)}(e)}},9716:function(e,t,n){"use strict";n.d(t,{z:function(){return Pe}});var r=n(4165),i=n(5861),o=n(8781),a=n(6808),s=n(9849),u=n(4332),l="3.2.9";function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;(0,u.h)(e,"no worker provided");var n=e.version;return!(!t||!n)}var A=n(935),f=n(7762),h=n(1413),p=n(5671),d=n(3144),g=n(8810),v=(0,d.Z)((function e(){(0,p.Z)(this,e)})),y=new Map;function m(e){(0,u.h)(e.source&&!e.url||!e.source&&e.url);var t=y.get(e.source||e.url);return t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return b((t=e,"try {\n  importScripts('".concat(t,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")));var t}(e.url),y.set(e.url,t)),e.source&&(t=b(e.source),y.set(e.source,t))),(0,u.h)(t),t}function b(e){var t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function _(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=n||new Set;if(e){if(w(e))r.add(e);else if(w(e.buffer))r.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"===typeof e)for(var i in e)_(e[i],t,r)}else;return void 0===n?Array.from(r):[]}function w(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!==typeof MessagePort&&e instanceof MessagePort||("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}var x=function(){},C=function(){function e(t){(0,p.Z)(this,e),(0,g.Z)(this,"name",void 0),(0,g.Z)(this,"source",void 0),(0,g.Z)(this,"url",void 0),(0,g.Z)(this,"terminated",!1),(0,g.Z)(this,"worker",void 0),(0,g.Z)(this,"onMessage",void 0),(0,g.Z)(this,"onError",void 0),(0,g.Z)(this,"_loadableURL","");var n=t.name,r=t.source,i=t.url;(0,u.h)(r||i),this.name=n,this.source=r,this.url=i,this.onMessage=x,this.onError=function(e){return console.log(e)},this.worker=A.jU?this._createBrowserWorker():this._createNodeWorker()}return(0,d.Z)(e,[{key:"destroy",value:function(){this.onMessage=x,this.onError=x,this.worker.terminate(),this.terminated=!0}},{key:"isRunning",get:function(){return Boolean(this.onMessage)}},{key:"postMessage",value:function(e,t){t=t||_(e),this.worker.postMessage(e,t)}},{key:"_getErrorFromErrorEvent",value:function(e){var t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}},{key:"_createBrowserWorker",value:function(){var e=this;this._loadableURL=m({source:this.source,url:this.url});var t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=function(t){t.data?e.onMessage(t.data):e.onError(new Error("No data received"))},t.onerror=function(t){e.onError(e._getErrorFromErrorEvent(t)),e.terminated=!0},t.onmessageerror=function(e){return console.error(e)},t}},{key:"_createNodeWorker",value:function(){var e,t=this;if(this.url){var n=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new v(n,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new v(this.source,{eval:!0})}return e.on("message",(function(e){t.onMessage(e)})),e.on("error",(function(e){t.onError(e)})),e.on("exit",(function(e){})),e}}],[{key:"isSupported",value:function(){return"undefined"!==typeof Worker&&A.jU||"undefined"!==typeof v&&!A.jU}}]),e}(),B=function(){function e(t,n){var r=this;(0,p.Z)(this,e),(0,g.Z)(this,"name",void 0),(0,g.Z)(this,"workerThread",void 0),(0,g.Z)(this,"isRunning",!0),(0,g.Z)(this,"result",void 0),(0,g.Z)(this,"_resolve",(function(){})),(0,g.Z)(this,"_reject",(function(){})),this.name=t,this.workerThread=n,this.result=new Promise((function(e,t){r._resolve=e,r._reject=t}))}return(0,d.Z)(e,[{key:"postMessage",value:function(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}},{key:"done",value:function(e){(0,u.h)(this.isRunning),this.isRunning=!1,this._resolve(e)}},{key:"error",value:function(e){(0,u.h)(this.isRunning),this.isRunning=!1,this._reject(e)}}]),e}(),E=function(){function e(t){(0,p.Z)(this,e),(0,g.Z)(this,"name","unnamed"),(0,g.Z)(this,"source",void 0),(0,g.Z)(this,"url",void 0),(0,g.Z)(this,"maxConcurrency",1),(0,g.Z)(this,"maxMobileConcurrency",1),(0,g.Z)(this,"onDebug",(function(){})),(0,g.Z)(this,"reuseWorkers",!0),(0,g.Z)(this,"props",{}),(0,g.Z)(this,"jobQueue",[]),(0,g.Z)(this,"idleQueue",[]),(0,g.Z)(this,"count",0),(0,g.Z)(this,"isDestroyed",!1),this.source=t.source,this.url=t.url,this.setProps(t)}return(0,d.Z)(e,[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"setProps",value:function(e){this.props=(0,h.Z)((0,h.Z)({},this.props),e),void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}},{key:"startJob",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,o,a=this,s=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:function(e,t,n){return e.done(n)},i=s.length>2&&void 0!==s[2]?s[2]:function(e,t){return e.error(t)},o=new Promise((function(e){return a.jobQueue.push({name:t,onMessage:n,onError:i,onStart:e}),a})),this._startQueuedJob(),e.next=6,o;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_startQueuedJob",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:if(!(n=this.jobQueue.shift())){e.next=18;break}return this.onDebug({message:"Starting job",name:n.name,workerThread:t,backlog:this.jobQueue.length}),i=new B(n.name,t),t.onMessage=function(e){return n.onMessage(i,e.type,e.payload)},t.onError=function(e){return n.onError(i,e)},n.onStart(i),e.prev=12,e.next=15,i.result;case 15:return e.prev=15,this.returnWorkerToQueue(t),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[12,,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"returnWorkerToQueue",value:function(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new C({name:e,source:this.source,url:this.url})}return null}},{key:"_getMaxConcurrency",value:function(){return A.tq?this.maxMobileConcurrency:this.maxConcurrency}}],[{key:"isSupported",value:function(){return C.isSupported()}}]),e}(),S={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:function(){}},k=function(){function e(t){(0,p.Z)(this,e),(0,g.Z)(this,"props",void 0),(0,g.Z)(this,"workerPools",new Map),this.props=(0,h.Z)({},S),this.setProps(t),this.workerPools=new Map}return(0,d.Z)(e,[{key:"destroy",value:function(){var e,t=(0,f.Z)(this.workerPools.values());try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this.workerPools=new Map}},{key:"setProps",value:function(e){this.props=(0,h.Z)((0,h.Z)({},this.props),e);var t,n=(0,f.Z)(this.workerPools.values());try{for(n.s();!(t=n.n()).done;){t.value.setProps(this._getWorkerPoolProps())}}catch(r){n.e(r)}finally{n.f()}}},{key:"getWorkerPool",value:function(e){var t=e.name,n=e.source,r=e.url,i=this.workerPools.get(t);return i||((i=new E({name:t,source:n,url:r})).setProps(this._getWorkerPoolProps()),this.workerPools.set(t,i)),i}},{key:"_getWorkerPoolProps",value:function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}],[{key:"isSupported",value:function(){return C.isSupported()}},{key:"getWorkerFarm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e._workerFarm=e._workerFarm||new e({}),e._workerFarm.setProps(t),e._workerFarm}}]),e}();(0,g.Z)(k,"_workerFarm",void 0);var O="latest";function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t[e.id]||{},r="".concat(e.id,"-worker.js"),i=n.workerUrl;if(i||"compression"!==e.id||(i=t.workerUrl),"test"===t._workerType&&(i="modules/".concat(e.module,"/dist/").concat(r)),!i){var o=e.version;"latest"===o&&(o=O);var a=o?"@".concat(o):"";i="https://unpkg.com/@loaders.gl/".concat(e.module).concat(a,"/dist/").concat(r)}return(0,u.h)(i),i}function P(e,t){return!!k.isSupported()&&(!!(A.jU||null!==t&&void 0!==t&&t._nodeWorkers)&&(e.worker&&(null===t||void 0===t?void 0:t.worker)))}function M(e,t,n,r,i){return F.apply(this,arguments)}function F(){return(F=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,o,a){var s,u,l,c,A,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.id,u=T(t,i),l=k.getWorkerFarm(i),c=l.getWorkerPool({name:s,url:u}),i=JSON.parse(JSON.stringify(i)),o=JSON.parse(JSON.stringify(o||{})),e.next=8,c.startJob("process-on-worker",I.bind(null,a));case 8:return(A=e.sent).postMessage("process",{input:n,options:i,context:o}),e.next=12,A.result;case 12:return f=e.sent,e.next=15,f.result;case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,n,r){return L.apply(this,arguments)}function L(){return(L=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,o){var a,s,u,l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=i,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:20;break;case 3:return n.done(o),e.abrupt("break",21);case 5:return n.error(new Error(o.error)),e.abrupt("break",21);case 7:return a=o.id,s=o.input,u=o.options,e.prev=8,e.next=11,t(s,u);case 11:l=e.sent,n.postMessage("done",{id:a,result:l}),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(8),c=e.t1 instanceof Error?e.t1.message:"unknown error",n.postMessage("error",{id:a,error:c});case 19:return e.abrupt("break",21);case 20:console.warn("parse-with-worker unknown message ".concat(i));case 21:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}var R=n(6296),D=n(2225);function Z(e){return U.apply(this,arguments)}function U(){return(U=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,o,a,s,u,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=!1,o=!1,e.prev=3,s=(0,R.Z)(t);case 5:return e.next=7,s.next();case 7:if(!(i=!(u=e.sent).done)){e.next=13;break}l=u.value,n.push(l);case 10:i=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),o=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!i||null==s.return){e.next=24;break}return e.next=24,s.return();case 24:if(e.prev=24,!o){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",D.JY.apply(void 0,n));case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})))).apply(this,arguments)}var j=(0,r.Z)().mark(N);function N(e,t){var n,i,o,a,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=(null===t||void 0===t?void 0:t.chunkSize)||262144,i=0,o=new TextEncoder;case 3:if(!(i<e.length)){r.next=11;break}return a=Math.min(e.length-i,n),s=e.slice(i,i+a),i+=a,r.next=9,o.encode(s);case 9:r.next=3;break;case 11:case"end":return r.stop()}}),j)}var z=(0,r.Z)().mark(H),Q=262144;function H(e){var t,n,i,o,a,s,u,l=arguments;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=l.length>1&&void 0!==l[1]?l[1]:{},n=t.chunkSize,i=void 0===n?Q:n,o=0;case 3:if(!(o<e.byteLength)){r.next=14;break}return a=Math.min(e.byteLength-o,i),s=new ArrayBuffer(a),u=new Uint8Array(e,o,a),new Uint8Array(s).set(u),o+=a,r.next=12,s;case 12:r.next=3;break;case 14:case"end":return r.stop()}}),z)}function V(e,t){this.v=e,this.k=t}function G(e){return new V(e,0)}function W(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,s=a instanceof V;Promise.resolve(s?a.v:a).then((function(n){if(s){var u="return"===t?"return":"next";if(!a.k||n.done)return r(u,n);n=e[u](n).value}i(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(u){i("throw",u)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function K(e){return function(){return new W(e.apply(this,arguments))}}W.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},W.prototype.next=function(e){return this._invoke("next",e)},W.prototype.throw=function(e){return this._invoke("throw",e)},W.prototype.return=function(e){return this._invoke("return",e)};var q=1048576;function X(){return(X=K((0,r.Z)().mark((function e(t,n){var i,o,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(null===n||void 0===n?void 0:n.chunkSize)||q,o=0;case 2:if(!(o<t.size)){e.next=12;break}return a=o+i,e.next=6,G(t.slice(o,a).arrayBuffer());case 6:return s=e.sent,o=a,e.next=10,s;case 10:e.next=2;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=n(9350);function J(e,t){return Y.jU?function(e,t){return $.apply(this,arguments)}(e,t):function(e,t){return ee.apply(this,arguments)}(e,t)}function $(){return($=K((0,r.Z)().mark((function e(t,n){var i,o,a,s,u,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.getReader(),e.prev=1;case 2:return a=o||i.read(),null!==n&&void 0!==n&&n._streamReadAhead&&(o=i.read()),e.next=7,G(a);case 7:if(s=e.sent,u=s.done,l=s.value,!u){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,(0,D.rJ)(l);case 14:e.next=2;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),i.releaseLock();case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}function ee(){return(ee=K((0,r.Z)().mark((function e(t,n){var i,o,a,s,u,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1,o=!1,e.prev=2,s=(0,R.Z)(t);case 4:return e.next=6,G(s.next());case 6:if(!(i=!(u=e.sent).done)){e.next=13;break}return l=u.value,e.next=10,(0,D.rJ)(l);case 10:i=!1,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),o=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!i||null==s.return){e.next=24;break}return e.next=24,G(s.return());case 24:if(e.prev=24,!o){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:case"end":return e.stop()}}),e,null,[[2,15,19,29],[20,,24,28]])})))).apply(this,arguments)}function te(e,t){if("string"===typeof e)return N(e,t);if(e instanceof ArrayBuffer)return H(e,t);if((0,o.Lj)(e))return function(e,t){return X.apply(this,arguments)}(e,t);if((0,o.Os)(e))return J(e,t);if((0,o.Ew)(e))return J(e.body,t);throw new Error("makeIterator")}var ne=n(5737),re="Cannot convert supplied data type";function ie(e,t,n){if(t.text&&"string"===typeof e)return e;if((0,o.zH)(e)&&(e=e.buffer),e instanceof ArrayBuffer){var r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);var i=e.buffer,a=e.byteLength||e.length;return 0===e.byteOffset&&a===i.byteLength||(i=i.slice(e.byteOffset,e.byteOffset+a)),i}throw new Error(re)}function oe(e,t,n){return ae.apply(this,arguments)}function ae(){return(ae=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){var a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!==typeof t&&!a){e.next=3;break}return e.abrupt("return",ie(t,n));case 3:if(!(0,o.Lj)(t)){e.next=7;break}return e.next=6,(0,ne.L1)(t);case 6:t=e.sent;case 7:if(!(0,o.Ew)(t)){e.next=21;break}return s=t,e.next=11,(0,ne.mm)(s);case 11:if(!n.binary){e.next=17;break}return e.next=14,s.arrayBuffer();case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,s.text();case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:if((0,o.Os)(t)&&(t=te(t,i)),!(0,o.TW)(t)&&!(0,o.D0)(t)){e.next=24;break}return e.abrupt("return",Z(t));case 24:throw new Error(re);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=n(2982);function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n)return n;var r=(0,h.Z)({fetch:(0,s.bV)(t,e)},e);return Array.isArray(r.loaders)||(r.loaders=null),r}function le(e,t){if(!t&&e&&!Array.isArray(e))return e;var n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){var r=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[].concat((0,se.Z)(n),(0,se.Z)(r)):r}return n&&n.length?n:null}var ce=n(2012),Ae=n(6805),fe=new(n(4177).Z)({id:"loaders.gl"}),he=n(2317),pe=/\.([^.]+)$/;function de(e){return ge.apply(this,arguments)}function ge(){return ge=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,a,s,u=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:[],i=u.length>2?u[2]:void 0,a=u.length>3?u[3]:void 0,me(t)){e.next=5;break}return e.abrupt("return",null);case 5:if(!(s=ve(t,n,(0,h.Z)((0,h.Z)({},i),{},{nothrow:!0}),a))){e.next=8;break}return e.abrupt("return",s);case 8:if(!(0,o.Lj)(t)){e.next=13;break}return e.next=11,t.slice(0,10).arrayBuffer();case 11:t=e.sent,s=ve(t,n,i,a);case 13:if(s||null!==i&&void 0!==i&&i.nothrow){e.next=15;break}throw new Error(be(t));case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!me(e))return null;if(t&&!Array.isArray(t))return(0,a.T)(t);var i,o=[];(t&&(o=o.concat(t)),null!==n&&void 0!==n&&n.ignoreRegisteredLoaders)||(i=o).push.apply(i,(0,se.Z)((0,he.kO)()));_e(o);var s=ye(e,o,n,r);if(!s&&(null===n||void 0===n||!n.nothrow))throw new Error(be(e));return s}function ye(e,t,n,r){var i,o=(0,ce.l)(e),a=o.url,s=o.type,u=a||(null===r||void 0===r?void 0:r.url),l=null,c="";(null!==n&&void 0!==n&&n.mimeType&&(l=we(t,null===n||void 0===n?void 0:n.mimeType),c="match forced by supplied MIME type ".concat(null===n||void 0===n?void 0:n.mimeType)),l=l||function(e,t){var n=t&&pe.exec(t),r=n&&n[1];return r?function(e,t){t=t.toLowerCase();var n,r=(0,f.Z)(e);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=(0,f.Z)(o.extensions);try{for(a.s();!(i=a.n()).done;){if(i.value.toLowerCase()===t)return o}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e,r):null}(t,u),c=c||(l?"matched url ".concat(u):""),l=l||we(t,s),c=c||(l?"matched MIME type ".concat(s):""),l=l||function(e,t){if(!t)return null;var n,r=(0,f.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("string"===typeof t){if(xe(t,i))return i}else if(ArrayBuffer.isView(t)){if(Ce(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){if(Ce(t,0,i))return i}}}catch(o){r.e(o)}finally{r.f()}return null}(t,e),c=c||(l?"matched initial data ".concat(Be(e)):""),l=l||we(t,null===n||void 0===n?void 0:n.fallbackMimeType),c=c||(l?"matched fallback MIME type ".concat(s):""))&&fe.log(1,"selectLoader selected ".concat(null===(i=l)||void 0===i?void 0:i.name,": ").concat(c,"."));return l}function me(e){return!(e instanceof Response&&204===e.status)}function be(e){var t=(0,ce.l)(e),n=t.url,r=t.type,i="No valid loader found (";i+=n?"".concat(Ae.vB(n),", "):"no url provided, ",i+="MIME type: ".concat(r?'"'.concat(r,'"'):"not provided",", ");var o=e?Be(e):"";return i+=o?' first bytes: "'.concat(o,'"'):"first bytes: not available",i+=")"}function _e(e){var t,n=(0,f.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;(0,a.T)(r)}}catch(i){n.e(i)}finally{n.f()}}function we(e,t){var n,r=(0,f.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t==="application/x.".concat(i.id))return i}}catch(o){r.e(o)}finally{r.f()}return null}function xe(e,t){return t.testText?t.testText(e):(Array.isArray(t.tests)?t.tests:[t.tests]).some((function(t){return e.startsWith(t)}))}function Ce(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some((function(r){return function(e,t,n,r){if(r instanceof ArrayBuffer)return(0,D.Xq)(r,e,r.byteLength);switch(typeof r){case"function":return r(e,n);case"string":return r===Ee(e,t,r.length);default:return!1}}(e,t,n,r)}))}function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return Ee(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var n=0;return Ee(e,n,t)}return""}function Ee(e,t,n){if(e.byteLength<t+n)return"";for(var r=new DataView(e),i="",o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(t+o));return i}function Se(e,t,n,r){return ke.apply(this,arguments)}function ke(){return(ke=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,o){var l,c,A,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,u.h)(!o||"object"===typeof o),!n||Array.isArray(n)||(0,a.C)(n)||(o=void 0,i=n,n=void 0),e.next=4,t;case 4:return t=e.sent,i=i||{},l=(0,ce.l)(t),c=l.url,A=le(n,o),e.next=11,de(t,A,i);case 11:if(f=e.sent){e.next=14;break}return e.abrupt("return",null);case 14:return i=(0,s.GR)(i,f,A,c),o=ue({url:c,parse:Se,loaders:A},i,o),e.next=18,Oe(f,t,i,o);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t,n,r){return Te.apply(this,arguments)}function Te(){return(Te=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,a){var s,l,A,f,h,p,d,g;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t),(0,o.Ew)(n)&&(l=(s=n).ok,A=s.redirected,f=s.status,h=s.statusText,p=s.type,d=s.url,g=Object.fromEntries(s.headers.entries()),a.response={headers:g,ok:l,redirected:A,status:f,statusText:h,type:p,url:d}),e.next=4,oe(n,t,i);case 4:if(n=e.sent,!t.parseTextSync||"string"!==typeof n){e.next=8;break}return i.dataType="text",e.abrupt("return",t.parseTextSync(n,i,a,t));case 8:if(!P(t,i)){e.next=12;break}return e.next=11,M(t,n,i,a,Se);case 11:case 15:case 19:return e.abrupt("return",e.sent);case 12:if(!t.parseText||"string"!==typeof n){e.next=16;break}return e.next=15,t.parseText(n,i,a,t);case 16:if(!t.parse){e.next=20;break}return e.next=19,t.parse(n,i,a,t);case 20:throw(0,u.h)(!t.parseSync),new Error("".concat(t.id," loader - no parser found and worker is disabled"));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e,t,n,r){return Me.apply(this,arguments)}function Me(){return(Me=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,u){var l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(n)||(0,a.C)(n)||(void 0,i=n,n=void 0),l=(0,s.bV)(i),c=t,"string"!==typeof t){e.next=7;break}return e.next=6,l(t);case 6:c=e.sent;case 7:if(!(0,o.Lj)(t)){e.next=11;break}return e.next=10,l(t);case 10:c=e.sent;case 11:return e.next=13,Se(c,n,i);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2317:function(e,t,n){"use strict";n.d(t,{fh:function(){return s},kO:function(){return u}});var r=n(7762),i=n(6808),o=n(9849),a=function(){var e=(0,o.rx)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function s(e){var t=a();e=Array.isArray(e)?e:[e];var n,o=(0,r.Z)(e);try{var s=function(){var e=n.value,r=(0,i.T)(e);t.find((function(e){return r===e}))||t.unshift(r)};for(o.s();!(n=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}}function u(){return a()}},4339:function(e,t,n){"use strict";n.d(t,{d:function(){return l}});var r=n(4165),i=n(5861),o="",a={};function s(e){for(var t in a)if(e.startsWith(t)){var n=a[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(o).concat(e)),e}var u=n(5737);function l(e,t){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=7;break}return t=s(t),i=n,null!==n&&void 0!==n&&n.fetch&&"function"!==typeof(null===n||void 0===n?void 0:n.fetch)&&(i=n.fetch),e.next=6,fetch(t,i);case 6:case 9:return e.abrupt("return",e.sent);case 7:return e.next=9,(0,u.L1)(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6808:function(e,t,n){"use strict";n.d(t,{C:function(){return o},T:function(){return a}});var r=n(1413),i=n(7295);function o(e){var t;return!!e&&(Array.isArray(e)&&(e=e[0]),Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions))}function a(e){var t,n,a;return(0,i.h)(e,"null loader"),(0,i.h)(o(e),"invalid loader"),Array.isArray(e)&&(a=e[1],e=e[0],e=(0,r.Z)((0,r.Z)({},e),{},{options:(0,r.Z)((0,r.Z)({},e.options),a)})),(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(n=e)&&void 0!==n&&n.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}},9849:function(e,t,n){"use strict";n.d(t,{bV:function(){return m},rx:function(){return g},GR:function(){return y}});var r=n(7762),i=n(1413),o=n(8781),a=n(4339),s=n(5671),u=n(3144),l=n(8810),c=new(n(4177).Z)({id:"loaders.gl"}),A=function(){function e(){(0,s.Z)(this,e)}return(0,u.Z)(e,[{key:"log",value:function(){return function(){}}},{key:"info",value:function(){return function(){}}},{key:"warn",value:function(){return function(){}}},{key:"error",value:function(){return function(){}}}]),e}(),f=function(){function e(){(0,s.Z)(this,e),(0,l.Z)(this,"console",void 0),this.console=console}return(0,u.Z)(e,[{key:"log",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.log).bind.apply(e,[this.console].concat(n))}},{key:"info",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.info).bind.apply(e,[this.console].concat(n))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.warn).bind.apply(e,[this.console].concat(n))}},{key:"error",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.error).bind.apply(e,[this.console].concat(n))}}]),e}(),h=n(9350),p={fetch:null,mimeType:void 0,nothrow:!1,log:new f,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:h.jU,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},d={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function g(){globalThis.loaders=globalThis.loaders||{};var e=globalThis.loaders;return e._state=e._state||{},e._state}var v=function(){var e=g();return e.globalOptions=e.globalOptions||(0,i.Z)({},p),e.globalOptions};function y(e,t,n,i){return n=n||[],function(e,t){b(e,null,p,d,t);var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=e&&e[o.id]||{},s=o.options&&o.options[o.id]||{},u=o.deprecatedOptions&&o.deprecatedOptions[o.id]||{};b(a,o.id,s,u,t)}}catch(l){i.e(l)}finally{i.f()}}(e,n=Array.isArray(n)?n:[n]),w(t,e,i)}function m(e,t){var n=v(),r=e||n;return"function"===typeof r.fetch?r.fetch:(0,o.Kn)(r.fetch)?function(e){return(0,a.d)(e,r)}:null!==t&&void 0!==t&&t.fetch?null===t||void 0===t?void 0:t.fetch:a.d}function b(e,t,n,r,i){var a=t||"Top level",s=t?"".concat(t,"."):"";for(var u in e){var l=!t&&(0,o.Kn)(e[u]);if(!(u in n)&&!("baseUri"===u&&!t)&&!("workerUrl"===u&&t))if(u in r)c.warn("".concat(a," loader option '").concat(s).concat(u,"' no longer supported, use '").concat(r[u],"'"))();else if(!l){var A=_(u,i);c.warn("".concat(a," loader option '").concat(s).concat(u,"' not recognized. ").concat(A))()}}}function _(e,t){var n,i=e.toLowerCase(),o="",a=(0,r.Z)(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;for(var u in s.options){if(e===u)return"Did you mean '".concat(s.id,".").concat(u,"'?");var l=u.toLowerCase();(i.startsWith(l)||l.startsWith(i))&&(o=o||"Did you mean '".concat(s.id,".").concat(u,"'?"))}}}catch(c){a.e(c)}finally{a.f()}return o}function w(e,t,n){var r=e.options||{},o=(0,i.Z)({},r);return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(o,n),null===o.log&&(o.log=new A),x(o,v()),x(o,t),o}function x(e,t){for(var n in t)if(n in t){var r=t[n];(0,o.Ss)(r)&&(0,o.Ss)(e[n])?e[n]=(0,i.Z)((0,i.Z)({},e[n]),t[n]):e[n]=t[n]}}},2012:function(e,t,n){"use strict";n.d(t,{C:function(){return c},l:function(){return l}});var r=n(8781),i=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,o=/^([-\w.]+\/[-\w.+]+)/;function a(e){var t=o.exec(e);return t?t[1]:e}function s(e){var t=i.exec(e);return t?t[1]:""}var u=/\?.*/;function l(e){if((0,r.Ew)(e)){var t=A(e.url||"");return{url:t,type:a(e.headers.get("content-type")||"")||s(t)}}return(0,r.Lj)(e)?{url:A(e.name||""),type:e.type||""}:"string"===typeof e?{url:A(e),type:s(e)}:{url:"",type:""}}function c(e){return(0,r.Ew)(e)?e.headers["content-length"]||-1:(0,r.Lj)(e)?e.size:"string"===typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}function A(e){return e.replace(u,"")}},5737:function(e,t,n){"use strict";n.d(t,{L1:function(){return s},mm:function(){return l}});var r=n(4165),i=n(5861),o=n(8781),a=n(2012);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,s,u,l,c,A;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.Ew)(t)){e.next=2;break}return e.abrupt("return",t);case 2:return n={},(i=(0,a.C)(t))>=0&&(n["content-length"]=String(i)),s=(0,a.l)(t),u=s.url,(l=s.type)&&(n["content-type"]=l),e.next=9,h(t);case 9:return(c=e.sent)&&(n["x-first-bytes"]=c),"string"===typeof t&&(t=(new TextEncoder).encode(t)),A=new Response(t,{headers:n}),Object.defineProperty(A,"url",{value:u}),e.abrupt("return",A);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,A(t);case 3:throw n=e.sent,new Error(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,i=t.headers.get("Content-Type"),o=t.statusText,!i.includes("application/json")){e.next=11;break}return e.t0=o,e.t1=" ",e.next=9,t.text();case 9:e.t2=e.sent,o=e.t0+=e.t1.concat.call(e.t1,e.t2);case 11:n=(n+=o).length>60?"".concat(n.slice(0,60),"..."):n,e.next=17;break;case 15:e.prev=15,e.t3=e.catch(1);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function h(e){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=5,"string"!==typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,n)));case 3:if(!(t instanceof Blob)){e.next=8;break}return i=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){var n;return e(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.result)},t.readAsDataURL(i)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return o=t.slice(0,n),a=d(o),e.abrupt("return","data:base64,".concat(a));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){for(var t="",n=new Uint8Array(e),r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}},984:function(e,t,n){"use strict";n.d(t,{S:function(){return R}});var r=n(4165),i=n(5861),o=n(7295),a=n(9350),s=globalThis._parseImageNode,u="undefined"!==typeof Image,l="undefined"!==typeof ImageBitmap,c=Boolean(s),A=!!a.jU||c;function f(e){var t=p(e);if(!t)throw new Error("Not an image");return t}function h(e){switch(f(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("getImageData");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function p(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!==typeof Image&&e instanceof Image?"image":e&&"object"===typeof e&&e.data&&e.width&&e.height?"data":null}var d=/^data:image\/svg\+xml/,g=/\.svg((\?|#).*)?$/;function v(e){return e&&(d.test(e)||g.test(e))}function y(e,t){if(v(t)){var n=(new TextDecoder).decode(e);try{"function"===typeof unescape&&"function"===typeof encodeURIComponent&&(n=unescape(encodeURIComponent(n)))}catch(r){throw new Error(r.message)}return"data:image/svg+xml;base64,".concat(btoa(n))}return m(e,t)}function m(e,t){if(v(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}function b(e,t,n){return _.apply(this,arguments)}function _(){return(_=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){var o,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=y(t,i),a=self.URL||self.webkitURL,s="string"!==typeof o&&a.createObjectURL(o),e.prev=3,e.next=6,w(s||o,n);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,s&&a.revokeObjectURL(s),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])})))).apply(this,arguments)}function w(e,t){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=new Image).src=t,!(n.image&&n.image.decode&&i.decode)){e.next=6;break}return e.next=5,i.decode();case 5:return e.abrupt("return",i);case 6:return e.next=8,new Promise((function(e,n){try{i.onload=function(){return e(i)},i.onerror=function(e){return n(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(r){n(r)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C={},B=!0;function E(e,t,n){return S.apply(this,arguments)}function S(){return(S=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){var o,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v(i)){e.next=7;break}return e.next=3,b(t,n,i);case 3:a=e.sent,o=a,e.next=8;break;case 7:o=m(t,i);case 8:return s=n&&n.imagebitmap,e.next=11,k(o,s);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return O.apply(this,arguments)}function O(){return O=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T(n=i.length>1&&void 0!==i[1]?i[1]:null)&&B||(n=null),!n){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,n);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),B=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),O.apply(this,arguments)}function T(e){for(var t in e||C)return!1;return!0}var P=n(9329);function M(e,t){return F.apply(this,arguments)}function F(){return F=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,P.I)(t)||{},a=i.mimeType,s=globalThis._parseImageNode,(0,o.h)(s),e.next=5,s(t,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function I(){return(I=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){var a,s,u,l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(n=n||{}).image||{},s=a.type||"auto",u=(i||{}).url,l=L(s),e.t0=l,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,E(t,n,u);case 10:return c=e.sent,e.abrupt("break",21);case 12:return e.next=14,b(t,n,u);case 14:return c=e.sent,e.abrupt("break",21);case 16:return e.next=18,M(t,n);case 18:return c=e.sent,e.abrupt("break",21);case 20:(0,o.h)(!1);case 21:return"data"===s&&(c=h(c)),e.abrupt("return",c);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){switch(e){case"auto":case"data":return function(){if(l)return"imagebitmap";if(u)return"image";if(A)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return l||u||A;case"imagebitmap":return l;case"image":return u;case"data":return A;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}(e),e}}var R={id:"image",module:"images",name:"Images",version:"3.2.9",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:function(e,t,n){return I.apply(this,arguments)},tests:[function(e){return Boolean((0,P.I)(new DataView(e)))}],options:{image:{type:"auto",decode:!0}}}},9329:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=!1,i=!0;function o(e){var t=a(e);return function(e){var t=a(e);if(!(t.byteLength>=24&&2303741511===t.getUint32(0,r)))return null;return{mimeType:"image/png",width:t.getUint32(16,r),height:t.getUint32(20,r)}}(t)||function(e){var t=a(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,r)&&255===t.getUint8(2)))return null;var n=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var n=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:n}}(),i=n.tableMarkers,o=n.sofMarkers,s=2;for(;s+9<t.byteLength;){var u=t.getUint16(s,r);if(o.has(u))return{mimeType:"image/jpeg",height:t.getUint16(s+5,r),width:t.getUint16(s+7,r)};if(!i.has(u))return null;s+=2,s+=t.getUint16(s,r)}return null}(t)||function(e){var t=a(e);if(!(t.byteLength>=10&&1195984440===t.getUint32(0,r)))return null;return{mimeType:"image/gif",width:t.getUint16(6,i),height:t.getUint16(8,i)}}(t)||function(e){var t=a(e);if(!(t.byteLength>=14&&16973===t.getUint16(0,r)&&t.getUint32(2,i)===t.byteLength))return null;return{mimeType:"image/bmp",width:t.getUint32(18,i),height:t.getUint32(22,i)}}(t)}function a(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}},2225:function(e,t,n){"use strict";n.d(t,{Xq:function(){return a},JY:function(){return s},qv:function(){return u},rJ:function(){return o}});var r=n(7762);n(9293);function i(e){return e&&"object"===typeof e&&e.isBuffer}function o(e){if(i(e))return i(t=e)?new Uint8Array(t.buffer,t.byteOffset,t.length).slice().buffer:t;var t;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"===typeof e){var n=e;return(new TextEncoder).encode(n).buffer}if(e&&"object"===typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function a(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;for(var r=new Uint8Array(e),i=new Uint8Array(t),o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,o=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),a=o.reduce((function(e,t){return e+t.byteLength}),0),s=new Uint8Array(a),u=0,l=(0,r.Z)(o);try{for(l.s();!(i=l.n()).done;){var c=i.value;s.set(c,u),u+=c.byteLength}}catch(A){l.e(A)}finally{l.f()}return s.buffer}function u(e,t,n){var r=void 0!==n?new Uint8Array(e).subarray(t,t+n):new Uint8Array(e).subarray(t);return new Uint8Array(r).buffer}},7295:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"loader assertion failed.")}n.d(t,{h:function(){return r}})},9350:function(e,t,n){"use strict";n.d(t,{jU:function(){return r}});"undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof n.g&&n.g,"undefined"!==typeof document&&document;var r=Boolean("object"!==typeof process||"[object process]"!==String(process)||process.browser),i="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version);i&&parseFloat(i[1])},6805:function(e,t,n){"use strict";function r(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(t+1):""}function i(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""}n.d(t,{XX:function(){return i},vB:function(){return r}})},4332:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}n.d(t,{h:function(){return r}})},935:function(e,t,n){"use strict";n.d(t,{CO:function(){return i},hJ:function(){return a},jU:function(){return o},tq:function(){return s}});var r={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof n.g&&n.g,document:"undefined"!==typeof document&&document},i=r.global||r.self||r.window||{},o="object"!==typeof process||"[object process]"!==String(process)||process.browser,a="function"===typeof importScripts,s="undefined"!==typeof window&&"undefined"!==typeof window.orientation,u="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version);u&&parseFloat(u[1])},1561:function(e,t,n){"use strict";n.r(t),t.default={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,FUNC_ADD:32774,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,BLEND_COLOR:32773,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,VENDOR:7936,RENDERER:7937,VERSION:7938,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,BROWSER_DEFAULT_WEBGL:37444,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,CULL_FACE:2884,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,BLEND:3042,DEPTH_TEST:2929,DITHER:3024,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,SCISSOR_TEST:3089,STENCIL_TEST:2960,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CONTEXT_LOST_WEBGL:37442,CW:2304,CCW:2305,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,COMPILE_STATUS:35713,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_ATTRIBUTES:35721,ACTIVE_UNIFORMS:35718,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,ALWAYS:519,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,GEQUAL:518,NOTEQUAL:517,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,TEXTURE_WIDTH:4096,TEXTURE_HEIGHT:4097,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,MAX_3D_TEXTURE_SIZE:32883,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,MAX_TEXTURE_LOD_BIAS:34045,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,RASTERIZER_DISCARD:35977,VERTEX_ARRAY_BINDING:34229,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,MAX_ELEMENT_INDEX:36203,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,RGB9_E5:35901,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2UI:36975,TEXTURE_IMMUTABLE_FORMAT:37167,TEXTURE_IMMUTABLE_LEVELS:33503,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,INT_2_10_10_10_REV:36255,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,MAX_SAMPLES:36183,SAMPLER_BINDING:35097,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,UNSIGNED_NORMALIZED:35863,SIGNED_NORMALIZED:36764,VERTEX_ATTRIB_ARRAY_INTEGER:35069,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,DEPTH24_STENCIL8:35056,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,COLOR:6144,DEPTH:6145,STENCIL:6146,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,INVALID_INDEX:4294967295,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,UNMASKED_VENDOR_WEBGL:37445,UNMASKED_RENDERER_WEBGL:37446,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,TEXTURE_MAX_ANISOTROPY_EXT:34046,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35986,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,UNSIGNED_INT_24_8_WEBGL:34042,HALF_FLOAT_OES:36193,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863,MIN_EXT:32775,MAX_EXT:32776,SRGB_EXT:35904,SRGB_ALPHA_EXT:35906,SRGB8_ALPHA8_EXT:35907,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067,COLOR_ATTACHMENT4_WEBGL:36068,COLOR_ATTACHMENT5_WEBGL:36069,COLOR_ATTACHMENT6_WEBGL:36070,COLOR_ATTACHMENT7_WEBGL:36071,COLOR_ATTACHMENT8_WEBGL:36072,COLOR_ATTACHMENT9_WEBGL:36073,COLOR_ATTACHMENT10_WEBGL:36074,COLOR_ATTACHMENT11_WEBGL:36075,COLOR_ATTACHMENT12_WEBGL:36076,COLOR_ATTACHMENT13_WEBGL:36077,COLOR_ATTACHMENT14_WEBGL:36078,COLOR_ATTACHMENT15_WEBGL:36079,DRAW_BUFFER0_WEBGL:34853,DRAW_BUFFER1_WEBGL:34854,DRAW_BUFFER2_WEBGL:34855,DRAW_BUFFER3_WEBGL:34856,DRAW_BUFFER4_WEBGL:34857,DRAW_BUFFER5_WEBGL:34858,DRAW_BUFFER6_WEBGL:34859,DRAW_BUFFER7_WEBGL:34860,DRAW_BUFFER8_WEBGL:34861,DRAW_BUFFER9_WEBGL:34862,DRAW_BUFFER10_WEBGL:34863,DRAW_BUFFER11_WEBGL:34864,DRAW_BUFFER12_WEBGL:34865,DRAW_BUFFER13_WEBGL:34866,DRAW_BUFFER14_WEBGL:34867,DRAW_BUFFER15_WEBGL:34868,MAX_COLOR_ATTACHMENTS_WEBGL:36063,MAX_DRAW_BUFFERS_WEBGL:34852,VERTEX_ARRAY_BINDING_OES:34229,QUERY_COUNTER_BITS_EXT:34916,CURRENT_QUERY_EXT:34917,QUERY_RESULT_EXT:34918,QUERY_RESULT_AVAILABLE_EXT:34919,TIME_ELAPSED_EXT:35007,TIMESTAMP_EXT:36392,GPU_DISJOINT_EXT:36795}},5771:function(e,t,n){"use strict";n.r(t),n.d(t,{AnimationLoop:function(){return j.Z},Buffer:function(){return s.Z},ClipSpace:function(){return V.Z},ConeGeometry:function(){return O},CubeGeometry:function(){return G.Z},CylinderGeometry:function(){return T},FEATURES:function(){return o.h},FragmentShader:function(){return h.gs},Framebuffer:function(){return l.Z},Geometry:function(){return C.Z},IcoSphereGeometry:function(){return I},Model:function(){return N.Z},PlaneGeometry:function(){return R},Program:function(){return u.Z},ProgramManager:function(){return Q.Z},Renderbuffer:function(){return c.Z},SphereGeometry:function(){return Z},Texture2D:function(){return A.Z},Texture3D:function(){return v.Z},TextureCube:function(){return f.Z},Timeline:function(){return H.T},Transform:function(){return z.Z},TransformFeedback:function(){return y.Z},TruncatedConeGeometry:function(){return S},VertexShader:function(){return h.Qh},assert:function(){return ae.h},clear:function(){return p.Z},cloneTextureFrom:function(){return g.h},copyToTexture:function(){return d.Lv},createGLContext:function(){return r.s9},cssToDevicePixels:function(){return r.JY},cssToDeviceRatio:function(){return r.w},dirlight:function(){return $},fp32:function(){return te.O},fp64:function(){return ne.hO},getParameters:function(){return r.ZS},gouraudLighting:function(){return ie.N},hasFeature:function(){return a.U6},hasFeatures:function(){return a.ag},instrumentGLContext:function(){return r.yW},isWebGL:function(){return r.UF},isWebGL2:function(){return r.D0},log:function(){return r.cM},lumaStats:function(){return i.lR},normalizeShaderModule:function(){return ee.v},pbr:function(){return oe.b},phongLighting:function(){return ie.s},picking:function(){return re.q},project:function(){return Y},readPixelsToArray:function(){return d.z6},readPixelsToBuffer:function(){return d.Jb},resetParameters:function(){return r.kL},setParameters:function(){return r.dR},uid:function(){return B.hQ},withParameters:function(){return r.s8}});var r=n(1622),i=n(6893),o=n(348),a=n(7504),s=n(1744),u=n(9617),l=n(6158),c=n(845),A=n(3978),f=n(5361),h=n(1455),p=n(107),d=n(5802),g=n(2756),v=n(8935),y=n(771),m=n(1413),b=n(3144),_=n(5671),w=n(136),x=n(7277),C=n(1509),B=n(3889),E={x:[2,0,1],y:[0,1,2],z:[1,2,0]},S=function(e){(0,w.Z)(n,e);var t=(0,x.Z)(n);function n(){(0,_.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,B.hQ)("truncated-code-geometry"):r,o=k(e),a=o.indices,s=o.attributes;return t.call(this,(0,m.Z)((0,m.Z)({},e),{},{id:i,indices:a,attributes:(0,m.Z)((0,m.Z)({},s),e.attributes)}))}return(0,b.Z)(n)}(C.Z);function k(e){for(var t=e.bottomRadius,n=void 0===t?0:t,r=e.topRadius,i=void 0===r?0:r,o=e.height,a=void 0===o?1:o,s=e.nradial,u=void 0===s?10:s,l=e.nvertical,c=void 0===l?10:l,A=e.verticalAxis,f=void 0===A?"y":A,h=e.topCap,p=void 0!==h&&h,d=e.bottomCap,g=void 0!==d&&d,v=(p?2:0)+(g?2:0),y=(u+1)*(c+1+v),m=Math.atan2(n-i,a),b=Math.sin,_=Math.cos,w=Math.PI,x=_(m),C=b(m),B=p?-2:0,S=c+(g?2:0),k=u+1,O=new Uint16Array(u*(c+v)*6),T=E[f],P=new Float32Array(3*y),M=new Float32Array(3*y),F=new Float32Array(2*y),I=0,L=0,R=B;R<=S;R++){var D=R/c,Z=a*D,U=void 0;R<0?(Z=0,D=1,U=n):R>c?(Z=a,D=1,U=i):U=n+R/c*(i-n),-2!==R&&R!==c+2||(U=0,D=0),Z-=a/2;for(var j=0;j<k;j++){var N=b(j*w*2/u),z=_(j*w*2/u);P[I+T[0]]=N*U,P[I+T[1]]=Z,P[I+T[2]]=z*U,M[I+T[0]]=R<0||R>c?0:N*x,M[I+T[1]]=R<0?-1:R>c?1:C,M[I+T[2]]=R<0||R>c?0:z*x,F[L+0]=j/u,F[L+1]=D,L+=2,I+=3}}for(var Q=0;Q<c+v;Q++)for(var H=0;H<u;H++){var V=6*(Q*u+H);O[V+0]=k*(Q+0)+0+H,O[V+1]=k*(Q+0)+1+H,O[V+2]=k*(Q+1)+1+H,O[V+3]=k*(Q+0)+0+H,O[V+4]=k*(Q+1)+1+H,O[V+5]=k*(Q+1)+0+H}return{indices:O,attributes:{POSITION:{size:3,value:P},NORMAL:{size:3,value:M},TEXCOORD_0:{size:2,value:F}}}}var O=function(e){(0,w.Z)(n,e);var t=(0,x.Z)(n);function n(){(0,_.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,B.hQ)("cone-geometry"):r,o=e.radius,a=void 0===o?1:o,s=e.cap,u=void 0===s||s;return t.call(this,(0,m.Z)((0,m.Z)({},e),{},{id:i,topRadius:0,topCap:Boolean(u),bottomCap:Boolean(u),bottomRadius:a}))}return(0,b.Z)(n)}(S),T=function(e){(0,w.Z)(n,e);var t=(0,x.Z)(n);function n(){(0,_.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,B.hQ)("cylinder-geometry"):r,o=e.radius,a=void 0===o?1:o;return t.call(this,(0,m.Z)((0,m.Z)({},e),{},{id:i,bottomRadius:a,topRadius:a}))}return(0,b.Z)(n)}(S),P=n(8140),M=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0],F=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1],I=function(e){(0,w.Z)(n,e);var t=(0,x.Z)(n);function n(){(0,_.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,B.hQ)("ico-sphere-geometry"):r,o=L(e),a=o.indices,s=o.attributes;return t.call(this,(0,m.Z)((0,m.Z)({},e),{},{id:i,indices:a,attributes:(0,m.Z)((0,m.Z)({},s),e.attributes)}))}return(0,b.Z)(n)}(C.Z);function L(e){var t=e.iterations,n=void 0===t?0:t,r=Math.PI,i=2*r,o=[].concat(M),a=[].concat(F);o.push(),a.push();for(var s=function(){var e={};return function(t,n){var r=(t*=3)>(n*=3)?t:n,i="".concat(t<n?t:n,"|").concat(r);if(i in e)return e[i];var a=o[t],s=o[t+1],u=o[t+2],l=(a+o[n])/2,c=(s+o[n+1])/2,A=(u+o[n+2])/2,f=Math.sqrt(l*l+c*c+A*A);return l/=f,c/=f,A/=f,o.push(l,c,A),e[i]=o.length/3-1}}(),u=0;u<n;u++){for(var l=[],c=0;c<a.length;c+=3){var A=s(a[c+0],a[c+1]),f=s(a[c+1],a[c+2]),h=s(a[c+2],a[c+0]);l.push(h,a[c+0],A,A,a[c+1],f,f,a[c+2],h,A,f,h)}a=l}for(var p=new Array(o.length),d=new Array(o.length/3*2),g=a.length-3;g>=0;g-=3){var v=a[g+0],y=a[g+1],m=a[g+2],b=3*v,_=3*y,w=3*m,x=2*v,C=2*y,B=2*m,E=o[b+0],S=o[b+1],k=o[b+2],O=Math.acos(k/Math.sqrt(E*E+S*S+k*k))/r,T=1-(Math.atan2(S,E)+r)/i,I=o[_+0],L=o[_+1],R=o[_+2],D=Math.acos(R/Math.sqrt(I*I+L*L+R*R))/r,Z=1-(Math.atan2(L,I)+r)/i,U=o[w+0],j=o[w+1],N=o[w+2],z=Math.acos(N/Math.sqrt(U*U+j*j+N*N))/r,Q=1-(Math.atan2(j,U)+r)/i,H=[U-I,j-L,N-R],V=[E-I,S-L,k-R],G=new P.Z(H).cross(V).normalize(),W=void 0;(0===T||0===Z||0===Q)&&(0===T||T>.5)&&(0===Z||Z>.5)&&(0===Q||Q>.5)&&(o.push(o[b+0],o[b+1],o[b+2]),W=o.length/3-1,a.push(W),d[2*W+0]=1,d[2*W+1]=O,p[3*W+0]=G.x,p[3*W+1]=G.y,p[3*W+2]=G.z,o.push(o[_+0],o[_+1],o[_+2]),W=o.length/3-1,a.push(W),d[2*W+0]=1,d[2*W+1]=D,p[3*W+0]=G.x,p[3*W+1]=G.y,p[3*W+2]=G.z,o.push(o[w+0],o[w+1],o[w+2]),W=o.length/3-1,a.push(W),d[2*W+0]=1,d[2*W+1]=z,p[3*W+0]=G.x,p[3*W+1]=G.y,p[3*W+2]=G.z),p[b+0]=p[_+0]=p[w+0]=G.x,p[b+1]=p[_+1]=p[w+1]=G.y,p[b+2]=p[_+2]=p[w+2]=G.z,d[x+0]=T,d[x+1]=O,d[C+0]=Z,d[C+1]=D,d[B+0]=Q,d[B+1]=z}return{indices:{size:1,value:new Uint16Array(a)},attributes:{POSITION:{size:3,value:new Float32Array(o)},NORMAL:{size:3,value:new Float32Array(p)},TEXCOORD_0:{size:2,value:new Float32Array(d)}}}}var R=function(e){(0,w.Z)(n,e);var t=(0,x.Z)(n);function n(){(0,_.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,B.hQ)("plane-geometry"):r,o=D(e),a=o.indices,s=o.attributes;return t.call(this,(0,m.Z)((0,m.Z)({},e),{},{id:i,indices:a,attributes:(0,m.Z)((0,m.Z)({},s),e.attributes)}))}return(0,b.Z)(n)}(C.Z);function D(e){var t=e.type,n=void 0===t?"x,y":t,r=e.offset,i=void 0===r?0:r,o=e.flipCull,a=void 0!==o&&o,s=e.unpack,u=void 0!==s&&s,l=n.split(","),c=e["".concat(l[0],"len")]||1,A=e["".concat(l[1],"len")]||1,f=e["n".concat(l[0])]||1,h=e["n".concat(l[1])]||1,p=(f+1)*(h+1),d=new Float32Array(3*p),g=new Float32Array(3*p),v=new Float32Array(2*p);a&&(c=-c);for(var y=0,m=0,b=0;b<=h;b++)for(var _=0;_<=f;_++){var w=_/f,x=b/h;switch(v[y+0]=a?1-w:w,v[y+1]=x,n){case"x,y":d[m+0]=c*w-.5*c,d[m+1]=A*x-.5*A,d[m+2]=i,g[m+0]=0,g[m+1]=0,g[m+2]=a?1:-1;break;case"x,z":d[m+0]=c*w-.5*c,d[m+1]=i,d[m+2]=A*x-.5*A,g[m+0]=0,g[m+1]=a?1:-1,g[m+2]=0;break;case"y,z":d[m+0]=i,d[m+1]=c*w-.5*c,d[m+2]=A*x-.5*A,g[m+0]=a?1:-1,g[m+1]=0,g[m+2]=0;break;default:throw new Error("PlaneGeometry: unknown type")}y+=2,m+=3}for(var C=f+1,B=new Uint16Array(f*h*6),E=0;E<h;E++)for(var S=0;S<f;S++){var k=6*(E*f+S);B[k+0]=(E+0)*C+S,B[k+1]=(E+1)*C+S,B[k+2]=(E+0)*C+S+1,B[k+3]=(E+1)*C+S,B[k+4]=(E+1)*C+S+1,B[k+5]=(E+0)*C+S+1}var O={indices:{size:1,value:B},attributes:{POSITION:{size:3,value:d},NORMAL:{size:3,value:g},TEXCOORD_0:{size:2,value:v}}};return u?function(e){var t=e.indices,n=e.attributes;if(!t)return e;var r=t.value.length,i={};for(var o in n){var a=n[o],s=a.constant,u=a.value,l=a.size;if(!s&&l){for(var c=new u.constructor(r*l),A=0;A<r;++A)for(var f=t.value[A],h=0;h<l;h++)c[A*l+h]=u[f*l+h];i[o]={size:l,value:c}}}return{attributes:Object.assign({},n,i)}}(O):O}var Z=function(e){(0,w.Z)(n,e);var t=(0,x.Z)(n);function n(){(0,_.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,B.hQ)("sphere-geometry"):r,o=U(e),a=o.indices,s=o.attributes;return t.call(this,(0,m.Z)((0,m.Z)({},e),{},{id:i,indices:a,attributes:(0,m.Z)((0,m.Z)({},s),e.attributes)}))}return(0,b.Z)(n)}(C.Z);function U(e){var t=e.nlat,n=void 0===t?10:t,r=e.nlong,i=void 0===r?10:r,o=e.radius,a=void 0===o?1:o,s=Math.PI-0,u=2*Math.PI-0,l=(n+1)*(i+1);if("number"===typeof a){var c=a;a=function(e,t,n,r,i){return c}}for(var A=new Float32Array(3*l),f=new Float32Array(3*l),h=new Float32Array(2*l),p=new(l>65535?Uint32Array:Uint16Array)(n*i*6),d=0;d<=n;d++)for(var g=0;g<=i;g++){var v=g/i,y=d/n,m=g+d*(i+1),b=2*m,_=3*m,w=u*v,x=s*y,C=Math.sin(w),B=Math.cos(w),E=Math.sin(x),S=B*E,k=Math.cos(x),O=C*E,T=a(S,k,O,v,y);A[_+0]=T*S,A[_+1]=T*k,A[_+2]=T*O,f[_+0]=S,f[_+1]=k,f[_+2]=O,h[b+0]=v,h[b+1]=1-y}for(var P=i+1,M=0;M<i;M++)for(var F=0;F<n;F++){var I=6*(M*n+F);p[I+0]=F*P+M,p[I+1]=F*P+M+1,p[I+2]=(F+1)*P+M,p[I+3]=(F+1)*P+M,p[I+4]=F*P+M+1,p[I+5]=(F+1)*P+M+1}return{indices:{size:1,value:p},attributes:{POSITION:{size:3,value:A},NORMAL:{size:3,value:f},TEXCOORD_0:{size:2,value:h}}}}var j=n(3011),N=n(739),z=n(9184),Q=n(9230),H=n(176),V=n(5323),G=n(3876),W=n(8025),K=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],q={modelMatrix:K,viewMatrix:K,projectionMatrix:K,cameraPositionWorld:[0,0,0]};var X="varying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n",Y={name:"project",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t={};return void 0!==e.modelMatrix&&(t.modelMatrix=e.modelMatrix),void 0!==e.viewMatrix&&(t.viewMatrix=e.viewMatrix),void 0!==e.projectionMatrix&&(t.projectionMatrix=e.projectionMatrix),void 0!==e.cameraPositionWorld&&(t.cameraPositionWorld=e.cameraPositionWorld),void 0===e.projectionMatrix&&void 0===e.viewMatrix||(t.viewProjectionMatrix=new W.Z(e.projectionMatrix).multiplyRight(e.viewMatrix)),t},vs:"".concat(X,"\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n"),fs:"\n".concat(X)},J={lightDirection:new Float32Array([1,1,2])};var $={name:"dirlight",vs:null,fs:"uniform vec3 dirlight_uLightDirection;\nvec4 dirlight_filterColor(vec4 color) {\n  vec3 normal = project_getNormal_World();\n  float d = abs(dot(normalize(normal), normalize(dirlight_uLightDirection)));\n  return vec4(color.rgb * d, color.a);\n}\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t={};return e.lightDirection&&(t.dirlight_uLightDirection=e.lightDirection),t},dependencies:[Y]},ee=n(1925),te=n(6265),ne=n(4506),re=n(7500),ie=n(5600),oe=n(3244),ae=n(4298)},176:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(885),i=n(7762),o=n(5671),a=n(3144),s=1,u=1,l=function(){function e(){(0,o.Z)(this,e),this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}return(0,a.Z)(e,[{key:"addChannel",value:function(e){var t=e.delay,n=void 0===t?0:t,r=e.duration,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.rate,a=void 0===o?1:o,u=e.repeat,l=s++,c={time:0,delay:n,duration:i,rate:a,repeat:void 0===u?1:u};return this._setChannelTime(c,this.time),this.channels.set(l,c),l}},{key:"removeChannel",value:function(e){this.channels.delete(e);var t,n=(0,i.Z)(this.animations);try{for(n.s();!(t=n.n()).done;){var o=(0,r.Z)(t.value,2),a=o[0];o[1].channel===e&&this.detachAnimation(a)}}catch(s){n.e(s)}finally{n.f()}}},{key:"isFinished",value:function(e){var t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}},{key:"getTime",value:function(e){if(void 0===e)return this.time;var t=this.channels.get(e);return void 0===t?-1:t.time}},{key:"setTime",value:function(e){this.time=Math.max(0,e);var t,n=this.channels.values(),r=(0,i.Z)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;this._setChannelTime(o,this.time)}}catch(f){r.e(f)}finally{r.f()}var a,s=this.animations.values(),u=(0,i.Z)(s);try{for(u.s();!(a=u.n()).done;){var l=a.value,c=l.animation,A=l.channel;c.setTime(this.getTime(A))}}catch(f){u.e(f)}finally{u.f()}}},{key:"play",value:function(){this.playing=!0}},{key:"pause",value:function(){this.playing=!1,this.lastEngineTime=-1}},{key:"reset",value:function(){this.setTime(0)}},{key:"attachAnimation",value:function(e,t){var n=u++;return this.animations.set(n,{animation:e,channel:t}),e.setTime(this.getTime(t)),n}},{key:"detachAnimation",value:function(e){this.animations.delete(e)}},{key:"update",value:function(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}},{key:"_setChannelTime",value:function(e,t){var n=t-e.delay;n>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)}}]),e}()},3876:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(1413),i=n(3144),o=n(5671),a=n(136),s=n(7277),u=n(1509),l=n(3889),c=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),A=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),f=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),h=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),p={POSITION:{size:3,value:new Float32Array(A)},NORMAL:{size:3,value:new Float32Array(f)},TEXCOORD_0:{size:2,value:new Float32Array(h)}},d=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){(0,o.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.id,a=void 0===i?(0,l.hQ)("cube-geometry"):i;return t.call(this,(0,r.Z)((0,r.Z)({},e),{},{id:a,indices:{size:1,value:new Uint16Array(c)},attributes:(0,r.Z)((0,r.Z)({},p),e.attributes)}))}return(0,i.Z)(n)}(u.Z)},1509:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(1413),i=n(5671),o=n(3144),a=n(3889),s=n(4298),u={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},l=function(){function e(){(0,i.Z)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=void 0===n?(0,a.hQ)("geometry"):n,o=t.drawMode,s=void 0===o?u.TRIANGLES:o,l=t.attributes,c=void 0===l?{}:l,A=t.indices,f=void 0===A?null:A,h=t.vertexCount,p=void 0===h?null:h;this.id=r,this.drawMode=0|s,this.attributes={},this.userData={},this._setAttributes(c,f),this.vertexCount=p||this._calculateVertexCount(this.attributes,this.indices)}return(0,o.Z)(e,[{key:"mode",get:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getAttributes",value:function(){return this.indices?(0,r.Z)({indices:this.indices},this.attributes):this.attributes}},{key:"_print",value:function(e){return"Geometry ".concat(this.id," attribute ").concat(e)}},{key:"_setAttributes",value:function(e,t){for(var n in t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t),e){var r=e[n];r=ArrayBuffer.isView(r)?{value:r}:r,(0,s.h)(ArrayBuffer.isView(r.value),"".concat(this._print(n),": must be typed array or object with value as typed array")),"POSITION"!==n&&"positions"!==n||r.size||(r.size=3),"indices"===n?((0,s.h)(!this.indices),this.indices=r):this.attributes[n]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}},{key:"_calculateVertexCount",value:function(e,t){if(t)return t.value.length;var n=1/0;for(var r in e){var i=e[r],o=i.value,a=i.size;!i.constant&&o&&a>=1&&(n=Math.min(n,o.length/a))}return(0,s.h)(Number.isFinite(n)),n}}],[{key:"DRAW_MODE",get:function(){return u}}]),e}()},3011:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(4165),i=n(5861),o=n(5671),a=n(3144),s=n(1622),u=n(6893),l=n(4298),c=n(7762),A=n(7326),f=n(136),h=n(7277),p=n(4684),d=n(7504),g=n(348),v=function(e,t){(0,f.Z)(r,e);var n=(0,h.Z)(r);function r(e){var t;(0,o.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,i)).target=null,t._queryPending=!1,t._pollingPromise=null,Object.seal((0,A.Z)(t)),t}return(0,a.Z)(r,[{key:t,get:function(){return"Query"}},{key:"beginTimeElapsedQuery",value:function(){return this.begin(35007)}},{key:"beginOcclusionQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.conservative,n=void 0!==t&&t;return this.begin(n?36202:35887)}},{key:"beginTransformFeedbackQuery",value:function(){return this.begin(35976)}},{key:"begin",value:function(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}},{key:"end",value:function(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}},{key:"isResultAvailable",value:function(){if(!this._queryPending)return!1;var e=this.gl2.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}},{key:"isTimerDisjoint",value:function(){return this.gl2.getParameter(36795)}},{key:"getResult",value:function(){return this.gl2.getQueryParameter(this.handle,34918)}},{key:"getTimerMilliseconds",value:function(){return this.getResult()/1e6}},{key:"createPoll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;var n=0;return this._pollingPromise=new Promise((function(r,i){requestAnimationFrame((function o(){e.isResultAvailable()?(r(e.getResult()),e._pollingPromise=null):n++>t?(i("Timed out"),e._pollingPromise=null):requestAnimationFrame(o)}))})),this._pollingPromise}},{key:"_createHandle",value:function(){return r.isSupported(this.gl)?this.gl2.createQuery():null}},{key:"_deleteHandle",value:function(){this.gl2.deleteQuery(this.handle)}}],[{key:"isSupported",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(0,s.D0)(e),i=(0,d.ag)(e,g.h.TIMER_QUERY),o=r||i,a=(0,c.Z)(n);try{for(a.s();!(t=a.n()).done;){var u=t.value;switch(u){case"queries":o=o&&r;break;case"timers":o=o&&i;break;default:(0,l.h)(!1)}}}catch(A){a.e(A)}finally{a.f()}return o}}]),r}(p.Z,Symbol.toStringTag);var y=n(6158),m=(0,n(2672).Z)()&&"undefined"!==typeof document,b=0,_=function(){function e(){(0,o.Z)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onCreateContext,r=void 0===n?function(e){return(0,s.s9)(e)}:n,i=t.onAddHTML,a=void 0===i?null:i,l=t.onInitialize,c=void 0===l?function(){}:l,A=t.onRender,f=void 0===A?function(){}:A,h=t.onFinalize,p=void 0===h?function(){}:h,d=t.onError,g=t.gl,v=void 0===g?null:g,y=t.glOptions,m=void 0===y?{}:y,_=t.debug,w=void 0!==_&&_,x=t.createFramebuffer,C=void 0!==x&&x,B=t.autoResizeViewport,E=void 0===B||B,S=t.autoResizeDrawingBuffer,k=void 0===S||S,O=t.stats,T=void 0===O?u.lR.get("animation-loop-".concat(b++)):O,P=t.useDevicePixels,M=void 0===P||P;"useDevicePixelRatio"in t&&(s.cM.deprecated("useDevicePixelRatio","useDevicePixels")(),M=t.useDevicePixelRatio),this.props={onCreateContext:r,onAddHTML:a,onInitialize:c,onRender:f,onFinalize:p,onError:d,gl:v,glOptions:m,debug:w,createFramebuffer:C},this.gl=v,this.needsRedraw=null,this.timeline=null,this.stats=T,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:E,autoResizeDrawingBuffer:k,useDevicePixels:M}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}return(0,a.Z)(e,[{key:"delete",value:function(){this.stop(),this._setDisplay(null)}},{key:"setNeedsRedraw",value:function(e){return(0,l.h)("string"===typeof e),this.needsRedraw=this.needsRedraw||e,this}},{key:"setProps",value:function(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;var n=this._getPageLoadPromise().then((function(){return!e._running||e._initialized?null:(e._createWebGLContext(t),e._createFramebuffer(),e._startEventHandling(),e._initializeCallbackData(),e._updateCallbackData(),e._resizeCanvasDrawingBuffer(),e._resizeViewport(),e._gpuTimeQuery=v.isSupported(e.gl,["timers"])?new v(e.gl):null,e._initialized=!0,e.onInitialize(e.animationProps))})).then((function(t){e._running&&(e._addCallbackData(t||{}),!1!==t&&e._startLoop())}));return this.props.onError&&n.catch(this.props.onError),this}},{key:"redraw",value:function(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}},{key:"stop",value:function(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}},{key:"attachTimeline",value:function(e){return this.timeline=e,this.timeline}},{key:"detachTimeline",value:function(){this.timeline=null}},{key:"waitForRender",value:function(){var e=this;return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((function(t){e._resolveNextFrame=t}))),this._nextFramePromise}},{key:"toDataURL",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setNeedsRedraw("toDataURL"),e.next=3,this.waitForRender();case 3:return e.abrupt("return",this.gl.canvas.toDataURL());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isContextLost",value:function(){return this.gl.isContextLost()}},{key:"onCreateContext",value:function(){var e;return(e=this.props).onCreateContext.apply(e,arguments)}},{key:"onInitialize",value:function(){var e;return(e=this.props).onInitialize.apply(e,arguments)}},{key:"onRender",value:function(){var e;return(e=this.props).onRender.apply(e,arguments)}},{key:"onFinalize",value:function(){var e;return(e=this.props).onFinalize.apply(e,arguments)}},{key:"getHTMLControlValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=document.getElementById(e);return n?Number(n.value):t}},{key:"setViewParameters",value:function(){return s.cM.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}},{key:"_startLoop",value:function(){var e=this;this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame((function t(){e._running&&(e.redraw(),e._animationFrameId=e._requestAnimationFrame(t))}))}},{key:"_getPageLoadPromise",value:function(){return this._pageLoadPromise||(this._pageLoadPromise=m?new Promise((function(e,t){m&&"complete"===document.readyState?e(document):window.addEventListener("load",(function(){e(document)}))})):Promise.resolve({})),this._pageLoadPromise}},{key:"_setDisplay",value:function(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}},{key:"_cancelAnimationFrame",value:function(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):(t=e,"undefined"!==typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t));var t}},{key:"_requestAnimationFrame",value:function(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):(t=e,"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60));var t}},{key:"_renderFrame",value:function(){var e;this.display?(e=this.display)._renderFrame.apply(e,arguments):this.onRender.apply(this,arguments)}},{key:"_clearNeedsRedraw",value:function(){this.needsRedraw=null}},{key:"_setupFrame",value:function(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}},{key:"_initializeCallbackData",value:function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}},{key:"_updateCallbackData",value:function(){var e=this._getSizeAndAspect(),t=e.width,n=e.height,r=e.aspect;t===this.animationProps.width&&n===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=t,this.animationProps.height=n,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}},{key:"_finalizeCallbackData",value:function(){this.onFinalize(this.animationProps)}},{key:"_addCallbackData",value:function(e){"object"===typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}},{key:"_createWebGLContext",value:function(e){if(this.offScreen=e.canvas&&"undefined"!==typeof OffscreenCanvas&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?(0,s.yW)(this.props.gl,e):this.onCreateContext(e),!(0,s.UF)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(0,s.kL)(this.gl),this._createInfoDiv()}},{key:"_createInfoDiv",value:function(){if(this.gl.canvas&&this.props.onAddHTML){var e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";var t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);var n=this.props.onAddHTML(t);n&&(t.innerHTML=n)}}},{key:"_getSizeAndAspect",value:function(){var e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight,n=1,r=this.gl.canvas;return r&&r.clientHeight?n=r.clientWidth/r.clientHeight:e>0&&t>0&&(n=e/t),{width:e,height:t,aspect:n}}},{key:"_resizeViewport",value:function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}},{key:"_resizeCanvasDrawingBuffer",value:function(){this.autoResizeDrawingBuffer&&(0,s.aQ)(this.gl,{useDevicePixels:this.useDevicePixels})}},{key:"_createFramebuffer",value:function(){this.props.createFramebuffer&&(this.framebuffer=new y.Z(this.gl))}},{key:"_resizeFramebuffer",value:function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}},{key:"_beginTimers",value:function(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}},{key:"_endTimers",value:function(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}},{key:"_startEventHandling",value:function(){var e=this.gl.canvas;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}},{key:"_onMousemove",value:function(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}},{key:"_onMouseleave",value:function(e){this.animationProps._mousePosition=null}}]),e}()},739:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r=n(4942),i=n(5671),o=n(3144),a=n(1622),s=n(9230),u=n(3889),l=n(4298),c=n(107),A=n(9617),f=n(8769),h=n(1744),p=n(7326),d=n(1752),g=n(1120),v=n(136),y=n(7277),m=n(4684),b=null;function _(e,t){var n;return new e((n=e.BYTES_PER_ELEMENT*t,(!b||b.byteLength<n)&&(b=new ArrayBuffer(n)),b),0,t)}var w=n(8047),x="elements must be GL.ELEMENT_ARRAY_BUFFER",C=function(e,t){(0,v.Z)(r,e);var n=(0,y.Z)(r);function r(e){var t;(0,i.Z)(this,r);var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.id||o.program&&o.program.id;return(t=n.call(this,e,Object.assign({},o,{id:a}))).buffer=null,t.bufferValue=null,t.isDefaultArray=o.isDefaultArray||!1,t.gl2=e,t.initialize(o),Object.seal((0,p.Z)(t)),t}return(0,o.Z)(r,[{key:t,get:function(){return"VertexArrayObject"}},{key:"delete",value:function(){return(0,d.Z)((0,g.Z)(r.prototype),"delete",this).call(this),this.buffer&&this.buffer.delete(),this}},{key:"MAX_ATTRIBUTES",get:function(){return r.getMaxAttributes(this.gl)}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(e)}},{key:"setProps",value:function(e){return this}},{key:"setElementBuffer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,l.h)(!t||34963===t.target,x),this.bind((function(){e.gl.bindBuffer(34963,t?t.handle:null)})),this}},{key:"setBuffer",value:function(e,t,n){if(34963===t.target)return this.setElementBuffer(t,n);var r=n.size,i=n.type,o=n.stride,s=n.offset,u=n.normalized,c=n.integer,A=n.divisor,f=this.gl,h=this.gl2;return e=Number(e),this.bind((function(){f.bindBuffer(34962,t.handle),c?((0,l.h)((0,a.D0)(f)),h.vertexAttribIPointer(e,r,i,o,s)):f.vertexAttribPointer(e,r,i,u,o,s),f.enableVertexAttribArray(e),h.vertexAttribDivisor(e,A||0)})),this}},{key:"enable",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!n&&0===e&&!r.isSupported(this.gl,{constantAttributeZero:!0});return i||(e=Number(e),this.bind((function(){return n?t.gl.enableVertexAttribArray(e):t.gl.disableVertexAttribArray(e)}))),this}},{key:"getConstantBuffer",value:function(e,t){var n=this._normalizeConstantArrayValue(t),r=n.byteLength*e,i=n.length*e,o=!this.buffer;if(this.buffer=this.buffer||new h.Z(this.gl,r),o=(o=o||this.buffer.reallocate(r))||!this._compareConstantArrayValues(n,this.bufferValue)){var a=_(t.constructor,i);!function(e){for(var t=e.target,n=e.source,r=e.start,i=void 0===r?0:r,o=e.count,a=void 0===o?1:o,s=n.length,u=a*s,l=0,c=i;l<s;l++)t[c++]=n[l];for(;l<u;)l<u-l?(t.copyWithin(i+l,i,i+l),l*=2):(t.copyWithin(i+l,i,i+u-l),l=u)}({target:a,source:n,start:0,count:i}),this.buffer.subData(a),this.bufferValue=t}return this.buffer}},{key:"_normalizeConstantArrayValue",value:function(e){return Array.isArray(e)?new Float32Array(e):e}},{key:"_compareConstantArrayValues",value:function(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}},{key:"_createHandle",value:function(){return this.gl.createVertexArray()}},{key:"_deleteHandle",value:function(e){return this.gl2.deleteVertexArray(e),[this.elements]}},{key:"_bindHandle",value:function(e){this.gl2.bindVertexArray(e)}},{key:"_getParameter",value:function(e,t){var n=this,r=t.location;return(0,l.h)(Number.isFinite(r)),this.bind((function(){return 34373===e?n.gl.getVertexAttribOffset(r,e):n.gl.getVertexAttrib(r,e)}))}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!t.constantAttributeZero||((0,a.D0)(e)||"Chrome"===(0,w.Z)())}},{key:"getDefaultArray",value:function(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new r(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function(e){return r.MAX_ATTRIBUTES=r.MAX_ATTRIBUTES||e.getParameter(34921),r.MAX_ATTRIBUTES}},{key:"setConstant",value:function(e,t,n){switch(n.constructor){case Float32Array:r._setConstantFloatArray(e,t,n);break;case Int32Array:r._setConstantIntArray(e,t,n);break;case Uint32Array:r._setConstantUintArray(e,t,n);break;default:(0,l.h)(!1)}}},{key:"_setConstantFloatArray",value:function(e,t,n){switch(n.length){case 1:e.vertexAttrib1fv(t,n);break;case 2:e.vertexAttrib2fv(t,n);break;case 3:e.vertexAttrib3fv(t,n);break;case 4:e.vertexAttrib4fv(t,n);break;default:(0,l.h)(!1)}}},{key:"_setConstantIntArray",value:function(e,t,n){switch((0,l.h)((0,a.D0)(e)),n.length){case 1:e.vertexAttribI1iv(t,n);break;case 2:e.vertexAttribI2iv(t,n);break;case 3:e.vertexAttribI3iv(t,n);break;case 4:e.vertexAttribI4iv(t,n);break;default:(0,l.h)(!1)}}},{key:"_setConstantUintArray",value:function(e,t,n){switch((0,l.h)((0,a.D0)(e)),n.length){case 1:e.vertexAttribI1uiv(t,n);break;case 2:e.vertexAttribI2uiv(t,n);break;case 3:e.vertexAttribI3uiv(t,n);break;case 4:e.vertexAttribI4uiv(t,n);break;default:(0,l.h)(!1)}}}]),r}(m.Z,Symbol.toStringTag),B=n(6903),E=/^(.+)__LOCATION_([0-9]+)$/,S=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],k=function(){function e(t){(0,i.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.id||n.program&&n.program.id;this.id=r,this.gl=t,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new C(t),(0,B.F)(this,"VertexArray","v6.0",S),this.initialize(n),Object.seal(this)}return(0,o.Z)(e,[{key:"delete",value:function(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}},{key:"reset",value:function(){this.elements=null,this.elementsAccessor=null;var e=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}},{key:"setProps",value:function(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}},{key:"clearDrawParams",value:function(){this.drawParams=null}},{key:"getDrawParams",value:function(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}},{key:"setAttributes",value:function(e){var t=this;return Object.assign(this.attributes,e),this.vertexArrayObject.bind((function(){for(var n in e){var r=e[n];t._setAttribute(n,r)}t.gl.bindBuffer(34962,null)})),this}},{key:"setElementBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}},{key:"setBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,n);var r=this._resolveLocationAndAccessor(e,t,t.accessor,n),i=r.location,o=r.accessor;return i>=0&&(this.values[i]=t,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.setBuffer(i,t,o)),this}},{key:"setConstant",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},n)),i=r.location,o=r.accessor;return i>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[i]=t,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.enable(i,!1)),this}},{key:"unbindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.vertexArrayObject.setElementBuffer(null),e.buffer=e.buffer||new h.Z(e.gl,{accessor:{size:4}});for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++)e.values[t]instanceof h.Z&&(e.gl.disableVertexAttribArray(t),e.gl.bindBuffer(34962,e.buffer.handle),e.gl.vertexAttribPointer(t,1,5126,!1,0,0))})),this}},{key:"bindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.setElementBuffer(e.elements);for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++){var n=e.values[t];n instanceof h.Z&&e.setBuffer(t,n)}})),this}},{key:"bindForDraw",value:function(e,t,n){var r,i=this;return this.vertexArrayObject.bind((function(){i._setConstantAttributes(e,t),r=n()})),r}},{key:"_resolveLocationAndAccessor",value:function(e,t,n,r){var i=this,o={location:-1,accessor:null},s=this._getAttributeIndex(e),u=s.location,c=s.name;if(!Number.isFinite(u)||u<0)return this.unused[e]=t,a.cM.once(3,(function(){return"unused value ".concat(e," in ").concat(i.id)}))(),o;var A=this._getAttributeInfo(c||u);if(!A)return o;var h=this.accessors[u]||{},p=f.Z.resolve(A.accessor,h,n,r),d=p.size,g=p.type;return(0,l.h)(Number.isFinite(d)&&Number.isFinite(g)),{location:u,accessor:p}}},{key:"_getAttributeInfo",value:function(e){return this.configuration&&this.configuration.getAttributeInfo(e)}},{key:"_getAttributeIndex",value:function(e){var t=Number(e);if(Number.isFinite(t))return{location:t};var n=E.exec(e),r=n?n[1]:e,i=n?Number(n[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+i,name:r}:{location:-1}}},{key:"_setAttribute",value:function(e,t){if(t instanceof h.Z)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof h.Z){var n=t[0],r=t[1];this.setBuffer(e,n,r)}else if(ArrayBuffer.isView(t)||Array.isArray(t)){var i=t;this.setConstant(e,i)}else{if(!(t.buffer instanceof h.Z))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");var o=t;this.setBuffer(e,o.buffer,o)}}},{key:"_setConstantAttributes",value:function(e,t){var n=Math.max(0|e,0|t),r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,n);for(var i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)r=this.values[i],ArrayBuffer.isView(r)&&this._setConstantAttribute(i,r)}},{key:"_setConstantAttributeZero",value:function(e,t){if(C.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,e);else{var n=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,n,this.accessors[0])}}},{key:"_setConstantAttribute",value:function(e,t){C.setConstant(this.gl,e,t)}},{key:"_updateDrawParams",value:function(){for(var e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}},{key:"_updateDrawParamsForLocation",value:function(e,t){var n=this.values[t],r=this.accessors[t];if(n){var i=r.divisor>0;if(e.isInstanced=e.isInstanced||i,n instanceof h.Z){var o=n;if(i){var a=o.getVertexCount(r);e.instanceCount=Math.min(e.instanceCount,a)}else{var s=o.getVertexCount(r);e.vertexCount=Math.min(e.vertexCount,s)}}}}},{key:"setElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.cM.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}]),e}(),O=n(771),T=n(3554),P=n(1603);function M(e,t){for(var n=t.maxElts,r=void 0===n?16:n,i=t.size,o=void 0===i?1:i,a="[",s=0;s<e.length&&s<r;++s)s>0&&(a+=",".concat(s%o===0?" ":"")),a+=F(e[s],t);var u=e.length>r?"...":"]";return"".concat(a).concat(u)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=1e-16,r=t.isInteger,i=void 0!==r&&r;if(Array.isArray(e)||ArrayBuffer.isView(e))return M(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<n)return i?"0":"0.";if(i)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);var o=e.toPrecision(2),a=o.indexOf(".0");return a===o.length-2?o.slice(0,-1):o}function I(e,t,n,i){var o,a,s=e.gl;if(!t)return a={},(0,r.Z)(a,i,"null"),(0,r.Z)(a,"Format ","N/A"),a;var u,l,c,A="NOT PROVIDED",f=1,p=0,d=0;if(n&&(A=n.type,f=n.size,u=-1!==(A=String(A).replace("Array","")).indexOf("nt")),t instanceof h.Z){var g,v,y=t,m=y.getDebugData(),b=m.data;if(l=m.changed?"*":"",c=b,p=(d=y.byteLength)/b.BYTES_PER_ELEMENT/f,n){var _=n.divisor>0;v="".concat(_?"I ":"P "," ").concat(p," (x").concat(f,"=").concat(d," bytes ").concat((0,T.km)(s,A),")")}else u=!0,v="".concat(d," bytes");return g={},(0,r.Z)(g,i,"".concat(l).concat(F(c,{size:f,isInteger:u}))),(0,r.Z)(g,"Format ",v),g}return c=t,f=t.length,u=-1!==(A=String(t.constructor.name).replace("Array","")).indexOf("nt"),o={},(0,r.Z)(o,i,"".concat(F(c,{size:f,isInteger:u})," (constant)")),(0,r.Z)(o,"Format ","".concat(f,"x").concat(A," (constant)")),o}function L(e,t){var n=t.type,r=t.size,i=(0,P.jG)(n,r);return i?"".concat(e," (").concat(i.name,")"):e}var R=n(7762);function D(e){var t=e.header,n=void 0===t?"Uniforms":t,i=e.program,o=e.uniforms,a=e.undefinedOnly,s=void 0!==a&&a;(0,l.h)(i);var u,c=".*Matrix",A=i._uniformSetters,f={},h=Object.keys(A).sort(),p=0,d=(0,R.Z)(h);try{for(d.s();!(u=d.n()).done;){var g=u.value;g.match(".*_.*")||g.match(c)||Z({table:f,header:n,uniforms:o,uniformName:g,undefinedOnly:s})&&p++}}catch(S){d.e(S)}finally{d.f()}var v,y=(0,R.Z)(h);try{for(y.s();!(v=y.n()).done;){var m=v.value;m.match(c)&&Z({table:f,header:n,uniforms:o,uniformName:m,undefinedOnly:s})&&p++}}catch(S){y.e(S)}finally{y.f()}var b,_=(0,R.Z)(h);try{for(_.s();!(b=_.n()).done;){var w=b.value;f[w]||Z({table:f,header:n,uniforms:o,uniformName:w,undefinedOnly:s})&&p++}}catch(S){_.e(S)}finally{_.f()}var x=0,C={};if(!s)for(var B in o){var E=o[B];f[B]||(x++,C[B]=(0,r.Z)({Type:"NOT USED: ".concat(E)},n,F(E)))}return{table:f,count:p,unusedTable:C,unusedCount:x}}function Z(e){var t,n=e.table,i=e.header,o=e.uniforms,a=e.uniformName,s=e.undefinedOnly,u=o[a],l=function(e){return void 0!==e&&null!==e}(u);return(!s||!l)&&(n[a]=(t={},(0,r.Z)(t,i,l?F(u):"N/A"),(0,r.Z)(t,"Uniform Type",l?u:"NOT PROVIDED"),t),!0)}function U(e){var t=e.accessor,n=t.type,r=t.size,i=(0,P.jG)(n,r);return i?"".concat(i.name," ").concat(e.name):e.name}var j=n(1413),N={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function z(e,t){var n=(t||{}).attributeMap,r=void 0===n?N:n;return r&&r[e]||e}function Q(e,t){var n;switch(e){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors"}switch(n){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2}(0,l.h)(Number.isFinite(t.size),"attribute ".concat(e," needs size"))}var H=function(){},V={},G=function(){function e(t){(0,i.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.id,o=void 0===r?(0,u.hQ)("model"):r;(0,l.h)((0,a.UF)(t)),this.id=o,this.gl=t,this.id=n.id||(0,u.hQ)("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(n)}return(0,o.Z)(e,[{key:"initialize",value:function(e){this.props={},this.programManager=e.programManager||s.Z.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;var t=e.program,n=void 0===t?null:t,r=e.vs,i=e.fs,o=e.modules,a=e.defines,u=e.inject,c=e.varyings,A=e.bufferMode,f=e.transpileToGLSL100;this.programProps={program:n,vs:r,fs:i,modules:o,defines:a,inject:u,varyings:c,bufferMode:A,transpileToGLSL100:f},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},(0,l.h)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}},{key:"setProps",value:function(e){this._setModelProps(e)}},{key:"delete",value:function(){for(var e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}},{key:"getDrawMode",value:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getInstanceCount",value:function(){return this.instanceCount}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getProgram",value:function(){return this.program}},{key:"setProgram",value:function(e){var t=e.program,n=e.vs,r=e.fs,i=e.modules,o=e.defines,a=e.inject,s=e.varyings,u=e.bufferMode,l=e.transpileToGLSL100;this.programProps={program:t,vs:n,fs:r,modules:i,defines:o,inject:a,varyings:s,bufferMode:u,transpileToGLSL100:l},this._programDirty=!0}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"setDrawMode",value:function(e){return this.drawMode=e,this}},{key:"setVertexCount",value:function(e){return(0,l.h)(Number.isFinite(e)),this.vertexCount=e,this}},{key:"setInstanceCount",value:function(e){return(0,l.h)(Number.isFinite(e)),this.instanceCount=e,this}},{key:"setGeometry",value:function(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(e,t,n){var r={},i=t.indices;for(var o in t.attributes){var a=t.attributes[o],s=z(o,n);if("indices"===o)i=a;else if(a.constant)r[s]=a.value;else{var u=a.value,c=(0,j.Z)({},a);delete c.value,r[s]=[new h.Z(e,u),c],Q(o,c)}}if(i){var A=i.value||i;(0,l.h)(A instanceof Uint16Array||A instanceof Uint32Array,'attribute array for "indices" must be of integer type');var f={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};r.indices=[new h.Z(e,{data:A,target:34963}),f]}return r}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}},{key:"setAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,u.nK)(e))return this;var t={};for(var n in e){var r=e[n];t[n]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(t),this}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,e),this}},{key:"getModuleUniforms",value:function(e){this._checkProgram();var t=this.programManager.getUniforms(this.program);return t?t(e):{}}},{key:"updateModuleSettings",value:function(e){var t=this.getModuleUniforms(e||{});return this.setUniforms(t)}},{key:"clear",value:function(e){return(0,c.Z)(this.program.gl,e),this}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();var t,n=e.moduleSettings,r=void 0===n?null:n,i=e.framebuffer,o=e.uniforms,s=void 0===o?{}:o,u=e.attributes,l=void 0===u?{}:u,c=e.transformFeedback,A=void 0===c?this.transformFeedback:c,f=e.parameters,h=void 0===f?{}:f,p=e.vertexArray,d=void 0===p?this.vertexArray:p;this.setAttributes(l),this.updateModuleSettings(r),this.setUniforms(s),a.cM.priority>=2&&(t=this._logDrawCallStart(2));var g=this.vertexArray.getDrawParams(),v=this.props,y=v.isIndexed,m=void 0===y?g.isIndexed:y,b=v.indexType,_=void 0===b?g.indexType:b,w=v.indexOffset,x=void 0===w?g.indexOffset:w,C=v.vertexArrayInstanced,B=void 0===C?g.isInstanced:C;B&&!this.isInstanced&&a.cM.warn("Found instanced attributes on non-instanced model",this.id)();var E=this.isInstanced,S=this.instanceCount,k=this.props,O=k.onBeforeRender,T=void 0===O?H:O,P=k.onAfterRender,M=void 0===P?H:P;T(),this.program.setUniforms(this.uniforms);var F=this.program.draw(Object.assign(V,e,{logPriority:t,uniforms:null,framebuffer:i,parameters:h,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:d,transformFeedback:A,isIndexed:m,indexType:_,isInstanced:E,instanceCount:S,offset:m?x:0}));return M(),a.cM.priority>=2&&this._logDrawCallEnd(t,d,i),F}},{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.discard,n=void 0===t||t,i=e.feedbackBuffers,o=e.unbindModels,a=void 0===o?[]:o,s=e.parameters;i&&this._setFeedbackBuffers(i),n&&(s=Object.assign({},s,(0,r.Z)({},35977,n))),a.forEach((function(e){return e.vertexArray.unbindBuffers()}));try{this.draw(Object.assign({},e,{parameters:s}))}finally{a.forEach((function(e){return e.vertexArray.bindBuffers()}))}return this}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.cM.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}},{key:"_setModelProps",value:function(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}},{key:"_checkProgram",value:function(){if(this._programDirty||this.programManager.stateHash!==this._programManagerState){var e=this.programProps.program;if(e)this._managedProgram=!1;else{var t=this.programProps,n=t.vs,r=t.fs,i=t.modules,o=t.inject,a=t.defines,s=t.varyings,u=t.bufferMode,c=t.transpileToGLSL100;e=this.programManager.get({vs:n,fs:r,modules:i,inject:o,defines:a,varyings:s,bufferMode:u,transpileToGLSL100:c}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}(0,l.h)(e instanceof A.Z,"Model needs a program"),this._programDirty=!1,e!==this.program&&(this.program=e,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new k(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}}},{key:"_deleteGeometryBuffers",value:function(){for(var e in this.geometryBuffers){var t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof h.Z&&t.delete()}}},{key:"_setAnimationProps",value:function(e){this.animated&&(0,l.h)(e,"Model.draw(): animated uniforms but no animationProps")}},{key:"_setFeedbackBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,u.nK)(e))return this;var t=this.program.gl;return this.transformFeedback=this.transformFeedback||new O.Z(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}},{key:"_logDrawCallStart",value:function(e){var t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),a.cM.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:a.cM.level<=2})(),e}},{key:"_logDrawCallEnd",value:function(e,t,n,i){if(void 0!==e){var o=function(e){var t=e.vertexArray,n=e.header,r=void 0===n?"Attributes":n;if(!t.configuration)return{};var i={};t.elements&&(i.ELEMENT_ARRAY_BUFFER=I(t,t.elements,null,r));var o=t.values;for(var a in o){var s=t._getAttributeInfo(a);if(s){var u="".concat(a,": ").concat(s.name),l=t.accessors[s.location];l&&(u="".concat(a,": ").concat(L(s.name,l))),i[u]=I(t,o[a],l,r)}}return i}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),s=D({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n)}),u=s.table,l=s.unusedTable,c=s.unusedCount,A=D({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n),undefinedOnly:!0}),f=A.table;A.count>0&&a.cM.log("MISSING UNIFORMS",Object.keys(f))(),c>0&&a.cM.log("UNUSED UNIFORMS",Object.keys(l))();var h=function(e){var t,n={},i="Accessors for ".concat(e.id),o=(0,R.Z)(e.attributeInfos);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(a){var s=U(a);n["in ".concat(s)]=(0,r.Z)({},i,JSON.stringify(a.accessor))}}}catch(f){o.e(f)}finally{o.f()}var u,l=(0,R.Z)(e.varyingInfos);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c){var A=U(c);n["out ".concat(A)]=(0,r.Z)({},i,JSON.stringify(c.accessor))}}}catch(f){l.e(f)}finally{l.f()}return n}(this.vertexArray.configuration);a.cM.table(e,o)(),a.cM.table(e,u)(),a.cM.table(e+1,h)(),i&&i.log({logLevel:2,message:"Rendered to ".concat(i.id)}),a.cM.groupEnd(2)()}}}]),e}()},9230:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r=n(7762),i=n(5671),o=n(3144),a=n(885),s=n(4942),u=n(9278),l=n(1925),c=n(2870);function A(e){return f(p(e))}function f(e){var t={},n={};return h({modules:e,level:0,moduleMap:t,moduleDepth:n}),Object.keys(n).sort((function(e,t){return n[t]-n[e]})).map((function(e){return t[e]}))}function h(e){var t=e.modules,n=e.level,i=e.moduleMap,o=e.moduleDepth;if(n>=5)throw new Error("Possible loop in shader dependency graph");var a,s=(0,r.Z)(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;i[u.name]=u,(void 0===o[u.name]||o[u.name]<n)&&(o[u.name]=n)}}catch(f){s.e(f)}finally{s.f()}var l,c=(0,r.Z)(t);try{for(c.s();!(l=c.n()).done;){var A=l.value;A.dependencies&&h({modules:A.dependencies,level:n+1,moduleMap:i,moduleDepth:o})}}catch(f){c.e(f)}finally{c.f()}}function p(e,t){return e.map((function(e){return e instanceof l.Z||((0,c.Z)("string"!==typeof e,"Shader module use by name is deprecated. Import shader module '".concat(e,"' and use it directly.")),(0,c.Z)(e.name,"shader module has no name"),(e=new l.Z(e)).dependencies=p(e.dependencies)),e}))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="undefined"!==typeof window&&window.navigator||{},n=e.userAgent||t.userAgent||"",r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i}var g={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},v={};Object.keys(g).forEach((function(e){v[e]=e}));var y={};function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=g[t];if((0,c.Z)(r,t),!d(n))return!0;if(t in y)return y[t];var i=r[0],o=n.behavior||"enable",a="#extension GL_".concat(i," : ").concat(o,"\nvoid main(void) {}"),s=e.createShader(35633);e.shaderSource(s,a),e.compileShader(s);var u=e.getShaderParameter(s,35713);return e.deleteShader(s),y[t]=u,u}function b(e,t){var n=g[t];(0,c.Z)(n,t);var r=function(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}(e)&&n[1]||n[0],i="string"===typeof r?Boolean(e.getExtension(r)):r;return(0,c.Z)(!1===i||!0===i),i}function _(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return b(e,t)}))}var w=n(5298);function x(e){return new RegExp("\\b".concat(e,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}var C,B=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],E=[].concat(B,[[x("attribute"),"in $1"],[x("varying"),"out $1"]]),S=[].concat(B,[[x("varying"),"in $1"]]),k=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],O=[].concat(k,[[x("in"),"attribute $1"],[x("out"),"varying $1"]]),T=[].concat(k,[[x("in"),"varying $1"]]),P="gl_FragColor",M=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,F=/void\s+main\s*\([^)]*\)\s*\{\n?/;function I(e,t,n){switch(t){case 300:return n?L(e,E):function(e){var t=(e=L(e,S)).match(M);if(t){var n=t[1];e=e.replace(new RegExp("\\b".concat(P,"\\b"),"g"),n)}else{var r="fragmentColor";e=e.replace(F,(function(e){return"out vec4 ".concat(r,";\n").concat(e)})).replace(new RegExp("\\b".concat(P,"\\b"),"g"),r)}return e}(e);case 100:return n?L(e,O):function(e){var t=(e=L(e,T)).match(M);if(t){var n=t[1];e=e.replace(M,"").replace(new RegExp("\\b".concat(n,"\\b"),"g"),P)}return e}(e);default:throw new Error("unknown GLSL version ".concat(t))}}function L(e,t){var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=(0,a.Z)(n.value,2),s=o[0],u=o[1];e=e.replace(s,u)}}catch(l){i.e(l)}finally{i.f()}return e}var R="\n\n".concat(w.O_,"\n\n"),D=(C={},(0,s.Z)(C,u.H,"vertex"),(0,s.Z)(C,u.Y,"fragment"),C);function Z(e,t){var n=t.vs,r=t.fs,i=A(t.modules||[]);return{gl:e,vs:U(e,Object.assign({},t,{source:n,type:u.H,modules:i})),fs:U(e,Object.assign({},t,{source:r,type:u.Y,modules:i})),getUniforms:j(i)}}function U(e,t){var n=t.id,i=t.source,o=t.type,s=t.modules,l=t.defines,A=void 0===l?{}:l,f=t.hookFunctions,h=void 0===f?[]:f,p=t.inject,d=void 0===p?{}:p,g=t.transpileToGLSL100,y=void 0!==g&&g,b=t.prologue,x=void 0===b||b,C=t.log;(0,c.Z)("string"===typeof i,"shader source must be a string");var B=o===u.H,E=i.split("\n"),S=100,k="",O=i;0===E[0].indexOf("#version ")?(S=300,k=E[0],O=E.slice(1).join("\n")):k="#version ".concat(S);var T={};s.forEach((function(e){Object.assign(T,e.getDefines())})),Object.assign(T,A);var P=x?"".concat(k,"\n").concat(function(e){var t=e.id,n=e.source,r=e.type;return t&&"string"===typeof t&&-1===n.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(t,"_").concat(D[r],"\n\n"):""}({id:n,source:i,type:o}),"\n").concat(function(e){var t=e.type;return"\n#define SHADER_TYPE_".concat(D[t].toUpperCase(),"\n")}({type:o}),"\n").concat(function(e){var t=function(e){var t=e.getExtension("WEBGL_debug_renderer_info"),n=e.getParameter(t&&t.UNMASKED_VENDOR_WEBGL||7936),r=e.getParameter(t&&t.UNMASKED_RENDERER_WEBGL||7937),i=function(e,t){return e.match(/NVIDIA/i)||t.match(/NVIDIA/i)?"NVIDIA":e.match(/INTEL/i)||t.match(/INTEL/i)?"INTEL":e.match(/AMD/i)||t.match(/AMD/i)||e.match(/ATI/i)||t.match(/ATI/i)?"AMD":"UNKNOWN GPU"}(n,r);return{gpuVendor:i,vendor:n,renderer:r,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e);switch(t.gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(e),"\n").concat(function(e,t,n){var r="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return _(e,v.GLSL_FRAG_DEPTH)&&(r+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),_(e,v.GLSL_DERIVATIVES)&&m(e,v.GLSL_DERIVATIVES)&&(r+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),_(e,v.GLSL_FRAG_DATA)&&m(e,v.GLSL_FRAG_DATA,{behavior:"require"})&&(r+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),_(e,v.GLSL_TEXTURE_LOD)&&(r+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),r}(e),"\n").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n="";for(var r in e){0===t&&(n+="\n// APPLICATION DEFINES\n"),t++;var i=e[r];(i||Number.isFinite(i))&&(n+="#define ".concat(r.toUpperCase()," ").concat(e[r],"\n"))}0===t&&(n+="\n");return n}(T),"\n").concat(B?"":"precision highp float;\n\n","\n"):"".concat(k,"\n"),M=function(e){var t={vs:{},fs:{}};return e.forEach((function(e){var n;"string"!==typeof e?e=(n=e).hook:n={};var r=(e=e.trim()).split(":"),i=(0,a.Z)(r,2),o=i[0],s=i[1],u=e.replace(/\(.+/,"");t[o][u]=Object.assign(n,{signature:s})})),t}(h),F={},L={},Z={};for(var U in d){var j="string"===typeof d[U]?{injection:d[U],order:0}:d[U],N=U.match(/^(v|f)s:(#)?([\w-]+)$/);if(N){var z=N[2],Q=N[3];z?"decl"===Q?L[U]=[j]:Z[U]=[j]:F[U]=[j]}else Z[U]=[j]}var H,V=(0,r.Z)(s);try{for(V.s();!(H=V.n()).done;){var G=H.value;C&&G.checkDeprecations(O,C),P+=G.getModuleSource(o,S);var W=G.injections[o];for(var K in W){var q=K.match(/^(v|f)s:#([\w-]+)$/);if(q){var X="decl"===q[2]?L:Z;X[K]=X[K]||[],X[K].push(W[K])}else F[K]=F[K]||[],F[K].push(W[K])}}}catch(Y){V.e(Y)}finally{V.f()}return P+=R,P=(0,w.ZP)(P,o,L),P+=function(e,t){var n="";for(var i in e){var o=e[i];if(n+="void ".concat(o.signature," {\n"),o.header&&(n+="  ".concat(o.header)),t[i]){var a=t[i];a.sort((function(e,t){return e.order-t.order}));var s,u=(0,r.Z)(a);try{for(u.s();!(s=u.n()).done;){var l=s.value;n+="  ".concat(l.injection,"\n")}}catch(Y){u.e(Y)}finally{u.f()}}o.footer&&(n+="  ".concat(o.footer)),n+="}\n"}return n}(M[o],F),P+=O,P=I(P=(0,w.ZP)(P,o,Z),y?100:S,B)}function j(e){return function(t){var n,i={},o=(0,r.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value.getUniforms(t,i);Object.assign(i,a)}}catch(s){o.e(s)}finally{o.f()}return i}}var N=n(9617),z=function(){function e(t){(0,i.Z)(this,e),this.gl=t,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}return(0,o.Z)(e,[{key:"addDefaultModule",value:function(e){this._defaultModules.find((function(t){return t.name===e.name}))||this._defaultModules.push(e),this.stateHash++}},{key:"removeDefaultModule",value:function(e){var t="string"===typeof e?e:e.name;this._defaultModules=this._defaultModules.filter((function(e){return e.name!==t})),this.stateHash++}},{key:"addShaderHook",value:function(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}},{key:"get",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.vs,o=void 0===i?"":i,a=n.fs,s=void 0===a?"":a,u=n.defines,l=void 0===u?{}:u,c=n.inject,A=void 0===c?{}:c,f=n.varyings,h=void 0===f?[]:f,p=n.bufferMode,d=void 0===p?35981:p,g=n.transpileToGLSL100,v=void 0!==g&&g,y=this._getModuleList(n.modules),m=this._getHash(o),b=this._getHash(s),_=y.map((function(e){return t._getHash(e.name)})).sort(),w=h.map((function(e){return t._getHash(e)})),x=Object.keys(l).sort(),C=Object.keys(A).sort(),B=[],E=[],S=(0,r.Z)(x);try{for(S.s();!(e=S.n()).done;){var k=e.value;B.push(this._getHash(k)),B.push(this._getHash(l[k]))}}catch(I){S.e(I)}finally{S.f()}var O,T=(0,r.Z)(C);try{for(T.s();!(O=T.n()).done;){var P=O.value;E.push(this._getHash(P)),E.push(this._getHash(A[P]))}}catch(I){T.e(I)}finally{T.f()}var M="".concat(m,"/").concat(b,"D").concat(B.join("/"),"M").concat(_.join("/"),"I").concat(E.join("/"),"V").concat(w.join("/"),"H").concat(this.stateHash,"B").concat(d).concat(v?"T":"");if(!this._programCache[M]){var F=Z(this.gl,{vs:o,fs:s,modules:y,inject:A,defines:l,hookFunctions:this._hookFunctions,transpileToGLSL100:v});this._programCache[M]=new N.Z(this.gl,{hash:M,vs:F.vs,fs:F.fs,varyings:h,bufferMode:d}),this._getUniforms[M]=F.getUniforms||function(e){},this._useCounts[M]=0}return this._useCounts[M]++,this._programCache[M]}},{key:"getUniforms",value:function(e){return this._getUniforms[e.hash]||null}},{key:"release",value:function(e){var t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}},{key:"_getHash",value:function(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}},{key:"_getModuleList",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Array(this._defaultModules.length+e.length),n={},r=0,i=0,o=this._defaultModules.length;i<o;++i){var a=this._defaultModules[i],s=a.name;t[r++]=a,n[s]=!0}for(var u=0,l=e.length;u<l;++u){var c=e[u],A=c.name;n[A]||(t[r++]=c,n[A]=!0)}return t.length=r,t}}],[{key:"getDefaultProgramManager",value:function(t){return t.luma=t.luma||{},t.luma.defaultProgramManager=t.luma.defaultProgramManager||new e(t),t.luma.defaultProgramManager}}]),e}()},9184:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r=n(7762),i=n(5671),o=n(3144),a=n(885),s=n(2870),u="void main() {gl_FragColor = vec4(0);}",l="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",c="#version 300 es\n".concat(l);function A(e,t){t=Array.isArray(t)?t:[t];var n=e.replace(/^\s+/,"").split(/\s+/),r=(0,a.Z)(n,3),i=r[0],o=r[1],s=r[2];return t.includes(i)&&o&&s?{qualifier:i,type:o,name:s.split(";")[0]}:null}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.version,n=void 0===t?100:t,r=e.input,i=e.inputType,o=e.output;if(!r)return 300===n?c:n>300?"#version ".concat(n,"\n").concat(l):u;var a=p(r,i);return n>=300?"#version ".concat(n," ").concat(300===n?"es":"","\nin ").concat(i," ").concat(r,";\nout vec4 ").concat(o,";\nvoid main() {\n  ").concat(o," = ").concat(a,";\n}"):"varying ".concat(i," ").concat(r,";\nvoid main() {\n  gl_FragColor = ").concat(a,";\n}")}function h(e){switch(e){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return(0,s.Z)(!1),null}}function p(e,t){switch(t){case"float":return"vec4(".concat(e,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(e,", 0.0, 1.0)");case"vec3":return"vec4(".concat(e,", 1.0)");case"vec4":return e;default:return(0,s.Z)(!1),null}}var d=n(1622),g=n(1744),v=n(771),y=n(4298),m=function(){function e(t){(0,i.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(n),Object.seal(this)}return(0,o.Z)(e,[{key:"setupResources",value:function(e){var t,n=(0,r.Z)(this.bindings);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._setupTransformFeedback(i,e)}}catch(o){n.e(o)}finally{n.f()}}},{key:"updateModelProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.varyings;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}},{key:"getDrawOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],n=t.sourceBuffers,r=t.transformFeedback,i=Object.assign({},n,e.attributes);return{attributes:i,transformFeedback:r}}},{key:"swap",value:function(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e)}},{key:"getBuffer",value:function(e){var t=this.bindings[this.currentIndex].feedbackBuffers,n=e?t[e]:null;return n?n instanceof g.Z?n:n.buffer:null}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.varyingName,n=this.getBuffer(t);return n?n.getData():null}},{key:"delete",value:function(){for(var e in this.resources)this.resources[e].delete()}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&(0,y.h)((0,d.D0)(this.gl))}},{key:"_getFeedbackBuffers",value:function(e){var t=e.sourceBuffers,n=void 0===t?{}:t,r={};if(this.bindings[this.currentIndex]&&Object.assign(r,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(var i in this.feedbackMap){var o=this.feedbackMap[i];i in n&&(r[o]=i)}for(var a in Object.assign(r,e.feedbackBuffers),r){var s=r[a];if("string"===typeof s){var u=n[s],l=u.byteLength,c=u.usage,A=u.accessor;r[a]=this._createNewBuffer(a,{byteLength:l,usage:c,accessor:A})}}return r}},{key:"_setupBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceBuffers,n=void 0===t?null:t;Object.assign(this.feedbackMap,e.feedbackMap);var r=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:n,feedbackBuffers:r})}},{key:"_setupTransformFeedback",value:function(e,t){var n=t.model.program;e.transformFeedback=new v.Z(this.gl,{program:n,buffers:e.feedbackBuffers})}},{key:"_updateBindings",value:function(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){var t=this._swapBuffers(this.bindings[this.currentIndex]),n=t.sourceBuffers,r=t.feedbackBuffers,i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceBuffers:n,feedbackBuffers:r})}}},{key:"_updateBinding",value:function(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}},{key:"_swapBuffers",value:function(e){if(!this.feedbackMap)return null;var t=Object.assign({},e.sourceBuffers),n=Object.assign({},e.feedbackBuffers);for(var r in this.feedbackMap){var i=this.feedbackMap[r];t[r]=e.feedbackBuffers[i],n[i]=e.sourceBuffers[r],(0,y.h)(n[i]instanceof g.Z)}return{sourceBuffers:t,feedbackBuffers:n}}},{key:"_createNewBuffer",value:function(e,t){var n=new g.Z(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=n,n}},{key:"_getNextIndex",value:function(){return(this.currentIndex+1)%2}}]),e}(),b=n(4942),_=n(5802),w=n(3978),x=n(6158),C=n(2756);function B(e){var t=100,n=e.match(/[^\s]+/g);if(n.length>=2&&"#version"===n[0]){var r=parseInt(n[1],10);Number.isFinite(r)&&(t=r)}return t}var E,S=n(5298),k={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},O="transform_uSampler_",T="transform_uSize_",P="transform_position";function M(e){var t=e.vs,n=e.sourceTextureMap,r=e.targetTextureVarying,i=e.targetTexture,o=Object.keys(n).length,a=null,u={},l=t,c={};if(o>0||r){var f=l.split("\n"),h=f.slice();if(f.forEach((function(e,t,i){if(o>0){var l=function(e,t){var n={},r=function(e){return A(e,["attribute","in"])}(e);if(!r)return null;var i=r.type,o=r.name;if(o&&t[o]){var a="// ".concat(e," => Replaced by Transform with a sampler"),u=function(e){var t="".concat(O).concat(e),n="".concat(T).concat(e),r="  uniform sampler2D ".concat(t,";\n  uniform vec2 ").concat(n,";");return{samplerName:t,sizeName:n,uniformDeclerations:r}}(o),l=u.samplerName,c=u.sizeName,f=u.uniformDeclerations,h=function(e){switch(e){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return(0,s.Z)(!1),null}}(i),p="  ".concat(i," ").concat(o," = transform_getInput(").concat(l,", ").concat(c,").").concat(h,";\n");return n[l]=o,{updatedLine:a,inject:{"vs:#decl":f,"vs:#main-start":p},samplerTextureMap:n}}return null}(e,n);if(l){var f=l.updatedLine,p=l.inject;h[t]=f,c=(0,S.Lm)([c,p]),Object.assign(u,l.samplerTextureMap),o--}}r&&!a&&(a=function(e,t){var n=A(e,["varying","out"]);if(!n)return null;return n.name===t?n.type:null}(e,r))})),r){(0,y.h)(i);var p="".concat(T).concat(r),d={"vs:#decl":"uniform vec2 ".concat(p,";\n"),"vs:#main-start":"     vec2 ".concat(P," = transform_getPos(").concat(p,");\n     gl_Position = vec4(").concat(P,", 0, 1.);\n")};c=(0,S.Lm)([c,d])}l=h.join("\n")}return{vs:l,targetTextureType:a,inject:c,samplerTextureMap:u}}function F(e){var t,n,r=e.sourceTextureMap,i=e.targetTextureVarying,o=e.targetTexture,a={};for(var s in i&&(t=o.width,n=o.height,a["".concat(T).concat(i)]=[t,n]),r){var u=r[s];t=u.width,n=u.height,a["".concat(T).concat(s)]=[t,n]}return a}var I=(E={},(0,b.Z)(E,10241,9728),(0,b.Z)(E,10240,9728),(0,b.Z)(E,10242,33071),(0,b.Z)(E,10243,33071),E),L="transform_output",R=function(){function e(t){(0,i.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(n),Object.seal(this)}return(0,o.Z)(e,[{key:"updateModelProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._processVertexShader(e);return Object.assign({},e,t)}},{key:"getDrawOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],n=t.sourceBuffers,r=t.sourceTextures,i=t.framebuffer,o=t.targetTexture,a=Object.assign({},n,e.attributes),s=Object.assign({},e.uniforms),u=Object.assign({},e.parameters),l=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){for(var c in a.transform_elementID=this.elementIDBuffer,this.samplerTextureMap){var A=this.samplerTextureMap[c];s[c]=r[A]}this._setSourceTextureParameters();var f=F({sourceTextureMap:r,targetTextureVarying:this.targetTextureVarying,targetTexture:o});Object.assign(s,f)}return this.hasTargetTexture&&(l=!1,u.viewport=[0,0,i.width,i.height]),{attributes:a,framebuffer:i,uniforms:s,discard:l,parameters:u}}},{key:"swap",value:function(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupTextures(e)}},{key:"getTargetTexture",value:function(){return this.bindings[this.currentIndex].targetTexture}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.packed,n=void 0!==t&&t,r=this.bindings[this.currentIndex].framebuffer,i=(0,_.z6)(r);if(!n)return i;for(var o=i.constructor,a=h(this.targetTextureType),s=new o(i.length*a/4),u=0,l=0;l<i.length;l+=4)for(var c=0;c<a;c++)s[u++]=i[l+c];return s}},{key:"getFramebuffer",value:function(){return this.bindings[this.currentIndex].framebuffer}},{key:"delete",value:function(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._targetTextureVarying,n=e._swapTexture;this._swapTexture=n,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}},{key:"_createTargetTexture",value:function(e){var t=e.sourceTextures,n=e.textureOrReference;if(n instanceof w.Z)return n;var r=t[n];return r?(this._targetRefTexName=n,this._createNewTexture(r)):null}},{key:"_setupTextures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceBuffers,n=e._sourceTextures,r=void 0===n?{}:n,i=e._targetTexture,o=this._createTargetTexture({sourceTextures:r,textureOrReference:i});this.hasSourceTextures=this.hasSourceTextures||r&&Object.keys(r).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:r,targetTexture:o}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}},{key:"_updateElementIDBuffer",value:function(e){if(!("number"!==typeof e||this.elementCount>=e)){var t=new Float32Array(e);t.forEach((function(e,t,n){n[t]=t})),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new g.Z(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}}},{key:"_updateBindings",value:function(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){var t=this._swapTextures(this.bindings[this.currentIndex]),n=t.sourceTextures,r=t.targetTexture,i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceTextures:n,targetTexture:r})}}},{key:"_updateBinding",value:function(e,t){var n=t.sourceBuffers,r=t.sourceTextures,i=t.targetTexture;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),Object.assign(e.sourceBuffers,n),i){e.targetTexture=i;var o=i.width,a=i.height,s=e.framebuffer;s?(s.update({attachments:(0,b.Z)({},36064,i),resizeAttachments:!1}),s.resize({width:o,height:a})):e.framebuffer=new x.Z(this.gl,{id:"transform-framebuffer",width:o,height:a,attachments:(0,b.Z)({},36064,i)})}return e}},{key:"_setSourceTextureParameters",value:function(){var e=this.currentIndex,t=this.bindings[e].sourceTextures;for(var n in t)t[n].setParameters(I)}},{key:"_swapTextures",value:function(e){if(!this._swapTexture)return null;var t=Object.assign({},e.sourceTextures);return t[this._swapTexture]=e.targetTexture,{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}},{key:"_createNewTexture",value:function(e){var t,n=(0,C.h)(e,{parameters:(t={},(0,b.Z)(t,10241,9728),(0,b.Z)(t,10240,9728),(0,b.Z)(t,10242,33071),(0,b.Z)(t,10243,33071),t),pixelStore:(0,b.Z)({},37440,!1)});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=n,n}},{key:"_getNextIndex",value:function(){return(this.currentIndex+1)%2}},{key:"_processVertexShader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],n=t.sourceTextures,r=t.targetTexture,i=M({vs:e.vs,sourceTextureMap:n,targetTextureVarying:this.targetTextureVarying,targetTexture:r}),o=i.vs,a=i.uniforms,s=i.targetTextureType,u=i.inject,l=i.samplerTextureMap,c=(0,S.Lm)([e.inject||{},u]);this.targetTextureType=s,this.samplerTextureMap=l;var A=e._fs||f({version:B(o),input:this.targetTextureVarying,inputType:s,output:L}),h=this.hasSourceTextures||this.targetTextureVarying?[k].concat(e.modules||[]):e.modules;return{vs:o,fs:A,modules:h,uniforms:a,inject:c}}}]),e}(),D=n(3889),Z=n(739),U=function(){function e(t){(0,i.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(n),Object.seal(this)}return(0,o.Z)(e,[{key:"delete",value:function(){var e=this.model,t=this.bufferTransform,n=this.textureTransform;e&&e.delete(),t&&t.delete(),n&&n.delete()}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRenderTarget,n=void 0===t||t,r=this._updateDrawOptions(e);n&&r.framebuffer&&r.framebuffer.clear({color:!0}),this.model.transform(r)}},{key:"swap",value:function(){var e,t=!1,n=[this.bufferTransform,this.textureTransform].filter(Boolean),i=(0,r.Z)(n);try{for(i.s();!(e=i.n()).done;){var o=e.value;t=t||o.swap()}}catch(a){i.e(a)}finally{i.f()}(0,y.h)(t,"Nothing to swap")}},{key:"getBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(e)}},{key:"getData",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[this.bufferTransform,this.textureTransform].filter(Boolean),i=(0,r.Z)(n);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=o.getData(t);if(a)return a}}catch(s){i.e(s)}finally{i.f()}return null}},{key:"getFramebuffer",value:function(){return this.textureTransform&&this.textureTransform.getFramebuffer()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);var t,n=[this.bufferTransform,this.textureTransform].filter(Boolean),i=(0,r.Z)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.update(e)}}catch(a){i.e(a)}finally{i.f()}}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.gl;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new Z.Z(t,Object.assign({},e,{fs:e.fs||f({version:B(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}},{key:"_updateModelProps",value:function(e){var t,n=Object.assign({},e),i=[this.bufferTransform,this.textureTransform].filter(Boolean),o=(0,r.Z)(i);try{for(o.s();!(t=o.n()).done;){n=t.value.updateModelProps(n)}}catch(a){o.e(a)}finally{o.f()}return n}},{key:"_buildResourceTransforms",value:function(e,t){(function(e){if(!(0,D.nK)(e.feedbackBuffers)||!(0,D.nK)(e.feedbackMap)||e.varyings&&e.varyings.length>0)return!0;return!1})(t)&&(this.bufferTransform=new m(e,t)),function(e){if(!(0,D.nK)(e._sourceTextures)||e._targetTexture||e._targetTextureVarying)return!0;return!1}(t)&&(this.textureTransform=new R(e,t)),(0,y.h)(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}},{key:"_updateDrawOptions",value:function(e){var t,n=Object.assign({},e),i=[this.bufferTransform,this.textureTransform].filter(Boolean),o=(0,r.Z)(i);try{for(o.s();!(t=o.n()).done;){var a=t.value;n=Object.assign(n,a.getDrawOptions(n))}}catch(s){o.e(s)}finally{o.f()}return n}}],[{key:"isSupported",value:function(e){return(0,d.D0)(e)}}]),e}()},5323:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(3144),i=n(5671),o=n(136),a=n(7277),s=n(739),u=n(1509),l=[-1,-1,1,-1,-1,1,1,1],c=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var o;(0,i.Z)(this,n);var a=l.map((function(e){return-1===e?0:e}));return(o=t.call(this,e,Object.assign({},r,{vs:"attribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n",geometry:new u.Z({drawMode:5,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(l)},aTexCoord:{size:2,value:new Float32Array(a)},aCoordinate:{size:2,value:new Float32Array(a)}}})}))).setVertexCount(4),o}return(0,r.Z)(n)}(s.Z)},1622:function(e,t,n){"use strict";n.d(t,{KQ:function(){return c},JD:function(){return l},s9:function(){return he},JY:function(){return oe},w:function(){return ie},ZS:function(){return te},vd:function(){return u},yW:function(){return pe},UF:function(){return a},D0:function(){return s},cM:function(){return r},kL:function(){return ne},aQ:function(){return de},dR:function(){return ee},s8:function(){return re}});var r=new(n(4177).Z)({id:"luma.gl"});function i(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}var o="Invalid WebGLRenderingContext";function a(e){return"undefined"!==typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext||("undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&Number.isFinite(e._version)))}function s(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}function u(e){return s(e)?e:null}function l(e){return i(a(e),o),e}function c(e){return i(s(e),"Requires WebGL2"),e}var A=n(7762),f={};function h(e,t){var n;f[e]=!0,void 0!==t&&(n=t,globalThis.console&&globalThis.console.error&&globalThis.console.error(n))}var p=function e(t){var n=t.gl;this.ext=t,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(t.maxVertexAttribs);for(var r=0;r<this.attribs.length;r++){var i=new e.VertexAttrib(n);this.attribs[r]=i}this.maxAttrib=0};(p.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};var d=function(e){var t=this;this.gl=e,function(e){var t=e.getError;e.getError=function(){var n;do{0!==(n=t.apply(e))&&(f[n]=!0)}while(0!==n);for(n in f)if(f[n])return delete f[n],parseInt(n,10);return 0}}(e);var n=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(e){return e===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:n.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(e){var r=t.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,e);var i=r.attribs[e];return i.enabled=!0,n.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(e){var r=t.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,e);var i=r.attribs[e];return i.enabled=!1,n.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(e,r){switch(e){case 34962:t.currentArrayBuffer=r;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=r}return n.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(e,r){var i=t.currentVertexArrayObject,o=i.attribs[e];switch(r){case 34975:return o.buffer;case 34338:return o.enabled;case 34339:return o.size;case 34340:return o.stride;case 34341:return o.type;case 34922:return o.normalized;default:return n.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(e,r,i,o,a,s){var u=t.currentVertexArrayObject;u.maxAttrib=Math.max(u.maxAttrib,e);var l=u.attribs[e];return l.buffer=t.currentArrayBuffer,l.size=r,l.type=i,l.normalized=o,l.stride=a,l.offset=s,l.recache(),n.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",(function(){var e;e="OESVertexArrayObject emulation library context restored",globalThis.console&&globalThis.console.log&&globalThis.console.log(e),t.reset_()}),!0),this.reset_()};d.prototype.VERTEX_ARRAY_BINDING_OES=34229,d.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(var e=0;e<this.vertexArrayObjects.length;++e)this.vertexArrayObjects.isAlive=!1;var t=this.gl;this.maxVertexAttribs=t.getParameter(34921),this.defaultVertexArrayObject=new p(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},d.prototype.createVertexArrayOES=function(){var e=new p(this);return this.vertexArrayObjects.push(e),e},d.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},d.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof p&&e.hasBeenBound&&e.ext===this)},d.prototype.bindVertexArrayOES=function(e){var t=this.gl;if(!e||e.isAlive){var n=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;var i=this.currentVertexArrayObject;if(r!==i){r&&i.elementArrayBuffer===r.elementArrayBuffer||n.bindBuffer.call(t,34963,i.elementArrayBuffer);for(var o=this.currentArrayBuffer,a=Math.max(r?r.maxAttrib:0,i.maxAttrib),s=0;s<=a;s++){var u=i.attribs[s],l=r?r.attribs[s]:null;if(r&&u.enabled===l.enabled||(u.enabled?n.enableVertexAttribArray.call(t,s):n.disableVertexAttribArray.call(t,s)),u.enabled){var c=!1;r&&u.buffer===l.buffer||(o!==u.buffer&&(n.bindBuffer.call(t,34962,u.buffer),o=u.buffer),c=!0),(c||u.cached!==l.cached)&&n.vertexAttribPointer.call(t,s,u.size,u.type,u.normalized,u.stride,u.offset)}}this.currentArrayBuffer!==o&&n.bindBuffer.call(t,34962,this.currentArrayBuffer)}}else h(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject")};var g,v,y=n(4942),m="OES_element_index",b="WEBGL_draw_buffers",_="WEBGL_debug_renderer_info",w=function(e){return s(e)?void 0:0},x=(g={},(0,y.Z)(g,3074,(function(e){return s(e)?void 0:36064})),(0,y.Z)(g,35723,(function(e){return s(e)?void 0:4352})),(0,y.Z)(g,35977,w),(0,y.Z)(g,32937,w),(0,y.Z)(g,36795,(function(e,t){var n=s(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return n&&n.GPU_DISJOINT_EXT?t(n.GPU_DISJOINT_EXT):0})),(0,y.Z)(g,37445,(function(e,t){var n=e.getExtension(_);return t(n&&n.UNMASKED_VENDOR_WEBGL||7936)})),(0,y.Z)(g,37446,(function(e,t){var n=e.getExtension(_);return t(n&&n.UNMASKED_RENDERER_WEBGL||7937)})),(0,y.Z)(g,34047,(function(e,t){var n=e.luma.extensions.EXT_texture_filter_anisotropic;return n?t(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),(0,y.Z)(g,32883,w),(0,y.Z)(g,35071,w),(0,y.Z)(g,37447,w),(0,y.Z)(g,36063,(function(e,t){if(!s(e)){var n=e.getExtension(b);return n?t(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),(0,y.Z)(g,35379,w),(0,y.Z)(g,35374,w),(0,y.Z)(g,35377,w),(0,y.Z)(g,34852,(function(e){if(!s(e)){var t=e.getExtension(b);return t?t.MAX_DRAW_BUFFERS_WEBGL:0}})),(0,y.Z)(g,36203,(function(e){return e.getExtension(m)?2147483647:65535})),(0,y.Z)(g,33001,(function(e){return e.getExtension(m)?16777216:65535})),(0,y.Z)(g,33e3,(function(e){return 16777216})),(0,y.Z)(g,37157,w),(0,y.Z)(g,35373,w),(0,y.Z)(g,35657,w),(0,y.Z)(g,36183,w),(0,y.Z)(g,37137,w),(0,y.Z)(g,34045,w),(0,y.Z)(g,35978,w),(0,y.Z)(g,35979,w),(0,y.Z)(g,35968,w),(0,y.Z)(g,35376,w),(0,y.Z)(g,35375,w),(0,y.Z)(g,35659,w),(0,y.Z)(g,37154,w),(0,y.Z)(g,35371,w),(0,y.Z)(g,35658,w),(0,y.Z)(g,35076,w),(0,y.Z)(g,35077,w),(0,y.Z)(g,35380,w),g);var C="ANGLE_instanced_arrays";var B=(v={},(0,y.Z)(v,"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){i(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),(0,y.Z)(v,C,{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(e,t){i(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),(0,y.Z)(v,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){i(!1)}}),(0,y.Z)(v,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){i(!1)},deleteQuery:function(){i(!1)},beginQuery:function(){i(!1)},endQuery:function(){},getQuery:function(e,t){return this.getQueryObject(e,t)},getQueryParameter:function(e,t){return this.getQueryObject(e,t)},getQueryObject:function(){}}),v),E={readBuffer:function(e,t,n){s(e)&&t(n)},getVertexAttrib:function(e,t,n,r){var i,o=function(e,t){return{webgl2:s(e),ext:e.getExtension(t)}}(e,C),a=o.webgl2,u=o.ext;switch(r){case 35069:i=!!a&&void 0;break;case 35070:i=a||u?void 0:0}return void 0!==i?i:t(n,r)},getProgramParameter:function(e,t,n,r){if(!s(e))switch(r){case 35967:return 35981;case 35971:case 35382:return 0}return t(n,r)},getInternalformatParameter:function(e,t,n,r,i){return s(e)||32937!==i?e.getInternalformatParameter(n,r,i):new Int32Array([0])},getTexParameter:function(e,t,n,r){if(34046===r){var i=e.luma.extensions.EXT_texture_filter_anisotropic;r=i&&i.TEXTURE_MAX_ANISOTROPY_EXT||34046}return t(n,r)},getParameter:function(e,t,n){var r=x[n],i="function"===typeof r?r(e,t,n):r;return void 0!==i?i:t(n)},hint:function(e,t,n,r){return t(n,r)}};function S(e,t){var n=t.extension,r=t.target,o=t.target2,a=B[n];i(a);for(var s=a.meta,u=(void 0===s?{}:s).suffix,l=void 0===u?"":u,c=e.getExtension(n),A=function(){var t=h[f],n="".concat(t).concat(l),i=null;"meta"===t||"function"===typeof e[t]||(c&&"function"===typeof c[n]?i=function(){return c[n].apply(c,arguments)}:"function"===typeof a[t]&&(i=a[t].bind(r))),i&&(r[t]=i,o[t]=i)},f=0,h=Object.keys(a);f<h.length;f++)A()}globalThis.polyfillContext=function(e){e.luma=e.luma||{};var t=e.luma;return t.polyfilled||(!function(e){if("function"!==typeof e.createVertexArray){var t=e.getSupportedExtensions;e.getSupportedExtensions=function(){var e=t.call(this)||[];return e.indexOf("OES_vertex_array_object")<0&&e.push("OES_vertex_array_object"),e};var n=e.getExtension;e.getExtension=function(t){return n.call(this,t)||("OES_vertex_array_object"!==t?null:(e.__OESVertexArrayObject||(this.__OESVertexArrayObject=new d(this)),this.__OESVertexArrayObject))}}}(e),function(e){e.luma.extensions={};var t,n=e.getSupportedExtensions()||[],r=(0,A.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.luma[i]=e.getExtension(i)}}catch(o){r.e(o)}finally{r.f()}}(e),function(e,t){var n,r=(0,A.Z)(Object.getOwnPropertyNames(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;"overrides"!==i&&S(e,{extension:i,target:e.luma,target2:e})}}catch(o){r.e(o)}finally{r.f()}}(e,B),function(e,t){var n=t.target,r=t.target2;Object.keys(E).forEach((function(t){if("function"===typeof E[t]){var i=e[t]?e[t].bind(e):function(){},o=E[t].bind(null,e,i);n[t]=o,r[t]=o}}))}(e,{target:t,target2:e}),t.polyfilled=!0),e};var k,O,T,P=n(885),M=n(2982),F=(k={},(0,y.Z)(k,3042,!1),(0,y.Z)(k,32773,new Float32Array([0,0,0,0])),(0,y.Z)(k,32777,32774),(0,y.Z)(k,34877,32774),(0,y.Z)(k,32969,1),(0,y.Z)(k,32968,0),(0,y.Z)(k,32971,1),(0,y.Z)(k,32970,0),(0,y.Z)(k,3106,new Float32Array([0,0,0,0])),(0,y.Z)(k,3107,[!0,!0,!0,!0]),(0,y.Z)(k,2884,!1),(0,y.Z)(k,2885,1029),(0,y.Z)(k,2929,!1),(0,y.Z)(k,2931,1),(0,y.Z)(k,2932,513),(0,y.Z)(k,2928,new Float32Array([0,1])),(0,y.Z)(k,2930,!0),(0,y.Z)(k,3024,!0),(0,y.Z)(k,36006,null),(0,y.Z)(k,2886,2305),(0,y.Z)(k,33170,4352),(0,y.Z)(k,2849,1),(0,y.Z)(k,32823,!1),(0,y.Z)(k,32824,0),(0,y.Z)(k,10752,0),(0,y.Z)(k,32938,1),(0,y.Z)(k,32939,!1),(0,y.Z)(k,3089,!1),(0,y.Z)(k,3088,new Int32Array([0,0,1024,1024])),(0,y.Z)(k,2960,!1),(0,y.Z)(k,2961,0),(0,y.Z)(k,2968,4294967295),(0,y.Z)(k,36005,4294967295),(0,y.Z)(k,2962,519),(0,y.Z)(k,2967,0),(0,y.Z)(k,2963,4294967295),(0,y.Z)(k,34816,519),(0,y.Z)(k,36003,0),(0,y.Z)(k,36004,4294967295),(0,y.Z)(k,2964,7680),(0,y.Z)(k,2965,7680),(0,y.Z)(k,2966,7680),(0,y.Z)(k,34817,7680),(0,y.Z)(k,34818,7680),(0,y.Z)(k,34819,7680),(0,y.Z)(k,2978,[0,0,1024,1024]),(0,y.Z)(k,3333,4),(0,y.Z)(k,3317,4),(0,y.Z)(k,37440,!1),(0,y.Z)(k,37441,!1),(0,y.Z)(k,37443,37444),(0,y.Z)(k,35723,4352),(0,y.Z)(k,36010,null),(0,y.Z)(k,35977,!1),(0,y.Z)(k,3330,0),(0,y.Z)(k,3332,0),(0,y.Z)(k,3331,0),(0,y.Z)(k,3314,0),(0,y.Z)(k,32878,0),(0,y.Z)(k,3316,0),(0,y.Z)(k,3315,0),(0,y.Z)(k,32877,0),k),I=function(e,t,n){return t?e.enable(n):e.disable(n)},L=function(e,t,n){return e.hint(n,t)},R=function(e,t,n){return e.pixelStorei(n,t)};function D(e){return Array.isArray(e)||ArrayBuffer.isView(e)}var Z=(O={},(0,y.Z)(O,3042,I),(0,y.Z)(O,32773,(function(e,t){return e.blendColor.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,32777,"blendEquation"),(0,y.Z)(O,34877,"blendEquation"),(0,y.Z)(O,32969,"blendFunc"),(0,y.Z)(O,32968,"blendFunc"),(0,y.Z)(O,32971,"blendFunc"),(0,y.Z)(O,32970,"blendFunc"),(0,y.Z)(O,3106,(function(e,t){return e.clearColor.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,3107,(function(e,t){return e.colorMask.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,2884,I),(0,y.Z)(O,2885,(function(e,t){return e.cullFace(t)})),(0,y.Z)(O,2929,I),(0,y.Z)(O,2931,(function(e,t){return e.clearDepth(t)})),(0,y.Z)(O,2932,(function(e,t){return e.depthFunc(t)})),(0,y.Z)(O,2928,(function(e,t){return e.depthRange.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,2930,(function(e,t){return e.depthMask(t)})),(0,y.Z)(O,3024,I),(0,y.Z)(O,35723,L),(0,y.Z)(O,36006,(function(e,t){var n=s(e)?36009:36160;return e.bindFramebuffer(n,t)})),(0,y.Z)(O,2886,(function(e,t){return e.frontFace(t)})),(0,y.Z)(O,33170,L),(0,y.Z)(O,2849,(function(e,t){return e.lineWidth(t)})),(0,y.Z)(O,32823,I),(0,y.Z)(O,32824,"polygonOffset"),(0,y.Z)(O,10752,"polygonOffset"),(0,y.Z)(O,35977,I),(0,y.Z)(O,32938,"sampleCoverage"),(0,y.Z)(O,32939,"sampleCoverage"),(0,y.Z)(O,3089,I),(0,y.Z)(O,3088,(function(e,t){return e.scissor.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,2960,I),(0,y.Z)(O,2961,(function(e,t){return e.clearStencil(t)})),(0,y.Z)(O,2968,(function(e,t){return e.stencilMaskSeparate(1028,t)})),(0,y.Z)(O,36005,(function(e,t){return e.stencilMaskSeparate(1029,t)})),(0,y.Z)(O,2962,"stencilFuncFront"),(0,y.Z)(O,2967,"stencilFuncFront"),(0,y.Z)(O,2963,"stencilFuncFront"),(0,y.Z)(O,34816,"stencilFuncBack"),(0,y.Z)(O,36003,"stencilFuncBack"),(0,y.Z)(O,36004,"stencilFuncBack"),(0,y.Z)(O,2964,"stencilOpFront"),(0,y.Z)(O,2965,"stencilOpFront"),(0,y.Z)(O,2966,"stencilOpFront"),(0,y.Z)(O,34817,"stencilOpBack"),(0,y.Z)(O,34818,"stencilOpBack"),(0,y.Z)(O,34819,"stencilOpBack"),(0,y.Z)(O,2978,(function(e,t){return e.viewport.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,3333,R),(0,y.Z)(O,3317,R),(0,y.Z)(O,37440,R),(0,y.Z)(O,37441,R),(0,y.Z)(O,37443,R),(0,y.Z)(O,3330,R),(0,y.Z)(O,3332,R),(0,y.Z)(O,3331,R),(0,y.Z)(O,36010,(function(e,t){return e.bindFramebuffer(36008,t)})),(0,y.Z)(O,3314,R),(0,y.Z)(O,32878,R),(0,y.Z)(O,3316,R),(0,y.Z)(O,3315,R),(0,y.Z)(O,32877,R),(0,y.Z)(O,"framebuffer",(function(e,t){var n=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,n)})),(0,y.Z)(O,"blend",(function(e,t){return t?e.enable(3042):e.disable(3042)})),(0,y.Z)(O,"blendColor",(function(e,t){return e.blendColor.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,"blendEquation",(function(e,t){t=D(t)?t:[t,t],e.blendEquationSeparate.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,"blendFunc",(function(e,t){t=D(t)&&2===t.length?[].concat((0,M.Z)(t),(0,M.Z)(t)):t,e.blendFuncSeparate.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,"clearColor",(function(e,t){return e.clearColor.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,"clearDepth",(function(e,t){return e.clearDepth(t)})),(0,y.Z)(O,"clearStencil",(function(e,t){return e.clearStencil(t)})),(0,y.Z)(O,"colorMask",(function(e,t){return e.colorMask.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,"cull",(function(e,t){return t?e.enable(2884):e.disable(2884)})),(0,y.Z)(O,"cullFace",(function(e,t){return e.cullFace(t)})),(0,y.Z)(O,"depthTest",(function(e,t){return t?e.enable(2929):e.disable(2929)})),(0,y.Z)(O,"depthFunc",(function(e,t){return e.depthFunc(t)})),(0,y.Z)(O,"depthMask",(function(e,t){return e.depthMask(t)})),(0,y.Z)(O,"depthRange",(function(e,t){return e.depthRange.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,"dither",(function(e,t){return t?e.enable(3024):e.disable(3024)})),(0,y.Z)(O,"derivativeHint",(function(e,t){e.hint(35723,t)})),(0,y.Z)(O,"frontFace",(function(e,t){return e.frontFace(t)})),(0,y.Z)(O,"mipmapHint",(function(e,t){return e.hint(33170,t)})),(0,y.Z)(O,"lineWidth",(function(e,t){return e.lineWidth(t)})),(0,y.Z)(O,"polygonOffsetFill",(function(e,t){return t?e.enable(32823):e.disable(32823)})),(0,y.Z)(O,"polygonOffset",(function(e,t){return e.polygonOffset.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,"sampleCoverage",(function(e,t){return e.sampleCoverage.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,"scissorTest",(function(e,t){return t?e.enable(3089):e.disable(3089)})),(0,y.Z)(O,"scissor",(function(e,t){return e.scissor.apply(e,(0,M.Z)(t))})),(0,y.Z)(O,"stencilTest",(function(e,t){return t?e.enable(2960):e.disable(2960)})),(0,y.Z)(O,"stencilMask",(function(e,t){var n=t=D(t)?t:[t,t],r=(0,P.Z)(n,2),i=r[0],o=r[1];e.stencilMaskSeparate(1028,i),e.stencilMaskSeparate(1029,o)})),(0,y.Z)(O,"stencilFunc",(function(e,t){var n=t=D(t)&&3===t.length?[].concat((0,M.Z)(t),(0,M.Z)(t)):t,r=(0,P.Z)(n,6),i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5];e.stencilFuncSeparate(1028,i,o,a),e.stencilFuncSeparate(1029,s,u,l)})),(0,y.Z)(O,"stencilOp",(function(e,t){var n=t=D(t)&&3===t.length?[].concat((0,M.Z)(t),(0,M.Z)(t)):t,r=(0,P.Z)(n,6),i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5];e.stencilOpSeparate(1028,i,o,a),e.stencilOpSeparate(1029,s,u,l)})),(0,y.Z)(O,"viewport",(function(e,t){return e.viewport.apply(e,(0,M.Z)(t))})),O);function U(e,t,n){return void 0!==t[e]?t[e]:n[e]}var j={blendEquation:function(e,t,n){return e.blendEquationSeparate(U(32777,t,n),U(34877,t,n))},blendFunc:function(e,t,n){return e.blendFuncSeparate(U(32969,t,n),U(32968,t,n),U(32971,t,n),U(32970,t,n))},polygonOffset:function(e,t,n){return e.polygonOffset(U(32824,t,n),U(10752,t,n))},sampleCoverage:function(e,t,n){return e.sampleCoverage(U(32938,t,n),U(32939,t,n))},stencilFuncFront:function(e,t,n){return e.stencilFuncSeparate(1028,U(2962,t,n),U(2967,t,n),U(2963,t,n))},stencilFuncBack:function(e,t,n){return e.stencilFuncSeparate(1029,U(34816,t,n),U(36003,t,n),U(36004,t,n))},stencilOpFront:function(e,t,n){return e.stencilOpSeparate(1028,U(2964,t,n),U(2965,t,n),U(2966,t,n))},stencilOpBack:function(e,t,n){return e.stencilOpSeparate(1029,U(34817,t,n),U(34818,t,n),U(34819,t,n))}},N={enable:function(e,t){return e((0,y.Z)({},t,!0))},disable:function(e,t){return e((0,y.Z)({},t,!1))},pixelStorei:function(e,t,n){return e((0,y.Z)({},t,n))},hint:function(e,t,n){return e((0,y.Z)({},t,n))},bindFramebuffer:function(e,t,n){var r;switch(t){case 36160:return e((r={},(0,y.Z)(r,36006,n),(0,y.Z)(r,36010,n),r));case 36009:return e((0,y.Z)({},36006,n));case 36008:return e((0,y.Z)({},36010,n));default:return null}},blendColor:function(e,t,n,r,i){return e((0,y.Z)({},32773,new Float32Array([t,n,r,i])))},blendEquation:function(e,t){var n;return e((n={},(0,y.Z)(n,32777,t),(0,y.Z)(n,34877,t),n))},blendEquationSeparate:function(e,t,n){var r;return e((r={},(0,y.Z)(r,32777,t),(0,y.Z)(r,34877,n),r))},blendFunc:function(e,t,n){var r;return e((r={},(0,y.Z)(r,32969,t),(0,y.Z)(r,32968,n),(0,y.Z)(r,32971,t),(0,y.Z)(r,32970,n),r))},blendFuncSeparate:function(e,t,n,r,i){var o;return e((o={},(0,y.Z)(o,32969,t),(0,y.Z)(o,32968,n),(0,y.Z)(o,32971,r),(0,y.Z)(o,32970,i),o))},clearColor:function(e,t,n,r,i){return e((0,y.Z)({},3106,new Float32Array([t,n,r,i])))},clearDepth:function(e,t){return e((0,y.Z)({},2931,t))},clearStencil:function(e,t){return e((0,y.Z)({},2961,t))},colorMask:function(e,t,n,r,i){return e((0,y.Z)({},3107,[t,n,r,i]))},cullFace:function(e,t){return e((0,y.Z)({},2885,t))},depthFunc:function(e,t){return e((0,y.Z)({},2932,t))},depthRange:function(e,t,n){return e((0,y.Z)({},2928,new Float32Array([t,n])))},depthMask:function(e,t){return e((0,y.Z)({},2930,t))},frontFace:function(e,t){return e((0,y.Z)({},2886,t))},lineWidth:function(e,t){return e((0,y.Z)({},2849,t))},polygonOffset:function(e,t,n){var r;return e((r={},(0,y.Z)(r,32824,t),(0,y.Z)(r,10752,n),r))},sampleCoverage:function(e,t,n){var r;return e((r={},(0,y.Z)(r,32938,t),(0,y.Z)(r,32939,n),r))},scissor:function(e,t,n,r,i){return e((0,y.Z)({},3088,new Int32Array([t,n,r,i])))},stencilMask:function(e,t){var n;return e((n={},(0,y.Z)(n,2968,t),(0,y.Z)(n,36005,t),n))},stencilMaskSeparate:function(e,t,n){return e((0,y.Z)({},1028===t?2968:36005,n))},stencilFunc:function(e,t,n,r){var i;return e((i={},(0,y.Z)(i,2962,t),(0,y.Z)(i,2967,n),(0,y.Z)(i,2963,r),(0,y.Z)(i,34816,t),(0,y.Z)(i,36003,n),(0,y.Z)(i,36004,r),i))},stencilFuncSeparate:function(e,t,n,r,i){var o;return e((o={},(0,y.Z)(o,1028===t?2962:34816,n),(0,y.Z)(o,1028===t?2967:36003,r),(0,y.Z)(o,1028===t?2963:36004,i),o))},stencilOp:function(e,t,n,r){var i;return e((i={},(0,y.Z)(i,2964,t),(0,y.Z)(i,2965,n),(0,y.Z)(i,2966,r),(0,y.Z)(i,34817,t),(0,y.Z)(i,34818,n),(0,y.Z)(i,34819,r),i))},stencilOpSeparate:function(e,t,n,r,i){var o;return e((o={},(0,y.Z)(o,1028===t?2964:34817,n),(0,y.Z)(o,1028===t?2965:34818,r),(0,y.Z)(o,1028===t?2966:34819,i),o))},viewport:function(e,t,n,r,i){return e((0,y.Z)({},2978,[t,n,r,i]))}},z=function(e,t){return e.isEnabled(t)},Q=(T={},(0,y.Z)(T,3042,z),(0,y.Z)(T,2884,z),(0,y.Z)(T,2929,z),(0,y.Z)(T,3024,z),(0,y.Z)(T,32823,z),(0,y.Z)(T,32926,z),(0,y.Z)(T,32928,z),(0,y.Z)(T,3089,z),(0,y.Z)(T,2960,z),(0,y.Z)(T,35977,z),T),H=n(5671),V=n(3144);function G(e){for(var t in e)return!1;return!0}function W(e,t){if(e===t)return!0;var n=Array.isArray(e)||ArrayBuffer.isView(e),r=Array.isArray(t)||ArrayBuffer.isView(t);if(n&&r&&e.length===t.length){for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}return!1}function K(e,t){var n=e[t].bind(e);e[t]=function(){var t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache&&e.state.enable?e.state.cache[t]:n.apply(void 0,arguments)},Object.defineProperty(e[t],"name",{value:"".concat(t,"-from-cache"),configurable:!1})}function q(e,t,n){var r=e[t].bind(e);e[t]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=n.apply(void 0,[e.state._updateCache].concat(i)),s=a.valueChanged,u=a.oldValue;return s&&r.apply(void 0,i),u},Object.defineProperty(e[t],"name",{value:"".concat(t,"-to-cache"),configurable:!1})}function X(e){var t=e.useProgram.bind(e);e.useProgram=function(n){e.state.program!==n&&(t(n),e.state.program=n)}}var Y=function(){function e(t){(0,H.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.copyState,i=void 0!==r&&r,o=n.log,a=void 0===o?function(){}:o;this.gl=t,this.program=null,this.stateStack=[],this.enable=!0,this.cache=i?te(t):Object.assign({},F),this.log=a,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return(0,V.Z)(e,[{key:"push",value:function(){this.stateStack.push({})}},{key:"pop",value:function(){i(this.stateStack.length>0);var e=this.stateStack[this.stateStack.length-1];ee(this.gl,e),this.stateStack.pop()}},{key:"_updateCache",value:function(e){var t,n=!1,r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var o in e){i(void 0!==o);var a=e[o],s=this.cache[o];W(a,s)||(n=!0,t=s,r&&!(o in r)&&(r[o]=s),this.cache[o]=a)}return{valueChanged:n,oldValue:t}}}]),e}();function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enable,r=void 0===n||n,o=t.copyState;if(i(void 0!==o),!e.state){var a=globalThis.polyfillContext;for(var s in a&&a(e),e.state=new Y(e,{copyState:o}),X(e),N){var u=N[s];q(e,s,u)}K(e,"getParameter"),K(e,"isEnabled")}return e.state.enable=r,e}function $(e){i(e.state),e.state.pop()}function ee(e,t){if(i(a(e),"setParameters requires a WebGL context"),!G(t)){var n={};for(var r in t){var o=Number(r),s=Z[r];s&&("string"===typeof s?n[s]=!0:s(e,t[r],o))}var u=e.state&&e.state.cache;if(u)for(var l in n){(0,j[l])(e,t,u)}}}function te(e,t){if("number"===typeof(t=t||F)){var n=t,r=Q[n];return r?r(e,n):e.getParameter(n)}var i,o=Array.isArray(t)?t:Object.keys(t),a={},s=(0,A.Z)(o);try{for(s.s();!(i=s.n()).done;){var u=i.value,l=Q[u];a[u]=l?l(e,Number(u)):e.getParameter(Number(u))}}catch(c){s.e(c)}finally{s.f()}return a}function ne(e){ee(e,F)}function re(e,t,n){if(G(t))return n(e);var r,i=t.nocatch,o=void 0===i||i;if(function(e){e.state||J(e,{copyState:!1}),e.state.push()}(e),ee(e,t),o)r=n(e),$(e);else try{r=n(e)}finally{$(e)}return r}function ie(e){var t=e.luma;if(e.canvas&&t){var n=t.canvasSizeInfo.clientWidth;return n?e.drawingBufferWidth/n:1}return 1}function oe(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=ie(e),i=e.drawingBufferWidth,o=e.drawingBufferHeight;return se(t,r,i,o,n)}function ae(e){var t="undefined"===typeof window?1:window.devicePixelRatio||1;return Number.isFinite(e)?e<=0?1:e:e?t:1}function se(e,t,n,r,i){var o,a=ue(e[0],t,n),s=le(e[1],t,r,i),u=ue(e[0]+1,t,n),l=u===n-1?u:u-1;return u=le(e[1]+1,t,r,i),i?(o=s,s=u=0===u?u:u+1):o=u===r-1?u:u-1,{x:a,y:s,width:Math.max(l-a+1,1),height:Math.max(o-s+1,1)}}function ue(e,t,n){return Math.min(Math.round(e*t),n-1)}function le(e,t,n,r){return r?Math.max(0,n-1-Math.round(e*t)):Math.min(Math.round(e*t),n-1)}var ce=(0,n(2672).Z)(),Ae=ce&&"undefined"!==typeof document,fe={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(ce,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils");var t,n=e=Object.assign({},fe,e),r=n.width,o=n.height;function a(t){if(e.throwOnError)throw new Error(t);return console.error(t),null}e.onError=a;var s=e,u=s.canvas,l=ve({canvas:u,width:r,height:o,onError:a});return(t=ge(l,e))?(ye(t=pe(t,e)),t):null}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e._instrumented)return e;e._version=e._version||me(e),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var n=t=Object.assign({},fe,t),i=n.manageState,o=n.debug;return i&&J(e,{copyState:!1,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.log.apply(r,[1].concat(t))()}}),ce&&o&&(globalThis.makeDebugContext?(e=globalThis.makeDebugContext(e,t),r.level=Math.max(r.level,1)):r.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),e._instrumented=!0,e}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.canvas){var n=ae(t.useDevicePixels);be(e,n,t)}else{var r=e.getExtension("STACKGL_resize_drawingbuffer");r&&"width"in t&&"height"in t&&r.resize(t.width,t.height)}}function ge(e,t){var n=t.onError,r=null,i=function(e){return r=e.statusMessage||r};e.addEventListener("webglcontextcreationerror",i,!1);var o=t.webgl1,a=void 0===o||o,s=t.webgl2,u=void 0===s||s,l=null;return u&&(l=(l=l||e.getContext("webgl2",t))||e.getContext("experimental-webgl2",t)),a&&(l=(l=l||e.getContext("webgl",t))||e.getContext("experimental-webgl",t)),e.removeEventListener("webglcontextcreationerror",i,!1),l?(t.onContextLost&&e.addEventListener("webglcontextlost",t.onContextLost,!1),t.onContextRestored&&e.addEventListener("webglcontextrestored",t.onContextRestored,!1),l):n("Failed to create ".concat(u&&!a?"WebGL2":"WebGL"," context: ").concat(r||"Unknown error"))}function ve(e){var t,n=e.canvas,r=e.width,i=void 0===r?800:r,o=e.height,a=void 0===o?600:o,s=e.onError;"string"===typeof n?(Ae&&"complete"===document.readyState||s("createGLContext called on canvas '".concat(n,"' before page was loaded")),t=document.getElementById(n)):n?t=n:((t=document.createElement("canvas")).id="lumagl-canvas",t.style.width=Number.isFinite(i)?"".concat(i,"px"):"100%",t.style.height=Number.isFinite(a)?"".concat(a,"px"):"100%",document.body.insertBefore(t,document.body.firstChild));return t}function ye(e){var t=s(e)?"WebGL2":"WebGL1",n=function(e){var t=e.getParameter(7936),n=e.getParameter(7937),r=e.getExtension("WEBGL_debug_renderer_info");return{vendor:r&&e.getParameter(r.UNMASKED_VENDOR_WEBGL||7936)||t,renderer:r&&e.getParameter(r.UNMASKED_RENDERER_WEBGL||7937)||n,vendorMasked:t,rendererMasked:n,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e),i=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",o=e.debug?" debug":"";r.info(1,"".concat(t).concat(o," context ").concat(i))()}function me(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext?2:1}function be(e,t,n){var i="width"in n?n.width:e.canvas.clientWidth,o="height"in n?n.height:e.canvas.clientHeight;i&&o||(r.log(1,"Canvas clientWidth/clientHeight is 0")(),t=1,i=e.canvas.width||1,o=e.canvas.height||1),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var a=e.luma.canvasSizeInfo;if(a.clientWidth!==i||a.clientHeight!==o||a.devicePixelRatio!==t){var s=t,u=Math.floor(i*s),l=Math.floor(o*s);e.canvas.width=u,e.canvas.height=l,e.drawingBufferWidth===u&&e.drawingBufferHeight===l||(r.warn("Device pixel ratio clamped")(),s=Math.min(e.drawingBufferWidth/i,e.drawingBufferHeight/o),e.canvas.width=Math.floor(i*s),e.canvas.height=Math.floor(o*s)),Object.assign(e.luma.canvasSizeInfo,{clientWidth:i,clientHeight:o,devicePixelRatio:t})}}},9278:function(e,t,n){"use strict";n.d(t,{H:function(){return r},Y:function(){return i}});var r="vs",i="fs"},5298:function(e,t,n){"use strict";n.d(t,{O_:function(){return u},Lm:function(){return h},ZP:function(){return f}});var r,i=n(4942),o=n(9278),a=n(2870),s=(r={},(0,i.Z)(r,o.H,"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n"),(0,i.Z)(r,o.Y,"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"),r),u="__LUMA_INJECT_DECLARATIONS__",l=/void\s+main\s*\([^)]*\)\s*\{\n?/,c=/}\n?[^{}]*$/,A=[];function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t===o.H,a=function(t){var r=n[t];r.sort((function(e,t){return e.order-t.order})),A.length=r.length;for(var o=0,a=r.length;o<a;++o)A[o]=r[o].injection;var s="".concat(A.join("\n"),"\n");switch(t){case"vs:#decl":i&&(e=e.replace(u,s));break;case"vs:#main-start":i&&(e=e.replace(l,(function(e){return e+s})));break;case"vs:#main-end":i&&(e=e.replace(c,(function(e){return s+e})));break;case"fs:#decl":i||(e=e.replace(u,s));break;case"fs:#main-start":i||(e=e.replace(l,(function(e){return e+s})));break;case"fs:#main-end":i||(e=e.replace(c,(function(e){return s+e})));break;default:e=e.replace(t,(function(e){return e+s}))}};for(var f in n)a(f);return e=e.replace(u,""),r&&(e=e.replace(/\}\s*$/,(function(e){return e+s[t]}))),e}function h(e){var t={};return(0,a.Z)(Array.isArray(e)&&e.length>1),e.forEach((function(e){for(var n in e)t[n]=t[n]?"".concat(t[n],"\n").concat(e[n]):e[n]})),t}},1925:function(e,t,n){"use strict";n.d(t,{Z:function(){return l},v:function(){return c}});var r=n(5671),i=n(3144),o=n(2870),a={number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},array:{validate:function(e,t){return Array.isArray(e)||ArrayBuffer.isView(e)}}};function s(e){var t=u(e);return"object"===t?e?"type"in e?Object.assign({},e,a[e.type]):"value"in e?(t=u(e.value),Object.assign({type:t},e,a[t])):{type:"object",value:e}:{type:"object",value:null}:Object.assign({type:t,value:e},a[t])}function u(e){return Array.isArray(e)||ArrayBuffer.isView(e)?"array":typeof e}var l=function(){function e(t){(0,r.Z)(this,e);var n=t.name,i=t.vs,a=t.fs,u=t.dependencies,l=void 0===u?[]:u,c=t.uniforms,A=t.getUniforms,f=t.deprecations,h=void 0===f?[]:f,p=t.defines,d=void 0===p?{}:p,g=t.inject,v=void 0===g?{}:g,y=t.vertexShader,m=t.fragmentShader;(0,o.Z)("string"===typeof n),this.name=n,this.vs=i||y,this.fs=a||m,this.getModuleUniforms=A,this.dependencies=l,this.deprecations=this._parseDeprecationDefinitions(h),this.defines=d,this.injections=function(e){var t={vs:{},fs:{}};for(var n in e){var r=e[n];"string"===typeof r&&(r={order:0,injection:r}),t[n.slice(0,2)][n]=r}return t}(v),c&&(this.uniforms=function(e){var t={};for(var n in e){var r=s(e[n]);t[n]=r}return t}(c))}return(0,i.Z)(e,[{key:"getModuleSource",value:function(e){var t;switch(e){case"vs":t=this.vs||"";break;case"fs":t=this.fs||"";break;default:(0,o.Z)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(t,"// END MODULE_").concat(this.name,"\n\n")}},{key:"getUniforms",value:function(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}},{key:"getDefines",value:function(){return this.defines}},{key:"checkDeprecations",value:function(e,t){this.deprecations.forEach((function(n){n.regex.test(e)&&(n.deprecated?t.deprecated(n.old,n.new)():t.removed(n.old,n.new)())}))}},{key:"_parseDeprecationDefinitions",value:function(e){return e.forEach((function(e){if("function"===e.type)e.regex=new RegExp("\\b".concat(e.old,"\\("));else e.regex=new RegExp("".concat(e.type," ").concat(e.old,";"))})),e}},{key:"_defaultGetUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=this.uniforms;for(var r in n){var i=n[r];r in e&&!i.private?(i.validate&&(0,o.Z)(i.validate(e[r],i),"".concat(this.name,": invalid ").concat(r)),t[r]=e[r]):t[r]=i.value}return t}}]),e}();function c(e){if(!e.normalized&&(e.normalized=!0,e.uniforms&&!e.getUniforms)){var t=new l(e);e.getUniforms=t.getUniforms.bind(t)}return e}},6265:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var r={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null}},4506:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.fround(e),i=e-r;return t[n]=r,t[n+1]=i,t}function i(e){return e-Math.fround(e)}function o(e){for(var t=new Float32Array(32),n=0;n<4;++n)for(var i=0;i<4;++i){var o=4*n+i;r(e[4*i+n],t,2*o)}return t}n.d(t,{hO:function(){return u},n2:function(){return s}});var a={ONE:1};var s={name:"fp64-arithmetic",vs:"uniform float ONE;\nvec2 split(float a) {\n  const float SPLIT = 4097.0;\n  float t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float a_hi = t * ONE - (t - a);\n  float a_lo = a * ONE - a_hi;\n#else\n  float a_hi = t - (t - a);\n  float a_lo = a - a_hi;\n#endif\n  return vec2(a_hi, a_lo);\n}\nvec2 split2(vec2 a) {\n  vec2 b = split(a.x);\n  b.y += a.y;\n  return b;\n}\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float sum = (a + b) * ONE;\n  float err = b - (sum - a) * ONE;\n#else\n  float sum = a + b;\n  float err = b - (sum - a);\n#endif\n  return vec2(sum, err);\n}\nvec2 twoSum(float a, float b) {\n  float s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) + (b - v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSub(float a, float b) {\n  float s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) - (b + v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSqr(float a) {\n  float prod = a * a;\n  vec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\n    a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\n  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\n  return vec2(prod, err);\n}\n\nvec2 twoProd(float a, float b) {\n  float prod = a * b;\n  vec2 a_fp64 = split(a);\n  vec2 b_fp64 = split(b);\n  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\n    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\n  return vec2(prod, err);\n}\n\nvec2 sum_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSum(a.x, b.x);\n  t = twoSum(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 sub_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSub(a.x, b.x);\n  t = twoSub(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 mul_fp64(vec2 a, vec2 b) {\n  vec2 prod = twoProd(a.x, b.x);\n  prod.y += a.x * b.y;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  prod.y += a.y * b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  return prod;\n}\n\nvec2 div_fp64(vec2 a, vec2 b) {\n  float xn = 1.0 / b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  vec2 yn = mul_fp64(a, vec2(xn, 0));\n#else\n  vec2 yn = a * xn;\n#endif\n  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;\n  vec2 prod = twoProd(xn, diff);\n  return sum_fp64(yn, prod);\n}\n\nvec2 sqrt_fp64(vec2 a) {\n  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n\n  float x = 1.0 / sqrt(a.x);\n  float yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  vec2 yn_sqr = twoSqr(yn) * ONE;\n#else\n  vec2 yn_sqr = twoSqr(yn);\n#endif\n  float diff = sub_fp64(a, yn_sqr).x;\n  vec2 prod = twoProd(x * 0.5, diff);\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  return sum_fp64(split(yn), prod);\n#else\n  return sum_fp64(vec2(yn, 0.0), prod);\n#endif\n}\n",fs:null,getUniforms:function(){return a},fp64ify:r,fp64LowPart:i,fp64ifyMatrix4:o},u={name:"fp64",vs:"const vec2 E_FP64 = vec2(2.7182817459106445e+00, 8.254840366817007e-08);\nconst vec2 LOG2_FP64 = vec2(0.6931471824645996e+00, -1.9046542121259336e-09);\nconst vec2 PI_FP64 = vec2(3.1415927410125732, -8.742278012618954e-8);\nconst vec2 TWO_PI_FP64 = vec2(6.2831854820251465, -1.7484556025237907e-7);\nconst vec2 PI_2_FP64 = vec2(1.5707963705062866, -4.371139006309477e-8);\nconst vec2 PI_4_FP64 = vec2(0.7853981852531433, -2.1855695031547384e-8);\nconst vec2 PI_16_FP64 = vec2(0.19634954631328583, -5.463923757886846e-9);\nconst vec2 PI_16_2_FP64 = vec2(0.39269909262657166, -1.0927847515773692e-8);\nconst vec2 PI_16_3_FP64 = vec2(0.5890486240386963, -1.4906100798128818e-9);\nconst vec2 PI_180_FP64 = vec2(0.01745329238474369, 1.3519960498364902e-10);\n\nconst vec2 SIN_TABLE_0_FP64 = vec2(0.19509032368659973, -1.6704714833615242e-9);\nconst vec2 SIN_TABLE_1_FP64 = vec2(0.3826834261417389, 6.22335089017767e-9);\nconst vec2 SIN_TABLE_2_FP64 = vec2(0.5555702447891235, -1.1769521357507529e-8);\nconst vec2 SIN_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617041793133e-8);\n\nconst vec2 COS_TABLE_0_FP64 = vec2(0.9807852506637573, 2.9739473106360492e-8);\nconst vec2 COS_TABLE_1_FP64 = vec2(0.9238795042037964, 2.8307490351764386e-8);\nconst vec2 COS_TABLE_2_FP64 = vec2(0.8314695954322815, 1.6870263741530778e-8);\nconst vec2 COS_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617152815436e-8);\n\nconst vec2 INVERSE_FACTORIAL_3_FP64 = vec2(1.666666716337204e-01, -4.967053879312289e-09);\nconst vec2 INVERSE_FACTORIAL_4_FP64 = vec2(4.16666679084301e-02, -1.2417634698280722e-09);\nconst vec2 INVERSE_FACTORIAL_5_FP64 = vec2(8.333333767950535e-03, -4.34617203337595e-10);\nconst vec2 INVERSE_FACTORIAL_6_FP64 = vec2(1.3888889225199819e-03, -3.3631094437103215e-11);\nconst vec2 INVERSE_FACTORIAL_7_FP64 = vec2(1.9841270113829523e-04,  -2.725596874933456e-12);\nconst vec2 INVERSE_FACTORIAL_8_FP64 = vec2(2.4801587642286904e-05, -3.406996025904184e-13);\nconst vec2 INVERSE_FACTORIAL_9_FP64 = vec2(2.75573188446287533e-06, 3.7935713937038186e-14);\nconst vec2 INVERSE_FACTORIAL_10_FP64 = vec2(2.755731998149713e-07, -7.575112367869873e-15);\n\nfloat nint(float d) {\n    if (d == floor(d)) return d;\n    return floor(d + 0.5);\n}\n\nvec2 nint_fp64(vec2 a) {\n    float hi = nint(a.x);\n    float lo;\n    vec2 tmp;\n    if (hi == a.x) {\n        lo = nint(a.y);\n        tmp = quickTwoSum(hi, lo);\n    } else {\n        lo = 0.0;\n        if (abs(hi - a.x) == 0.5 && a.y < 0.0) {\n            hi -= 1.0;\n        }\n        tmp = vec2(hi, lo);\n    }\n    return tmp;\n}\n\nvec2 exp_fp64(vec2 a) {\n\n  const int k_power = 4;\n  const float k = 16.0;\n\n  const float inv_k = 1.0 / k;\n\n  if (a.x <= -88.0) return vec2(0.0, 0.0);\n  if (a.x >= 88.0) return vec2(1.0 / 0.0, 1.0 / 0.0);\n  if (a.x == 0.0 && a.y == 0.0) return vec2(1.0, 0.0);\n  if (a.x == 1.0 && a.y == 0.0) return E_FP64;\n\n  float m = floor(a.x / LOG2_FP64.x + 0.5);\n  vec2 r = sub_fp64(a, mul_fp64(LOG2_FP64, vec2(m, 0.0))) * inv_k;\n  vec2 s, t, p;\n\n  p = mul_fp64(r, r);\n  s = sum_fp64(r, p * 0.5);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_3_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_4_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_5_FP64);\n\n\n\n\n\n\n  s = sum_fp64(s, t);\n  for (int i = 0; i < k_power; i++) {\n    s = sum_fp64(s * 2.0, mul_fp64(s, s));\n  }\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = sum_fp64(s, vec2(ONE, 0.0));\n#else\n  s = sum_fp64(s, vec2(1.0, 0.0));\n#endif\n\n  return s * pow(2.0, m);\n}\n\nvec2 log_fp64(vec2 a)\n{\n  if (a.x == 1.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x <= 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n  vec2 x = vec2(log(a.x), 0.0);\n  vec2 s;\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = vec2(ONE, 0.0);\n#else\n  s = vec2(1.0, 0.0);\n#endif\n\n  x = sub_fp64(sum_fp64(x, mul_fp64(a, exp_fp64(-x))), s);\n  return x;\n}\n\nvec2 sin_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(0.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  s = a;\n  r = a;\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_3_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_5_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvec2 cos_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(1.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  r = x;\n  s = sum_fp64(vec2(1.0, 0.0), r * 0.5);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_4_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_6_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvoid sincos_taylor_fp64(vec2 a, out vec2 sin_t, out vec2 cos_t) {\n  if (a.x == 0.0 && a.y == 0.0) {\n    sin_t = vec2(0.0, 0.0);\n    cos_t = vec2(1.0, 0.0);\n  }\n\n  sin_t = sin_taylor_fp64(a);\n  cos_t = sqrt_fp64(sub_fp64(vec2(1.0, 0.0), mul_fp64(sin_t, sin_t)));\n}\n\nvec2 sin_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return sin_taylor_fp64(t);\n        } else if (j == 1) {\n            return cos_taylor_fp64(t);\n        } else if (j == -1) {\n            return -cos_taylor_fp64(t);\n        } else {\n            return -sin_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 cos_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(1.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return cos_taylor_fp64(t);\n        } else if (j == 1) {\n            return -sin_taylor_fp64(t);\n        } else if (j == -1) {\n            return sin_taylor_fp64(t);\n        } else {\n            return -cos_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 tan_fp64(vec2 a) {\n    vec2 sin_a;\n    vec2 cos_a;\n\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n    vec2 sin_t, cos_t;\n    vec2 s, c;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#else\n        if (abs_k == 1) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs_k == 2) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs_k == 3) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs_k == 4) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#endif\n        if (k > 0) {\n            s = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            s = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return div_fp64(sin_a, cos_a);\n}\n\nvec2 radians_fp64(vec2 degree) {\n  return mul_fp64(degree, PI_180_FP64);\n}\n\nvec2 mix_fp64(vec2 a, vec2 b, float x) {\n  vec2 range = sub_fp64(b, a);\n  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));\n}\n\nvoid vec2_sum_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sum_fp64(a[0], b[0]);\n    out_val[1] = sum_fp64(a[1], b[1]);\n}\n\nvoid vec2_sub_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sub_fp64(a[0], b[0]);\n    out_val[1] = sub_fp64(a[1], b[1]);\n}\n\nvoid vec2_mul_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = mul_fp64(a[0], b[0]);\n    out_val[1] = mul_fp64(a[1], b[1]);\n}\n\nvoid vec2_div_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = div_fp64(a[0], b[0]);\n    out_val[1] = div_fp64(a[1], b[1]);\n}\n\nvoid vec2_mix_fp64(vec2 x[2], vec2 y[2], float a, out vec2 out_val[2]) {\n  vec2 range[2];\n  vec2_sub_fp64(y, x, range);\n  vec2 portion[2];\n  portion[0] = range[0] * a;\n  portion[1] = range[1] * a;\n  vec2_sum_fp64(x, portion, out_val);\n}\n\nvec2 vec2_length_fp64(vec2 x[2]) {\n  return sqrt_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])));\n}\n\nvoid vec2_normalize_fp64(vec2 x[2], out vec2 out_val[2]) {\n  vec2 length = vec2_length_fp64(x);\n  vec2 length_vec2[2];\n  length_vec2[0] = length;\n  length_vec2[1] = length;\n\n  vec2_div_fp64(x, length_vec2, out_val);\n}\n\nvec2 vec2_distance_fp64(vec2 x[2], vec2 y[2]) {\n  vec2 diff[2];\n  vec2_sub_fp64(x, y, diff);\n  return vec2_length_fp64(diff);\n}\n\nvec2 vec2_dot_fp64(vec2 a[2], vec2 b[2]) {\n  vec2 v[2];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n\n  return sum_fp64(v[0], v[1]);\n}\nvoid vec3_sub_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec3_sum_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvec2 vec3_length_fp64(vec2 x[3]) {\n  return sqrt_fp64(sum_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])),\n    mul_fp64(x[2], x[2])));\n}\n\nvec2 vec3_distance_fp64(vec2 x[3], vec2 y[3]) {\n  vec2 diff[3];\n  vec3_sub_fp64(x, y, diff);\n  return vec3_length_fp64(diff);\n}\nvoid vec4_fp64(vec4 a, out vec2 out_val[4]) {\n  out_val[0].x = a[0];\n  out_val[0].y = 0.0;\n\n  out_val[1].x = a[1];\n  out_val[1].y = 0.0;\n\n  out_val[2].x = a[2];\n  out_val[2].y = 0.0;\n\n  out_val[3].x = a[3];\n  out_val[3].y = 0.0;\n}\n\nvoid vec4_scalar_mul_fp64(vec2 a[4], vec2 b, out vec2 out_val[4]) {\n  out_val[0] = mul_fp64(a[0], b);\n  out_val[1] = mul_fp64(a[1], b);\n  out_val[2] = mul_fp64(a[2], b);\n  out_val[3] = mul_fp64(a[3], b);\n}\n\nvoid vec4_sum_fp64(vec2 a[4], vec2 b[4], out vec2 out_val[4]) {\n  for (int i = 0; i < 4; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec4_dot_fp64(vec2 a[4], vec2 b[4], out vec2 out_val) {\n  vec2 v[4];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n  v[2] = mul_fp64(a[2], b[2]);\n  v[3] = mul_fp64(a[3], b[3]);\n\n  out_val = sum_fp64(sum_fp64(v[0], v[1]), sum_fp64(v[2], v[3]));\n}\n\nvoid mat4_vec4_mul_fp64(vec2 b[16], vec2 a[4], out vec2 out_val[4]) {\n  vec2 tmp[4];\n\n  for (int i = 0; i < 4; i++)\n  {\n    for (int j = 0; j < 4; j++)\n    {\n      tmp[j] = b[j + i * 4];\n    }\n    vec4_dot_fp64(a, tmp, out_val[i]);\n  }\n}\n",fs:null,dependencies:[s],fp64ify:r,fp64LowPart:i,fp64ifyMatrix4:o}},3228:function(e,t,n){"use strict";n.d(t,{H:function(){return u}});var r=n(7762),i="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",o={lightSources:{}};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=void 0===t?[0,0,0]:t,r=e.intensity,i=void 0===r?1:r;return n.map((function(e){return e*i/255}))}function s(e){var t=e.ambientLight,n=e.pointLights,r=void 0===n?[]:n,i=e.directionalLights,o=void 0===i?[]:i,s={};return s["lighting_uAmbientLight.color"]=t?a(t):[0,0,0],r.forEach((function(e,t){s["lighting_uPointLight[".concat(t,"].color")]=a(e),s["lighting_uPointLight[".concat(t,"].position")]=e.position,s["lighting_uPointLight[".concat(t,"].attenuation")]=e.attenuation||[1,0,0]})),s.lighting_uPointLightCount=r.length,o.forEach((function(e,t){s["lighting_uDirectionalLight[".concat(t,"].color")]=a(e),s["lighting_uDirectionalLight[".concat(t,"].direction")]=e.direction})),s.lighting_uDirectionalLightCount=o.length,s}var u={name:"lights",vs:i,fs:i,getUniforms:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if("lightSources"in t){var n=t.lightSources||{},i=n.ambientLight,a=n.pointLights,u=n.directionalLights,l=i||a&&a.length>0||u&&u.length>0;return l?Object.assign({},s({ambientLight:i,pointLights:a,directionalLights:u}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){var c,A={pointLights:[],directionalLights:[]},f=(0,r.Z)(t.lights||[]);try{for(f.s();!(c=f.n()).done;){var h=c.value;switch(h.type){case"ambient":A.ambientLight=h;break;case"directional":A.directionalLights.push(h);break;case"point":A.pointLights.push(h)}}}catch(p){f.e(p)}finally{f.f()}return e({lightSources:A})}return{}},defines:{MAX_LIGHTS:3}}},3244:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n  vec3 n;\n  vec3 v;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\n  return vec4(linOut,srgbIn.w);;\n#else\n  return srgbIn;\n#endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);\n  vec3 h = normalize(l+v);\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n\n\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();\n    vec3 v = normalize(u_Camera - pbr_vPosition);\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0,\n      NdotV,\n      0.0,\n      0.0,\n      0.0,\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n#ifdef PBR_DEBUG\n\n\n\n\n\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[n(3228).H]}},5600:function(e,t,n){"use strict";n.d(t,{N:function(){return u},s:function(){return l}});var r=n(3228),i="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",o={};function a(e){var t=e.ambient,n=void 0===t?.35:t,r=e.diffuse,i=void 0===r?.6:r,o=e.shininess,a=void 0===o?32:o,s=e.specularColor;return{lighting_uAmbient:n,lighting_uDiffuse:i,lighting_uShininess:a,lighting_uSpecularColor:(void 0===s?[30,30,30]:s).map((function(e){return e/255}))}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(!("material"in e))return{};var t=e.material;return t?a(t):{lighting_uEnabled:!1}}var u={name:"gouraud-lighting",dependencies:[r.H],vs:i,defines:{LIGHTING_VERTEX:1},getUniforms:s},l={name:"phong-lighting",dependencies:[r.H],fs:i,defines:{LIGHTING_FRAGMENT:1},getUniforms:s}},7500:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1};var i={name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t={};if(void 0!==e.pickingSelectedColor)if(e.pickingSelectedColor){var n=e.pickingSelectedColor.slice(0,3);t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=n}else t.picking_uSelectedColorValid=0;if(e.pickingHighlightColor){var i=Array.from(e.pickingHighlightColor,(function(e){return e/255}));Number.isFinite(i[3])||(i[3]=1),t.picking_uHighlightColor=i}return void 0!==e.pickingActive&&(t.picking_uActive=Boolean(e.pickingActive),t.picking_uAttribute=Boolean(e.pickingAttribute)),t}}},2870:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"shadertools: assertion failed.")}n.d(t,{Z:function(){return r}})},8769:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(5647),i=n(5671),o=n(3144),a=n(9244),s=n(4298),u=n(9378),l={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},c={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},A=function(){function e(){var t=this;(0,i.Z)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];r.forEach((function(e){return t._assign(e)})),Object.freeze(this)}return(0,o.Z)(e,[{key:"toString",value:function(){return JSON.stringify(this)}},{key:"BYTES_PER_ELEMENT",get:function(){return e.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return e.getBytesPerVertex(this)}},{key:"_assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==(e=(0,u.k)("Accessor",e,c)).type&&(this.type=e.type,5124!==e.type&&5125!==e.type||(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&("boolean"===typeof e.index?this.index=e.index?1:0:this.index=e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}}],[{key:"getBytesPerElement",value:function(e){return(0,a.vN)(e.type||5126).BYTES_PER_ELEMENT}},{key:"getBytesPerVertex",value:function(e){return(0,s.h)(e.size),(0,a.vN)(e.type||5126).BYTES_PER_ELEMENT*e.size}},{key:"resolve",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(0,r.Z)(e,[l].concat(n))}}]),e}()},1744:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(5671),i=n(3144),o=n(7326),a=n(136),s=n(7277),u=n(4684),l=n(8769),c=n(9244),A=n(1622),f=n(4298),h=n(9378),p={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},d={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:p},g={removedProps:p},v=function(e,t){(0,a.Z)(u,e);var n=(0,s.Z)(u);function u(e){var t;(0,r.Z)(this,u);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,i)).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),t.target=i.target||(t.gl.webgl2?36662:34962),t.initialize(i),Object.seal((0,o.Z)(t)),t}return(0,i.Z)(u,[{key:t,get:function(){return"Buffer"}},{key:"getElementCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/l.Z.getBytesPerElement(e))}},{key:"getVertexCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/l.Z.getBytesPerVertex(e))}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=(0,h.k)("Buffer",e,d),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}},{key:"setProps",value:function(e){return"accessor"in(e=(0,h.k)("Buffer",e,g))&&this.setAccessor(e.accessor),this}},{key:"setAccessor",value:function(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new l.Z(e),this}},{key:"reallocate",value:function(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}},{key:"setData",value:function(e){return this.initialize(e)}},{key:"subData",value:function(e){ArrayBuffer.isView(e)&&(e={data:e});var t=e,n=t.data,r=t.offset,i=void 0===r?0:r,o=t.srcOffset,a=void 0===o?0:o,s=e.byteLength||e.length;(0,f.h)(n);var u=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(u,this.handle),0!==a||void 0!==s?((0,A.KQ)(this.gl),this.gl.bufferSubData(this.target,i,n,a,s)):this.gl.bufferSubData(u,i,n),this.gl.bindBuffer(u,null),this.debugData=null,this._inferType(n),this}},{key:"copyData",value:function(e){var t=e.sourceBuffer,n=e.readOffset,r=void 0===n?0:n,i=e.writeOffset,o=void 0===i?0:i,a=e.size,s=this.gl;return(0,A.KQ)(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,r,o,a),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dstData,n=void 0===t?null:t,r=e.srcByteOffset,i=void 0===r?0:r,o=e.dstOffset,a=void 0===o?0:o,s=e.length,u=void 0===s?0:s;(0,A.KQ)(this.gl);var l,h,p=(0,c.vN)(this.accessor.type||5126,{clamped:!1}),d=this._getAvailableElementCount(i),g=a;n?l=(h=n.length)-g:h=g+(l=Math.min(d,u||d));var v=Math.min(d,l);return u=u||v,(0,f.h)(u<=v),n=n||new p(h),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,i,n,a,u),this.gl.bindBuffer(36662,null),n}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?this.target:t,r=e.index,i=void 0===r?this.accessor&&this.accessor.index:r,o=e.offset,a=void 0===o?0:o,s=e.size;return 35345===n||35982===n?void 0!==s?this.gl.bindBufferRange(n,i,this.handle,a,s):((0,f.h)(0===a),this.gl.bindBufferBase(n,i,this.handle)):this.gl.bindBuffer(n,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?this.target:t,r=e.index,i=void 0===r?this.accessor&&this.accessor.index:r,o=35345===n||35982===n;return o?this.gl.bindBufferBase(n,i,null):this.gl.bindBuffer(n,null),this}},{key:"getDebugData",value:function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}},{key:"invalidateDebugData",value:function(){this.debugData=null}},{key:"_setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;(0,f.h)(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();var r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,this.usage),this.gl.bufferSubData(r,t,e),this.gl.bindBuffer(r,null),this.debugData=e.slice(0,10),this.bytesUsed=n,this._trackAllocatedMemory(n);var i=(0,c.O)(e);return(0,f.h)(i),this.setAccessor(new l.Z(this.accessor,{type:i})),this}},{key:"_setByteLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;(0,f.h)(e>=0),this._trackDeallocatedMemory();var n=e;0===e&&(n=new Float32Array(0));var r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}},{key:"_getTarget",value:function(){return this.gl.webgl2?36663:this.target}},{key:"_getAvailableElementCount",value:function(e){var t=e/(0,c.vN)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-t}},{key:"_inferType",value:function(e){this.accessor.type||this.setAccessor(new l.Z(this.accessor,{type:(0,c.O)(e)}))}},{key:"_createHandle",value:function(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_getParameter",value:function(e){this.gl.bindBuffer(this.target,this.handle);var t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}},{key:"type",get:function(){return A.cM.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return A.cM.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}},{key:"setByteLength",value:function(e){return A.cM.deprecated("setByteLength","reallocate")(),this.reallocate(e)}},{key:"updateAccessor",value:function(e){return A.cM.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new l.Z(this.accessor,e),this}}]),u}(u.Z,Symbol.toStringTag)},107:function(e,t,n){"use strict";n.d(t,{$:function(){return f},Z:function(){return A}});var r=n(885),i=n(1622),o=n(4298),a=6144,s=6145,u=6146,l=34041,c="clear: bad arguments";function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.framebuffer,r=void 0===n?null:n,a=t.color,s=void 0===a?null:a,u=t.depth,l=void 0===u?null:u,A=t.stencil,f=void 0===A?null:A,h={};r&&(h.framebuffer=r);var p=0;s&&(p|=16384,!0!==s&&(h.clearColor=s)),l&&(p|=256,!0!==l&&(h.clearDepth=l)),f&&(p|=1024,!0!==l&&(h.clearStencil=l)),(0,o.h)(0!==p,c),(0,i.s8)(e,h,(function(){e.clear(p)}))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.framebuffer,A=void 0===n?null:n,f=t.buffer,h=void 0===f?a:f,p=t.drawBuffer,d=void 0===p?0:p,g=t.value,v=void 0===g?[0,0,0,0]:g;(0,i.KQ)(e),(0,i.s8)(e,{framebuffer:A},(function(){switch(h){case a:switch(v.constructor){case Int32Array:e.clearBufferiv(h,d,v);break;case Uint32Array:e.clearBufferuiv(h,d,v);break;case Float32Array:default:e.clearBufferfv(h,d,v)}break;case s:e.clearBufferfv(s,0,[v]);break;case u:e.clearBufferiv(u,0,[v]);break;case l:var t=(0,r.Z)(v,2),n=t[0],i=t[1];e.clearBufferfi(l,0,n,i);break;default:(0,o.h)(!1,c)}}))}},5802:function(e,t,n){"use strict";n.d(t,{Km:function(){return h},Lv:function(){return p},z6:function(){return A},Jb:function(){return f}});var r=n(1744),i=n(6158),o=n(8019),a=n(1622),s=n(9244),u=n(4298);function l(e){switch(e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return(0,u.h)(!1),0}}var c=n(2756);function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sourceX,r=void 0===n?0:n,i=t.sourceY,o=void 0===i?0:i,a=t.sourceFormat,l=void 0===a?6408:a,c=t.sourceAttachment,A=void 0===c?36064:c,f=t.target,h=void 0===f?null:f,p=t.sourceWidth,v=t.sourceHeight,y=t.sourceType,m=d(e),b=m.framebuffer,_=m.deleteFramebuffer;(0,u.h)(b);var w=b.gl,x=b.handle,C=b.attachments;p=p||b.width,v=v||b.height,36064===A&&null===x&&(A=1028),(0,u.h)(C[A]),h=g(h,y=y||C[A].type,l,p,v),y=y||(0,s.O)(h);var B=w.bindFramebuffer(36160,x);return w.readPixels(r,o,p,v,l,y,h),w.bindFramebuffer(36160,B||null),_&&b.delete(),h}function f(e,t){var n=t.sourceX,i=void 0===n?0:n,o=t.sourceY,s=void 0===o?0:o,c=t.sourceFormat,A=void 0===c?6408:c,f=t.target,h=void 0===f?null:f,p=t.targetByteOffset,g=void 0===p?0:p,v=t.sourceWidth,y=t.sourceHeight,m=t.sourceType,b=d(e),_=b.framebuffer,w=b.deleteFramebuffer;(0,u.h)(_),v=v||_.width,y=y||_.height;var x=(0,a.KQ)(_.gl);if(m=m||(h?h.type:5121),!h){var C=l(A),B=function(e){switch(e){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return(0,u.h)(!1),0}}(m),E=g+v*y*C*B;h=new r.Z(x,{byteLength:E,accessor:{type:m,size:C}})}return h.bind({target:35051}),(0,a.s8)(x,{framebuffer:_},(function(){x.readPixels(i,s,v,y,A,m,g)})),h.unbind({target:35051}),w&&_.delete(),h}function h(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sourceAttachment,r=void 0===n?36064:n,i=t.targetMaxHeight,o=void 0===i?Number.MAX_SAFE_INTEGER:i,a=A(e,{sourceAttachment:r}),u=e.width,l=e.height;l>o;){var c=(0,s.KS)({data:a,width:u,height:l});a=c.data,u=c.width,l=c.height}(0,s.c$)({data:a,width:u,height:l});var f=document.createElement("canvas");f.width=u,f.height=l;var h=f.getContext("2d"),p=h.createImageData(u,l);return p.data.set(a),h.putImageData(p,0,0),f.toDataURL()}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sourceX,i=void 0===r?0:r,s=n.sourceY,l=void 0===s?0:s,c=n.targetMipmaplevel,A=void 0===c?0:c,f=n.targetInternalFormat,h=void 0===f?6408:f,p=n.targetX,g=n.targetY,v=n.targetZ,y=n.width,m=n.height,b=d(e),_=b.framebuffer,w=b.deleteFramebuffer;(0,u.h)(_);var x=_.gl,C=_.handle,B="undefined"!==typeof p||"undefined"!==typeof g||"undefined"!==typeof v;p=p||0,g=g||0,v=v||0;var E=x.bindFramebuffer(36160,C);(0,u.h)(t);var S=null;if(t instanceof o.Z&&(S=t,y=Number.isFinite(y)?y:S.width,m=Number.isFinite(m)?m:S.height,S.bind(0),t=S.target),B)switch(t){case 3553:case 34067:x.copyTexSubImage2D(t,A,p,g,i,l,y,m);break;case 35866:case 32879:var k=(0,a.KQ)(x);k.copyTexSubImage3D(t,A,p,g,v,i,l,y,m)}else x.copyTexImage2D(t,A,h,i,l,y,m,0);return S&&S.unbind(),x.bindFramebuffer(36160,E||null),w&&_.delete(),S}function d(e){return e instanceof i.Z?{framebuffer:e,deleteFramebuffer:!1}:{framebuffer:(0,c.Y)(e),deleteFramebuffer:!0}}function g(e,t,n,r,i){return e||(t=t||5121,new((0,s.vN)(t,{clamped:!1}))(r*i*l(n)))}},6158:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(4942),i=n(885),o=n(7762),a=n(5671),s=n(3144),u=n(7326),l=n(1752),c=n(1120),A=n(136),f=n(7277),h=n(1622),p=n(4684),d=n(3978),g=n(845),v=n(107),y=n(5802),m=n(7504),b=n(3554),_=n(4298),w="Multiple render targets not supported",x=function(e,t){(0,A.Z)(p,e);var n=(0,f.Z)(p);function p(e){var t;(0,a.Z)(this,p);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,r)).width=null,t.height=null,t.attachments={},t.readBuffer=36064,t.drawBuffers=[36064],t.ownResources=[],t.initialize(r),Object.seal((0,u.Z)(t)),t}return(0,s.Z)(p,[{key:t,get:function(){return"Framebuffer"}},{key:"MAX_COLOR_ATTACHMENTS",get:function(){var e=(0,h.KQ)(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){var e=(0,h.KQ)(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}},{key:"color",get:function(){return this.attachments[36064]||null}},{key:"texture",get:function(){return this.attachments[36064]||null}},{key:"depth",get:function(){return this.attachments[36096]||this.attachments[33306]||null}},{key:"stencil",get:function(){return this.attachments[36128]||this.attachments[33306]||null}},{key:"initialize",value:function(e){var t=e.width,n=void 0===t?1:t,r=e.height,i=void 0===r?1:r,o=e.attachments,a=void 0===o?null:o,s=e.color,u=void 0===s||s,l=e.depth,c=void 0===l||l,A=e.stencil,f=void 0!==A&&A,h=e.check,p=void 0===h||h,d=e.readBuffer,g=void 0===d?void 0:d,v=e.drawBuffers,y=void 0===v?void 0:v;if((0,_.h)(n>=0&&i>=0,"Width and height need to be integers"),this.width=n,this.height=i,a)for(var m in a){var b=a[m];(Array.isArray(b)?b[0]:b).resize({width:n,height:i})}else a=this._createDefaultAttachments(u,c,f,n,i);this.update({clearAttachments:!0,attachments:a,readBuffer:g,drawBuffers:y}),a&&p&&this.checkStatus()}},{key:"delete",value:function(){var e,t=(0,o.Z)(this.ownResources);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}return(0,l.Z)((0,c.Z)(p.prototype),"delete",this).call(this),this}},{key:"update",value:function(e){var t=e.attachments,n=void 0===t?{}:t,r=e.readBuffer,i=e.drawBuffers,o=e.clearAttachments,a=void 0!==o&&o,s=e.resizeAttachments,u=void 0===s||s;this.attach(n,{clearAttachments:a,resizeAttachments:u});var l=this.gl,c=l.bindFramebuffer(36160,this.handle);return r&&this._setReadBuffer(r),i&&this._setDrawBuffers(i),l.bindFramebuffer(36160,c||null),this}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height;if(null===this.handle)return(0,_.h)(void 0===t&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var r in void 0===t&&(t=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),t!==this.width&&n!==this.height&&h.cM.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(n))(),this.attachments)this.attachments[r].resize({width:t,height:n});return this.width=t,this.height=n,this}},{key:"attach",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clearAttachments,o=void 0!==r&&r,a=n.resizeAttachments,s=void 0===a||a,u={};o&&Object.keys(this.attachments).forEach((function(e){u[e]=null})),Object.assign(u,e);var l=this.gl.bindFramebuffer(36160,this.handle);for(var c in u){(0,_.h)(void 0!==c,"Misspelled framebuffer binding point?");var A=Number(c),f=u[A],h=f;if(h)if(h instanceof g.Z)this._attachRenderbuffer({attachment:A,renderbuffer:h});else if(Array.isArray(f)){var p=(0,i.Z)(f,3),d=p[0],v=p[1],y=void 0===v?0:v,m=p[2],b=void 0===m?0:m;h=d,this._attachTexture({attachment:A,texture:d,layer:y,level:b})}else this._attachTexture({attachment:A,texture:h,layer:0,level:0});else this._unattach(A);s&&h&&h.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,l||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter((function(e){return!t.attachments[e]})).forEach((function(e){delete t.attachments[e]}))}},{key:"checkStatus",value:function(){this.gl;var e=this.getStatus();if(36053!==e)throw new Error(C(e));return this}},{key:"getStatus",value:function(){var e=this.gl,t=e.bindFramebuffer(36160,this.handle),n=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),n}},{key:"clear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,r=t.depth,i=t.stencil,o=t.drawBuffers,a=void 0===o?[]:o,s=this.gl.bindFramebuffer(36160,this.handle);return(n||r||i)&&(0,v.Z)(this.gl,{color:n,depth:r,stencil:i}),a.forEach((function(t,n){(0,v.$)(e.gl,{drawBuffer:n,value:t})})),this.gl.bindFramebuffer(36160,s||null),this}},{key:"readPixels",value:function(){return h.cM.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}},{key:"readPixelsToBuffer",value:function(){return h.cM.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}},{key:"copyToDataUrl",value:function(){return h.cM.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}},{key:"copyToImage",value:function(){return h.cM.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}},{key:"copyToTexture",value:function(){return h.cM.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"blit",value:function(){return h.cM.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}},{key:"invalidate",value:function(e){var t=e.attachments,n=void 0===t?[]:t,r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.width,u=e.height,l=(0,h.KQ)(this.gl),c=l.bindFramebuffer(36008,this.handle);return 0===i&&0===a&&void 0===s&&void 0===u?l.invalidateFramebuffer(36008,n):l.invalidateFramebuffer(36008,n,i,a,s,u),l.bindFramebuffer(36008,c),this}},{key:"getAttachmentParameter",value:function(e,t,n){var r=this._getAttachmentParameterFallback(t);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),n&&r>1e3&&(r=(0,b.km)(this.gl,r)),r}},{key:"getAttachmentParameters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[],i={},a=(0,o.Z)(r);try{for(a.s();!(e=a.n()).done;){var s=e.value,u=n?(0,b.km)(this.gl,s):s;i[u]=this.getAttachmentParameter(t,s,n)}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"getParameters",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.keys(this.attachments),n={},r=0,i=t;r<i.length;r++){var o=i[r],a=Number(o),s=e?(0,b.km)(this.gl,a):a;n[s]=this.getAttachmentParameters(a,e)}return n}},{key:"show",value:function(){return"undefined"!==typeof window&&window.open((0,y.Km)(this),"luma-debug-texture"),this}},{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>h.cM.level||"undefined"===typeof window)return this;t=t||"Framebuffer ".concat(this.id);var n=(0,y.Km)(this,{targetMaxHeight:100});return h.cM.image({logLevel:e,message:t,image:n},t)(),this}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?36160:t;return this.gl.bindFramebuffer(n,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?36160:t;return this.gl.bindFramebuffer(n,null),this}},{key:"_createDefaultAttachments",value:function(e,t,n,i,o){var a,s=null;e&&((s=s||{})[36064]=new d.Z(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:i,height:o,mipmaps:!1,parameters:(a={},(0,r.Z)(a,10241,9729),(0,r.Z)(a,10240,9729),(0,r.Z)(a,10242,33071),(0,r.Z)(a,10243,33071),a)}),this.ownResources.push(s[36064]));return t&&n?((s=s||{})[33306]=new g.Z(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:i,height:111}),this.ownResources.push(s[33306])):t?((s=s||{})[36096]=new g.Z(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:i,height:o}),this.ownResources.push(s[36096])):n&&(0,_.h)(!1),s}},{key:"_unattach",value:function(e){var t=this.attachments[e];t&&(t instanceof g.Z?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}},{key:"_attachRenderbuffer",value:function(e){var t=e.attachment,n=void 0===t?36064:t,r=e.renderbuffer;this.gl.framebufferRenderbuffer(36160,n,36161,r.handle),this.attachments[n]=r}},{key:"_attachTexture",value:function(e){var t=e.attachment,n=void 0===t?36064:t,r=e.texture,i=e.layer,o=e.level,a=this.gl;switch(a.bindTexture(r.target,r.handle),r.target){case 35866:case 32879:(0,h.KQ)(a).framebufferTextureLayer(36160,n,r.target,o,i);break;case 34067:var s=function(e){return e<34069?e+34069:e}(i);a.framebufferTexture2D(36160,n,s,r.handle,o);break;case 3553:a.framebufferTexture2D(36160,n,3553,r.handle,o);break;default:(0,_.h)(!1,"Illegal texture type")}a.bindTexture(r.target,null),this.attachments[n]=r}},{key:"_setReadBuffer",value:function(e){var t=(0,h.vd)(this.gl);t?t.readBuffer(e):(0,_.h)(36064===e||1029===e,w),this.readBuffer=e}},{key:"_setDrawBuffers",value:function(e){var t=this.gl,n=(0,h.KQ)(t);if(n)n.drawBuffers(e);else{var r=t.getExtension("WEBGL_draw_buffers");r?r.drawBuffersWEBGL(e):(0,_.h)(1===e.length&&(36064===e[0]||1029===e[0]),w)}this.drawBuffers=e}},{key:"_getAttachmentParameterFallback",value:function(e){var t=(0,m.N$)(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}},{key:"_createHandle",value:function(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteFramebuffer(this.handle)}},{key:"_bindHandle",value:function(e){return this.gl.bindFramebuffer(36160,e)}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.colorBufferFloat,r=t.colorBufferHalfFloat,i=!0;return n&&(i=Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),r&&(i=i&&Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("EXT_color_buffer_half_float"))),i}},{key:"getDefaultFramebuffer",value:function(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new p(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}}]),p}(p.Z,Symbol.toStringTag);function C(e){return(x.STATUS||{})[e]||"Framebuffer error ".concat(e)}x.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},9617:function(e,t,n){"use strict";n.d(t,{Z:function(){return H}});var r,i=n(7762),o=n(5671),a=n(3144),s=n(7326),u=n(1752),l=n(1120),c=n(136),A=n(7277),f=n(4684),h=n(8019),p=n(6158),d=n(4942),g=n(1622),v=n(845),y=n(4298),m=(r={},(0,d.Z)(r,5126,I.bind(null,"uniform1fv",B,1,L)),(0,d.Z)(r,35664,I.bind(null,"uniform2fv",B,2,L)),(0,d.Z)(r,35665,I.bind(null,"uniform3fv",B,3,L)),(0,d.Z)(r,35666,I.bind(null,"uniform4fv",B,4,L)),(0,d.Z)(r,5124,I.bind(null,"uniform1iv",E,1,L)),(0,d.Z)(r,35667,I.bind(null,"uniform2iv",E,2,L)),(0,d.Z)(r,35668,I.bind(null,"uniform3iv",E,3,L)),(0,d.Z)(r,35669,I.bind(null,"uniform4iv",E,4,L)),(0,d.Z)(r,35670,I.bind(null,"uniform1iv",E,1,L)),(0,d.Z)(r,35671,I.bind(null,"uniform2iv",E,2,L)),(0,d.Z)(r,35672,I.bind(null,"uniform3iv",E,3,L)),(0,d.Z)(r,35673,I.bind(null,"uniform4iv",E,4,L)),(0,d.Z)(r,35674,I.bind(null,"uniformMatrix2fv",B,4,R)),(0,d.Z)(r,35675,I.bind(null,"uniformMatrix3fv",B,9,R)),(0,d.Z)(r,35676,I.bind(null,"uniformMatrix4fv",B,16,R)),(0,d.Z)(r,35678,F),(0,d.Z)(r,35680,F),(0,d.Z)(r,5125,I.bind(null,"uniform1uiv",S,1,L)),(0,d.Z)(r,36294,I.bind(null,"uniform2uiv",S,2,L)),(0,d.Z)(r,36295,I.bind(null,"uniform3uiv",S,3,L)),(0,d.Z)(r,36296,I.bind(null,"uniform4uiv",S,4,L)),(0,d.Z)(r,35685,I.bind(null,"uniformMatrix2x3fv",B,6,R)),(0,d.Z)(r,35686,I.bind(null,"uniformMatrix2x4fv",B,8,R)),(0,d.Z)(r,35687,I.bind(null,"uniformMatrix3x2fv",B,6,R)),(0,d.Z)(r,35688,I.bind(null,"uniformMatrix3x4fv",B,12,R)),(0,d.Z)(r,35689,I.bind(null,"uniformMatrix4x2fv",B,8,R)),(0,d.Z)(r,35690,I.bind(null,"uniformMatrix4x3fv",B,12,R)),(0,d.Z)(r,35678,F),(0,d.Z)(r,35680,F),(0,d.Z)(r,35679,F),(0,d.Z)(r,35682,F),(0,d.Z)(r,36289,F),(0,d.Z)(r,36292,F),(0,d.Z)(r,36293,F),(0,d.Z)(r,36298,F),(0,d.Z)(r,36299,F),(0,d.Z)(r,36300,F),(0,d.Z)(r,36303,F),(0,d.Z)(r,36306,F),(0,d.Z)(r,36307,F),(0,d.Z)(r,36308,F),(0,d.Z)(r,36311,F),r),b={},_={},w={},x=[0];function C(e,t,n,r){1===t&&"boolean"===typeof e&&(e=e?1:0),Number.isFinite(e)&&(x[0]=e,e=x);var i=e.length;if(i%t&&g.cM.warn("Uniform size should be multiples of ".concat(t),e)(),e instanceof n)return e;var o=r[i];o||(o=new n(i),r[i]=o);for(var a=0;a<i;a++)o[a]=e[a];return o}function B(e,t){return C(e,t,Float32Array,b)}function E(e,t){return C(e,t,Int32Array,_)}function S(e,t){return C(e,t,Uint32Array,w)}function k(e,t,n){var r=m[n.type];if(!r)throw new Error("Unknown GLSL uniform type ".concat(n.type));return r().bind(null,e,t)}function O(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};var t=e.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:t[2]||1,isArray:Boolean(t[2])}}function T(e,t,n){for(var r in e){var i=e[r];if((!n||Boolean(n[r]))&&!P(i))throw t=t?"".concat(t," "):"",console.error("".concat(t," Bad uniform ").concat(r),i),new Error("".concat(t," Bad uniform ").concat(r))}return!0}function P(e){return Array.isArray(e)||ArrayBuffer.isView(e)?function(e){if(0===e.length)return!1;for(var t=Math.min(e.length,16),n=0;n<t;++n)if(!Number.isFinite(e[n]))return!1;return!0}(e):!!isFinite(e)||(!0===e||!1===e||(e instanceof h.Z||(e instanceof v.Z||e instanceof p.Z&&Boolean(e.texture))))}function M(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))if(e[t])for(var r=e[t],i=0,o=n.length;i<o;++i)r[i]=n[i];else e[t]=n.slice();else e[t]=n}function F(){var e=null;return function(t,n,r){var i=e!==r;return i&&(t.uniform1i(n,r),e=r),i}}function I(e,t,n,r){var i=null,o=null;return function(a,s,u){var l=t(u,n),c=l.length,A=!1;if(null===i)i=new Float32Array(c),o=c,A=!0;else{(0,y.h)(o===c,"Uniform length cannot change.");for(var f=0;f<c;++f)if(l[f]!==i[f]){A=!0;break}}return A&&(r(a,e,s,l),i.set(l)),A}}function L(e,t,n,r){e[t](n,r)}function R(e,t,n,r){e[t](n,!1,r)}var D=n(1455),Z=n(8769),U=n(1603),j=function(){function e(t){(0,o.Z)(this,e),this.id=t.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(t),this._readVaryingsFromProgram(t)}return(0,a.Z)(e,[{key:"getAttributeInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}},{key:"getAttributeLocation",value:function(e){var t=this.getAttributeInfo(e);return t?t.location:-1}},{key:"getAttributeAccessor",value:function(e){var t=this.getAttributeInfo(e);return t?t.accessor:null}},{key:"getVaryingInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}},{key:"getVaryingIndex",value:function(e){var t=this.getVaryingInfo();return t?t.location:-1}},{key:"getVaryingAccessor",value:function(e){var t=this.getVaryingInfo();return t?t.accessor:null}},{key:"_readAttributesFromProgram",value:function(e){for(var t=e.gl,n=t.getProgramParameter(e.handle,35721),r=0;r<n;r++){var i=t.getActiveAttrib(e.handle,r),o=i.name,a=i.type,s=i.size,u=t.getAttribLocation(e.handle,o);u>=0&&this._addAttribute(u,o,a,s)}this.attributeInfos.sort((function(e,t){return e.location-t.location}))}},{key:"_readVaryingsFromProgram",value:function(e){var t=e.gl;if((0,g.D0)(t)){for(var n=t.getProgramParameter(e.handle,35971),r=0;r<n;r++){var i=t.getTransformFeedbackVarying(e.handle,r),o=i.name,a=i.type,s=i.size;this._addVarying(r,o,a,s)}this.varyingInfos.sort((function(e,t){return e.location-t.location}))}}},{key:"_addAttribute",value:function(e,t,n,r){var i=(0,U.hJ)(n),o={type:i.type,size:r*i.components};this._inferProperties(e,t,o);var a={location:e,name:t,accessor:new Z.Z(o)};this.attributeInfos.push(a),this.attributeInfosByLocation[e]=a,this.attributeInfosByName[a.name]=a}},{key:"_inferProperties",value:function(e,t,n){/instance/i.test(t)&&(n.divisor=1)}},{key:"_addVarying",value:function(e,t,n,r){var i=(0,U.hJ)(n),o=i.type,a=i.components,s={location:e,name:t,accessor:new Z.Z({type:o,size:r*a})};this.varyingInfos.push(s),this.varyingInfosByName[s.name]=s}}]),e}(),N=n(3554),z=n(3889),Q=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],H=function(e,t){(0,c.Z)(r,e);var n=(0,A.Z)(r);function r(e){var t;(0,o.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,i)).stubRemovedMethods("Program","v6.0",Q),t._isCached=!1,t.initialize(i),Object.seal((0,s.Z)(t)),t._setId(i.id),t}return(0,a.Z)(r,[{key:t,get:function(){return"Program"}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hash,n=e.vs,r=e.fs,i=e.varyings,o=e.bufferMode,a=void 0===o?35981:o;return this.hash=t||"",this.vs="string"===typeof n?new D.Qh(this.gl,{id:"".concat(e.id,"-vs"),source:n}):n,this.fs="string"===typeof r?new D.gs(this.gl,{id:"".concat(e.id,"-fs"),source:r}):r,(0,y.h)(this.vs instanceof D.Qh),(0,y.h)(this.fs instanceof D.gs),this.uniforms={},this._textureUniforms={},i&&i.length>0&&((0,g.KQ)(this.gl),this.varyings=i,this.gl2.transformFeedbackVaryings(this.handle,i,a)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new j(this),this.setProps(e)}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:(0,u.Z)((0,l.Z)(r.prototype),"delete",this).call(this,e)}},{key:"setProps",value:function(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}},{key:"draw",value:function(e){var t=this,n=e.logPriority,r=e.drawMode,i=void 0===r?4:r,o=e.vertexCount,a=e.offset,s=void 0===a?0:a,u=e.start,l=e.end,c=e.isIndexed,A=void 0!==c&&c,f=e.indexType,h=void 0===f?5123:f,p=e.instanceCount,d=void 0===p?0:p,v=e.isInstanced,m=void 0===v?d>0:v,b=e.vertexArray,_=void 0===b?null:b,w=e.transformFeedback,x=e.framebuffer,C=e.parameters,B=void 0===C?{}:C,E=e.uniforms,S=e.samplers;if((E||S)&&(g.cM.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(E||{})),g.cM.priority>=n){var k=x?x.id:"default",O="mode=".concat((0,N.km)(this.gl,i)," verts=").concat(o," ")+"instances=".concat(d," indexType=").concat((0,N.km)(this.gl,h)," ")+"isInstanced=".concat(m," isIndexed=").concat(A," ")+"Framebuffer=".concat(k);g.cM.log(n,O)()}return(0,y.h)(_),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===o||m&&0===d)&&(_.bindForDraw(o,d,(function(){if(void 0!==x&&(B=Object.assign({},B,{framebuffer:x})),w){var e=(0,U.$Z)(i);w.begin(e)}t._bindTextures(),(0,g.s8)(t.gl,B,(function(){A&&m?t.gl2.drawElementsInstanced(i,o,h,s,d):A&&(0,g.D0)(t.gl)&&!isNaN(u)&&!isNaN(l)?t.gl2.drawRangeElements(i,u,l,o,h,s):A?t.gl.drawElements(i,o,h,s):m?t.gl2.drawArraysInstanced(i,s,o,d):t.gl.drawArrays(i,s,o)})),w&&w.end()})),!0)}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in g.cM.priority>=2&&T(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle),e){var n=e[t],r=this._uniformSetters[t];if(r){var i=n,o=!1;if(i instanceof p.Z&&(i=i.texture),i instanceof h.Z)if(o=this.uniforms[t]!==n){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);var a=i,s=r.textureIndex;a.bind(s),i=s,this._textureUniforms[t]=a}else i=r.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(r(i)||o)&&M(this.uniforms,t,n)}}return this}},{key:"_areTexturesRenderable",value:function(){var e=!0;for(var t in this._textureUniforms){var n=this._textureUniforms[t];n.update(),e=e&&n.loaded}return e}},{key:"_bindTextures",value:function(){for(var e in this._textureUniforms){var t=this._uniformSetters[e].textureIndex;this._textureUniforms[e].bind(t)}}},{key:"_createHandle",value:function(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function(){this.gl.deleteProgram(this.handle)}},{key:"_getOptionsFromHandle",value:function(e){var t,n=this.gl.getAttachedShaders(e),r={},o=(0,i.Z)(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:r.vs=new D.Qh({handle:a});break;case 35632:r.fs=new D.gs({handle:a})}}}catch(s){o.e(s)}finally{o.f()}return r}},{key:"_getParameter",value:function(e){return this.gl.getProgramParameter(this.handle,e)}},{key:"_setId",value:function(e){if(!e){var t=this._getName();this.id=(0,z.hQ)(t)}}},{key:"_getName",value:function(){var e=this.vs.getName()||this.fs.getName();return e=(e=e.replace(/shader/i,""))?"".concat(e,"-program"):"program"}},{key:"_compileAndLink",value:function(){var e=this.gl;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),g.cM.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),g.cM.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||g.cM.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}},{key:"_readUniformLocationsFromLinkedProgram",value:function(){var e=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(var t=0;t<this._uniformCount;t++){var n=this.gl.getActiveUniform(this.handle,t),r=O(n.name).name,i=e.getUniformLocation(this.handle,r);if(this._uniformSetters[r]=k(e,i,n),n.size>1)for(var o=0;o<n.size;o++)i=e.getUniformLocation(this.handle,"".concat(r,"[").concat(o,"]")),this._uniformSetters["".concat(r,"[").concat(o,"]")]=k(e,i,n)}this._textureIndexCounter=0}},{key:"getActiveUniforms",value:function(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}},{key:"getUniformBlockIndex",value:function(e){return this.gl2.getUniformBlockIndex(this.handle,e)}},{key:"getActiveUniformBlockParameter",value:function(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}},{key:"uniformBlockBinding",value:function(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}]),r}(f.Z,Symbol.toStringTag)},845:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r,i=n(5671),o=n(3144),a=n(7326),s=n(136),u=n(7277),l=n(4684),c=n(4942),A="EXT_color_buffer_float",f=(r={},(0,c.Z)(r,33189,{bpp:2}),(0,c.Z)(r,33190,{gl2:!0,bpp:3}),(0,c.Z)(r,36012,{gl2:!0,bpp:4}),(0,c.Z)(r,36168,{bpp:1}),(0,c.Z)(r,34041,{bpp:4}),(0,c.Z)(r,35056,{gl2:!0,bpp:4}),(0,c.Z)(r,36013,{gl2:!0,bpp:5}),(0,c.Z)(r,32854,{bpp:2}),(0,c.Z)(r,36194,{bpp:2}),(0,c.Z)(r,32855,{bpp:2}),(0,c.Z)(r,33321,{gl2:!0,bpp:1}),(0,c.Z)(r,33330,{gl2:!0,bpp:1}),(0,c.Z)(r,33329,{gl2:!0,bpp:1}),(0,c.Z)(r,33332,{gl2:!0,bpp:2}),(0,c.Z)(r,33331,{gl2:!0,bpp:2}),(0,c.Z)(r,33334,{gl2:!0,bpp:4}),(0,c.Z)(r,33333,{gl2:!0,bpp:4}),(0,c.Z)(r,33323,{gl2:!0,bpp:2}),(0,c.Z)(r,33336,{gl2:!0,bpp:2}),(0,c.Z)(r,33335,{gl2:!0,bpp:2}),(0,c.Z)(r,33338,{gl2:!0,bpp:4}),(0,c.Z)(r,33337,{gl2:!0,bpp:4}),(0,c.Z)(r,33340,{gl2:!0,bpp:8}),(0,c.Z)(r,33339,{gl2:!0,bpp:8}),(0,c.Z)(r,32849,{gl2:!0,bpp:3}),(0,c.Z)(r,32856,{gl2:!0,bpp:4}),(0,c.Z)(r,32857,{gl2:!0,bpp:4}),(0,c.Z)(r,36220,{gl2:!0,bpp:4}),(0,c.Z)(r,36238,{gl2:!0,bpp:4}),(0,c.Z)(r,36975,{gl2:!0,bpp:4}),(0,c.Z)(r,36214,{gl2:!0,bpp:8}),(0,c.Z)(r,36232,{gl2:!0,bpp:8}),(0,c.Z)(r,36226,{gl2:!0,bpp:16}),(0,c.Z)(r,36208,{gl2:!0,bpp:16}),(0,c.Z)(r,33325,{gl2:A,bpp:2}),(0,c.Z)(r,33327,{gl2:A,bpp:4}),(0,c.Z)(r,34842,{gl2:A,bpp:8}),(0,c.Z)(r,33326,{gl2:A,bpp:4}),(0,c.Z)(r,33328,{gl2:A,bpp:8}),(0,c.Z)(r,34836,{gl2:A,bpp:16}),(0,c.Z)(r,35898,{gl2:A,bpp:4}),r),h=n(1622),p=n(4298);function d(e,t,n){var r=n[t];if(!r)return!1;var i=(0,h.D0)(e)&&r.gl2||r.gl1;return"string"===typeof i?e.getExtension(i):i}var g=function(e,t){(0,s.Z)(r,e);var n=(0,u.Z)(r);function r(e){var t;(0,i.Z)(this,r);var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,o)).initialize(o),Object.seal((0,a.Z)(t)),t}return(0,o.Z)(r,[{key:t,get:function(){return"Renderbuffer"}},{key:"initialize",value:function(e){var t=e.format,n=e.width,r=void 0===n?1:n,i=e.height,o=void 0===i?1:i,a=e.samples,s=void 0===a?0:a;return(0,p.h)(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==s&&(0,h.D0)(this.gl)?this.gl.renderbufferStorageMultisample(36161,s,t,r,o):this.gl.renderbufferStorage(36161,t,r,o),this.format=t,this.width=r,this.height=o,this.samples=s,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*f[this.format].bpp),this}},{key:"resize",value:function(e){var t=e.width,n=e.height;return t!==this.width||n!==this.height?this.initialize({width:t,height:n,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_bindHandle",value:function(e){this.gl.bindRenderbuffer(36161,e)}},{key:"_syncHandle",value:function(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null},n=t.format;return!n||d(e,n,f)}},{key:"getSamplesForFormat",value:function(e,t){var n=t.format;return e.getInternalformatParameter(36161,n,32937)}}]),r}(l.Z,Symbol.toStringTag)},4684:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(7762),i=n(5671),o=n(3144),a=n(1622),s=n(6893),u=n(3554),l=n(4298),c=n(3889),A=n(6903),f="Resource subclass must define virtual methods",h=function(e){function t(e){(0,i.Z)(this,t);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.JD)(e);var r=n.id,o=n.userData,s=void 0===o?{}:o;this.gl=e,this.gl2=e,this.id=r||(0,c.hQ)(this[Symbol.toStringTag]),this.userData=s,this._bound=!1,this._handle=n.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._initStats(),this._addStats()}return(0,o.Z)(t,[{key:e,get:function(){return"Resource"}},{key:"toString",value:function(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}},{key:"handle",get:function(){return this._handle}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deleteChildren,n=void 0!==t&&t,r=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,r&&n&&r.filter(Boolean).forEach((function(e){return e.delete()})),this}},{key:"bind",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!==typeof t?(this._bindHandle(t),this):(this._bound?e=t():(this._bindHandle(this.handle),this._bound=!0,e=t(),this._bound=!1,this._bindHandle(null)),e)}},{key:"unbind",value:function(){this.bind(null)}},{key:"getParameter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=(0,u.sF)(this.gl,e),(0,l.h)(e);var n=this.constructor.PARAMETERS||{},r=n[e];if(r){var i=(0,a.D0)(this.gl),o=(!("webgl2"in r)||i)&&(!("extension"in r)||this.gl.getExtension(r.extension));if(!o){var s=r.webgl1,c="webgl2"in r?r.webgl2:r.webgl1,A=i?c:s;return A}}return this._getParameter(e,t)}},{key:"getParameters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.parameters,i=t.keys,o=this.constructor.PARAMETERS||{},s=(0,a.D0)(this.gl),l={},c=n||Object.keys(o),A=(0,r.Z)(c);try{for(A.s();!(e=A.n()).done;){var f=e.value,h=o[f],p=h&&(!("webgl2"in h)||s)&&(!("extension"in h)||this.gl.getExtension(h.extension));if(p){var d=i?(0,u.km)(this.gl,f):f;l[d]=this.getParameter(f,t),i&&"GLenum"===h.type&&(l[d]=(0,u.km)(this.gl,l[d]))}}}catch(g){A.e(g)}finally{A.f()}return l}},{key:"setParameter",value:function(e,t){e=(0,u.sF)(this.gl,e),(0,l.h)(e);var n=(this.constructor.PARAMETERS||{})[e];if(n){var r=(0,a.D0)(this.gl);if(!((!("webgl2"in n)||r)&&(!("extension"in n)||this.gl.getExtension(n.extension))))throw new Error("Parameter not available on this platform");"GLenum"===n.type&&(t=(0,u.sF)(t))}return this._setParameter(e,t),this}},{key:"setParameters",value:function(e){for(var t in e)this.setParameter(t,e[t]);return this}},{key:"stubRemovedMethods",value:function(e,t,n){return(0,A.F)(this,e,t,n)}},{key:"initialize",value:function(e){}},{key:"_createHandle",value:function(){throw new Error(f)}},{key:"_deleteHandle",value:function(){throw new Error(f)}},{key:"_bindHandle",value:function(e){throw new Error(f)}},{key:"_getOptsFromHandle",value:function(){throw new Error(f)}},{key:"_getParameter",value:function(e,t){throw new Error(f)}},{key:"_setParameter",value:function(e,t){throw new Error(f)}},{key:"_context",value:function(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_initStats",value:function(){this.gl.stats=this.gl.stats||new s.Zj}},{key:"_addStats",value:function(){var e=this[Symbol.toStringTag],t=s.lR.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}},{key:"_removeStats",value:function(){var e=this[Symbol.toStringTag];s.lR.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}},{key:"_trackAllocatedMemory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._doTrackAllocatedMemory(e,t),this._doTrackAllocatedMemory(e,t,this.gl.stats.get("Memory Usage"))}},{key:"_doTrackAllocatedMemory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.lR.get("Memory Usage");n.get("GPU Memory").addCount(e),n.get("".concat(t," Memory")).addCount(e),this.byteLength=e}},{key:"_trackDeallocatedMemory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._doTrackDeallocatedMemory(e),this._doTrackDeallocatedMemory(e,this.gl.stats.get("Memory Usage"))}},{key:"_doTrackDeallocatedMemory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.lR.get("Memory Usage");t.get("GPU Memory").subtractCount(this.byteLength),t.get("".concat(e," Memory")).subtractCount(this.byteLength),this.byteLength=0}}]),t}(Symbol.toStringTag)},1455:function(e,t,n){"use strict";n.d(t,{gs:function(){return v},Qh:function(){return g}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(1622);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed",n=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,r=e.match(n);return r?r[1]:t}function l(e,t,n,r){for(var i=e.split(/\r?\n/),o={},a={},s=r||u(t)||"(unnamed)",l="".concat(function(e){switch(e){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(n)," shader ").concat(s),f=0;f<i.length;f++){var h=i[f];if(!(h.length<=1)){var p=h.split(":"),d=p[0],g=parseInt(p[2],10);if(isNaN(g))throw new Error("GLSL compilation error in ".concat(l,": ").concat(e));"WARNING"!==d?o[g]=h:a[g]=h}}var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",r=e.split(/\r?\n/),i=String(r.length+t-1).length;return r.map((function(e,r){var o=String(r+t),a=o.length;return A(o,i-a)+n+e}))}(t);return{shaderName:l,errors:c(o,v),warnings:c(a,v)}}function c(e,t){for(var n="",r=0;r<t.length;r++){var i=t[r];if((e[r+3]||e[r+2]||e[r+1])&&(n+="".concat(i,"\n"),e[r+1])){var o=e[r+1],a=o.split(":",3),s=a[0],u=parseInt(a[1],10)||0,l=o.substring(a.join(":").length+1).trim();n+=A("^^^ ".concat(s,": ").concat(l,"\n\n"),u)}}return n}function A(e,t){for(var n="",r=0;r<t;++r)n+=" ";return"".concat(n).concat(e)}var f=n(4298),h=n(3889),p=n(4684),d=function(e,t){(0,o.Z)(c,e);var n=(0,a.Z)(c);function c(e,t){var i;(0,r.Z)(this,c),(0,s.JD)(e),(0,f.h)("string"===typeof t.source,"Shader: GLSL source code must be a JavaScript string");var o=u(t.source,null)||t.id||(0,h.hQ)("unnamed ".concat(c.getTypeName(t.shaderType)));return(i=n.call(this,e,{id:o})).shaderType=t.shaderType,i.source=t.source,i.initialize(t),i}return(0,i.Z)(c,[{key:t,get:function(){return"Shader"}},{key:"initialize",value:function(e){var t=e.source,n=u(t,null);n&&(this.id=(0,h.hQ)(n)),this._compile(t)}},{key:"getParameter",value:function(e){return this.gl.getShaderParameter(this.handle,e)}},{key:"toString",value:function(){return"".concat(c.getTypeName(this.shaderType),":").concat(this.id)}},{key:"getName",value:function(){return u(this.source)||"unnamed-shader"}},{key:"getSource",value:function(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function(){var e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}},{key:"_compile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);var t=this.getParameter(35713);if(!t){var n=this.gl.getShaderInfoLog(this.handle),r=l(n,this.source,this.shaderType,this.id),i=r.shaderName,o=r.errors,a=r.warnings;throw s.cM.error("GLSL compilation errors in ".concat(i,"\n").concat(o))(),s.cM.warn("GLSL compilation warnings in ".concat(i,"\n").concat(a))(),new Error("GLSL compilation errors in ".concat(i))}}},{key:"_deleteHandle",value:function(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function(){return{type:this.getParameter(35663),source:this.getSource()}}}],[{key:"getTypeName",value:function(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return(0,f.h)(!1),"unknown"}}}]),c}(p.Z,Symbol.toStringTag),g=function(e,t){(0,o.Z)(s,e);var n=(0,a.Z)(s);function s(e,t){return(0,r.Z)(this,s),"string"===typeof t&&(t={source:t}),n.call(this,e,Object.assign({},t,{shaderType:35633}))}return(0,i.Z)(s,[{key:t,get:function(){return"VertexShader"}},{key:"_createHandle",value:function(){return this.gl.createShader(35633)}}]),s}(d,Symbol.toStringTag),v=function(e,t){(0,o.Z)(s,e);var n=(0,a.Z)(s);function s(e,t){return(0,r.Z)(this,s),"string"===typeof t&&(t={source:t}),n.call(this,e,Object.assign({},t,{shaderType:35632}))}return(0,i.Z)(s,[{key:t,get:function(){return"FragmentShader"}},{key:"_createHandle",value:function(){return this.gl.createShader(35632)}}]),s}(d,Symbol.toStringTag)},3978:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(5671),i=n(3144),o=n(7326),a=n(136),s=n(7277),u=n(1622),l=n(8019),c=n(4298),A="";function f(e,t){return(0,c.h)("string"===typeof e),e=A+e,new Promise((function(n,r){try{var i=new Image;i.onload=function(){return n(i)},i.onerror=function(){return r(new Error("Could not load image ".concat(e,".")))},i.crossOrigin=t&&t.crossOrigin||"anonymous",i.src=e}catch(o){r(o)}}))}var h=function(e,t){(0,a.Z)(c,e);var n=(0,s.Z)(c);function c(e){var t;(0,r.Z)(this,c);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.JD)(e),(i instanceof Promise||"string"===typeof i)&&(i={data:i}),"string"===typeof i.data&&(i=Object.assign({},i,{data:f(i.data)})),(t=n.call(this,e,Object.assign({},i,{target:3553}))).initialize(i),Object.seal((0,o.Z)(t)),t}return(0,i.Z)(c,[{key:t,get:function(){return"Texture2D"}}],[{key:"isSupported",value:function(e,t){return l.Z.isSupported(e,t)}}]),c}(l.Z,Symbol.toStringTag)},8935:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(5671),i=n(3144),o=n(7326),a=n(136),s=n(7277),u=n(1622),l=n(8019),c=n(7496),A=n(1744),f=function(e,t){(0,a.Z)(l,e);var n=(0,s.Z)(l);function l(e){var t;(0,r.Z)(this,l);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.KQ)(e),i=Object.assign({depth:1},i,{target:32879,unpackFlipY:!1}),(t=n.call(this,e,i)).initialize(i),Object.seal((0,o.Z)(t)),t}return(0,i.Z)(l,[{key:t,get:function(){return"Texture3D"}},{key:"setImageData",value:function(e){var t=this,n=e.level,r=void 0===n?0:n,i=e.dataFormat,o=void 0===i?6408:i,a=e.width,s=e.height,l=e.depth,f=void 0===l?1:l,h=e.border,p=void 0===h?0:h,d=e.format,g=e.type,v=void 0===g?5121:g,y=e.offset,m=void 0===y?0:y,b=e.data,_=e.parameters,w=void 0===_?{}:_;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),(0,u.s8)(this.gl,w,(function(){ArrayBuffer.isView(b)&&t.gl.texImage3D(t.target,r,o,a,s,f,p,d,v,b),b instanceof A.Z&&(t.gl.bindBuffer(35052,b.handle),t.gl.texImage3D(t.target,r,o,a,s,f,p,d,v,m))})),b&&b.byteLength)this._trackAllocatedMemory(b.byteLength,"Texture");else{var x=c.C[this.dataFormat]||4,C=c.pH[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*x*C,"Texture")}return this.loaded=!0,this}}],[{key:"isSupported",value:function(e){return(0,u.D0)(e)}}]),l}(l.Z,Symbol.toStringTag)},5361:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(4165),i=n(5861),o=n(5671),a=n(3144),s=n(7326),u=n(136),l=n(7277),c=n(1622),A=n(8019),f=[34069,34070,34071,34072,34073,34074],h=function(e,t){(0,u.Z)(A,e);var n=(0,l.Z)(A);function A(e){var t;(0,o.Z)(this,A);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.JD)(e),(t=n.call(this,e,Object.assign({},r,{target:34067}))).initialize(r),Object.seal((0,s.Z)(t)),t}return(0,a.Z)(A,[{key:t,get:function(){return"TextureCube"}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.mipmaps,r=void 0===n||n,i=t.parameters,o=void 0===i?{}:i;return this.opts=t,this.setCubeMapImageData(t).then((function(){e.loaded=!0,r&&e.generateMipmap(t),e.setParameters(o)})),this}},{key:"subImage",value:function(e){var t=e.face,n=e.data,r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.mipmapLevel,u=void 0===s?0:s;return this._subImage({target:t,data:n,x:i,y:a,mipmapLevel:u})}},{key:"setCubeMapImageData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,o,a,s,u,l,A,h,p,d,g,v,y=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.width,i=t.height,o=t.pixels,a=t.data,s=t.border,u=void 0===s?0:s,l=t.format,A=void 0===l?6408:l,h=t.type,p=void 0===h?5121:h,d=this.gl,g=o||a,e.next=5,Promise.all(f.map((function(e){var t=g[e];return Promise.all(Array.isArray(t)?t:[t])})));case 5:v=e.sent,this.bind(),f.forEach((function(e,t){v[t].length>1&&!1!==y.opts.mipmaps&&c.cM.warn("".concat(y.id," has mipmap and multiple LODs."))(),v[t].forEach((function(t,r){n&&i?d.texImage2D(e,r,A,n,i,u,A,p,t):d.texImage2D(e,r,A,A,p,t)}))})),this.unbind();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setImageDataForFace",value:function(e){var t=this,n=e.face,r=e.width,i=e.height,o=e.pixels,a=e.data,s=e.border,u=void 0===s?0:s,l=e.format,c=void 0===l?6408:l,A=e.type,f=void 0===A?5121:A,h=this.gl,p=o||a;return this.bind(),p instanceof Promise?p.then((function(r){return t.setImageDataForFace(Object.assign({},e,{face:n,data:r,pixels:r}))})):this.width||this.height?h.texImage2D(n,0,c,r,i,u,c,f,p):h.texImage2D(n,0,c,c,f,p),this}}]),A}(A.Z,Symbol.toStringTag);h.FACES=f},7496:function(e,t,n){"use strict";n.d(t,{C:function(){return l},KR:function(){return f},ae:function(){return u},br:function(){return A},pH:function(){return c}});var r,i,o,a=n(4942),s=n(1622),u=(r={},(0,a.Z)(r,6407,{dataFormat:6407,types:[5121,33635]}),(0,a.Z)(r,6408,{dataFormat:6408,types:[5121,32819,32820]}),(0,a.Z)(r,6406,{dataFormat:6406,types:[5121]}),(0,a.Z)(r,6409,{dataFormat:6409,types:[5121]}),(0,a.Z)(r,6410,{dataFormat:6410,types:[5121]}),(0,a.Z)(r,33326,{dataFormat:6403,types:[5126],gl2:!0}),(0,a.Z)(r,33328,{dataFormat:33319,types:[5126],gl2:!0}),(0,a.Z)(r,34837,{dataFormat:6407,types:[5126],gl2:!0}),(0,a.Z)(r,34836,{dataFormat:6408,types:[5126],gl2:!0}),r),l=(i={},(0,a.Z)(i,6403,1),(0,a.Z)(i,36244,1),(0,a.Z)(i,33319,2),(0,a.Z)(i,33320,2),(0,a.Z)(i,6407,3),(0,a.Z)(i,36248,3),(0,a.Z)(i,6408,4),(0,a.Z)(i,36249,4),(0,a.Z)(i,6402,1),(0,a.Z)(i,34041,1),(0,a.Z)(i,6406,1),(0,a.Z)(i,6409,1),(0,a.Z)(i,6410,2),i),c=(o={},(0,a.Z)(o,5126,4),(0,a.Z)(o,5125,4),(0,a.Z)(o,5124,4),(0,a.Z)(o,5123,2),(0,a.Z)(o,5122,2),(0,a.Z)(o,5131,2),(0,a.Z)(o,5120,1),(0,a.Z)(o,5121,1),o);function A(e,t){var n=u[t];if(!n)return!1;if(void 0===n.gl1&&void 0===n.gl2)return!0;var r=(0,s.D0)(e)&&n.gl2||n.gl1;return"string"===typeof r?e.getExtension(r):r}function f(e,t){var n=u[t];switch(n&&n.types[0]){case 5126:return e.getExtension("OES_texture_float_linear");case 5131:return e.getExtension("OES_texture_half_float_linear");default:return!0}}},8019:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(885),i=n(7762),o=n(5671),a=n(3144),s=n(136),u=n(7277),l=n(1622),c=n(4684),A=n(1744),f=n(7496),h=n(4298),p=n(3889),d=[9729,9728],g=globalThis.WebGLBuffer||function(){},v=function(e,t){(0,s.Z)(c,e);var n=(0,u.Z)(c);function c(e,t){var r;(0,o.Z)(this,c);var i=t.id,a=void 0===i?(0,p.hQ)("texture"):i,s=t.handle,u=t.target;return(r=n.call(this,e,{id:a,handle:s})).target=u,r.textureUnit=void 0,r.loaded=!1,r.width=void 0,r.height=void 0,r.depth=void 0,r.format=void 0,r.type=void 0,r.dataFormat=void 0,r.border=void 0,r.textureUnit=void 0,r.mipmaps=void 0,r}return(0,a.Z)(c,[{key:t,get:function(){return"Texture"}},{key:"toString",value:function(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data;if(n instanceof Promise)return n.then((function(n){return e.initialize(Object.assign({},t,{pixels:n,data:n}))})),this;var r="undefined"!==typeof HTMLVideoElement&&n instanceof HTMLVideoElement;if(r&&n.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,n.addEventListener("loadeddata",(function(){return e.initialize(t)})),this;var i=t.pixels,o=void 0===i?null:i,a=t.format,s=void 0===a?6408:a,u=t.border,c=void 0===u?0:u,A=t.recreate,f=void 0!==A&&A,h=t.parameters,p=void 0===h?{}:h,d=t.pixelStore,g=void 0===d?{}:d,v=t.textureUnit,y=void 0===v?void 0:v;n||(n=o);var m=t.width,b=t.height,_=t.dataFormat,w=t.type,x=t.compressed,C=void 0!==x&&x,B=t.mipmaps,E=void 0===B||B,S=t.depth,k=void 0===S?0:S,O=this._deduceParameters({format:s,type:w,dataFormat:_,compressed:C,data:n,width:m,height:b});return m=O.width,b=O.height,C=O.compressed,_=O.dataFormat,w=O.type,this.width=m,this.height=b,this.depth=k,this.format=s,this.type=w,this.dataFormat=_,this.border=c,this.textureUnit=y,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),E&&this._isNPOT()&&(l.cM.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),E=!1,this._updateForNPOT(p)),this.mipmaps=E,this.setImageData({data:n,width:m,height:b,depth:k,format:s,type:w,dataFormat:_,border:c,mipmaps:E,parameters:g,compressed:C}),E&&this.generateMipmap(),this.setParameters(p),f&&(this.data=n),r&&(this._video={video:n,parameters:p,lastTime:n.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?n.currentTime:-1}),this}},{key:"update",value:function(){if(this._video){var e=this._video,t=e.video,n=e.parameters;if(e.lastTime===t.currentTime||t.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:t,parameters:n}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=t.currentTime}}},{key:"resize",value:function(e){var t=e.height,n=e.width,r=e.mipmaps,i=void 0!==r&&r;return n!==this.width||t!==this.height?this.initialize({width:n,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:i}):this}},{key:"generateMipmap",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(l.cM.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),(0,l.s8)(this.gl,t,(function(){e.gl.generateMipmap(e.target)})),this.gl.bindTexture(this.target,null),this)}},{key:"setImageData",value:function(e){this._trackDeallocatedMemory("Texture");var t=e.target,n=void 0===t?this.target:t,o=e.pixels,a=void 0===o?null:o,s=e.level,u=void 0===s?0:s,c=e.format,A=void 0===c?this.format:c,p=e.border,d=void 0===p?this.border:p,g=e.offset,v=void 0===g?0:g,y=e.parameters,m=void 0===y?{}:y,b=e.data,_=void 0===b?null:b,w=e.type,x=void 0===w?this.type:w,C=e.width,B=void 0===C?this.width:C,E=e.height,S=void 0===E?this.height:E,k=e.dataFormat,O=void 0===k?this.dataFormat:k,T=e.compressed,P=void 0!==T&&T;_||(_=a);var M=this._deduceParameters({format:A,type:x,dataFormat:O,compressed:P,data:_,width:B,height:S});x=M.type,O=M.dataFormat,P=M.compressed,B=M.width,S=M.height;var F=this.gl;F.bindTexture(this.target,this.handle);var I,L,R=this._getDataType({data:_,compressed:P});_=R.data,I=R.dataType;var D=0;if((0,l.s8)(this.gl,m,(function(){switch(I){case"null":F.texImage2D(n,u,A,B,S,d,O,x,_);break;case"typed-array":F.texImage2D(n,u,A,B,S,d,O,x,_,v);break;case"buffer":(L=(0,l.KQ)(F)).bindBuffer(35052,_.handle||_),L.texImage2D(n,u,A,B,S,d,O,x,v),L.bindBuffer(35052,null);break;case"browser-object":(0,l.D0)(F)?F.texImage2D(n,u,A,B,S,d,O,x,_):F.texImage2D(n,u,A,O,x,_);break;case"compressed":var e,t=(0,i.Z)(_.entries());try{for(t.s();!(e=t.n()).done;){var o=(0,r.Z)(e.value,2),a=o[0],s=o[1];F.compressedTexImage2D(n,a,s.format,s.width,s.height,d,s.data),D+=s.levelSize}}catch(c){t.e(c)}finally{t.f()}break;default:(0,h.h)(!1,"Unknown image data type")}})),"compressed"===I)this._trackAllocatedMemory(D,"Texture");else if(_&&_.byteLength)this._trackAllocatedMemory(_.byteLength,"Texture");else{var Z=f.C[this.dataFormat]||4,U=f.pH[this.type]||1;this._trackAllocatedMemory(this.width*this.height*Z*U,"Texture")}return this.loaded=!0,this}},{key:"setSubImageData",value:function(e){var t=this,n=e.target,r=void 0===n?this.target:n,i=e.pixels,o=void 0===i?null:i,a=e.data,s=void 0===a?null:a,u=e.x,c=void 0===u?0:u,f=e.y,p=void 0===f?0:f,d=e.width,v=void 0===d?this.width:d,y=e.height,m=void 0===y?this.height:y,b=e.level,_=void 0===b?0:b,w=e.format,x=void 0===w?this.format:w,C=e.type,B=void 0===C?this.type:C,E=e.dataFormat,S=void 0===E?this.dataFormat:E,k=e.compressed,O=void 0!==k&&k,T=e.offset,P=void 0===T?0:T,M=e.border,F=(void 0===M&&this.border,e.parameters),I=void 0===F?{}:F,L=this._deduceParameters({format:x,type:B,dataFormat:S,compressed:O,data:s,width:v,height:m});if(B=L.type,S=L.dataFormat,O=L.compressed,v=L.width,m=L.height,(0,h.h)(0===this.depth,"texSubImage not supported for 3D textures"),s||(s=o),s&&s.data){var R=s;s=R.data,v=R.shape[0],m=R.shape[1]}s instanceof A.Z&&(s=s.handle),this.gl.bindTexture(this.target,this.handle),(0,l.s8)(this.gl,I,(function(){if(O)t.gl.compressedTexSubImage2D(r,_,c,p,v,m,x,s);else if(null===s)t.gl.texSubImage2D(r,_,c,p,v,m,S,B,null);else if(ArrayBuffer.isView(s))t.gl.texSubImage2D(r,_,c,p,v,m,S,B,s,P);else if(s instanceof g){var e=(0,l.KQ)(t.gl);e.bindBuffer(35052,s),e.texSubImage2D(r,_,c,p,v,m,S,B,P),e.bindBuffer(35052,null)}else if((0,l.D0)(t.gl)){(0,l.KQ)(t.gl).texSubImage2D(r,_,c,p,v,m,S,B,s)}else t.gl.texSubImage2D(r,_,c,p,S,B,s)})),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function(){return l.cM.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(34016)-33984}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}},{key:"_getDataType",value:function(e){var t=e.data,n=e.compressed;return void 0!==n&&n?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof A.Z?{data:t.handle,dataType:"buffer"}:t instanceof g?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}},{key:"_deduceParameters",value:function(e){var t=e.format,n=e.data,r=e.width,i=e.height,o=e.dataFormat,a=e.type,s=e.compressed,u=f.ae[t];o=o||u&&u.dataFormat,a=a||u&&u.types[0],s=s||u&&u.compressed;var l=this._deduceImageSize(n,r,i);return{dataFormat:o,type:a,compressed:s,width:r=l.width,height:i=l.height,format:t,data:n}}},{key:"_deduceImageSize",value:function(e,t,n){var r;return r="undefined"!==typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?{width:e.width,height:e.height}:"undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:n}:{width:t>=0?t:1,height:n>=0?n:1},(0,h.h)(r,"Could not deduced texture size"),(0,h.h)(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),(0,h.h)(void 0===n||r.height===n,"Deduced texture height does not match supplied height"),r}},{key:"_createHandle",value:function(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}},{key:"_getParameter",value:function(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);var t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}},{key:"_setParameter",value:function(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:(0,h.h)(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function(){return!(0,l.D0)(this.gl)&&(!(!this.width||!this.height)&&(!(0,p.wt)(this.width)||!(0,p.wt)(this.height)))}},{key:"_updateForNPOT",value:function(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function(e,t){if(this._isNPOT())switch(e){case 10241:-1===d.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.format,r=t.linearFiltering,i=!0;return n&&(i=(i=i&&(0,f.br)(e,n))&&(!r||(0,f.KR)(e,n))),i}}]),c}(c.Z,Symbol.toStringTag)},771:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(5671),i=n(3144),o=n(7326),a=n(136),s=n(7277),u=n(1622),l=n(4684),c=n(1744),A=n(3889),f=function(e,t){(0,a.Z)(l,e);var n=(0,s.Z)(l);function l(e){var t;(0,r.Z)(this,l);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.KQ)(e),(t=n.call(this,e,i)).initialize(i),t.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal((0,o.Z)(t)),t}return(0,i.Z)(l,[{key:t,get:function(){return"TransformFeedback"}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,(0,A.nK)(this.buffers)||this.bind((function(){return e._unbindBuffers()})),this.setProps(t),this}},{key:"setProps",value:function(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}},{key:"setBuffers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((function(){for(var n in t)e.setBuffer(n,t[n])})),this}},{key:"setBuffer",value:function(e,t){var n=this._getVaryingIndex(e),r=this._getBufferParams(t),i=r.buffer,o=r.byteSize,a=r.byteOffset;return n<0?(this.unused[e]=i,u.cM.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[n]=t,this.bindOnUse||this._bindBuffer(n,i,a,o),this)}},{key:"begin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}},{key:"end",value:function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}},{key:"_getBufferParams",value:function(e){var t,n,r;return e instanceof c.Z===!1?(r=e.buffer,n=e.byteSize,t=e.byteOffset):r=e,void 0===t&&void 0===n||(t=t||0,n=n||r.byteLength-t),{buffer:r,byteOffset:t,byteSize:n}}},{key:"_getVaryingInfo",value:function(e){return this.configuration&&this.configuration.getVaryingInfo(e)}},{key:"_getVaryingIndex",value:function(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;var t=Number(e);return Number.isFinite(t)?t:-1}},{key:"_bindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers){var t=this._getBufferParams(this.buffers[e]),n=t.buffer,r=t.byteSize,i=t.byteOffset;this._bindBuffer(e,n,i,r)}}},{key:"_unbindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers)this._bindBuffer(e,null)}},{key:"_bindBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=t&&t.handle;return i&&void 0!==r?this.gl.bindBufferRange(35982,e,i,n,r):this.gl.bindBufferBase(35982,e,i),this}},{key:"_createHandle",value:function(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function(){this.gl.deleteTransformFeedback(this.handle)}},{key:"_bindHandle",value:function(e){this.gl.bindTransformFeedback(36386,this.handle)}}],[{key:"isSupported",value:function(e){return(0,u.D0)(e)}}]),l}(l.Z,Symbol.toStringTag)},7504:function(e,t,n){"use strict";n.d(t,{N$:function(){return l},U6:function(){return s},ag:function(){return u}});var r=n(7762),i=n(348),o=n(1622),a=n(4298);function s(e,t){return u(e,t)}function u(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return c(e,t)}))}function l(e){for(var t in e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},i.Z)void 0===e.luma.caps[t]&&(e.luma.caps[t]=c(e,t));return e.luma.caps}function c(e,t){return e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},void 0===e.luma.caps[t]&&(e.luma.caps[t]=function(e,t){var n,s=i.Z[t];(0,a.h)(s,t);var u=(0,o.D0)(e)&&s[1]||s[0];if("function"===typeof u)n=u(e);else if(Array.isArray(u)){n=!0;var l,c=(0,r.Z)(u);try{for(c.s();!(l=c.n()).done;){var A=l.value;n=n&&Boolean(e.getExtension(A))}}catch(f){c.e(f)}finally{c.f()}}else"string"===typeof u?n=Boolean(e.getExtension(u)):"boolean"===typeof u?n=u:(0,a.h)(!1);return n}(e,t)),e.luma.caps[t]||o.cM.log(2,"Feature: ".concat(t," not supported"))(),e.luma.caps[t]}},348:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r,i=n(4942),o=n(6158),a=n(3978),s={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};t.Z=(r={},(0,i.Z)(r,s.WEBGL2,[!1,!0]),(0,i.Z)(r,s.VERTEX_ARRAY_OBJECT,["OES_vertex_array_object",!0]),(0,i.Z)(r,s.TIMER_QUERY,["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"]),(0,i.Z)(r,s.INSTANCED_RENDERING,["ANGLE_instanced_arrays",!0]),(0,i.Z)(r,s.MULTIPLE_RENDER_TARGETS,["WEBGL_draw_buffers",!0]),(0,i.Z)(r,s.ELEMENT_INDEX_UINT32,["OES_element_index_uint",!0]),(0,i.Z)(r,s.BLEND_EQUATION_MINMAX,["EXT_blend_minmax",!0]),(0,i.Z)(r,s.FLOAT_BLEND,["EXT_float_blend"]),(0,i.Z)(r,s.COLOR_ENCODING_SRGB,["EXT_sRGB",!0]),(0,i.Z)(r,s.TEXTURE_DEPTH,["WEBGL_depth_texture",!0]),(0,i.Z)(r,s.TEXTURE_FLOAT,["OES_texture_float",!0]),(0,i.Z)(r,s.TEXTURE_HALF_FLOAT,["OES_texture_half_float",!0]),(0,i.Z)(r,s.TEXTURE_FILTER_LINEAR_FLOAT,["OES_texture_float_linear"]),(0,i.Z)(r,s.TEXTURE_FILTER_LINEAR_HALF_FLOAT,["OES_texture_half_float_linear"]),(0,i.Z)(r,s.TEXTURE_FILTER_ANISOTROPIC,["EXT_texture_filter_anisotropic"]),(0,i.Z)(r,s.COLOR_ATTACHMENT_RGBA32F,[function(e){var t=new a.Z(e,{format:6408,type:5126,dataFormat:6408}),n=new o.Z(e,{id:"test-framebuffer",check:!1,attachments:(0,i.Z)({},36064,t)}),r=n.getStatus();return t.delete(),n.delete(),36053===r},"EXT_color_buffer_float"]),(0,i.Z)(r,s.COLOR_ATTACHMENT_FLOAT,[!1,"EXT_color_buffer_float"]),(0,i.Z)(r,s.COLOR_ATTACHMENT_HALF_FLOAT,["EXT_color_buffer_half_float"]),(0,i.Z)(r,s.GLSL_FRAG_DATA,["WEBGL_draw_buffers",!0]),(0,i.Z)(r,s.GLSL_FRAG_DEPTH,["EXT_frag_depth",!0]),(0,i.Z)(r,s.GLSL_DERIVATIVES,["OES_standard_derivatives",!0]),(0,i.Z)(r,s.GLSL_TEXTURE_LOD,["EXT_shader_texture_lod",!0]),r)},6893:function(e,t,n){"use strict";n.d(t,{Zj:function(){return l},lR:function(){return c}});var r=n(5671),i=n(3144),o=n(1622),a=n(3987),s=n(2672),u="8.5.16",l=function(){function e(){(0,r.Z)(this,e),this.stats=new Map}return(0,i.Z)(e,[{key:"get",value:function(e){return this.stats.has(e)||this.stats.set(e,new a.Z({id:e})),this.stats.get(e)}}]),e}(),c=new l;if(globalThis.luma&&globalThis.luma.VERSION!==u)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(u));globalThis.luma||((0,s.Z)()&&o.cM.log(1,"luma.gl ".concat(u," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:u,version:u,log:o.cM,stats:c,globals:{modules:{},nodeIO:{}}});globalThis.luma},4298:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}n.d(t,{h:function(){return r}})},9378:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(1622);function i(e,t,n){var i=n.removedProps,o=void 0===i?{}:i,a=n.deprecatedProps,s=void 0===a?{}:a,u=n.replacedProps,l=void 0===u?{}:u;for(var c in o)if(c in t){var A=o[c]?"".concat(e,".").concat(o[c]):"N/A";r.cM.removed("".concat(e,".").concat(c),A)()}for(var f in s)if(f in t){var h=s[f];r.cM.deprecated("".concat(e,".").concat(f),"".concat(e,".").concat(h))()}var p=null;for(var d in l)if(d in t){var g=l[d];r.cM.deprecated("".concat(e,".").concat(d),"".concat(e,".").concat(g))(),(p=p||Object.assign({},t))[g]=t[d],delete p[d]}return p||t}},6903:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(1622);function i(e,t,n,i){var o="See luma.gl ".concat(n," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),a=Object.getPrototypeOf(e);i.forEach((function(e){a.methodName||(a[e]=function(){throw r.cM.removed("Calling removed method ".concat(t,".").concat(e,": "),o)(),new Error(e)})}))}},3889:function(e,t,n){"use strict";n.d(t,{hQ:function(){return o},nK:function(){return s},wt:function(){return a}});var r=n(4298),i={};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";i[e]=i[e]||1;var t=i[e]++;return"".concat(e,"-").concat(t)}function a(e){return(0,r.h)("number"===typeof e,"Input must be a number"),e&&0===(e&e-1)}function s(e){var t=!0;for(var n in e){t=!1;break}return t}},1603:function(e,t,n){"use strict";n.d(t,{$Z:function(){return A},hJ:function(){return f},jG:function(){return h}});var r,i=n(885),o=n(4942),a=n(4298),s=5126,u=5124,l=5125,c=(r={},(0,o.Z)(r,s,[s,1,"float"]),(0,o.Z)(r,35664,[s,2,"vec2"]),(0,o.Z)(r,35665,[s,3,"vec3"]),(0,o.Z)(r,35666,[s,4,"vec4"]),(0,o.Z)(r,u,[u,1,"int"]),(0,o.Z)(r,35667,[u,2,"ivec2"]),(0,o.Z)(r,35668,[u,3,"ivec3"]),(0,o.Z)(r,35669,[u,4,"ivec4"]),(0,o.Z)(r,l,[l,1,"uint"]),(0,o.Z)(r,36294,[l,2,"uvec2"]),(0,o.Z)(r,36295,[l,3,"uvec3"]),(0,o.Z)(r,36296,[l,4,"uvec4"]),(0,o.Z)(r,35670,[s,1,"bool"]),(0,o.Z)(r,35671,[s,2,"bvec2"]),(0,o.Z)(r,35672,[s,3,"bvec3"]),(0,o.Z)(r,35673,[s,4,"bvec4"]),(0,o.Z)(r,35674,[s,8,"mat2"]),(0,o.Z)(r,35685,[s,8,"mat2x3"]),(0,o.Z)(r,35686,[s,8,"mat2x4"]),(0,o.Z)(r,35675,[s,12,"mat3"]),(0,o.Z)(r,35687,[s,12,"mat3x2"]),(0,o.Z)(r,35688,[s,12,"mat3x4"]),(0,o.Z)(r,35676,[s,16,"mat4"]),(0,o.Z)(r,35689,[s,16,"mat4x2"]),(0,o.Z)(r,35690,[s,16,"mat4x3"]),r);function A(e){switch(e){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return(0,a.h)(!1),0}}function f(e){var t=c[e];if(!t)return null;var n=(0,i.Z)(t,2);return{type:n[0],components:n[1]}}function h(e,t){switch(e){case 5120:case 5121:case 5122:case 5123:e=s}for(var n in c){var r=(0,i.Z)(c[n],3),o=r[0],a=r[1],u=r[2];if(o===e&&a===t)return{glType:n,name:u}}return null}},3554:function(e,t,n){"use strict";n.d(t,{km:function(){return o},sF:function(){return i}});var r=n(4298);function i(e,t){if("string"!==typeof t)return t;var n=Number(t);if(!isNaN(n))return n;var i=e[t=t.replace(/^.*\./,"")];return(0,r.h)(void 0!==i,"Accessing undefined constant GL.".concat(t)),i}function o(e,t){for(var n in t=Number(t),e)if(e[n]===t)return"GL.".concat(n);return String(t)}},2756:function(e,t,n){"use strict";n.d(t,{Y:function(){return c},h:function(){return l}});var r=n(4942),i=n(3978),o=n(5361),a=n(8935),s=n(6158),u=n(4298);function l(e,t){(0,u.h)(e instanceof i.Z||e instanceof o.Z||e instanceof a.Z);var n=e.constructor,r=e.gl,s=e.width,l=e.height,c=e.format,A=e.type,f=e.dataFormat,h=e.border,p=e.mipmaps;return new n(r,Object.assign({width:s,height:l,format:c,type:A,dataFormat:f,border:h,mipmaps:p},t))}function c(e,t){var n=e.gl,i=e.width,o=e.height,a=e.id;return new s.Z(n,Object.assign({},t,{id:"framebuffer-for-".concat(a),width:i,height:o,attachments:(0,r.Z)({},36064,e)}))}},9244:function(e,t,n){"use strict";n.d(t,{KS:function(){return a},O:function(){return r},c$:function(){return o},vN:function(){return i}});function r(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error("Failed to deduce GL constant from typed array")}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.clamped,r=void 0===n||n;switch(e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return r?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function o(e){var t=e.data,n=e.width,r=e.height,i=e.bytesPerPixel,o=void 0===i?4:i,a=e.temp,s=n*o;a=a||new Uint8Array(s);for(var u=0;u<r/2;++u){var l=u*s,c=(r-u-1)*s;a.set(t.subarray(l,l+s)),t.copyWithin(l,c,c+s),t.set(a,c)}}function a(e){for(var t=e.data,n=e.width,r=e.height,i=Math.round(n/2),o=Math.round(r/2),a=new Uint8Array(i*o*4),s=0;s<o;s++)for(var u=0;u<i;u++)for(var l=0;l<4;l++)a[4*(s*i+u)+l]=t[4*(2*s*n+2*u)+l];return{data:a,width:i,height:o}}},9103:function(e){function t(e,t){var r=n(e,t);return r.whole+"\xb0 "+(r.minutes?r.minutes+"' ":"")+(r.seconds?r.seconds+'" ':"")+r.dir}function n(e,t){var n=({lat:["N","S"],lon:["E","W"]}[t]||"")[e>=0?0:1],r=Math.abs(e),i=Math.floor(r),o=60*(r-i),a=Math.floor(o);return{whole:i,minutes:a,seconds:Math.floor(60*(o-a)),dir:n}}function r(e,t){if(t||(t="NSEW"),"string"!==typeof e)return null;var n=(e=e.toUpperCase()).match(/^[\s\,]*([NSEW])?\s*([\-|\\u2014|\\u2015]?[0-9.]+)[\xb0\xba\u02da]?\s*(?:([0-9.]+)['\u2019\u2032\u2018]\s*)?(?:([0-9.]+)(?:''|"|\u201d|\u2033)\s*)?([NSEW])?/);if(!n)return null;var r,i=n[0];if(n[1]&&n[5]?(r=n[1],i=i.slice(0,-1)):r=n[1]||n[5],r&&-1===t.indexOf(r))return null;var o=n[2]?parseFloat(n[2]):0,a=n[3]?parseFloat(n[3])/60:0,s=n[4]?parseFloat(n[4])/3600:0,u=o<0?-1:1;return"S"!==r&&"W"!==r||(u*=-1),{val:(Math.abs(o)+a+s)*u,dim:r,matched:i,remain:e.slice(i.length)}}e.exports=function(e,t){var n=r(e,t);return null===n?null:n.val},e.exports.pair=function(e,t){var n=r(e=e.trim(),t);if(!n)return null;var i=r(e=n.remain.trim(),t);if(!i||i.remain)return null;return n.dim?function(e,t,n){if("N"===n||"S"===n)return[e,t];if("W"===n||"E"===n)return[t,e]}(n.val,i.val,n.dim):[n.val,i.val]},e.exports.format=t,e.exports.formatPair=function(e){return t(e.lat,"lat")+" "+t(e.lon,"lon")},e.exports.coordToDMS=n},7684:function(e){"use strict";e.exports=n,e.exports.default=n;var t=1e20;function n(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer,s=a+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function r(e,t,n,r,o,a){for(var s=0;s<t;s++)i(e,s,t,n,r,o,a);for(var u=0;u<n;u++)i(e,u*t,1,t,r,o,a)}function i(e,n,r,i,o,a,s){var u,l,c,A;for(a[0]=0,s[0]=-t,s[1]=t,u=0;u<i;u++)o[u]=e[n+u*r];for(u=1,l=0,c=0;u<i;u++){do{A=a[l],c=(o[u]-o[A]+u*u-A*A)/(u-A)/2}while(c<=s[l]&&--l>-1);a[++l]=u,s[l]=c,s[l+1]=t}for(u=0,l=0;u<i;u++){for(;s[l+1]<u;)l++;A=a[l],e[n+u*r]=o[A]+(u-A)*(u-A)}}n.prototype._draw=function(e,n){var i,o,a,s,u,l,c,A,f,h=this.ctx.measureText(e),p=h.width,d=2*this.buffer;n&&this.useMetrics?(u=Math.floor(h.actualBoundingBoxAscent),A=this.buffer+Math.ceil(h.actualBoundingBoxAscent),l=this.buffer,c=this.buffer,i=(o=Math.min(this.size,Math.ceil(h.actualBoundingBoxRight-h.actualBoundingBoxLeft)))+d,a=(s=Math.min(this.size-l,Math.ceil(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent)))+d,this.ctx.textBaseline="alphabetic"):(i=o=this.size,a=s=this.size,u=19*this.fontSize/24,l=c=0,A=this.middle,this.ctx.textBaseline="middle"),o&&s&&(this.ctx.clearRect(c,l,o,s),this.ctx.fillText(e,this.buffer,A),f=this.ctx.getImageData(c,l,o,s));var g=new Uint8ClampedArray(i*a);return function(e,n,r,i,o,a,s){a.fill(t,0,n*r),s.fill(0,0,n*r);for(var u=(n-i)/2,l=0;l<o;l++)for(var c=0;c<i;c++){var A=(l+u)*n+c+u,f=e.data[4*(l*i+c)+3]/255;if(1===f)a[A]=0,s[A]=t;else if(0===f)a[A]=t,s[A]=0;else{var h=Math.max(0,.5-f),p=Math.max(0,f-.5);a[A]=h*h,s[A]=p*p}}}(f,i,a,o,s,this.gridOuter,this.gridInner),r(this.gridOuter,i,a,this.f,this.v,this.z),r(this.gridInner,i,a,this.f,this.v,this.z),function(e,t,n,r,i,o,a){for(var s=0;s<t*n;s++){var u=Math.sqrt(r[s])-Math.sqrt(i[s]);e[s]=Math.round(255-255*(u/o+a))}}(g,i,a,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:g,metrics:{width:o,height:s,sdfWidth:i,sdfHeight:a,top:u,left:0,advance:p}}},n.prototype.draw=function(e){return this._draw(e,!1).data},n.prototype.drawWithMetrics=function(e){return this._draw(e,!0)}},1276:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(9166);var u=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=e[n+t];return this.check()}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)e[t+n]=this[n];return e}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"to",value:function(e){return e===this?this:(0,s.kJ)(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(s.vc)}},{key:"formatString",value:function(e){for(var t="",n=0;n<this.ELEMENTS;++n)t+=(n>0?", ":"")+(0,s.Bw)(this[n],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!(0,s.fS)(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,t,n){if(void 0===n)return this.lerp(this,e,t);for(var r=0;r<this.ELEMENTS;++r){var i=e[r];this[r]=i+n*(t[r]-i)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),t[n]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]+=o[a];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]-=o[a];return this.check()}},{key:"scale",value:function(e){if("number"===typeof e)for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(var n=0;n<this.ELEMENTS&&n<e.length;++n)this[n]*=e[n];return this.check()}},{key:"multiplyByScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"check",value:function(){if(s.vc.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.multiplyByScalar(1/e)}},{key:"clampScalar",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),t);return this.check()}},{key:"elements",get:function(){return this}}]),n}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Array))},613:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(1276),u=n(4863),l=n(9166),c=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"toString",value:function(){var e="[";if(l.vc.printRowMajor){e+="row-major:";for(var t=0;t<this.RANK;++t)for(var n=0;n<this.RANK;++n)e+=" ".concat(this[n*this.RANK+t])}else{e+="column-major:";for(var r=0;r<this.ELEMENTS;++r)e+=" ".concat(this[r])}return e+="]"}},{key:"getElementIndex",value:function(e,t){return t*this.RANK+e}},{key:"getElement",value:function(e,t){return this[t*this.RANK+e]}},{key:"setElement",value:function(e,t,n){return this[t*this.RANK+e]=(0,u.u5)(n),this}},{key:"getColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),n=e*this.RANK,r=0;r<this.RANK;++r)t[r]=this[n+r];return t}},{key:"setColumn",value:function(e,t){for(var n=e*this.RANK,r=0;r<this.RANK;++r)this[n+r]=t[r];return this}}]),n}(s.Z)},5988:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(1276),u=n(4863),l=n(2995),c=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"x",get:function(){return this[0]},set:function(e){this[0]=(0,u.u5)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=(0,u.u5)(e)}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-e[n];t+=r*r}return(0,u.u5)(t)}},{key:"dot",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n)t+=this[n]*e[n];return(0,u.u5)(t)}},{key:"normalize",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]*=o[a];return this.check()}},{key:"divide",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]/=o[a];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(e){return this.distance(e)}},{key:"distanceToSquared",value:function(e){return this.distanceSquared(e)}},{key:"getComponent",value:function(e){return(0,l.Z)(e>=0&&e<this.ELEMENTS,"index is out of range"),(0,u.u5)(this[e])}},{key:"setComponent",value:function(e,t){return(0,l.Z)(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}},{key:"addVectors",value:function(e,t){return this.copy(e).add(t)}},{key:"subVectors",value:function(e,t){return this.copy(e).subtract(t)}},{key:"multiplyVectors",value:function(e,t){return this.copy(e).multiply(t)}},{key:"addScaledVector",value:function(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}]),n}(s.Z)},8025:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r,i=n(5671),o=n(3144),a=n(136),s=n(7277),u=n(613),l=n(4863),c=n(1108),A=n(71),f=n(9233),h=n(7206),p=n(725);!function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL0ROW3=3]="COL0ROW3",e[e.COL1ROW0=4]="COL1ROW0",e[e.COL1ROW1=5]="COL1ROW1",e[e.COL1ROW2=6]="COL1ROW2",e[e.COL1ROW3=7]="COL1ROW3",e[e.COL2ROW0=8]="COL2ROW0",e[e.COL2ROW1=9]="COL2ROW1",e[e.COL2ROW2=10]="COL2ROW2",e[e.COL2ROW3=11]="COL2ROW3",e[e.COL3ROW0=12]="COL3ROW0",e[e.COL3ROW1=13]="COL3ROW1",e[e.COL3ROW2=14]="COL3ROW2",e[e.COL3ROW3=15]="COL3ROW3"}(r||(r={}));var d,g,v=45*Math.PI/180,y=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),m=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?r.copy(e):r.identity(),r}return(0,o.Z)(n,[{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}},{key:"INDICES",get:function(){return r}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,t,n,r,i,o,a,s,u,l,c,A,f,h,p,d){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=l,this[10]=c,this[11]=A,this[12]=f,this[13]=h,this[14]=p,this[15]=d,this.check()}},{key:"setRowMajor",value:function(e,t,n,r,i,o,a,s,u,l,c,A,f,h,p,d){return this[0]=e,this[1]=i,this[2]=u,this[3]=f,this[4]=t,this[5]=o,this[6]=l,this[7]=h,this[8]=n,this[9]=a,this[10]=c,this[11]=p,this[12]=r,this[13]=s,this[14]=A,this[15]=d,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(y)}},{key:"fromObject",value:function(e){return this.check()}},{key:"fromQuaternion",value:function(e){return A.en(this,e),this.check()}},{key:"frustum",value:function(e){var t=e.left,n=e.right,r=e.bottom,i=e.top,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;return u===1/0?function(e,t,n,r,i,o){var a=2*o/(n-t),s=2*o/(i-r),u=(n+t)/(n-t),l=(i+r)/(i-r),c=-1,A=-1,f=-2*o;e[0]=a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=u,e[9]=l,e[10]=c,e[11]=A,e[12]=0,e[13]=0,e[14]=f,e[15]=0}(this,t,n,r,i,a):A.oy(this,t,n,r,i,a,u),this.check()}},{key:"lookAt",value:function(e){var t=e.eye,n=e.center,r=void 0===n?[0,0,0]:n,i=e.up,o=void 0===i?[0,1,0]:i;return A.zB(this,t,r,o),this.check()}},{key:"ortho",value:function(e){var t=e.left,n=e.right,r=e.bottom,i=e.top,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;return A.M5(this,t,n,r,i,a,u),this.check()}},{key:"orthographic",value:function(e){var t=e.fovy,n=void 0===t?v:t,r=e.aspect,i=void 0===r?1:r,o=e.focalDistance,a=void 0===o?1:o,s=e.near,u=void 0===s?.1:s,l=e.far,c=void 0===l?500:l;w(n);var A=n/2,f=a*Math.tan(A),h=f*i;return this.ortho({left:-h,right:h,bottom:-f,top:f,near:u,far:c})}},{key:"perspective",value:function(e){var t=e.fovy,n=void 0===t?45*Math.PI/180:t,r=e.aspect,i=void 0===r?1:r,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;return w(n),A.G3(this,n,i,a,u),this.check()}},{key:"determinant",value:function(){return A.GH(this)}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];var n=this.getScale(t),r=1/n[0],i=1/n[1],o=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*i,e[6]=this[6]*o,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*i,e[10]=this[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];var n=this.getScale(t),r=1/n[0],i=1/n[1],o=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=this[4]*r,e[4]=this[5]*i,e[5]=this[6]*o,e[6]=this[8]*r,e[7]=this[9]*i,e[8]=this[10]*o,e}},{key:"transpose",value:function(){return A.p4(this,this),this.check()}},{key:"invert",value:function(){return A.U_(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return A.Jp(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return A.Jp(this,this,e),this.check()}},{key:"rotateX",value:function(e){return A.lM(this,this,e),this.check()}},{key:"rotateY",value:function(e){return A.uD(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return A.jI(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}},{key:"rotateAxis",value:function(e,t){return A.U1(this,this,e,t),this.check()}},{key:"scale",value:function(e){return A.bA(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}},{key:"translate",value:function(e){return A.Iu(this,this,e),this.check()}},{key:"transform",value:function(e,t){return 4===e.length?(t=p.fF(t||[-0,-0,-0,-0],e,this),(0,l.IL)(t,4),t):this.transformAsPoint(e,t)}},{key:"transformAsPoint",value:function(e,t){var n;switch(e.length){case 2:n=f.fF(t||[-0,-0],e,this);break;case 3:n=h.fF(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return(0,l.IL)(n,e.length),n}},{key:"transformAsVector",value:function(e,t){var n;switch(e.length){case 2:n=(0,c.pb)(t||[-0,-0],e,this);break;case 3:n=(0,c.pL)(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return(0,l.IL)(n,e.length),n}},{key:"transformPoint",value:function(e,t){return this.transformAsPoint(e,t)}},{key:"transformVector",value:function(e,t){return this.transformAsPoint(e,t)}},{key:"transformDirection",value:function(e,t){return this.transformAsVector(e,t)}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,n){return this.identity().translate([e,t,n])}}],[{key:"IDENTITY",get:function(){return _()}},{key:"ZERO",get:function(){return b()}}]),n}(u.Z);function b(){return d||(d=new m([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(d)),d}function _(){return g||(g=new m,Object.freeze(g)),g}function w(e){if(e>2*Math.PI)throw Error("expected radians")}},1570:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(885),i=n(5671),o=n(3144),a=n(8810),s=n(8140),u=n(9166),l=n(7206),c=1e-6,A=6371e3,f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.phi,r=void 0===n?0:n,o=t.theta,s=void 0===o?0:o,u=t.radius,l=void 0===u?1:u,c=t.bearing,f=t.pitch,h=t.altitude,p=t.radiusScale,d=void 0===p?A:p;(0,i.Z)(this,e),(0,a.Z)(this,"phi",void 0),(0,a.Z)(this,"theta",void 0),(0,a.Z)(this,"radius",void 0),(0,a.Z)(this,"radiusScale",void 0),this.phi=r,this.theta=s,this.radius=l||h||1,this.radiusScale=d||1,void 0!==c&&(this.bearing=c),void 0!==f&&(this.pitch=f),this.check()}return(0,o.Z)(e,[{key:"toString",value:function(){return this.formatString(u.vc)}},{key:"formatString",value:function(e){var t=e.printTypes,n=void 0!==t&&t,r=u.Bw;return"".concat(n?"Spherical":"","[rho:").concat(r(this.radius),",theta:").concat(r(this.theta),",phi:").concat(r(this.phi),"]")}},{key:"equals",value:function(e){return(0,u.fS)(this.radius,e.radius)&&(0,u.fS)(this.theta,e.theta)&&(0,u.fS)(this.phi,e.phi)}},{key:"exactEquals",value:function(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}},{key:"bearing",get:function(){return 180-(0,u.RW)(this.phi)},set:function(e){this.phi=Math.PI-(0,u.uR)(e)}},{key:"pitch",get:function(){return(0,u.RW)(this.theta)},set:function(e){this.theta=(0,u.uR)(e)}},{key:"longitude",get:function(){return(0,u.RW)(this.phi)}},{key:"latitude",get:function(){return(0,u.RW)(this.theta)}},{key:"lng",get:function(){return(0,u.RW)(this.phi)}},{key:"lat",get:function(){return(0,u.RW)(this.theta)}},{key:"z",get:function(){return(this.radius-1)*this.radiusScale}},{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this.check()}},{key:"clone",value:function(){return(new e).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this.check()}},{key:"fromLngLatZ",value:function(e){var t=(0,r.Z)(e,3),n=t[0],i=t[1],o=t[2];return this.radius=1+o/this.radiusScale,this.phi=(0,u.uR)(i),this.theta=(0,u.uR)(n),this.check()}},{key:"fromVector3",value:function(e){return this.radius=l.kE(e),this.radius>0&&(this.theta=Math.atan2(e[0],e[1]),this.phi=Math.acos((0,u.uZ)(e[2]/this.radius,-1,1))),this.check()}},{key:"toVector3",value:function(){return new s.Z(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}},{key:"makeSafe",value:function(){return this.phi=Math.max(c,Math.min(Math.PI-c,this.phi)),this}},{key:"check",value:function(){if(!Number.isFinite(this.phi)||!Number.isFinite(this.theta)||!(this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}]),e}()},8140:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r,i=n(5671),o=n(3144),a=n(136),s=n(7277),u=n(5988),l=n(9166),c=n(4863),A=n(7206),f=n(1108),h=[0,0,0],p=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,i.Z)(this,n),e=t.call(this,-0,-0,-0),1===arguments.length&&(0,l.kJ)(r)?e.copy(r):(l.vc.debug&&((0,c.u5)(r),(0,c.u5)(o),(0,c.u5)(a)),e[0]=r,e[1]=o,e[2]=a),e}return(0,o.Z)(n,[{key:"set",value:function(e,t,n){return this[0]=e,this[1]=t,this[2]=n,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}},{key:"fromObject",value:function(e){return l.vc.debug&&((0,c.u5)(e.x),(0,c.u5)(e.y),(0,c.u5)(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=(0,c.u5)(e)}},{key:"angle",value:function(e){return A.EU(this,e)}},{key:"cross",value:function(e){return A.kC(this,this,e),this.check()}},{key:"rotateX",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?h:n;return A.lM(this,this,r,t),this.check()}},{key:"rotateY",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?h:n;return A.uD(this,this,r,t),this.check()}},{key:"rotateZ",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?h:n;return A.jI(this,this,r,t),this.check()}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return A.fF(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return(0,f.pL)(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return A.kK(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return(0,f.eQ)(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return A.VC(this,this,e),this.check()}}],[{key:"ZERO",get:function(){return r||(r=new n(0,0,0),Object.freeze(r)),r}}]),n}(u.Z)},2995:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}n.d(t,{Z:function(){return r}})},9166:function(e,t,n){"use strict";n.d(t,{Bw:function(){return a},RW:function(){return A},Ux:function(){return l},Yr:function(){return u},fS:function(){return p},kJ:function(){return s},t7:function(){return h},uR:function(){return c},uZ:function(){return f},vc:function(){return o}});var r=1/Math.PI*180,i=1/180*Math.PI,o={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.precision,r=void 0===n?o.precision:n;return e=d(e),"".concat(parseFloat(e.toPrecision(r)))}function s(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function u(e){return c(e)}function l(e){return A(e)}function c(e,t){return g(e,(function(e){return e*i}),t)}function A(e,t){return g(e,(function(e){return e*r}),t)}function f(e,t,n){return g(e,(function(e){return Math.max(t,Math.min(n,e))}))}function h(e,t,n){return s(e)?e.map((function(e,r){return h(e,t[r],n)})):n*t+(1-n)*e}function p(e,t,n){var r=o.EPSILON;n&&(o.EPSILON=n);try{if(e===t)return!0;if(s(e)&&s(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!p(e[i],t[i]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):"number"===typeof e&&"number"===typeof t&&Math.abs(e-t)<=o.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{o.EPSILON=r}}function d(e){return Math.round(e/o.EPSILON)*o.EPSILON}function g(e,t,n){if(s(e)){var r=e;n=n||function(e){return e.clone?e.clone():new Array(e.length)}(r);for(var i=0;i<n.length&&i<r.length;++i)n[i]=t(e[i],i,n);return n}return t(e)}},1108:function(e,t,n){"use strict";function r(e,t,n){var r=t[0],i=t[1],o=n[3]*r+n[7]*i||1;return e[0]=(n[0]*r+n[4]*i)/o,e[1]=(n[1]*r+n[5]*i)/o,e}function i(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o||1;return e[0]=(n[0]*r+n[4]*i+n[8]*o)/a,e[1]=(n[1]*r+n[5]*i+n[9]*o)/a,e[2]=(n[2]*r+n[6]*i+n[10]*o)/a,e}function o(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e[2]=t[2],e}function a(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e[2]=t[2],e[3]=t[3],e}function s(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=n[0]*r+n[3]*i+n[6]*o,e[1]=n[1]*r+n[4]*i+n[7]*o,e[2]=n[2]*r+n[5]*i+n[8]*o,e[3]=t[3],e}n.d(t,{G7:function(){return a},_x:function(){return s},eQ:function(){return o},pL:function(){return i},pb:function(){return r}})},4863:function(e,t,n){"use strict";n.d(t,{IL:function(){return a},u5:function(){return o}});var r=n(9166);function i(e,t){if(e.length!==t)return!1;for(var n=0;n<e.length;++n)if(!Number.isFinite(e[n]))return!1;return!0}function o(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(r.vc.debug&&!i(e,t))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return e}},9113:function(e,t,n){"use strict";n.d(t,{wG:function(){return r},WZ:function(){return N},GU:function(){return q},dj:function(){return U},ct:function(){return K},OT:function(){return u},ap:function(){return a},Ny:function(){return i}});var r={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o(e,n);return r!==t&&(s(e,n),!0)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Math.sign(a(e,t))}function a(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.start,r=void 0===n?0:n,i=t.end,o=void 0===i?e.length:i,a=t.size||2,s=0,u=r,l=o-a;u<o;u+=a)s+=(e[u]-e[l])*(e[u+1]+e[l+1]),l=u;return s/2}function s(e,t){for(var n=t.start,r=void 0===n?0:n,i=t.end,o=void 0===i?e.length:i,a=t.size,s=void 0===a?2:a,u=(o-r)/s,l=Math.floor(u/2),c=0;c<l;++c)for(var A=r+c*s,f=r+(u-1-c)*s,h=0;h<s;++h){var p=e[A+h];e[A+h]=e[f+h],e[f+h]=p}}function u(e,t){var n,r,i,o,a,s,u,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,f=arguments.length>3?arguments[3]:void 0,h=t&&t.length,p=h?t[0]*c:e.length,d=l(e,0,p,c,!0,f&&f[0]),v=[];if(!d||d.next===d.prev)return v;if(h&&(d=g(e,t,d,c,f)),e.length>80*c){o=r=e[0],a=i=e[1];for(var y=c;y<p;y+=c)(s=e[y])<o&&(o=s),(u=e[y+1])<a&&(a=u),s>r&&(r=s),u>i&&(i=u);n=0!==(n=Math.max(r-o,i-a))?1/n:0}return A(d,v,c,o,a,n),v}function l(e,t,n,r,i,o){var s,u;if(void 0===o&&(o=a(e,{start:t,end:n,size:r})),i===o<0)for(s=t;s<n;s+=r)u=P(s,e[s],e[s+1],u);else for(s=n-r;s>=t;s-=r)u=P(s,e[s],e[s+1],u);return u&&B(u,u.next)&&(M(u),u=u.next),u}function c(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!B(r,r.next)&&0!==C(r.prev,r,r.next))r=r.next;else{if(M(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function A(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=b(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(i=e,e=null,u=null,r=0;i;){for(r++,a=i,o=0,n=0;n<l&&(o++,a=a.nextZ);n++);for(s=l;o>0||s>0&&a;)0!==o&&(0===s||!a||i.z<=a.z)?(t=i,i=i.nextZ,o--):(t=a,a=a.nextZ,s--),u?u.nextZ=t:e=t,t.prevZ=u,u=t;i=a}u.nextZ=null,l*=2}while(r>1)}(i)}(e,r,i,o);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,o?h(e,r,i,o):f(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),M(e),e=u.next,l=u.next;else if((e=u)===l){a?1===a?A(e=p(c(e),t,n),t,n,r,i,o,2):2===a&&d(e,t,n,r,i,o):A(c(e),t,n,r,i,o,1);break}}}function f(e){var t=e.prev,n=e,r=e.next;if(C(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(w(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&C(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function h(e,t,n,r){var i=e.prev,o=e,a=e.next;if(C(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,A=b(s,u,t,n,r),f=b(l,c,t,n,r),h=e.prevZ,p=e.nextZ;h&&h.z>=A&&p&&p.z<=f;){if(h!==e.prev&&h!==e.next&&w(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&C(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==e.prev&&p!==e.next&&w(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&C(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=A;){if(h!==e.prev&&h!==e.next&&w(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&C(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=f;){if(p!==e.prev&&p!==e.next&&w(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&C(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function p(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!B(i,o)&&E(i,r,r.next,o)&&O(i,o)&&O(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),M(r),M(r.next),r=e=o),r=r.next}while(r!==e);return c(r)}function d(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&x(a,s)){var u=T(a,s);return a=c(a,a.next),u=c(u,u.next),A(a,t,n,r,i,o),void A(u,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function g(e,t,n,r,i){var o,a,s,u=[];for(o=0,a=t.length;o<a;o++)(s=l(e,t[o]*r,o<a-1?t[o+1]*r:e.length,r,!1,i&&i[o+1]))===s.next&&(s.steiner=!0),u.push(_(s));for(u.sort(v),o=0;o<u.length;o++)y(u[o],n),n=c(n,n.next);return n}function v(e,t){return e.x-t.x}function y(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var u,l=n,c=n.x,A=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&w(o<A?i:a,o,c,A,o<A?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),O(r,e)&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&m(n,r)))&&(n=r,f=u)),r=r.next}while(r!==l);return n}(e,t),t){var n=T(t,e);c(t,t.next),c(n,n.next)}}function m(e,t){return C(e.prev,e,t.prev)<0&&C(t.next,e,e.next)<0}function b(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function _(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function w(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function x(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&E(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(O(e,t)&&O(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(C(e.prev,e,t.prev)||C(e,t.prev,t))||B(e,t)&&C(e.prev,e,e.next)>0&&C(t.prev,t,t.next)>0)}function C(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function B(e,t){return e.x===t.x&&e.y===t.y}function E(e,t,n,r){var i=k(C(e,t,n)),o=k(C(e,t,r)),a=k(C(n,r,e)),s=k(C(n,r,t));return i!==o&&a!==s||(!(0!==i||!S(e,n,t))||(!(0!==o||!S(e,r,t))||(!(0!==a||!S(n,e,r))||!(0!==s||!S(n,t,r)))))}function S(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function k(e){return e>0?1:e<0?-1:0}function O(e,t){return C(e.prev,e,e.next)<0?C(e,t,e.next)>=0&&C(e,e.prev,t)>=0:C(e,t,e.prev)<0||C(e,e.next,t)<0}function T(e,t){var n=new F(e.i,e.x,e.y),r=new F(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function P(e,t,n,r){var i=new F(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function M(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function F(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I(e,t,n,r){var i,o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(8&n)i=(r[3]-e[1])/(t[1]-e[1]),o=3;else if(4&n)i=(r[1]-e[1])/(t[1]-e[1]),o=1;else if(2&n)i=(r[2]-e[0])/(t[0]-e[0]),o=2;else{if(!(1&n))return null;i=(r[0]-e[0])/(t[0]-e[0]),o=0}for(var s=0;s<e.length;s++)a[s]=(1&o)===s?r[o]:i*(t[s]-e[s])+e[s];return a}function L(e,t){var n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}function R(e,t){var n=t.length,r=e.length;if(r>0){for(var i=!0,o=0;o<n;o++)if(e[r-n+o]!==t[o]){i=!1;break}if(i)return!1}for(var a=0;a<n;a++)e[r+a]=t[a];return!0}function D(e,t){for(var n=t.length,r=0;r<n;r++)e[r]=t[r]}function Z(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=r+t*n,a=0;a<n;a++)i[a]=e[o+a];return i}function U(e,t){var n,r,i=t||{},o=i.size,a=void 0===o?2:o,s=i.broken,u=void 0!==s&&s,l=i.gridResolution,c=void 0===l?10:l,A=i.gridOffset,f=void 0===A?[0,0]:A,h=i.startIndex,p=void 0===h?0:h,d=i.endIndex,g=((void 0===d?e.length:d)-p)/a,v=[],y=[v],m=Z(e,0,a,p),b=Q(m,c,f,[]),_=[];R(v,m);for(var w=1;w<g;w++){for(r=L(n=Z(e,w,a,p,n),b);r;){I(m,n,r,b,_);var x=L(_,b);x&&(I(m,_,x,b,_),r=x),R(v,_),D(m,_),H(b,c,r),u&&v.length>a&&(v=[],y.push(v),R(v,m)),r=L(n,b)}R(v,n),D(m,n)}return u?y:y[0]}function j(e,t){for(var n=0;n<t.length;n++)e.push(t[n]);return e}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;if(!e.length)return[];for(var r=n||{},i=r.size,o=void 0===i?2:i,a=r.gridResolution,s=void 0===a?10:a,u=r.gridOffset,l=void 0===u?[0,0]:u,c=r.edgeTypes,A=void 0!==c&&c,f=[],h=[{pos:e,types:A?new Array(e.length/o).fill(1):null,holes:t||[]}],p=[[],[]],d=[];h.length;){var g=h.shift(),v=g.pos,y=g.types,m=g.holes;V(v,o,m[0]||v.length,p),d=Q(p[0],s,l,d);var b=L(p[1],d);if(b){var _=z(v,y,o,0,m[0]||v.length,d,b),w={pos:_[0].pos,types:_[0].types,holes:[]},x={pos:_[1].pos,types:_[1].types,holes:[]};h.push(w,x);for(var C=0;C<m.length;C++)(_=z(v,y,o,m[C],m[C+1]||v.length,d,b))[0]&&(w.holes.push(w.pos.length),w.pos=j(w.pos,_[0].pos),A&&(w.types=j(w.types,_[0].types))),_[1]&&(x.holes.push(x.pos.length),x.pos=j(x.pos,_[1].pos),A&&(x.types=j(x.types,_[1].types)))}else{var B={positions:v};A&&(B.edgeTypes=y),m.length&&(B.holeIndices=m),f.push(B)}}return f}function z(e,t,n,r,i,o,a){for(var s,u,l,c=(i-r)/n,A=[],f=[],h=[],p=[],d=[],g=Z(e,c-1,n,r),v=Math.sign(8&a?g[1]-o[3]:g[0]-o[2]),y=t&&t[c-1],m=0,b=0,_=0;_<c;_++)s=Z(e,_,n,r,s),u=Math.sign(8&a?s[1]-o[3]:s[0]-o[2]),l=t&&t[r/n+_],u&&v&&v!==u&&(I(g,s,a,o,d),R(A,d)&&h.push(y),R(f,d)&&p.push(y)),u<=0?(R(A,s)&&h.push(l),m-=u):h.length&&(h[h.length-1]=0),u>=0?(R(f,s)&&p.push(l),b+=u):p.length&&(p[p.length-1]=0),D(g,s),v=u,y=l;return[m?{pos:A,types:t&&h}:null,b?{pos:f,types:t&&p}:null]}function Q(e,t,n,r){var i=Math.floor((e[0]-n[0])/t)*t+n[0],o=Math.floor((e[1]-n[1])/t)*t+n[1];return r[0]=i,r[1]=o,r[2]=i+t,r[3]=o+t,r}function H(e,t,n){8&n?(e[1]+=t,e[3]+=t):4&n?(e[1]-=t,e[3]-=t):2&n?(e[0]+=t,e[2]+=t):1&n&&(e[0]-=t,e[2]-=t)}function V(e,t,n,r){for(var i=1/0,o=-1/0,a=1/0,s=-1/0,u=0;u<n;u+=t){var l=e[u],c=e[u+1];i=l<i?l:i,o=l>o?l:o,a=c<a?c:a,s=c>s?c:s}return r[0][0]=i,r[0][1]=a,r[1][0]=o,r[1][1]=s,r}var G=n(7762),W=85.051129;function K(e,t){var n=t||{},r=n.size,i=void 0===r?2:r,o=n.startIndex,a=void 0===o?0:o,s=n.endIndex,u=void 0===s?e.length:s,l=n.normalize,c=void 0===l||l,A=e.slice(a,u);J(A,i,0,u-a);var f=U(A,{size:i,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(c){var h,p=(0,G.Z)(f);try{for(p.s();!(h=p.n()).done;){$(h.value,i)}}catch(d){p.e(d)}finally{p.f()}}return f}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=n||{},i=r.size,o=void 0===i?2:i,a=r.normalize,s=void 0===a||a,u=r.edgeTypes,l=void 0!==u&&u;t=t||[];for(var c=[],A=[],f=0,h=0,p=0;p<=t.length;p++){for(var d=t[p]||e.length,g=h,v=X(e,o,f,d),y=v;y<d;y++)c[h++]=e[y];for(var m=f;m<v;m++)c[h++]=e[m];J(c,o,g,h),Y(c,o,g,h,null===n||void 0===n?void 0:n.maxLatitude),f=d,A[p]=h}A.pop();var b=N(c,A,{size:o,gridResolution:360,gridOffset:[-180,-180],edgeTypes:l});if(s){var _,w=(0,G.Z)(b);try{for(w.s();!(_=w.n()).done;){var x=_.value;$(x.positions,o)}}catch(C){w.e(C)}finally{w.f()}}return b}function X(e,t,n,r){for(var i=-1,o=-1,a=n+1;a<r;a+=t){var s=Math.abs(e[a]);s>i&&(i=s,o=a-1)}return o}function Y(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:W,o=e[n],a=e[r-t];if(Math.abs(o-a)>180){var s=Z(e,0,t,n);s[0]+=360*Math.round((a-o)/360),R(e,s),s[1]=Math.sign(s[1])*i,R(e,s),s[0]=o,R(e,s)}}function J(e,t,n,r){for(var i,o=e[0],a=n;a<r;a+=t){var s=(i=e[a])-o;(s>180||s<-180)&&(i-=360*Math.round(s/360)),e[a]=o=i}}function $(e,t){for(var n,r=e.length/t,i=0;i<r&&((n=e[i*t])+180)%360===0;i++);var o=360*-Math.round(n/360);if(0!==o)for(var a=0;a<r;a++)e[a*t]+=o}},8611:function(e,t,n){"use strict";n.d(t,{DW:function(){return z},eG:function(){return T},Lu:function(){return I},Xg:function(){return Z},if:function(){return K},sj:function(){return L},zX:function(){return j},ro:function(){return O},up:function(){return q},Bf:function(){return k},wl:function(){return M},lf:function(){return P},w5:function(){return E},QA:function(){return Q},CT:function(){return D},es:function(){return S},aW:function(){return R}});var r=n(2982),i=n(885),o=n(5671),a=n(3144),s=n(8810),u=n(725);function l(e,t){var n=(0,u.fF)([],t,e);return(0,u.bA)(n,n,1/n[3]),n}function c(e,t){var n=e%t;return n<0?t+n:n}function A(e,t,n){return e<t?t:e>n?n:e}var f=Math.log2||function(e){return Math.log(e)*Math.LOG2E},h=n(71),p=n(9233),d=n(7206);function g(e,t){if(!e)throw new Error(t||"@math.gl/web-mercator: assertion failed.")}var v=Math.PI,y=v/4,m=v/180,b=180/v,_=512,w=4003e4,x=85.051129;function C(e){return Math.pow(2,e)}function B(e){return f(e)}function E(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];g(Number.isFinite(n)),g(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");var o=r*m;return[_*(n*m+v)/(2*v),_*(v+Math.log(Math.tan(y+.5*o)))/(2*v)]}function S(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1],o=n/_*(2*v)-v,a=2*(Math.atan(Math.exp(r/_*(2*v)-v))-y);return[o*b,a*b]}function k(e){var t=e.latitude;g(Number.isFinite(t));var n=Math.cos(t*m);return B(w*n)-9}function O(e){var t=e.latitude,n=e.longitude,r=e.highPrecision,i=void 0!==r&&r;g(Number.isFinite(t)&&Number.isFinite(n));var o=Math.cos(t*m),a=512/360,s=a/o,u=12790407194604047e-21/o,l={unitsPerMeter:[u,u,u],metersPerUnit:[1/u,1/u,1/u],unitsPerDegree:[a,s,u],degreesPerUnit:[.703125,1/s,1/u]};if(i){var c=m*Math.tan(t*m)/o,A=a*c/2,f=12790407194604047e-21*c,h=f/s*u;l.unitsPerDegree2=[0,A,f],l.unitsPerMeter2=[h,0,h]}return l}function T(e,t){var n=(0,i.Z)(e,3),r=n[0],o=n[1],a=n[2],s=(0,i.Z)(t,3),u=s[0],l=s[1],c=s[2],A=O({longitude:r,latitude:o,highPrecision:!0}),f=A.unitsPerMeter,h=A.unitsPerMeter2,p=E(e);p[0]+=u*(f[0]+h[0]*l),p[1]+=l*(f[1]+h[1]*l);var d=S(p),g=(a||0)+(c||0);return Number.isFinite(a)||Number.isFinite(c)?[d[0],d[1],g]:d}function P(e){var t=e.height,n=e.pitch,r=e.bearing,i=e.altitude,o=e.scale,a=e.center,s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];h.Iu(s,s,[0,0,-i]),h.lM(s,s,-n*m),h.jI(s,s,r*m);var u=o/t;return h.bA(s,s,[u,u,u]),a&&h.Iu(s,s,d.tk([],a)),s}function M(e){var t=e.width,n=e.height,r=e.altitude,i=e.pitch,o=void 0===i?0:i,a=e.offset,s=e.center,u=e.scale,l=e.nearZMultiplier,c=void 0===l?1:l,f=e.farZMultiplier,h=void 0===f?1:f,p=e.fovy,d=void 0===p?I(1.5):p;void 0!==r&&(d=I(r));var g=d*m,v=o*m,y=L(d),b=y;s&&(b+=s[2]*u/Math.cos(v)/n);var _=g*(.5+(a?a[1]:0)/n),w=Math.sin(_)*b/Math.sin(A(Math.PI/2-v-_,.01,Math.PI-.01)),x=Math.sin(v)*w+b,C=10*b;return{fov:g,aspect:t/n,focalDistance:y,near:c,far:Math.min(x*h,C)}}function F(e){var t=M(e),n=t.fov,r=t.aspect,i=t.near,o=t.far;return h.G3([],n,r,i,o)}function I(e){return 2*Math.atan(.5/e)*b}function L(e){return.5/Math.tan(.5*e*m)}function R(e,t){var n=(0,i.Z)(e,3),r=n[0],o=n[1],a=n[2],s=void 0===a?0:a;return g(Number.isFinite(r)&&Number.isFinite(o)&&Number.isFinite(s)),l(t,[r,o,s,1])}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(0,i.Z)(e,3),o=r[0],a=r[1],s=r[2];if(g(Number.isFinite(o)&&Number.isFinite(a),"invalid pixel coordinate"),Number.isFinite(s)){var u=l(t,[o,a,s,1]);return u}var c=l(t,[o,a,0,1]),A=l(t,[o,a,1,1]),f=c[2],h=A[2],d=f===h?0:((n||0)-f)/(h-f);return p.t7([],c,A,d)}function Z(e){var t=e.width,n=e.height,r=e.bounds,o=e.minExtent,a=void 0===o?0:o,s=e.maxZoom,u=void 0===s?24:s,l=e.offset,c=void 0===l?[0,0]:l,h=(0,i.Z)(r,2),p=(0,i.Z)(h[0],2),d=p[0],v=p[1],y=(0,i.Z)(h[1],2),m=y[0],b=y[1],_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("number"===typeof e)return{top:e,bottom:e,left:e,right:e};return g(Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.left)&&Number.isFinite(e.right)),e}(e.padding),w=E([d,A(b,-85.051129,x)]),C=E([m,A(v,-85.051129,x)]),B=[Math.max(Math.abs(C[0]-w[0]),a),Math.max(Math.abs(C[1]-w[1]),a)],k=[t-_.left-_.right-2*Math.abs(c[0]),n-_.top-_.bottom-2*Math.abs(c[1])];g(k[0]>0&&k[1]>0);var O=k[0]/B[0],T=k[1]/B[1],P=(_.right-_.left)/2/O,M=(_.top-_.bottom)/2/T,F=S([(C[0]+w[0])/2+P,(C[1]+w[1])/2+M]),I=Math.min(u,f(Math.abs(Math.min(O,T))));return g(Number.isFinite(I)),{longitude:F[0],latitude:F[1],zoom:I}}var U=Math.PI/180;function j(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.width,o=e.height,a=e.unproject,s={targetZ:r},u=a([0,o],s),l=a([i,o],s),c=e.fovy?.5*e.fovy*U:Math.atan(.5/e.altitude),A=(90-e.pitch)*U;return c>A-.01?(t=N(e,0,r),n=N(e,i,r)):(t=a([0,0],s),n=a([i,0],s)),[u,l,n,t]}function N(e,t,n){var r=e.pixelUnprojectionMatrix,i=l(r,[t,0,1,1]),o=l(r,[t,e.height,1,1]),a=(n*e.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2]),s=S(p.t7([],i,o,a));return s.push(n),s}var z=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:1,height:1};(0,o.Z)(this,e),(0,s.Z)(this,"latitude",void 0),(0,s.Z)(this,"longitude",void 0),(0,s.Z)(this,"zoom",void 0),(0,s.Z)(this,"pitch",void 0),(0,s.Z)(this,"bearing",void 0),(0,s.Z)(this,"altitude",void 0),(0,s.Z)(this,"fovy",void 0),(0,s.Z)(this,"meterOffset",void 0),(0,s.Z)(this,"center",void 0),(0,s.Z)(this,"width",void 0),(0,s.Z)(this,"height",void 0),(0,s.Z)(this,"scale",void 0),(0,s.Z)(this,"distanceScales",void 0),(0,s.Z)(this,"viewMatrix",void 0),(0,s.Z)(this,"projectionMatrix",void 0),(0,s.Z)(this,"viewProjectionMatrix",void 0),(0,s.Z)(this,"pixelProjectionMatrix",void 0),(0,s.Z)(this,"pixelUnprojectionMatrix",void 0),(0,s.Z)(this,"equals",(function(n){return n instanceof e&&(n.width===t.width&&n.height===t.height&&h.fS(n.projectionMatrix,t.projectionMatrix)&&h.fS(n.viewMatrix,t.viewMatrix))})),(0,s.Z)(this,"project",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.topLeft,o=void 0===r||r,a=t.projectPosition(e),s=R(a,t.pixelProjectionMatrix),u=(0,i.Z)(s,2),l=u[0],c=u[1],A=o?c:t.height-c;return 2===e.length?[l,A]:[l,A,s[2]]})),(0,s.Z)(this,"unproject",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.topLeft,o=void 0===r||r,a=n.targetZ,s=void 0===a?void 0:a,u=(0,i.Z)(e,3),l=u[0],c=u[1],A=u[2],f=o?c:t.height-c,h=s&&s*t.distanceScales.unitsPerMeter[2],p=D([l,f,A],t.pixelUnprojectionMatrix,h),d=t.unprojectPosition(p),g=(0,i.Z)(d,3),v=g[0],y=g[1],m=g[2];return Number.isFinite(A)?[v,y,m]:Number.isFinite(s)?[v,y,s]:[v,y]})),(0,s.Z)(this,"projectPosition",(function(e){var n=E(e),r=(0,i.Z)(n,2);return[r[0],r[1],(e[2]||0)*t.distanceScales.unitsPerMeter[2]]})),(0,s.Z)(this,"unprojectPosition",(function(e){var n=S(e),r=(0,i.Z)(n,2);return[r[0],r[1],(e[2]||0)*t.distanceScales.metersPerUnit[2]]}));var r=n.width,a=n.height,u=n.altitude,l=void 0===u?null:u,c=n.fovy,A=void 0===c?null:c,f=n.latitude,p=void 0===f?0:f,g=n.longitude,v=void 0===g?0:g,y=n.zoom,m=void 0===y?0:y,b=n.pitch,_=void 0===b?0:b,w=n.bearing,x=void 0===w?0:w,B=n.position,k=void 0===B?null:B,T=n.nearZMultiplier,M=void 0===T?.02:T,Z=n.farZMultiplier,U=void 0===Z?1.01:Z;r=r||1,a=a||1,null===A&&null===l?A=I(l=1.5):null===A?A=I(l):null===l&&(l=L(A));var j=C(m);l=Math.max(.75,l);var N=O({longitude:v,latitude:p}),z=E([v,p]);z.push(0),k&&d.IH(z,z,d.dC([],k,N.unitsPerMeter)),this.projectionMatrix=F({width:r,height:a,scale:j,center:z,pitch:_,fovy:A,nearZMultiplier:M,farZMultiplier:U}),this.viewMatrix=P({height:a,scale:j,center:z,pitch:_,bearing:x,altitude:l}),this.width=r,this.height=a,this.scale=j,this.latitude=p,this.longitude=v,this.zoom=m,this.pitch=_,this.bearing=x,this.altitude=l,this.fovy=A,this.center=z,this.meterOffset=k||[0,0,0],this.distanceScales=N,this._initMatrices(),Object.freeze(this)}return(0,a.Z)(e,[{key:"_initMatrices",value:function(){var e=this.width,t=this.height,n=this.projectionMatrix,r=this.viewMatrix,i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];h.Jp(i,i,n),h.Jp(i,i,r),this.viewProjectionMatrix=i;var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];h.bA(o,o,[e/2,-t/2,1]),h.Iu(o,o,[1,-1,0]),h.Jp(o,o,i);var a=h.U_([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=o,this.pixelUnprojectionMatrix=a}},{key:"projectFlat",value:function(e){return E(e)}},{key:"unprojectFlat",value:function(e){return S(e)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=D(e.pos,this.pixelUnprojectionMatrix),r=E(t),i=p.IH([],r,p.tk([],n));return S(p.IH([],this.center,i))}},{key:"fitBounds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=Z(Object.assign({width:r,height:i,bounds:t},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new e({width:r,height:i,longitude:a,latitude:s,zoom:u})}},{key:"getBounds",value:function(e){var t=this.getBoundingRegion(e),n=Math.min.apply(Math,(0,r.Z)(t.map((function(e){return e[0]})))),i=Math.max.apply(Math,(0,r.Z)(t.map((function(e){return e[0]}))));return[[n,Math.min.apply(Math,(0,r.Z)(t.map((function(e){return e[1]}))))],[i,Math.max.apply(Math,(0,r.Z)(t.map((function(e){return e[1]}))))]]}},{key:"getBoundingRegion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j(this,e.z||0)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}}]),e}();function Q(e){var t=e.width,n=e.height,r=e.pitch,i=void 0===r?0:r,o=e.longitude,a=e.latitude,s=e.zoom,u=e.bearing,l=void 0===u?0:u;(o<-180||o>180)&&(o=c(o+180,360)-180),(l<-180||l>180)&&(l=c(l+180,360)-180);var A=f(n/512);if(s<=A)s=A,a=0;else{var h=n/2/Math.pow(2,s),p=S([0,h])[1];if(a<p)a=p;else{var d=S([0,512-h])[1];a>d&&(a=d)}}return{width:t,height:n,longitude:o,latitude:a,zoom:s,pitch:i,bearing:l}}var H=n(1413),V=n(7762),G=["longitude","latitude","zoom"],W={curve:1.414,speed:1.2};function K(e,t,n,r){var i,o=X(e,t,r),a=o.startZoom,s=o.startCenterXY,u=o.uDelta,l=o.w0,c=o.u1,A=o.S,f=o.rho,h=o.rho2,d=o.r0;if(c<.01){var g,v={},y=(0,V.Z)(G);try{for(y.s();!(g=y.n()).done;){var m=g.value,b=e[m],_=t[m];v[m]=(i=n)*_+(1-i)*b}}catch(T){y.e(T)}finally{y.f()}return v}var w=n*A,x=Math.cosh(d)/Math.cosh(d+f*w),C=l*((Math.cosh(d)*Math.tanh(d+f*w)-Math.sinh(d))/h)/c,E=a+B(1/x),k=p.bA([],u,C);p.IH(k,k,s);var O=S(k);return{longitude:O[0],latitude:O[1],zoom:E}}function q(e,t,n){var r,i=(0,H.Z)((0,H.Z)({},W),n),o=i.screenSpeed,a=i.speed,s=i.maxDuration,u=X(e,t,i),l=u.S,c=u.rho,A=1e3*l;return r=Number.isFinite(o)?A/(o/c):A/a,Number.isFinite(s)&&r>s?0:r}function X(e,t,n){var r=(n=Object.assign({},W,n)).curve,i=e.zoom,o=[e.longitude,e.latitude],a=C(i),s=t.zoom,u=[t.longitude,t.latitude],l=C(s-i),c=E(o),A=E(u),f=p.lu([],A,c),h=Math.max(e.width,e.height),d=h/l,g=p.kE(f)*a,v=Math.max(g,.01),y=r*r,m=(d*d-h*h+y*y*v*v)/(2*h*y*v),b=(d*d-h*h-y*y*v*v)/(2*d*y*v),_=Math.log(Math.sqrt(m*m+1)-m),w=Math.log(Math.sqrt(b*b+1)-b);return{startZoom:i,startCenterXY:c,uDelta:f,w0:h,u1:g,S:(w-_)/r,rho:r,rho2:y,r0:_,r1:w}}},8047:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2672),i=n(429),o=globalThis;function a(e){if(!e&&!(0,r.Z)())return"Node";if((0,i.Z)(e))return"Electron";var t="undefined"!==typeof navigator?navigator:{},n=e||t.userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";var a=-1!==n.indexOf("MSIE "),s=-1!==n.indexOf("Trident/");return a||s?"IE":o.chrome?"Chrome":o.safari?"Safari":o.mozInnerScreenX?"Firefox":"Unknown"}},2672:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(429);function i(){return!("object"===typeof process&&"[object process]"===String(process)&&!process.browser)||(0,r.Z)()}},429:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof process&&"object"===typeof process.versions&&Boolean(process.versions.electron))return!0;var t="object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent,n=e||t;return!!(n&&n.indexOf("Electron")>=0)}n.d(t,{Z:function(){return r}})},4177:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(2982),i=n(4942),o=n(5671),a=n(3144),s=n(8810),u=n(2672),l="undefined"!==typeof __VERSION__?__VERSION__:"untranspiled source";(0,u.Z)();function c(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(r){return null}}var A,f=function(){function e(t){(0,o.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";(0,s.Z)(this,"storage",void 0),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"config",{}),this.storage=c(r),this.id=t,this.config={},Object.assign(this.config,n),this._loadConfiguration()}return(0,a.Z)(e,[{key:"getConfiguration",value:function(){return this.config}},{key:"setConfiguration",value:function(e){return this.config={},this.updateConfiguration(e)}},{key:"updateConfiguration",value:function(e){if(Object.assign(this.config,e),this.storage){var t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}return this}},{key:"_loadConfiguration",value:function(){var e={};if(this.storage){var t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}]),e}();function h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>r&&(n=Math.min(n,r/e.width));var o=e.width*n,a=e.height*n,s=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),s]}function p(e){return"string"===typeof e?A[e.toUpperCase()]||A.WHITE:e}!function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(A||(A={}));var d=n(7762);function g(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"],r=Object.getPrototypeOf(e),i=Object.getOwnPropertyNames(r),o=(0,d.Z)(i);try{var a=function(){var r=t.value;"function"===typeof e[r]&&(n.find((function(e){return r===e}))||(e[r]=e[r].bind(e)))};for(o.s();!(t=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}}function v(e,t){if(!e)throw new Error(t||"Assertion failed")}var y={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof n.g&&n.g,document:"undefined"!==typeof document&&document,process:"object"===typeof process&&process},m=(globalThis,y.window||y.self||y.global),b=y.process||{};console;function _(){var e,t,n;if(u.Z&&"performance"in m)e=null===m||void 0===m||null===(t=m.performance)||void 0===t||null===(n=t.now)||void 0===n?void 0:n.call(t);else if("hrtime"in b){var r,i=null===b||void 0===b||null===(r=b.hrtime)||void 0===r?void 0:r.call(b);e=1e3*i[0]+i[1]/1e6}else e=Date.now();return e}var w=n(5713),x={debug:u.Z&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},C={enabled:!0,level:0};function B(){}var E={},S={once:!0},k=function(){function e(){(0,o.Z)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""},n=t.id;(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"VERSION",l),(0,s.Z)(this,"_startTs",_()),(0,s.Z)(this,"_deltaTs",_()),(0,s.Z)(this,"_storage",void 0),(0,s.Z)(this,"userData",{}),(0,s.Z)(this,"LOG_THROTTLE_TIMEOUT",0),this.id=n,this._storage=new f("__probe-".concat(this.id,"__"),C),this.userData={},this.timeStamp("".concat(this.id," started")),g(this),Object.seal(this)}return(0,a.Z)(e,[{key:"level",get:function(){return this.getLevel()},set:function(e){this.setLevel(e)}},{key:"isEnabled",value:function(){return this._storage.config.enabled}},{key:"getLevel",value:function(){return this._storage.config.level}},{key:"getTotal",value:function(){return Number((_()-this._startTs).toPrecision(10))}},{key:"getDelta",value:function(){return Number((_()-this._deltaTs).toPrecision(10))}},{key:"priority",get:function(){return this.level},set:function(e){this.level=e}},{key:"getPriority",value:function(){return this.level}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.updateConfiguration({enabled:e}),this}},{key:"setLevel",value:function(e){return this._storage.updateConfiguration({level:e}),this}},{key:"get",value:function(e){return this._storage.config[e]}},{key:"set",value:function(e,t){this._storage.updateConfiguration((0,i.Z)({},e,t))}},{key:"settings",value:function(){console.table?console.table(this._storage.config):console.log(this._storage.config)}},{key:"assert",value:function(e,t){v(e,t)}},{key:"warn",value:function(e){return this._getLogFunction(0,e,x.warn,arguments,S)}},{key:"error",value:function(e){return this._getLogFunction(0,e,x.error,arguments)}},{key:"deprecated",value:function(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}},{key:"removed",value:function(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}},{key:"probe",value:function(e,t){return this._getLogFunction(e,t,x.log,arguments,{time:!0,once:!0})}},{key:"log",value:function(e,t){return this._getLogFunction(e,t,x.debug,arguments)}},{key:"info",value:function(e,t){return this._getLogFunction(e,t,console.info,arguments)}},{key:"once",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._getLogFunction(e,t,x.debug||x.info,arguments,S)}},{key:"table",value:function(e,t,n){return t?this._getLogFunction(e,t,console.table||B,n&&[n],{tag:P(t)}):B}},{key:"image",value:function(e){var t=e.logLevel,n=e.priority,i=e.image,o=e.message,a=void 0===o?"":o,s=e.scale,l=void 0===s?1:s;return this._shouldLog(t||n)?u.Z?function(e){var t=e.image,n=e.message,i=void 0===n?"":n,o=e.scale,a=void 0===o?1:o;if("string"===typeof t){var s=new Image;return s.onload=function(){var e,t=h(s,i,a);(e=console).log.apply(e,(0,r.Z)(t))},s.src=t,B}var u=t.nodeName||"";if("img"===u.toLowerCase()){var l;return(l=console).log.apply(l,(0,r.Z)(h(t,i,a))),B}if("canvas"===u.toLowerCase()){var c=new Image;return c.onload=function(){var e;return(e=console).log.apply(e,(0,r.Z)(h(c,i,a)))},c.src=t.toDataURL(),B}return B}({image:i,message:a,scale:l}):function(e){var t=e.image,n=e.message,r=void 0===n?"":n,i=e.scale,o=void 0===i?1:i;return w.nodeAsciifyImage({image:t,message:r,scale:o}),B}({image:i,message:a,scale:l}):B}},{key:"time",value:function(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}},{key:"timeEnd",value:function(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}},{key:"timeStamp",value:function(e,t){return this._getLogFunction(e,t,console.timeStamp||B)}},{key:"group",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1},r=T({logLevel:e,message:t,opts:n}),i=n.collapsed;return r.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}},{key:"groupCollapsed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},n,{collapsed:!0}))}},{key:"groupEnd",value:function(e){return this._getLogFunction(e,"",console.groupEnd||B)}},{key:"withGroup",value:function(e,t,n){this.group(e,t)();try{n()}finally{this.groupEnd(e)()}}},{key:"trace",value:function(){console.trace&&console.trace()}},{key:"_shouldLog",value:function(e){return this.isEnabled()&&this.getLevel()>=O(e)}},{key:"_getLogFunction",value:function(e,t,n,i,o){if(this._shouldLog(e)){var a;o=T({logLevel:e,message:t,args:i,opts:o}),v(n=n||o.method),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=_();var s=o.tag||o.message;if(o.once){if(E[s])return B;E[s]=_()}return t=function(e,t,n){if("string"===typeof t){var r=n.time?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=Math.max(t-e.length,0);return"".concat(" ".repeat(n)).concat(e)}((s=n.total)<10?"".concat(s.toFixed(2),"ms"):s<100?"".concat(s.toFixed(1),"ms"):s<1e3?"".concat(s.toFixed(0),"ms"):"".concat((s/1e3).toFixed(2),"s")):"";t=n.time?"".concat(e,": ").concat(r,"  ").concat(t):"".concat(e,": ").concat(t),i=t,o=n.color,a=n.background,u.Z||"string"!==typeof i||(o&&(o=p(o),i="\x1b[".concat(o,"m").concat(i,"\x1b[39m")),a&&(o=p(a),i="\x1b[".concat(a+10,"m").concat(i,"\x1b[49m"))),t=i}var i,o,a;var s;return t}(this.id,o.message,o),(a=n).bind.apply(a,[console,t].concat((0,r.Z)(o.args)))}return B}}]),e}();function O(e){if(!e)return 0;var t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return v(Number.isFinite(t)&&t>=0),t}function T(e){var t=e.logLevel,n=e.message;e.logLevel=O(t);for(var r=e.args?Array.from(e.args):[];r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":void 0!==n&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t)}"function"===typeof e.message&&(e.message=e.message());var i=typeof e.message;return v("string"===i||"object"===i),Object.assign(e,{args:r},e.opts)}function P(e){for(var t in e)for(var n in e[t])return n||"untitled";return"empty"}(0,s.Z)(k,"VERSION",l)},3987:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5671),i=n(3144),o=n(8810);function a(){var e;if("undefined"!==typeof window&&window.performance)e=window.performance.now();else if("undefined"!==typeof process&&process.hrtime){var t=process.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}var s=function(){function e(t,n){(0,r.Z)(this,e),(0,o.Z)(this,"name",void 0),(0,o.Z)(this,"type",void 0),(0,o.Z)(this,"sampleSize",1),(0,o.Z)(this,"time",void 0),(0,o.Z)(this,"count",void 0),(0,o.Z)(this,"samples",void 0),(0,o.Z)(this,"lastTiming",void 0),(0,o.Z)(this,"lastSampleTime",void 0),(0,o.Z)(this,"lastSampleCount",void 0),(0,o.Z)(this,"_count",0),(0,o.Z)(this,"_time",0),(0,o.Z)(this,"_samples",0),(0,o.Z)(this,"_startTime",0),(0,o.Z)(this,"_timerPending",!1),this.name=t,this.type=n,this.reset()}return(0,i.Z)(e,[{key:"setSampleSize",value:function(e){return this.sampleSize=e,this}},{key:"incrementCount",value:function(){return this.addCount(1),this}},{key:"decrementCount",value:function(){return this.subtractCount(1),this}},{key:"addCount",value:function(e){return this._count+=e,this._samples++,this._checkSampling(),this}},{key:"subtractCount",value:function(e){return this._count-=e,this._samples++,this._checkSampling(),this}},{key:"addTime",value:function(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}},{key:"timeStart",value:function(){return this._startTime=a(),this._timerPending=!0,this}},{key:"timeEnd",value:function(){return this._timerPending?(this.addTime(a()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}},{key:"getSampleAverageCount",value:function(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}},{key:"getSampleAverageTime",value:function(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}},{key:"getSampleHz",value:function(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}},{key:"getAverageCount",value:function(){return this.samples>0?this.count/this.samples:0}},{key:"getAverageTime",value:function(){return this.samples>0?this.time/this.samples:0}},{key:"getHz",value:function(){return this.time>0?this.samples/(this.time/1e3):0}},{key:"reset",value:function(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}},{key:"_checkSampling",value:function(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}]),e}(),u=function(){function e(t){(0,r.Z)(this,e),(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"stats",{}),this.id=t.id,this.stats={},this._initializeStats(t.stats),Object.seal(this)}return(0,i.Z)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}},{key:"size",get:function(){return Object.keys(this.stats).length}},{key:"reset",value:function(){for(var e in this.stats)this.stats[e].reset();return this}},{key:"forEach",value:function(e){for(var t in this.stats)e(this.stats[t])}},{key:"getTable",value:function(){var e={};return this.forEach((function(t){e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}},{key:"_initializeStats",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){return e._getOrCreate(t)}))}},{key:"_getOrCreate",value:function(e){if(!e||!e.name)return null;var t=e.name,n=e.type;return this.stats[t]||(this.stats[t]=e instanceof s?e:new s(t,n)),this.stats[t]}}]),e}()},8733:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4738);function i(e){var t=[1/0,1/0,-1/0,-1/0];return r.coordEach(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}i.default=i,t.default=i},3271:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(8733)),o=r(n(3)),a=r(n(3736)),s=n(1035);function u(e,t){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(g(e.coordinates[n],t.coordinates)){r=!0;break}return r}function l(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){for(var i=r[n],o=!1,a=0,s=e.coordinates;a<s.length;a++){if(g(i,s[a])){o=!0;break}}if(!o)return!1}return!0}function c(e,t){for(var n=!1,r=0,i=t.coordinates;r<i.length;r++){var o=i[r];if(a.default(o,e,{ignoreEndVertices:!0})&&(n=!0),!a.default(o,e))return!1}return!!n}function A(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){var i=r[n];if(!o.default(i,e,{ignoreBoundary:!0}))return!1}return!0}function f(e,t){for(var n=!1,r=0,i=t.coordinates;r<i.length;r++){var o=i[r];if(a.default({type:"Point",coordinates:o},e,{ignoreEndVertices:!0})&&(n=!0),!a.default({type:"Point",coordinates:o},e,{ignoreEndVertices:!1}))return!1}return n}function h(e,t){var n=!1,r=0;if(!d(i.default(e),i.default(t)))return!1;for(;r<t.coordinates.length-1;r++){var a=v(t.coordinates[r],t.coordinates[r+1]);if(o.default({type:"Point",coordinates:a},e,{ignoreBoundary:!0})){n=!0;break}}return n}function p(e,t){if("Feature"===e.type&&null===e.geometry)return!1;if("Feature"===t.type&&null===t.geometry)return!1;if(!d(i.default(e),i.default(t)))return!1;for(var n=0,r=s.getGeom(t).coordinates;n<r.length;n++)for(var a=0,u=r[n];a<u.length;a++){var l=u[a];if(!o.default(l,e))return!1}return!0}function d(e,t){return!(e[0]>t[0])&&(!(e[2]<t[2])&&(!(e[1]>t[1])&&!(e[3]<t[3])))}function g(e,t){return e[0]===t[0]&&e[1]===t[1]}function v(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}t.default=function(e,t){var n=s.getGeom(e),r=s.getGeom(t),i=n.type,d=r.type,v=n.coordinates,y=r.coordinates;switch(i){case"Point":if("Point"===d)return g(v,y);throw new Error("feature2 "+d+" geometry not supported");case"MultiPoint":switch(d){case"Point":return u(n,r);case"MultiPoint":return l(n,r);default:throw new Error("feature2 "+d+" geometry not supported")}case"LineString":switch(d){case"Point":return a.default(r,n,{ignoreEndVertices:!0});case"LineString":return f(n,r);case"MultiPoint":return c(n,r);default:throw new Error("feature2 "+d+" geometry not supported")}case"Polygon":switch(d){case"Point":return o.default(r,n,{ignoreBoundary:!0});case"LineString":return h(n,r);case"Polygon":return p(n,r);case"MultiPoint":return A(n,r);default:throw new Error("feature2 "+d+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}},t.isPointInMultiPoint=u,t.isMultiPointInMultiPoint=l,t.isMultiPointOnLine=c,t.isMultiPointInPoly=A,t.isLineOnLine=f,t.isLineInPoly=h,t.isPolyInPoly=p,t.doBBoxOverlap=d,t.compareCoords=g,t.getMidpoint=v},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1035);function i(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var a=t[i][0],s=t[i][1],u=t[o][0],l=t[o][1];if(e[1]*(a-u)+s*(u-e[0])+l*(e[0]-a)===0&&(a-e[0])*(u-e[0])<=0&&(s-e[1])*(l-e[1])<=0)return!n;s>e[1]!==l>e[1]&&e[0]<(u-a)*(e[1]-s)/(l-s)+a&&(r=!r)}return r}t.default=function(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var o=r.getCoord(e),a=r.getGeom(t),s=a.type,u=t.bbox,l=a.coordinates;if(u&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(o,u))return!1;"Polygon"===s&&(l=[l]);for(var c=!1,A=0;A<l.length&&!c;A++)if(i(o,l[A][0],n.ignoreBoundary)){for(var f=!1,h=1;h<l[A].length&&!f;)i(o,l[A][h],!n.ignoreBoundary)&&(f=!0),h++;f||(c=!0)}return c}},3736:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1035);function i(e,t,n,r,i){var o=n[0],a=n[1],s=e[0],u=e[1],l=t[0],c=t[1],A=l-s,f=c-u,h=(n[0]-s)*f-(n[1]-u)*A;if(null!==i){if(Math.abs(h)>i)return!1}else if(0!==h)return!1;return r?"start"===r?Math.abs(A)>=Math.abs(f)?A>0?s<o&&o<=l:l<=o&&o<s:f>0?u<a&&a<=c:c<=a&&a<u:"end"===r?Math.abs(A)>=Math.abs(f)?A>0?s<=o&&o<l:l<o&&o<=s:f>0?u<=a&&a<c:c<a&&a<=u:"both"===r&&(Math.abs(A)>=Math.abs(f)?A>0?s<o&&o<l:l<o&&o<s:f>0?u<a&&a<c:c<a&&a<u):Math.abs(A)>=Math.abs(f)?A>0?s<=o&&o<=l:l<=o&&o<=s:f>0?u<=a&&a<=c:c<=a&&a<=u}t.default=function(e,t,n){void 0===n&&(n={});for(var o=r.getCoord(e),a=r.getCoords(t),s=0;s<a.length-1;s++){var u=!1;if(n.ignoreEndVertices&&(0===s&&(u="start"),s===a.length-2&&(u="end"),0===s&&s+1===a.length-1&&(u="both")),i(a[s],a[s+1],o,u,"undefined"===typeof n.epsilon?null:n.epsilon))return!0}return!1}},4647:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4738),i=n(4439);t.default=function(e,t){void 0===t&&(t={});var n=0,o=0,a=0;return r.coordEach(e,(function(e){n+=e[0],o+=e[1],a++}),!0),i.point([n/a,o/a],t.properties)}},4439:function(e,t){"use strict";function n(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function r(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!h(e[0])||!h(e[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r)}function i(e,t,r){void 0===r&&(r={});for(var i=0,o=e;i<o.length;i++){var a=o[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function o(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,r)}function a(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function s(e,t,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:e},t,r)}function u(e,t,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:e},t,r)}function l(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}function c(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e*r}function A(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e/r}function f(e){return 180*(e%(2*Math.PI))/Math.PI}function h(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=n,t.geometry=function(e,t,n){switch(void 0===n&&(n={}),e){case"Point":return r(t).geometry;case"LineString":return o(t).geometry;case"Polygon":return i(t).geometry;case"MultiPoint":return u(t).geometry;case"MultiLineString":return s(t).geometry;case"MultiPolygon":return l(t).geometry;default:throw new Error(e+" is invalid")}},t.point=r,t.points=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return r(e,t)})),n)},t.polygon=i,t.polygons=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return i(e,t)})),n)},t.lineString=o,t.lineStrings=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return o(e,t)})),n)},t.featureCollection=a,t.multiLineString=s,t.multiPoint=u,t.multiPolygon=l,t.geometryCollection=function(e,t,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:e},t,r)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},t.radiansToLength=c,t.lengthToRadians=A,t.lengthToDegrees=function(e,t){return f(A(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=f,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return c(A(e,t),n)},t.convertArea=function(e,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("area must be a positive number");var i=t.areaFactors[n];if(!i)throw new Error("invalid original units");var o=t.areaFactors[r];if(!o)throw new Error("invalid final units");return e/i*o},t.isNumber=h,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!h(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},1035:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4439);t.getCoord=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")},t.getCoords=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},t.containsNumber=function e(t){if(t.length>1&&r.isNumber(t[0])&&r.isNumber(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")},t.geojsonType=function(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)},t.featureOf=function(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)},t.collectionOf=function(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,i=e.features;r<i.length;r++){var o=i[r];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+o.geometry.type)}},t.getGeom=function(e){return"Feature"===e.type?e.geometry:e},t.getType=function(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},4738:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4439);function i(e,t,n){if(null!==e)for(var r,o,a,s,u,l,c,A,f=0,h=0,p=e.type,d="FeatureCollection"===p,g="Feature"===p,v=d?e.features.length:1,y=0;y<v;y++){u=(A=!!(c=d?e.features[y].geometry:g?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var m=0;m<u;m++){var b=0,_=0;if(null!==(s=A?c.geometries[m]:c)){l=s.coordinates;var w=s.type;switch(f=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===t(l,h,y,b,_))return!1;h++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(!1===t(l[r],h,y,b,_))return!1;h++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(o=0;o<l[r].length-f;o++){if(!1===t(l[r][o],h,y,b,_))return!1;h++}"MultiLineString"===w&&b++,"Polygon"===w&&_++}"Polygon"===w&&b++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(_=0,o=0;o<l[r].length;o++){for(a=0;a<l[r][o].length-f;a++){if(!1===t(l[r][o][a],h,y,b,_))return!1;h++}_++}b++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===i(s.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&!1!==t(e.features[n].properties,n);n++);break;case"Feature":t(e.properties,0)}}function a(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function s(e,t){var n,r,i,o,a,s,u,l,c,A,f=0,h="FeatureCollection"===e.type,p="Feature"===e.type,d=h?e.features.length:1;for(n=0;n<d;n++){for(s=h?e.features[n].geometry:p?e.geometry:e,l=h?e.features[n].properties:p?e.properties:{},c=h?e.features[n].bbox:p?e.bbox:void 0,A=h?e.features[n].id:p?e.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,f,l,c,A))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],f,l,c,A))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,l,c,A))return!1;f++}}function u(e,t){s(e,(function(e,n,i,o,a){var s,u=null===e?null:e.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==t(r.feature(e,i,{bbox:o,id:a}),n,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var c={type:s,coordinates:e.coordinates[l]};if(!1===t(r.feature(c,i),n,l))return!1}}))}function l(e,t){u(e,(function(e,n,o){var a=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var u,l=0,c=0,A=0;return!1!==i(e,(function(i,s,f,h,p){if(void 0===u||n>l||h>c||p>A)return u=i,l=n,c=h,A=p,void(a=0);var d=r.lineString([u,i],e.properties);if(!1===t(d,n,o,p,a))return!1;a++,u=i}))&&void 0}}}))}function c(e,t){if(!e)throw new Error("geojson is required");u(e,(function(e,n,i){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,n,i,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(r.lineString(a[s],e.properties),n,i,s))return!1}}}))}t.coordAll=function(e){var t=[];return i(e,(function(e){t.push(e)})),t},t.coordEach=i,t.coordReduce=function(e,t,n,r){var o=n;return i(e,(function(e,r,i,a,s){o=0===r&&void 0===n?e:t(o,e,r,i,a,s)}),r),o},t.featureEach=a,t.featureReduce=function(e,t,n){var r=n;return a(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r},t.findPoint=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,i=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),u=u||e.features[i].properties,n=e.features[i].geometry;break;case"Feature":u=u||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":return r.point(l,u,t);case"MultiPoint":return o<0&&(o=l.length+o),r.point(l[o],u,t);case"LineString":return s<0&&(s=l.length+s),r.point(l[s],u,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),r.point(l[a][s],u,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),r.point(l[o][s],u,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),r.point(l[o][a][s],u,t)}throw new Error("geojson is invalid")},t.findSegment=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,i=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),u=u||e.features[i].properties,n=e.features[i].geometry;break;case"Feature":u=u||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),r.lineString([l[s],l[s+1]],u,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),r.lineString([l[a][s],l[a][s+1]],u,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),r.lineString([l[o][s],l[o][s+1]],u,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),r.lineString([l[o][a][s],l[o][a][s+1]],u,t)}throw new Error("geojson is invalid")},t.flattenEach=u,t.flattenReduce=function(e,t,n){var r=n;return u(e,(function(e,i,o){r=0===i&&0===o&&void 0===n?e:t(r,e,i,o)})),r},t.geomEach=s,t.geomReduce=function(e,t,n){var r=n;return s(e,(function(e,i,o,a,s){r=0===i&&void 0===n?e:t(r,e,i,o,a,s)})),r},t.lineEach=c,t.lineReduce=function(e,t,n){var r=n;return c(e,(function(e,i,o,a){r=0===i&&void 0===n?e:t(r,e,i,o,a)})),r},t.propEach=o,t.propReduce=function(e,t,n){var r=n;return o(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r},t.segmentEach=l,t.segmentReduce=function(e,t,n){var r=n,i=!1;return l(e,(function(e,o,a,s,u){r=!1===i&&void 0===n?e:t(r,e,o,a,s,u),i=!0})),r}},2116:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(32)("wks"),i=n(9),o=n(0).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(0),i=n(2),o=n(8),a=n(22),s=n(10),u=function e(t,n,u){var l,c,A,f,h=t&e.F,p=t&e.G,d=t&e.P,g=t&e.B,v=p?r:t&e.S?r[n]||(r[n]={}):(r[n]||{}).prototype,y=p?i:i[n]||(i[n]={}),m=y.prototype||(y.prototype={});for(l in p&&(u=n),u)A=((c=!h&&v&&void 0!==v[l])?v:u)[l],f=g&&c?s(A,r):d&&"function"==typeof A?s(Function.call,A):A,v&&a(v,l,A,t&e.U),y[l]!=A&&o(y,l,f),d&&m[l]!=A&&(m[l]=A)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(16),i=n(21);e.exports=n(3)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(28),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",o=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t}))}return!0},n(14),n(34)},function(e,t,n){n(15),e.exports=n(2).Array.some},function(e,t,n){"use strict";var r=n(7),i=n(25)(3);r(r.P+r.F*!n(33)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(17),i=n(18),o=n(20),a=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(3)&&!n(4)((function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(1),i=n(0).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(0),i=n(8),o=n(23),a=n(9)("src"),s=Function.toString,u=(""+s).split("toString");n(2).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(10),i=n(26),o=n(27),a=n(12),s=n(29);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,A=6==e,f=5==e||A,h=t||s;return function(t,s,p){for(var d,g,v=o(t),y=i(v),m=r(s,p,3),b=a(y.length),_=0,w=n?h(t,b):u?h(t,0):void 0;b>_;_++)if((f||_ in y)&&(g=m(d=y[_],_,v),e))if(n)w[_]=g;else if(g)switch(e){case 3:return!0;case 5:return d;case 6:return _;case 2:w.push(d)}else if(c)return!1;return A?-1:l||c?c:w}}},function(e,t,n){var r=n(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(11);e.exports=function(e){return Object(r(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(30);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(1),i=n(31),o=n(6)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(5);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){n(35),e.exports=n(2).String.endsWith},function(e,t,n){"use strict";var r=n(7),i=n(12),o=n(36),a="".endsWith;r(r.P+r.F*n(38)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){var r=n(37),i=n(11);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(1),i=n(5),o=n(6)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}}])},9003:function(e,t,n){"use strict";n.r(t),n.d(t,{Accordion:function(){return I},Panel:function(){return Q},STATE_CHANGE_TYPE:function(){return v},StatefulPanel:function(){return oe},StatefulPanelContainer:function(){return re},StatelessAccordion:function(){return fe},StyledContent:function(){return d},StyledContentAnimationContainer:function(){return g},StyledHeader:function(){return f},StyledPanelContainer:function(){return A},StyledRoot:function(){return c},StyledToggleIcon:function(){return h},StyledToggleIconGroup:function(){return p}});var r=n(2791),i=n(6004),o=n(7696),a=n(85);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,o.zo)("ul",{listStyleType:"none",marginBottom:0,marginTop:0,paddingLeft:0,paddingRight:0,width:"100%"});c.displayName="Root";var A=(0,o.zo)("li",(function(e){var t=e.$expanded,n=e.$theme.colors;return{listStyleType:"none",width:"100%",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:t?n.mono500:n.mono400}}));A.displayName="PanelContainer";var f=(0,o.zo)("div",(function(e){var t=e.$disabled,n=e.$isFocusVisible,r=e.$theme,i=r.colors,o=r.sizing;return u(u({},r.typography.font350),{},{color:i.contentPrimary,cursor:t?"not-allowed":"pointer",backgroundColor:i.listHeaderFill,paddingTop:o.scale600,paddingBottom:o.scale600,paddingLeft:o.scale700,paddingRight:o.scale700,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,display:"flex",alignItems:"center",outline:n?"3px solid ".concat(i.accent):"none",outlineOffset:"-3px",justifyContent:"space-between",":hover":{color:i.primary}})}));f.displayName="Header";var h=(0,o.zo)("svg",(function(e){var t=e.$theme,n=e.$disabled,r=e.$color;return u(u({},(0,a.u)(e)),{},{flexShrink:0,color:r||t.colors.contentPrimary,cursor:n?"not-allowed":"pointer"})}));h.displayName="ToggleIcon";var p=(0,o.zo)("g",(function(e){var t=e.$theme;return{transform:e.$expanded?"rotate(0)":"rotate(-90deg)",transformOrigin:"center",transitionProperty:"transform",transitionDuration:t.animation.timing500,transitionTimingFunction:t.animation.easeOutQuinticCurve}}));p.displayName="ToggleIconGroup";var d=(0,o.zo)("div",(function(e){var t=e.$theme,n=t.animation,r=t.colors,i=t.sizing,o=t.typography,a=e.$expanded;return u(u({},o.font200),{},{backgroundColor:r.listBodyFill,color:r.contentPrimary,paddingTop:i.scale800,paddingBottom:i.scale1000,paddingLeft:i.scale800,paddingRight:i.scale800,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,boxSizing:"border-box",overflow:"hidden",opacity:a?1:0,visibility:a?"visible":"hidden",transitionProperty:"opacity,visibility",transitionDuration:n.timing500,transitionDelay:n.timing200,transitionTimingFunction:n.easeOutQuinticCurve})}));d.displayName="Content";var g=(0,o.zo)("div",(function(e){var t=e.$height,n=e.$theme.animation;return{height:"".concat(t),overflow:"hidden",transitionProperty:"height",transitionDuration:n.timing500,transitionTimingFunction:n.easeOutQuinticCurve}}));g.displayName="ContentAnimationContainer";var v={expand:"expand"};function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var i=M(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(s,e);var t,n,o,a=O(s);function s(){var e;E(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return F(P(e=a.call.apply(a,[this].concat(n))),"state",B({expanded:[]},e.props.initialState)),e}return t=s,n=[{key:"onPanelChange",value:function(e,t){var n=this.state.expanded,r=this.props.accordion;if(r)n=n[0]===e?[]:[e];else{var i=(n=_(n)).indexOf(e),o=i>-1;o?n.splice(i,1):n.push(e)}var a={expanded:n};this.internalSetState(v.expand,a);for(var s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];"function"===typeof t&&t.apply(void 0,u)}},{key:"internalSetState",value:function(e,t){var n=this.props,r=n.stateReducer,i=n.onChange,o=r(e,t,this.state);this.setState(o),"function"===typeof i&&i(o)}},{key:"getItems",value:function(){var e=this,t=this.state.expanded,n=this.props,i=n.accordion,o=n.disabled,a=n.children,s=n.renderPanelContent,u=n.renderAll,l=n.overrides;return r.Children.map(a,(function(n,a){if(n){var c=n.key||String(a),A=!1;A=i?t[0]===c:t.includes(c);var f={key:c,expanded:A||n.props.expanded,accordion:i,renderPanelContent:s,renderAll:u,overrides:n.props.overrides||l,disabled:n.props.disabled||o,onChange:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.onPanelChange.apply(e,[c,n.props.onChange].concat(r))}};return r.cloneElement(n,f)}}))}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.overrides,t=(void 0===e?{}:e).Root,n=b((0,i.jb)(t,c),2),o=n[0],a=n[1];return r.createElement(o,m({"data-baseweb":"accordion",$disabled:this.props.disabled,$isFocusVisible:!1},a),this.getItems())}}],n&&S(t.prototype,n),o&&S(t,o),s}(r.Component);F(I,"defaultProps",{accordion:!0,disabled:!1,initialState:{expanded:[]},onChange:function(){},overrides:{},renderAll:!1,renderPanelContent:!1,stateReducer:function(e,t){return t}});var L=n(7992),R=n(2422);function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=function(e){var t=e["aria-controls"],n=e.children,o=e.disabled,a=void 0!==o&&o,s=e.expanded,u=void 0!==s&&s,l=e.onChange,c=void 0===l?function(){}:l,v=e.onClick,y=void 0===v?function(){}:v,m=e.onKeyDown,b=void 0===m?function(){}:m,_=e.overrides,w=void 0===_?{}:_,x=e.title,C=void 0===x?"":x,B=e.renderPanelContent,E=void 0!==B&&B,S=e.renderAll,k=void 0!==S&&S,O=N(r.useState({expanded:u,isFocusVisible:!1,elementHeight:0,animationInProgress:!1}),2),T=O[0],P=O[1],M=r.useCallback((function(e){(0,R.E)(e)&&P(U(U({},T),{},{isFocusVisible:!0}))}),[T]),F=r.useCallback((function(e){T.isFocusVisible&&P(U(U({},T),{},{isFocusVisible:!1}))}),[T]),I=r.useCallback((function(e){a||("function"===typeof c&&c({expanded:!u}),"function"===typeof y&&y(e))}),[u,a,c,y]),Z=r.useCallback((function(e){if(!a){13!==e.keyCode&&32!==e.keyCode||("function"===typeof c&&c({expanded:!u}),32===e.keyCode&&e.preventDefault()),"function"===typeof b&&b(e)}}),[u,a,c,b]),j=r.useRef(null);r.useEffect((function(){if(j.current){var e=j.current.getBoundingClientRect().height;u!==T.expanded?P(U(U({},T),{},{expanded:u,animationInProgress:!0})):parseInt(T.elementHeight)!==e&&P(U(U({},T),{},{elementHeight:e?"".concat(e,"px"):0}))}}),[j.current,u,T.elementHeight,T.expanded,P]);var z=r.useMemo((function(){if(!u&&T.expanded){var e=j.current.getBoundingClientRect().height;return P(U(U({},T),{},{elementHeight:e?"".concat(e,"px"):0})),T.elementHeight}return T.expanded?T.animationInProgress?T.elementHeight:"auto":0}),[u,T.expanded,T.animationInProgress,T.elementHeight]),Q={$disabled:a,$expanded:u,$isFocusVisible:T.isFocusVisible},H=w.PanelContainer,V=w.Header,G=w.Content,W=w.ContentAnimationContainer,K=w.ToggleIcon,q=w.ToggleIconGroup,X=N((0,i.jb)(H,A),2),Y=X[0],J=X[1],$=N((0,i.jb)(V,f),2),ee=$[0],te=$[1],ne=N((0,i.jb)(G,d),2),re=ne[0],ie=ne[1],oe=N((0,i.jb)(W,g),2),ae=oe[0],se=oe[1],ue=N((0,i.jb)(q,p),2),le=ue[0],ce=ue[1],Ae=N((0,i.jb)(K,h),2),fe=Ae[0],he=Ae[1];return r.createElement(L.R.Consumer,null,(function(e){return r.createElement(Y,D({},Q,J),r.createElement(ee,D({tabIndex:0,role:"button","aria-expanded":u,"aria-disabled":a||null},Q,te,t?{"aria-controls":t}:{},{onClick:I,onKeyDown:Z,onFocus:(0,R.Ah)(te,M),onBlur:(0,R.Z5)(te,F)}),C,r.createElement(fe,D({viewBox:"0 0 24 24",title:T.expanded?e.accordion.collapse:e.accordion.expand,size:16},he,Q),r.createElement(le,D({},Q,ce),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z"})),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z"}))),r.createElement(ae,D({},Q,se,{$height:z,onTransitionEnd:function(){T.animationInProgress&&P(U(U({},T),{},{animationInProgress:!1}))}}),r.createElement(re,D({ref:j},Q,ie,t?{id:t}:{}),T.expanded||k||E||T.animationInProgress?n:null)))}))};function H(e){return H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function V(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},X(e,t)}function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var i=ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==H(t)&&"function"!==typeof t?$(e):t}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(o,e);var t,n,r,i=Y(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return te($(e=i.call.apply(i,[this].concat(n))),"state",W({expanded:!1},e.props.initialState)),te($(e),"onChange",(function(){"function"===typeof e.props.onChange&&e.props.onChange({expanded:!e.state.expanded}),e.internalSetState(v.expand,{expanded:!e.state.expanded})})),e}return t=o,(n=[{key:"internalSetState",value:function(e,t){var n=this.props.stateReducer;this.setState((function(r){return n?n(e,t,r):t}))}},{key:"render",value:function(){var e=this.props,t=(e.children,e.initialState,e.stateReducer,V(e,["children","initialState","stateReducer"]));return this.props.children(W(W(W({},t),this.state),{},{onChange:this.onChange}))}}])&&q(t.prototype,n),r&&q(t,r),o}(r.Component);te(ne,"defaultProps",{initialState:{expanded:!1},stateReducer:function(e,t){return t},onChange:function(){}});var re=ne;function ie(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oe(e){var t=e.children,n=ie(e,["children"]);return r.createElement(re,n,(function(e){return r.createElement(Q,e,t)}))}function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}function se(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"===typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fe=function(e){var t=e.accordion,n=void 0===t||t,o=e.children,a=e.disabled,s=e.expanded,u=e.onChange,l=e.overrides,A=void 0===l?{}:l,f=e.renderAll,h=e.renderPanelContent,p=A.Root,d=Ae(A,["Root"]),g=ue((0,i.jb)(p,c),2),v=g[0],y=g[1];return r.createElement(v,ae({"data-baseweb":"accordion"},y),r.Children.map(o,(function(e,t){var i=e.key||String(t);return r.cloneElement(e,{disabled:e.props.disabled||a,expanded:s.includes(i),key:i,onChange:u&&"function"===typeof u?function(){var e;e=n?s.includes(i)?[]:[i]:s.includes(i)?s.filter((function(e){return e!==i})):[].concat(se(s),[i]),u({key:i,expanded:e})}:u,overrides:e.props.overrides||d,renderAll:f,renderPanelContent:h})})))}},3890:function(e,t,n){"use strict";n.r(t),n.d(t,{Block:function(){return d}});var r=n(2791),i=n(4457);function o(e){return void 0===e?null:e}function a(e,t){if(e)return e[t]}var s=(0,n(7696).zo)("div",(function(e){var t=e.$theme,n=t.breakpoints,r=t.colors,s=t.typography,u=t.sizing,l=function(e,t){return e[t]},c=function(e){return u[e]||e},A=function(e){var t={},n=(0,i.W)(e);return{apply:function(e){var r=e.property,i=e.transform,a=void 0===i?function(e){return e}:i,s=e.value;null!==s&&void 0!==s&&(Array.isArray(s)?s.forEach((function(e,i){if(0!==i){var s=n[i-1];t[s]||(t[s]={}),t[s][r]=o(a(e))}else t[r]=o(a(e))})):t[r]=o(a(s)))},value:function(){return t}}}(n);return A.apply({property:"color",value:l(e,"$color"),transform:function(e){return r[e]||e}}),A.apply({property:"backgroundAttachment",value:l(e,"$backgroundAttachment")}),A.apply({property:"backgroundClip",value:l(e,"$backgroundClip")}),A.apply({property:"backgroundColor",value:l(e,"$backgroundColor"),transform:function(e){return r[e]||e}}),A.apply({property:"backgroundImage",value:l(e,"$backgroundImage")}),A.apply({property:"backgroundOrigin",value:l(e,"$backgroundOrigin")}),A.apply({property:"backgroundPosition",value:l(e,"$backgroundPosition")}),A.apply({property:"backgroundRepeat",value:l(e,"$backgroundRepeat")}),A.apply({property:"backgroundSize",value:l(e,"$backgroundSize")}),A.apply({property:"fontFamily",value:l(e,"$font"),transform:function(e){return a(s[e],"fontFamily")}}),A.apply({property:"fontWeight",value:l(e,"$font"),transform:function(e){return a(s[e],"fontWeight")}}),A.apply({property:"fontSize",value:l(e,"$font"),transform:function(e){return a(s[e],"fontSize")}}),A.apply({property:"lineHeight",value:l(e,"$font"),transform:function(e){return a(s[e],"lineHeight")}}),A.apply({property:"alignContent",value:l(e,"$alignContent")}),A.apply({property:"alignItems",value:l(e,"$alignItems")}),A.apply({property:"alignSelf",value:l(e,"$alignSelf")}),A.apply({property:"display",value:l(e,"$display")}),A.apply({property:"flex",value:l(e,"$flex")}),A.apply({property:"flexDirection",value:l(e,"$flexDirection")}),A.apply({property:"grid",value:l(e,"$grid")}),A.apply({property:"gridArea",value:l(e,"$gridArea")}),A.apply({property:"gridAutoColumns",value:l(e,"$gridAutoColumns")}),A.apply({property:"gridAutoFlow",value:l(e,"$gridAutoFlow")}),A.apply({property:"gridAutoRows",value:l(e,"$gridAutoRows")}),A.apply({property:"gridColumn",value:l(e,"$gridColumn")}),A.apply({property:"gridColumnEnd",value:l(e,"$gridColumnEnd")}),A.apply({property:"gridColumnGap",value:l(e,"$gridColumnGap"),transform:c}),A.apply({property:"gridColumnStart",value:l(e,"$gridColumnStart")}),A.apply({property:"gridGap",value:l(e,"$gridGap"),transform:c}),A.apply({property:"gridRow",value:l(e,"$gridRow")}),A.apply({property:"gridRowEnd",value:l(e,"$gridRowEnd")}),A.apply({property:"gridRowGap",value:l(e,"$gridRowGap"),transform:c}),A.apply({property:"gridRowStart",value:l(e,"$gridRowStart")}),A.apply({property:"gridTemplate",value:l(e,"$gridTemplate")}),A.apply({property:"gridTemplateAreas",value:l(e,"$gridTemplateAreas")}),A.apply({property:"gridTemplateColumns",value:l(e,"$gridTemplateColumns")}),A.apply({property:"gridTemplateRows",value:l(e,"$gridTemplateRows")}),A.apply({property:"justifyContent",value:l(e,"$justifyContent")}),A.apply({property:"justifyItems",value:l(e,"$justifyItems")}),A.apply({property:"justifySelf",value:l(e,"$justifySelf")}),A.apply({property:"position",value:l(e,"$position")}),A.apply({property:"width",value:l(e,"$width"),transform:c}),A.apply({property:"minWidth",value:l(e,"$minWidth"),transform:c}),A.apply({property:"maxWidth",value:l(e,"$maxWidth"),transform:c}),A.apply({property:"height",value:l(e,"$height"),transform:c}),A.apply({property:"minHeight",value:l(e,"$minHeight"),transform:c}),A.apply({property:"maxHeight",value:l(e,"$maxHeight"),transform:c}),A.apply({property:"overflowX",value:l(e,"$overflow"),transform:function(e){return"scrollX"===e?"scroll":null}}),A.apply({property:"overflowY",value:l(e,"$overflow"),transform:function(e){return"scrollY"===e?"scroll":null}}),A.apply({property:"overflow",value:l(e,"$overflow"),transform:function(e){return"scrollX"!==e&&"scrollY"!==e?e:null}}),A.apply({property:"margin",value:l(e,"$margin"),transform:c}),A.apply({property:"marginTop",value:l(e,"$marginTop"),transform:c}),A.apply({property:"marginRight",value:l(e,"$marginRight"),transform:c}),A.apply({property:"marginBottom",value:l(e,"$marginBottom"),transform:c}),A.apply({property:"marginLeft",value:l(e,"$marginLeft"),transform:c}),A.apply({property:"padding",value:l(e,"$padding"),transform:c}),A.apply({property:"paddingTop",value:l(e,"$paddingTop"),transform:c}),A.apply({property:"paddingRight",value:l(e,"$paddingRight"),transform:c}),A.apply({property:"paddingBottom",value:l(e,"$paddingBottom"),transform:c}),A.apply({property:"paddingLeft",value:l(e,"$paddingLeft"),transform:c}),A.apply({property:"placeContent",value:l(e,"$placeContent")}),A.apply({property:"placeItems",value:l(e,"$placeItems")}),A.apply({property:"placeSelf",value:l(e,"$placeSelf")}),A.apply({property:"flexWrap",value:l(e,"$flexWrap"),transform:function(){return"wrap"}}),A.apply({property:"top",value:l(e,"$top"),transform:c}),A.apply({property:"right",value:l(e,"$right"),transform:c}),A.apply({property:"left",value:l(e,"$left"),transform:c}),A.apply({property:"bottom",value:l(e,"$bottom"),transform:c}),A.apply({property:"textOverflow",value:l(e,"$textOverflow")}),A.apply({property:"whiteSpace",value:l(e,"$whiteSpace")}),A.value()}));s.displayName="StyledBlock";var u=n(6004);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){var t=e.forwardedRef,n=e.children,i=e.as,o=void 0===i?"div":i,a=e.overrides,A=void 0===a?{}:a,h=e.color,p=e.backgroundAttachment,d=e.backgroundClip,g=e.backgroundColor,v=e.backgroundImage,y=e.backgroundOrigin,m=e.backgroundPosition,b=e.backgroundRepeat,_=e.backgroundSize,w=e.font,x=e.alignContent,C=e.alignItems,B=e.alignSelf,E=e.flexDirection,S=e.display,k=e.flex,O=e.grid,T=e.gridArea,P=e.gridAutoColumns,M=e.gridAutoFlow,F=e.gridAutoRows,I=e.gridColumn,L=e.gridColumnEnd,R=e.gridColumnGap,D=e.gridColumnStart,Z=e.gridGap,U=e.gridRow,j=e.gridRowEnd,N=e.gridRowGap,z=e.gridRowStart,Q=e.gridTemplate,H=e.gridTemplateAreas,V=e.gridTemplateColumns,G=e.gridTemplateRows,W=e.justifyContent,K=e.justifyItems,q=e.justifySelf,X=e.position,Y=e.width,J=e.minWidth,$=e.maxWidth,ee=e.height,te=e.minHeight,ne=e.maxHeight,re=e.overflow,ie=e.margin,oe=e.marginTop,ae=e.marginRight,se=e.marginBottom,ue=e.marginLeft,le=e.padding,ce=e.paddingTop,Ae=e.paddingRight,fe=e.paddingBottom,he=e.paddingLeft,pe=e.placeContent,de=e.placeItems,ge=e.placeSelf,ve=e.flexWrap,ye=e.left,me=e.top,be=e.right,_e=e.bottom,we=e.textOverflow,xe=e.whiteSpace,Ce=f(e,["forwardedRef","children","as","overrides","color","backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundRepeat","backgroundSize","font","alignContent","alignItems","alignSelf","flexDirection","display","flex","grid","gridArea","gridAutoColumns","gridAutoFlow","gridAutoRows","gridColumn","gridColumnEnd","gridColumnGap","gridColumnStart","gridGap","gridRow","gridRowEnd","gridRowGap","gridRowStart","gridTemplate","gridTemplateAreas","gridTemplateColumns","gridTemplateRows","justifyContent","justifyItems","justifySelf","position","width","minWidth","maxWidth","height","minHeight","maxHeight","overflow","margin","marginTop","marginRight","marginBottom","marginLeft","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","placeContent","placeItems","placeSelf","flexWrap","left","top","right","bottom","textOverflow","whiteSpace"]),Be=c((0,u.jb)(A.Block,s),2),Ee=Be[0],Se=Be[1];return r.createElement(Ee,l({ref:t,$as:o,$color:h,$backgroundAttachment:p,$backgroundClip:d,$backgroundColor:g,$backgroundImage:v,$backgroundOrigin:y,$backgroundPosition:m,$backgroundRepeat:b,$backgroundSize:_,$font:w,$alignContent:x,$alignItems:C,$alignSelf:B,$flexDirection:E,$display:S,$flex:k,$grid:O,$gridArea:T,$gridAutoColumns:P,$gridAutoFlow:M,$gridAutoRows:F,$gridColumn:I,$gridColumnEnd:L,$gridColumnGap:R,$gridColumnStart:D,$gridGap:Z,$gridRow:U,$gridRowEnd:j,$gridRowGap:N,$gridRowStart:z,$gridTemplate:Q,$gridTemplateAreas:H,$gridTemplateColumns:V,$gridTemplateRows:G,$justifyContent:W,$justifyItems:K,$justifySelf:q,$position:X,$width:Y,$minWidth:J,$maxWidth:$,$height:ee,$minHeight:te,$maxHeight:ne,$overflow:re,$margin:ie,$marginTop:oe,$marginRight:ae,$marginBottom:se,$marginLeft:ue,$padding:le,$paddingTop:ce,$paddingRight:Ae,$paddingBottom:fe,$paddingLeft:he,$placeContent:pe,$placeItems:de,$placeSelf:ge,$flexWrap:ve,$left:ye,$top:me,$right:be,$bottom:_e,$textOverflow:we,$whiteSpace:xe,"data-baseweb":"block"},Ce,Se),n)}var p=r.forwardRef((function(e,t){return r.createElement(h,l({},e,{forwardedRef:t}))}));p.displayName="Block";var d=p},5385:function(e,t,n){"use strict";n.r(t),n.d(t,{ButtonGroup:function(){return C},MODE:function(){return o},SHAPE:function(){return i.X3},SIZE:function(){return i.NO},STATE_CHANGE_TYPE:function(){return a},StatefulButtonGroup:function(){return z},StatefulContainer:function(){return U},StyledRoot:function(){return l}});var r=n(2791),i=n(2596),o=Object.freeze({radio:"radio",checkbox:"checkbox"}),a=Object.freeze({change:"change"}),s=n(6004),u=n(7992),l=(0,n(7696).zo)("div",(function(e){var t=e.$shape,n=e.$length,r=e.$theme,o=1===n?void 0:t!==i.X3.default?"-".concat(r.sizing.scale100):"-0.5px";return{display:"flex",marginLeft:o,marginRight:o}}));function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}l.displayName="StyledRoot";var C=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(f,e);var t,n,a,c=m(f);function f(){var e;g(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(_(e=c.call.apply(c,[this].concat(n))),"childRefs",{}),e}return t=f,n=[{key:"render",value:function(){var e=this,t=this.props,n=t.overrides,a=void 0===n?{}:n,c=t.mode,f=void 0===c?o.checkbox:c,d=t.children,g=t.selected,v=t.disabled,y=t.onClick,m=t.kind,b=t.shape,_=t.size,w=p((0,s.jb)(a.Root,l),2),x=w[0],C=w[1],B=this.props["aria-label"]||this.props.ariaLabel,E=f===o.radio,S=r.Children.count(d);return r.createElement(u.R.Consumer,null,(function(t){return r.createElement(x,A({"aria-label":B||t.buttongroup.ariaLabel,"data-baseweb":"button-group",role:E?"radiogroup":"group",$shape:b,$length:d.length},C),r.Children.map(d,(function(t,n){if(!r.isValidElement(t))return null;var o=t.props.isSelected?t.props.isSelected:function(e,t){return!(!Array.isArray(e)&&"number"!==typeof e)&&(Array.isArray(e)?e.includes(t):e===t)}(g,n);return E&&(e.childRefs[n]=r.createRef()),r.cloneElement(t,{disabled:v||t.props.disabled,isSelected:o,ref:E?e.childRefs[n]:void 0,tabIndex:!E||o||E&&(!g||-1===g)&&0===n?0:-1,onKeyDown:function(t){if(E){var n=Number(g)?Number(g):0;if("ArrowUp"===t.key||"ArrowLeft"===t.key){t.preventDefault&&t.preventDefault();var r=n-1<0?S-1:n-1;y&&y(t,r),e.childRefs[r].current&&e.childRefs[r].current.focus()}if("ArrowDown"===t.key||"ArrowRight"===t.key){t.preventDefault&&t.preventDefault();var i=n+1>S-1?0:n+1;y&&y(t,i),e.childRefs[i].current&&e.childRefs[i].current.focus()}}},kind:m,onClick:function(e){v||(t.props.onClick&&t.props.onClick(e),y&&y(e,n))},shape:b,size:_,overrides:h({BaseButton:{style:function(e){var t=e.$theme;return 1===d.length?{}:b!==i.X3.default?{marginLeft:t.sizing.scale100,marginRight:t.sizing.scale100}:{marginLeft:"0.5px",marginRight:"0.5px"}},props:{"aria-checked":o,role:E?"radio":"checkbox"}}},t.props.overrides)})})))}))}}],n&&v(t.prototype,n),a&&v(t,a),f}(r.Component);function B(e){return B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==B(t)&&"function"!==typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){return Array.isArray(e)||"number"===typeof e}x(C,"defaultProps",{disabled:!1,onClick:function(){},shape:i.X3.default,size:i.NO.default,kind:i.TO.secondary});var U=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(s,e);var t,n,r,i=F(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),D(L(t=i.call(this,e)),"changeState",(function(e){t.props.stateReducer?t.setState(t.props.stateReducer(a.change,e,t.state)):t.setState(e)})),D(L(t),"onClick",(function(e,n){t.props.mode===o.radio&&(0===t.state.selected.length||t.state.selected[0]!==n?t.changeState({selected:[n]}):t.changeState({selected:[]})),t.props.mode===o.checkbox&&(t.state.selected.includes(n)?t.changeState({selected:t.state.selected.filter((function(e){return e!==n}))}):t.changeState({selected:[].concat(O(t.state.selected),[n])})),t.props.onClick&&t.props.onClick(e,n)}));var n=e.initialState,r=(void 0===n?{}:n).selected,u=void 0===r?[]:r;return t.state={selected:Z(u)?[].concat(u):[]},t}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=(e.initialState,e.stateReducer,k(e,["initialState","stateReducer"]));return this.props.children(S(S({},t),{},{onClick:this.onClick,selected:this.state.selected}))}}])&&P(t.prototype,n),r&&P(t,r),s}(r.Component);function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function z(e){e.children;var t=e.initialState,n=N(e,["children","initialState"]);return r.createElement(U,j({initialState:t},n),(function(t){var n=j({},t);return r.createElement(C,n,e.children)}))}D(U,"defaultProps",{initialState:{selected:[]},stateReducer:function(e,t,n){return t}})},4013:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(2791),i=n(5540);function o(e){return{$colors:e.colors,$disabled:e.disabled,$isLoading:e.isLoading,$isSelected:e.isSelected,$kind:e.kind,$shape:e.shape,$size:e.size}}var a=n(2420),s=n(6004);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e){var t=e.Enhancer,n=A(e,["Enhancer"]);return"string"===typeof t?t:a.isValidElementType(t)?r.createElement(t,n):t}function h(e){var t=e.children,n=e.overrides,a=void 0===n?{}:n,c=e.startEnhancer,A=e.endEnhancer,h=l((0,s.jb)(a.StartEnhancer,i.mI),2),p=h[0],d=h[1],g=l((0,s.jb)(a.EndEnhancer,i.XU),2),v=g[0],y=g[1],m=o(e);return r.createElement(r.Fragment,null,null!==c&&void 0!==c&&r.createElement(p,u({},m,d),r.createElement(f,{Enhancer:c})),t,null!==A&&void 0!==A&&r.createElement(v,u({},m,y),r.createElement(f,{Enhancer:A})))}var p=n(2596),d={disabled:!1,isLoading:!1,isSelected:!1,kind:p.TO.primary,overrides:{},shape:p.X3.default,size:p.NO.default},g=n(2422);function v(e){return v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==v(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(l,e);var t,n,a,u=S(l);function l(){var e;C(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(O(e=u.call.apply(u,[this].concat(n))),"state",{isFocusVisible:!1}),P(O(e),"internalOnClick",(function(){for(var t=e.props,n=t.isLoading,r=t.onClick,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n?o[0].preventDefault():r&&r.apply(void 0,o)})),P(O(e),"handleFocus",(function(t){(0,g.E)(t)&&e.setState({isFocusVisible:!0})})),P(O(e),"handleBlur",(function(t){!1!==e.state.isFocusVisible&&e.setState({isFocusVisible:!1})})),e}return t=l,(n=[{key:"render",value:function(){var e,t=this.props,n=t.overrides,a=void 0===n?{}:n,u=(t.size,t.kind,t.shape,t.isLoading),l=(t.isSelected,t.startEnhancer,t.endEnhancer,t.children,t.forwardedRef),c=x(t,["overrides","size","kind","shape","isLoading","isSelected","startEnhancer","endEnhancer","children","forwardedRef"]),A=_((0,s.jb)(a.BaseButton||a.Root,i.Yd),2),f=A[0],p=A[1],d=_((0,s.jb)(a.LoadingSpinner,i.TK),2),v=d[0],m=d[1],w=_((0,s.jb)(a.LoadingSpinnerContainer,i.dx),2),C=w[0],B=w[1],E=b(b({},o(this.props)),{},{$isFocusVisible:this.state.isFocusVisible});return r.createElement(f,y({ref:l,"data-baseweb":"button"},u?(P(e={},"aria-label","loading ".concat("string"===typeof this.props.children?this.props.children:"")),P(e,"aria-busy","true"),e):{},E,c,p,{onClick:this.internalOnClick,onFocus:(0,g.Ah)(b(b({},c),p),this.handleFocus),onBlur:(0,g.Z5)(b(b({},c),p),this.handleBlur)}),u?r.createElement(r.Fragment,null,r.createElement("div",{style:{opacity:0,display:"flex",height:"0px"}},r.createElement(h,this.props)),r.createElement(C,y({},E,B),r.createElement(v,y({},E,m)))):r.createElement(h,this.props))}}])&&B(t.prototype,n),a&&B(t,a),l}(r.Component);P(M,"defaultProps",d);var F=r.forwardRef((function(e,t){return r.createElement(M,y({forwardedRef:t},e))}));F.displayName="Button";var I=F},2596:function(e,t,n){"use strict";n.d(t,{NO:function(){return o},TO:function(){return r},X3:function(){return i}});var r={primary:"primary",secondary:"secondary",tertiary:"tertiary",minimal:"minimal"},i={default:"default",pill:"pill",round:"round",circle:"circle",square:"square"},o={mini:"mini",default:"default",compact:"compact",large:"large"}},4021:function(e,t,n){"use strict";n.r(t),n.d(t,{Button:function(){return r.Z},KIND:function(){return i.TO},SHAPE:function(){return i.X3},SIZE:function(){return i.NO},StyledBaseButton:function(){return o.Yd},StyledEndEnhancer:function(){return o.XU},StyledLoadingSpinner:function(){return o.TK},StyledLoadingSpinnerContainer:function(){return o.dx},StyledStartEnhancer:function(){return o.mI}});var r=n(4013),i=n(2596),o=n(5540)},5540:function(e,t,n){"use strict";n.d(t,{TK:function(){return f},XU:function(){return l},Yd:function(){return u},dx:function(){return A},mI:function(){return c}});var r=n(7696),i=n(2596);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=(0,r.zo)("button",(function(e){var t=e.$theme,n=e.$size,r=e.$colors,o=e.$kind,s=e.$shape,u=e.$isLoading,l=e.$isSelected,c=e.$disabled;return a(a(a(a(a({display:"inline-flex",flexDirection:u?"column":"row",alignItems:"center",justifyContent:"center",borderLeftWidth:0,borderTopWidth:0,borderRightWidth:0,borderBottomWidth:0,borderLeftStyle:"none",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",outline:"none",boxShadow:e.$isFocusVisible?"inset 0 0 0 3px ".concat(t.colors.accent):"none",textDecoration:"none",WebkitAppearance:"none",transitionProperty:"background",transitionDuration:t.animation.timing200,transitionTimingFunction:t.animation.linearCurve,cursor:"pointer",":disabled":a({cursor:"not-allowed"},h({$theme:t,$kind:o,$disabled:c,$isSelected:l})),marginLeft:0,marginTop:0,marginRight:0,marginBottom:0},function(e){var t=e.$theme;switch(e.$size){case i.NO.mini:return t.typography.font150;case i.NO.compact:return t.typography.font250;case i.NO.large:return t.typography.font450;default:return t.typography.font350}}({$theme:t,$size:n})),function(e){var t=e.$theme,n=e.$size,r=e.$shape,o=t.borders.buttonBorderRadius;r===i.X3.pill?o=n===i.NO.compact?"30px":n===i.NO.large?"42px":"38px":r!==i.X3.circle&&r!==i.X3.round||(o="50%");return{borderTopRightRadius:o,borderBottomRightRadius:o,borderTopLeftRadius:o,borderBottomLeftRadius:o}}({$theme:t,$size:n,$shape:s})),function(e){var t=e.$theme,n=e.$size,r=e.$shape,o=r===i.X3.square||r===i.X3.circle||r===i.X3.round;switch(n){case i.NO.mini:return{paddingTop:t.sizing.scale200,paddingBottom:t.sizing.scale200,paddingLeft:o?t.sizing.scale200:t.sizing.scale300,paddingRight:o?t.sizing.scale200:t.sizing.scale300};case i.NO.compact:return{paddingTop:t.sizing.scale400,paddingBottom:t.sizing.scale400,paddingLeft:o?t.sizing.scale400:t.sizing.scale500,paddingRight:o?t.sizing.scale400:t.sizing.scale500};case i.NO.large:return{paddingTop:t.sizing.scale600,paddingBottom:t.sizing.scale600,paddingLeft:o?t.sizing.scale600:t.sizing.scale700,paddingRight:o?t.sizing.scale600:t.sizing.scale700};default:return{paddingTop:t.sizing.scale550,paddingBottom:t.sizing.scale550,paddingLeft:o?t.sizing.scale550:t.sizing.scale600,paddingRight:o?t.sizing.scale550:t.sizing.scale600}}}({$theme:t,$size:n,$shape:s})),function(e){var t=e.$theme,n=e.$colors,r=e.$isLoading,o=e.$isSelected,a=e.$kind,s=e.$disabled;if(n)return{color:n.color,backgroundColor:n.backgroundColor,":hover":{boxShadow:"inset 999px 999px 0px rgba(0, 0, 0, 0.04)"},":active":{boxShadow:"inset 999px 999px 0px rgba(0, 0, 0, 0.08)"}};if(s)return Object.freeze({});switch(a){case i.TO.primary:return o?{color:t.colors.buttonPrimarySelectedText,backgroundColor:t.colors.buttonPrimarySelectedFill}:{color:t.colors.buttonPrimaryText,backgroundColor:t.colors.buttonPrimaryFill,":hover":{backgroundColor:r?t.colors.buttonPrimaryActive:t.colors.buttonPrimaryHover},":active":{backgroundColor:t.colors.buttonPrimaryActive}};case i.TO.secondary:return o?{color:t.colors.buttonPrimaryText,backgroundColor:t.colors.buttonPrimaryFill}:{color:t.colors.buttonSecondaryText,backgroundColor:t.colors.buttonSecondaryFill,":hover":{backgroundColor:r?t.colors.buttonSecondaryActive:t.colors.buttonSecondaryHover},":active":{backgroundColor:t.colors.buttonSecondaryActive}};case i.TO.tertiary:return o?{color:t.colors.buttonTertiarySelectedText,backgroundColor:t.colors.buttonTertiarySelectedFill}:{color:t.colors.buttonTertiaryText,backgroundColor:t.colors.buttonTertiaryFill,":hover":{backgroundColor:r?t.colors.buttonTertiaryActive:t.colors.buttonTertiaryHover},":active":{backgroundColor:t.colors.buttonTertiaryActive}};case i.TO.minimal:return o?{color:t.colors.buttonMinimalSelectedText,backgroundColor:t.colors.buttonMinimalSelectedFill}:{color:t.colors.buttonMinimalText,backgroundColor:t.colors.buttonMinimalFill,":hover":{backgroundColor:r?t.colors.buttonMinimalActive:t.colors.buttonMinimalHover},":active":{backgroundColor:t.colors.buttonMinimalActive}};default:return Object.freeze({})}}({$theme:t,$colors:r,$kind:o,$isLoading:u,$isSelected:l,$disabled:c})),function(e){var t=e.$shape,n=e.$size;if(t===i.X3.circle||t===i.X3.square){var r,o;switch(n){case i.NO.mini:r="28px",o="28px";break;case i.NO.compact:r="36px",o="36px";break;case i.NO.large:r="56px",o="56px";break;case i.NO.default:default:r="48px",o="48px"}return{height:r,width:o,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}return{}}({$shape:s,$size:n}))}));u.displayName="BaseButton";var l=(0,r.zo)("div",(function(e){var t=e.$theme;return s({display:"flex"},"rtl"===t.direction?"marginRight":"marginLeft",t.sizing.scale500)}));l.displayName="EndEnhancer";var c=(0,r.zo)("div",(function(e){var t=e.$theme;return s({display:"flex"},"rtl"===t.direction?"marginLeft":"marginRight",t.sizing.scale500)}));c.displayName="StartEnhancer";var A=(0,r.zo)("div",(function(e){var t=e.$theme,n=e.$size,r="3px";return n!==i.NO.mini&&n!==i.NO.compact||(r=t.sizing.scale0),n===i.NO.large&&(r=t.sizing.scale100),{lineHeight:0,position:"static",marginBottom:r,marginTop:r}}));A.displayName="LoadingSpinnerContainer";var f=(0,r.zo)("span",(function(e){var t=e.$theme,n=e.$kind,r=e.$disabled,o=e.$size,a=function(e){var t=e.$theme,n=e.$kind;if(e.$disabled)return{foreground:t.colors.buttonDisabledSpinnerForeground,background:t.colors.buttonDisabledSpinnerBackground};switch(n){case i.TO.secondary:return{foreground:t.colors.buttonSecondarySpinnerForeground,background:t.colors.buttonSecondarySpinnerBackground};case i.TO.tertiary:return{foreground:t.colors.buttonTertiarySpinnerForeground,background:t.colors.buttonTertiarySpinnerBackground};case i.TO.minimal:return{foreground:t.colors.buttonMinimalSpinnerForeground,background:t.colors.buttonMinimalSpinnerBackground};case i.TO.primary:default:return{foreground:t.colors.buttonPrimarySpinnerForeground,background:t.colors.buttonPrimarySpinnerBackground}}}({$theme:t,$kind:n,$disabled:r}),s=a.foreground,u=a.background,l=t.sizing.scale550;return o!==i.NO.mini&&o!==i.NO.compact||(l=t.sizing.scale500),o===i.NO.large&&(l=t.sizing.scale600),{height:l,width:l,borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",borderLeftStyle:"solid",borderTopStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",borderLeftWidth:t.sizing.scale0,borderTopWidth:t.sizing.scale0,borderRightWidth:t.sizing.scale0,borderBottomWidth:t.sizing.scale0,borderTopColor:s,borderLeftColor:u,borderBottomColor:u,borderRightColor:u,boxSizing:"border-box",display:"inline-block",animationDuration:t.animation.timing700,animationTimingFunction:"linear",animationIterationCount:"infinite",animationName:{to:{transform:"rotate(360deg)"},from:{transform:"rotate(0deg)"}}}}));function h(e){var t=e.$theme,n=e.$kind,r=e.$isSelected;if(e.$disabled&&r){if(n===i.TO.primary||n===i.TO.secondary)return{color:t.colors.buttonDisabledActiveText,backgroundColor:t.colors.buttonDisabledActiveFill};if(n===i.TO.minimal||n===i.TO.tertiary)return{backgroundColor:t.colors.buttonTertiaryDisabledActiveFill,color:t.colors.buttonTertiaryDisabledActiveText}}return{backgroundColor:n===i.TO.minimal||n===i.TO.tertiary?"transparent":t.colors.buttonDisabledFill,color:t.colors.buttonDisabledText}}f.displayName="LoadingSpinner"},196:function(e,t,n){"use strict";n.r(t),n.d(t,{Card:function(){return x},StyledAction:function(){return A},StyledBody:function(){return f},StyledContents:function(){return h},StyledHeaderImage:function(){return p},StyledRoot:function(){return d},StyledThumbnail:function(){return g},StyledTitle:function(){return v},StyledWrapper:function(){return d},hasThumbnail:function(){return b}});var r=n(2791),i=n(6004),o=r.createContext(0),a=n(7696),s=n(3113);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=(0,a.zo)("div",(function(e){return l({},e.$theme.typography.LabelMedium)}));A.displayName="Action";var f=(0,a.zo)("div",(function(e){var t=e.$theme;return l({marginBottom:t.sizing.scale600,color:t.colors.contentPrimary},t.typography.ParagraphMedium)}));f.displayName="Body";var h=(0,a.zo)("div",(function(e){var t=e.$theme;return{marginLeft:t.sizing.scale600,marginTop:t.sizing.scale600,marginRight:t.sizing.scale600,marginBottom:t.sizing.scale600}}));h.displayName="Contents";var p=(0,a.zo)("img",(function(e){var t=e.$theme;return{borderTopLeftRadius:t.borders.surfaceBorderRadius,borderTopRightRadius:t.borders.surfaceBorderRadius,objectFit:"contain",maxWidth:"100%"}}));p.displayName="HeaderImage";var d=(0,a.zo)("section",(function(e){var t=e.$theme;return{borderLeftWidth:"2px",borderTopWidth:"2px",borderRightWidth:"2px",borderBottomWidth:"2px",borderLeftStyle:"solid",borderTopStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",borderLeftColor:t.colors.borderOpaque,borderRightColor:t.colors.borderOpaque,borderTopColor:t.colors.borderOpaque,borderBottomColor:t.colors.borderOpaque,borderTopLeftRadius:t.borders.radius400,borderTopRightRadius:t.borders.radius400,borderBottomLeftRadius:t.borders.radius400,borderBottomRightRadius:t.borders.radius400,backgroundColor:t.colors.backgroundPrimary,overflow:"hidden"}}));d.displayName="Root";var g=(0,a.zo)("img",(function(e){var t=e.$theme;return l(l({float:"right",height:t.sizing.scale2400,width:t.sizing.scale2400,objectFit:"cover",borderTopLeftRadius:t.borders.surfaceBorderRadius,borderTopRightRadius:t.borders.surfaceBorderRadius,borderBottomLeftRadius:t.borders.surfaceBorderRadius,borderBottomRightRadius:t.borders.surfaceBorderRadius},(0,s.Qj)(t.borders.border200)),{},{margin:"0 0 ".concat(t.sizing.scale500," ").concat(t.sizing.scale500)})}));g.displayName="Thumbnail";var v=(0,a.zo)("h1",(function(e){var t=e.$theme;return l(l({},t.typography.HeadingSmall),{},{color:t.colors.contentPrimary,marginLeft:0,marginTop:0,marginRight:0,marginBottom:t.sizing.scale500,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0})}));function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function b(e){return!!e.thumbnail}v.displayName="Title";var _=function(e){var t=e.children,n=m(e,["children"]),i=["","h1","h2","h3","h4","h5","h6"];return r.createElement(o.Consumer,null,(function(e){return r.createElement(v,y({$as:i[e]},n),t)}))};function w(e){var t=e.action,n=e.children,o=e.hasThumbnail,a=e.headerImage,s=e.thumbnail,u=e.title,l=e.overrides,c=m(e,["action","children","hasThumbnail","headerImage","thumbnail","title","overrides"]),v=l.Action,b=l.Body,w=l.Contents,x=l.HeaderImage,C=l.Root,B=l.Thumbnail,E=l.Title,S=(0,i.XG)(v)||A,k=(0,i.XG)(b)||f,O=(0,i.XG)(w)||h,T=(0,i.XG)(x)||p,P=(0,i.XG)(C)||d,M=(0,i.XG)(B)||g,F=(0,i.XG)(E)||_,I="string"===typeof a?{src:a}:a,L=o(e);return r.createElement(P,y({"data-baseweb":"card"},c,(0,i.ch)(C)),a&&r.createElement(T,y({},I,(0,i.ch)(x))),r.createElement(O,(0,i.ch)(w),s&&r.createElement(M,y({src:s},(0,i.ch)(B))),u&&r.createElement(F,y({$hasThumbnail:L},(0,i.ch)(E)),u),r.createElement(k,(0,i.ch)(b),n),t&&r.createElement(S,(0,i.ch)(v),t)))}w.defaultProps={action:null,children:null,hasThumbnail:b,overrides:{}};var x=w},5569:function(e,t,n){"use strict";n.r(t),n.d(t,{Checkbox:function(){return K},LABEL_PLACEMENT:function(){return a},STATE_TYPE:function(){return i},STYLE_TYPE:function(){return o},StatefulCheckbox:function(){return X},StatefulContainer:function(){return m},StyledCheckmark:function(){return O},StyledInput:function(){return P},StyledLabel:function(){return T},StyledRoot:function(){return k},StyledToggle:function(){return M},StyledToggleInner:function(){return F},StyledToggleTrack:function(){return I}});var r=n(2791),i={change:"CHANGE"},o=Object.freeze({default:"default",toggle:"toggle",toggle_round:"toggle_round"}),a=Object.freeze({top:"top",right:"right",bottom:"bottom",left:"left"});function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,o=h(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),v(d(t=o.call(this,e)),"onChange",(function(e){t.stateReducer(i.change,e);var n=t.props.onChange;n&&n(e)})),v(d(t),"onMouseEnter",(function(e){var n=t.props.onMouseEnter;n&&n(e)})),v(d(t),"onMouseLeave",(function(e){var n=t.props.onMouseLeave;n&&n(e)})),v(d(t),"onFocus",(function(e){var n=t.props.onFocus;n&&n(e)})),v(d(t),"onBlur",(function(e){var n=t.props.onBlur;n&&n(e)})),v(d(t),"stateReducer",(function(e,n){var r={},o=t.props.stateReducer;if(e===i.change)r={checked:n.target.checked};var a=o(e,r,t.state,n);t.setState(a)}));var n=t.props.initialState;return t.state=c({},n),t}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=void 0===t?function(e){return null}:t,r=(e.initialState,e.stateReducer,u(e,["children","initialState","stateReducer"])),i=this.onChange,o=this.onMouseEnter,a=this.onMouseLeave,s=this.onFocus,l=this.onBlur;return n(c(c({},r),{},{checked:this.state.checked,isIndeterminate:this.state.isIndeterminate,onChange:i,onMouseEnter:o,onMouseLeave:a,onFocus:s,onBlur:l}))}}])&&A(t.prototype,n),r&&A(t,r),a}(r.Component);v(y,"defaultProps",{initialState:{checked:!1,isIndeterminate:!1},stateReducer:function(e,t){return t},onChange:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onFocus:function(){},onBlur:function(){}});var m=y,b=n(6004),_=n(7696),w=n(3113);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=e.$disabled,n=e.$checked,r=e.$isIndeterminate,i=e.$isError,a=e.$error,s=e.$isHovered,u=e.$isActive,l=e.$theme,c=e.$checkmarkType===o.toggle,A=l.colors;return t?c?A.toggleFillDisabled:n||r?A.tickFillDisabled:A.tickFill:(a||i)&&(r||n)?u?A.tickFillErrorSelectedHoverActive:s?A.tickFillErrorSelectedHover:A.tickFillErrorSelected:a||i?u?A.tickFillErrorHoverActive:s?A.tickFillErrorHover:A.tickFillError:r||n?u?A.tickFillSelectedHoverActive:s?A.tickFillSelectedHover:A.tickFillSelected:u?c?A.sliderTrackFillActive:A.tickFillActive:s?c?A.sliderTrackFillHover:A.tickFillHover:c?A.toggleTrackFill:A.tickFill}function S(e){var t=e.$disabled,n=e.$theme.colors;return t?n.contentSecondary:n.contentPrimary}var k=(0,_.zo)("label",(function(e){var t=e.$disabled,n=e.$labelPlacement;return{flexDirection:"top"===n||"bottom"===n?"column":"row",display:"flex",alignItems:"top"===n||"bottom"===n?"center":"flex-start",cursor:t?"not-allowed":"pointer",userSelect:"none"}}));k.displayName="Root";var O=(0,_.zo)("span",(function(e){var t=e.$checked,n=e.$disabled,r=e.$isError,i=e.$error,o=e.$isIndeterminate,a=e.$theme,s=e.$isFocusVisible,u=a.sizing,l=a.animation,c=n?a.colors.tickMarkFillDisabled:r||i?a.colors.tickMarkFillError:a.colors.tickMarkFill,A=encodeURIComponent('\n    <svg width="14" height="4" viewBox="0 0 14 4" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M14 0.5H0V3.5H14V0.5Z" fill="'.concat(c,'"/>\n    </svg>\n  ')),f=encodeURIComponent('\n    <svg width="17" height="13" viewBox="0 0 17 13" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M6.50002 12.6L0.400024 6.60002L2.60002 4.40002L6.50002 8.40002L13.9 0.900024L16.1 3.10002L6.50002 12.6Z" fill="'.concat(c,'"/>\n    </svg>\n  ')),h=a.borders.inputBorderRadius,p=function(e){var t=e.$disabled,n=e.$checked,r=e.$isError,i=e.$error,o=e.$isIndeterminate,a=e.$theme,s=e.$isFocusVisible,u=a.colors;return t?u.tickFillDisabled:n||o?"transparent":i||r?u.borderError:s?u.borderSelected:u.tickBorder}(e);return{flex:"0 0 auto",transitionDuration:l.timing200,transitionTimingFunction:l.easeOutCurve,transitionProperty:"background-image, border-color, background-color",width:u.scale700,height:u.scale700,left:"4px",top:"4px",boxSizing:"border-box",borderLeftStyle:"solid",borderRightStyle:"solid",borderTopStyle:"solid",borderBottomStyle:"solid",borderLeftWidth:"3px",borderRightWidth:"3px",borderTopWidth:"3px",borderBottomWidth:"3px",borderLeftColor:p,borderRightColor:p,borderTopColor:p,borderBottomColor:p,borderTopLeftRadius:h,borderTopRightRadius:h,borderBottomRightRadius:h,borderBottomLeftRadius:h,outline:s&&t?"3px solid ".concat(a.colors.accent):"none",display:"inline-block",verticalAlign:"middle",backgroundImage:o?"url('data:image/svg+xml,".concat(A,"');"):t?"url('data:image/svg+xml,".concat(f,"');"):null,backgroundColor:E(e),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain",marginTop:a.sizing.scale0,marginBottom:a.sizing.scale0,marginLeft:a.sizing.scale0,marginRight:a.sizing.scale0}}));O.displayName="Checkmark";var T=(0,_.zo)("div",(function(e){var t=e.$theme,n=e.$checkmarkType,r=t.typography;return C(C(C({flex:n===o.toggle?"auto":null,verticalAlign:"middle"},function(e){var t,n=e.$labelPlacement,r=void 0===n?"":n,i=e.$theme,o=i.sizing.scale300;switch(r){case"top":t="Bottom";break;case"bottom":t="Top";break;case"left":t="Right";break;default:t="Left"}return"rtl"===i.direction&&"Left"===t?t="Right":"rtl"===i.direction&&"Right"===t&&(t="Left"),B({},"padding".concat(t),o)}(e)),{},{color:S(e)},r.LabelMedium),{},{lineHeight:"24px"})}));T.displayName="Label";var P=(0,_.zo)("input",{opacity:0,width:0,height:0,overflow:"hidden",margin:0,padding:0,position:"absolute"});P.displayName="Input";var M=(0,_.zo)("div",(function(e){if(e.$checkmarkType===o.toggle){var t=e.$theme.borders.useRoundedCorners?e.$theme.borders.radius200:null;return C(C({},(0,w.Qj)(e.$theme.borders.border300)),{},{alignItems:"center",backgroundColor:e.$theme.colors.mono100,borderTopLeftRadius:t,borderTopRightRadius:t,borderBottomRightRadius:t,borderBottomLeftRadius:t,boxShadow:e.$isFocusVisible?"0 0 0 3px ".concat(e.$theme.colors.accent):e.$theme.lighting.shadow400,outline:"none",display:"flex",justifyContent:"center",height:e.$theme.sizing.scale800,width:e.$theme.sizing.scale800})}if(e.$checkmarkType===o.toggle_round){var n=e.$theme.colors.toggleFill;return e.$disabled?n=e.$theme.colors.toggleFillDisabled:e.$checked&&(e.$error||e.$isError)?n=e.$theme.colors.borderError:e.$checked&&(n=e.$theme.colors.toggleFillChecked),{backgroundColor:n,borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",boxShadow:e.$isFocusVisible?"0 0 0 3px ".concat(e.$theme.colors.accent):e.$isHovered&&!e.$disabled?e.$theme.lighting.shadow500:e.$theme.lighting.shadow400,outline:"none",height:e.$theme.sizing.scale700,width:e.$theme.sizing.scale700,transform:e.$checked?"translateX(".concat("rtl"===e.$theme.direction?"-100%":"100%",")"):null,transition:"transform ".concat(e.$theme.animation.timing200)}}return{}}));M.displayName="Toggle";var F=(0,_.zo)("div",(function(e){if(e.$checkmarkType===o.toggle){return{height:e.$theme.sizing.scale300,width:e.$theme.sizing.scale0,borderTopLeftRadius:e.$theme.borders.radius100,borderTopRightRadius:e.$theme.borders.radius100,borderBottomRightRadius:e.$theme.borders.radius100,borderBottomLeftRadius:e.$theme.borders.radius100,backgroundColor:e.$disabled?e.$theme.colors.sliderHandleInnerFillDisabled:e.$isActive&&e.$checked?e.$theme.colors.sliderHandleInnerFillSelectedActive:e.$isHovered&&e.$checked?e.$theme.colors.sliderHandleInnerFillSelectedHover:e.$theme.colors.toggleTrackFill}}return e.$checkmarkType,o.toggle_round,{}}));F.displayName="ToggleInner";var I=(0,_.zo)("div",(function(e){if(e.$checkmarkType===o.toggle){var t=e.$theme.borders.useRoundedCorners?e.$theme.borders.radius200:null;return{alignItems:"center",backgroundColor:E(e),borderTopLeftRadius:t,borderTopRightRadius:t,borderBottomRightRadius:t,borderBottomLeftRadius:t,display:"flex",height:e.$theme.sizing.scale600,justifyContent:e.$checked?"flex-end":"flex-start",marginTop:e.$theme.sizing.scale100,marginBottom:e.$theme.sizing.scale100,marginLeft:e.$theme.sizing.scale100,marginRight:e.$theme.sizing.scale100,width:e.$theme.sizing.scale1000}}if(e.$checkmarkType===o.toggle_round){var n=e.$theme.colors.toggleTrackFill;return e.$disabled?n=e.$theme.colors.toggleTrackFillDisabled:(e.$error||e.$isError)&&e.$checked&&(n=e.$theme.colors.tickFillError),{alignItems:"center",backgroundColor:n,borderTopLeftRadius:"7px",borderTopRightRadius:"7px",borderBottomRightRadius:"7px",borderBottomLeftRadius:"7px",display:"flex",height:e.$theme.sizing.scale550,marginTop:e.$theme.sizing.scale200,marginBottom:e.$theme.sizing.scale100,marginLeft:e.$theme.sizing.scale200,marginRight:e.$theme.sizing.scale100,width:e.$theme.sizing.scale1000}}return{}}));I.displayName="ToggleTrack";var L=n(2422);function R(e){return R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var i=H(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==R(t)&&"function"!==typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){return e.stopPropagation()},W=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(s,e);var t,n,i,a=N(s);function s(){var e;Z(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return V(Q(e=a.call.apply(a,[this].concat(n))),"state",{isFocused:e.props.autoFocus||!1,isFocusVisible:!1,isHovered:!1,isActive:!1}),V(Q(e),"onMouseEnter",(function(t){e.setState({isHovered:!0}),e.props.onMouseEnter(t)})),V(Q(e),"onMouseLeave",(function(t){e.setState({isHovered:!1,isActive:!1}),e.props.onMouseLeave(t)})),V(Q(e),"onMouseDown",(function(t){e.setState({isActive:!0}),e.props.onMouseDown(t)})),V(Q(e),"onMouseUp",(function(t){e.setState({isActive:!1}),e.props.onMouseUp(t)})),V(Q(e),"onFocus",(function(t){e.setState({isFocused:!0}),e.props.onFocus(t),(0,L.E)(t)&&e.setState({isFocusVisible:!0})})),V(Q(e),"onBlur",(function(t){e.setState({isFocused:!1}),e.props.onBlur(t),!1!==e.state.isFocusVisible&&e.setState({isFocusVisible:!1})})),V(Q(e),"isToggle",(function(){return e.props.checkmarkType===o.toggle||e.props.checkmarkType===o.toggle_round})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.inputRef;t&&n.current&&n.current.focus()}},{key:"render",value:function(){var e=this.props.checkmarkType,t=this.props,n=t.overrides,i=void 0===n?{}:n,o=t.onChange,a=t.labelPlacement,s=void 0===a?this.isToggle()?"left":"right":a,u=t.inputRef,l=t.isIndeterminate,c=t.isError,A=t.error,f=t.disabled,h=t.value,p=t.name,d=t.type,g=t.checked,v=t.children,y=t.required,m=t.title,_=i.Root,w=i.Checkmark,x=i.Label,C=i.Input,B=i.Toggle,E=i.ToggleInner,S=i.ToggleTrack,L=(0,b.XG)(_)||k,R=(0,b.XG)(w)||O,Z=(0,b.XG)(x)||T,U=(0,b.XG)(C)||P,j=(0,b.XG)(B)||M,N=(0,b.XG)(E)||F,z=(0,b.XG)(S)||I,Q={onChange:o,onFocus:this.onFocus,onBlur:this.onBlur},H={onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},V={$isFocused:this.state.isFocused,$isFocusVisible:this.state.isFocusVisible,$isHovered:this.state.isHovered,$isActive:this.state.isActive,$isError:c,$error:A,$checked:g,$isIndeterminate:l,$required:y,$disabled:f,$value:h,$checkmarkType:e},W=r.createElement(Z,D({$labelPlacement:s},V,(0,b.ch)(x)),this.props.containsInteractiveElement?r.createElement("div",{onClick:function(e){return e.preventDefault()}},v):v);return r.createElement(L,D({"data-baseweb":"checkbox",title:m||null,$labelPlacement:s},V,H,(0,b.ch)(_)),("top"===s||"left"===s)&&W,this.isToggle()?r.createElement(z,D({},V,(0,b.ch)(S)),r.createElement(j,D({},V,(0,b.ch)(B)),r.createElement(N,D({},V,(0,b.ch)(E))))):r.createElement(R,D({},V,(0,b.ch)(w))),r.createElement(U,D({value:h,name:p,checked:g,required:y,"aria-label":this.props["aria-label"]||this.props.ariaLabel,"aria-checked":l?"mixed":g,"aria-describedby":this.props["aria-describedby"],"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":A||c||null,"aria-required":y||null,disabled:f,type:d,ref:u,onClick:G},V,Q,(0,b.ch)(C))),("bottom"===s||"right"===s)&&W)}}])&&U(t.prototype,n),i&&U(t,i),s}(r.Component);V(W,"defaultProps",{overrides:{},checked:!1,containsInteractiveElement:!1,disabled:!1,autoFocus:!1,isIndeterminate:!1,inputRef:r.createRef(),isError:!1,error:!1,type:"checkbox",checkmarkType:o.default,onChange:function(){},onMouseEnter:function(){},onMouseLeave:function(){},onMouseDown:function(){},onMouseUp:function(){},onFocus:function(){},onBlur:function(){}});var K=W,q=function(e){return r.createElement(m,e,(function(t){return r.createElement(K,t,e.children)}))};q.displayName="StatefulCheckbox";var X=q},5707:function(e,t,n){"use strict";n.r(t),n.d(t,{FileUploader:function(){return he},StyledContentMessage:function(){return ee},StyledContentSeparator:function(){return te},StyledErrorMessage:function(){return ne},StyledFileDragAndDrop:function(){return $},StyledHiddenInput:function(){return ie},StyledRoot:function(){return re}});var r=n(2791),i=n(6107),o=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function a(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=o.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var s=[".DS_Store","Thumbs.db"];function u(e){return(null!==e.target&&e.target.files?A(e.target.files):[]).map((function(e){return a(e)}))}function l(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return e.items?(n=A(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(f))]):[3,2];case 1:return[2,c(h(r.sent()))];case 2:return[2,c(A(e.files).map((function(e){return a(e)})))]}}))}))}function c(e){return e.filter((function(e){return-1===s.indexOf(e.name)}))}function A(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function f(e){if("function"!==typeof e.webkitGetAsEntry)return p(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?g(t):p(e)}function h(e){return e.reduce((function(e,t){return(0,i.fl)(e,Array.isArray(t)?h(t):[t])}),[])}function p(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=a(t);return Promise.resolve(n)}function d(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,e.isDirectory?g(e):v(e)]}))}))}function g(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function o(){var a=this;t.readEntries((function(t){return(0,i.mG)(a,void 0,void 0,(function(){var a,s,u;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:if(t.length)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=i.sent(),e(a),[3,4];case 3:return s=i.sent(),n(s),[3,4];case 4:return[3,6];case 5:u=Promise.all(t.map(d)),r.push(u),o(),i.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function v(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=a(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var y=n(4093),m=n.n(y),b=n(2116),_=n.n(b),w=("function"===typeof Symbol&&Symbol.iterator,"undefined"===typeof document||!document||!document.createElement||"multiple"in document.createElement("input"));function x(e,t){return"application/x-moz-file"===e.type||_()(e,t)}function C(e,t,n){return e.size<=t&&e.size>=n}function B(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function E(e){return"undefined"!==typeof e.defaultPrevented?e.defaultPrevented:"function"===typeof e.isDefaultPrevented&&e.isDefaultPrevented()}function S(e){return!e.dataTransfer||Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e}))}function k(e){e.preventDefault()}function O(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function T(e){return-1!==e.indexOf("Edge/")}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return O(e)||T(e)}function M(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return t&&t.apply(void 0,[e].concat(r)),e.defaultPrevented}))}}var F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function D(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var j=function(e){function t(){var e,n,r;Z(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=U(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},r.isFileDialogActive=!1,r.onDocumentDrop=function(e){r.node&&r.node.contains(e.target)||(e.preventDefault(),r.dragTargets=[])},r.onDragStart=function(e){e.persist(),r.props.onDragStart&&S(e)&&r.props.onDragStart.call(r,e)},r.onDragEnter=function(e){e.preventDefault(),-1===r.dragTargets.indexOf(e.target)&&r.dragTargets.push(e.target),e.persist(),S(e)&&(Promise.resolve(r.props.getDataTransferItems(e)).then((function(t){B(e)||r.setState({draggedFiles:t,isDragActive:!0})})),r.props.onDragEnter&&r.props.onDragEnter.call(r,e))},r.onDragOver=function(e){return e.preventDefault(),e.persist(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),r.props.onDragOver&&S(e)&&r.props.onDragOver.call(r,e),!1},r.onDragLeave=function(e){e.preventDefault(),e.persist(),r.dragTargets=r.dragTargets.filter((function(t){return t!==e.target&&r.node.contains(t)})),r.dragTargets.length>0||(r.setState({isDragActive:!1,draggedFiles:[]}),r.props.onDragLeave&&S(e)&&r.props.onDragLeave.call(r,e))},r.onDrop=function(e){var t=r.props,n=t.onDrop,i=t.onDropAccepted,o=t.onDropRejected,a=t.multiple,s=t.accept,u=t.getDataTransferItems;e.preventDefault(),e.persist(),r.dragTargets=[],r.isFileDialogActive=!1,r.draggedFiles=null,r.setState({isDragActive:!1,draggedFiles:[]}),S(e)&&Promise.resolve(u(e)).then((function(t){var u=[],l=[];B(e)||(t.forEach((function(e){x(e,s)&&C(e,r.props.maxSize,r.props.minSize)?u.push(e):l.push(e)})),!a&&u.length>1&&l.push.apply(l,D(u.splice(0))),r.setState({acceptedFiles:u,rejectedFiles:l},(function(){n&&n.call(r,u,l,e),l.length>0&&o&&o.call(r,l,e),u.length>0&&i&&i.call(r,u,e)})))}))},r.onClick=function(e){var t=r.props.onClick;t&&t.call(r,e),E(e)||(e.stopPropagation(),P()?setTimeout(r.open,0):r.open())},r.onInputElementClick=function(e){e.stopPropagation()},r.onFileDialogCancel=function(){var e=r.props.onFileDialogCancel;r.isFileDialogActive&&setTimeout((function(){null!=r.input&&(r.input.files.length||(r.isFileDialogActive=!1,"function"===typeof e&&e()))}),300)},r.onFocus=function(e){var t=r.props.onFocus;t&&t.call(r,e),E(e)||r.setState({isFocused:!0})},r.onBlur=function(e){var t=r.props.onBlur;t&&t.call(r,e),E(e)||r.setState({isFocused:!1})},r.onKeyDown=function(e){var t=r.props.onKeyDown;r.node.isEqualNode(e.target)&&(t&&t.call(r,e),E(e)||32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),r.open()))},r.composeHandler=function(e){return r.props.disabled?null:e},r.getRootProps=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.refKey,i=void 0===n?"ref":n,o=t.onKeyDown,a=t.onFocus,s=t.onBlur,u=t.onClick,l=t.onDragStart,c=t.onDragEnter,A=t.onDragOver,f=t.onDragLeave,h=t.onDrop,p=R(t,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragStart","onDragEnter","onDragOver","onDragLeave","onDrop"]);return F((L(e={onKeyDown:r.composeHandler(o?M(o,r.onKeyDown):r.onKeyDown),onFocus:r.composeHandler(a?M(a,r.onFocus):r.onFocus),onBlur:r.composeHandler(s?M(s,r.onBlur):r.onBlur),onClick:r.composeHandler(u?M(u,r.onClick):r.onClick),onDragStart:r.composeHandler(l?M(l,r.onDragStart):r.onDragStart),onDragEnter:r.composeHandler(c?M(c,r.onDragEnter):r.onDragEnter),onDragOver:r.composeHandler(A?M(A,r.onDragOver):r.onDragOver),onDragLeave:r.composeHandler(f?M(f,r.onDragLeave):r.onDragLeave),onDrop:r.composeHandler(h?M(h,r.onDrop):r.onDrop)},i,r.setNodeRef),L(e,"tabIndex",r.props.disabled?-1:0),e),p)},r.getInputProps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.onChange,o=e.onClick,a=R(e,["refKey","onChange","onClick"]),s=r.props,u=s.accept,l=s.multiple,c=s.name,A=L({accept:u,type:"file",style:{display:"none"},multiple:w&&l,onChange:M(i,r.onDrop),onClick:M(o,r.onInputElementClick),autoComplete:"off",tabIndex:-1},n,r.setInputRef);return c&&c.length&&(A.name=c),F({},A,a)},r.setNodeRef=function(e){r.node=e},r.setInputRef=function(e){r.input=e},r.open=function(){r.isFileDialogActive=!0,r.input&&(r.input.value=null,r.input.click())},U(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),I(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",k,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",k),document.removeEventListener("drop",this.onDocumentDrop)),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"render",value:function(){var e,t,n=this.props,r=n.children,i=n.multiple,o=n.disabled,a=this.state,s=a.isDragActive,u=a.isFocused,l=a.draggedFiles,c=a.acceptedFiles,A=a.rejectedFiles,f=l.length,h=i||f<=1,p=f>0&&(e=l,t=this.props.accept,e.every((function(e){return x(e,t)})));return r({isDragActive:s,isDragAccept:p,isDragReject:f>0&&(!p||!h),draggedFiles:l,acceptedFiles:c,rejectedFiles:A,isFocused:u&&!o,getRootProps:this.getRootProps,getInputProps:this.getInputProps,open:this.open})}}]),t}(r.Component),N=j;j.propTypes={accept:m().oneOfType([m().string,m().arrayOf(m().string)]),children:m().func,disabled:m().bool,preventDropOnDocument:m().bool,multiple:m().bool,name:m().string,maxSize:m().number,minSize:m().number,getDataTransferItems:m().func,onClick:m().func,onFocus:m().func,onBlur:m().func,onKeyDown:m().func,onDrop:m().func,onDropAccepted:m().func,onDropRejected:m().func,onDragStart:m().func,onDragEnter:m().func,onDragOver:m().func,onDragLeave:m().func,onFileDialogCancel:m().func},j.defaultProps={preventDropOnDocument:!0,disabled:!1,multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:function(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?l(e.dataTransfer,e.type):u(e))];var n}))}))}};var z=n(7992),Q=n(7696),H=n(4013),V=n(2596),G=n(6004),W=n(4567),K=n(9982),q=n(2534);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=(0,Q.zo)("div",(function(e){var t=e.$isDragActive?e.$theme.colors.borderAccent:e.$theme.colors.fileUploaderBorderColorDefault,n=e.$afterFileDrop?"none":"dashed";return{alignItems:"center",backgroundColor:e.$isDragActive?e.$theme.colors.backgroundLightAccent:e.$theme.colors.fileUploaderBackgroundColor,borderLeftColor:t,borderRightColor:t,borderTopColor:t,borderBottomColor:t,borderLeftStyle:n,borderRightStyle:n,borderTopStyle:n,borderBottomStyle:n,borderLeftWidth:e.$theme.sizing.scale0,borderRightWidth:e.$theme.sizing.scale0,borderTopWidth:e.$theme.sizing.scale0,borderBottomWidth:e.$theme.sizing.scale0,borderTopLeftRadius:e.$theme.borders.radius400,borderTopRightRadius:e.$theme.borders.radius400,borderBottomLeftRadius:e.$theme.borders.radius400,borderBottomRightRadius:e.$theme.borders.radius400,boxSizing:"border-box",display:"flex",flexDirection:"column",outline:"none",paddingTop:e.$theme.sizing.scale900,paddingRight:e.$theme.sizing.scale800,paddingBottom:e.$afterFileDrop?e.$theme.sizing.scale300:e.$theme.sizing.scale900,paddingLeft:e.$theme.sizing.scale800,width:"100%"}}));$.displayName="StyledFileDragAndDrop";var ee=(0,Q.zo)("div",(function(e){var t=e.$theme,n=e.$afterFileDrop,r=e.$isDragActive;return Y(Y({},n?t.typography.LabelMedium:t.typography.LabelSmall),{},{color:n?t.colors.contentPrimary:r?t.colors.contentAccent:null,marginTop:n?t.sizing.scale100:null,marginBottom:n?t.sizing.scale100:null})}));ee.displayName="StyledContentMessage";var te=ee,ne=(0,Q.zo)("div",(function(e){return Y(Y({},e.$theme.typography.LabelMedium),{},{color:e.$theme.colors.negative,marginTop:e.$afterFileDrop?e.$theme.sizing.scale100:null,marginBottom:e.$afterFileDrop?e.$theme.sizing.scale100:null})}));ne.displayName="StyledErrorMessage";var re=(0,Q.zo)("div",(function(e){return Y(Y({},e.$theme.typography.font300),{},{color:e.$theme.colors.fileUploaderMessageColor})}));re.displayName="StyledRoot";var ie=(0,Q.zo)("input",{});function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fe(e){var t=e.overrides,n=void 0===t?{}:t,i=ce((0,Q.hQ)(),2)[1],o=ce((0,G.jb)(n.Root,re),2),a=o[0],s=o[1],u=ce((0,G.jb)(n.FileDragAndDrop,$),2),l=u[0],c=u[1],A=ce((0,G.jb)(n.ContentMessage,ee),2),f=A[0],h=A[1],p=ce((0,G.jb)(n.ContentSeparator,te),2),d=p[0],g=p[1],v=ce((0,G.jb)(n.ErrorMessage,ne),2),y=v[0],m=v[1],b=ce((0,G.jb)(n.HiddenInput,ie),2),_=b[0],w=b[1],x=ce((0,G.jb)(n.ButtonComponent,H.Z),2),C=x[0],B=x[1],E=ce((0,G.jb)(n.Spinner,K.aN),2),S=E[0],k=E[1],O=!!(e.progressAmount||e.progressMessage||e.errorMessage);return r.createElement(N,oe({},e,{disabled:e.disabled||O}),(function(t){var n=t.getRootProps,o=t.getInputProps,u=t.open,A=function(e){return Object.keys(e).reduce((function(t,n){return t["$".concat(n)]=e[n],t}),{})}(se(se({},le(t,["getRootProps","getInputProps","open"])),{},{isDisabled:e.disabled,afterFileDrop:O})),p=se(se({},e.disableClick?{onClick:function(e){return e.preventDefault()}}:{}),{},{tabIndex:"-1"});return r.createElement(z.R.Consumer,null,(function(t){return r.createElement(a,oe({"data-baseweb":"file-uploader"},A,s),r.createElement(l,oe({},n(p),A,c),!O&&r.createElement(r.Fragment,null,r.createElement(f,oe({},A,h),t.fileuploader.dropFilesToUpload),r.createElement(d,oe({},A,g),t.fileuploader.or),r.createElement(C,oe({disabled:e.disabled,kind:V.TO.secondary,shape:V.X3.pill,size:V.NO.compact,onClick:u,role:"button",overrides:{BaseButton:{style:function(e){return{marginTop:e.$theme.sizing.scale500}}}}},A,B),t.fileuploader.browseFiles)),O&&r.createElement(r.Fragment,null,"number"===typeof e.progressAmount?r.createElement(W.Z,{value:e.progressAmount,overrides:{BarProgress:{style:function(t){var n=t.$theme;return{backgroundColor:e.errorMessage?n.colors.negative:n.colors.accent}}}}}):e.errorMessage?null:r.createElement(S,oe({$size:q.N.medium,$style:{marginBottom:i.sizing.scale300}},k)),(e.errorMessage||e.progressMessage)&&e.errorMessage?r.createElement(y,oe({},A,m),e.errorMessage):r.createElement(f,oe({},A,h),e.progressMessage),e.errorMessage?r.createElement(C,{kind:V.TO.minimal,onClick:function(){e.onRetry&&e.onRetry()},"aria-invalid":Boolean(e.errorMessage),"aria-describedby":e["aria-describedby"],"aria-errormessage":e.errorMessage},t.fileuploader.retry):r.createElement(C,{kind:V.TO.minimal,onClick:function(){e.onCancel&&e.onCancel()},"aria-describedby":e["aria-describedby"],overrides:{BaseButton:{style:function(e){return{color:e.$theme.colors.contentNegative}}}}},t.fileuploader.cancel))),r.createElement(_,oe({"aria-invalid":Boolean(e.errorMessage)||null,"aria-describedby":e["aria-describedby"],"aria-errormessage":e.errorMessage||null},o(),A,w)))}))}))}ie.displayName="StyledHiddenInput",fe.defaultProps={disableClick:!0,overrides:{}};var he=fe},638:function(e,t,n){"use strict";n.r(t),n.d(t,{FormControl:function(){return E},StyledCaption:function(){return h},StyledControlContainer:function(){return p},StyledLabel:function(){return c}});var r=n(2791),i=n(6004),o=n(4005),a=n(7696);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,a.zo)("label",(function(e){var t=e.$disabled,n=e.$theme,r=n.colors;return u(u({},n.typography.font250),{},{fontWeight:500,width:"100%",color:t?r.contentSecondary:r.contentPrimary,display:"block",paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0})}));c.displayName="Label";var A=(0,a.zo)("span",(function(e){var t=e.$theme.sizing;return{display:"flex",width:"100%",marginTop:t.scale300,marginRight:0,marginBottom:t.scale300,marginLeft:0}}));A.displayName="LabelContainer";var f=(0,a.zo)("span",(function(e){var t=e.$disabled,n=e.$counterError,r=e.$theme,i=r.colors;return u(u({},r.typography.font100),{},{flex:0,width:"100%",color:n?i.negative400:t?i.contentSecondary:i.contentPrimary})}));f.displayName="LabelEndEnhancer";var h=(0,a.zo)("div",(function(e){var t=e.$error,n=e.$positive,r=e.$theme,i=r.colors,o=r.sizing,a=r.typography,s=i.contentSecondary;return t?s=i.negative400:n&&(s=i.positive400),u(u({},a.font100),{},{color:s,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,marginTop:o.scale300,marginRight:0,marginBottom:o.scale300,marginLeft:0})}));h.displayName="Caption";var p=(0,a.zo)("div",(function(e){return{width:"100%",marginBottom:e.$theme.sizing.scale600}}));function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function g(e){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==g(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}p.displayName="ControlContainer";var x,C,B,E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(u,e);var t,n,a,s=b(u);function u(){return v(this,u),s.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.overrides,n=t.Label,a=t.LabelEndEnhancer,s=t.LabelContainer,u=t.Caption,l=t.ControlContainer,v=e.label,y=e.caption,m=e.disabled,b=e.error,_=e.positive,w=e.htmlFor,x=e.children,C=e.counter,B=r.Children.only(x).props,E={$disabled:!!m,$error:!!b,$positive:!!_},S=(0,i.XG)(n)||c,k=(0,i.XG)(a)||f,O=(0,i.XG)(s)||A,T=(0,i.XG)(u)||h,P=(0,i.XG)(l)||p,M=function(e,t,n,r){return t&&"boolean"!==typeof t?"function"===typeof t?t(r):t:n&&"boolean"!==typeof n?"function"===typeof n?n(r):n:e?"function"===typeof e?e(r):e:null}(y,b,_,E),F=this.props.labelEndEnhancer;if(C){var I=null,L=null,R=null;"object"===g(C)&&(L=C.length,I=C.maxLength,R=C.error),I=I||B.maxLength,null==L&&"string"===typeof B.value&&(L=B.value.length),null==L&&(L=0),E.$length=L,null==I?F||(F="".concat(L)):(E.$maxLength=L,F||(F="".concat(L,"/").concat(I)),L>I&&null==R&&(R=!0)),R&&(E.$error=!0,E.$counterError=!0)}return r.createElement(r.Fragment,null,v&&r.createElement(O,d({},E,(0,i.ch)(s)),r.createElement(S,d({"data-baseweb":"form-control-label",htmlFor:w||B.id},E,(0,i.ch)(n)),"function"===typeof v?v(E):v),!!F&&r.createElement(k,d({},E,(0,i.ch)(a)),"function"===typeof F?F(E):F)),r.createElement(o.yF,null,(function(e){return r.createElement(P,d({"data-baseweb":"form-control-container"},E,(0,i.ch)(l)),r.Children.map(x,(function(t,n){if(t){var i=t.key||String(n);return r.cloneElement(t,{key:i,"aria-errormessage":b?e:null,"aria-describedby":y||_?e:null,disabled:B.disabled||m,error:"undefined"!==typeof B.error?B.error:E.$error,positive:"undefined"!==typeof B.positive?B.positive:E.$positive})}})),(!!y||!!b||_)&&r.createElement(T,d({"data-baseweb":"form-control-caption",id:e},E,(0,i.ch)(u)),M))})))}}])&&y(t.prototype,n),a&&y(t,a),u}(r.Component);B={overrides:{},label:null,caption:null,disabled:!1,counter:!1},(C="defaultProps")in(x=E)?Object.defineProperty(x,C,{value:B,enumerable:!0,configurable:!0,writable:!0}):x[C]=B},6004:function(e,t,n){"use strict";n.d(t,{QG:function(){return y},XG:function(){return A},aO:function(){return d},ch:function(){return f},hq:function(){return h},jb:function(){return p},vt:function(){return g}});var r=n(2791),i=n(2420),o=n(7626);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function A(e){return(0,i.isValidElementType)(e)?e:e&&"object"===c(e)?e.component:e}function f(e){return e&&"object"===c(e)?"object"===c(e.props)?u(u({},e.props),{},{$style:e.style}):{$style:e.style}:{}}function h(e){return(0,i.isValidElementType)(e)?{component:e}:e||{}}function p(e,t){var n=A(e)||t;if(e&&"object"===c(e)&&"function"===typeof e.props){0;var i=r.forwardRef((function(t,i){var o=e.props(t),s=f(u(u({},e),{},{props:o}));return r.createElement(n,a({ref:i},s))}));return i.displayName=n.displayName,[i,{}]}var o=f(e);return[n,o]}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e,t),r=Object.keys(n);return r.reduce((function(n,r){return n[r]=g(h(e[r]),h(t[r])),n}),{})}function g(e,t){var n=u(u({},e),t);return e.props&&t.props&&(n.props=v(e.props,t.props)),e.style&&t.style&&(n.style=v(e.style,t.style)),n}function v(e,t){return"object"===c(e)&&"object"===c(t)?(0,o.Z)({},e,t):function(){return(0,o.Z)({},"function"===typeof e?e.apply(void 0,arguments):e,"function"===typeof t?t.apply(void 0,arguments):t)}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.useMemo((function(){return Object.keys(e).reduce((function(n,r){return n[r]=p(t[r],e[r]),n}),{})}),[t])}},4457:function(e,t,n){"use strict";n.d(t,{W:function(){return i},a:function(){return r}});var r=function(e){return"@media screen and (min-width: ".concat(e,"px)")},i=function(e){return Object.keys(e).map((function(t){return e[t]})).sort((function(e,t){return e-t})).map(r)}},5414:function(e,t,n){"use strict";var r=n(2791),i=n(7696),o=n(6004),a=n(7169);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=l((0,i.hQ)(),2)[1],c=e.title,A=void 0===c?"Delete Alt":c,f=e.size,h=e.color,p=e.overrides,d=void 0===p?{}:p,g=u(e,["title","size","color","overrides"]),v=(0,o.vt)({component:n.icons&&n.icons.DeleteAlt?n.icons.DeleteAlt:null},d&&d.Svg?(0,o.hq)(d.Svg):{});return r.createElement(a.Z,s({viewBox:"0 0 24 24",ref:t,title:A,size:f,color:h,overrides:{Svg:v}},g),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58173 16.4183 4 12 4C7.58173 4 4 7.58173 4 12C4 16.4183 7.58173 20 12 20ZM10.0303 8.96967C9.73743 8.67679 9.26257 8.67679 8.96967 8.96967C8.67676 9.26257 8.67676 9.73743 8.96967 10.0303L10.9393 12L8.96967 13.9697C8.67676 14.2626 8.67676 14.7374 8.96967 15.0303C9.26257 15.3232 9.73743 15.3232 10.0303 15.0303L12 13.0607L13.9697 15.0303C14.2626 15.3232 14.7374 15.3232 15.0303 15.0303C15.3232 14.7374 15.3232 14.2626 15.0303 13.9697L13.0607 12L15.0303 10.0303C15.3232 9.73743 15.3232 9.26257 15.0303 8.96967C14.7374 8.67679 14.2626 8.67679 13.9697 8.96967L12 10.9393L10.0303 8.96967Z"}))}t.Z=r.forwardRef(A)},5949:function(e,t,n){"use strict";var r=n(2791),i=n(7696),o=n(6004),a=n(7169);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=l((0,i.hQ)(),2)[1],c=e.title,A=void 0===c?"Delete":c,f=e.size,h=e.color,p=e.overrides,d=void 0===p?{}:p,g=u(e,["title","size","color","overrides"]),v=(0,o.vt)({component:n.icons&&n.icons.Delete?n.icons.Delete:null},d&&d.Svg?(0,o.hq)(d.Svg):{});return r.createElement(a.Z,s({viewBox:"0 0 24 24",ref:t,title:A,size:f,color:h,overrides:{Svg:v}},g),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.29289 7.29289C7.68342 6.90237 8.31658 6.90237 8.70711 7.29289L12 10.5858L15.2929 7.29289C15.6834 6.90237 16.3166 6.90237 16.7071 7.29289C17.0976 7.68342 17.0976 8.31658 16.7071 8.70711L13.4142 12L16.7071 15.2929C17.0976 15.6834 17.0976 16.3166 16.7071 16.7071C16.3166 17.0976 15.6834 17.0976 15.2929 16.7071L12 13.4142L8.70711 16.7071C8.31658 17.0976 7.68342 17.0976 7.29289 16.7071C6.90237 16.3166 6.90237 15.6834 7.29289 15.2929L10.5858 12L7.29289 8.70711C6.90237 8.31658 6.90237 7.68342 7.29289 7.29289Z"}))}t.Z=r.forwardRef(A)},7169:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(2791),i=n(6004),o=n(85);function a(e){var t={};for(var n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p(e,t){var n=e.children,u=e.title,c=e.size,f=e.color,p=e.overrides,d=void 0===p?{}:p,g=h(e,["children","title","size","color","overrides"]),v=A((0,i.jb)(d.Svg,o.n),2),y=v[0],m=v[1],b=y.__STYLETRON__?l(l({title:u,$color:f,$size:c},g),m):l(l({title:u,color:f,size:c},a(g)),a(m));return r.createElement(y,s({"data-baseweb":"icon",ref:t},b),u?r.createElement("title",null,u):null,n)}var d=r.forwardRef(p)},85:function(e,t,n){"use strict";function r(e){var t=e.$theme,n=e.$size,r=e.$color,i=t.sizing.scale600;n&&(i=t.sizing[n]?t.sizing[n]:"number"===typeof n?"".concat(n,"px"):n);var o="currentColor";return r&&(o=t.colors[r]?t.colors[r]:r),{display:"inline-block",fill:o,color:o,height:i,width:i}}n.d(t,{n:function(){return i},u:function(){return r}});var i=(0,n(7696).zo)("svg",r);i.displayName="Svg"},2476:function(e,t,n){"use strict";var r=n(2791),i=n(7696),o=n(6004),a=n(7169);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=l((0,i.hQ)(),2)[1],c=e.title,A=void 0===c?"Triangle Down":c,f=e.size,h=e.color,p=e.overrides,d=void 0===p?{}:p,g=u(e,["title","size","color","overrides"]),v=(0,o.vt)({component:n.icons&&n.icons.TriangleDown?n.icons.TriangleDown:null},d&&d.Svg?(0,o.hq)(d.Svg):{});return r.createElement(a.Z,s({viewBox:"0 0 24 24",ref:t,title:A,size:f,color:h,overrides:{Svg:v}},g),r.createElement("path",{d:"M12.7071 15.2929L17.1464 10.8536C17.4614 10.5386 17.2383 10 16.7929 10L7.20711 10C6.76165 10 6.53857 10.5386 6.85355 10.8536L11.2929 15.2929C11.6834 15.6834 12.3166 15.6834 12.7071 15.2929Z"}))}t.Z=r.forwardRef(A)},5602:function(e,t,n){"use strict";n.r(t),n.d(t,{BaseProvider:function(){return le},DarkTheme:function(){return Y},DarkThemeMove:function(){return ne},LightTheme:function(){return re.i},LightThemeMove:function(){return ie},LocaleProvider:function(){return oe.Z},ThemeConsumer:function(){return i},ThemeProvider:function(){return r.Z},createDarkTheme:function(){return U},createLightTheme:function(){return x},createTheme:function(){return x},createThemedStyled:function(){return o.Tp},createThemedUseStyletron:function(){return o.fj},createThemedWithStyle:function(){return o.o4},darkThemeOverrides:function(){return Y},darkThemePrimitives:function(){return W},getOverrides:function(){return ce.jb},lightThemePrimitives:function(){return Q},mergeOverrides:function(){return ce.aO},styled:function(){return o.zo},useStyletron:function(){return o.hQ},withStyle:function(){return o.w1},withWrapper:function(){return o.Le}});var r=n(3370),i=r.N.Consumer,o=n(7696),a=n(4300),s=n(2051),u=n(1931),l=n(7626),c=n(6787),A=n(6989),f=n(9155),h=n(3134),p=n(680),d=n(1406),g=n(4110),v=n(7579),y=n(1093);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.primaryFontFamily,r=w(e,["primaryFontFamily"]),i=b(b({},c.Z),r),o={animation:a.Z,borders:s.Z,breakpoints:u.Z,colors:b(b(b(b({},i),(0,A.Z)(i)),(0,f.Z)(i)),(0,h.Z)(i)),direction:"auto",grid:d.Z,lighting:g.Z,mediaQuery:v.Z,sizing:y.Z,typography:n?(0,p.Z)({primaryFontFamily:n}):(0,p.Z)(),zIndex:{modal:2e3}};return(0,l.Z)(o,t)}var C=(0,l.Z)({},s.Z,{border100:{borderColor:"hsla(0, 0%, 100%, 0.04)"},border200:{borderColor:"hsla(0, 0%, 100%, 0.08)"},border300:{borderColor:"hsla(0, 0%, 100%, 0.12)"},border400:{borderColor:"hsla(0, 0%, 100%, 0.16)"},border500:{borderColor:"hsla(0, 0%, 100%, 0.2)"},border600:{borderColor:"hsla(0, 0%, 100%, 0.24)"}}),B=n(586),E={primaryA:B.Z.gray200,primaryB:B.Z.gray900,primary:B.Z.white,primary50:B.Z.gray50,primary100:B.Z.gray100,primary200:B.Z.gray200,primary300:B.Z.gray300,primary400:B.Z.gray400,primary500:B.Z.gray500,primary600:B.Z.gray600,primary700:B.Z.gray700,accent:B.Z.blue400,accent50:B.Z.blue50,accent100:B.Z.blue100,accent200:B.Z.blue200,accent300:B.Z.blue300,accent400:B.Z.blue400,accent500:B.Z.blue500,accent600:B.Z.blue600,accent700:B.Z.blue700,negative:B.Z.red500,negative50:B.Z.red50,negative100:B.Z.red100,negative200:B.Z.red200,negative300:B.Z.red300,negative400:B.Z.red400,negative500:B.Z.red500,negative600:B.Z.red600,negative700:B.Z.red700,warning:B.Z.yellow500,warning50:B.Z.yellow50,warning100:B.Z.yellow100,warning200:B.Z.yellow200,warning300:B.Z.yellow300,warning400:B.Z.yellow400,warning500:B.Z.yellow500,warning600:B.Z.yellow600,warning700:B.Z.yellow700,positive:B.Z.green400,positive50:B.Z.green50,positive100:B.Z.green100,positive200:B.Z.green200,positive300:B.Z.green300,positive400:B.Z.green400,positive500:B.Z.green500,positive600:B.Z.green600,positive700:B.Z.green700,white:B.Z.white,black:B.Z.black,mono100:B.Z.gray300,mono200:B.Z.gray400,mono300:B.Z.gray500,mono400:B.Z.gray600,mono500:B.Z.gray700,mono600:"#292929",mono700:"#1F1F1F",mono800:"#141414",mono900:"#111111",mono1000:B.Z.black,rating200:B.Z.yellow200,rating400:B.Z.yellow400,ratingInactiveFill:B.Z.gray500,ratingStroke:B.Z.gray700},S="rgba(255, 255, 255, 0.2)",k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return{buttonPrimaryFill:e.primary,buttonPrimaryText:e.black,buttonPrimaryHover:e.primary100,buttonPrimaryActive:e.primary200,buttonPrimarySelectedText:e.black,buttonPrimarySelectedFill:e.primary200,buttonPrimarySpinnerForeground:e.primary700,buttonPrimarySpinnerBackground:e.primary300,buttonSecondaryFill:e.primary700,buttonSecondaryText:e.primary,buttonSecondaryHover:e.primary600,buttonSecondaryActive:e.primary500,buttonSecondarySelectedText:e.primary,buttonSecondarySelectedFill:e.primary500,buttonSecondarySpinnerForeground:e.white,buttonSecondarySpinnerBackground:e.primary400,buttonTertiaryFill:"transparent",buttonTertiaryText:e.primary,buttonTertiaryHover:e.primary700,buttonTertiaryActive:e.primary600,buttonTertiarySelectedText:e.primary,buttonTertiarySelectedFill:e.primary600,buttonTertiaryDisabledActiveFill:e.primary700,buttonTertiaryDisabledActiveText:e.mono300,buttonTertiarySpinnerForeground:e.primary50,buttonTertiarySpinnerBackground:e.primary500,buttonMinimalFill:"transparent",buttonMinimalText:e.primary,buttonMinimalHover:e.primary700,buttonMinimalActive:e.primary600,buttonMinimalSelectedText:e.primary,buttonMinimalSelectedFill:e.primary600,buttonMinimalSpinnerForeground:e.primary50,buttonMinimalSpinnerBackground:e.primary500,buttonDisabledFill:e.mono600,buttonDisabledText:e.mono300,buttonDisabledActiveFill:e.mono200,buttonDisabledActiveText:e.primary500,buttonDisabledSpinnerForeground:e.mono200,buttonDisabledSpinnerBackground:e.mono400,breadcrumbsText:e.mono100,breadcrumbsSeparatorFill:e.mono200,datepickerBackground:e.mono600,datepickerDayFont:e.white,datepickerDayFontDisabled:e.mono100,datepickerDayPseudoSelected:e.mono500,datepickerDayPseudoHighlighted:e.mono600,calendarBackground:e.mono800,calendarForeground:e.white,calendarForegroundDisabled:e.mono300,calendarHeaderBackground:e.primary700,calendarHeaderForeground:e.primary,calendarHeaderBackgroundActive:e.primary600,calendarHeaderForegroundDisabled:e.primary500,calendarDayBackgroundPseudoSelected:e.primary700,calendarDayForegroundPseudoSelected:e.primary,calendarDayBackgroundPseudoSelectedHighlighted:e.primary600,calendarDayForegroundPseudoSelectedHighlighted:e.primary,calendarDayBackgroundSelected:e.primary,calendarDayForegroundSelected:e.black,calendarDayBackgroundSelectedHighlighted:e.primary100,calendarDayForegroundSelectedHighlighted:e.black,comboboxListItemFocus:e.mono600,comboboxListItemHover:e.mono500,fileUploaderBackgroundColor:e.mono700,fileUploaderBackgroundColorActive:e.mono600,fileUploaderBorderColorActive:e.primary,fileUploaderBorderColorDefault:e.mono500,fileUploaderMessageColor:e.mono100,linkText:e.primary,linkVisited:e.primary100,linkHover:e.primary200,linkActive:e.primary300,listHeaderFill:e.mono600,listBodyFill:e.mono800,listIconFill:e.mono100,listBorder:e.mono500,progressStepsCompletedText:e.black,progressStepsCompletedFill:e.primary,progressStepsActiveText:e.black,progressStepsActiveFill:e.primary,progressStepsIconActiveFill:e.primary,modalCloseColor:e.mono300,modalCloseColorHover:e.mono400,modalCloseColorFocus:e.mono400,notificationPrimaryBackground:e.primary700,notificationPrimaryText:e.primaryA,notificationInfoBackground:e.accent700,notificationInfoText:e.primaryA,notificationPositiveBackground:e.positive700,notificationPositiveText:e.primaryA,notificationWarningBackground:e.warning700,notificationWarningText:e.primaryA,notificationNegativeBackground:e.negative700,notificationNegativeText:e.primaryA,tagFontDisabledRampUnit:"600",tagOutlinedDisabledRampUnit:"700",tagSolidFontRampUnit:"0",tagSolidRampUnit:"500",tagOutlinedFontRampUnit:"500",tagOutlinedRampUnit:"500",tagSolidHoverRampUnit:"500",tagSolidActiveRampUnit:"400",tagSolidDisabledRampUnit:"700",tagSolidFontHoverRampUnit:"100",tagLightRampUnit:"700",tagLightHoverRampUnit:"700",tagLightActiveRampUnit:"600",tagLightDisabledRampUnit:"700",tagLightFontRampUnit:"100",tagLightFontHoverRampUnit:"100",tagOutlinedActiveRampUnit:"300",tagOutlinedHoverRampUnit:"800",tagOutlinedFontHoverRampUnit:"100",tagNeutralOutlinedFont:e.mono100,tagNeutralOutlinedBackground:e.mono200,tagNeutralSolidFont:e.black,tagNeutralSolidBackground:e.primary200,tagNeutralFontDisabled:e.mono400,tagNeutralOutlinedDisabled:e.mono500,tagNeutralSolidHover:e.mono600,tagNeutralSolidActive:e.mono500,tagNeutralSolidDisabled:e.mono700,tagNeutralSolidFontHover:e.mono200,tagNeutralLightBackground:e.mono800,tagNeutralLightHover:e.mono800,tagNeutralLightActive:e.mono700,tagNeutralLightDisabled:e.mono700,tagNeutralLightFont:e.mono200,tagNeutralLightFontHover:e.mono200,tagNeutralOutlinedActive:e.mono400,tagNeutralOutlinedFontHover:e.mono100,tagNeutralOutlinedHover:S,tagPrimaryOutlinedFont:e.primary200,tagPrimaryOutlinedBackground:e.primary400,tagPrimarySolidFont:e.black,tagPrimarySolidBackground:e.primary200,tagPrimaryFontDisabled:e.primary600,tagPrimaryOutlinedDisabled:e.primary700,tagPrimarySolidHover:e.primary700,tagPrimarySolidActive:e.primary400,tagPrimarySolidDisabled:e.primary700,tagPrimarySolidFontHover:e.primary100,tagPrimaryLightBackground:e.primary700,tagPrimaryLightHover:e.primary700,tagPrimaryLightActive:e.primary600,tagPrimaryLightDisabled:e.primary700,tagPrimaryLightFont:e.primary100,tagPrimaryLightFontHover:e.primary100,tagPrimaryOutlinedActive:e.primary600,tagPrimaryOutlinedFontHover:e.primary200,tagPrimaryOutlinedHover:S,tagAccentOutlinedFont:e.accent200,tagAccentOutlinedBackground:e.accent500,tagAccentSolidFont:e.white,tagAccentSolidBackground:e.accent500,tagAccentFontDisabled:e.accent600,tagAccentOutlinedDisabled:e.accent700,tagAccentSolidHover:e.accent500,tagAccentSolidActive:e.accent400,tagAccentSolidDisabled:e.accent700,tagAccentSolidFontHover:e.accent100,tagAccentLightBackground:e.accent700,tagAccentLightHover:e.accent700,tagAccentLightActive:e.accent600,tagAccentLightDisabled:e.accent700,tagAccentLightFont:e.accent100,tagAccentLightFontHover:e.accent100,tagAccentOutlinedActive:e.accent300,tagAccentOutlinedFontHover:e.accent200,tagAccentOutlinedHover:S,tagPositiveOutlinedFont:e.positive300,tagPositiveOutlinedBackground:e.positive500,tagPositiveSolidFont:e.white,tagPositiveSolidBackground:e.positive500,tagPositiveFontDisabled:e.positive600,tagPositiveOutlinedDisabled:e.positive700,tagPositiveSolidHover:e.positive500,tagPositiveSolidActive:e.positive400,tagPositiveSolidDisabled:e.positive700,tagPositiveSolidFontHover:e.positive100,tagPositiveLightBackground:e.positive700,tagPositiveLightHover:e.positive700,tagPositiveLightActive:e.positive600,tagPositiveLightDisabled:e.positive700,tagPositiveLightFont:e.positive100,tagPositiveLightFontHover:e.positive100,tagPositiveOutlinedActive:e.positive300,tagPositiveOutlinedFontHover:e.positive300,tagPositiveOutlinedHover:S,tagWarningOutlinedFont:e.warning300,tagWarningOutlinedBackground:e.warning500,tagWarningSolidFont:e.black,tagWarningSolidBackground:e.warning500,tagWarningFontDisabled:e.warning600,tagWarningOutlinedDisabled:e.warning700,tagWarningSolidHover:e.warning500,tagWarningSolidActive:e.warning400,tagWarningSolidDisabled:e.warning700,tagWarningSolidFontHover:e.warning100,tagWarningLightBackground:e.warning700,tagWarningLightHover:e.warning700,tagWarningLightActive:e.warning600,tagWarningLightDisabled:e.warning700,tagWarningLightFont:e.warning100,tagWarningLightFontHover:e.warning100,tagWarningOutlinedActive:e.warning300,tagWarningOutlinedFontHover:e.warning300,tagWarningOutlinedHover:S,tagNegativeOutlinedFont:e.negative300,tagNegativeOutlinedBackground:e.negative500,tagNegativeSolidFont:e.white,tagNegativeSolidBackground:e.negative500,tagNegativeFontDisabled:e.negative600,tagNegativeOutlinedDisabled:e.negative700,tagNegativeSolidHover:e.negative500,tagNegativeSolidActive:e.negative400,tagNegativeSolidDisabled:e.negative700,tagNegativeSolidFontHover:e.negative100,tagNegativeLightBackground:e.negative700,tagNegativeLightHover:e.negative700,tagNegativeLightActive:e.negative600,tagNegativeLightDisabled:e.negative700,tagNegativeLightFont:e.negative100,tagNegativeLightFontHover:e.negative100,tagNegativeOutlinedActive:e.negative300,tagNegativeOutlinedFontHover:e.negative300,tagNegativeOutlinedHover:S,tableHeadBackgroundColor:e.mono700,tableBackground:e.mono800,tableStripedBackground:e.mono700,tableFilter:e.mono400,tableFilterHeading:e.mono300,tableFilterBackground:e.mono700,tableFilterFooterBackground:e.mono800,toastText:e.white,toastPrimaryBackground:e.primary400,toastPrimaryText:e.white,toastInfoBackground:e.accent400,toastInfoText:e.white,toastPositiveBackground:e.positive400,toastPositiveText:e.white,toastWarningBackground:e.warning400,toastWarningText:e.black,toastNegativeBackground:e.negative400,toastNegativeText:e.white,toggleFill:e.mono300,toggleFillChecked:e.primary,toggleFillDisabled:e.mono600,toggleTrackFill:e.mono400,toggleTrackFillDisabled:e.mono700,tickFill:e.mono1000,tickFillHover:e.mono700,tickFillActive:e.mono600,tickFillSelected:e.primary,tickFillSelectedHover:e.primary50,tickFillSelectedHoverActive:e.primary100,tickFillError:e.negative700,tickFillErrorHover:e.negative600,tickFillErrorHoverActive:e.negative500,tickFillErrorSelected:e.negative500,tickFillErrorSelectedHover:e.negative600,tickFillErrorSelectedHoverActive:e.negative700,tickFillDisabled:e.mono500,tickBorder:e.mono300,tickBorderError:e.negative400,tickMarkFill:e.black,tickMarkFillError:e.white,tickMarkFillDisabled:e.mono800,sliderTrackFill:"transparent",sliderHandleFill:e.primaryA,sliderHandleFillDisabled:e.primary500,sliderHandleInnerFill:e.primaryA,sliderHandleFillHover:e.mono300,sliderHandleFillActive:e.mono300,sliderHandleFillSelected:e.primary500,sliderHandleFillSelectedHover:e.primary600,sliderHandleFillSelectedActive:e.primary700,sliderTrackFillHover:e.mono500,sliderTrackFillActive:e.mono400,sliderTrackFillSelected:e.primary500,sliderTrackFillSelectedActive:e.primary600,sliderTrackFillSelectedHover:e.primary700,sliderTrackFillDisabled:e.mono700,sliderHandleInnerFillDisabled:e.mono500,sliderHandleInnerFillSelectedHover:e.primary600,sliderHandleInnerFillSelectedActive:e.primary700,sliderBorder:e.white,sliderBorderHover:e.white,sliderBorderDisabled:e.mono400,inputBorder:e.mono600,inputFill:e.mono600,inputFillActive:e.mono500,inputFillError:e.negative700,inputFillDisabled:e.mono800,inputFillPositive:e.positive700,inputTextDisabled:e.mono500,inputBorderError:e.negative400,inputBorderPositive:e.positive400,inputEnhancerFill:e.mono500,inputEnhancerFillDisabled:e.mono700,inputEnhancerTextDisabled:e.mono500,inputPlaceholder:e.mono300,inputPlaceholderDisabled:e.mono500,menuFill:e.mono600,menuFillHover:e.mono700,menuFontDefault:e.mono300,menuFontDisabled:e.mono400,menuFontHighlighted:e.white,menuFontSelected:e.white,paginationTriangleDown:e.mono100,headerNavigationFill:e.mono700,tabBarFill:e.mono1000,tabColor:e.mono300,spinnerTrackFill:e.mono100,progressbarTrackFill:e.mono100,tooltipBackground:e.mono200,tooltipText:e.mono1000}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return{colorPrimary:e.mono100,colorSecondary:e.mono200,background:e.mono1000,backgroundAlt:e.mono700,backgroundInv:e.mono100,foreground:e.mono100,foregroundAlt:e.mono300,foregroundInv:e.mono1000,border:e.mono600,borderAlt:e.mono700,borderFocus:e.primary,borderError:e.negative,shadowFocus:"rgba(39, 110, 241, 0.32)",shadowError:"rgba(229, 73, 55, 0.32)"}},T=n(3113);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t={backgroundPrimary:e.primaryB,backgroundSecondary:B.Z.gray800,backgroundTertiary:B.Z.gray700,backgroundInversePrimary:e.primaryA,backgroundInverseSecondary:B.Z.gray300,contentPrimary:B.Z.white,contentSecondary:B.Z.gray300,contentTertiary:B.Z.gray400,contentInversePrimary:B.Z.black,contentInverseSecondary:B.Z.gray700,contentInverseTertiary:B.Z.gray600,borderOpaque:B.Z.gray700,borderTransparent:(0,T.oo)(e.primaryA,"0.08"),borderSelected:e.primaryA,borderInverseOpaque:B.Z.gray400,borderInverseTransparent:(0,T.oo)(e.primaryB,"0.2"),borderInverseSelected:e.primaryB},n={backgroundStateDisabled:B.Z.gray800,backgroundOverlayDark:(0,T.oo)(B.Z.black,"0.3"),backgroundOverlayLight:(0,T.oo)(B.Z.black,"0.08"),backgroundAccent:e.accent,backgroundNegative:e.negative,backgroundWarning:e.warning,backgroundPositive:B.Z.green500,backgroundLightAccent:B.Z.blue700,backgroundLightPositive:B.Z.green700,backgroundLightNegative:B.Z.red700,backgroundLightWarning:B.Z.yellow700,backgroundAlwaysDark:B.Z.gray900,backgroundAlwaysLight:B.Z.gray100,contentStateDisabled:B.Z.gray600,contentAccent:B.Z.blue300,contentOnColor:B.Z.white,contentOnColorInverse:B.Z.black,contentNegative:B.Z.red300,contentWarning:B.Z.yellow300,contentPositive:B.Z.green300,borderStateDisabled:B.Z.gray800,borderAccent:B.Z.blue400,borderAccentLight:B.Z.blue500,borderNegative:B.Z.red500,borderWarning:B.Z.yellow500,borderPositive:B.Z.green500,safety:B.Z.blue400,eatsGreen400:B.Z.green400,freightBlue400:B.Z.cobalt400,jumpRed400:B.Z.red400,rewardsTier1:B.Z.blue400,rewardsTier2:B.Z.yellow400,rewardsTier3:B.Z.platinum400,rewardsTier4:B.Z.gray200,membership:B.Z.yellow600};return M(M({},t),n)};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.primaryFontFamily,r=Z(e,["primaryFontFamily"]),i=R(R({},E),r),o={animation:a.Z,borders:C,breakpoints:u.Z,colors:R(R(R(R({},i),k(i)),O(i)),I(i)),direction:"auto",grid:d.Z,lighting:g.Z,mediaQuery:v.Z,sizing:y.Z,typography:n?(0,p.Z)({primaryFontFamily:n}):(0,p.Z)(),zIndex:{modal:2e3}};return(0,l.Z)(o,t)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=N(N({},c.Z),p.U);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=V(V({},E),p.U);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y={name:"dark-theme",colors:q(q(q(q({},E),k()),O()),I()),animation:a.Z,breakpoints:u.Z,borders:C,direction:"auto",grid:d.Z,lighting:g.Z,mediaQuery:v.Z,sizing:y.Z,typography:(0,p.Z)(),zIndex:{modal:2e3}},J={primaryFontFamily:'UberMoveText, system-ui, "Helvetica Neue", Helvetica, Arial, sans-serif'},$='UberMove, UberMoveText, system-ui, "Helvetica Neue", Helvetica, Arial, sans-serif',ee='UberMoveMono, "Lucida Console", Monaco, monospace',te={font1450:{fontFamily:$},font1350:{fontFamily:$},font1250:{fontFamily:$},font1150:{fontFamily:$},DisplayLarge:{fontFamily:$},DisplayMedium:{fontFamily:$},DisplaySmall:{fontFamily:$},DisplayXSmall:{fontFamily:$},MonoParagraphXSmall:{fontFamily:ee},MonoParagraphSmall:{fontFamily:ee},MonoParagraphMedium:{fontFamily:ee},MonoParagraphLarge:{fontFamily:ee},MonoLabelXSmall:{fontFamily:ee},MonoLabelSmall:{fontFamily:ee},MonoLabelMedium:{fontFamily:ee},MonoLabelLarge:{fontFamily:ee},MonoHeadingXSmall:{fontFamily:ee},MonoHeadingSmall:{fontFamily:ee},MonoHeadingMedium:{fontFamily:ee},MonoHeadingLarge:{fontFamily:ee},MonoHeadingXLarge:{fontFamily:ee},MonoHeadingXXLarge:{fontFamily:ee},MonoDisplayXSmall:{fontFamily:ee},MonoDisplaySmall:{fontFamily:ee},MonoDisplayMedium:{fontFamily:ee},MonoDisplayLarge:{fontFamily:ee}},ne=(0,l.Z)({},Y,{name:"dark-theme-with-move",typography:(0,l.Z)((0,p.Z)(J),te)}),re=n(4961),ie=(0,l.Z)({},re.i,{name:"light-theme-with-move",typography:(0,l.Z)((0,p.Z)(J),te)}),oe=n(7992),ae=n(2791),se=n(4005),ue=n(8244),le=function(e){var t=e.children,n=e.overrides,i=e.theme,o=e.zIndex;return ae.createElement(ue.ZP,{zIndex:o,overrides:n},ae.createElement(se.Ot,{prefix:"bui"},ae.createElement(r.Z,{theme:i},t)))},ce=n(6004)},8316:function(e,t,n){"use strict";n.d(t,{NO:function(){return a},Xf:function(){return s},iB:function(){return i},oL:function(){return r},y4:function(){return o}});var r={change:"change"},i={textarea:"textarea"},o={none:"none",left:"left",right:"right",both:"both"},a={mini:"mini",default:"default",compact:"compact",large:"large"},s={start:"start",end:"end"}},8182:function(e,t,n){"use strict";n.r(t),n.d(t,{ADJOINED:function(){return i.y4},BaseInput:function(){return ue},CUSTOM_INPUT_TYPE:function(){return i.iB},Input:function(){return Be},MaskedInput:function(){return Re},SIZE:function(){return i.NO},STATE_CHANGE_TYPE:function(){return i.oL},StatefulContainer:function(){return y},StatefulInput:function(){return Ee},StyledEndEnhancer:function(){return P},StyledInput:function(){return F},StyledInputContainer:function(){return M},StyledInputEnhancer:function(){return P},StyledRoot:function(){return T},StyledStartEnhancer:function(){return P}});var r=n(2791),i=n(8316);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(s,e);var t,n,r,o=f(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=o.call.apply(o,[this].concat(n))),"state",u({value:""},e.props.initialState)),g(p(e),"onChange",(function(t){var n={value:t.target.value};e.internalSetState(i.oL.change,n),e.props.onChange(t)})),g(p(e),"internalSetState",(function(t,n){var r=e.props.stateReducer(t,n,e.state);e.setState(r)})),e}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=(e.initialState,e.stateReducer,a(e,["children","initialState","stateReducer"])),r=this.onChange;return t(u(u(u({},n),this.state),{},{onChange:r}))}}])&&c(t.prototype,n),r&&c(t,r),s}(r.Component);g(v,"defaultProps",{initialState:{},stateReducer:function(e,t){return t},onChange:function(){},onClear:function(){}});var y=v,m=n(6004);function b(e,t){var n=e.disabled,r=e.error,i=e.positive,o=e.adjoined,a=e.size,s=e.required;return{$isFocused:t.isFocused,$disabled:n,$error:r,$positive:i,$adjoined:o,$size:a,$required:s}}var _=n(7696),w=n(5414);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=(0,_.zo)("button",(function(e){var t,n=e.$theme,r=e.$size,o=e.$isFocusVisible,a=(t={},B(t,i.NO.mini,n.sizing.scale400),B(t,i.NO.compact,n.sizing.scale400),B(t,i.NO.default,n.sizing.scale300),B(t,i.NO.large,n.sizing.scale200),t)[r];return{display:"flex",alignItems:"center",borderTopStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRightStyle:"none",background:"none",paddingLeft:a,paddingRight:a,outline:o?"solid 3px ".concat(n.colors.accent):"none",color:n.colors.contentPrimary}}));E.displayName="StyledMaskToggleButton";var S=(0,_.zo)("div",(function(e){var t,n=e.$alignTop,r=void 0!==n&&n,o=e.$size,a=e.$theme,s=(t={},B(t,i.NO.mini,a.sizing.scale200),B(t,i.NO.compact,a.sizing.scale200),B(t,i.NO.default,a.sizing.scale100),B(t,i.NO.large,a.sizing.scale0),t)[o];return{display:"flex",alignItems:r?"flex-start":"center",paddingLeft:s,paddingRight:s,paddingTop:r?a.sizing.scale500:"0px",color:a.colors.contentPrimary}}));S.displayName="StyledClearIconContainer";var k=(0,_.zo)(w.Z,(function(e){var t=e.$theme;return{cursor:"pointer",outline:e.$isFocusVisible?"solid 3px ".concat(t.colors.accent):"none"}}));function O(e,t){var n;return(n={},B(n,i.NO.mini,t.font100),B(n,i.NO.compact,t.font200),B(n,i.NO.default,t.font300),B(n,i.NO.large,t.font400),n)[e]}k.displayName="StyledClearIcon";var T=(0,_.zo)("div",(function(e){var t,n=e.$isFocused,r=e.$adjoined,o=e.$error,a=e.$disabled,s=e.$positive,u=e.$size,l=e.$theme,c=e.$theme,A=c.borders,f=c.colors,h=c.sizing,p=c.typography,d=c.animation,g=e.$hasIconTrailing;return C(C(C(C({boxSizing:"border-box",display:"flex",overflow:"hidden",width:"100%",borderLeftWidth:"2px",borderRightWidth:"2px",borderTopWidth:"2px",borderBottomWidth:"2px",borderLeftStyle:"solid",borderRightStyle:"solid",borderTopStyle:"solid",borderBottomStyle:"solid",transitionProperty:"border",transitionDuration:d.timing200,transitionTimingFunction:d.easeOutCurve},{borderTopLeftRadius:t=A.inputBorderRadius,borderBottomLeftRadius:t,borderTopRightRadius:t,borderBottomRightRadius:t}),O(u,p)),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return e?{borderLeftColor:i.inputFillDisabled,borderRightColor:i.inputFillDisabled,borderTopColor:i.inputFillDisabled,borderBottomColor:i.inputFillDisabled,backgroundColor:i.inputFillDisabled}:t?{borderLeftColor:i.borderFocus,borderRightColor:i.borderFocus,borderTopColor:i.borderFocus,borderBottomColor:i.borderFocus,backgroundColor:i.inputFillActive}:n?{borderLeftColor:i.inputBorderError,borderRightColor:i.inputBorderError,borderTopColor:i.inputBorderError,borderBottomColor:i.inputBorderError,backgroundColor:i.inputFillError}:r?{borderLeftColor:i.inputBorderPositive,borderRightColor:i.inputBorderPositive,borderTopColor:i.inputBorderPositive,borderBottomColor:i.inputBorderPositive,backgroundColor:i.inputFillPositive}:{borderLeftColor:i.inputBorder,borderRightColor:i.inputBorder,borderTopColor:i.inputBorder,borderBottomColor:i.inputBorder,backgroundColor:i.inputFill}}(a,n,o,s,f)),function(e,t,n,r,o){var a=e===i.y4.both||e===i.y4.left&&"rtl"!==r||e===i.y4.right&&"rtl"===r||o&&"rtl"===r,s=e===i.y4.both||e===i.y4.right&&"rtl"!==r||e===i.y4.left&&"rtl"===r||o&&"rtl"!==r;return{paddingLeft:a?n.scale550:"0px",paddingRight:s?n.scale550:"0px"}}(r,0,h,l.direction,g))}));T.displayName="Root";var P=(0,_.zo)("div",(function(e){var t=e.$size,n=e.$disabled,r=e.$isFocused,o=e.$error,a=e.$positive,s=e.$theme,u=s.colors,l=s.sizing,c=s.typography,A=s.animation;return C(C(C({display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"color, background-color",transitionDuration:A.timing200,transitionTimingFunction:A.easeOutCurve},O(t,c)),function(e,t){var n;return(n={},B(n,i.NO.mini,{paddingRight:t.scale400,paddingLeft:t.scale400}),B(n,i.NO.compact,{paddingRight:t.scale400,paddingLeft:t.scale400}),B(n,i.NO.default,{paddingRight:t.scale300,paddingLeft:t.scale300}),B(n,i.NO.large,{paddingRight:t.scale200,paddingLeft:t.scale200}),n)[e]}(t,l)),function(e,t,n,r,i){return e?{color:i.inputEnhancerTextDisabled,backgroundColor:i.inputFillDisabled}:t?{color:i.contentPrimary,backgroundColor:i.inputFillActive}:n?{color:i.contentPrimary,backgroundColor:i.inputFillError}:r?{color:i.contentPrimary,backgroundColor:i.inputFillPositive}:{color:i.contentPrimary,backgroundColor:i.inputFill}}(n,r,o,a,u))}));P.displayName="InputEnhancer";var M=(0,_.zo)("div",(function(e){var t=e.$isFocused,n=e.$error,r=e.$disabled,i=e.$positive,o=e.$size,a=e.$theme,s=a.colors,u=a.typography,l=a.animation;return C(C({display:"flex",width:"100%",transitionProperty:"background-color",transitionDuration:l.timing200,transitionTimingFunction:l.easeOutCurve},O(o,u)),function(e,t,n,r,i){return e?{color:i.inputTextDisabled,backgroundColor:i.inputFillDisabled}:t?{color:i.contentPrimary,backgroundColor:i.inputFillActive}:n?{color:i.contentPrimary,backgroundColor:i.inputFillError}:r?{color:i.contentPrimary,backgroundColor:i.inputFillPositive}:{color:i.contentPrimary,backgroundColor:i.inputFill}}(r,t,n,i,s))}));M.displayName="InputContainer";var F=(0,_.zo)("input",(function(e){var t=e.$disabled,n=(e.$isFocused,e.$error,e.$size),r=e.$theme,o=r.colors,a=r.sizing;return C(C(C({boxSizing:"border-box",backgroundColor:"transparent",borderLeftWidth:0,borderRightWidth:0,borderTopWidth:0,borderBottomWidth:0,borderLeftStyle:"none",borderRightStyle:"none",borderTopStyle:"none",borderBottomStyle:"none",outline:"none",width:"100%",minWidth:0,maxWidth:"100%",cursor:t?"not-allowed":"text",margin:"0",paddingTop:"0",paddingBottom:"0",paddingLeft:"0",paddingRight:"0"},O(n,r.typography)),function(e,t){var n;return(n={},B(n,i.NO.mini,{paddingTop:t.scale100,paddingBottom:t.scale100,paddingLeft:t.scale550,paddingRight:t.scale550}),B(n,i.NO.compact,{paddingTop:t.scale200,paddingBottom:t.scale200,paddingLeft:t.scale550,paddingRight:t.scale550}),B(n,i.NO.default,{paddingTop:t.scale400,paddingBottom:t.scale400,paddingLeft:t.scale550,paddingRight:t.scale550}),B(n,i.NO.large,{paddingTop:t.scale550,paddingBottom:t.scale550,paddingLeft:t.scale550,paddingRight:t.scale550}),n)[e]}(n,a)),function(e,t,n,r){return e?{color:r.inputTextDisabled,"-webkit-text-fill-color":r.inputTextDisabled,caretColor:r.contentPrimary,"::placeholder":{color:r.inputPlaceholderDisabled}}:{color:r.contentPrimary,caretColor:r.contentPrimary,"::placeholder":{color:r.inputPlaceholder}}}(t,0,0,o))}));F.displayName="Input";var I=n(7169);function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}function R(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){var n=D((0,_.hQ)(),2)[1],i=e.title,o=void 0===i?"Hide":i,a=e.size,s=e.color,u=e.overrides,l=void 0===u?{}:u,c=R(e,["title","size","color","overrides"]),A=(0,m.vt)({component:n.icons&&n.icons.Hide?n.icons.Hide:null},l&&l.Svg?(0,m.hq)(l.Svg):{});return r.createElement(I.Z,L({viewBox:"0 0 20 20",ref:t,title:o,size:a,color:s,overrides:{Svg:A}},c),r.createElement("path",{d:"M12.81 4.36l-1.77 1.78a4 4 0 00-4.9 4.9l-2.76 2.75C2.06 12.79.96 11.49.2 10a11 11 0 0112.6-5.64zm3.8 1.85c1.33 1 2.43 2.3 3.2 3.79a11 11 0 01-12.62 5.64l1.77-1.78a4 4 0 004.9-4.9l2.76-2.75zm-.25-3.99l1.42 1.42L3.64 17.78l-1.42-1.42L16.36 2.22z"}))}var j=r.forwardRef(U);function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){var n=Q((0,_.hQ)(),2)[1],i=e.title,o=void 0===i?"Show":i,a=e.size,s=e.color,u=e.overrides,l=void 0===u?{}:u,c=z(e,["title","size","color","overrides"]),A=(0,m.vt)({component:n.icons&&n.icons.Show?n.icons.Show:null},l&&l.Svg?(0,m.hq)(l.Svg):{});return r.createElement(I.Z,N({viewBox:"0 0 20 20",ref:t,title:o,size:a,color:s,overrides:{Svg:A}},c),r.createElement("path",{d:"M.2 10a11 11 0 0119.6 0A11 11 0 01.2 10zm9.8 4a4 4 0 100-8 4 4 0 000 8zm0-2a2 2 0 110-4 2 2 0 010 4z"}))}var G=r.forwardRef(V);var W=n(2422);function K(e){return K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ee(e,t)}function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var i=ie(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(e,t){return!t||"object"!==K(t)&&"function"!==typeof t?re(e):t}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=function(){return null},se=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(s,e);var t,n,o,a=te(s);function s(){var e;J(this,s);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return oe(re(e=a.call.apply(a,[this].concat(n))),"inputRef",e.props.inputRef||r.createRef()),oe(re(e),"state",{isFocused:e.props.autoFocus||!1,isMasked:"password"===e.props.type,initialType:e.props.type,isFocusVisibleForClear:!1,isFocusVisibleForMaskToggle:!1}),oe(re(e),"onInputKeyDown",(function(t){e.props.clearOnEscape&&"Escape"===t.key&&e.inputRef.current&&(e.clearValue(),t.stopPropagation())})),oe(re(e),"onClearIconClick",(function(){e.inputRef.current&&e.clearValue(),e.inputRef.current&&e.inputRef.current.focus()})),oe(re(e),"onFocus",(function(t){e.setState({isFocused:!0}),e.props.onFocus(t)})),oe(re(e),"onBlur",(function(t){e.setState({isFocused:!1}),e.props.onBlur(t)})),oe(re(e),"handleFocusForMaskToggle",(function(t){(0,W.E)(t)&&e.setState({isFocusVisibleForMaskToggle:!0})})),oe(re(e),"handleBlurForMaskToggle",(function(t){!1!==e.state.isFocusVisibleForMaskToggle&&e.setState({isFocusVisibleForMaskToggle:!1})})),oe(re(e),"handleFocusForClear",(function(t){(0,W.E)(t)&&e.setState({isFocusVisibleForClear:!0})})),oe(re(e),"handleBlurForClear",(function(t){!1!==e.state.isFocusVisibleForClear&&e.setState({isFocusVisibleForClear:!1})})),e}return t=s,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.clearable;this.inputRef.current&&(t&&this.inputRef.current.focus(),n&&this.inputRef.current.addEventListener("keydown",this.onInputKeyDown))}},{key:"componentWillUnmount",value:function(){this.props.clearable&&this.inputRef.current&&this.inputRef.current.removeEventListener("keydown",this.onInputKeyDown)}},{key:"clearValue",value:function(){var e=this.inputRef.current;if(e){var t=Object.getOwnPropertyDescriptor(this.props.type===i.iB.textarea?window.HTMLTextAreaElement.prototype:window.HTMLInputElement.prototype,"value");if(t){var n=t.set;if(n){n.call(e,"");var r=function(e){var t;return"function"===typeof window.Event?t=new window.Event(e,{bubbles:!0,cancelable:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!0),t}("input");e.dispatchEvent(r)}}}}},{key:"getInputType",value:function(){return"password"===this.props.type?this.state.isMasked?"password":"text":this.props.type}},{key:"renderMaskToggle",value:function(){var e,t=this;if("password"!==this.props.type)return null;var n=X((0,m.jb)(this.props.overrides.MaskToggleButton,E),2),o=n[0],a=n[1],s=X((0,m.jb)(this.props.overrides.MaskToggleShowIcon,G),2),u=s[0],l=s[1],c=X((0,m.jb)(this.props.overrides.MaskToggleHideIcon,j),2),A=c[0],f=c[1],h=this.state.isMasked?"Show password text":"Hide password text",p=(e={},oe(e,i.NO.mini,"12px"),oe(e,i.NO.compact,"16px"),oe(e,i.NO.default,"20px"),oe(e,i.NO.large,"24px"),e)[this.props.size];return r.createElement(o,q({$size:this.props.size,$isFocusVisible:this.state.isFocusVisibleForMaskToggle,"aria-label":h,onClick:function(){return t.setState((function(e){return{isMasked:!e.isMasked}}))},title:h,type:"button"},a,{onFocus:(0,W.Ah)(a,this.handleFocusForMaskToggle),onBlur:(0,W.Z5)(a,this.handleBlurForMaskToggle)}),this.state.isMasked?r.createElement(u,q({size:p,title:h},l)):r.createElement(A,q({size:p,title:h},f)))}},{key:"renderClear",value:function(){var e,t=this,n=this.props,o=n.clearable,a=n.value,s=n.disabled,u=n.overrides,l=void 0===u?{}:u;if(s||!o||null==a||"string"===typeof a&&0===a.length)return null;var c=X((0,m.jb)(l.ClearIconContainer,S),2),A=c[0],f=c[1],h=X((0,m.jb)(l.ClearIcon,k),2),p=h[0],d=h[1],g="Clear value",v=b(this.props,this.state),y=(e={},oe(e,i.NO.mini,"14px"),oe(e,i.NO.compact,"14px"),oe(e,i.NO.default,"16px"),oe(e,i.NO.large,"22px"),e)[this.props.size];return r.createElement(A,q({$alignTop:this.props.type===i.iB.textarea},v,f),r.createElement(p,q({size:y,tabIndex:0,title:g,"aria-label":g,onClick:this.onClearIconClick,onKeyDown:function(e){!e.key||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t.onClearIconClick())},role:"button",$isFocusVisible:this.state.isFocusVisibleForClear},v,d,{onFocus:(0,W.Ah)(d,this.handleFocusForClear),onBlur:(0,W.Z5)(d,this.handleBlurForClear)})))}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.type,o=e.overrides,a=o.InputContainer,u=o.Input,l=o.Before,c=o.After,A="password"===this.state.initialType&&this.props.autoComplete===s.defaultProps.autoComplete?"new-password":this.props.autoComplete,f=b(this.props,this.state),h=X((0,m.jb)(a,M),2),p=h[0],d=h[1],g=X((0,m.jb)(u,F),2),v=g[0],y=g[1],_=X((0,m.jb)(l,ae),2),w=_[0],x=_[1],C=X((0,m.jb)(c,ae),2),B=C[0],E=C[1];return r.createElement(p,q({"data-baseweb":this.props["data-baseweb"]||"base-input"},f,d),r.createElement(w,q({},f,x)),r.createElement(v,q({ref:this.inputRef,"aria-activedescendant":this.props["aria-activedescendant"],"aria-autocomplete":this.props["aria-autocomplete"],"aria-controls":this.props["aria-controls"],"aria-errormessage":this.props["aria-errormessage"],"aria-haspopup":this.props["aria-haspopup"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-invalid":this.props.error,"aria-required":this.props.required,autoComplete:A,disabled:this.props.disabled,id:this.props.id,inputMode:this.props.inputMode,maxLength:this.props.maxLength,name:this.props.name,onBlur:this.onBlur,onChange:this.props.onChange,onFocus:this.onFocus,onKeyDown:this.props.onKeyDown,onKeyPress:this.props.onKeyPress,onKeyUp:this.props.onKeyUp,pattern:this.props.pattern,placeholder:this.props.placeholder,type:this.getInputType(),required:this.props.required,role:this.props.role,value:this.props.value,min:this.props.min,max:this.props.max,step:this.props.step,rows:this.props.type===i.iB.textarea?this.props.rows:null},f,y),n===i.iB.textarea?t:null),this.renderClear(),this.renderMaskToggle(),r.createElement(B,q({},f,E)))}}],n&&$(t.prototype,n),o&&$(t,o),s}(r.Component);oe(se,"defaultProps",{"aria-activedescendant":null,"aria-autocomplete":null,"aria-controls":null,"aria-errormessage":null,"aria-haspopup":null,"aria-label":null,"aria-labelledby":null,"aria-describedby":null,adjoined:i.y4.none,autoComplete:"on",autoFocus:!1,disabled:!1,error:!1,positive:!1,name:"",inputMode:"text",onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){},onFocus:function(){},onClear:function(){},clearable:!1,clearOnEscape:!0,overrides:{},pattern:null,placeholder:"",required:!1,role:null,size:i.NO.default,type:"text"});var ue=se;function le(e){return le="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ge(e,t)}function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var i=be(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){return!t||"object"!==le(t)&&"function"!==typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(s,e);var t,n,o,a=ve(s);function s(){var e;pe(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _e(me(e=a.call.apply(a,[this].concat(n))),"state",{isFocused:e.props.autoFocus||!1}),_e(me(e),"onFocus",(function(t){e.setState({isFocused:!0}),e.props.onFocus(t)})),_e(me(e),"onBlur",(function(t){e.setState({isFocused:!1}),e.props.onBlur(t)})),e}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.startEnhancer,n=e.endEnhancer,o=e.overrides,a=o.Root,s=o.StartEnhancer,u=o.EndEnhancer,l=he(o,["Root","StartEnhancer","EndEnhancer"]),c=he(e,["startEnhancer","endEnhancer","overrides"]),A=Ae((0,m.jb)(a,T),2),f=A[0],h=A[1],p=Ae((0,m.jb)(s,P),2),d=p[0],g=p[1],v=Ae((0,m.jb)(u,P),2),y=v[0],_=v[1],w=b(this.props,this.state);return r.createElement(f,ce({"data-baseweb":"input"},w,h,{$adjoined:xe(t,n),$hasIconTrailing:this.props.clearable||"password"==this.props.type}),Ce(t)&&r.createElement(d,ce({},w,g,{$position:i.Xf.start}),"function"===typeof t?t(w):t),r.createElement(ue,ce({},c,{overrides:l,adjoined:xe(t,n),onFocus:this.onFocus,onBlur:this.onBlur})),Ce(n)&&r.createElement(y,ce({},w,_,{$position:i.Xf.end}),"function"===typeof n?n(w):n))}}])&&de(t.prototype,n),o&&de(t,o),s}(r.Component);function xe(e,t){return Ce(e)&&Ce(t)?i.y4.both:Ce(e)?i.y4.left:Ce(t)?i.y4.right:i.y4.none}function Ce(e){return Boolean(e||0===e)}_e(we,"defaultProps",{autoComplete:"on",autoFocus:!1,disabled:!1,name:"",onBlur:function(){},onFocus:function(){},overrides:{},required:!1,size:i.NO.default,startEnhancer:null,endEnhancer:null,clearable:!1,type:"text"});var Be=we;function Ee(e){return r.createElement(y,e,(function(e){return r.createElement(Be,e)}))}var Se=n(3519),ke=n.n(Se);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e){return Me="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Fe(){return Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Le=r.forwardRef((function(e,t){e.startEnhancer,e.endEnhancer,e.error,e.positive;var n=e.onChange,i=e.onFocus,o=e.onBlur,a=e.value,s=e.disabled,u=Ie(e,["startEnhancer","endEnhancer","error","positive","onChange","onFocus","onBlur","value","disabled"]);return r.createElement(ke(),Fe({onChange:n,onFocus:i,onBlur:o,value:a,disabled:s},u),(function(e){return r.createElement(F,Fe({ref:t,onChange:n,onFocus:i,onBlur:o,value:a,disabled:s},e))}))}));function Re(e){var t=e.mask,n=e.maskChar,i=e.overrides,o=(i=void 0===i?{}:i).Input,a=void 0===o?{}:o,s=Ie(i,["Input"]),u=Ie(e,["mask","maskChar","overrides"]),l=Le,c={},A={};"function"===typeof a?l=a:"object"===Me(a)&&(l=a.component||l,c=a.props||{},A=a.style||{}),"object"===Me(c)&&(c=Te(Te({},c),{},{mask:c.mask||t,maskChar:c.maskChar||n}));var f=Te({Input:{component:l,props:c,style:A}},s);return r.createElement(Be,Fe({},u,{overrides:f}))}Le.displayName="MaskOverride",Re.defaultProps={maskChar:" "}},1453:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(2791),i=n(4164),o=n(7696),a=n(8244);function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=(0,o.zo)("div",(function(e){return{position:"absolute",top:0,left:0,right:0,zIndex:e.$zIndex||null}}));v.displayName="Container";var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(s,e);var t,n,o,a=f(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=a.call.apply(a,[this].concat(n))),"state",{container:null}),g(p(e),"onEscape",(function(){e.props.onEscape&&e.props.onEscape()})),g(p(e),"onDocumentClick",(function(t){e.props.onDocumentClick&&e.props.onDocumentClick(t)})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.context.addEscapeHandler(this.onEscape),this.props.isHoverLayer||this.context.addDocClickHandler(this.onDocumentClick);var e=this.props,t=e.onMount,n=e.mountNode,r=e.host;if(n)t&&t();else{var i=void 0!==r?r:document.body;i&&this.addContainer(i)}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.host;t.mountNode||(n&&n!==e.host&&null===e.host&&this.addContainer(n),e.isHoverLayer!=this.props.isHoverLayer&&(this.props.isHoverLayer?this.context.removeDocClickHandler(this.onDocumentClick):this.context.addDocClickHandler(this.onDocumentClick)))}},{key:"componentWillUnmount",value:function(){this.context.removeEscapeHandler(this.onEscape),this.context.removeDocClickHandler(this.onDocumentClick),this.props.onUnmount&&this.props.onUnmount();var e=this.props.host,t=this.state.container;e&&t&&e.contains(t)&&e.removeChild(t)}},{key:"addContainer",value:function(e){var t=this.props,n=t.index,r=t.mountNode,i=t.onMount;if(!r&&e){var o=e.ownerDocument.createElement("div"),a="number"===typeof n?e.children[n]:null;a?e.insertBefore(o,a):e.appendChild(o),this.setState({container:o},(function(){i&&i()}))}}},{key:"render",value:function(){var e=this.state.container,t=this.props,n=t.children,o=t.mountNode,a=t.zIndex,s=a?r.createElement(v,{$zIndex:a},n):n;if("undefined"!==typeof document){var u=o||e;return u?i.createPortal(s,u):null}return null}}])&&c(t.prototype,n),o&&c(t,o),s}(r.Component);function m(e){return r.createElement(a.$6,null,(function(t){var n=t.host,i=t.zIndex;return r.createElement(y,u({},e,{host:n,zIndex:i}))}))}g(y,"contextType",a.rH)},8244:function(e,t,n){"use strict";n.d(t,{$6:function(){return B},ZP:function(){return E},rH:function(){return x}});var r=n(2791),i=n(7696),o=n(6004),a=n(2422);function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,i.zo)("div",{});b.displayName="StyledAppContainer";var _=(0,i.zo)("div",{});function w(){0}_.displayName="StyledLayersContainer";var x=r.createContext({addEscapeHandler:w,removeEscapeHandler:w,addDocClickHandler:w,removeDocClickHandler:w,host:void 0,zIndex:void 0}),C=x.Provider,B=x.Consumer,E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(A,e);var t,n,i,s=d(A);function A(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),m(v(t=s.call(this,e)),"host",r.createRef()),m(v(t),"containerRef",r.createRef()),m(v(t),"onDocumentClick",(function(e){var n=t.state.docClickHandlers[t.state.docClickHandlers.length-1];n&&n(e)})),m(v(t),"onKeyUp",(function(e){if("Escape"===e.key){var n=t.state.escapeKeyHandlers[t.state.escapeKeyHandlers.length-1];n&&n()}})),m(v(t),"onAddEscapeHandler",(function(e){t.setState((function(t){return{escapeKeyHandlers:[].concat(c(t.escapeKeyHandlers),[e])}}))})),m(v(t),"onRemoveEscapeHandler",(function(e){t.setState((function(t){return{escapeKeyHandlers:t.escapeKeyHandlers.filter((function(t){return t!==e}))}}))})),m(v(t),"onAddDocClickHandler",(function(e){t.setState((function(t){return{docClickHandlers:[].concat(c(t.docClickHandlers),[e])}}))})),m(v(t),"onRemoveDocClickHandler",(function(e){t.setState((function(t){return{docClickHandlers:t.docClickHandlers.filter((function(t){return t!==e}))}}))})),t.state={escapeKeyHandlers:[],docClickHandlers:[]},t}return t=A,(n=[{key:"componentDidMount",value:function(){this.forceUpdate(),(0,a.L)(this.containerRef.current),"undefined"!==typeof document&&(document.addEventListener("keyup",this.onKeyUp),document.addEventListener("mousedown",this.onDocumentClick))}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof document&&(document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("mousedown",this.onDocumentClick))}},{key:"render",value:function(){var e=this,t=this.props.overrides,n=void 0===t?{}:t,i=l((0,o.jb)(n.AppContainer,b),2),a=i[0],s=i[1],c=l((0,o.jb)(n.LayersContainer,_),2),A=c[0],f=c[1];return r.createElement(B,null,(function(t){var n=t.host;return r.createElement(C,{value:{host:n||e.host.current,zIndex:e.props.zIndex,addEscapeHandler:e.onAddEscapeHandler,removeEscapeHandler:e.onRemoveEscapeHandler,addDocClickHandler:e.onAddDocClickHandler,removeDocClickHandler:e.onRemoveDocClickHandler}},r.createElement(a,u({},s,{ref:e.containerRef}),e.props.children),r.createElement(A,u({},f,{ref:e.host})))}))}}])&&h(t.prototype,n),i&&h(t,i),A}(r.Component)},7992:function(e,t,n){"use strict";n.d(t,{R:function(){return s},Z:function(){return u}});var r=n(2791),i=n(5033),o=n.n(i),a={accordion:{collapse:"Collapse",expand:"Expand"},breadcrumbs:{ariaLabel:"Breadcrumbs navigation"},datepicker:{ariaLabel:"Select a date.",ariaLabelRange:"Select a date range.",ariaLabelCalendar:"Calendar.",ariaRoleDescriptionCalendarMonth:"Calendar month",previousMonth:"Previous month.",nextMonth:"Next month.",pastWeek:"Past Week",pastMonth:"Past Month",pastThreeMonths:"Past 3 Months",pastSixMonths:"Past 6 Months",pastYear:"Past Year",pastTwoYears:"Past 2 Years",screenReaderMessageInput:"Press the down arrow key to interact with the calendar and select a date. Press the escape button to close the calendar.",selectedDate:"Selected date is ${date}.",selectedDateRange:"Selected date range is from ${startDate} to ${endDate}.",selectSecondDatePrompt:"Select the second date.",quickSelectLabel:"Choose a date range",quickSelectAriaLabel:"Choose a date range",quickSelectPlaceholder:"None",timeSelectEndLabel:"End time",timeSelectStartLabel:"Start time",timePickerAriaLabel12Hour:"Select a time, 12-hour format.",timePickerAriaLabel24Hour:"Select a time, 24-hour format.",timezonePickerAriaLabel:"Select a timezone.",selectedStartDateLabel:"Selected start date.",selectedEndDateLabel:"Selected end date.",dateNotAvailableLabel:"Not available.",dateAvailableLabel:"It's available.",selectedLabel:"Selected.",chooseLabel:"Choose"},datatable:{emptyState:"No rows match the filter criteria defined. Please remove one or more filters to view more data.",loadingState:"Loading rows.",searchAriaLabel:"Search by text",filterAdd:"Add Filter",filterExclude:"Exclude",filterApply:"Apply",filterExcludeRange:"Exclude range",filterExcludeValue:"Exclude value",filterAppliedTo:"filter applied to",optionsLabel:"Select column to filter by",optionsSearch:"Search for a column to filter by...",optionsEmpty:"No columns available.",categoricalFilterSelectAll:"Select All",categoricalFilterSelectClear:"Clear",categoricalFilterEmpty:"No categories found",datetimeFilterRange:"Range",datetimeFilterRangeDatetime:"Date, Time",datetimeFilterRangeDate:"Date",datetimeFilterRangeTime:"Time",datetimeFilterCategorical:"Categorical",datetimeFilterCategoricalWeekday:"Weekday",datetimeFilterCategoricalMonth:"Month",datetimeFilterCategoricalQuarter:"Quarter",datetimeFilterCategoricalHalf:"Half",datetimeFilterCategoricalFirstHalf:"H1",datetimeFilterCategoricalSecondHalf:"H2",datetimeFilterCategoricalYear:"Year",numericalFilterRange:"Range",numericalFilterSingleValue:"Single Value",booleanFilterTrue:"true",booleanFilterFalse:"false",booleanColumnTrueShort:"T",booleanColumnFalseShort:"F"},buttongroup:{ariaLabel:"button group"},fileuploader:{dropFilesToUpload:"Drop files here to upload...",or:"",browseFiles:"Browse files",retry:"Retry Upload",cancel:"Cancel"},menu:{noResultsMsg:"No results",parentMenuItemAriaLabel:"You are currently at an item that opens a nested listbox. Press right arrow to enter that element and left arrow to return."},modal:{close:"Close"},drawer:{close:"Close"},pagination:{prev:"Prev",next:"Next",preposition:"of"},select:{noResultsMsg:"No results found",placeholder:"Select...",create:"Create"},toast:{close:"Close"}},s=r.createContext(a),u=function(e){var t=e.locale,n=e.children;return r.createElement(s.Provider,{value:o()({},a,t)},n)}},9388:function(e,t,n){"use strict";n.d(t,{Sz:function(){return o},YV:function(){return i},d0:function(){return r}});var r={click:"click",moveUp:"moveUp",moveDown:"moveDown",mouseEnter:"mouseEnter",mouseLeave:"mouseLeave",focus:"focus",reset:"reset",character:"character",enter:"enter"},i={ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",Enter:"Enter",Space:" ",Escape:"Escape",Backspace:"Backspace",Home:"Home",End:"End"},o={default:"default",compact:"compact"}},9398:function(e,t,n){"use strict";n.d(t,{CK:function(){return c},au:function(){return p},ey:function(){return h},oH:function(){return v},v0:function(){return d}});var r=n(2791),i=n(7696),o=n(9388);function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,i.zo)("ul",(function(e){var t=e.$theme,n=e.$isFocusVisible;return{backgroundColor:t.colors.menuFill,position:"relative",marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,paddingTop:t.sizing.scale300,paddingBottom:t.sizing.scale300,paddingLeft:0,paddingRight:0,borderTopLeftRadius:t.borders.popoverBorderRadius,borderTopRightRadius:t.borders.popoverBorderRadius,borderBottomRightRadius:t.borders.popoverBorderRadius,borderBottomLeftRadius:t.borders.popoverBorderRadius,boxShadow:t.lighting.shadow600,overflow:"auto",":focus":{outline:n?"3px solid ".concat(t.colors.accent):"none"}}}));function A(e){return e.$disabled?e.$theme.colors.menuFontDisabled:e.$isHighlighted&&e.$isFocused?e.$theme.colors.menuFontHighlighted:e.$isHighlighted&&!e.$isFocused?e.$theme.colors.menuFontSelected:e.$theme.colors.menuFontDefault}function f(e){return e.$disabled?"transparent":e.$isHighlighted?e.$theme.colors.menuFillHover:"transparent"}c.displayName="StyledList";var h=(0,i.zo)("li",(function(e){var t=e.$theme;return u(u({},e.$size===o.Sz.compact?t.typography.font100:t.typography.font200),{},{position:"relative",display:"block",color:t.colors.menuFontDisabled,textAlign:"center",cursor:"not-allowed",backgroundColor:"transparent",marginBottom:0,paddingTop:t.sizing.scale800,paddingBottom:t.sizing.scale800,paddingRight:t.sizing.scale800,paddingLeft:t.sizing.scale800})}));h.displayName="StyledEmptyState";var p=(0,i.zo)("li",(function(e){var t=e.$theme.sizing.scale300,n=e.$theme.sizing.scale200;return u(u({},e.$theme.typography.font250),{},{color:e.$theme.colors.colorPrimary,paddingTop:n,paddingBottom:n,paddingRight:t,paddingLeft:t})}));p.displayName="StyledOptgroupHeader";var d=(0,i.zo)("a",(function(e){return{display:"block",color:A(e)}}));d.displayName="StyledListItemAnchor";var g=(0,i.zo)("li",(function(e){var t=e.$disabled,n=e.$theme,r=e.$size;return u(u({},r===o.Sz.compact?n.typography.font100:n.typography.font200),{},{position:"relative",display:"block",color:A(e),cursor:t?"not-allowed":"pointer",backgroundColor:f(e),transitionProperty:"color, background-color",transitionDuration:n.animation.timing200,transitionTimingFunction:n.animation.easeOutCurve,marginBottom:0,paddingTop:r===o.Sz.compact?n.sizing.scale100:n.sizing.scale300,paddingBottom:r===o.Sz.compact?n.sizing.scale100:n.sizing.scale300,paddingRight:r===o.Sz.compact?n.sizing.scale900:n.sizing.scale600,paddingLeft:r===o.Sz.compact?n.sizing.scale900:n.sizing.scale600,":focus":{outline:"none"}})}));g.displayName="StyledListItemElement";var v=(0,i.Le)(g,(function(e){return function(t){t.item;var n=a(t,["item"]);return r.createElement(e,n)}}));(0,i.zo)("li",(function(e){var t=e.$theme;return{position:"relative",display:"flex",alignItems:"center",cursor:"pointer",paddingTop:t.sizing.scale300,paddingBottom:t.sizing.scale300,paddingRight:t.sizing.scale800,paddingLeft:t.sizing.scale800,transitionProperty:"color, background-color",transitionDuration:t.animation.timing200,transitionTimingFunction:t.animation.easeOutCurve,":hover":{backgroundColor:t.colors.menuFillHover}}})).displayName="StyledListItemProfile",(0,i.zo)("div",{width:"60px",height:"60px",display:"flex",justifyContent:"center",alignItems:"center"}).displayName="StyledProfileImgContainer",(0,i.zo)("img",{width:"100%",height:"100%",borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%"}).displayName="StyledProfileImg",(0,i.zo)("div",(function(e){var t=e.$theme,n=t.direction,r=t.sizing;return u({alignSelf:"rtl"===n?"flex-end":"flex-start",display:"flex",flexDirection:"column"},"rtl"===n?{marginRight:r.scale600}:{marginLeft:r.scale600})})).displayName="StyledProfileLabelsContainer",(0,i.zo)("h6",(function(e){var t=e.$theme;return u(u({},t.typography.font350),{},{color:t.colors.contentPrimary,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0})})).displayName="StyledProfileTitle",(0,i.zo)("p",(function(e){var t=e.$theme;return u(u({},t.typography.font200),{},{color:t.colors.contentPrimary,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0})})).displayName="StyledProfileSubtitle",(0,i.zo)("p",(function(e){var t=e.$theme;return u(u({},t.typography.font100),{},{color:t.colors.contentPrimary,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0})})).displayName="StyledProfileBody"},2384:function(e,t,n){"use strict";n.r(t),n.d(t,{CLOSE_SOURCE:function(){return A},FocusOnce:function(){return W},Modal:function(){return U},ModalBody:function(){return w},ModalButton:function(){return H},ModalFooter:function(){return x},ModalHeader:function(){return _},ROLE:function(){return c},SIZE:function(){return u},StyledBackdrop:function(){return v},StyledClose:function(){return b},StyledDialog:function(){return m},StyledDialogContainer:function(){return y},StyledRoot:function(){return g}});var r=n(2791),i=n(1601),o=n(7992),a=n(6004),s=n(1453),u={default:"default",full:"full",auto:"auto"},l={default:"500px",full:"100%",auto:"auto"},c={dialog:"dialog",alertdialog:"alertdialog"},A={closeButton:"closeButton",backdrop:"backdrop",escape:"escape"},f=n(7696);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(0,f.zo)("div",(function(e){return{position:"fixed",overflow:"auto",right:0,bottom:0,top:0,left:0,pointerEvents:e.$isOpen?"auto":"none"}}));g.displayName="Root";var v=(0,f.zo)("div",(function(e){var t=e.$animate,n=e.$isOpen,r=e.$isVisible,i=e.$theme;return e.$unstable_ModalBackdropScroll?{}:p({position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",touchAction:"none",opacity:r&&n?1:0},t?{transitionProperty:"opacity",transitionDuration:i.animation.timing400,transitionTimingFunction:i.animation.easeOutCurve}:null)}));v.displayName="Backdrop";var y=(0,f.zo)("div",(function(e){var t=e.$animate,n=e.$isOpen,r=e.$isVisible,i=e.$theme;return p({display:"flex",alignItems:"center",justifyContent:"center",width:"100%",minHeight:"100%",pointerEvents:"none",userSelect:"none"},e.$unstable_ModalBackdropScroll?p({pointerEvents:"auto",backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",opacity:r&&n?1:0},t?{transitionProperty:"opacity",transitionDuration:i.animation.timing400,transitionTimingFunction:i.animation.easeOutCurve}:null):{})}));y.displayName="DialogContainer";var m=(0,f.zo)("div",(function(e){var t=e.$animate,n=e.$isOpen,r=e.$isVisible,i=e.$size,o=e.$theme;return p(p(p({position:"relative",backgroundColor:o.colors.backgroundPrimary,borderTopLeftRadius:o.borders.radius500,borderTopRightRadius:o.borders.radius500,borderBottomRightRadius:o.borders.radius500,borderBottomLeftRadius:o.borders.radius500,marginLeft:o.sizing.scale600,marginTop:o.sizing.scale600,marginRight:o.sizing.scale600,marginBottom:o.sizing.scale600},function(e){var t={maxWidth:"100%",width:null};return"number"===typeof e?t.width="".concat(e,"px"):u[e]?t.width=l[e]:"string"===typeof e&&(t.width=e),e===u.full&&(t.alignSelf="stretch"),t}(i)),{},{opacity:r&&n?1:0,transform:r?"translateY(0)":"translateY(20px)"},t?{transitionProperty:"opacity, transform",transitionDuration:o.animation.timing400,transitionTimingFunction:o.animation.easeOutCurve}:null),{},{userSelect:"text",pointerEvents:n?"all":"none",":focus":{outline:"none"}})}));m.displayName="Dialog";var b=(0,f.zo)("button",(function(e){var t,n=e.$theme,r=e.$isFocusVisible,i="rtl"===n.direction?"left":"right";return d(t={background:"transparent",outline:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,color:n.colors.modalCloseColor,transitionProperty:"color, border-color",transitionDuration:n.animation.timing200,borderLeftWidth:"1px",borderRightWidth:"1px",borderTopWidth:"1px",borderBottomWidth:"1px",borderLeftStyle:"solid",borderRightStyle:"solid",borderTopStyle:"solid",borderBottomStyle:"solid",borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:"transparent",borderBottomColor:"transparent",":hover":{color:n.colors.modalCloseColorHover},":focus":{outline:r?"3px solid ".concat(n.colors.accent):"none"},position:"absolute",top:n.sizing.scale500},i,n.sizing.scale500),d(t,"width",n.sizing.scale800),d(t,"height",n.sizing.scale800),d(t,"display","flex"),d(t,"justifyContent","center"),d(t,"alignItems","center"),d(t,"cursor","pointer"),t}));b.displayName="Close";var _=(0,f.zo)("div",(function(e){var t,n=e.$theme,r="rtl"===n.direction?"marginRight":"marginLeft",i="rtl"===n.direction?"marginLeft":"marginRight";return p(p({},n.typography.font550),{},(d(t={color:n.colors.contentPrimary,marginTop:n.sizing.scale900,marginBottom:n.sizing.scale600},r,n.sizing.scale800),d(t,i,n.sizing.scale900),t))}));_.displayName="ModalHeader";var w=(0,f.zo)("div",(function(e){var t=e.$theme;return p(p({},t.typography.font200),{},{color:t.colors.contentSecondary,marginTop:t.sizing.scale600,marginLeft:t.sizing.scale800,marginRight:t.sizing.scale800,marginBottom:t.sizing.scale700})}));w.displayName="ModalBody";var x=(0,f.zo)("div",(function(e){var t=e.$theme;return p(p({},t.typography.font200),{},{marginTop:t.sizing.scale700,marginLeft:t.sizing.scale800,marginRight:t.sizing.scale800,paddingTop:t.sizing.scale500,paddingBottom:t.sizing.scale500,textAlign:"rtl"===t.direction?"left":"right"})}));function C(){return r.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",style:{stroke:"currentColor"},xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M9 1L5 5M1 9L5 5M5 5L1 1M5 5L9 9",strokeWidth:"2",strokeLinecap:"round"}))}x.displayName="ModalFooter";var B=n(2422);function E(e){return E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==E(t)&&"function"!==typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(c,e);var t,n,u,l=F(c);function c(){var e;T(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return D(L(e=l.call.apply(l,[this].concat(n))),"animateOutTimer",void 0),D(L(e),"animateStartTimer",void 0),D(L(e),"lastFocus",null),D(L(e),"lastMountNodeOverflowStyle",null),D(L(e),"_refs",{}),D(L(e),"state",{isVisible:!1,mounted:!1,isFocusVisible:!1}),D(L(e),"handleFocus",(function(t){(0,B.E)(t)&&e.setState({isFocusVisible:!0})})),D(L(e),"handleBlur",(function(t){!1!==e.state.isFocusVisible&&e.setState({isFocusVisible:!1})})),D(L(e),"onEscape",(function(){e.props.closeable&&e.triggerClose(A.escape)})),D(L(e),"onDocumentClick",(function(t){t.target&&t.target instanceof HTMLElement&&(t.target.contains(e.getRef("DialogContainer").current)||t.target.contains(e.getRef("DeprecatedBackdrop").current))&&e.onBackdropClick()})),D(L(e),"onBackdropClick",(function(){e.props.closeable&&e.triggerClose(A.backdrop)})),D(L(e),"onCloseClick",(function(){e.triggerClose(A.closeButton)})),D(L(e),"animateOutComplete",(function(){e.setState({isVisible:!1})})),e}return t=c,n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"componentWillUnmount",value:function(){this.resetMountNodeScroll(),this.clearTimers()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.isOpen;(n!==e.isOpen||n&&this.state.mounted&&!t.mounted)&&(n?this.didOpen():this.didClose())}},{key:"disableMountNodeScroll",value:function(){var e=this.getMountNode();this.lastMountNodeOverflowStyle=e.style.overflow||"",e.style.overflow="hidden"}},{key:"resetMountNodeScroll",value:function(){var e=this.getMountNode(),t=this.lastMountNodeOverflowStyle;e&&null!==t&&("hidden"===e.style.overflow&&(e.style.overflow=t||""),this.lastMountNodeOverflowStyle=null)}},{key:"clearTimers",value:function(){this.animateOutTimer&&clearTimeout(this.animateOutTimer),this.animateStartTimer&&cancelAnimationFrame(this.animateStartTimer)}},{key:"didOpen",value:function(){var e=this,t=this.getRef("Root").current;t&&(t.scrollTop=0),this.clearTimers(),this.disableMountNodeScroll(),this.animateStartTimer=requestAnimationFrame((function(){e.setState({isVisible:!0})}))}},{key:"didClose",value:function(){this.resetMountNodeScroll(),this.animateOutTimer=setTimeout(this.animateOutComplete,500)}},{key:"triggerClose",value:function(e){this.props.onClose&&e&&this.props.onClose({closeSource:e})}},{key:"getSharedProps",value:function(){var e=this.props,t=e.animate,n=e.isOpen,r=e.size,i=e.role,o=e.closeable,a=e.unstable_ModalBackdropScroll;return{$animate:t,$isVisible:this.state.isVisible,$isOpen:!!n,$size:r,$role:i,$closeable:!!o,$unstable_ModalBackdropScroll:a,$isFocusVisible:this.state.isFocusVisible}}},{key:"getMountNode",value:function(){var e=this.props.mountNode;return e||document.body}},{key:"getChildren",value:function(){var e=this.props.children;return"function"===typeof e?e():e}},{key:"getRef",value:function(e){return this._refs[e]||(this._refs[e]=r.createRef()),this._refs[e]}},{key:"renderModal",value:function(){var e=this,t=this.props,n=t.overrides,s=void 0===n?{}:n,u=t.closeable,l=t.role,c=t.unstable_ModalBackdropScroll,A=t.autofocus,f=t.autoFocus,h=t.focusLock,p=t.returnFocus,d=s.Root,_=s.Dialog,w=s.DialogContainer,x=s.Backdrop,E=s.Close,O=k((0,a.jb)(d,g),2),T=O[0],P=O[1],M=k((0,a.jb)(x,v),2),F=M[0],I=M[1],L=k((0,a.jb)(w,y),2),R=L[0],D=L[1],Z=k((0,a.jb)(_,m),2),U=Z[0],j=Z[1],N=k((0,a.jb)(E,b),2),z=N[0],Q=N[1],H=this.getSharedProps(),V=this.getChildren();D.ref&&(this._refs.DialogContainer=D.ref);var G=c?{ref:this.getRef("DialogContainer")}:{};return r.createElement(o.R.Consumer,null,(function(t){return r.createElement(i.ZP,{disabled:!h,crossFrame:!1,returnFocus:p,autoFocus:null!==A?A:f},r.createElement(T,S({"data-baseweb":"modal",ref:e.getRef("Root")},H,P),r.createElement(F,S({},c?{}:{ref:e.getRef("DeprecatedBackdrop")},H,I)),r.createElement(R,S({},G,H,D),r.createElement(U,S({tabIndex:-1,"aria-modal":!0,"aria-label":"dialog",role:l,ref:e.getRef("Dialog")},H,j),V,u?r.createElement(z,S({"aria-label":t.modal.close,onClick:e.onCloseClick},H,Q,{onFocus:(0,B.Ah)(Q,e.handleFocus),onBlur:(0,B.Z5)(Q,e.handleBlur)}),r.createElement(C,null)):null))))}))}},{key:"render",value:function(){return this.state.mounted&&(this.props.isOpen||this.state.isVisible)?r.createElement(s.Z,{onEscape:this.onEscape,onDocumentClick:this.onDocumentClick,mountNode:this.props.mountNode},this.renderModal()):null}}],n&&P(t.prototype,n),u&&P(t,u),c}(r.Component);D(Z,"defaultProps",{animate:!0,autofocus:null,autoFocus:!0,focusLock:!0,returnFocus:!0,closeable:!0,name:"dialog",isOpen:!1,overrides:{},role:c.dialog,size:u.default,unstable_ModalBackdropScroll:!1});var U=Z,j=n(4013);function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}var z={BaseButton:{style:function(e){var t,n,r,i=e.$theme,o="rtl"!==i.direction?"marginRight":"marginLeft";return{":not(:last-child)":(t={},n=o,r=i.sizing.scale500,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)}}}},Q=r.forwardRef((function(e,t){return r.createElement(j.Z,N({ref:t},e,{overrides:(0,a.aO)(z,e.overrides)}))}));Q.displayName="ModalButton";var H=Q;function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e){var t=V(r.useState("0"),2),n=t[0],i=t[1],o=r.Children.only(e.children);return r.cloneElement(o,{tabIndex:n,onBlur:function(){return i(null)}})}},2518:function(e,t,n){"use strict";n.r(t),n.d(t,{KIND:function(){return u},Notification:function(){return V}});var r=n(2791),i=n(6004),o=n(5949),a=n(7696),s=n(85),u=Object.freeze({info:"info",positive:"positive",warning:"warning",negative:"negative"}),l=Object.freeze({inline:"inline",toast:"toast"}),c=Object.freeze({topLeft:"topLeft",top:"top",topRight:"topRight",bottomRight:"bottomRight",bottom:"bottom",bottomLeft:"bottomLeft"});function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n){var r,i=t===l.inline;return(r={},h(r,u.info,i?n.colors.notificationInfoBackground:n.colors.toastInfoBackground),h(r,u.positive,i?n.colors.notificationPositiveBackground:n.colors.toastPositiveBackground),h(r,u.warning,i?n.colors.notificationWarningBackground:n.colors.toastWarningBackground),h(r,u.negative,i?n.colors.notificationNegativeBackground:n.colors.toastNegativeBackground),r)[e]}function d(e,t,n){var r,i;return t===l.inline?(i={},h(i,u.info,n.colors.notificationInfoText),h(i,u.positive,n.colors.notificationPositiveText),h(i,u.warning,n.colors.notificationWarningText),h(i,u.negative,n.colors.notificationNegativeText),i)[e]:(r={},h(r,u.info,n.colors.toastInfoText),h(r,u.positive,n.colors.toastPositiveText),h(r,u.warning,n.colors.toastWarningText),h(r,u.negative,n.colors.toastNegativeText),r)[e]}(0,a.zo)("div",(function(e){var t=e.$placement,n=e.$theme;return f({pointerEvents:"none",position:"fixed",right:0,left:0,display:"flex",marginTop:n.sizing.scale300,marginBottom:n.sizing.scale300,marginLeft:n.sizing.scale600,marginRight:n.sizing.scale600},function(e){var t;return(t={},h(t,c.topLeft,{top:0,alignItems:"flex-start",justifyContent:"flex-start",flexDirection:"column"}),h(t,c.top,{top:0,alignItems:"center",justifyContent:"flex-start",flexDirection:"column"}),h(t,c.topRight,{top:0,alignItems:"flex-end",justifyContent:"flex-start",flexDirection:"column"}),h(t,c.bottomRight,{bottom:0,alignItems:"flex-end",justifyContent:"flex-end",flexDirection:"column-reverse"}),h(t,c.bottom,{bottom:0,alignItems:"center",justifyContent:"flex-end",flexDirection:"column-reverse"}),h(t,c.bottomLeft,{bottom:0,alignItems:"flex-start",justifyContent:"flex-end",flexDirection:"column-reverse"}),t)[e]}(t))})).displayName="Root";var g=(0,a.zo)("div",(function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),{}}));g.displayName="InnerContainer";var v=(0,a.zo)("div",(function(e){var t=e.$isVisible,n=e.$kind,r=e.$type,i=e.$theme,o=r===l.inline;return f(f({},i.typography.font300),{},{pointerEvents:"auto",color:d(n,r,i),height:"auto",width:"288px",paddingTop:i.sizing.scale600,paddingRight:i.sizing.scale600,paddingBottom:i.sizing.scale600,paddingLeft:i.sizing.scale600,marginTop:i.sizing.scale300,marginBottom:i.sizing.scale300,backgroundColor:p(n,r,i)||i.colors.accent,borderTopLeftRadius:i.borders.radius400,borderTopRightRadius:i.borders.radius400,borderBottomRightRadius:i.borders.radius400,borderBottomLeftRadius:i.borders.radius400,boxShadow:o?"none":i.lighting.shadow600,opacity:t?1:0,transitionProperty:"all",transitionDuration:i.animation.timing200,transitionTimingFunction:i.animation.easeInOutCurve,display:"flex",justifyContent:"space-between"})}));v.displayName="Body";var y=(0,a.zo)("svg",(function(e){var t=e.$theme,n=e.$size,r=e.$color,i=e.$isFocusVisible;return f(f({},(0,s.u)({$theme:t,$size:n,$color:r})),{},{cursor:"pointer",width:n||"16px",flexShrink:0,outline:i?"3px solid ".concat(t.colors.accent):"none"})}));y.displayName="CloseIconSvg";var m=n(7992),b=n(2422);function _(e){return _="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==_(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(u,e);var t,n,a,s=S(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),P(O(t=s.call(this,e)),"autoHideTimeout",void 0),P(O(t),"animateInTimer",void 0),P(O(t),"animateOutCompleteTimer",void 0),P(O(t),"closeRef",void 0),P(O(t),"previouslyFocusedElement",void 0),P(O(t),"state",{isVisible:!1,isRendered:!0,isFocusVisible:!1}),P(O(t),"handleFocus",(function(e){(0,b.E)(e)&&t.setState({isFocusVisible:!0})})),P(O(t),"handleBlur",(function(e){!1!==t.state.isFocusVisible&&t.setState({isFocusVisible:!1})})),P(O(t),"animateIn",(function(){t.animateInTimer=setTimeout((function(){t.setState({isVisible:!0})}),0)})),P(O(t),"animateOut",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};t.setState({isVisible:!1}),t.animateOutCompleteTimer=setTimeout((function(){t.setState({isRendered:!1}),e()}),600)})),P(O(t),"dismiss",(function(){t.animateOut(t.props.onClose),t.props.autoFocus&&t.previouslyFocusedElement&&t.previouslyFocusedElement.focus()})),P(O(t),"onFocus",(function(e){t.state.isVisible&&(clearTimeout(t.autoHideTimeout),clearTimeout(t.animateOutCompleteTimer),"function"===typeof t.props.onFocus&&t.props.onFocus(e))})),P(O(t),"onMouseEnter",(function(e){t.state.isVisible&&(clearTimeout(t.autoHideTimeout),clearTimeout(t.animateOutCompleteTimer),"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e))})),P(O(t),"onBlur",(function(e){t.startTimeout(),"function"===typeof t.props.onBlur&&t.props.onBlur(e)})),P(O(t),"onMouseLeave",(function(e){t.startTimeout(),"function"===typeof t.props.onMouseLeave&&t.props.onMouseLeave(e)})),t.closeRef=r.createRef(),t.previouslyFocusedElement=null,t}return t=u,n=[{key:"componentDidMount",value:function(){this.animateIn(),this.startTimeout(),"undefined"!==typeof document&&this.props.autoFocus&&this.closeRef&&this.closeRef.current&&this.closeRef.current.focus&&"function"===typeof this.closeRef.current.focus&&(this.previouslyFocusedElement=document.activeElement,this.closeRef.current.focus(),this.setState({isFocusVisible:!0}))}},{key:"componentDidUpdate",value:function(e){this.props.autoHideDuration===e.autoHideDuration&&this.props.__updated===e.__updated||this.startTimeout()}},{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"startTimeout",value:function(){this.props.autoHideDuration&&(this.autoHideTimeout&&clearTimeout(this.autoHideTimeout),this.autoHideTimeout=setTimeout(this.dismiss,this.props.autoHideDuration))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){[this.autoHideTimeout,this.animateInTimer,this.animateOutCompleteTimer].forEach((function(e){e&&clearTimeout(e)}))}))},{key:"getSharedProps",value:function(){var e=this.props,t=e.kind,n=e.notificationType,r=e.closeable,i=this.state;return{$kind:t,$type:n,$closeable:r,$isRendered:i.isRendered,$isVisible:i.isVisible}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.closeable,s=this.state.isRendered,u=this.props.overrides,l=u.Body,c=u.CloseIcon,A=u.InnerContainer,f=x((0,i.jb)(l,v),2),h=f[0],p=f[1],d=x((0,i.jb)(A,g),2),_=d[0],C=d[1],B=x((0,i.jb)(c,y),2),E=B[0],S=B[1],k=(0,i.aO)({Svg:{component:E}},{Svg:c}),O=this.getSharedProps();return s?r.createElement(m.R.Consumer,null,(function(t){return r.createElement(h,w({role:"alert","data-baseweb":e.props["data-baseweb"]||"toast"},O,p,{onBlur:e.onBlur,onFocus:e.onFocus,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}),r.createElement(_,w({},O,C),"function"===typeof n?n({dismiss:e.dismiss}):n),a?r.createElement(o.Z,w({ref:e.closeRef,role:"button",tabIndex:0,$isFocusVisible:e.state.isFocusVisible,onClick:e.dismiss,onKeyPress:function(t){"Enter"===t.key&&e.dismiss()},title:t.toast.close},O,S,{onFocus:(0,b.Ah)(S,e.handleFocus),onBlur:(0,b.Z5)(S,e.handleBlur),overrides:k})):null)})):null}}],n&&B(t.prototype,n),a&&B(t,a),u}(r.Component);P(M,"defaultProps",{autoFocus:!1,autoHideDuration:0,closeable:!0,kind:u.info,notificationType:l.toast,onClose:function(){},onBlur:function(){},onFocus:function(){},onMouseEnter:function(){},onMouseLeave:function(){},overrides:{}});var F=M;function I(e){return I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var i=N(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==I(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}var z,Q,H,V=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(a,e);var t,n,i,o=U(a);function a(){return R(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return r.createElement(F,L({"data-baseweb":"notification"},this.props))}}])&&D(t.prototype,n),i&&D(t,i),a}(r.Component);z=V,Q="defaultProps",H={notificationType:l.inline,closeable:!1},Q in z?Object.defineProperty(z,Q,{value:H,enumerable:!0,configurable:!0,writable:!0}):z[Q]=H},4249:function(e,t,n){"use strict";n.r(t),n.d(t,{Pagination:function(){return K},SIZE:function(){return r.NO},STATE_CHANGE_TYPE:function(){return q},StatefulContainer:function(){return se},StatefulPagination:function(){return ce},StyledDropdownContainer:function(){return y},StyledMaxLabel:function(){return v},StyledRoot:function(){return g}});var r=n(8316),i=n(2791),o=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||o(r)&&o(i)))return!1;var r,i;return!0}var s=function(e,t){var n;void 0===t&&(t=a);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}},u=n(7992),l=n(3370),c=n(692),A=n(4013),f=n(2596),h=n(7696);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(0,h.zo)("div",(function(e){var t=e.$theme;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({display:"flex",alignItems:"center",color:t.colors.backgroundInversePrimary},t.typography.font350)}));g.displayName="StyledRoot";var v=(0,h.zo)("span",(function(e){var t,n=e.$theme,r="rtl"===n.direction?"marginRight":"marginLeft",i="rtl"===n.direction?"marginLeft":"marginRight";return d(t={},r,n.sizing.scale300),d(t,i,n.sizing.scale600),t}));v.displayName="StyledMaxLabel";var y=(0,h.zo)("div",(function(e){var t,n=e.$theme,r=e.$isFocusVisible,i="rtl"===n.direction?"marginRight":"marginLeft",o="rtl"===n.direction?"marginLeft":"marginRight";return d(t={position:"relative",outline:r?"3px solid ".concat(n.colors.accent):"none"},i,n.sizing.scale600),d(t,o,n.sizing.scale300),t}));y.displayName="StyledDropdownContainer";var m=n(6004),b=n(7169);function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){var n=x((0,h.hQ)(),2)[1],r=e.title,o=void 0===r?"Left":r,a=e.size,s=e.color,u=e.overrides,l=void 0===u?{}:u,c=w(e,["title","size","color","overrides"]),A=(0,m.vt)({component:n.icons&&n.icons.ChevronLeft?n.icons.ChevronLeft:null},l&&l.Svg?(0,m.hq)(l.Svg):{});return i.createElement(b.Z,_({viewBox:"0 0 24 24",ref:t,title:o,size:a,color:s,overrides:{Svg:A}},c),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"}))}var E=i.forwardRef(B);function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function k(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){var n=O((0,h.hQ)(),2)[1],r=e.title,o=void 0===r?"Right":r,a=e.size,s=e.color,u=e.overrides,l=void 0===u?{}:u,c=k(e,["title","size","color","overrides"]),A=(0,m.vt)({component:n.icons&&n.icons.ChevronRight?n.icons.ChevronRight:null},l&&l.Svg?(0,m.hq)(l.Svg):{});return i.createElement(b.Z,S({viewBox:"0 0 24 24",ref:t,title:o,size:a,color:s,overrides:{Svg:A}},c),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.29289 7.29289C8.90237 7.68342 8.90237 8.31658 9.29289 8.70711L12.5858 12L9.29289 15.2929C8.90237 15.6834 8.90237 16.3166 9.29289 16.7071C9.68342 17.0976 10.3166 17.0976 10.7071 16.7071L14.7071 12.7071C14.8946 12.5196 15 12.2652 15 12C15 11.7348 14.8946 11.4804 14.7071 11.2929L10.7071 7.29289C10.3166 6.90237 9.68342 6.90237 9.29289 7.29289Z"}))}var M=i.forwardRef(P),F=n(2422);function I(e){return I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var i=G(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==I(t)&&"function"!==typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(a,e);var t,n,r,o=Q(a);function a(){var e;j(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return W(V(e=o.call.apply(o,[this].concat(n))),"state",{isFocusVisible:!1}),W(V(e),"handleFocus",(function(t){(0,F.E)(t)&&e.setState({isFocusVisible:!0})})),W(V(e),"handleBlur",(function(t){!1!==e.state.isFocusVisible&&e.setState({isFocusVisible:!1})})),W(V(e),"getMenuOptions",s((function(e){for(var t=[],n=1;n<=e;n++)t.push({label:n});return t}))),W(V(e),"onMenuItemSelect",(function(t){var n=t.value[0],r=e.props,i=r.onPageChange,o=r.currentPage,a=n.label;a!==o&&i&&i({nextPage:a,prevPage:o})})),W(V(e),"onPrevClick",(function(t){var n=e.props,r=n.currentPage,i=n.onPageChange,o=n.onPrevClick;r>1&&(i&&i({nextPage:r-1,prevPage:r}),o&&o({event:t}))})),W(V(e),"onNextClick",(function(t){var n=e.props,r=n.currentPage,i=n.numPages,o=n.onPageChange,a=n.onNextClick;r<i&&(o&&o({nextPage:r+1,prevPage:r}),a&&a({event:t}))})),W(V(e),"constructAriaWayfinderLabel",(function(t,n){var r=e.props,i=r.currentPage,o=r.numPages,a=r.labels;return n+" "+i+" "+"".concat(a&&a.preposition?a.preposition:t.pagination.preposition)+" "+o})),e}return t=a,n=[{key:"render",value:function(){var e=this,t=this.props,n=t.overrides,r=void 0===n?{}:n,o=t.currentPage,a=t.labels,s=t.numPages,h=t.size,p=Z((0,m.jb)(r.Root,g),2),d=p[0],b=p[1],_=Z((0,m.jb)(r.MaxLabel,v),2),w=_[0],x=_[1],C=Z((0,m.jb)(r.DropdownContainer,y),2),B=C[0],S=C[1],k=Z((0,m.jb)(r.Select,c.Z),2),O=k[0],T=k[1],P=this.getMenuOptions(s);return i.createElement(l.N.Consumer,null,(function(t){return i.createElement(u.R.Consumer,null,(function(n){return i.createElement(d,L({"data-baseweb":"pagination"},b),i.createElement(A.Z,{"aria-label":e.constructAriaWayfinderLabel(n,"previous page. current page"),disabled:o<=1,onClick:e.onPrevClick,startEnhancer:function(){return"rtl"===t.direction?i.createElement(M,{title:"",size:24}):i.createElement(E,{title:"",size:24})},kind:f.TO.tertiary,overrides:{BaseButton:r.PrevButton},size:h},a&&a.prevButton?a.prevButton:n.pagination.prev),i.createElement(B,L({$isFocusVisible:e.state.isFocusVisible},S,{onFocus:(0,F.Ah)(S,e.handleFocus),onBlur:(0,F.Z5)(S,e.handleBlur)}),i.createElement(O,L({"aria-label":e.constructAriaWayfinderLabel(n,"page"),options:P,labelKey:"label",valueKey:"label",onChange:e.onMenuItemSelect,searchable:!1,clearable:!1,value:[{label:o}],maxDropdownHeight:"200px",size:h,overrides:{ControlContainer:{style:function(e){var t=e.$theme,n=e.$disabled,r=e.$isOpen,i=e.$error;return{borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:"transparent",borderBottomColor:"transparent",boxShadow:"none",backgroundColor:n?t.colors.buttonDisabledFill:r?t.colors.buttonTertiaryHover:i?t.colors.negative50:t.colors.buttonTertiaryFill,":hover":{backgroundColor:t.colors.buttonTertiaryHover}}}},InputContainer:{style:{marginLeft:0}},ValueContainer:{style:{flexBasis:"auto"}},SingleValue:{style:function(e){var t=e.$theme;return D(D({position:"relative",paddingTop:"0",paddingBottom:"0",paddingLeft:t.sizing.scale200,paddingRight:t.sizing.scale500,color:t.colors.buttonTertiaryText},t.typography.font350),{},{lineHeight:"unset"})}},SelectArrow:{style:function(e){return{width:"24px",height:"24px",color:e.$theme.colors.buttonTertiaryText}}}}},T))),i.createElement(w,L({},x,{"aria-hidden":!0}),"".concat(a&&a.preposition?a.preposition:n.pagination.preposition||""," ").concat(s)),i.createElement(A.Z,{"aria-label":e.constructAriaWayfinderLabel(n,"next page. current page"),disabled:o>=s,onClick:e.onNextClick,endEnhancer:function(){return"rtl"===t.direction?i.createElement(E,{title:"",size:24}):i.createElement(M,{title:"",size:24})},kind:f.TO.tertiary,overrides:{BaseButton:r.NextButton},size:h},a&&a.nextButton?a.nextButton:n.pagination.next))}))}))}}],n&&N(t.prototype,n),r&&N(t,r),a}(i.PureComponent);W(K,"defaultProps",{labels:{},overrides:{}});var q={changePage:"changePage"};function X(e,t,n){return Math.min(Math.max(e,t),n)}function Y(e){return Y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ee(e,t)}function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var i=ie(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(e,t){return!t||"object"!==Y(t)&&"function"!==typeof t?re(e):t}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae={currentPage:1},se=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(o,e);var t,n,r,i=te(o);function o(){var e;J(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oe(re(e=i.call.apply(i,[this].concat(n))),"state",e.props.initialState||ae),oe(re(e),"onPageChange",(function(t){var n=t.nextPage,r=e.props,i=r.numPages,o=r.onPageChange,a=e.state.currentPage,s=X(n,1,i);s!==a&&(o&&o({nextPage:s,prevPage:a}),e.internalSetState(q.changePage,{currentPage:s}))})),e}return t=o,(n=[{key:"internalSetState",value:function(e,t){var n=this.props.stateReducer;n?this.setState(n(e,t,this.state)):this.setState(t)}},{key:"render",value:function(){var e=this.state.currentPage;return(0,this.props.children)({currentPage:e,onPageChange:this.onPageChange})}}])&&$(t.prototype,n),r&&$(t,r),o}(i.Component);function ue(){return ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}function le(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ce(e){var t=e.numPages,n=e.initialState,r=e.stateReducer,o=e.onPageChange,a=le(e,["numPages","initialState","stateReducer","onPageChange"]);return i.createElement(se,{numPages:t,initialState:n,stateReducer:r,onPageChange:o},(function(e){return i.createElement(K,ue({numPages:t},e,a))}))}oe(se,"defaultProps",{initialState:ae,stateReducer:function(e,t){return t}}),ce.defaultProps={initialState:{currentPage:1},stateReducer:function(e,t){return t},overrides:{}}},206:function(e,t,n){"use strict";n.d(t,{AF:function(){return s},Pd:function(){return l},SI:function(){return a},YM:function(){return u},gu:function(){return i},jt:function(){return c},mb:function(){return A},oL:function(){return o},r4:function(){return r}});var r={auto:"auto",topLeft:"topLeft",top:"top",topRight:"topRight",rightTop:"rightTop",right:"right",rightBottom:"rightBottom",bottomRight:"bottomRight",bottom:"bottom",bottomLeft:"bottomLeft",leftBottom:"leftBottom",left:"left",leftTop:"leftTop"},i={click:"click",hover:"hover"},o={open:"open",close:"close"},a={none:"none",menu:"menu",tooltip:"tooltip"},s=8,u=6,l=0,c=20,A=Math.ceil(Math.sqrt(Math.pow(2*u,2)/2))},9133:function(e,t,n){"use strict";n.r(t),n.d(t,{ACCESSIBILITY_TYPE:function(){return a.SI},ANIMATE_IN_TIME:function(){return a.jt},ANIMATE_OUT_TIME:function(){return a.Pd},PLACEMENT:function(){return a.r4},Popover:function(){return o.Z},STATE_CHANGE_TYPE:function(){return a.oL},StatefulContainer:function(){return i.Z},StatefulPopover:function(){return r.Z},StyledArrow:function(){return s.Eh},StyledBody:function(){return s.uT},StyledInner:function(){return s.Nh},StyledPadding:function(){return s.Zh},TRIGGER_TYPE:function(){return a.gu}});var r=n(3138),i=n(1353),o=n(9344),a=n(206),s=n(8102)},9344:function(e,t,n){"use strict";n.d(t,{Z:function(){return nt}});var r=n(2791),i=n(1601),o=n(4301),a=n(27),s=n(3378),u=n(5592);function l(e){var t,n=e.disabled,i=e.className,l=e.children,c=r.useRef(null);return t=n?void 0:c,r.useEffect((function(){var e=!0;return u.zC.useMedium((function(n){var r=t&&t.current;e&&r&&(n.focusInside(r)||n.moveFocusInside(r,null))})),function(){e=!1}}),[t]),r.createElement("div",(0,o.Z)({},(0,s.X)(a.GV,!n),{ref:c,className:i}),l)}l.propTypes={},l.defaultProps={disabled:!1,className:void 0};var c=l,A=n(6004),f=n(206),h=n(1453),p="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,d=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(p&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var g=p&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),d))}};function v(e){return e&&"[object Function]"==={}.toString.call(e)}function y(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function m(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function b(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=y(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:b(m(e))}function _(e){return e&&e.referenceNode?e.referenceNode:e}var w=p&&!(!window.MSInputMethodContext||!document.documentMode),x=p&&/MSIE 10/.test(navigator.userAgent);function C(e){return 11===e?w:10===e?x:w||x}function B(e){if(!e)return document.documentElement;for(var t=C(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===y(n,"position")?B(n):n:e?e.ownerDocument.documentElement:document.documentElement}function E(e){return null!==e.parentNode?E(e.parentNode):e}function S(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||B(e.firstElementChild)===e)}(a)?a:B(a);var s=E(e);return s.host?S(s.host,t):S(e,E(t).host)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||i;return o[n]}return e[n]}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=k(t,"top"),i=k(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}function T(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function P(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],C(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function M(e){var t=e.body,n=e.documentElement,r=C(10)&&getComputedStyle(n);return{height:P("Height",t,n,r),width:P("Width",t,n,r)}}var F=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),L=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function D(e){return R({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Z(e){var t={};try{if(C(10)){t=e.getBoundingClientRect();var n=k(e,"top"),r=k(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(A){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?M(e.ownerDocument):{},a=o.width||e.clientWidth||i.width,s=o.height||e.clientHeight||i.height,u=e.offsetWidth-a,l=e.offsetHeight-s;if(u||l){var c=y(e);u-=T(c,"x"),l-=T(c,"y"),i.width-=u,i.height-=l}return D(i)}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=C(10),i="HTML"===t.nodeName,o=Z(e),a=Z(t),s=b(e),u=y(t),l=parseFloat(u.borderTopWidth),c=parseFloat(u.borderLeftWidth);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var A=D({top:o.top-a.top-l,left:o.left-a.left-c,width:o.width,height:o.height});if(A.marginTop=0,A.marginLeft=0,!r&&i){var f=parseFloat(u.marginTop),h=parseFloat(u.marginLeft);A.top-=l-f,A.bottom-=l-f,A.left-=c-h,A.right-=c-h,A.marginTop=f,A.marginLeft=h}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(A=O(A,t)),A}function j(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=U(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:k(n),s=t?0:k(n,"left"),u={top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o};return D(u)}function N(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===y(e,"position"))return!0;var n=m(e);return!!n&&N(n)}function z(e){if(!e||!e.parentElement||C())return document.documentElement;for(var t=e.parentElement;t&&"none"===y(t,"transform");)t=t.parentElement;return t||document.documentElement}function Q(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?z(e):S(e,_(t));if("viewport"===r)o=j(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=b(m(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var u=U(s,a,i);if("HTML"!==s.nodeName||N(a))o=u;else{var l=M(e.ownerDocument),c=l.height,A=l.width;o.top+=u.top-u.marginTop,o.bottom=c+u.top,o.left+=u.left-u.marginLeft,o.right=A+u.left}}var f="number"===typeof(n=n||0);return o.left+=f?n:n.left||0,o.top+=f?n:n.top||0,o.right-=f?n:n.right||0,o.bottom-=f?n:n.bottom||0,o}function H(e){return e.width*e.height}function V(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=Q(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map((function(e){return R({key:e},s[e],{area:H(s[e])})})).sort((function(e,t){return t.area-e.area})),l=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),c=l.length>0?l[0].key:u[0].key,A=e.split("-")[1];return c+(A?"-"+A:"")}function G(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?z(t):S(t,_(n));return U(n,i,r)}function W(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function K(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function q(e,t,n){n=n.split("-")[0];var r=W(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",l=o?"width":"height";return i[a]=t[a]+t[u]/2-r[u]/2,i[s]=n===s?t[s]-r[l]:t[K(s)],i}function X(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Y(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=X(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&v(n)&&(t.offsets.popper=D(t.offsets.popper),t.offsets.reference=D(t.offsets.reference),t=n(t,e))})),t}function J(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=G(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=V(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=q(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Y(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function $(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function ee(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if("undefined"!==typeof document.body.style[o])return o}return null}function te(){return this.state.isDestroyed=!0,$(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ee("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function ne(e){var t=e.ownerDocument;return t?t.defaultView:window}function re(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||re(b(o.parentNode),t,n,r),r.push(o)}function ie(e,t,n,r){n.updateBound=r,ne(e).addEventListener("resize",n.updateBound,{passive:!0});var i=b(e);return re(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function oe(){this.state.eventsEnabled||(this.state=ie(this.reference,this.options,this.state,this.scheduleUpdate))}function ae(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,ne(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function se(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function ue(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&se(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var le=p&&/Firefox/i.test(navigator.userAgent);function ce(e,t,n){var r=X(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var Ae=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],fe=Ae.slice(3);function he(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=fe.indexOf(e),r=fe.slice(n+1).concat(fe.slice(0,n));return t?r.reverse():r}var pe="flip",de="clockwise",ge="counterclockwise";function ve(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(X(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return l=l.map((function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){return D("%p"===a?n:r)[t]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,i,t,n)}))})),l.forEach((function(e,t){e.forEach((function(n,r){se(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var ye={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",l=s?"width":"height",c={start:L({},u,o[u]),end:L({},u,o[u]+o[l]-a[l])};e.offsets.popper=R({},a,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],u=void 0;return u=se(+n)?[+n,0]:ve(n,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||B(e.instance.popper);e.instance.reference===n&&(n=B(n));var r=ee("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=Q(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=u;var l=t.priority,c=e.offsets.popper,A={primary:function(e){var n=c[e];return c[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(c[e],u[e])),L({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(c[n],u[e]-("right"===e?c.width:c.height))),L({},n,r)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=R({},c,A[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",l=a?"width":"height";return n[s]<o(r[u])&&(e.offsets.popper[u]=o(r[u])-n[l]),n[u]>o(r[s])&&(e.offsets.popper[u]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!ce(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,u=-1!==["left","right"].indexOf(i),l=u?"height":"width",c=u?"Top":"Left",A=c.toLowerCase(),f=u?"left":"top",h=u?"bottom":"right",p=W(r)[l];s[h]-p<a[A]&&(e.offsets.popper[A]-=a[A]-(s[h]-p)),s[A]+p>a[h]&&(e.offsets.popper[A]+=s[A]+p-a[h]),e.offsets.popper=D(e.offsets.popper);var d=s[A]+s[l]/2-p/2,g=y(e.instance.popper),v=parseFloat(g["margin"+c]),m=parseFloat(g["border"+c+"Width"]),b=d-e.offsets.popper[A]-v-m;return b=Math.max(Math.min(a[l]-p,b),0),e.arrowElement=r,e.offsets.arrow=(L(n={},A,Math.round(b)),L(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if($(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=Q(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=K(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case pe:a=[r,i];break;case de:a=he(r);break;case ge:a=he(r,!0);break;default:a=t.behavior}return a.forEach((function(s,u){if(r!==s||a.length===u+1)return e;r=e.placement.split("-")[0],i=K(r);var l=e.offsets.popper,c=e.offsets.reference,A=Math.floor,f="left"===r&&A(l.right)>A(c.left)||"right"===r&&A(l.left)<A(c.right)||"top"===r&&A(l.bottom)>A(c.top)||"bottom"===r&&A(l.top)<A(c.bottom),h=A(l.left)<A(n.left),p=A(l.right)>A(n.right),d=A(l.top)<A(n.top),g=A(l.bottom)>A(n.bottom),v="left"===r&&h||"right"===r&&p||"top"===r&&d||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),m=!!t.flipVariations&&(y&&"start"===o&&h||y&&"end"===o&&p||!y&&"start"===o&&d||!y&&"end"===o&&g),b=!!t.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&h||!y&&"start"===o&&g||!y&&"end"===o&&d),_=m||b;(f||v||_)&&(e.flipped=!0,(f||v)&&(r=a[u+1]),_&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=R({},e.offsets.popper,q(e.instance.popper,e.offsets.reference,e.placement)),e=Y(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=K(t),e.offsets.popper=D(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!ce(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=X(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=X(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=B(e.instance.popper),u=Z(s),l={position:i.position},c=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},u=o(i.width),l=o(r.width),c=-1!==["left","right"].indexOf(e.placement),A=-1!==e.placement.indexOf("-"),f=t?c||A||u%2===l%2?o:a:s,h=t?o:s;return{left:f(u%2===1&&l%2===1&&!A&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!le),A="bottom"===n?"top":"bottom",f="right"===r?"left":"right",h=ee("transform"),p=void 0,d=void 0;if(d="bottom"===A?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-u.height+c.bottom:c.top,p="right"===f?"HTML"===s.nodeName?-s.clientWidth+c.right:-u.width+c.right:c.left,a&&h)l[h]="translate3d("+p+"px, "+d+"px, 0)",l[A]=0,l[f]=0,l.willChange="transform";else{var g="bottom"===A?-1:1,v="right"===f?-1:1;l[A]=d*g,l[f]=p*v,l.willChange=A+", "+f}var y={"x-placement":e.placement};return e.attributes=R({},y,e.attributes),e.styles=R({},l,e.styles),e.arrowStyles=R({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return ue(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&ue(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=G(i,t,e,n.positionFixed),a=V(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),ue(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},me={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ye},be=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};F(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=g(this.update.bind(this)),this.options=R({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(R({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=R({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return R({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&v(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return I(e,[{key:"update",value:function(){return J.call(this)}},{key:"destroy",value:function(){return te.call(this)}},{key:"enableEventListeners",value:function(){return oe.call(this)}},{key:"disableEventListeners",value:function(){return ae.call(this)}}]),e}();be.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,be.placements=Ae,be.Defaults=me;var _e=be;function we(e){return e.replace(/(Top|Left)$/,"-start").replace(/(Right|Bottom)$/,"-end")}function xe(e){return{top:Math.floor(e.top||0),left:Math.floor(e.left||0)}}function Ce(e){return Ce="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Te(e,t)}function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var i=Ie(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(e,t){return!t||"object"!==Ce(t)&&"function"!==typeof t?Fe(e):t}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ie(e)}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(o,e);var t,n,r,i=Pe(o);function o(){var e;ke(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Le(Fe(e=i.call.apply(i,[this].concat(n))),"popper",void 0),Le(Fe(e),"popperHeight",0),Le(Fe(e),"popperWidth",0),Le(Fe(e),"anchorHeight",0),Le(Fe(e),"anchorWidth",0),Le(Fe(e),"state",{isMounted:!1}),Le(Fe(e),"onPopperUpdate",(function(t){var n={popper:xe(t.offsets.popper),arrow:t.offsets.arrow?xe(t.offsets.arrow):{top:0,left:0}};e.props.onPopperUpdate(n,t)})),e}return t=o,n=[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"componentDidUpdate",value:function(e,t){if(this.props.anchorRef){var n=this.props.anchorRef.getBoundingClientRect(),r=n.height,i=n.width;this.anchorHeight===r&&this.anchorWidth===i||(this.anchorHeight=r,this.anchorWidth=i,this.popper&&this.popper.scheduleUpdate())}if(this.props.popperRef){var o=this.props.popperRef.getBoundingClientRect(),a=o.height,s=o.width;this.popperHeight===a&&this.popperWidth===s||(this.popperHeight=a,this.popperWidth=s,this.popper&&this.popper.scheduleUpdate()),this.state.isMounted!==t.isMounted&&this.props.anchorRef&&this.initializePopper()}}},{key:"componentWillUnmount",value:function(){this.destroyPopover()}},{key:"initializePopper",value:function(){var e=this.props,t=e.placement,n=e.popperOptions,r=n.modifiers,i=Se(n,["modifiers"]);this.props.anchorRef&&this.props.popperRef&&(this.popper=new _e(this.props.anchorRef,this.props.popperRef,Ee({placement:we(t),modifiers:Ee({arrow:{element:this.props.arrowRef,enabled:!!this.props.arrowRef},computeStyle:{gpuAcceleration:!1},applyStyle:{enabled:!1},applyReactStyle:{enabled:!0,fn:this.onPopperUpdate,order:900},preventOverflow:{enabled:!0}},r)},i)))}},{key:"destroyPopover",value:function(){this.popper&&(this.popper.destroy(),delete this.popper)}},{key:"render",value:function(){return this.props.children||null}}],n&&Oe(t.prototype,n),r&&Oe(t,r),o}(r.Component);Le(Re,"defaultProps",{anchorRef:null,onPopperUpdate:function(){return null},placement:"auto",popperRef:null,popperOptions:{}});var De=Re,Ze=n(8102),Ue=n(2499),je={accessibilityType:f.SI.menu,focusLock:!1,autoFocus:!0,returnFocus:!0,ignoreBoundary:!1,overrides:{},onMouseEnterDelay:200,onMouseLeaveDelay:200,placement:f.r4.auto,showArrow:!1,triggerType:f.gu.click,renderAll:!1},Ne=n(679);function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(){return He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He.apply(this,arguments)}function Ve(e){return Ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ke(e,t)}function qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Je(e);if(t){var i=Je(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){return!t||"object"!==Ve(t)&&"function"!==typeof t?Ye(e):t}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e){return Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Je(e)}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(s,e);var t,n,o,a=qe(s);function s(){var e;Ge(this,s);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return $e(Ye(e=a.call.apply(a,[this].concat(n))),"animateInTimer",void 0),$e(Ye(e),"animateOutTimer",void 0),$e(Ye(e),"animateOutCompleteTimer",void 0),$e(Ye(e),"onMouseEnterTimer",void 0),$e(Ye(e),"onMouseLeaveTimer",void 0),$e(Ye(e),"anchorRef",r.createRef()),$e(Ye(e),"popperRef",r.createRef()),$e(Ye(e),"arrowRef",r.createRef()),$e(Ye(e),"state",e.getDefaultState(e.props)),$e(Ye(e),"animateIn",(function(){e.props.isOpen&&e.setState({isAnimating:!0})})),$e(Ye(e),"animateOut",(function(){e.props.isOpen||(e.setState({isAnimating:!0}),e.animateOutCompleteTimer=setTimeout((function(){e.setState({isAnimating:!1,placement:e.props.placement})}),e.props.animateOutTime||f.Pd))})),$e(Ye(e),"onAnchorClick",(function(t){e.props.onClick&&e.props.onClick(t)})),$e(Ye(e),"onAnchorMouseEnter",(function(t){e.onMouseLeaveTimer&&clearTimeout(e.onMouseLeaveTimer),e.triggerOnMouseEnterWithDelay(t)})),$e(Ye(e),"onAnchorMouseLeave",(function(t){e.onMouseEnterTimer&&clearTimeout(e.onMouseEnterTimer),e.triggerOnMouseLeaveWithDelay(t)})),$e(Ye(e),"onPopoverMouseEnter",(function(){e.onMouseLeaveTimer&&clearTimeout(e.onMouseLeaveTimer)})),$e(Ye(e),"onPopoverMouseLeave",(function(t){e.triggerOnMouseLeaveWithDelay(t)})),$e(Ye(e),"onPopperUpdate",(function(t,n){var r=(0,Ue.PR)(n.placement)||f.r4.top;return e.setState({arrowOffset:t.arrow,popoverOffset:t.popper,placement:r}),e.animateInTimer=setTimeout(e.animateIn,f.jt),n})),$e(Ye(e),"triggerOnMouseLeave",(function(t){e.props.onMouseLeave&&e.props.onMouseLeave(t)})),$e(Ye(e),"triggerOnMouseEnter",(function(t){e.props.onMouseEnter&&e.props.onMouseEnter(t)})),$e(Ye(e),"onDocumentClick",(function(t){var n=t.composedPath?t.composedPath()[0]:t.target,r=e.popperRef.current,i=e.anchorRef.current;!r||r===n||n instanceof Node&&r.contains(n)||!i||i===n||n instanceof Node&&r.contains(n)||e.props.onClickOutside&&e.props.onClickOutside(t)})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"componentDidUpdate",value:function(e,t){this.init(e,t),this.props.autoFocus&&!this.state.autoFocusAfterPositioning&&null!==this.popperRef.current&&this.popperRef.current.getBoundingClientRect().top>0&&this.setState({autoFocusAfterPositioning:!0})}},{key:"init",value:function(e,t){if(this.props.isOpen!==e.isOpen||this.state.isMounted!==t.isMounted||this.state.isLayerMounted!==t.isLayerMounted){if(this.props.isOpen&&this.state.isLayerMounted)return void this.clearTimers();if(!this.props.isOpen&&e.isOpen)return void(this.animateOutTimer=setTimeout(this.animateOut,20))}}},{key:"componentWillUnmount",value:function(){this.clearTimers()}},{key:"getDefaultState",value:function(e){return{isAnimating:!1,arrowOffset:{left:0,top:0},popoverOffset:{left:0,top:0},placement:e.placement,isMounted:!1,isLayerMounted:!1,autoFocusAfterPositioning:!1}}},{key:"clearTimers",value:function(){[this.animateInTimer,this.animateOutTimer,this.animateOutCompleteTimer,this.onMouseEnterTimer,this.onMouseLeaveTimer].forEach((function(e){e&&clearTimeout(e)}))}},{key:"triggerOnMouseLeaveWithDelay",value:function(e){var t=this,n=this.props.onMouseLeaveDelay;n?this.onMouseLeaveTimer=setTimeout((function(){return t.triggerOnMouseLeave(e)}),n):this.triggerOnMouseLeave(e)}},{key:"triggerOnMouseEnterWithDelay",value:function(e){var t=this,n=this.props.onMouseEnterDelay;n?this.onMouseEnterTimer=setTimeout((function(){return t.triggerOnMouseEnter(e)}),n):this.triggerOnMouseEnter(e)}},{key:"isClickTrigger",value:function(){return this.props.triggerType===f.gu.click}},{key:"isHoverTrigger",value:function(){return this.props.triggerType===f.gu.hover}},{key:"isAccessibilityTypeMenu",value:function(){return this.props.accessibilityType===f.SI.menu}},{key:"isAccessibilityTypeTooltip",value:function(){return this.props.accessibilityType===f.SI.tooltip}},{key:"getAnchorIdAttr",value:function(){var e=this.getPopoverIdAttr();return e?"".concat(e,"__anchor"):null}},{key:"getPopoverIdAttr",value:function(){return this.props.id||null}},{key:"getAnchorProps",value:function(){var e=this.props.isOpen,t={"aria-haspopup":"true","aria-expanded":e?"true":"false",key:"popover-anchor",ref:this.anchorRef},n=this.getPopoverIdAttr();return this.isAccessibilityTypeMenu()?t[this.isClickTrigger()?"aria-controls":"aria-owns"]=e?n:null:this.isAccessibilityTypeTooltip()&&(t.id=this.getAnchorIdAttr(),t["aria-describedby"]=e?n:null),this.isHoverTrigger()?(t.onMouseEnter=this.onAnchorMouseEnter,t.onMouseLeave=this.onAnchorMouseLeave,t.onBlur=this.props.onBlur,t.onFocus=this.props.onFocus):t.onClick=this.onAnchorClick,t}},{key:"getPopoverBodyProps",value:function(){var e={},t=this.getPopoverIdAttr();return this.isAccessibilityTypeMenu()?e.id=t:this.isAccessibilityTypeTooltip()&&(e.id=t,e.role="tooltip"),this.isHoverTrigger()&&(e.onMouseEnter=this.onPopoverMouseEnter,e.onMouseLeave=this.onPopoverMouseLeave),e}},{key:"getSharedProps",value:function(){var e=this.props,t=e.isOpen,n=e.showArrow,r=e.popoverMargin,i=void 0===r?f.AF:r,o=this.state,a=o.isAnimating;return{$showArrow:!!n,$arrowOffset:o.arrowOffset,$popoverOffset:o.popoverOffset,$placement:o.placement,$isAnimating:a,$isOpen:t,$popoverMargin:i,$isHoverTrigger:this.isHoverTrigger()}}},{key:"getAnchorFromChildren",value:function(){var e=this.props.children,t=r.Children.toArray(e);return 1!==t.length&&console.error("[baseui] Exactly 1 child must be passed to Popover/Tooltip, found ".concat(t.length," children")),t[0]}},{key:"renderAnchor",value:function(){var e=this.getAnchorFromChildren();if(!e)return null;var t=r.isValidElement(e),n=this.getAnchorProps();return"object"===Ve(e)&&t?r.cloneElement(e,n):r.createElement("span",n,e)}},{key:"renderPopover",value:function(e){var t=this.props,n=t.showArrow,i=t.overrides,o=void 0===i?{}:i,a=o.Arrow,s=o.Body,u=o.Inner,l=(0,A.XG)(a)||Ze.Eh,c=(0,A.XG)(s)||Ze.uT,f=(0,A.XG)(u)||Ze.Nh,h=this.getSharedProps(),p=this.getPopoverBodyProps();return r.createElement(c,He({key:"popover-body",ref:this.popperRef,"data-baseweb":this.props["data-baseweb"]||"popover"},p,h,(0,A.ch)(s)),n?r.createElement(l,He({key:"popover-arrow",ref:this.arrowRef},h,(0,A.ch)(a))):null,r.createElement(f,He({},h,(0,A.ch)(u)),e))}},{key:"renderContent",value:function(){var e=this.props.content;return"function"===typeof e?e():e}},{key:"render",value:function(){var e=this,t=this.state.isMounted&&this.props.isOpen,n=[this.renderAnchor()],o=t||this.props.renderAll?this.renderContent():null,a={modifiers:{preventOverflow:{enabled:!this.props.ignoreBoundary,padding:0}}};return o&&(t?n.push(r.createElement(h.Z,{key:"new-layer",mountNode:this.props.mountNode,onEscape:this.props.onEsc,onDocumentClick:this.isHoverTrigger()?void 0:this.onDocumentClick,isHoverLayer:this.isHoverTrigger(),onMount:function(){return e.setState({isLayerMounted:!0})},onUnmount:function(){return e.setState({isLayerMounted:!1})}},r.createElement(De,{anchorRef:this.anchorRef.current,arrowRef:this.arrowRef.current,popperRef:this.popperRef.current,popperOptions:Qe(Qe({},a),this.props.popperOptions),onPopperUpdate:this.onPopperUpdate,placement:this.state.placement},this.props.focusLock?r.createElement(i.ZP,{disabled:!this.props.focusLock,noFocusGuards:!1,returnFocus:!this.isHoverTrigger()&&this.props.returnFocus,autoFocus:this.state.autoFocusAfterPositioning,crossFrame:!1,focusOptions:this.props.focusOptions},this.renderPopover(o)):r.createElement(c,{disabled:!this.props.autoFocus||!this.state.autoFocusAfterPositioning},this.renderPopover(o))))):n.push(r.createElement(Ze._G,{key:"hidden-layer"},o))),n}}])&&We(t.prototype,n),o&&We(t,o),s}(r.Component);$e(et,"defaultProps",je);var tt=function(e){var t=e.innerRef,n=(0,Ne.D)();return r.createElement(et,He({id:e.id||n,ref:t},e))};tt.defaultProps=je;var nt=tt},1353:function(e,t,n){"use strict";var r=n(2791),i=n(206);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r,o=A(a);function a(){var e;u(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(h(e=o.call.apply(o,[this].concat(n))),"state",s({isOpen:!1},e.props.initialState)),d(h(e),"onBlur",(function(t){e.props.onBlur&&e.props.onBlur(t),e.props.focusLock||e.props.autoFocus||e.close()})),d(h(e),"onClick",(function(t){e.props.onClick&&e.props.onClick(t),e.state.isOpen?e.close():e.open()})),d(h(e),"onClickOutside",(function(){e.close()})),d(h(e),"onEsc",(function(){e.close()})),d(h(e),"onFocus",(function(t){e.props.onFocus&&e.props.onFocus(t),e.open()})),d(h(e),"onMouseEnter",(function(t){e.props.onMouseEnter&&e.props.onMouseEnter(t),e.open()})),d(h(e),"onMouseLeave",(function(t){e.props.onMouseLeave&&e.props.onMouseLeave(t),e.close()})),d(h(e),"onContentClose",(function(){e.close()})),d(h(e),"renderContent",(function(){var t=e.props.content;return"function"===typeof t?t({close:e.onContentClose}):t})),e}return t=a,(n=[{key:"open",value:function(){this.internalSetState(i.oL.open,{isOpen:!0}),this.props.onOpen&&this.props.onOpen()}},{key:"close",value:function(){this.internalSetState(i.oL.close,{isOpen:!1}),this.props.onClose&&this.props.onClose()}},{key:"internalSetState",value:function(e,t){var n=this.props.stateReducer;"function"===typeof n?this.setState((function(r){return n(e,t,r)})):this.setState(t)}},{key:"render",value:function(){var e=this.props,t=e.accessibilityType,n=e.autoFocus,r=e.dismissOnClickOutside,o=e.dismissOnEsc,a=e.focusLock,s=e.ignoreBoundary,u=e.mountNode,l=e.onBlur,c=e.onClick,A=e.onFocus,f=e.onMouseEnter,h=e.onMouseLeave,p=e.onMouseEnterDelay,d=e.onMouseLeaveDelay,g=e.overrides,v=e.placement,y=e.popperOptions,m=e.renderAll,b=e.returnFocus,_=e.showArrow,w=e.triggerType,x=e.popoverMargin,C=e.focusOptions,B={accessibilityType:t,autoFocus:n,content:this.renderContent,focusLock:a,ignoreBoundary:s,isOpen:this.state.isOpen,mountNode:u,onBlur:l,onClick:c,onFocus:A,onMouseEnter:f,onMouseLeave:h,onMouseEnterDelay:p,onMouseLeaveDelay:d,overrides:g,placement:v,popperOptions:y,renderAll:m,returnFocus:b,showArrow:_,triggerType:w,popoverMargin:x,focusOptions:C};return r&&(B.onClickOutside=this.onClickOutside),o&&(B.onEsc=this.onEsc),w===i.gu.hover?(B.onBlur=this.onBlur,B.onFocus=this.onFocus,B.onMouseEnter=this.onMouseEnter,B.onMouseLeave=this.onMouseLeave):B.onClick=this.onClick,this.props.children(B)}}])&&l(t.prototype,n),r&&l(t,r),a}(r.Component);d(g,"defaultProps",{accessibilityType:i.SI.menu,ignoreBoundary:!1,overrides:{},onMouseEnterDelay:200,onMouseLeaveDelay:200,placement:i.r4.auto,popperOptions:{},showArrow:!1,triggerType:i.gu.click,dismissOnClickOutside:!0,dismissOnEsc:!0,stateReducer:function(e,t){return t},popoverMargin:i.AF}),t.Z=g},3138:function(e,t,n){"use strict";var r=n(2791),i=n(206),o=n(1353),a=n(9344);function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e){var t=e.children,n=s(e,["children"]);return r.createElement(o.Z,n,(function(e){return r.createElement(a.Z,e,t)}))}u.defaultProps={accessibilityType:i.SI.menu,ignoreBoundary:!1,overrides:{},onMouseEnterDelay:200,onMouseLeaveDelay:200,placement:i.r4.auto,showArrow:!1,triggerType:i.gu.click,dismissOnClickOutside:!0,dismissOnEsc:!0,stateReducer:function(e,t){return t},popoverMargin:i.AF},t.Z=u},8102:function(e,t,n){"use strict";n.d(t,{Eh:function(){return c},Nh:function(){return A},Zh:function(){return f},_G:function(){return h},uT:function(){return l}});var r=n(7696),i=n(206),o=n(2499);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,r.zo)("div",(function(e){var t=e.$isOpen,n=e.$isAnimating,r=e.$placement,a=e.$popoverOffset,u=e.$showArrow,l=e.$theme,c=e.$popoverMargin,A=e.$isHoverTrigger;return s(s({position:"absolute",top:0,left:0,backgroundColor:l.colors.backgroundTertiary,borderTopLeftRadius:l.borders.popoverBorderRadius,borderTopRightRadius:l.borders.popoverBorderRadius,borderBottomRightRadius:l.borders.popoverBorderRadius,borderBottomLeftRadius:l.borders.popoverBorderRadius,boxShadow:l.lighting.shadow600,transitionProperty:"opacity,transform",transitionDuration:n?"0.1s":"0s",transitionTimingFunction:t?l.animation.easeOutCurve:l.animation.easeInCurve,opacity:n&&t?1:0,transform:n&&t?(0,o.G1)(a):(0,o.nr)(a,r,u?i.YM:0,c)},(0,o.PQ)(u?i.YM:0,r,c)),A?{animationDuration:".1s",animationName:{"0%":{pointerEvents:"none"},"99%":{pointerEvents:"none"},"100%":{pointerEvents:"auto"}}}:{})}));l.displayName="Body";var c=(0,r.zo)("div",(function(e){var t=e.$arrowOffset,n=e.$placement,r=e.$theme;return s({backgroundColor:r.colors.backgroundTertiary,boxShadow:r.lighting.shadow600,width:"".concat(i.mb,"px"),height:"".concat(i.mb,"px"),transform:"rotate(45deg)",position:"absolute"},(0,o.wL)(t,n))}));c.displayName="Arrow";var A=(0,r.zo)("div",(function(e){var t=e.$theme;return{backgroundColor:t.colors.backgroundTertiary,borderTopLeftRadius:t.borders.popoverBorderRadius,borderTopRightRadius:t.borders.popoverBorderRadius,borderBottomRightRadius:t.borders.popoverBorderRadius,borderBottomLeftRadius:t.borders.popoverBorderRadius,color:t.colors.contentPrimary,position:"relative"}}));A.displayName="Inner";var f=(0,r.zo)("div",{paddingLeft:"12px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px"});f.displayName="Padding";var h=(0,r.zo)("div",{display:"none"});h.displayName="Hidden"},2499:function(e,t,n){"use strict";n.d(t,{G1:function(){return d},PQ:function(){return h},PR:function(){return A},nr:function(){return p},wL:function(){return g}});var r=n(206);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={top:"bottom",bottom:"top",right:"left",left:"right"};function l(e){return u[e]}function c(e){return"top"===e||"bottom"===e}function A(e){var t=e.replace(/(top|bottom)-start$/,"$1Left").replace(/(top|bottom)-end$/,"$1Right").replace(/(left|right)-start$/,"$1Top").replace(/(left|right)-end$/,"$1Bottom");return r.r4[t]||null}function f(e){return(e.match(/^([a-z]+)([A-Z][a-z]+)?/)||[]).slice(1,3).filter(Boolean).map((function(e){return e.toLowerCase()}))}function h(e,t,n){var r,i=l(a(f(t),1)[0]);return i?o({},"margin".concat((r=i).charAt(0).toUpperCase()+r.slice(1)),"".concat(e+n,"px")):null}function p(e,t,n,r){e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);var s=a(f(t),1)[0],u=2*(n>0?n:r);return c(s)?e.top+="top"===s?u:-u:e.left+="left"===s?u:-u,"translate3d(".concat(e.left,"px, ").concat(e.top,"px, 0)")}function d(e){return"translate3d(".concat(e.left,"px, ").concat(e.top,"px, 0)")}function g(e,t){var n,i=a(f(t),1)[0],s=l(i);if(!s)return null;var u=c(i)?"left":"top";return o(n={},u,"".concat(e[u],"px")),o(n,s,"-".concat(r.YM-2,"px")),n}},6491:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r={small:"small",medium:"medium",large:"large"}},4567:function(e,t,n){"use strict";var r=n(2791),i=n(6004),o=n(6491),a=n(5147);function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var y,m,b,_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,o,s=d(c);function c(){return f(this,c),s.apply(this,arguments)}return t=c,(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.overrides,n=void 0===t?{}:t,o=e.getProgressLabel,s=e.value,c=e.size,f=e.steps,h=e.successValue,p=e.minValue,d=e.maxValue,g=e.showLabel,v=e.infinite,y=e.errorMessage,m=e.forwardedRef,b=A(e,["overrides","getProgressLabel","value","size","steps","successValue","minValue","maxValue","showLabel","infinite","errorMessage","forwardedRef"]),_=this.props["aria-label"]||this.props.ariaLabel,w=100!==d?d:h,x=l((0,i.jb)(n.Root,a.Fp),2),C=x[0],B=x[1],E=l((0,i.jb)(n.BarContainer,a.d4),2),S=E[0],k=E[1],O=l((0,i.jb)(n.Bar,a.sQ),2),T=O[0],P=O[1],M=l((0,i.jb)(n.BarProgress,a.Bd),2),F=M[0],I=M[1],L=l((0,i.jb)(n.Label,a.ar),2),R=L[0],D=L[1],Z=l((0,i.jb)(n.InfiniteBar,a.ko),2),U=Z[0],j=Z[1],N={$infinite:v,$size:c,$steps:f,$successValue:w,$minValue:p,$maxValue:w,$value:s};return r.createElement(C,u({ref:m,"data-baseweb":"progress-bar",role:"progressbar","aria-label":_||o(s,w,p),"aria-valuenow":v?null:s,"aria-valuemin":v?null:p,"aria-valuemax":v?null:w,"aria-invalid":!!y||null,"aria-errormessage":y},b,N,B),r.createElement(S,u({},N,k),v?r.createElement(r.Fragment,null,r.createElement(U,u({$isLeft:!0,$size:N.$size},j)),r.createElement(U,u({$size:N.$size},j))):function(){for(var e=[],t=0;t<f;t++)e.push(r.createElement(T,u({key:t},N,P),r.createElement(F,u({$index:t},N,I))));return e}()),g&&r.createElement(R,u({},N,D),o(s,w,p)))}}])&&h(t.prototype,n),o&&h(t,o),c}(r.Component);y=_,m="defaultProps",b={getProgressLabel:function(e,t,n){return"".concat(Math.round((e-n)/(t-n)*100),"% Loaded")},infinite:!1,overrides:{},showLabel:!1,size:o.N.medium,steps:1,successValue:100,minValue:0,maxValue:100,value:0},m in y?Object.defineProperty(y,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[m]=b;var w=r.forwardRef((function(e,t){return r.createElement(_,u({forwardedRef:t},e))}));w.displayName="ProgressBar",t.Z=w},5147:function(e,t,n){"use strict";n.d(t,{Bd:function(){return g},CN:function(){return b},Fp:function(){return h},Gi:function(){return w},XG:function(){return E},Xj:function(){return C},ar:function(){return y},bU:function(){return S},d4:function(){return p},ko:function(){return v},sQ:function(){return d}});var r,i=n(7696),o=n(3113),a=n(6491),s=n(2791);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t;return(t={},A(t,a.N.small,"2px"),A(t,a.N.medium,"4px"),A(t,a.N.large,"8px"),t)[e]}var h=(0,i.zo)("div",(function(e){return{width:"100%"}}));h.displayName="StyledRoot";var p=(0,i.zo)("div",(function(e){var t=e.$theme.sizing;return{display:"flex",marginLeft:t.scale500,marginRight:t.scale500,marginTop:t.scale500,marginBottom:t.scale500}}));p.displayName="StyledBarContainer";var d=(0,i.zo)("div",(function(e){var t=e.$theme,n=e.$size,r=e.$steps,i=t.colors,a=t.sizing,s=t.borders.useRoundedCorners?a.scale0:0;return c({borderTopLeftRadius:s,borderTopRightRadius:s,borderBottomRightRadius:s,borderBottomLeftRadius:s,backgroundColor:(0,o.oo)(i.progressbarTrackFill,"0.16"),height:f(n),flex:1,overflow:"hidden"},r<2?{}:{marginLeft:a.scale300,":first-child":{marginLeft:"0"}})}));d.displayName="StyledBar";var g=(0,i.zo)("div",(function(e){var t=e.$theme,n=e.$value,r=e.$successValue,i=e.$steps,o=e.$index,a=e.$maxValue,s=e.$minValue,u=void 0===s?0:s,l=a||r,A=t.colors,f=t.sizing,h=t.borders,p="".concat(100-100*(n-u)/(l-u),"%"),d="awaits",g="inProgress",v="completed",y="default";if(i>1){var m=(l-u)/i,b=(n-u)/(l-u)*100,_=Math.floor(b/m);y=o<_?v:o===_?g:d}var w=h.useRoundedCorners?f.scale0:0,x={transform:"translateX(-".concat(p,")")},C=y===g?{animationDuration:"2.1s",animationIterationCount:"infinite",animationTimingFunction:t.animation.linearCurve,animationName:{"0%":{transform:"translateX(-102%)",opacity:1},"50%":{transform:"translateX(0%)",opacity:1},"100%":{transform:"translateX(0%)",opacity:0}}}:y===v?{transform:"translateX(0%)"}:{transform:"translateX(-102%)"};return c({borderTopLeftRadius:w,borderTopRightRadius:w,borderBottomRightRadius:w,borderBottomLeftRadius:w,backgroundColor:A.accent,height:"100%",width:"100%",transform:"translateX(-102%)",transition:"transform 0.5s"},i>1?C:x)}));g.displayName="StyledBarProgress";var v=(0,i.zo)("div",(function(e){var t=e.$theme,n=e.$isLeft,r=void 0!==n&&n,i=e.$size,o=void 0===i?a.N.medium:i,s=t.colors,u=t.sizing,l=t.borders.useRoundedCorners?u.scale0:0,A=f(o),h={display:"inline-block",flex:1,marginLeft:"auto",marginRight:"auto",transitionProperty:"background-position",animationDuration:"1.5s",animationIterationCount:"infinite",animationTimingFunction:t.animation.linearCurve,backgroundSize:"300% auto",backgroundRepeat:"no-repeat",backgroundPositionX:r?"-50%":"150%",backgroundImage:"linear-gradient(".concat(r?"90":"270","deg, transparent 0%, ").concat(s.accent," 25%, ").concat(s.accent," 75%, transparent 100%)"),animationName:r?{"0%":{backgroundPositionX:"-50%"},"33%":{backgroundPositionX:"50%"},"66%":{backgroundPositionX:"50%"},"100%":{backgroundPositionX:"150%"}}:{"0%":{backgroundPositionX:"150%"},"33%":{backgroundPositionX:"50%"},"66%":{backgroundPositionX:"50%"},"100%":{backgroundPositionX:"-50%"}}};return c(c({},r?{borderTopLeftRadius:l,borderBottomLeftRadius:l}:{borderTopRightRadius:l,borderBottomRightRadius:l}),{},{height:A},h)}));v.displayName="StyledInfiniteBar";var y=(0,i.zo)("div",(function(e){return c(c({textAlign:"center"},e.$theme.typography.font150),{},{color:e.$theme.colors.contentTertiary})}));y.displayName="StyledLabel";var m=(A(r={},a.N.large,{d:"M47.5 4H71.5529C82.2933 4 91 12.9543 91 24C91 35.0457 82.2933 44 71.5529 44H23.4471C12.7067 44 4 35.0457 4 24C4 12.9543 12.7067 4 23.4471 4H47.5195",width:95,height:48,strokeWidth:8,typography:"LabelLarge"}),A(r,a.N.medium,{d:"M39 2H60.5833C69.0977 2 76 9.16344 76 18C76 26.8366 69.0977 34 60.5833 34H17.4167C8.90228 34 2 26.8366 2 18C2 9.16344 8.90228 2 17.4167 2H39.0195",width:78,height:36,strokeWidth:4,typography:"LabelMedium"}),A(r,a.N.small,{d:"M32 1H51.6271C57.9082 1 63 6.37258 63 13C63 19.6274 57.9082 25 51.6271 25H12.3729C6.09181 25 1 19.6274 1 13C1 6.37258 6.09181 1 12.3729 1H32.0195",width:64,height:26,strokeWidth:2,typography:"LabelSmall"}),r),b=(0,i.zo)("div",(function(e){var t=e.$size,n=e.$inline;return{width:m[t].width+"px",height:m[t].height+"px",position:"relative",display:n?"inline-flex":"flex",alignItems:"center",justifyContent:"center"}}));b.displayName="StyledProgressBarRoundedRoot";var _=(0,i.zo)("svg",(function(e){var t=e.$size;return{width:m[t].width+"px",height:m[t].height+"px",position:"absolute",fill:"none"}}));_.displayName="_StyledProgressBarRoundedSvg";var w=(0,i.Le)(_,(function(e){return function(t){return s.createElement(e,u({viewBox:"0 0 ".concat(m[t.$size].width," ").concat(m[t.$size].height),xmlns:"http://www.w3.org/2000/svg"},t))}})),x=(0,i.zo)("path",(function(e){var t=e.$theme,n=e.$size;return{stroke:t.colors.backgroundTertiary,strokeWidth:m[n].strokeWidth+"px"}}));x.displayName="_StyledProgressBarRoundedTrackBackground";var C=(0,i.Le)(x,(function(e){return function(t){return s.createElement(e,u({d:m[t.$size].d},t))}})),B=(0,i.zo)("path",(function(e){var t=e.$theme,n=e.$size,r=e.$visible,i=e.$pathLength,o=e.$pathProgress;return{visibility:r?"visible":"hidden",stroke:t.colors.borderAccent,strokeWidth:m[n].strokeWidth+"px",strokeDasharray:i,strokeDashoffset:i*(1-o)+""}}));B.displayName="_StyledProgressBarRoundedTrackForeground";var E=(0,i.Le)(B,(function(e){return function(t){return s.createElement(e,u({d:m[t.$size].d},t))}})),S=(0,i.zo)("div",(function(e){var t=e.$theme,n=e.$size;return c({color:t.colors.contentPrimary},t.typography[m[n].typography])}));S.displayName="StyledProgressBarRoundedText"},6309:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(2791),i=n(6324),o=n(6004);function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(A,e);var t,n,a,u=g(A);function A(){var e;h(this,A);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(y(e=u.call.apply(u,[this].concat(n))),"mounted",void 0),b(y(e),"sizer",void 0),b(y(e),"state",{inputWidth:5}),b(y(e),"sizerRef",(function(t){e.sizer=t})),e}return t=A,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.updateInputWidth()}},{key:"componentDidUpdate",value:function(e,t){this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&"undefined"!==typeof this.sizer.scrollWidth){var e=this.sizer.scrollWidth+2;e!==this.state.inputWidth&&this.sizer.scrollWidth!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"render",value:function(){var e=this.props,t=e.overrides,n=void 0===t?{}:t,a=e.inputRef,u=f(e,["overrides","inputRef"]),A=c((0,o.jb)(n.Input,i.Fy),2),h=A[0],p=A[1],d=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!==e&&void 0!==e?e:t})),g=l(l({},u),{},{$width:"".concat(this.state.inputWidth,"px")});return r.createElement(r.Fragment,null,r.createElement(h,s({},g,{ref:a},p)),r.createElement(i.aO,{$size:this.props.$size,ref:this.sizerRef,$style:p.$style?p.$style:null},d))}}])&&p(t.prototype,n),a&&p(t,a),A}(r.Component);b(_,"defaultProps",{inputRef:r.createRef(),value:"",overrides:{}})},5786:function(e,t,n){"use strict";n.d(t,{oL:function(){return i},wD:function(){return r}});var r={select:"select",search:"search"},i=Object.freeze({select:"select",remove:"remove",clear:"clear"})},7249:function(e,t,n){"use strict";var r=n(1357),i=n(8316),o=n(5786),a={"aria-label":null,"aria-describedby":null,"aria-errormessage":null,"aria-labelledby":null,autoFocus:!1,backspaceRemoves:!0,clearable:!0,closeOnSelect:!0,creatable:!1,deleteRemoves:!0,disabled:!1,error:!1,positive:!1,escapeClearsValue:!0,filterOptions:r.Z,filterOutSelected:!0,getOptionLabel:null,getValueLabel:null,ignoreCase:!0,isLoading:!1,labelKey:"label",maxDropdownHeight:"900px",multi:!1,onBlur:function(){},onBlurResetsInput:!0,onChange:function(){},onFocus:function(){},onInputChange:function(){},onCloseResetsInput:!0,onSelectResetsInput:!0,onOpen:null,onClose:null,openOnClick:!0,startOpen:!1,options:[],overrides:{},required:!1,searchable:!0,size:i.NO.default,type:o.wD.select,value:[],valueKey:"id"};t.Z=a},5952:function(e,t,n){"use strict";n.d(t,{Z:function(){return Re}});var r=n(2791),i=n(6324),o=n(7992),a=n(9398),s=n(6004),u=n(9388);function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function A(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=r.createContext({addMenuToNesting:function(){},removeMenuFromNesting:function(){},getParentMenu:function(){},getChildMenu:function(){},nestedMenuHoverIndex:-1,isNestedMenuVisible:function(){return!1},mountRef:{current:null}});function x(e,t){return!(!e||!t)&&e.isSameNode(t)}r.Component;var C=n(9344);function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){if(!e.getChildMenu)return e.children;var t=e.getChildMenu(e.item);if(!t)return e.children;var n=e.overrides,i=void 0===n?{}:n,o=E((0,s.jb)(i.ChildMenuPopover,C.Z),2),a=o[0],u=o[1];return r.createElement(w.Consumer,null,(function(n){return r.createElement(a,B({focusLock:!1,autoFocus:!1,isOpen:e.isOpen,renderAll:e.renderAll,content:t,ignoreBoundary:!0,mountNode:n.mountRef.current?n.mountRef.current:void 0,onClick:e.onClick,onMouseEnterDelay:30,onMouseLeaveDelay:30,onEsc:e.resetParentMenu,placement:"rightTop"},u,{overrides:(0,s.aO)({Body:{props:{onKeyDown:function(e){9===e.keyCode&&e.preventDefault()}}}},u.overrides)}),e.children)}))}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function L(e,t){var n=e.getChildMenu,i=e.getItemLabel,l=void 0===i?function(e){return e?e.label:""}:i,c=e.item,A=e.onClick,f=void 0===A?function(){}:A,h=e.onMouseEnter,p=void 0===h?function(){}:h,d=e.overrides,g=void 0===d?{}:d,v=e.renderHrefAsAnchor,y=void 0===v||v,m=e.resetMenu,b=void 0===m?function(){}:m,_=e.size,w=void 0===_?u.Sz.default:_,x=e.$isHighlighted,C=e.renderAll,B=I(e,["getChildMenu","getItemLabel","item","onClick","onMouseEnter","overrides","renderHrefAsAnchor","resetMenu","size","$isHighlighted","renderAll"]),E=M((0,s.jb)(g.ListItem,a.oH),2),S=E[0],F=E[1],L=M((0,s.jb)(g.ListItemAnchor,a.v0),2),R=L[0],D=L[1];return r.createElement(o.R.Consumer,null,(function(e){return r.createElement(k,{getChildMenu:n,isOpen:!!x,item:c,resetParentMenu:b,renderAll:C,onClick:f,overrides:g},r.createElement(S,P({ref:t,"aria-label":n&&n(c)?e.menu.parentMenuItemAriaLabel:null,item:c,onClick:f,onMouseEnter:p,$size:w,$isHighlighted:x},B,F),function(e){return e.href&&y?r.createElement(R,P({$item:e,href:e.href},D),l(e)):r.createElement(r.Fragment,null,l(e))}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isHighlighted:x},c))))}))}function R(e,t){if(!e||!t)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function D(e,t){return e.$isHighlighted===t.$isHighlighted&&e.$isFocused===t.$isFocused&&R(e.item,t.item)&&R(e.overrides,t.overrides)&&e.size===t.size&&e.getItemLabel===t.getItemLabel&&e.getChildMenu===t.getChildMenu&&e.resetMenu===t.resetMenu}var Z=r.forwardRef(L);Z.displayName="OptionList";var U=r.memo(Z,D),j=n(2422);function N(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e){var t=e.overrides,n=void 0===t?{}:t,i=e["aria-label"],u=void 0===i?"Menu":i,l=e.rootRef,c=void 0===l?r.createRef():l,A=e.focusMenu,f=void 0===A?function(){}:A,h=e.unfocusMenu,p=void 0===h?function(){}:h,d=e.handleMouseLeave,g=void 0===d?function(){}:d,v=e.handleKeyDown,y=void 0===v?function(e){}:v,m=e.renderAll,b=void 0!==m&&m,_=Q(r.useState(!1),2),w=_[0],x=_[1],C=function(e){(0,j.E)(e)&&x(!0)},B=function(e){!1!==w&&x(!1)},E=Q((0,s.jb)(n.List,a.CK),2),S=E[0],k=E[1],O=Q((0,s.jb)(n.Option,U),2),T=O[0],P=O[1],M=Q((0,s.jb)(n.EmptyState,a.ey),2),F=M[0],I=M[1],L=Q((0,s.jb)(n.OptgroupHeader,a.au),2),R=L[0],D=L[1],Z=Array.isArray(e.items)?{__ungrouped:e.items}:e.items,H=Object.keys(Z),V=H.reduce((function(t,n){var i=Q(t,2),o=i[0],a=i[1];"__ungrouped"!==n&&o.push(r.createElement(R,z({key:n},D),n));var s=Z[n].map((function(t,n){a+=1;var i=e.getRequiredItemProps,o=(void 0===i?function(e,t){return{}}:i)(t,a),s=o.disabled,u=o.isFocused,l=o.isHighlighted,c=o.resetMenu,A=void 0===c?function(){}:c,f=N(o,["disabled","isFocused","isHighlighted","resetMenu"]);return r.createElement(T,z({renderAll:b,key:a,item:t,overrides:e.overrides,resetMenu:A,role:"option",$disabled:s,$isFocused:u,$isHighlighted:l,"aria-disabled":s,"aria-selected":l&&u},f,P))}));return[o.concat(s),a]}),[[],-1]),G=Q(V,1)[0],W=H.every((function(e){return!Z[e].length}));return r.createElement(o.R.Consumer,null,(function(t){return r.createElement(S,z({"aria-activedescendant":e.activedescendantId||null,role:"listbox","aria-label":u,ref:c,onMouseEnter:f,onMouseLeave:g,onMouseOver:f,onFocus:(0,j.Ah)({onFocus:f},C),onBlur:(0,j.Z5)({onBlur:p},B),onKeyDown:function(t){e.isFocused&&y(t)},tabIndex:0,"data-baseweb":"menu",$isFocusVisible:w},k),W?r.createElement(F,z({"aria-live":"polite","aria-atomic":!0},I),e.noResultsMsg||t.menu.noResultsMsg):G)}))}function G(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"auto";if(e){var o=e.getBoundingClientRect(),a=t.getBoundingClientRect();if(o.bottom>a.bottom)if(r)t.scrollTop=t.scrollHeight-a.height;else{var s=e.offsetTop+o.height;t.scrollTop=s-("center"===i?Math.round((a.height+o.height)/2):a.height)}else o.top<a.top&&(t.scrollTop=n?0:e.offsetTop-("center"===i?Math.round((a.height-o.height)/2):0))}}var W=n(679);function K(e){return K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function X(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},te(e,t)}function ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var i=oe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){return!t||"object"!==K(t)&&"function"!==typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se={initialState:{highlightedIndex:-1,isFocused:!1},typeAhead:!0,keyboardControlNode:{current:null},stateReducer:function(e,t){return t},onItemSelect:function(){},getRequiredItemProps:function(){return{}},children:function(){return null},addMenuToNesting:function(){},removeMenuFromNesting:function(){},getParentMenu:function(){},getChildMenu:function(){},nestedMenuHoverIndex:-1,isNestedMenuVisible:function(){return!1},forceHighlight:!1},ue=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(a,e);var t,n,i,o=ne(a);function a(){var e;$(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return ae(ie(e=o.call.apply(o,[this].concat(n))),"state",J(J({},e.constructor.defaultProps.initialState),e.props.initialState)),ae(ie(e),"rootRef",r.createRef()),ae(ie(e),"keyboardControlNode",e.props.keyboardControlNode.current),ae(ie(e),"refList",[]),ae(ie(e),"optionIds",[]),ae(ie(e),"typeAheadChars",""),ae(ie(e),"typeAheadTimeOut",null),ae(ie(e),"onKeyDown",(function(t){switch(t.key){case u.YV.ArrowUp:case u.YV.ArrowDown:case u.YV.ArrowLeft:case u.YV.ArrowRight:case u.YV.Home:case u.YV.End:e.handleArrowKey(t);break;case u.YV.Enter:if(229===t.keyCode)break;e.handleEnterKey(t);break;default:e.props.typeAhead&&(clearTimeout(e.typeAheadTimeOut),e.handleAlphaDown(t))}})),ae(ie(e),"handleAlphaDown",(function(t){var n=e.props.rootRef?e.props.rootRef:e.rootRef,r=e.state.highlightedIndex;e.typeAheadChars+=t.key,e.typeAheadTimeOut=setTimeout((function(){e.typeAheadChars=""}),500);var i=r;t.preventDefault();var o=e.getItems();if(0!==o.length&&"label"in o[0]){for(var a=!0,s=0;s<o.length;s++){var l=o[s].label;if(l&&l.toUpperCase&&0===l.toUpperCase().indexOf(e.typeAheadChars.toUpperCase())){i=s,a=!1;break}}if(a)for(var c=0;c<o.length;c++){var A=o[c].label;if(A&&A.toUpperCase&&A.toUpperCase().indexOf(e.typeAheadChars.toUpperCase())>0){i=c;break}}e.internalSetState(u.d0.character,{highlightedIndex:i}),e.refList[i]&&G(e.refList[i].current,n.current,0===i,i===o.length-1)}})),ae(ie(e),"handleArrowKey",(function(t){var n=e.props.rootRef?e.props.rootRef:e.rootRef,r=e.state.highlightedIndex,i=r;if(t.key===u.YV.ArrowUp)t.preventDefault(),i=Math.max(0,r-1),e.internalSetState(u.d0.moveUp,{highlightedIndex:i});else if(t.key===u.YV.ArrowDown)t.preventDefault(),i=Math.min(r+1,e.getItems().length-1),e.internalSetState(u.d0.moveDown,{highlightedIndex:i});else if(t.key===u.YV.Home)t.preventDefault(),i=0,e.internalSetState(u.d0.moveUp,{highlightedIndex:i});else if(t.key===u.YV.End)t.preventDefault(),i=e.getItems().length-1,e.internalSetState(u.d0.moveDown,{highlightedIndex:i});else if(t.key===u.YV.ArrowLeft){if(e.props.getParentMenu){var o=e.props.getParentMenu(n);o&&o.current&&o.current.focus()}}else if(t.key===u.YV.ArrowRight&&e.props.getChildMenu){var a=e.props.getChildMenu(n);a&&a.current&&a.current.focus()}e.refList[i]&&G(e.refList[i].current,n.current,0===i,i===e.getItems().length-1)})),ae(ie(e),"handleEnterKey",(function(t){var n=e.props.onItemSelect,r=e.state.highlightedIndex,i=e.getItems();i[r]&&n&&!i[r].disabled&&(t.preventDefault(),n({item:i[r],event:t}))})),ae(ie(e),"handleItemClick",(function(t,n,r){e.props.onItemSelect&&!n.disabled&&(e.props.onItemSelect({item:n,event:r}),e.internalSetState(u.d0.click,{highlightedIndex:t,activedescendantId:e.optionIds[t]}))})),ae(ie(e),"handleMouseEnter",(function(t){e.internalSetState(u.d0.mouseEnter,{highlightedIndex:t,activedescendantId:e.optionIds[t]})})),ae(ie(e),"handleMouseLeave",(function(e){})),ae(ie(e),"getRequiredItemProps",(function(t,n){var i=e.refList[n];i||(i=r.createRef(),e.refList[n]=i,e.optionIds[n]=e.props.uidSeed(n));var o=e.props.getRequiredItemProps(t,n),a=o.disabled,s=X(o,["disabled"]),u="boolean"===typeof a?a:!!t.disabled;return J(J({id:s.id||e.optionIds[n],disabled:u,ref:i,isFocused:e.state.isFocused,isHighlighted:e.state.highlightedIndex===n,resetMenu:e.resetMenu},u?{}:{onClick:e.handleItemClick.bind(ie(e),n,t),onMouseEnter:e.handleMouseEnter.bind(ie(e),n)}),s)})),ae(ie(e),"focusMenu",(function(t){var n=e.props.rootRef?e.props.rootRef:e.rootRef;!e.state.isFocused&&n.current&&n.current.contains(t.target)&&(e.state.highlightedIndex<0?e.internalSetState(u.d0.focus,{isFocused:!0,highlightedIndex:0}):e.internalSetState(u.d0.focus,{isFocused:!0}),n.current.focus())})),ae(ie(e),"unfocusMenu",(function(){e.internalSetState(u.d0.focus,{isFocused:!1})})),ae(ie(e),"resetMenu",(function(){e.internalSetState(u.d0.reset,{isFocused:!1,highlightedIndex:-1,activedescendantId:null})})),e}return t=a,(n=[{key:"getItems",value:function(){var e=this;return Array.isArray(this.props.items)?this.props.items:Object.keys(this.props.items).reduce((function(t,n){return t.concat(e.props.items[n])}),[])}},{key:"componentDidMount",value:function(){var e=this.props.rootRef?this.props.rootRef:this.rootRef;"undefined"!==typeof document&&(e.current&&this.state.highlightedIndex>-1&&this.refList[this.state.highlightedIndex]&&G(this.refList[this.state.highlightedIndex].current,e.current,0===this.state.highlightedIndex,this.state.highlightedIndex===this.getItems().length-1,"center"),this.state.isFocused&&this.keyboardControlNode&&this.keyboardControlNode.addEventListener("keydown",this.onKeyDown)),this.props.addMenuToNesting&&this.props.addMenuToNesting(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.rootRef?this.props.rootRef:this.rootRef;"undefined"!==typeof document&&this.keyboardControlNode&&this.keyboardControlNode.removeEventListener("keydown",this.onKeyDown),this.props.removeMenuFromNesting&&this.props.removeMenuFromNesting(e)}},{key:"componentDidUpdate",value:function(e,t){"undefined"!==typeof document&&(!t.isFocused&&this.state.isFocused?this.keyboardControlNode&&this.keyboardControlNode.addEventListener("keydown",this.onKeyDown):t.isFocused&&!this.state.isFocused&&this.keyboardControlNode&&this.keyboardControlNode.removeEventListener("keydown",this.onKeyDown));var n=this.getItems().length;this.props.forceHighlight&&-1===this.state.highlightedIndex&&n>0&&this.internalSetState(u.d0.enter,{highlightedIndex:0}),0===n&&-1!==this.state.highlightedIndex?this.internalSetState(u.d0.enter,{highlightedIndex:-1}):this.state.highlightedIndex>=n&&this.internalSetState(u.d0.enter,{highlightedIndex:0}),!this.props.isNestedMenuVisible||this.props.nestedMenuHoverIndex===e.nestedMenuHoverIndex||this.props.isNestedMenuVisible(this.rootRef)||this.props.forceHighlight||this.setState({highlightedIndex:-1})}},{key:"internalSetState",value:function(e,t){var n=this.props.stateReducer;this.props.onActiveDescendantChange&&"number"===typeof t.highlightedIndex&&this.state.highlightedIndex!==t.highlightedIndex&&this.props.onActiveDescendantChange(this.optionIds[t.highlightedIndex]),this.setState(n(e,t,this.state))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.initialState,t.stateReducer,t.children,t.onItemSelect,t.addMenuToNesting,t.removeMenuFromNesting,t.getParentMenu,t.getChildMenu,t.forceHighlight,X(t,["initialState","stateReducer","children","onItemSelect","addMenuToNesting","removeMenuFromNesting","getParentMenu","getChildMenu","forceHighlight"]));return this.props.children(J(J({},n),{},{rootRef:this.props.rootRef?this.props.rootRef:this.rootRef,activedescendantId:this.optionIds[this.state.highlightedIndex],getRequiredItemProps:function(t,n){return e.getRequiredItemProps(t,n)},handleMouseLeave:this.handleMouseLeave,highlightedIndex:this.state.highlightedIndex,isFocused:this.state.isFocused,handleKeyDown:this.props.keyboardControlNode.current?function(e){}:this.onKeyDown,focusMenu:this.focusMenu,unfocusMenu:this.unfocusMenu}))}}])&&ee(t.prototype,n),i&&ee(t,i),a}(r.Component);ae(ue,"defaultProps",se);var le=function(e){return r.createElement(ue,q({uidSeed:(0,W.H)()},e))};le.defaultProps=se;var ce=le;function Ae(e){return Ae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function fe(){return fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}function he(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ge(e,t)}function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var i=me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){return!t||"object"!==Ae(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},me(e)}var be=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(a,e);var t,n,i,o=ve(a);function a(){return pe(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.overrides,n=he(e,["overrides"]);return r.createElement(w.Consumer,null,(function(e){return r.createElement(ce,fe({},e,n),(function(e){return r.createElement(V,fe({},e,{overrides:t}))}))}))}}])&&de(t.prototype,n),i&&de(t,i),a}(r.PureComponent);function _e(e){return _e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Be(){return Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Te(e,t)}function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var i=Ie(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(e,t){return!t||"object"!==_e(t)&&"function"!==typeof t?Fe(e):t}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ie(e)}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(u,e);var t,n,o,a=Pe(u);function u(){var e;ke(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Le(Fe(e=a.call.apply(a,[this].concat(n))),"getItemLabel",(function(t){var n,o=e.props,a=o.getOptionLabel,u=o.overrides,l=void 0===u?{}:u,c=o.value,A=o.valueKey,f=Ee((0,s.jb)(l.OptionContent,i.du),2),h=f[0],p=f[1],d={$selected:n=Array.isArray(c)?!!c.find((function(e){return e&&e[A]===t[A]})):c[A]===t[A],$disabled:t.disabled,$isHighlighted:t.isHighlighted};return r.createElement(h,Be({"aria-readonly":t.disabled,"aria-selected":n,key:t[A]},e.getSharedProps(),d,p),a({option:t,optionState:d}))})),Le(Fe(e),"onMouseDown",(function(e){e.nativeEvent.stopImmediatePropagation()})),Le(Fe(e),"getHighlightedIndex",(function(){var t=e.props,n=t.value,r=t.options,i=t.valueKey,o={};if(Array.isArray(n)&&n.length>0?o=n[0]:n instanceof Array||(o=n),Object.keys(o).length>0){var a=r.findIndex((function(e){return e&&e[i]===o[i]}));return-1===a?0:a}return 0})),e}return t=u,(n=[{key:"getSharedProps",value:function(){var e=this.props,t=e.error,n=e.isLoading,r=e.multi,i=e.required,o=e.size;return{$error:t,$isLoading:n,$multi:r,$required:i,$searchable:e.searchable,$size:o,$type:e.type,$width:e.width}}},{key:"render",value:function(){var e=this,t=this.props,n=t.maxDropdownHeight,o=t.multi,a=t.noResultsMsg,u=t.onItemSelect,l=t.options,c=void 0===l?[]:l,A=t.overrides,f=void 0===A?{}:A,h=t.size,p=Ee((0,s.jb)(f.DropdownContainer,i.Iu),2),d=p[0],g=p[1],v=Ee((0,s.jb)(f.DropdownListItem,i.mj),2),y=v[0],m=v[1],b=Ee((0,s.jb)(f.StatefulMenu,be),2),_=b[0],w=b[1],x=w.overrides,C=void 0===x?{}:x,B=Ce(w,["overrides"]),E=this.getHighlightedIndex(),S=function(e){return e.reduce((function(e,t){return t.__optgroup?(e[t.__optgroup]||(e[t.__optgroup]=[]),e[t.__optgroup].push(t)):e.__ungrouped.push(t),e}),{__ungrouped:[]})}(c);return r.createElement(d,Be({"data-no-focus-lock":!0,ref:this.props.innerRef},this.getSharedProps(),g),r.createElement(_,Be({noResultsMsg:a,onActiveDescendantChange:function(t){e.props.onActiveDescendantChange&&e.props.onActiveDescendantChange(t)},onItemSelect:u,items:S,size:h,initialState:{isFocused:!0,highlightedIndex:E},typeAhead:!1,keyboardControlNode:this.props.keyboardControlNode,forceHighlight:!0,overrides:(0,s.aO)({List:{component:i.EI,style:function(e){return{maxHeight:e.$maxHeight||null}},props:{id:this.props.id?this.props.id:null,$maxHeight:n,"aria-multiselectable":o}},Option:{props:{getItemLabel:this.getItemLabel,onMouseDown:this.onMouseDown,overrides:{ListItem:{component:y,props:xe(xe({},m),{},{role:"option"}),style:m.$style}},renderHrefAsAnchor:!1}}},xe({List:f.Dropdown||{},Option:f.DropdownOption||{}},C))},B)))}}])&&Oe(t.prototype,n),o&&Oe(t,o),u}(r.Component)},972:function(e,t,n){"use strict";n.r(t),n.d(t,{AutosizeInput:function(){return f.Z},MultiSelect:function(){return A},MultiValue:function(){return l.Z},SIZE:function(){return F.NO},STATE_CHANGE_TYPE:function(){return M.oL},Select:function(){return r.Z},SelectDropdown:function(){return h.Z},SingleSelect:function(){return u},SingleValue:function(){return a.Z},StatefulSelect:function(){return O},StatefulSelectContainer:function(){return S},StyledClearIcon:function(){return T.i},StyledControlContainer:function(){return T.lq},StyledDropdown:function(){return T.EI},StyledDropdownContainer:function(){return T.Iu},StyledDropdownListItem:function(){return T.mj},StyledIconsContainer:function(){return T.Bc},StyledInput:function(){return T.Fy},StyledInputContainer:function(){return T.j5},StyledInputSizer:function(){return T.aO},StyledOptionContent:function(){return T.du},StyledPlaceholder:function(){return T.Gj},StyledRoot:function(){return T.Fp},StyledSearchIcon:function(){return T.TT},StyledSearchIconContainer:function(){return T.TT},StyledSelectArrow:function(){return T.sJ},StyledSingleValue:function(){return T.gR},StyledValueContainer:function(){return T.Jw},TYPE:function(){return M.wD},filterOptions:function(){return P.Z}});var r=n(692),i=n(2791),o=n(9853),a=n(2079);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var u=function(e){return i.createElement(o.Z,s({},e,{multi:!1,valueComponent:a.Z}))},l=n(2312);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var A=function(e){return i.createElement(o.Z,c({},e,{multi:!0,valueComponent:l.Z}))},f=n(6309),h=n(5952);function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(o,e);var t,n,r,i=_(o);function o(){var e;y(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return B(x(e=i.call.apply(i,[this].concat(n))),"state",v({},e.props.initialState)),B(x(e),"onChange",(function(t){e.internalSetState(t),e.props.onChange(t)})),B(x(e),"internalSetState",(function(t){var n=e.props.stateReducer,r={value:t.value};e.setState(n(t.type,r,e.state))})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.children;return e.initialState,e.stateReducer,t(v(v(v({},d(e,["children","initialState","stateReducer"])),this.state),{},{onChange:this.onChange}))}}])&&m(t.prototype,n),r&&m(t,r),o}(i.Component);B(E,"defaultProps",{initialState:{value:[]},onChange:function(){},overrides:{},stateReducer:function(e,t){return t}});var S=E,k=n(7249);function O(e){return i.createElement(S,e,(function(e){return i.createElement(r.Z,e)}))}O.defaultProps=k.Z;var T=n(6324),P=n(1357),M=n(5786),F=n(8316)},2312:function(e,t,n){"use strict";n.d(t,{Z:function(){return Be}});var r,i,o,a,s,u,l,c,A,f,h,p=n(2791),d=n(6004),g=n(7594),v=n.n(g),y=n(4569),m=n.n(y),b=n(7696),_="small",w="medium",x="large",C=Object.freeze({solid:"solid",light:"light",outlined:"outlined"}),B="custom",E="neutral",S="primary",k="accent",O="positive",T="warning",P="negative",M="black",F="blue",I="green",L="red",R="yellow",D="orange",Z="purple",U="brown",j=n(586);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){switch(t){case"0":return"white";case"50":return v()(.8,e);case"100":return v()(.6,e);case"200":return v()(.4,e);case"300":return v()(.2,e);case"400":default:return e;case"500":return m()(.2,e);case"600":return m()(.4,e);case"700":return m()(.6,e);case"800":return m()(.8,e);case"1000":return"black"}}var V="disabled",G="solid",W="outline",K=function(e,t,n){return e.name&&e.name.includes("dark")?n:t},q=(Q(r={},V,(function(e,t){return{color:e.colors.tagNeutralFontDisabled,backgroundColor:null,borderColor:e.colors.tagNeutralOutlinedDisabled}})),Q(r,G,(function(e,t){return{color:e.colors.tagNeutralSolidFont,backgroundColor:e.colors.tagNeutralSolidBackground,borderColor:null}})),Q(r,W,(function(e,t){return{color:e.colors.tagNeutralOutlinedFont,backgroundColor:null,borderColor:e.colors.tagNeutralOutlinedBackground}})),r),X=(Q(i={},V,(function(e,t){return{color:e.colors.tagPrimaryFontDisabled,backgroundColor:null,borderColor:e.colors.tagPrimaryOutlinedDisabled}})),Q(i,G,(function(e,t){return{color:e.colors.tagPrimarySolidFont,backgroundColor:e.colors.tagPrimarySolidBackground,borderColor:null}})),Q(i,W,(function(e,t){return{color:e.colors.tagPrimaryOutlinedFont,backgroundColor:null,borderColor:e.colors.tagPrimaryOutlinedBackground}})),i),Y=(Q(o={},V,(function(e,t){return{color:e.colors.tagAccentFontDisabled,backgroundColor:null,borderColor:e.colors.tagAccentOutlinedDisabled}})),Q(o,G,(function(e,t){return{color:e.colors.tagAccentSolidFont,backgroundColor:e.colors.tagAccentSolidBackground,borderColor:null}})),Q(o,W,(function(e,t){return{color:e.colors.tagAccentOutlinedFont,backgroundColor:null,borderColor:e.colors.tagAccentOutlinedBackground}})),o),J=(Q(a={},V,(function(e,t){return{color:e.colors.tagPositiveFontDisabled,backgroundColor:null,borderColor:e.colors.tagPositiveOutlinedDisabled}})),Q(a,G,(function(e,t){return{color:e.colors.tagPositiveSolidFont,backgroundColor:e.colors.tagPositiveSolidBackground,borderColor:null}})),Q(a,W,(function(e,t){return{color:e.colors.tagPositiveOutlinedFont,backgroundColor:null,borderColor:e.colors.tagPositiveOutlinedBackground}})),a),$=(Q(s={},V,(function(e,t){return{color:e.colors.tagWarningFontDisabled,backgroundColor:null,borderColor:e.colors.tagWarningOutlinedDisabled}})),Q(s,G,(function(e,t){return{color:e.colors.tagWarningSolidFont,backgroundColor:e.colors.tagWarningSolidBackground,borderColor:null}})),Q(s,W,(function(e,t){return{color:e.colors.tagWarningOutlinedFont,backgroundColor:null,borderColor:e.colors.tagWarningOutlinedBackground}})),s),ee=(Q(u={},V,(function(e,t){return{color:e.colors.tagNegativeFontDisabled,backgroundColor:null,borderColor:e.colors.tagNegativeOutlinedDisabled}})),Q(u,G,(function(e,t){return{color:e.colors.tagNegativeSolidFont,backgroundColor:e.colors.tagNegativeSolidBackground,borderColor:null}})),Q(u,W,(function(e,t){return{color:e.colors.tagNegativeOutlinedFont,backgroundColor:null,borderColor:e.colors.tagNegativeOutlinedBackground}})),u),te=(Q(l={},V,(function(e,t){return{color:K(e,j.Z.orange200,j.Z.orange600),backgroundColor:null,borderColor:K(e,j.Z.orange200,j.Z.orange700)}})),Q(l,G,(function(e,t){return{color:j.Z.white,backgroundColor:K(e,j.Z.orange400,j.Z.orange500),borderColor:null}})),Q(l,W,(function(e,t){return{color:K(e,j.Z.orange400,j.Z.orange300),backgroundColor:null,borderColor:K(e,j.Z.orange200,j.Z.orange500)}})),l),ne=(Q(c={},V,(function(e,t){return{color:K(e,j.Z.purple200,j.Z.purple600),backgroundColor:null,borderColor:K(e,j.Z.purple200,j.Z.purple700)}})),Q(c,G,(function(e,t){return{color:j.Z.white,backgroundColor:K(e,j.Z.purple400,j.Z.purple500),borderColor:null}})),Q(c,W,(function(e,t){return{color:K(e,j.Z.purple400,j.Z.purple300),backgroundColor:null,borderColor:K(e,j.Z.purple200,j.Z.purple500)}})),c),re=(Q(A={},V,(function(e,t){return{color:K(e,j.Z.brown200,j.Z.brown600),backgroundColor:null,borderColor:K(e,j.Z.brown200,j.Z.brown700)}})),Q(A,G,(function(e,t){return{color:j.Z.white,backgroundColor:K(e,j.Z.brown400,j.Z.brown500),borderColor:null}})),Q(A,W,(function(e,t){return{color:K(e,j.Z.brown400,j.Z.brown300),backgroundColor:null,borderColor:K(e,j.Z.brown200,j.Z.brown500)}})),A),ie=(Q(f={},V,(function(e,t){return{color:H(t,e.colors.tagFontDisabledRampUnit),backgroundColor:null,borderColor:H(t,e.colors.tagOutlinedDisabledRampUnit)}})),Q(f,G,(function(e,t){return{color:H(t,e.colors.tagSolidFontRampUnit),backgroundColor:H(t,e.colors.tagSolidRampUnit),borderColor:null}})),Q(f,W,(function(e,t){return{color:H(t,e.colors.tagOutlinedFontRampUnit),backgroundColor:null,borderColor:H(t,e.colors.tagOutlinedRampUnit)}})),f),oe=(Q(h={},E,q),Q(h,S,X),Q(h,k,Y),Q(h,O,J),Q(h,T,$),Q(h,P,ee),Q(h,M,X),Q(h,F,Y),Q(h,I,J),Q(h,L,ee),Q(h,R,$),Q(h,D,te),Q(h,Z,ne),Q(h,U,re),Q(h,B,ie),h),ae=(0,b.zo)("span",(function(e){var t,n,r=e.$theme,i=e.$disabled,o=e.$size,a=void 0===o?_:o,s="rtl"===r.direction?"borderBottomLeftRadius":"borderBottomRightRadius",u="rtl"===r.direction?"borderTopLeftRadius":"borderTopRightRadius",l="rtl"===r.direction?"marginRight":"marginLeft";return Q(n={alignItems:"center"},s,r.borders.useRoundedCorners?r.borders.radius400:0),Q(n,u,r.borders.useRoundedCorners?r.borders.radius400:0),Q(n,"cursor",i?"not-allowed":"pointer"),Q(n,"display","flex"),Q(n,l,(t={},Q(t,_,"8px"),Q(t,w,"12px"),Q(t,x,"16px"),t)[a]),Q(n,"outline","none"),Q(n,"transitionProperty","all"),Q(n,"transitionDuration","background-color"),Q(n,"transitionTimingFunction",r.animation.easeOutCurve),n}));ae.displayName="Action";var se=(0,b.zo)("div",(function(e){var t=e.$theme,n=e.$size,r=void 0===n?_:n,i=t.sizing.scale300;return r===w?i=t.sizing.scale400:r===x&&(i=t.sizing.scale600),Q({alignItems:"center",display:"flex"},"rtl"===t.direction?"paddingLeft":"paddingRight",i)}));se.displayName="StartEnhancerContainer";var ue=(0,b.zo)("span",(function(e){var t=e.$theme;return{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:e.$theme.sizing.scale3200,order:"rtl"===t.direction?1:0}}));ue.displayName="Text";var le=(0,b.zo)("span",(function(e){var t,n,r,i=e.$theme,o=e.$kind,a=void 0===o?S:o,s=e.$clickable,u=e.$variant,l=e.$disabled,c=e.$closeable,A=e.$isFocusVisible,f=e.$color,h=e.$size,p=void 0===h?_:h,d=i.borders.tagBorderRadius,g=(t={},Q(t,_,i.sizing.scale300),Q(t,w,i.sizing.scale500),Q(t,x,i.sizing.scale600),t)[p],v=l||u!==C.solid?"2px":0,y=oe[a][function(e){return e.$disabled?V:e.$variant===C.solid?G:W}(e)](i,f),m=y.color,b=y.backgroundColor,B=y.borderColor;return z(z({},(n={},Q(n,_,i.typography.LabelSmall),Q(n,w,i.typography.LabelMedium),Q(n,x,i.typography.LabelLarge),n)[p]),{},{alignItems:"center",color:m,backgroundColor:b,borderLeftColor:B,borderRightColor:B,borderTopColor:B,borderBottomColor:B,borderLeftStyle:"solid",borderRightStyle:"solid",borderTopStyle:"solid",borderBottomStyle:"solid",borderLeftWidth:v,borderRightWidth:v,borderTopWidth:v,borderBottomWidth:v,borderTopLeftRadius:d,borderTopRightRadius:d,borderBottomRightRadius:d,borderBottomLeftRadius:d,boxSizing:"border-box",cursor:l?"not-allowed":s?"pointer":"default",display:"inline-flex",height:(r={},Q(r,_,"24px"),Q(r,w,"32px"),Q(r,x,"40px"),r)[p],justifyContent:"space-between",marginTop:"5px",marginBottom:"5px",marginLeft:"5px",marginRight:"5px",paddingTop:i.sizing.scale0,paddingBottom:i.sizing.scale0,paddingLeft:g,paddingRight:g,outline:"none",":hover":l||!s?{}:{boxShadow:"inset 0px 0px 100px ".concat(K(i,"rgba(0, 0, 0, 0.08)","rgba(255, 255, 255, 0.2)"))},":focus":l||!s&&!c?{}:{boxShadow:A?"0 0 0 3px ".concat(a===k?i.colors.primaryA:i.colors.accent):"none"}})}));function ce(e){return ce="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}le.displayName="Root";var Ae=new Set(["string","number"]);var fe=n(5949),he=n(2422);function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}var ye=function(e){return p.createElement(fe.Z,ve({viewBox:"5 5 13.186 13.186"},e))},me=p.forwardRef((function(e,t){var n,r=e.children,i=e.closeable,o=void 0===i||i,a=e.color,s=e.size,u=void 0===s?_:s,l=e.disabled,c=void 0!==l&&l,A=e.isFocused,f=void 0!==A&&A,h=e.isHovered,g=void 0!==h&&h,v=e.kind,y=void 0===v?S:v,m=e.onActionClick,b=void 0===m?function(e){}:m,B=e.onActionKeyDown,E=void 0===B?function(e){}:B,k=e.onClick,O=void 0===k?null:k,T=e.onKeyDown,P=void 0===T?null:T,M=e.overrides,F=void 0===M?{}:M,I=e.startEnhancer,L=e.title,R=e.variant,D=void 0===R?C.light:R,Z=de(p.useState(!1),2),U=Z[0],j=Z[1];var N=de((0,d.jb)(F.Root,le),2),z=N[0],Q=N[1],H=de((0,d.jb)(F.Action,ae),2),V=H[0],G=H[1],W=de((0,d.jb)(F.ActionIcon,ye),2),K=W[0],q=W[1],X=de((0,d.jb)(F.StartEnhancerContainer,se),2),Y=X[0],J=X[1],$=de((0,d.jb)(F.Text,ue),2),ee=$[0],te=$[1],ne="function"===typeof O,re=c?{}:{onClick:O,onKeyDown:function(e){if(e.currentTarget===e.target){var t=e.key;O&&"Enter"===t&&O(e),!o||"Backspace"!==t&&"Delete"!==t||(b(e),E(e)),P&&P(e)}}},ie=c?{}:{onClick:function(e){e.stopPropagation(),b(e)}},oe={$clickable:ne,$closeable:o,$color:a,$disabled:c,$isFocused:f,$isHovered:g,$kind:y,$variant:D,$isFocusVisible:U,$size:u},fe=L||function(e){var t=p.Children.toArray(e).filter((function(e){return null!==e&&void 0!==e}));return t.length&&t.every((function(e){return Ae.has(ce(e))}))?t.join(""):null}(r),ge=(ne||o)&&!c,me=(n={},pe(n,_,12),pe(n,w,16),pe(n,x,20),n)[u],be=I;return p.createElement(z,ve({ref:t,"data-baseweb":"tag","aria-label":ge&&o?"".concat("string"===typeof r?"".concat(r,", "):"","close by backspace"):null,"aria-disabled":!!c||null,role:ge?"button":null,tabIndex:ge?0:null},re,oe,Q,{onFocus:(0,he.Ah)(Q,(function(e){(0,he.E)(e)&&j(!0)})),onBlur:(0,he.Z5)(Q,(function(e){!1!==U&&j(!1)}))}),be&&0!==be&&p.createElement(Y,J,p.createElement(be,null)),p.createElement(ee,ve({title:fe},te),r),o?p.createElement(V,ve({"aria-hidden":!0,role:"presentation"},ie,oe,G),p.createElement(K,ve({size:me},q))):null)}));me.displayName="Tag";var be=me;function _e(){return _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Be(e){var t=e.overrides,n=void 0===t?{}:t,r=e.removeValue,i=Ce(e,["overrides","removeValue"]),o=we((0,d.jb)(n.Tag||n.MultiValue,be),2),a=o[0],s=o[1];return p.createElement(a,_e({variant:C.solid,overrides:{Root:{style:function(e){var t=e.$theme.sizing;return{marginRight:t.scale0,marginBottom:t.scale0,marginLeft:t.scale0,marginTop:t.scale0}}}},onActionClick:r},i,s),e.children)}},9853:function(e,t,n){"use strict";n.d(t,{Z:function(){return W}});var r=n(2791),i=n(6004),o=n(5414),a=n(2476),s=n(7696),u=n(7169);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=A((0,s.hQ)(),2)[1],o=e.title,a=void 0===o?"Search":o,f=e.size,h=e.color,p=e.overrides,d=void 0===p?{}:p,g=c(e,["title","size","color","overrides"]),v=(0,i.vt)({component:n.icons&&n.icons.Search?n.icons.Search:null},d&&d.Svg?(0,i.hq)(d.Svg):{});return r.createElement(u.Z,l({viewBox:"0 0 24 24",ref:t,title:a,size:f,color:h,overrides:{Svg:v}},g),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 6C8.79086 6 7 7.79086 7 10C7 12.2091 8.79086 14 11 14C13.2091 14 15 12.2091 15 10C15 7.79086 13.2091 6 11 6ZM5 10C5 6.68629 7.68629 4 11 4C14.3137 4 17 6.68629 17 10C17 11.2958 16.5892 12.4957 15.8907 13.4765L19.7071 17.2929C20.0976 17.6834 20.0976 18.3166 19.7071 18.7071C19.3166 19.0976 18.6834 19.0976 18.2929 18.7071L14.4765 14.8907C13.4957 15.5892 12.2958 16 11 16C7.68629 16 5 13.3137 5 10Z"}))}var p=r.forwardRef(h),d=n(7992),g=n(9344),v=n(206),y=n(1355),m=n(4005),b=n(6309),_=n(5786),w=n(7249),x=n(5952),C=n(6324);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return e?Array.isArray(e)?e:(t=e,Object.keys(t).reduce((function(e,n){var r=t[n];return e.concat(r.map((function(e){return E(E({},e),{},{__optgroup:n})})))}),[])):[];var t}function O(e){return O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==O(t)&&"function"!==typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(){return null}var Q=function(e){return"click"===e.type},H=function(e){return null!==e.button&&void 0!==e.button&&0===e.button},V=function(e,t){if("undefined"!==typeof document)return t&&e&&e.contains(t)};var G=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(l,e);var t,n,s,u=D(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),N(U(t=u.call(this,e)),"anchor",r.createRef()),N(U(t),"dropdown",r.createRef()),N(U(t),"input",void 0),N(U(t),"dragging",void 0),N(U(t),"focusAfterClear",void 0),N(U(t),"openAfterFocus",void 0),N(U(t),"justSelected",void 0),N(U(t),"options",[]),N(U(t),"state",{activeDescendant:null,inputValue:"",isFocused:!1,isOpen:t.props.startOpen,isPseudoFocused:!1}),N(U(t),"isItMounted",!1),N(U(t),"handleTouchOutside",(function(e){V(t.dropdown.current,e.target)||V(t.anchor.current,e.target)||t.closeMenu()})),N(U(t),"handleTouchMove",(function(){return t.dragging=!0})),N(U(t),"handleTouchStart",(function(){return t.dragging=!1})),N(U(t),"handleTouchEnd",(function(e){t.dragging||t.handleClick(e)})),N(U(t),"handleClick",(function(e){if(!t.props.disabled&&(Q(e)||H(e))){if(e.target===t.input)return t.state.isFocused||(t.openAfterFocus=t.props.openOnClick,t.focus()),void(t.state.isOpen||t.setState({isOpen:!0,isFocused:!0,isPseudoFocused:!1}));if(!t.input||!function(e,t){if(e instanceof Element)for(var n=e;n&&n!==t;){var r=n.getAttribute("role");if("button"===r||"link"===r)return!0;n.tagName&&(n=n.parentElement)}return!1}(e.target,t.input))return t.props.searchable?void(t.state.isFocused?(t.focus(),t.input&&(t.input.value=""),t.setState((function(e){return{isOpen:!t.focusAfterClear&&!e.isOpen,isPseudoFocused:!1}})),t.focusAfterClear=!1):(t.focusAfterClear=!1,t.openAfterFocus=t.props.openOnClick,t.focus())):(t.focus(),void(t.state.isOpen?t.setState({isOpen:!1,isFocused:!1}):t.setState({isOpen:!0,isFocused:!0})))}})),N(U(t),"handleInputFocus",(function(e){if(!t.props.disabled){t.props.onFocus&&t.props.onFocus(e);var n=t.state.isOpen||t.openAfterFocus;n=!t.focusAfterClear&&n,t.setState({isFocused:!0,isOpen:!!n}),t.focusAfterClear=!1,t.openAfterFocus=!1}})),N(U(t),"handleBlur",(function(e){if(e.relatedTarget){if(V(t.anchor.current,e.relatedTarget)||V(t.dropdown.current,e.relatedTarget))return}else if(V(t.anchor.current,e.target))return;t.props.onBlur&&t.props.onBlur(e),t.isItMounted&&t.setState({isFocused:!1,isOpen:!1,isPseudoFocused:!1,inputValue:t.props.onBlurResetsInput?"":t.state.inputValue})})),N(U(t),"handleClickOutside",(function(e){t.justSelected?t.justSelected=!1:V(t.dropdown.current,e.target)||(t.state.isFocused||t.state.isPseudoFocused)&&!V(t.anchor.current,e.target)&&t.handleBlur(e)})),N(U(t),"handleInputChange",(function(e){var n=e.target.value;t.setState({inputValue:n,isOpen:!0,isPseudoFocused:!1}),t.props.onInputChange&&t.props.onInputChange(e)})),N(U(t),"handleKeyDown",(function(e){if(!t.props.disabled)switch(e.keyCode){case 8:!t.state.inputValue&&t.props.backspaceRemoves&&(e.preventDefault(),t.backspaceValue());break;case 9:t.setState((function(e){return{isPseudoFocused:!1,isFocused:!1,isOpen:!1,inputValue:t.props.onCloseResetsInput&&t.props.onBlurResetsInput?"":e.inputValue}}));break;case 27:!t.state.isOpen&&t.props.clearable&&t.props.escapeClearsValue&&(t.clearValue(e),t.setState({isFocused:!1,isPseudoFocused:!1}));break;case 32:if(t.props.searchable)break;e.preventDefault(),t.state.isOpen||t.setState({isOpen:!0});break;case 38:case 40:case 33:case 34:e.preventDefault(),t.state.isOpen||t.setState({isOpen:!0});break;case 35:case 36:if(e.shiftKey)break;e.preventDefault(),t.state.isOpen||t.setState({isOpen:!0});break;case 46:!t.state.inputValue&&t.props.deleteRemoves&&(e.preventDefault(),t.popValue())}})),N(U(t),"getOptionLabel",(function(e,n){var r=n.option;return r.isCreatable?"".concat(e.select.create," \u201c").concat(r[t.props.labelKey],"\u201d"):r[t.props.labelKey]})),N(U(t),"getValueLabel",(function(e){return e.option[t.props.labelKey]})),N(U(t),"handleActiveDescendantChange",(function(e){e?t.setState({activeDescendant:e}):t.setState({activeDescendant:null})})),N(U(t),"handleInputRef",(function(e){t.input=e,t.props.controlRef&&"function"===typeof t.props.controlRef&&t.props.controlRef(e)})),N(U(t),"selectValue",(function(e){var n=e.item;if(!n.disabled){t.justSelected=!0;var r=t.props.onSelectResetsInput?"":t.state.inputValue;t.props.multi?t.setState({inputValue:r,isOpen:!t.props.closeOnSelect},(function(){t.props.value.some((function(e){return e[t.props.valueKey]===n[t.props.valueKey]}))?t.removeValue(n):t.addValue(n)})):(t.focus(),t.setState({inputValue:r,isOpen:!t.props.closeOnSelect,isFocused:!0,isPseudoFocused:!1},(function(){t.setValue([n],n,_.oL.select)})))}})),N(U(t),"addValue",(function(e){var n=M(t.props.value);t.setValue(n.concat(e),e,_.oL.select)})),N(U(t),"backspaceValue",(function(){var e=t.popValue();if(e){var n=t.props.value.length,r=(t.props.getValueLabel||t.getValueLabel)({option:e,index:n-1});if(!t.props.backspaceClearsInputValue&&"string"===typeof r){var i=r.slice(0,-1);t.setState({inputValue:i,isOpen:!0})}}})),N(U(t),"popValue",(function(){var e=M(t.props.value),n=e.length;if(n&&!1!==e[n-1].clearableValue){var r=e.pop();return t.setValue(e,r,_.oL.remove),r}})),N(U(t),"removeValue",(function(e){var n=M(t.props.value);t.setValue(n.filter((function(n){return n[t.props.valueKey]!==e[t.props.valueKey]})),e,_.oL.remove),t.focus()})),N(U(t),"clearValue",(function(e){if(!Q(e)||H(e)){if(t.props.value){var n=t.props.value.filter((function(e){return!1===e.clearableValue}));t.setValue(n,null,_.oL.clear)}t.setState({inputValue:"",isOpen:!1}),t.focus(),t.focusAfterClear=!0}})),N(U(t),"shouldShowPlaceholder",(function(){return!(t.state.inputValue||t.props.value&&t.props.value.length)})),N(U(t),"shouldShowValue",(function(){return!t.state.inputValue})),t.options=k(e.options),t}return t=l,n=[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focus(),this.isItMounted=!0;var e=this.props.controlRef;e&&"function"!==typeof e&&(e.current={setDropdownOpen:this.handleDropdownOpen.bind(this),setInputValue:this.handleSetInputValue.bind(this),setInputFocus:this.handleSetInputFocus.bind(this),setInputBlur:this.handleSetInputBlur.bind(this),focus:this.handleSetInputFocus.bind(this),blur:this.handleSetInputBlur.bind(this)})}},{key:"componentDidUpdate",value:function(e,t){"undefined"!==typeof document&&(t.isOpen!==this.state.isOpen&&(this.state.isOpen?(this.props.onOpen&&this.props.onOpen(),document.addEventListener("touchstart",this.handleTouchOutside)):(this.props.onClose&&this.props.onClose(),document.removeEventListener("touchstart",this.handleTouchOutside))),!t.isFocused&&this.state.isFocused&&document.addEventListener("click",this.handleClickOutside))}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof document&&(document.removeEventListener("touchstart",this.handleTouchOutside),document.removeEventListener("click",this.handleClickOutside)),this.isItMounted=!1}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"handleDropdownOpen",value:function(e){this.setState({isOpen:e})}},{key:"handleSetInputValue",value:function(e){this.setState({inputValue:e})}},{key:"handleSetInputFocus",value:function(){this.input.focus()}},{key:"handleSetInputBlur",value:function(){this.input.blur()}},{key:"closeMenu",value:function(){this.props.onCloseResetsInput?this.setState({inputValue:"",isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi})}},{key:"getValueArray",value:function(e){var t=this;if(!Array.isArray(e)){if(null===e||void 0===e)return[];e=[e]}return e.map((function(e){return function(e,t){if(!t.options)return e;for(var n=k(t.options),r=0;r<n.length;r++)if(String(n[r][t.valueKey])===String(e[t.valueKey]))return n[r];return e}(e,t.props)}))}},{key:"setValue",value:function(e,t,n){this.props.onChange&&this.props.onChange({value:e,option:t,type:n})}},{key:"renderLoading",value:function(){if(this.props.isLoading){var e=this.getSharedProps(),t=this.props.overrides,n=void 0===t?{}:t,o=P((0,i.jb)(n.LoadingIndicator,y.Z),2),a=o[0],s=o[1];return r.createElement(a,T({size:16,overrides:{Svg:{style:C.Hw}},$silenceV11DeprecationWarning:!0},e,s))}}},{key:"renderValue",value:function(e,t,n){var i=this,o=this.props.overrides,a=void 0===o?{}:o,s=this.getSharedProps(),u=this.props.getValueLabel||this.getValueLabel,l=this.props.valueComponent||z;return e.length?this.props.multi?e.map((function(e,t){var n=s.$disabled||!1===e.clearableValue;return r.createElement(l,T({value:e,key:"value-".concat(t,"-").concat(e[i.props.valueKey]),removeValue:function(){return i.removeValue(e)},disabled:n,overrides:{Tag:a.Tag,MultiValue:a.MultiValue}},s,{$disabled:n}),u({option:e,index:t}))})):this.shouldShowValue()?r.createElement(l,T({value:e[0][this.props.valueKey],disabled:this.props.disabled,overrides:{SingleValue:a.SingleValue}},s),u({option:e[0]})):void 0:null}},{key:"renderInput",value:function(e){var t=this,n=this.props.overrides,o=void 0===n?{}:n,a=P((0,i.jb)(o.InputContainer,C.j5),2),s=a[0],u=a[1],l=this.getSharedProps(),c=this.state.isOpen,A=this.getValueArray(this.props.value).map((function(e){return e[t.props.labelKey]})).join(", "),f=A.length?"Selected ".concat(A,". "):"",h="".concat(f).concat(this.props["aria-label"]||"");return this.props.searchable?r.createElement(s,T({},l,u),r.createElement(b.Z,T({"aria-activedescendant":this.state.activeDescendant,"aria-autocomplete":"list","aria-controls":this.state.isOpen?e:null,"aria-describedby":this.props["aria-describedby"],"aria-errormessage":this.props["aria-errormessage"],"aria-disabled":this.props.disabled||null,"aria-expanded":c,"aria-haspopup":"listbox","aria-label":h,"aria-labelledby":this.props["aria-labelledby"],"aria-required":this.props.required||null,disabled:this.props.disabled||null,id:this.props.id||null,inputRef:this.handleInputRef,onChange:this.handleInputChange,onFocus:this.handleInputFocus,overrides:{Input:o.Input},required:this.props.required&&!this.props.value.length||null,role:"combobox",value:this.state.inputValue,tabIndex:0},l))):r.createElement(s,T({role:"listbox","aria-activedescendant":this.state.activeDescendant,"aria-expanded":c,"aria-describedby":this.props["aria-describedby"],"aria-errormessage":this.props["aria-errormessage"],"aria-disabled":this.props.disabled,"aria-label":h,"aria-labelledby":this.props["aria-labelledby"],"aria-owns":this.state.isOpen?e:null,"aria-required":this.props.required||null,onFocus:this.handleInputFocus,tabIndex:0},l,u),r.createElement("input",T({"aria-hidden":!0,id:this.props.id||null,ref:this.handleInputRef,style:{opacity:0,width:0,overflow:"hidden",border:"none",padding:0},tabIndex:-1},o.Input&&o.Input.props?o.Input.props:{})))}},{key:"renderClear",value:function(){var e=Boolean(this.props.value&&this.props.value.length||this.state.inputValue);if(this.props.clearable&&!this.props.disabled&&!this.props.isLoading&&e){var t=this.getSharedProps(),n=this.props.overrides,a=void 0===n?{}:n,s=P((0,i.jb)(a.ClearIcon,o.Z),2),u=s[0],l=s[1],c=this.props.multi?"Clear all":"Clear value";return r.createElement(u,T({title:c,"aria-label":c,onClick:this.clearValue,role:"button",overrides:{Svg:{component:C.i,props:a.ClearIcon&&a.ClearIcon.props?a.ClearIcon.props:{},style:a.ClearIcon&&a.ClearIcon.style?a.ClearIcon.style:{}}}},t,l))}}},{key:"renderArrow",value:function(){if(this.props.type!==_.wD.select)return null;var e=this.props.overrides,t=void 0===e?{}:e,n=P((0,i.jb)(t.SelectArrow,a.Z),2),o=n[0],s=n[1],u=this.getSharedProps();return r.createElement(o,T({size:16,title:"open",overrides:{Svg:{component:C.sJ,props:t.SelectArrow&&t.SelectArrow.props?t.SelectArrow.props:{},style:t.SelectArrow&&t.SelectArrow.style?t.SelectArrow.style:{}}}},u,s))}},{key:"renderSearch",value:function(){if(this.props.type!==_.wD.search)return null;var e=this.props.overrides,t=void 0===e?{}:e,n=P((0,i.jb)(t.SearchIconContainer,C.TT),2),o=n[0],a=n[1],s=P((0,i.jb)(t.SearchIcon,p),2),u=s[0],l=s[1],c=this.getSharedProps();return r.createElement(o,T({},c,l,a),r.createElement(u,T({size:16,title:"search"},l)))}},{key:"filterOptions",value:function(e){var t=this,n=this.state.inputValue.trim();this.props.filterOptions&&(this.options=this.props.filterOptions(this.options,n,e,{valueKey:this.props.valueKey,labelKey:this.props.labelKey}));var r,i=this.props.ignoreCase?function(e){return e[t.props.labelKey].toLowerCase()!==n.toLowerCase().trim()}:function(e){return e[t.props.labelKey]!==n.trim()};return n&&this.props.creatable&&this.options.concat(this.props.value).every(i)&&this.options.push((N(r={id:n},this.props.labelKey,n),N(r,this.props.valueKey,n),N(r,"isCreatable",!0),r)),this.options}},{key:"getSharedProps",value:function(){var e=this.props,t=e.clearable,n=e.creatable,r=e.disabled,i=e.error,o=e.positive,a=e.isLoading,s=e.multi,u=e.required,l=e.size,c=e.searchable,A=e.type,f=e.value,h=this.state,p=h.isOpen;return{$clearable:t,$creatable:n,$disabled:r,$error:i,$positive:o,$isFocused:h.isFocused,$isLoading:a,$isOpen:p,$isPseudoFocused:h.isPseudoFocused,$multi:s,$required:u,$searchable:c,$size:l,$type:A,$isEmpty:!this.getValueArray(f).length}}},{key:"render",value:function(){var e=this;this.options=k(this.props.options);var t=this.props,n=t.overrides,o=void 0===n?{}:n,a=t.type,s=t.multi,u=t.noResultsMsg,l=t.value,c=t.filterOutSelected,A=P((0,i.jb)(o.Root,C.Fp),2),f=A[0],h=A[1],p=P((0,i.jb)(o.ControlContainer,C.lq),2),y=p[0],b=p[1],w=P((0,i.jb)(o.ValueContainer,C.Jw),2),B=w[0],E=w[1],S=P((0,i.jb)(o.IconsContainer,C.Bc),2),O=S[0],M=S[1],F=P((0,i.jb)(o.Popover,g.Z),2),I=F[0],L=F[1],R=P((0,i.jb)(o.Placeholder,C.Gj),2),D=R[0],Z=R[1],U=this.getSharedProps(),j=this.getValueArray(l),N=this.filterOptions(s&&c?j:null),z=this.state.isOpen;return U.$isOpen=z,r.createElement(m.yF,null,(function(t){return r.createElement(d.R.Consumer,null,(function(n){return r.createElement(I,T({innerRef:function(t){t&&(e.anchor=t.anchorRef)},autoFocus:!1,focusLock:!1,mountNode:e.props.mountNode,onEsc:function(){return e.closeMenu()},isOpen:z,popoverMargin:0,content:function(){var i={error:e.props.error,positive:e.props.positive,getOptionLabel:e.props.getOptionLabel||e.getOptionLabel.bind(e,n),id:t,isLoading:e.props.isLoading,labelKey:e.props.labelKey,maxDropdownHeight:e.props.maxDropdownHeight,multi:s,noResultsMsg:u,onActiveDescendantChange:e.handleActiveDescendantChange,onItemSelect:e.selectValue,options:N,overrides:o,required:e.props.required,searchable:e.props.searchable,size:e.props.size,type:a,value:j,valueKey:e.props.valueKey,width:e.anchor.current?e.anchor.current.clientWidth:null,keyboardControlNode:e.anchor};return r.createElement(x.Z,T({innerRef:e.dropdown},i))},placement:v.r4.bottom},L),r.createElement(f,T({onBlur:e.handleBlur,"data-baseweb":"select"},U,h),r.createElement(y,T({onKeyDown:e.handleKeyDown,onClick:e.handleClick,onTouchEnd:e.handleTouchEnd,onTouchMove:e.handleTouchMove,onTouchStart:e.handleTouchStart},U,b),a===_.wD.search?e.renderSearch():null,r.createElement(B,T({},U,E),e.renderValue(j,z,n),e.renderInput(t),e.shouldShowPlaceholder()?r.createElement(D,T({},U,Z),"undefined"!==typeof e.props.placeholder?e.props.placeholder:n.select.placeholder):null),r.createElement(O,T({},U,M),e.renderLoading(),e.renderClear(),a===_.wD.select?e.renderArrow():null))))}))}))}}],n&&L(t.prototype,n),s&&L(t,s),l}(r.Component);N(G,"defaultProps",w.Z);var W=G},692:function(e,t,n){"use strict";var r=n(2791),i=n(9853),o=n(2312),a=n(2079);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}t.Z=function(e){return r.createElement(i.Z,s({},e,{valueComponent:e.multi?o.Z:a.Z}))}},6324:function(e,t,n){"use strict";n.d(t,{Bc:function(){return C},EI:function(){return h},Fp:function(){return g},Fy:function(){return w},Gj:function(){return m},Hw:function(){return k},Iu:function(){return f},Jw:function(){return y},TT:function(){return O},aO:function(){return x},du:function(){return d},gR:function(){return b},i:function(){return S},j5:function(){return _},lq:function(){return v},mj:function(){return p},sJ:function(){return E}});var r=n(7696),i=n(8316),o=n(5786),a=n(9398),s=n(3113);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.NO.default,n=arguments.length>1?arguments[1]:void 0;return(e={},c(e,i.NO.mini,n.font100),c(e,i.NO.compact,n.font200),c(e,i.NO.default,n.font300),c(e,i.NO.large,n.font400),e)[t]}var f=(0,r.zo)("div",(function(e){return{width:"".concat(String(e.$width),"px")}}));f.displayName="StyledDropdownContainer";var h=a.CK,p=a.oH,d=(0,r.zo)("div",(function(e){var t=e.$isHighlighted,n=e.$selected,r=e.$disabled,i=e.$theme;return{cursor:r?"not-allowed":"pointer",color:n&&!t?i.colors.menuFontSelected:null,fontWeight:n?"bold":"normal"}}));d.displayName="StyledOptionContent";var g=(0,r.zo)("div",(function(e){var t=e.$theme.typography;return l(l({},A(e.$size,t)),{},{boxSizing:"border-box",position:"relative",width:"100%"})}));g.displayName="StyledRoot";var v=(0,r.zo)("div",(function(e){var t=e.$disabled,n=e.$error,r=e.$positive,i=e.$isFocused,a=e.$isPseudoFocused,s=e.$type,u=e.$searchable,c=e.$theme,A=c.borders,f=c.colors,h=c.animation;return l({borderTopLeftRadius:A.inputBorderRadius,borderTopRightRadius:A.inputBorderRadius,borderBottomRightRadius:A.inputBorderRadius,borderBottomLeftRadius:A.inputBorderRadius,boxSizing:"border-box",overflow:"hidden",width:"100%",display:"flex",justifyContent:"space-between",cursor:t?"not-allowed":u||s===o.wD.search?"text":"pointer",borderLeftWidth:"2px",borderRightWidth:"2px",borderTopWidth:"2px",borderBottomWidth:"2px",borderLeftStyle:"solid",borderRightStyle:"solid",borderTopStyle:"solid",borderBottomStyle:"solid",transitionProperty:"border, box-shadow, background-color",transitionDuration:h.timing200,transitionTimingFunction:h.easeOutCurve},function(e,t,n,r,i,o){return e?{color:o.inputTextDisabled,borderLeftColor:o.inputFillDisabled,borderRightColor:o.inputFillDisabled,borderTopColor:o.inputFillDisabled,borderBottomColor:o.inputFillDisabled,backgroundColor:o.inputFillDisabled}:t||n?{color:o.contentPrimary,borderLeftColor:o.borderFocus,borderRightColor:o.borderFocus,borderTopColor:o.borderFocus,borderBottomColor:o.borderFocus,backgroundColor:o.inputFillActive}:i?{color:o.contentPrimary,borderLeftColor:o.inputBorderError,borderRightColor:o.inputBorderError,borderTopColor:o.inputBorderError,borderBottomColor:o.inputBorderError,backgroundColor:o.inputFillError}:r?{color:o.contentPrimary,borderLeftColor:o.inputBorderPositive,borderRightColor:o.inputBorderPositive,borderTopColor:o.inputBorderPositive,borderBottomColor:o.inputBorderPositive,backgroundColor:o.inputFillPositive}:{color:o.contentPrimary,borderLeftColor:o.inputBorder,borderRightColor:o.inputBorder,borderTopColor:o.inputBorder,borderBottomColor:o.inputBorder,backgroundColor:o.inputFill}}(t,i,a,r,n,f))}));v.displayName="StyledControlContainer";var y=(0,r.zo)("div",(function(e){var t=function(e){var t,n,r,a,s,u=e.$theme,l=e.$theme.sizing,A=e.$size,f=void 0===A?i.NO.default:A,h=e.$type,p=e.$multi,d=e.$isEmpty,g=h===o.wD.search?"calc(".concat(l.scale1000," - ").concat(l.scale0,")"):l.scale400,v="rtl"===u.direction?"paddingRight":"paddingLeft",y="rtl"===u.direction?"paddingLeft":"paddingRight";return(s={},c(s,i.NO.mini,(t={paddingTop:p&&!d?0:l.scale100,paddingBottom:p&&!d?0:l.scale100},c(t,v,p&&!d?"calc(".concat(g," - ").concat(l.scale0,")"):g),c(t,y,"0"),t)),c(s,i.NO.compact,(n={paddingTop:p&&!d?"calc(".concat(l.scale100," - ").concat(l.scale0,")"):l.scale200,paddingBottom:p&&!d?"calc(".concat(l.scale100," - ").concat(l.scale0,")"):l.scale200},c(n,v,p&&!d?"calc(".concat(g," - ").concat(l.scale0,")"):g),c(n,y,"0"),n)),c(s,i.NO.default,(r={paddingTop:p&&!d?"calc(".concat(l.scale400," - ").concat(l.scale0,")"):l.scale400,paddingBottom:p&&!d?"calc(".concat(l.scale400," - ").concat(l.scale0,")"):l.scale400},c(r,v,p&&!d?"calc(".concat(g," + ").concat(l.scale0,")"):g),c(r,y,0),r)),c(s,i.NO.large,(a={paddingTop:p&&!d?"calc(".concat(l.scale600," - ").concat(l.scale0,")"):l.scale550,paddingBottom:p&&!d?"calc(".concat(l.scale600," - ").concat(l.scale0,")"):l.scale550},c(a,v,p&&!d?"calc(".concat(g," - ").concat(l.scale0,")"):g),c(a,y,0),a)),s)[f]}(e);return l({boxSizing:"border-box",position:"relative",flexGrow:1,flexShrink:1,flexBasis:"0%",display:"flex",alignItems:"center",flexWrap:e.$multi?"wrap":"nowrap",overflow:"hidden"},t)}));y.displayName="StyledValueContainer";var m=(0,r.zo)("div",(function(e){var t=e.$disabled,n=e.$theme.colors;return{color:t?n.inputPlaceholderDisabled:n.inputPlaceholder,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));m.displayName="StyledPlaceholder";var b=(0,r.zo)("div",(function(e){var t,n=e.$searchable,r=e.$size,i=e.$theme,o=A(r,e.$theme.typography),a="rtl"===i.direction?"marginRight":"marginLeft";return l((c(t={lineHeight:n?"inherit":o.lineHeight,boxSizing:"border-box"},a,i.sizing.scale0),c(t,"height","100%"),c(t,"maxWidth","100%"),t),s.wj)}));b.displayName="StyledSingleValue";var _=(0,r.zo)("div",(function(e){var t=e.$size,n=e.$searchable,r=e.$theme,i=r.typography,o=r.sizing,a=e.$isEmpty,s=A(t,i);return{position:"relative",display:"inline-block",maxWidth:"100%",backgroundColor:"transparent",borderLeftStyle:"none",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",boxShadow:"none",boxSizing:"border-box",outline:"none",marginTop:0,marginBottom:0,marginLeft:a?0:o.scale0,marginRight:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,height:String(n?"auto":s.lineHeight),maxHeight:String(s.lineHeight)}}));_.displayName="StyledInputContainer";var w=(0,r.zo)("input",(function(e){var t=e.$theme,n=t.colors,r=t.typography,i=e.$size,o=e.$searchable,a=e.$width;return l(l({},A(i,r)),{},{color:n.contentPrimary,boxSizing:"content-box",width:o?a||"100%":"1px",maxWidth:"100%",background:"transparent",borderLeftStyle:"none",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",boxShadow:"none",display:"inline-block",outline:"none",marginTop:"0",marginBottom:"0",marginLeft:"0",marginRight:"0",paddingTop:"0",paddingBottom:"0",paddingLeft:"0",paddingRight:"0"})}));w.displayName="StyledInput";var x=(0,r.zo)("div",(function(e){var t,n=e.$size,r=e.$theme,i=e.$theme.typography,o="rtl"===r.direction?"right":"left";return l(l({},A(n,i)),{},(c(t={position:"absolute",top:0},o,0),c(t,"visibility","hidden"),c(t,"height",0),c(t,"overflow","scroll"),c(t,"whiteSpace","pre"),t))}));x.displayName="StyledInputSizer";var C=(0,r.zo)("div",(function(e){var t=e.$theme,n=e.$theme.sizing;return c({boxSizing:"border-box",position:"relative",display:"flex",flexShrink:0,alignItems:"center",alignSelf:"stretch"},"rtl"===t.direction?"paddingLeft":"paddingRight",n.scale500)}));function B(e){var t=e.$theme;return{display:"inline-block",fill:"currentColor",color:"currentColor",height:t.sizing.scale600,width:t.sizing.scale600}}C.displayName="StyledIconsContainer";var E=(0,r.zo)("svg",(function(e){var t,n=e.$theme,r=e.$disabled,o=e.$size,a=n.colors,s=(c(t={},i.NO.mini,16),c(t,i.NO.compact,16),c(t,i.NO.default,20),c(t,i.NO.large,24),t),u=s[i.NO.default];return o&&(u=s[o]),l(l({},B({$theme:n})),{},{color:r?a.inputTextDisabled:a.contentPrimary,cursor:r?"not-allowed":"pointer",height:"".concat(u,"px"),width:"".concat(u,"px")})}));E.displayName="StyledSelectArrow";var S=(0,r.zo)("svg",(function(e){var t,n=e.$theme,r=e.$size,o=n.colors,a=(c(t={},i.NO.mini,15),c(t,i.NO.compact,15),c(t,i.NO.default,18),c(t,i.NO.large,22),t),s=a[i.NO.default];return r&&(s=a[r]),l(l({},B({$theme:n})),{},{color:o.contentPrimary,cursor:"pointer",height:"".concat(s,"px"),width:"".concat(s,"px")})}));S.displayName="StyledClearIcon";var k=function(e){var t=e.$theme,n=t.colors;return l(l({},B({$theme:t})),{},{color:n.contentPrimary})},O=(0,r.zo)("div",(function(e){var t,n=e.$disabled,r=e.$theme,i=r.colors,o=r.sizing,a="rtl"===r.direction?"right":"left";return l(l({},B(e)),{},(c(t={color:n?i.inputTextDisabled:i.contentPrimary,cursor:n?"not-allowed":"pointer",position:"absolute",top:0},a,o.scale500),c(t,"display","flex"),c(t,"alignItems","center"),c(t,"height","100%"),t))}));O.displayName="StyledSearchIconContainer"},1357:function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(e){return"undefined"!==typeof e&&null!==e&&""!==e},a={filterOption:null,ignoreCase:!0,labelKey:"label",matchPos:"any",matchProp:"any",trimFilter:!0,valueKey:"value"};t.Z=function(e,t,n,i){var s=r(r({},a),i);s.ignoreCase&&(t=t.toLowerCase()),s.trimFilter&&(t=t.trim());var u=(n||[]).reduce((function(e,t){return e.add(t[s.valueKey]),e}),new Set),l=new RegExp("".concat("start"===s.matchPos?"$":"").concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),s.ignoreCase?"i":"");return e.filter((function(e){if(u.has(e[s.valueKey]))return!1;if(s.filterOption)return s.filterOption.call(void 0,e,t);if(!t)return!0;var n=e[s.valueKey],r=e[s.labelKey],i=o(n),a=o(r);if(!i&&!a)return!1;var c=i?String(n):null,A=a?String(r):null;return c&&"label"!==s.matchProp&&l.test(c)||A&&"value"!==s.matchProp&&l.test(A)}))}},2079:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(2791),i=n(6324),o=n(6004);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e){var t=e.overrides,n=void 0===t?{}:t,u=l(e,["overrides"]),c=s((0,o.jb)(n.SingleValue,i.gR),2),A=c[0],f=c[1];return r.createElement(A,a({"aria-selected":"true"},u,f),e.children)}},9072:function(e,t,n){"use strict";n.r(t),n.d(t,{Slider:function(){return S},StatefulContainer:function(){return N},StatefulSlider:function(){return z},StyledInnerThumb:function(){return v},StyledInnerTrack:function(){return f},StyledMark:function(){return h},StyledRoot:function(){return c},StyledThumb:function(){return g},StyledThumbValue:function(){return y},StyledTick:function(){return p},StyledTickBar:function(){return d},StyledTrack:function(){return A}});var r=n(2791),i=n(6057),o=n(2422),a=n(7696);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,a.zo)("div",{position:"relative",width:"100%"});c.displayName="Root",c.displayName="StyledRoot";var A=(0,a.zo)("div",(function(e){var t=e.$theme,n=e.$value,r=void 0===n?[]:n,i=e.$disabled,o=e.$isDragged,a=t.sizing,s="inherit";return i?s="not-allowed":o?s="grabbing":1===r.length&&(s="pointer"),{paddingTop:a.scale600,paddingBottom:a.scale600,paddingRight:a.scale600,paddingLeft:a.scale600,display:"flex",cursor:s,backgroundColor:t.colors.sliderTrackFill}}));A.displayName="Track",A.displayName="StyledTrack";var f=(0,a.zo)("div",(function(e){var t=e.$theme,n=e.$value,r=void 0===n?[]:n,o=e.$min,a=e.$max,s=e.$disabled,u=t.colors,l=t.borders,c=t.direction,A=t.borders.useRoundedCorners?l.radius100:0;return{borderTopLeftRadius:A,borderTopRightRadius:A,borderBottomRightRadius:A,borderBottomLeftRadius:A,background:(0,i.getTrackBackground)({values:r,colors:1===r.length?[s?u.borderOpaque:u.primary,s?u.backgroundSecondary:u.borderOpaque]:[s?u.backgroundSecondary:u.borderOpaque,s?u.borderOpaque:u.primary,s?u.backgroundSecondary:u.borderOpaque],min:o||0,max:a||0,rtl:"rtl"===c}),height:"2px",width:"100%",alignSelf:"center",cursor:s?"not-allowed":"inherit"}}));f.displayName="InnerTrack",f.displayName="StyledInnerTrack";var h=(0,a.zo)("div",(function(e){return{width:"4px",height:"2px",backgroundColor:e.$theme.colors.backgroundPrimary,marginLeft:"16px"}}));h.displayName="Mark",h.displayName="StyledMark";var p=(0,a.zo)("div",(function(e){return u(u({},e.$theme.typography.font200),{},{color:e.$theme.colors.contentPrimary})}));p.displayName="Tick",p.displayName="StyledTick";var d=(0,a.zo)("div",(function(e){var t=e.$theme.sizing;return{display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:t.scale600,paddingLeft:t.scale600,paddingBottom:t.scale400}}));d.displayName="TickBar",d.displayName="StyledTickBar";var g=(0,a.zo)("div",(function(e){var t=e.$theme,n=e.$value,r=void 0===n?[]:n,i=e.$thumbIndex,o=e.$disabled,a=2===r.length&&0===i,s=2===r.length&&1===i;return"rtl"===t.direction&&(s||a)&&(a=!a,s=!s),{height:"24px",width:"24px",borderTopLeftRadius:"24px",borderTopRightRadius:"24px",borderBottomLeftRadius:"24px",borderBottomRightRadius:"24px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:o?t.colors.sliderHandleFillDisabled:t.colors.sliderHandleFill,outline:"none",boxShadow:e.$isFocusVisible?"0 0 0 3px ".concat(t.colors.accent):"0 1px 4px rgba(0, 0, 0, 0.12)",cursor:o?"not-allowed":"inherit"}}));g.displayName="Thumb",g.displayName="StyledThumb";var v=(0,a.zo)("div",(function(e){var t=e.$disabled,n=e.$theme;return{position:"absolute",top:"-16px",width:"4px",height:"20px",backgroundColor:t?n.colors.sliderHandleFillDisabled:n.colors.sliderHandleInnerFill}}));v.displayName="InnerThumb",v.displayName="StyledInnerThumb";var y=(0,a.zo)("div",(function(e){var t=e.$disabled,n=e.$theme;return u(u({position:"absolute",top:"-".concat(n.sizing.scale1400)},n.typography.font200),{},{backgroundColor:t?n.colors.sliderHandleFillDisabled:n.colors.sliderHandleInnerFill,color:n.colors.contentInversePrimary,paddingLeft:n.sizing.scale600,paddingRight:n.sizing.scale600,paddingTop:n.sizing.scale500,paddingBottom:n.sizing.scale500,borderBottomLeftRadius:"48px",borderBottomRightRadius:"48px",borderTopLeftRadius:"48px",borderTopRightRadius:"48px",whiteSpace:"nowrap"})}));y.displayName="ThumbValue",y.displayName="StyledThumbValue";var m=n(6004),b=n(3370);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.overrides,n=void 0===t?{}:t,a=e.disabled,s=void 0!==a&&a,u=e.marks,l=void 0!==u&&u,_=e.onChange,x=void 0===_?function(){}:_,E=e.onFinalChange,S=void 0===E?function(){}:E,k=e.min,O=void 0===k?0:k,T=e.max,P=void 0===T?100:T,M=e.step,F=void 0===M?1:M,I=e.persistentThumb,L=void 0!==I&&I,R=e.valueToLabel,D=void 0===R?function(e){return e}:R,Z=e.value,U=r.useContext(b.N),j=B(r.useState(!1),2),N=j[0],z=j[1],Q=B(r.useState(!1),2),H=Q[0],V=Q[1],G=B(r.useState(!1),2),W=G[0],K=G[1],q=B(r.useState(-1),2),X=q[0],Y=q[1],J=r.useCallback((function(e){(0,o.E)(e)&&K(!0);var t=e.target.parentNode.firstChild===e.target?0:1;Y(t)}),[]),$=r.useCallback((function(e){!1!==W&&K(!1),Y(-1)}),[]),ee=function(e){if(e.length>2||0===e.length)throw new Error("the value prop represents positions of thumbs, so its length can be only one or two");return e}(Z),te={$disabled:s,$step:F,$min:O,$max:P,$marks:l,$value:ee,$isFocusVisible:W},ne=B((0,m.jb)(n.Root,c),2),re=ne[0],ie=ne[1],oe=B((0,m.jb)(n.Track,A),2),ae=oe[0],se=oe[1],ue=B((0,m.jb)(n.InnerTrack,f),2),le=ue[0],ce=ue[1],Ae=B((0,m.jb)(n.Thumb,g),2),fe=Ae[0],he=Ae[1],pe=B((0,m.jb)(n.InnerThumb,v),2),de=pe[0],ge=pe[1],ve=B((0,m.jb)(n.ThumbValue,y),2),ye=ve[0],me=ve[1],be=B((0,m.jb)(n.Tick,p),2),_e=be[0],we=be[1],xe=B((0,m.jb)(n.TickBar,d),2),Ce=xe[0],Be=xe[1],Ee=B((0,m.jb)(n.Mark,h),2),Se=Ee[0],ke=Ee[1];return r.createElement(re,C({"data-baseweb":"slider"},te,ie,{onFocus:(0,o.Ah)(ie,J),onBlur:(0,o.Z5)(ie,$)}),r.createElement(i.Range,C({step:F,min:O,max:P,values:ee,disabled:s,onChange:function(e){return x({value:e})},onFinalChange:function(e){return S({value:e})},rtl:"rtl"===U.direction,renderTrack:function(e){var t=e.props,n=e.children,i=e.isDragged;return r.createElement(ae,C({onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,$isDragged:i},te,se),r.createElement(le,C({$isDragged:i,ref:t.ref},te,ce),n))},renderThumb:function(e){var t=e.props,n=e.index,i=e.isDragged,o=L||(!!n&&H||!n&&N||i)&&!s;return r.createElement(fe,C({},t,{onMouseEnter:function(){0===n?z(!0):V(!0)},onMouseLeave:function(){0===n?z(!1):V(!1)},$thumbIndex:n,$isDragged:i,style:w({},t.style)},te,he,{$isFocusVisible:W&&X===n}),o&&r.createElement(ye,C({$thumbIndex:n,$isDragged:i},te,me),D(ee[n])),o&&r.createElement(de,C({$thumbIndex:n,$isDragged:i},te,ge)))}},l?{renderMark:function(e){var t=e.props,n=e.index;return r.createElement(Se,C({$markIndex:n},t,te,ke))}}:{})),r.createElement(Ce,C({},te,Be),r.createElement(_e,C({},te,we),D(O)),r.createElement(_e,C({},te,we),D(P))))},k=Object.freeze({change:"change",finalChange:"finalChange"});function O(e){return O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function T(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var i=Z(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==O(t)&&"function"!==typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(o,e);var t,n,r,i=L(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),U(D(t=i.call(this,e)),"onChange",(function(e){return t.internalSetState(k.change,e),t.props.onChange(M({},e))})),U(D(t),"onFinalChange",(function(e){return t.internalSetState(k.finalChange,e),t.props.onFinalChange(M({},e))})),U(D(t),"internalSetState",(function(e,n){var r={value:n.value},i=(0,t.props.stateReducer)(e,r,t.state);t.setState(i)})),t.state={value:e.initialState&&Array.isArray(e.initialState.value)?e.initialState.value:[Math.round((e.max-e.min)/2)+e.min]},t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.children;return e.initialState,e.stateReducer,t(M(M(M({},T(e,["children","initialState","stateReducer"])),this.state),{},{onChange:this.onChange,onFinalChange:this.onFinalChange}))}}])&&F(t.prototype,n),r&&F(t,r),o}(r.Component);U(j,"defaultProps",{stateReducer:function(e,t){return t},min:0,max:100,step:1,marks:!1,onChange:function(){},onFinalChange:function(){}});var N=j;function z(e){return r.createElement(N,e,(function(e){return r.createElement(S,e)}))}},2534:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r={small:"small",medium:"medium",large:"large"}},9069:function(e,t,n){"use strict";n.r(t),n.d(t,{SIZE:function(){return d.N},Spinner:function(){return h.Z},SpinnerDeterminate:function(){return f},StyledActivePath:function(){return p.l1},StyledSpinnerDeterminateRoot:function(){return o.CN},StyledSpinnerDeterminateSvg:function(){return o.Gi},StyledSpinnerDeterminateText:function(){return o.bU},StyledSpinnerDeterminateTrackBackground:function(){return o.Xj},StyledSpinnerDeterminateTrackForeground:function(){return o.XG},StyledSpinnerNext:function(){return p.aN},StyledSvg:function(){return p.ny},StyledTrackPath:function(){return p.dw}});var r=n(2791),i=n(6491),o=n(5147),a=n(6004);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var A={Root:o.CN,Svg:o.Gi,TrackBackground:o.Xj,TrackForeground:o.XG,Text:o.bU};var f=function(e){var t=e.progress,n=void 0===t?0:t,o=e.size,l=void 0===o?i.N.medium:o,f=e.animate,h=void 0===f||f,p=e.inline,d=void 0!==p&&p,g=e.overrides,v=void 0===g?{}:g,y=c(e,["progress","size","animate","inline","overrides"]),m=(0,a.QG)(A,v),b=u(m.Root,2),_=b[0],w=b[1],x=u(m.Svg,2),C=x[0],B=x[1],E=u(m.TrackBackground,2),S=E[0],k=E[1],O=u(m.TrackForeground,2),T=O[0],P=O[1],M=u(m.Text,2),F=M[0],I=M[1],L=u(r.useState(0),2),R=L[0],D=L[1],Z=r.useRef();r.useEffect((function(){Z.current&&Z.current.getTotalLength&&D(Z.current.getTotalLength())}),[]);var U=r.useRef(),j=u(r.useState(0),2),N=j[0],z=j[1];return r.useEffect((function(){if(h){window&&U.current&&window.cancelAnimationFrame(U.current);var e,t=Math.max(1e3*(n-N),250);!function r(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e||(e=i);var o=i-e,a=Math.min(o/t*(n-N)+N,1);a=Math.max(a,0),z(a),o<=t&&(U.current=window.requestAnimationFrame(r))}()}else z(n)}),[n]),r.createElement(_,s({"data-baseweb":"progressbar-rounded",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":1,$size:l,$inline:d},y,w),r.createElement(C,s({$size:l},y,B),r.createElement(S,s({$size:l},k)),r.createElement(T,s({ref:Z,$size:l,$visible:!!Z.current,$pathLength:R,$pathProgress:N},P))),r.createElement(F,s({$size:l},I),function(e,t){void 0===t&&(t=0);var n=Math.pow(10,t);return e=parseFloat((e*n).toFixed(11)),+(Math.round(e)/n).toFixed(t)}(Math.min(100*n,100)),"%"))},h=n(1355),p=n(9982),d=n(2534)},1355:function(e,t,n){"use strict";var r=n(2791),i=n(6004),o=n(7169),a=n(9982);function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var v,y,m,b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(d,e);var t,n,s,c=p(d);function d(){return A(this,d),c.apply(this,arguments)}return t=d,(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.overrides,t=void 0===e?{}:e,n=(0,i.aO)({Svg:a.ny},t),s=l((0,i.jb)(t.TrackPath,a.dw),2),c=s[0],A=s[1],f=l((0,i.jb)(t.ActivePath,a.l1),2),h=f[0],p=f[1];return r.createElement(o.Z,u({"aria-label":"Loading","data-baseweb":"spinner",title:"Spinner",viewBox:"3 3 18 18"},this.props,{overrides:n}),r.createElement(c,u({fillRule:"evenodd",clipRule:"evenodd",d:"M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5ZM3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z",$color:this.props.color},A)),r.createElement(h,u({fillRule:"evenodd",clipRule:"evenodd",d:"M16.9497 7.05015C14.2161 4.31648 9.78392 4.31648 7.05025 7.05015C6.65973 7.44067 6.02656 7.44067 5.63604 7.05015C5.24551 6.65962 5.24551 6.02646 5.63604 5.63593C9.15076 2.12121 14.8492 2.12121 18.364 5.63593C18.7545 6.02646 18.7545 6.65962 18.364 7.05015C17.9734 7.44067 17.3403 7.44067 16.9497 7.05015Z",$color:this.props.color},p)))}}])&&f(t.prototype,n),s&&f(t,s),d}(r.Component);m={color:"",size:44,title:"Loading",overrides:{}},(y="defaultProps")in(v=b)?Object.defineProperty(v,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):v[y]=m,t.Z=b},9982:function(e,t,n){"use strict";n.d(t,{aN:function(){return h},dw:function(){return A},l1:function(){return f},ny:function(){return c}});var r=n(7696),i=n(85),o=n(2534);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},c=(0,r.zo)("svg",(function(e){var t=e.$theme,n=e.$color;return s(s({},(0,i.u)(e)),{},{fill:n||t.colors.accent,cursor:"wait",animationName:l,animationDuration:t.animation.timing1000,animationIterationCount:"infinite",animationTimingFunction:"linear"})}));c.displayName="Svg";var A=(0,r.zo)("path",(function(e){return{fill:e.$theme.colors.spinnerTrackFill,opacity:.16}}));A.displayName="StyledTrackPath";var f=(0,r.zo)("path",(function(e){return{fill:e.$color||e.$theme.colors.accent}}));f.displayName="StyledActivePath";var h=(0,r.zo)("i",(function(e){var t=e.$theme,n=e.$color,r=void 0===n?t.colors.contentAccent:n,i=e.$borderWidth,a=e.$size,s=void 0===a?o.N.medium:a,u={large:t.sizing.scale300,medium:t.sizing.scale100,small:t.sizing.scale0}[i||s],c={large:t.sizing.scale1000,medium:t.sizing.scale900,small:t.sizing.scale800}[s];return u||(u=t.sizing[i])||(u="".concat(parseInt(i),"px")),c||(c=t.sizing[s])||(c="".concat(parseInt(s),"px")),{display:"block",animationName:l,animationDuration:t.animation.timing1000,animationIterationCount:"infinite",animationTimingFunction:"linear",borderLeftStyle:"solid",borderRightStyle:"solid",borderTopStyle:"solid",borderBottomStyle:"solid",borderRadius:"50%",borderTopColor:r,borderRightColor:t.colors.backgroundTertiary,borderBottomColor:t.colors.backgroundTertiary,borderLeftColor:t.colors.backgroundTertiary,borderLeftWidth:u,borderRightWidth:u,borderTopWidth:u,borderBottomWidth:u,width:c,height:c,cursor:"wait"}}));h.displayName="StyledSpinnerNext"},7696:function(e,t,n){"use strict";n.d(t,{Le:function(){return b},Tp:function(){return p},fj:function(){return y},hQ:function(){return m},o4:function(){return g},w1:function(){return v},zo:function(){return d}});var r=n(2791),i=n(29),o=n(2262),a=n(3370);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var h=function(e){return r.forwardRef((function(t,n){return r.createElement(a.N.Consumer,null,(function(i){return r.createElement(e,f({ref:n},t,{$theme:i}))}))}))};function p(){return(0,i.createStyled)({wrapper:h,getInitialStyle:o.r4,driver:o.vC})}var d=p();function g(){return i.withStyle}var v=g();function y(){return function(){var e=r.useContext(a.N);return[c((0,i.useStyletron)(),1)[0],e]}}var m=y();function b(e,t){return(0,i.withWrapper)(e,(function(e){return r.forwardRef((function(n,i){return r.createElement(a.N.Consumer,null,(function(r){return t(e)(u(u({ref:i},n),{},{$theme:r}))}))}))}))}},3370:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(2791),i=n(4961),o=r.createContext(i.i);t.Z=function(e){var t=e.theme,n=e.children;return r.createElement(o.Provider,{value:t},n)}},3113:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(n,(function(e,t,n,r){return t+t+n+n+r+r}));var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?"rgba(".concat(parseInt(r[1],16),", ").concat(parseInt(r[2],16),", ").concat(parseInt(r[3],16),", ").concat(t,")"):null}n.d(t,{Qj:function(){return o},oo:function(){return r},wj:function(){return i}});var i={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"};function o(e){return{borderTopWidth:e.borderWidth,borderTopStyle:e.borderStyle,borderTopColor:e.borderColor,borderBottomWidth:e.borderWidth,borderBottomStyle:e.borderStyle,borderBottomColor:e.borderColor,borderLeftWidth:e.borderWidth,borderLeftStyle:e.borderStyle,borderLeftColor:e.borderColor,borderRightWidth:e.borderWidth,borderRightStyle:e.borderStyle,borderRightColor:e.borderColor}}},3315:function(e,t,n){"use strict";n.r(t),n.d(t,{Filter:function(){return me},SORT_DIRECTION:function(){return p},SortableHeadCell:function(){return Q},SortableHeadCellFactory:function(){return z},StyledAction:function(){return D},StyledBody:function(){return k},StyledCell:function(){return M},StyledFilterButton:function(){return F},StyledFilterContent:function(){return I},StyledFilterFooter:function(){return R},StyledFilterHeading:function(){return L},StyledHead:function(){return x},StyledHeadCell:function(){return B},StyledRow:function(){return T},StyledSortableLabel:function(){return E},StyledTable:function(){return _},Table:function(){return te}});var r=n(2791),i=n(6004),o=n(7696),a=n(7169);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=l((0,o.hQ)(),2)[1],c=e.title,A=void 0===c?"Triangle Up":c,f=e.size,h=e.color,p=e.overrides,d=void 0===p?{}:p,g=u(e,["title","size","color","overrides"]),v=(0,i.vt)({component:n.icons&&n.icons.TriangleUp?n.icons.TriangleUp:null},d&&d.Svg?(0,i.hq)(d.Svg):{});return r.createElement(a.Z,s({viewBox:"0 0 24 24",ref:t,title:A,size:f,color:h,overrides:{Svg:v}},g),r.createElement("path",{d:"M12.7071 8.70711L17.1464 13.1464C17.4614 13.4614 17.2383 14 16.7929 14L7.20711 14C6.76165 14 6.53857 13.4614 6.85355 13.1464L11.2929 8.70711C11.6834 8.31658 12.3166 8.31658 12.7071 8.70711Z"}))}var f=r.forwardRef(A),h=n(2476),p=Object.freeze({ASC:"ASC",DESC:"DESC"}),d=n(3113);function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,o.zo)("div",(function(e){var t=e.$theme;return y(y({},(0,d.Qj)(t.borders.border300)),{},{backgroundColor:t.colors.tableBackground,borderTopLeftRadius:t.borders.radius200,borderTopRightRadius:t.borders.radius200,borderBottomRightRadius:t.borders.radius200,borderBottomLeftRadius:t.borders.radius200,display:"flex",flexDirection:"column",height:"100%",overflowX:"auto"})}));b.displayName="StyledTableElement";var _=(0,o.Le)(b,(function(e){return function(t){return r.createElement(e,g({"data-baseweb":"table-custom",role:"grid"},t))}})),w=(0,o.zo)("div",(function(e){var t=e.$theme,n=e.$width;return{backgroundColor:t.colors.tableHeadBackgroundColor,boxShadow:t.lighting.shadow400,display:"flex",flexGrow:0,width:n||"100%"}}));w.displayName="StyledHeadElement";var x=(0,o.Le)(w,(function(e){return function(t){return r.createElement(e,g({role:"row"},t))}})),C=(0,o.zo)("div",(function(e){var t=e.$theme,n=e.$cursor,r="rtl"===t.direction?"borderLeft":"borderRight";return y(y(y({},t.typography.font350),(0,d.Qj)(t.borders.border300)),{},{borderTopStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",color:t.colors.contentPrimary,display:"flex",justifyContent:"space-between",paddingTop:t.sizing.scale500,paddingRight:t.sizing.scale600,paddingBottom:t.sizing.scale500,paddingLeft:t.sizing.scale600,cursor:n||"inherit",width:"100%",":last-of-type":m({},r,"none")})}));C.displayName="StyledHeadCellElement";var B=(0,o.Le)(C,(function(e){return function(t){return r.createElement(e,g({role:"columnheader"},t))}})),E=(0,o.zo)("button",(function(e){var t=e.$theme;return y(y({},t.typography.font250),{},{alignItems:"center",backgroundColor:"transparent",borderLeftStyle:"none",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",color:t.colors.contentPrimary,display:"flex",padding:0,":hover:enabled":{cursor:"pointer"},":disabled":{color:t.colors.mono500}})}));E.displayName="StyledSortableLabel";var S=(0,o.zo)("div",(function(e){var t=e.$width;return{width:t||"100%",overflowX:"hidden",overflowY:"overlay",flex:1}}));S.displayName="StyledBodyElement";var k=(0,o.Le)(S,(function(e){return function(t){return r.createElement(e,g({role:"rowgroup"},t))}})),O=(0,o.zo)("div",{display:"flex",alignItems:"center"});O.displayName="StyledRowElement";var T=(0,o.Le)(O,(function(e){return function(t){return r.createElement(e,g({role:"row"},t))}})),P=(0,o.zo)("div",(function(e){var t=e.$theme,n=e.$striped;return y(y({},t.typography.font200),{},{backgroundColor:n?t.colors.tableStripedBackground:null,color:t.colors.contentPrimary,display:"flex",flex:1,paddingTop:t.sizing.scale300,paddingRight:t.sizing.scale600,paddingBottom:t.sizing.scale300,paddingLeft:t.sizing.scale600})}));P.displayName="StyledCellElement";var M=(0,o.Le)(P,(function(e){return function(t){return r.createElement(e,g({role:"gridcell"},t))}})),F=(0,o.zo)("button",(function(e){return{backgroundColor:"transparent",borderLeftStyle:"none",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",color:e.$disabled?e.$theme.colors.mono500:e.$active?e.$theme.colors.contentPrimary:e.$theme.colors.tableFilter,cursor:e.$disabled?null:"pointer",paddingTop:"none",paddingRight:"none",paddingBottom:"none",paddingLeft:"none",":hover":{color:e.$disabled||e.$active?null:e.$theme.colors.contentPrimary}}}));F.displayName="StyledFilterButton";var I=(0,o.zo)("div",(function(e){var t=e.$theme;return y(y({},(0,d.Qj)(t.borders.border300)),{},{backgroundColor:t.colors.tableFilterBackground,borderRightStyle:"none",borderLeftStyle:"none",maxHeight:"196px",paddingRight:t.sizing.scale600,paddingLeft:t.sizing.scale600,overflow:"auto"})}));I.displayName="StyledFilterContent";var L=(0,o.zo)("div",(function(e){var t=e.$theme;return y(y({},t.typography.font250),{},{color:t.colors.tableFilterHeading,paddingTop:t.sizing.scale500,paddingRight:t.sizing.scale600,paddingBottom:t.sizing.scale500,paddingLeft:t.sizing.scale600})}));L.displayName="StyledFilterHeading";var R=(0,o.zo)("div",(function(e){var t=e.$theme;return{backgroundColor:t.colors.tableFilterFooterBackground,paddingTop:t.sizing.scale300,paddingRight:t.sizing.scale100,paddingBottom:t.sizing.scale300,paddingLeft:t.sizing.scale100,display:"flex",justifyContent:"space-between",minWidth:"216px"}}));R.displayName="StyledFilterFooter";var D=(0,o.zo)("button",(function(e){var t=e.$theme;return{backgroundColor:"transparent",borderLeftStyle:"none",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",color:t.colors.primary,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,marginRight:t.sizing.scale100,marginLeft:t.sizing.scale100,":hover:enabled":{cursor:"pointer"}}}));function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){switch(e.direction){case p.ASC:return r.createElement(f,{title:"Sort ascending"});case p.DESC:return r.createElement(h.Z,{title:"Sort descending"});default:return null}}D.displayName="StyledAction";var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return function(t){var n=t.overrides,o=void 0===n?{}:n,a=t.fillClickTarget,s=t.disabled,u=U((0,i.jb)(o.HeadCell,e),2),l=u[0],c=u[1],A=U((0,i.jb)(o.SortableLabel,E),2),f=A[0],h=A[1],p=function(){t.onSort&&t.onSort()},d=a&&!s,g=t["aria-label"]||t.ariaLabel;return g||(g="string"===typeof t.title?"sorts table by ".concat(t.title," column"):"sort table by column"),r.createElement(l,Z({role:"columnheader"},c,{$cursor:d?"pointer":void 0,onClick:d?p:void 0}),r.createElement(f,Z({"aria-label":g,disabled:s,onClick:a?void 0:p},h),r.createElement(N,{direction:t.direction}),t.title),t.children)}},Q=z(),H=n(4567);function V(e){return V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K(e,t)}function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var i=Y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){return!t||"object"!==V(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}var J,$,ee,te=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(a,e);var t,n,i,o=q(a);function a(){return G(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return r.createElement(_,{"data-baseweb":"table","aria-colcount":this.props.columns.length,"aria-rowcount":this.props.data.length},this.props.isLoading&&r.createElement(H.Z,{infinite:!0,overrides:{Bar:{style:{marginBottom:0,marginLeft:0,marginRight:0,marginTop:0}}}}),r.createElement(x,{$width:this.props.horizontalScrollWidth},this.props.columns.map((function(e,t){return r.createElement(B,{key:t},e)}))),r.createElement(k,{$width:this.props.horizontalScrollWidth},this.props.data.map((function(e,t){return r.createElement(T,{key:t},e.map((function(e,t){return r.createElement(M,{key:t},e)})))}))))}}])&&W(t.prototype,n),i&&W(t,i),a}(r.Component);ee={columns:[],data:[[]],isLoading:!1},($="defaultProps")in(J=te)?Object.defineProperty(J,$,{value:ee,enumerable:!0,configurable:!0,writable:!0}):J[$]=ee;var ne=n(1601),re=n(4013),ie=n(2596);function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t){var n=se((0,o.hQ)(),2)[1],s=e.title,u=void 0===s?"Filter":s,l=e.size,c=e.color,A=e.overrides,f=void 0===A?{}:A,h=ae(e,["title","size","color","overrides"]),p=(0,i.vt)({component:n.icons&&n.icons.Filter?n.icons.Filter:null},f&&f.Svg?(0,i.hq)(f.Svg):{});return r.createElement(a.Z,oe({viewBox:"0 0 24 24",ref:t,title:u,size:l,color:c,overrides:{Svg:p}},h),r.createElement("rect",{x:"7",y:"11",width:"10",height:"2",rx:"1"}),r.createElement("rect",{x:"4",y:"7",width:"16",height:"2",rx:"1"}),r.createElement("rect",{x:"10",y:"15",width:"4",height:"2",rx:"1"}))}var ce=r.forwardRef(le),Ae=n(3138),fe=n(206);function he(){return he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e){var t=e.onSelectAll,n=void 0===t?function(){}:t,o=e.onReset,a=void 0===o?function(){}:o,s=e.overrides,u=void 0===s?{}:s,l=ve((0,i.jb)(u.MenuButton,F),2),c=l[0],A=l[1],f=ve((0,i.jb)(u.Content,I),2),h=f[0],p=f[1],d=ve((0,i.jb)(u.Heading,L),2),g=d[0],v=d[1],y=ve((0,i.jb)(u.Footer,R),2),m=y[0],b=y[1];return r.createElement(Ae.Z,{onClose:e.onClose,onOpen:e.onOpen,placement:fe.r4.bottom,stateReducer:function(t,n){return e.disabled?de(de({},n),{},{isOpen:!1}):n},content:function(t){var i=t.close;return r.createElement(ne.ZP,{autoFocus:!1,crossFrame:!1},r.createElement(g,v,"Filter Column"),r.createElement(h,p,e.children),r.createElement(m,b,r.createElement(re.Z,{kind:ie.TO.minimal,size:ie.NO.compact,onClick:function(){n()}},"Select All"),r.createElement(re.Z,{kind:ie.TO.minimal,size:ie.NO.compact,onClick:function(){a()}},"Reset"),e.hasCloseButton&&r.createElement(re.Z,{kind:ie.TO.minimal,size:ie.NO.compact,onClick:i},"Close")))},returnFocus:e.returnFocus},r.createElement(c,he({$active:e.active,$disabled:e.disabled},A),r.createElement(ce,{size:18})))}},3393:function(e,t,n){"use strict";n.r(t),n.d(t,{FILL:function(){return i},ORIENTATION:function(){return r},STATE_CHANGE_TYPE:function(){return o},StatefulTabs:function(){return W},StyledArtworkContainer:function(){return x},StyledRoot:function(){return b},StyledTab:function(){return w},StyledTabBorder:function(){return C},StyledTabHighlight:function(){return B},StyledTabList:function(){return _},StyledTabPanel:function(){return E},Tab:function(){return K},Tabs:function(){return U},getTabId:function(){return A},getTabPanelId:function(){return f},isFixed:function(){return v},isHorizontal:function(){return h},isIntrinsic:function(){return g},isRTL:function(){return d},isVertical:function(){return p}});var r={vertical:"vertical",horizontal:"horizontal"},i={fixed:"fixed",intrinsic:"intrinsic"},o={change:"change"},a=n(2791),s=n(679),u=n(7696),l=n(6004),c=n(2422),A=function(e,t){return"tabs-".concat(e,"-tab-").concat(t)},f=function(e,t){return"tabs-".concat(e,"-tabpanel-").concat(t)},h=function(e){return e===r.horizontal},p=function(e){return e===r.vertical},d=function(e){return"rtl"===e},g=function(e){return e===i.intrinsic},v=function(e){return e===i.fixed};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,u.zo)("div",(function(e){e.$theme;var t=e.$orientation,n=void 0===t?r.horizontal:t,i={transform:"scale(1)"};return p(n)&&(i.display="flex"),i}));b.displayName="StyledRoot";var _=(0,u.zo)("div",(function(e){var t=e.$theme,n=e.$fill,o=void 0===n?i.intrinsic:n,a=e.$orientation,s=void 0===a?r.horizontal:a,u={position:"relative",display:"flex",flexWrap:"nowrap"};return h(s)?(u.flexDirection="row",u.paddingBottom="5px",u.marginBottom="-5px"):(u.flexDirection="column",d(t.direction)?(u.paddingLeft="5px",u.marginLeft="-5px"):(u.paddingRight="5px",u.marginRight="-5px")),g(o)&&(u["::-webkit-scrollbar"]={display:"none"},u["-ms-overflow-style"]="none",u.scrollbarWidth="none",h(s)?u.overflowX="scroll":u.overflowY="scroll"),u}));_.displayName="StyledTabList";var w=(0,u.zo)("button",(function(e){var t=e.$theme,n=e.$orientation,o=void 0===n?r.horizontal:n,a=e.$fill,s=void 0===a?i.intrinsic:a,u=e.$focusVisible,l=void 0!==u&&u,c=(e.$isActive,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({cursor:"pointer",WebkitAppearance:"none",marginLeft:"0",marginRight:"0",marginTop:"0",marginBottom:"0",boxSizing:"border-box",display:"inline-flex",alignItems:"center",paddingLeft:t.sizing.scale600,paddingTop:t.sizing.scale600,paddingRight:t.sizing.scale600,paddingBottom:t.sizing.scale600,borderLeftWidth:0,borderTopWidth:0,borderRightWidth:0,borderBottomWidth:0,borderLeftStyle:"none",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",color:t.colors.contentPrimary,background:t.colors.backgroundPrimary,transitionProperty:"background",transitionDuration:t.animation.timing200,transitionTimingFunction:t.animation.linearCurve,outline:"none",outlineOffset:"-3px",":disabled":{cursor:"not-allowed",color:t.colors.contentStateDisabled},":hover":{background:t.colors.backgroundSecondary},":disabled:hover":{background:"none"}},t.typography.LabelSmall));return l&&(c.outline="3px solid ".concat(t.colors.accent)),v(s)&&(c.flexGrow=1,c.flexBasis=0),h(o)?c.justifyContent="center":c.justifyContent="flex-end",c}));w.displayName="StyledTab";var x=(0,u.zo)("div",(function(e){var t=e.$theme,n=e.$orientation,i=(void 0===n&&r.horizontal,{display:"flex"});return d(t.direction)?i.marginLeft=t.sizing.scale300:i.marginRight=t.sizing.scale300,i}));x.displayName="StyledArtworkContainer";var C=(0,u.zo)("div",(function(e){var t=e.$theme,n=e.$orientation,i=void 0===n?r.horizontal:n,o={backgroundColor:t.colors.borderOpaque,position:"relative"};return h(i)?o.height="5px":o.width="5px",o}));C.displayName="StyledTabBorder";var B=(0,u.zo)("div",(function(e){var t=e.$theme,n=e.$orientation,i=void 0===n?r.horizontal:n,o=e.$length,a=void 0===o?0:o,s=e.$distance,u=void 0===s?0:s,l=e.$animate,c=void 0!==l&&l,A={backgroundColor:t.colors.borderSelected,position:"absolute",zIndex:1};return h(i)?(A.bottom="0px",A.left="0px",A.height="5px",A.width="".concat(a,"px"),A.transform="translateX(".concat(u,"px)")):(A.transform="translateY(".concat(u,"px)"),A.width="5px",A.height="".concat(a,"px"),d(t.direction)?A.left="0px":A.right="0px"),c&&(A.transitionProperty="all",A.transitionDuration=t.animation.timing400,A.transitionTimingFunction=t.animation.easeInOutQuinticCurve),A}));B.displayName="StyledTabHighlight";var E=(0,u.zo)("div",(function(e){var t=e.$theme,n=e.$pad,r={flexGrow:1,outline:"none"};return(void 0===n||n)&&(r.paddingTop=t.sizing.scale600,r.paddingRight=t.sizing.scale600,r.paddingBottom=t.sizing.scale600,r.paddingLeft=t.sizing.scale600),r}));function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}E.displayName="StyledTabPanel";var R="next",D="previous",Z=function(e,t){return e?p(t)?{length:e.clientHeight,distance:e.offsetTop}:{length:e.clientWidth,distance:e.offsetLeft}:{length:0,distance:0}};function U(e){var t=e.activeKey,n=void 0===t?"0":t,o=e.disabled,c=void 0!==o&&o,A=e.children,f=e.fill,p=void 0===f?i.intrinsic:f,g=e.activateOnFocus,v=void 0===g||g,y=e.onChange,m=e.orientation,w=void 0===m?r.horizontal:m,x=e.overrides,E=void 0===x?{}:x,S=e.renderAll,k=void 0!==S&&S,O=e.uid,T=void 0===O?null:O,P=(0,s.D)(),I=T||P,L=E.Root,U=E.TabList,z=E.TabHighlight,Q=E.TabBorder,H=F((0,l.jb)(L,b),2),V=H[0],G=H[1],W=F((0,l.jb)(U,_),2),K=W[0],q=W[1],X=F((0,l.jb)(z,B),2),Y=X[0],J=X[1],$=F((0,l.jb)(Q,C),2),ee=$[0],te=$[1],ne=F(a.useState(0),2),re=ne[0],ie=ne[1];a.useEffect((function(){ie(re+1)}),[n]);var oe=a.useRef(),ae=F(a.useState({length:0,distance:0}),2),se=ae[0],ue=ae[1],le=a.useCallback((function(){oe.current&&ue(Z(oe.current,w))}),[oe.current,w]);a.useEffect(le,[oe.current,w]),a.useEffect((function(){oe.current&&(h(w)?oe.current.parentNode.scrollWidth>oe.current.parentNode.clientWidth:oe.current.parentNode.scrollHeight>oe.current.parentNode.clientHeight)&&(re>1?oe.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}):function(e){var t=e.parentNode.getBoundingClientRect(),n=t.x,r=t.y,i=t.width,o=t.height,a=e.getBoundingClientRect(),s=a.x,u=a.y,l=s-n+a.width/2,c=u-r+a.height/2,A=e.parentNode,f={x:A.scrollLeft+l-i/2,y:A.scrollTop+c-o/2};e.parentNode.scroll(f.x,f.y)}(oe.current))}),[oe.current]);var ce={$orientation:w,$fill:p},Ae=F((0,u.hQ)(),2)[1],fe=a.useCallback((function(e){if(h(w))if(d(Ae.direction))switch(e.keyCode){case 39:return D;case 37:return R;default:return null}else switch(e.keyCode){case 37:return D;case 39:return R;default:return null}else switch(e.keyCode){case 38:return D;case 40:return R;default:return null}}),[w,Ae.direction]);return a.createElement(V,M({},ce,G),a.createElement(K,M({"data-baseweb":"tab-list",role:"tablist","aria-orientation":w},ce,q),a.Children.map(A,(function(e,t){if(e)return a.createElement(j,M({childKey:e.key,childIndex:t,activeKey:n,orientation:w,activeTabRef:oe,updateHighlight:le,parseKeyDown:fe,activateOnFocus:v,uid:I,disabled:c,sharedStylingProps:ce,onChange:y},e.props))})),a.createElement(Y,M({"data-baseweb":"tab-highlight",$length:se.length,$distance:se.distance,$animate:re>1,"aria-hidden":"true",role:"presentation"},ce,J))),a.createElement(ee,M({"data-baseweb":"tab-border","aria-hidden":"true",role:"presentation"},ce,te)),a.Children.map(A,(function(e,t){if(e)return a.createElement(N,M({childKey:e.key,childIndex:t,activeKey:n,uid:I,sharedStylingProps:ce,renderAll:k},e.props))})))}function j(e){var t=e.childKey,n=e.childIndex,r=e.activeKey,i=e.orientation,o=e.activeTabRef,s=e.updateHighlight,u=e.parseKeyDown,h=e.activateOnFocus,d=e.uid,g=e.disabled,v=e.sharedStylingProps,y=e.onChange,m=P(e,["childKey","childIndex","activeKey","orientation","activeTabRef","updateHighlight","parseKeyDown","activateOnFocus","uid","disabled","sharedStylingProps","onChange"]),b=t||String(n),_=b==r,C=m.artwork,B=m.overrides,E=void 0===B?{}:B,S=m.tabRef,O=m.onClick,I=m.title,L=P(m,["artwork","overrides","tabRef","onClick","title"]),U=a.useRef();a.useImperativeHandle(S,(function(){return _?o.current:U.current}));var j=a.useRef({length:0,distance:0});a.useEffect((function(){j.current=Z(_?o.current:U.current,i)})),a.useEffect((function(){if(window.ResizeObserver){var e=new window.ResizeObserver((function(e){if(e[0]&&e[0].target){var t=Z(e[0].target,i);t.length===j.current.length&&t.distance===j.current.distance||s()}}));return e.observe(_?o.current:U.current),function(){e.disconnect()}}}),[r,i]),a.useEffect(s,[I]);var N=E.Tab,z=E.ArtworkContainer,Q=F((0,l.jb)(N,w),2),H=Q[0],V=Q[1],G=F((0,l.jb)(z,x),2),W=G[0],K=G[1],q=F(a.useState(!1),2),X=q[0],Y=q[1],J=a.useCallback((function(e){(0,c.E)(e)&&Y(!0)}),[]),$=a.useCallback((function(e){!1!==X&&Y(!1)}),[X]),ee=a.useCallback((function(e){var t=T(e.target.parentNode.childNodes).filter((function(e){return!e.disabled&&"tab"===e.getAttribute("role")}));if(1!==t.length){var n,r=t.indexOf(e.target),o=u(e);if(o)o===D?n=t[r-1]?t[r-1]:t[t.length-1]:o===R&&(n=t[r+1]?t[r+1]:t[0]),n&&(n.focus(),h&&n.click()),p(i)&&e.preventDefault()}}));return a.createElement(H,M({"data-baseweb":"tab",key:b,id:A(d,b),role:"tab",onKeyDown:ee,"aria-selected":_,"aria-controls":f(d,b),tabIndex:_?"0":"-1",ref:_?o:U,disabled:!_&&g,type:"button",$focusVisible:X,$isActive:_},v,L,V,{onClick:function(e){"function"===typeof y&&y({activeKey:b}),"function"===typeof O&&O(e)},onFocus:(0,c.Ah)(k(k({},L),V),J),onBlur:(0,c.Z5)(k(k({},L),V),$)}),C?a.createElement(W,M({"data-baseweb":"artwork-container"},v,K),a.createElement(C,{size:20,color:"contentPrimary"})):null,I||b)}function N(e){var t=e.childKey,n=e.childIndex,r=e.activeKey,i=e.uid,o=e.sharedStylingProps,s=e.renderAll,u=P(e,["childKey","childIndex","activeKey","uid","sharedStylingProps","renderAll"]),c=t||String(n),h=c==r,p=u.overrides,d=void 0===p?{}:p,g=u.children,v=d.TabPanel,y=F((0,l.jb)(v,E),2),m=y[0],b=y[1];return a.createElement(m,M({"data-baseweb":"tab-panel",key:c,role:"tabpanel",id:f(i,c),"aria-labelledby":A(i,c),hidden:!h},o,b),h||s?g:null)}function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var G=function(e,t){return t.type===o.change?{activeKey:t.payload}:e};function W(e){var t=e.children,n=e.initialState,r=e.stateReducer,i=void 0===r?G:r,s=e.onChange,u=V(e,["children","initialState","stateReducer","onChange"]),l=a.useReducer(i,function(e,t){return t&&t.activeKey?t:{activeKey:a.Children.map(e,(function(e,t){return e.key||String(t)}))[0]}}(t,n)),c=Q(l,2),A=c[0],f=c[1],h=a.useCallback((function(e){var t=e.activeKey;f({type:o.change,payload:t}),"function"===typeof s&&s(e)}),[]);return a.createElement(U,z({},u,{activeKey:A.activeKey,onChange:h}),t)}function K(e){return null}},6989:function(e,t,n){"use strict";var r=n(6787),i="rgba(0, 0, 0, 0.08)";t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Z;return{buttonPrimaryFill:e.primary,buttonPrimaryText:e.white,buttonPrimaryHover:e.primary700,buttonPrimaryActive:e.primary600,buttonPrimarySelectedFill:e.primary600,buttonPrimarySelectedText:e.white,buttonPrimarySpinnerForeground:e.accent,buttonPrimarySpinnerBackground:e.primaryB,buttonSecondaryFill:e.primary100,buttonSecondaryText:e.primary,buttonSecondaryHover:e.primary200,buttonSecondaryActive:e.primary300,buttonSecondarySelectedFill:e.primary300,buttonSecondarySelectedText:e.primary,buttonSecondarySpinnerForeground:e.accent,buttonSecondarySpinnerBackground:e.primaryB,buttonTertiaryFill:"transparent",buttonTertiaryText:e.primary,buttonTertiaryHover:e.primary50,buttonTertiaryActive:e.primary100,buttonTertiarySelectedFill:e.primary100,buttonTertiarySelectedText:e.primary,buttonTertiaryDisabledActiveFill:e.primary50,buttonTertiaryDisabledActiveText:e.mono600,buttonTertiarySpinnerForeground:e.accent,buttonTertiarySpinnerBackground:e.primary100,buttonMinimalFill:"transparent",buttonMinimalText:e.primary,buttonMinimalHover:e.primary50,buttonMinimalActive:e.primary100,buttonMinimalSelectedFill:e.primary100,buttonMinimalSelectedText:e.primary,buttonMinimalSpinnerForeground:e.accent,buttonMinimalSpinnerBackground:e.primary100,buttonDisabledFill:e.mono200,buttonDisabledText:e.mono600,buttonDisabledActiveFill:e.mono700,buttonDisabledActiveText:e.mono100,buttonDisabledSpinnerForeground:e.mono600,buttonDisabledSpinnerBackground:e.mono400,breadcrumbsText:e.mono900,breadcrumbsSeparatorFill:e.mono700,datepickerBackground:e.mono100,datepickerDayFont:e.mono1000,datepickerDayFontDisabled:e.mono500,datepickerDayPseudoSelected:e.primary100,datepickerDayPseudoHighlighted:e.primary200,calendarBackground:e.mono100,calendarForeground:e.mono1000,calendarForegroundDisabled:e.mono500,calendarHeaderBackground:e.white,calendarHeaderForeground:e.primary,calendarHeaderBackgroundActive:e.primary700,calendarHeaderForegroundDisabled:e.primary500,calendarDayBackgroundPseudoSelected:e.primary100,calendarDayForegroundPseudoSelected:e.mono1000,calendarDayBackgroundPseudoSelectedHighlighted:e.primary200,calendarDayForegroundPseudoSelectedHighlighted:e.mono1000,calendarDayBackgroundSelected:e.primary,calendarDayForegroundSelected:e.white,calendarDayBackgroundSelectedHighlighted:e.primary,calendarDayForegroundSelectedHighlighted:e.white,comboboxListItemFocus:e.mono200,comboboxListItemHover:e.mono300,fileUploaderBackgroundColor:e.mono200,fileUploaderBackgroundColorActive:e.primary50,fileUploaderBorderColorActive:e.primary,fileUploaderBorderColorDefault:e.mono500,fileUploaderMessageColor:e.mono800,linkText:e.primary,linkVisited:e.primary700,linkHover:e.primary600,linkActive:e.primary500,listHeaderFill:e.white,listBodyFill:e.white,listIconFill:e.mono500,listBorder:e.mono500,progressStepsCompletedText:e.white,progressStepsCompletedFill:e.primary,progressStepsActiveText:e.white,progressStepsActiveFill:e.primary,progressStepsIconActiveFill:e.primary,toggleFill:e.white,toggleFillChecked:e.primary,toggleFillDisabled:e.mono600,toggleTrackFill:e.mono400,toggleTrackFillDisabled:e.mono300,tickFill:e.mono100,tickFillHover:e.mono200,tickFillActive:e.mono300,tickFillSelected:e.primary,tickFillSelectedHover:e.primary700,tickFillSelectedHoverActive:e.primary600,tickFillError:e.negative50,tickFillErrorHover:e.negative100,tickFillErrorHoverActive:e.negative200,tickFillErrorSelected:e.negative400,tickFillErrorSelectedHover:e.negative500,tickFillErrorSelectedHoverActive:e.negative600,tickFillDisabled:e.mono600,tickBorder:e.mono700,tickBorderError:e.negative400,tickMarkFill:e.white,tickMarkFillError:e.white,tickMarkFillDisabled:e.mono100,sliderTrackFill:"transparent",sliderHandleFill:e.primaryA,sliderHandleFillDisabled:e.primary400,sliderHandleInnerFill:e.primaryA,sliderTrackFillHover:e.mono500,sliderTrackFillActive:e.mono600,sliderTrackFillSelected:e.primary,sliderTrackFillSelectedHover:e.primary,sliderTrackFillSelectedActive:e.primary500,sliderTrackFillDisabled:e.mono300,sliderHandleFillHover:e.white,sliderHandleFillActive:e.white,sliderHandleFillSelected:e.white,sliderHandleFillSelectedHover:e.white,sliderHandleFillSelectedActive:e.white,sliderHandleInnerFillDisabled:e.mono400,sliderHandleInnerFillSelectedHover:e.primary,sliderHandleInnerFillSelectedActive:e.primary500,sliderBorder:e.mono500,sliderBorderHover:e.primary,sliderBorderDisabled:e.mono600,inputBorder:e.mono300,inputFill:e.mono300,inputFillError:e.negative50,inputFillDisabled:e.mono200,inputFillActive:e.mono200,inputFillPositive:e.positive50,inputTextDisabled:e.mono600,inputBorderError:e.negative200,inputBorderPositive:e.positive200,inputEnhancerFill:e.mono300,inputEnhancerFillDisabled:e.mono300,inputEnhancerTextDisabled:e.mono600,inputPlaceholder:e.mono700,inputPlaceholderDisabled:e.mono600,menuFill:e.mono100,menuFillHover:e.mono200,menuFontDefault:e.mono800,menuFontDisabled:e.mono500,menuFontHighlighted:e.mono1000,menuFontSelected:e.mono1000,modalCloseColor:e.mono1000,modalCloseColorHover:e.mono800,modalCloseColorFocus:e.mono800,paginationTriangleDown:e.mono800,headerNavigationFill:"transparent",tabBarFill:e.mono200,tabColor:e.mono800,notificationPrimaryBackground:e.primary50,notificationPrimaryText:e.primaryA,notificationInfoBackground:e.accent50,notificationInfoText:e.primaryA,notificationPositiveBackground:e.positive50,notificationPositiveText:e.primaryA,notificationWarningBackground:e.warning50,notificationWarningText:e.primaryA,notificationNegativeBackground:e.negative50,notificationNegativeText:e.primaryA,tagFontDisabledRampUnit:"100",tagOutlinedDisabledRampUnit:"200",tagSolidFontRampUnit:"0",tagSolidRampUnit:"400",tagOutlinedFontRampUnit:"400",tagOutlinedRampUnit:"200",tagSolidHoverRampUnit:"50",tagSolidActiveRampUnit:"100",tagSolidDisabledRampUnit:"50",tagSolidFontHoverRampUnit:"500",tagLightRampUnit:"50",tagLightHoverRampUnit:"100",tagLightActiveRampUnit:"100",tagLightDisabledRampUnit:"50",tagLightFontRampUnit:"500",tagLightFontHoverRampUnit:"500",tagOutlinedHoverRampUnit:"50",tagOutlinedActiveRampUnit:"0",tagOutlinedFontHoverRampUnit:"400",tagNeutralFontDisabled:e.mono600,tagNeutralOutlinedDisabled:e.mono400,tagNeutralSolidFont:e.white,tagNeutralSolidBackground:e.black,tagNeutralOutlinedBackground:e.mono600,tagNeutralOutlinedFont:e.black,tagNeutralSolidHover:e.mono300,tagNeutralSolidActive:e.mono400,tagNeutralSolidDisabled:e.mono200,tagNeutralSolidFontHover:e.mono900,tagNeutralLightBackground:e.mono300,tagNeutralLightHover:e.mono300,tagNeutralLightActive:e.mono400,tagNeutralLightDisabled:e.mono200,tagNeutralLightFont:e.mono900,tagNeutralLightFontHover:e.mono900,tagNeutralOutlinedActive:e.mono900,tagNeutralOutlinedFontHover:e.mono800,tagNeutralOutlinedHover:i,tagPrimaryFontDisabled:e.primary400,tagPrimaryOutlinedDisabled:e.primary200,tagPrimarySolidFont:e.white,tagPrimarySolidBackground:e.primary,tagPrimaryOutlinedFontHover:e.primary,tagPrimaryOutlinedFont:e.primary,tagPrimarySolidHover:e.primary100,tagPrimarySolidActive:e.primary200,tagPrimarySolidDisabled:e.primary50,tagPrimarySolidFontHover:e.primary700,tagPrimaryLightBackground:e.primary50,tagPrimaryLightHover:e.primary100,tagPrimaryLightActive:e.primary100,tagPrimaryLightDisabled:e.primary50,tagPrimaryLightFont:e.primary500,tagPrimaryLightFontHover:e.primary500,tagPrimaryOutlinedActive:e.primary600,tagPrimaryOutlinedHover:i,tagPrimaryOutlinedBackground:e.primary400,tagAccentFontDisabled:e.accent200,tagAccentOutlinedDisabled:e.accent200,tagAccentSolidFont:e.white,tagAccentSolidBackground:e.accent400,tagAccentOutlinedBackground:e.accent200,tagAccentOutlinedFont:e.accent400,tagAccentSolidHover:e.accent50,tagAccentSolidActive:e.accent100,tagAccentSolidDisabled:e.accent50,tagAccentSolidFontHover:e.accent500,tagAccentLightBackground:e.accent50,tagAccentLightHover:e.accent100,tagAccentLightActive:e.accent100,tagAccentLightDisabled:e.accent50,tagAccentLightFont:e.accent500,tagAccentLightFontHover:e.accent500,tagAccentOutlinedActive:e.accent600,tagAccentOutlinedFontHover:e.accent400,tagAccentOutlinedHover:i,tagPositiveFontDisabled:e.positive200,tagPositiveOutlinedDisabled:e.positive200,tagPositiveSolidFont:e.white,tagPositiveSolidBackground:e.positive400,tagPositiveOutlinedBackground:e.positive200,tagPositiveOutlinedFont:e.positive400,tagPositiveSolidHover:e.positive50,tagPositiveSolidActive:e.positive100,tagPositiveSolidDisabled:e.positive50,tagPositiveSolidFontHover:e.positive500,tagPositiveLightBackground:e.positive50,tagPositiveLightHover:e.positive100,tagPositiveLightActive:e.positive100,tagPositiveLightDisabled:e.positive50,tagPositiveLightFont:e.positive500,tagPositiveLightFontHover:e.positive500,tagPositiveOutlinedActive:e.positive600,tagPositiveOutlinedFontHover:e.positive400,tagPositiveOutlinedHover:i,tagWarningFontDisabled:e.warning300,tagWarningOutlinedDisabled:e.warning300,tagWarningSolidFont:e.warning700,tagWarningSolidBackground:e.warning400,tagWarningOutlinedBackground:e.warning300,tagWarningOutlinedFont:e.warning600,tagWarningSolidHover:e.warning50,tagWarningSolidActive:e.warning100,tagWarningSolidDisabled:e.warning50,tagWarningSolidFontHover:e.warning500,tagWarningLightBackground:e.warning50,tagWarningLightHover:e.warning100,tagWarningLightActive:e.warning100,tagWarningLightDisabled:e.warning50,tagWarningLightFont:e.warning500,tagWarningLightFontHover:e.warning500,tagWarningOutlinedActive:e.warning600,tagWarningOutlinedFontHover:e.warning600,tagWarningOutlinedHover:i,tagNegativeFontDisabled:e.negative200,tagNegativeOutlinedDisabled:e.negative200,tagNegativeSolidFont:e.white,tagNegativeSolidBackground:e.negative400,tagNegativeOutlinedBackground:e.negative200,tagNegativeOutlinedFont:e.negative400,tagNegativeSolidHover:e.negative50,tagNegativeSolidActive:e.negative100,tagNegativeSolidDisabled:e.negative50,tagNegativeSolidFontHover:e.negative500,tagNegativeLightBackground:e.negative50,tagNegativeLightHover:e.negative100,tagNegativeLightActive:e.negative100,tagNegativeLightDisabled:e.negative50,tagNegativeLightFont:e.negative500,tagNegativeLightFontHover:e.negative500,tagNegativeOutlinedActive:e.negative600,tagNegativeOutlinedFontHover:e.negative400,tagNegativeOutlinedHover:i,tableHeadBackgroundColor:e.mono100,tableBackground:e.mono100,tableStripedBackground:e.mono200,tableFilter:e.mono600,tableFilterHeading:e.mono700,tableFilterBackground:e.mono100,tableFilterFooterBackground:e.mono200,toastText:e.white,toastPrimaryBackground:e.primary400,toastPrimaryText:e.white,toastInfoBackground:e.accent400,toastInfoText:e.white,toastPositiveBackground:e.positive400,toastPositiveText:e.white,toastWarningBackground:e.warning400,toastWarningText:e.black,toastNegativeBackground:e.negative400,toastNegativeText:e.white,spinnerTrackFill:e.mono900,progressbarTrackFill:e.mono900,tooltipBackground:e.mono900,tooltipText:e.mono100}}},9155:function(e,t,n){"use strict";var r=n(6787);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Z;return{colorPrimary:e.black,colorSecondary:e.mono800,background:e.white,backgroundAlt:e.white,backgroundInv:e.primary,foreground:e.black,foregroundAlt:e.mono800,foregroundInv:e.white,border:e.mono500,borderAlt:e.mono600,borderFocus:e.primary,borderError:e.negative,shadowFocus:"rgba(39, 110, 241, 0.32)",shadowError:"rgba(229, 73, 55, 0.32)"}}},3134:function(e,t,n){"use strict";var r=n(6787),i=n(3113),o=n(586);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Z,t={backgroundPrimary:e.primaryB,backgroundSecondary:o.Z.gray50,backgroundTertiary:o.Z.gray100,backgroundInversePrimary:e.primaryA,backgroundInverseSecondary:o.Z.gray800,contentPrimary:e.primaryA,contentSecondary:o.Z.gray600,contentTertiary:o.Z.gray500,contentInversePrimary:e.primaryB,contentInverseSecondary:o.Z.gray300,contentInverseTertiary:o.Z.gray400,borderOpaque:o.Z.gray200,borderTransparent:(0,i.oo)(e.primaryA,"0.08"),borderSelected:e.primaryA,borderInverseOpaque:o.Z.gray700,borderInverseTransparent:(0,i.oo)(e.primaryB,"0.2"),borderInverseSelected:e.primaryB},n={backgroundStateDisabled:o.Z.gray50,backgroundOverlayDark:(0,i.oo)(o.Z.black,"0.3"),backgroundOverlayLight:(0,i.oo)(o.Z.black,"0.08"),backgroundAccent:e.accent,backgroundNegative:e.negative,backgroundWarning:e.warning,backgroundPositive:o.Z.green400,backgroundLightAccent:o.Z.blue50,backgroundLightNegative:o.Z.red50,backgroundLightWarning:o.Z.yellow50,backgroundLightPositive:o.Z.green50,backgroundAlwaysDark:o.Z.black,backgroundAlwaysLight:o.Z.white,contentStateDisabled:o.Z.gray400,contentAccent:e.accent,contentOnColor:o.Z.white,contentOnColorInverse:o.Z.black,contentNegative:e.negative,contentWarning:o.Z.yellow600,contentPositive:o.Z.green400,borderStateDisabled:o.Z.gray50,borderAccent:o.Z.blue400,borderAccentLight:o.Z.blue200,borderNegative:o.Z.red200,borderWarning:o.Z.yellow200,borderPositive:o.Z.green200,safety:o.Z.blue400,eatsGreen400:o.Z.green400,freightBlue400:o.Z.cobalt400,jumpRed400:o.Z.red400,rewardsTier1:o.Z.blue400,rewardsTier2:o.Z.yellow400,rewardsTier3:o.Z.platinum400,rewardsTier4:o.Z.black,membership:o.Z.yellow600};return s(s({},t),n)}},6787:function(e,t,n){"use strict";var r=n(586),i={primaryA:r.Z.black,primaryB:r.Z.white,primary:r.Z.black,primary50:r.Z.gray50,primary100:r.Z.gray100,primary200:r.Z.gray200,primary300:r.Z.gray300,primary400:r.Z.gray400,primary500:r.Z.gray500,primary600:r.Z.gray600,primary700:r.Z.gray700,accent:r.Z.blue400,accent50:r.Z.blue50,accent100:r.Z.blue100,accent200:r.Z.blue200,accent300:r.Z.blue300,accent400:r.Z.blue400,accent500:r.Z.blue500,accent600:r.Z.blue600,accent700:r.Z.blue700,negative:r.Z.red400,negative50:r.Z.red50,negative100:r.Z.red100,negative200:r.Z.red200,negative300:r.Z.red300,negative400:r.Z.red400,negative500:r.Z.red500,negative600:r.Z.red600,negative700:r.Z.red700,warning:r.Z.yellow400,warning50:r.Z.yellow50,warning100:r.Z.yellow100,warning200:r.Z.yellow200,warning300:r.Z.yellow300,warning400:r.Z.yellow400,warning500:r.Z.yellow500,warning600:r.Z.yellow600,warning700:r.Z.yellow700,positive:r.Z.green500,positive50:r.Z.green50,positive100:r.Z.green100,positive200:r.Z.green200,positive300:r.Z.green300,positive400:r.Z.green400,positive500:r.Z.green500,positive600:r.Z.green600,positive700:r.Z.green700,white:r.Z.white,black:r.Z.black,mono100:r.Z.white,mono200:r.Z.gray50,mono300:r.Z.gray100,mono400:r.Z.gray200,mono500:r.Z.gray300,mono600:r.Z.gray400,mono700:r.Z.gray500,mono800:r.Z.gray600,mono900:r.Z.gray700,mono1000:r.Z.black,rating200:r.Z.yellow200,rating400:r.Z.yellow400,ratingInactiveFill:r.Z.gray100,ratingStroke:r.Z.gray300};t.Z=i},4961:function(e,t,n){"use strict";n.d(t,{i:function(){return y}});var r=n(6787),i=n(3134),o=n(6989),a=n(9155),s=n(2051),u=n(4110),l=n(680),c=n(4300),A=n(1931),f=n(1406),h=n(7579),p=n(1093);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={name:"light-theme",colors:g(g(g(g({},r.Z),(0,o.Z)()),(0,a.Z)()),(0,i.Z)()),animation:c.Z,breakpoints:A.Z,borders:s.Z,direction:"auto",grid:f.Z,lighting:u.Z,mediaQuery:h.Z,sizing:p.Z,typography:(0,l.Z)(),zIndex:{modal:2e3}}},4300:function(e,t){"use strict";t.Z={timing100:"100ms",timing200:"200ms",timing300:"300ms",timing400:"400ms",timing500:"500ms",timing600:"600ms",timing700:"700ms",timing800:"800ms",timing900:"900ms",timing1000:"1000ms",easeInCurve:"cubic-bezier(.8, .2, .6, 1)",easeOutCurve:"cubic-bezier(.2, .8, .4, 1)",easeInOutCurve:"cubic-bezier(0.4, 0, 0.2, 1)",easeInQuinticCurve:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",easeOutQuinticCurve:"cubic-bezier(0.23, 1, 0.32, 1)",easeInOutQuinticCurve:"cubic-bezier(0.86, 0, 0.07, 1)",linearCurve:"cubic-bezier(0, 0, 1, 1)"}},2051:function(e,t){"use strict";t.Z={border100:{borderColor:"hsla(0, 0%, 0%, 0.04)",borderStyle:"solid",borderWidth:"1px"},border200:{borderColor:"hsla(0, 0%, 0%, 0.08)",borderStyle:"solid",borderWidth:"1px"},border300:{borderColor:"hsla(0, 0%, 0%, 0.12)",borderStyle:"solid",borderWidth:"1px"},border400:{borderColor:"hsla(0, 0%, 0%, 0.16)",borderStyle:"solid",borderWidth:"1px"},border500:{borderColor:"hsla(0, 0%, 0%, 0.2)",borderStyle:"solid",borderWidth:"1px"},border600:{borderColor:"hsla(0, 0%, 0%, 0.24)",borderStyle:"solid",borderWidth:"1px"},radius100:"2px",radius200:"4px",radius300:"8px",radius400:"12px",radius500:"16px",useRoundedCorners:!0,buttonBorderRadius:"0px",inputBorderRadius:"0px",popoverBorderRadius:"0px",surfaceBorderRadius:"0px",tagBorderRadius:"24px"}},1931:function(e,t){"use strict";t.Z={small:320,medium:600,large:1136}},1406:function(e,t){"use strict";t.Z={columns:[4,8,12],gutters:[16,36,36],margins:[16,36,64],gaps:0,unit:"px",maxWidth:1280}},4110:function(e,t){"use strict";t.Z={shadow400:"0 1px 4px hsla(0, 0%, 0%, 0.16)",shadow500:"0 2px 8px hsla(0, 0%, 0%, 0.16)",shadow600:"0 4px 16px hsla(0, 0%, 0%, 0.16)",shadow700:"0 8px 24px hsla(0, 0%, 0%, 0.16)",overlay0:"inset 0 0 0 1000px hsla(0, 0%, 0%, 0)",overlay100:"inset 0 0 0 1000px hsla(0, 0%, 0%, 0.04)",overlay200:"inset 0 0 0 1000px hsla(0, 0%, 0%, 0.08)",overlay300:"inset 0 0 0 1000px hsla(0, 0%, 0%, 0.12)",overlay400:"inset 0 0 0 1000px hsla(0, 0%, 0%, 0.16)",overlay500:"inset 0 0 0 1000px hsla(0, 0%, 0%, 0.2)",overlay600:"inset 0 0 0 1000px hsla(0, 0%, 0%, 0.24)",shallowAbove:"0px -4px 16px rgba(0, 0, 0, 0.12)",shallowBelow:"0px 4px 16px rgba(0, 0, 0, 0.12)",deepAbove:"0px -16px 48px rgba(0, 0, 0, 0.22)",deepBelow:"0px 16px 48px rgba(0, 0, 0, 0.22)"}},7579:function(e,t,n){"use strict";var r=n(4457),i=n(1931),o={small:(0,r.a)(i.Z.small),medium:(0,r.a)(i.Z.medium),large:(0,r.a)(i.Z.large)};t.Z=o},1093:function(e,t){"use strict";t.Z={scale0:"2px",scale100:"4px",scale200:"6px",scale300:"8px",scale400:"10px",scale500:"12px",scale550:"14px",scale600:"16px",scale650:"18px",scale700:"20px",scale750:"22px",scale800:"24px",scale850:"28px",scale900:"32px",scale950:"36px",scale1000:"40px",scale1200:"48px",scale1400:"56px",scale1600:"64px",scale2400:"96px",scale3200:"128px",scale4800:"192px"}},680:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{U:function(){return a}});var a={primaryFontFamily:'system-ui, "Helvetica Neue", Helvetica, Arial, sans-serif'},s='"Lucida Console", Monaco, monospace';t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t={fontFamily:e.primaryFontFamily,fontSize:"12px",fontWeight:"normal",lineHeight:"20px"},n={fontFamily:e.primaryFontFamily,fontSize:"12px",fontWeight:500,lineHeight:"16px"},r={fontFamily:e.primaryFontFamily,fontSize:"14px",fontWeight:"normal",lineHeight:"20px"},o={fontFamily:e.primaryFontFamily,fontSize:"14px",fontWeight:500,lineHeight:"16px"},u={fontFamily:e.primaryFontFamily,fontSize:"16px",fontWeight:"normal",lineHeight:"24px"},l={fontFamily:e.primaryFontFamily,fontSize:"16px",fontWeight:500,lineHeight:"20px"},c={fontFamily:e.primaryFontFamily,fontSize:"18px",fontWeight:"normal",lineHeight:"28px"},A={fontFamily:e.primaryFontFamily,fontSize:"18px",fontWeight:500,lineHeight:"24px"},f={fontFamily:e.primaryFontFamily,fontSize:"20px",fontWeight:500,lineHeight:"28px"},h={fontFamily:e.primaryFontFamily,fontSize:"24px",fontWeight:500,lineHeight:"32px"},p={fontFamily:e.primaryFontFamily,fontSize:"28px",fontWeight:500,lineHeight:"36px"},d={fontFamily:e.primaryFontFamily,fontSize:"32px",fontWeight:500,lineHeight:"40px"},g={fontFamily:e.primaryFontFamily,fontSize:"36px",fontWeight:500,lineHeight:"44px"},v={fontFamily:e.primaryFontFamily,fontSize:"40px",fontWeight:500,lineHeight:"52px"},y={fontFamily:e.primaryFontFamily,fontSize:"36px",fontWeight:500,lineHeight:"44px"},m={fontFamily:e.primaryFontFamily,fontSize:"44px",fontWeight:500,lineHeight:"52px"},b={fontFamily:e.primaryFontFamily,fontSize:"52px",fontWeight:500,lineHeight:"64px"},_={fontFamily:e.primaryFontFamily,fontSize:"96px",fontWeight:500,lineHeight:"112px"};return{font100:t,font150:n,font200:r,font250:o,font300:u,font350:l,font400:c,font450:A,font550:f,font650:h,font750:p,font850:d,font950:g,font1050:v,font1150:y,font1250:m,font1350:b,font1450:_,ParagraphXSmall:t,ParagraphSmall:r,ParagraphMedium:u,ParagraphLarge:c,LabelXSmall:n,LabelSmall:o,LabelMedium:l,LabelLarge:A,HeadingXSmall:f,HeadingSmall:h,HeadingMedium:p,HeadingLarge:d,HeadingXLarge:g,HeadingXXLarge:v,DisplayXSmall:y,DisplaySmall:m,DisplayMedium:b,DisplayLarge:_,MonoParagraphXSmall:i(i({},t),{},{fontFamily:s}),MonoParagraphSmall:i(i({},r),{},{fontFamily:s}),MonoParagraphMedium:i(i({},u),{},{fontFamily:s}),MonoParagraphLarge:i(i({},c),{},{fontFamily:s}),MonoLabelXSmall:i(i({},n),{},{fontFamily:s}),MonoLabelSmall:i(i({},o),{},{fontFamily:s}),MonoLabelMedium:i(i({},l),{},{fontFamily:s}),MonoLabelLarge:i(i({},A),{},{fontFamily:s}),MonoHeadingXSmall:i(i({},f),{},{fontFamily:s}),MonoHeadingSmall:i(i({},h),{},{fontFamily:s}),MonoHeadingMedium:i(i({},p),{},{fontFamily:s}),MonoHeadingLarge:i(i({},d),{},{fontFamily:s}),MonoHeadingXLarge:i(i({},g),{},{fontFamily:s}),MonoHeadingXXLarge:i(i({},v),{},{fontFamily:s}),MonoDisplayXSmall:i(i({},y),{},{fontFamily:s}),MonoDisplaySmall:i(i({},m),{},{fontFamily:s}),MonoDisplayMedium:i(i({},b),{},{fontFamily:s}),MonoDisplayLarge:i(i({},_),{},{fontFamily:s})}}},586:function(e,t){"use strict";t.Z={white:"#FFFFFF",gray50:"#F6F6F6",gray100:"#EEEEEE",gray200:"#E2E2E2",gray300:"#CBCBCB",gray400:"#AFAFAF",gray500:"#6B6B6B",gray600:"#545454",gray700:"#333333",gray800:"#1F1F1F",gray900:"#141414",black:"#000000",platinum50:"#F4FAFB",platinum100:"#EBF5F7",platinum200:"#CCDFE5",platinum300:"#A1BDCA",platinum400:"#8EA3AD",platinum500:"#6C7C83",platinum600:"#556268",platinum700:"#394145",platinum800:"#142328",red50:"#FFEFED",red100:"#FED7D2",red200:"#F1998E",red300:"#E85C4A",red400:"#E11900",red500:"#AB1300",red600:"#870F00",red700:"#5A0A00",orange50:"#FFF3EF",orange100:"#FFE1D6",orange200:"#FABDA5",orange300:"#FA9269",orange400:"#FF6937",orange500:"#C14F29",orange600:"#9A3F21",orange700:"#672A16",yellow50:"#FFFAF0",yellow100:"#FFF2D9",yellow200:"#FFE3AC",yellow300:"#FFCF70",yellow400:"#FFC043",yellow500:"#BC8B2C",yellow600:"#996F00",yellow700:"#674D1B",green50:"#E6F2ED",green100:"#ADDEC9",green200:"#66D19E",green300:"#06C167",green400:"#048848",green500:"#03703C",green600:"#03582F",green700:"#10462D",blue50:"#EFF3FE",blue100:"#D4E2FC",blue200:"#A0BFF8",blue300:"#5B91F5",blue400:"#276EF1",blue500:"#1E54B7",blue600:"#174291",blue700:"#102C60",cobalt50:"#EBEDFA",cobalt100:"#D2D7F0",cobalt200:"#949CE3",cobalt300:"#535FCF",cobalt400:"#0E1FC1",cobalt500:"#0A1899",cobalt600:"#081270",cobalt700:"#050C4D",purple50:"#F3F1F9",purple100:"#E3DDF2",purple200:"#C1B4E2",purple300:"#957FCE",purple400:"#7356BF",purple500:"#574191",purple600:"#453473",purple700:"#2E224C",brown50:"#F6F0EA",brown100:"#EBE0DB",brown200:"#D2BBB0",brown300:"#B18977",brown400:"#99644C",brown500:"#744C3A",brown600:"#5C3C2E",brown700:"#3D281E"}},7626:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){e=e||{};for(var t,n,a=arguments.length<=1?0:arguments.length-1,s=0;s<a;s++)for(var u in t=(s+1<1||arguments.length<=s+1?void 0:arguments[s+1])||{})void 0!==r(t[u])&&(o(n=t[u])?e[u]=i(e[u]||Array.isArray(n)&&[]||{},n):e[u]=n);return e}function o(e){return Array.isArray(e)||"[object Object]"=={}.toString.call(e)}n.d(t,{Z:function(){return i}})},2422:function(e,t,n){"use strict";n.d(t,{Ah:function(){return f},E:function(){return c},L:function(){return A},Z5:function(){return h}});var r=!1,i=!0,o=!1,a={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function u(){i=!1}function l(){"hidden"===this.visibilityState&&o&&(i=!0)}function c(e){try{return e.target.matches(":focus-visible")}catch(t){}return i||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!a[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(e.target)}function A(e){var t;r||null==e||(r=!0,(t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",l,!0))}var f=function(e,t){return function(n){"function"===typeof e.onFocus&&e.onFocus(n),t(n)}},h=function(e,t){return function(n){"function"===typeof e.onBlur&&e.onBlur(n),t(n)}}},4134:function(e,t,n){"use strict";var r=n(598),i=n(1300),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")>-1?i(n):n}},1300:function(e,t,n){"use strict";var r=n(485),i=n(598),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(f){l=null}e.exports=function(e){var t=s(r,a,arguments);if(u&&l){var n=u(t,"length");n.configurable&&l(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var A=function(){return s(r,o,arguments)};l?l(e.exports,"apply",{value:A}):e.exports.apply=A},4916:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e)};var r,i=n(8619),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},4782:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/;e.exports=t.default},5922:function(e,t,n){"use strict";var r=n(6696),i=n(9103),o=/(Lat)(itude)?/gi,a=/(L)(on|ng)(gitude)?/i;function s(e,t){var n,r,i;for(var o in e)(r=o.match(t))&&(!n||r[0].length/o.length>i)&&(i=r[0].length/o.length,n=o);return n}function u(e){return s(e,o)}function l(e){return s(e,a)}function c(e){return"object"==typeof e?Object.keys(e).length:0}function A(e){var t=[];return[",",";","\t","|"].forEach((function(n){var i=r.dsvFormat(n).parse(e);if(i.length>=1){for(var o=c(i[0]),a=0;a<i.length;a++)if(c(i[a])!==o)return;t.push({delimiter:n,arity:Object.keys(i[0]).length})}})),t.length?t.sort((function(e,t){return t.arity-e.arity}))[0].delimiter:null}e.exports={isLon:function(e){return!!e.match(a)},isLat:function(e){return!!e.match(o)},guessLatHeader:u,guessLonHeader:l,csv:r.csvParse,tsv:r.tsvParse,dsv:r,auto:function(e){var t=A(e);return t?function(e){return delete e.columns,e}(r.dsvFormat(t).parse(e)):null},csv2geojson:function(e,t,n){n||(n=t,t={}),t.delimiter=t.delimiter||",";var o=t.latfield||"",a=t.lonfield||"",s=t.crs||"",c=[],f={type:"FeatureCollection",features:c};if(""!==s&&(f.crs={type:"name",properties:{name:s}}),"auto"!==t.delimiter||"string"!=typeof e||(t.delimiter=A(e),t.delimiter)){var h=t.numericFields?t.numericFields.split(","):null,p="string"==typeof e?r.dsvFormat(t.delimiter).parse(e,(function(e){if(h)for(var t in e)h.includes(t)&&(e[t]=+e[t]);return e})):e;if(p.length){var d,g=[];if(o||(o=u(p[0])),a||(a=l(p[0])),!o||!a){for(d=0;d<p.length;d++)c.push({type:"Feature",properties:p[d],geometry:null});n(g.length?g:null,f)}else{for(d=0;d<p.length;d++)if(void 0!==p[d][a]&&void 0!==p[d][o]){var v,y,m,b=p[d][a],_=p[d][o];(m=i(b,"EW"))&&(b=m),(m=i(_,"NS"))&&(_=m),v=parseFloat(b),y=parseFloat(_),isNaN(v)||isNaN(y)?g.push({message:"A row contained an invalid value for latitude or longitude",row:p[d],index:d}):(t.includeLatLon||(delete p[d][a],delete p[d][o]),c.push({type:"Feature",properties:p[d],geometry:{type:"Point",coordinates:[parseFloat(v),parseFloat(y)]}}))}n(g.length?g:null,f)}}else n(null,f)}else n({type:"Error",message:"Could not autodetect delimiter"})},toLine:function(e){for(var t=e.features,n={type:"Feature",geometry:{type:"LineString",coordinates:[]}},r=0;r<t.length;r++)n.geometry.coordinates.push(t[r].geometry.coordinates);return n.properties=t.reduce((function(e,t){for(var n in t.properties)e[n]||(e[n]=[]),e[n].push(t.properties[n]);return e}),{}),{type:"FeatureCollection",features:[n]}},toPolygon:function(e){for(var t=e.features,n={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},r=0;r<t.length;r++)n.geometry.coordinates[0].push(t[r].geometry.coordinates);return n.properties=t.reduce((function(e,t){for(var n in t.properties)e[n]||(e[n]=[]),e[n].push(t.properties[n]);return e}),{}),{type:"FeatureCollection",features:[n]}}}},6696:function(e,t,n){"use strict";function r(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}")}function i(e){var t=new RegExp('["'+e+"\n]"),n=e.charCodeAt(0);function i(e,t){var r,i,o={},a={},s=[],u=e.length,l=0,c=0;function A(){if(l>=u)return a;if(i)return i=!1,o;var t,r=l;if(34===e.charCodeAt(r)){for(var s=r;s++<u;)if(34===e.charCodeAt(s)){if(34!==e.charCodeAt(s+1))break;++s}return l=s+2,13===(t=e.charCodeAt(s+1))?(i=!0,10===e.charCodeAt(s+2)&&++l):10===t&&(i=!0),e.slice(r+1,s).replace(/""/g,'"')}for(;l<u;){var c=1;if(10===(t=e.charCodeAt(l++)))i=!0;else if(13===t)i=!0,10===e.charCodeAt(l)&&(++l,++c);else if(t!==n)continue;return e.slice(r,l-c)}return e.slice(r)}for(;(r=A())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=A();t&&null==(f=t(f,c++))||s.push(f)}return s}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":t.test(e+="")?'"'+e.replace(/\"/g,'""')+'"':e}return{parse:function(e,t){var n,o,a=i(e,(function(e,i){if(n)return n(e,i-1);o=e,n=t?function(e,t){var n=r(e);return function(r,i){return t(n(r),i,e)}}(e,t):r(e)}));return a.columns=o,a},parseRows:i,format:function(t,n){return null==n&&(n=function(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}(t)),[n.map(a).join(e)].concat(t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))).join("\n")},formatRows:function(e){return e.map(o).join("\n")}}}n.r(t),n.d(t,{csvFormat:function(){return u},csvFormatRows:function(){return l},csvParse:function(){return a},csvParseRows:function(){return s},dsvFormat:function(){return i},tsvFormat:function(){return h},tsvFormatRows:function(){return p},tsvParse:function(){return A},tsvParseRows:function(){return f}});var o=i(","),a=o.parse,s=o.parseRows,u=o.format,l=o.formatRows,c=i("\t"),A=c.parse,f=c.parseRows,h=c.format,p=c.formatRows},6684:function(e,t,n){"use strict";function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:function(){return r}})},8701:function(e,t,n){"use strict";n.d(t,{Nw:function(){return u},ZR:function(){return l},ml:function(){return s}});var r=n(6684),i=n(8034),o=n(5053),a=(0,i.Z)(r.Z),s=a.right,u=a.left,l=(0,i.Z)(o.Z).center;t.ZP=s},8034:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6684);function i(e){var t=e,n=e;function i(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return(0,r.Z)(e(t),n)}}(e)),{left:i,center:function(e,n,r,o){null==r&&(r=0),null==o&&(o=e.length);var a=i(e,n,r,o-1);return a>r&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}}},7568:function(e,t,n){"use strict";n.r(t),n.d(t,{Adder:function(){return _},InternMap:function(){return F},InternSet:function(){return I},ascending:function(){return i.Z},bin:function(){return re},bisect:function(){return r.ZP},bisectCenter:function(){return r.ZR},bisectLeft:function(){return r.Nw},bisectRight:function(){return r.ml},bisector:function(){return o.Z},count:function(){return s},cross:function(){return h},cumsum:function(){return p},descending:function(){return d},deviation:function(){return v},difference:function(){return Ze},disjoint:function(){return Ue},every:function(){return Me},extent:function(){return y},fcumsum:function(){return x},filter:function(){return Ie},fsum:function(){return w},greatest:function(){return xe},greatestIndex:function(){return Ce},group:function(){return j},groupSort:function(){return X},groups:function(){return N},histogram:function(){return re},index:function(){return H},indexes:function(){return V},intersection:function(){return Ne},least:function(){return _e},leastIndex:function(){return we},map:function(){return Le},max:function(){return se.Z},maxIndex:function(){return ue},mean:function(){return le},median:function(){return ce},merge:function(){return pe},min:function(){return de.Z},minIndex:function(){return ge},nice:function(){return te},pairs:function(){return ve},permute:function(){return K},quantile:function(){return ie.Z},quantileSorted:function(){return ie.s},quickselect:function(){return me.Z},range:function(){return be.Z},reduce:function(){return Re},reverse:function(){return De},rollup:function(){return z},rollups:function(){return Q},scan:function(){return Be},shuffle:function(){return Ee},shuffler:function(){return Se},some:function(){return Fe},sort:function(){return q},subset:function(){return Qe},sum:function(){return ke},superset:function(){return ze},thresholdFreedmanDiaconis:function(){return oe},thresholdScott:function(){return ae},thresholdSturges:function(){return ne},tickIncrement:function(){return ee.G9},tickStep:function(){return ee.ly},ticks:function(){return ee.ZP},transpose:function(){return Oe},union:function(){return He},variance:function(){return g},zip:function(){return Pe}});var r=n(8701),i=n(6684),o=n(8034),a=n(7762);function s(e,t){var n=0;if(void 0===t){var r,i=(0,a.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(o=+o)>=o&&++n}}catch(A){i.e(A)}finally{i.f()}}else{var s,u=-1,l=(0,a.Z)(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;null!=(c=t(c,++u,e))&&(c=+c)>=c&&++n}}catch(A){l.e(A)}finally{l.f()}}return n}var u=n(2982);function l(e){return 0|e.length}function c(e){return!(e>0)}function A(e){return"object"!==typeof e||"length"in e?e:Array.from(e)}function f(e){return function(t){return e.apply(void 0,(0,u.Z)(t))}}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"===typeof t[t.length-1]&&f(t.pop()),i=(t=t.map(A)).map(l),o=t.length-1,a=new Array(o+1).fill(0),s=[];if(o<0||i.some(c))return s;for(;;){s.push(a.map((function(e,n){return t[n][e]})));for(var u=o;++a[u]===i[u];){if(0===u)return r?s.map(r):s;a[u--]=0}}}function p(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?function(e){return n+=+e||0}:function(i){return n+=+t(i,r++,e)||0})}function d(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function g(e,t){var n,r=0,i=0,o=0;if(void 0===t){var s,u=(0,a.Z)(e);try{for(u.s();!(s=u.n()).done;){var l=s.value;null!=l&&(l=+l)>=l&&(o+=(n=l-i)*(l-(i+=n/++r)))}}catch(p){u.e(p)}finally{u.f()}}else{var c,A=-1,f=(0,a.Z)(e);try{for(f.s();!(c=f.n()).done;){var h=c.value;null!=(h=t(h,++A,e))&&(h=+h)>=h&&(o+=(n=h-i)*(h-(i+=n/++r)))}}catch(p){f.e(p)}finally{f.f()}}if(r>1)return o/(r-1)}function v(e,t){var n=g(e,t);return n?Math.sqrt(n):n}function y(e,t){var n,r;if(void 0===t){var i,o=(0,a.Z)(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;null!=s&&(void 0===n?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}}catch(f){o.e(f)}finally{o.f()}}else{var u,l=-1,c=(0,a.Z)(e);try{for(c.s();!(u=c.n()).done;){var A=u.value;null!=(A=t(A,++l,e))&&(void 0===n?A>=A&&(n=r=A):(n>A&&(n=A),r<A&&(r=A)))}}catch(f){c.e(f)}finally{c.f()}}return[n,r]}var m=n(5671),b=n(3144),_=function(){function e(){(0,m.Z)(this,e),this._partials=new Float64Array(32),this._n=0}return(0,b.Z)(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=t[r],o=e+i,a=Math.abs(e)<Math.abs(i)?e-(o-i):i-(o-e);a&&(t[n++]=a),e=o}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,r=this._partials,i=this._n,o=0;if(i>0){for(o=r[--i];i>0&&(e=o,!(n=(t=r[--i])-((o=e+t)-e))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(t=2*n)==(e=o+t)-o&&(o=e)}return o}}]),e}();function w(e,t){var n=new _;if(void 0===t){var r,i=(0,a.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;(o=+o)&&n.add(o)}}catch(A){i.e(A)}finally{i.f()}}else{var s,u=-1,l=(0,a.Z)(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;(c=+t(c,++u,e))&&n.add(c)}}catch(A){l.e(A)}finally{l.f()}}return+n}function x(e,t){var n=new _,r=-1;return Float64Array.from(e,void 0===t?function(e){return n.add(+e||0)}:function(i){return n.add(+t(i,++r,e)||0)})}var C=n(885),B=n(7326),E=n(1752),S=n(1120),k=n(136),O=n(7277),T=n(9611);var P=n(5647);function M(e){var t="function"===typeof Map?new Map:void 0;return M=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return(0,P.Z)(e,arguments,(0,S.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,T.Z)(r,e)},M(e)}var F=function(e){(0,k.Z)(n,e);var t=(0,O.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z;if((0,m.Z)(this,n),r=t.call(this),Object.defineProperties((0,B.Z)(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var o,s=(0,a.Z)(e);try{for(s.s();!(o=s.n()).done;){var u=(0,C.Z)(o.value,2),l=u[0],c=u[1];r.set(l,c)}}catch(A){s.e(A)}finally{s.f()}}return r}return(0,b.Z)(n,[{key:"get",value:function(e){return(0,E.Z)((0,S.Z)(n.prototype),"get",this).call(this,L(this,e))}},{key:"has",value:function(e){return(0,E.Z)((0,S.Z)(n.prototype),"has",this).call(this,L(this,e))}},{key:"set",value:function(e,t){return(0,E.Z)((0,S.Z)(n.prototype),"set",this).call(this,R(this,e),t)}},{key:"delete",value:function(e){return(0,E.Z)((0,S.Z)(n.prototype),"delete",this).call(this,D(this,e))}}]),n}(M(Map)),I=function(e){(0,k.Z)(n,e);var t=(0,O.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z;if((0,m.Z)(this,n),r=t.call(this),Object.defineProperties((0,B.Z)(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var o,s=(0,a.Z)(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;r.add(u)}}catch(l){s.e(l)}finally{s.f()}}return r}return(0,b.Z)(n,[{key:"has",value:function(e){return(0,E.Z)((0,S.Z)(n.prototype),"has",this).call(this,L(this,e))}},{key:"add",value:function(e){return(0,E.Z)((0,S.Z)(n.prototype),"add",this).call(this,R(this,e))}},{key:"delete",value:function(e){return(0,E.Z)((0,S.Z)(n.prototype),"delete",this).call(this,D(this,e))}}]),n}(M(Set));function L(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function R(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function D(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)&&(t=n.get(t),n.delete(r)),t}function Z(e){return null!==e&&"object"===typeof e?e.valueOf():e}function U(e){return e}function j(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(e,U,U,n)}function N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(e,Array.from,U,n)}function z(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return W(e,U,t,r)}function Q(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return W(e,Array.from,t,r)}function H(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(e,U,G,n)}function V(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(e,Array.from,G,n)}function G(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function W(e,t,n,r){return function e(i,o){if(o>=r.length)return n(i);var s,u=new F,l=r[o++],c=-1,A=(0,a.Z)(i);try{for(A.s();!(s=A.n()).done;){var f=s.value,h=l(f,++c,i),p=u.get(h);p?p.push(f):u.set(h,[f])}}catch(b){A.e(b)}finally{A.f()}var d,g=(0,a.Z)(u);try{for(g.s();!(d=g.n()).done;){var v=(0,C.Z)(d.value,2),y=v[0],m=v[1];u.set(y,e(m,o))}}catch(b){g.e(b)}finally{g.f()}return t(u)}(e,0)}function K(e,t){return Array.from(t,(function(t){return e[t]}))}function q(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);var o=n,s=(0,C.Z)(o,1),u=s[0],l=void 0===u?i.Z:u;if(1===l.length||n.length>1){var c=Uint32Array.from(e,(function(e,t){return t}));return n.length>1?(n=n.map((function(t){return e.map(t)})),c.sort((function(e,t){var r,o=(0,a.Z)(n);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=(0,i.Z)(s[e],s[t]);if(u)return u}}catch(l){o.e(l)}finally{o.f()}}))):(l=e.map(l),c.sort((function(e,t){return(0,i.Z)(l[e],l[t])}))),K(e,c)}return e.sort(l)}function X(e,t,n){return(1===t.length?q(z(e,t,n),(function(e,t){var n=(0,C.Z)(e,2),r=n[0],o=n[1],a=(0,C.Z)(t,2),s=a[0],u=a[1];return(0,i.Z)(o,u)||(0,i.Z)(r,s)})):q(j(e,n),(function(e,n){var r=(0,C.Z)(e,2),o=r[0],a=r[1],s=(0,C.Z)(n,2),u=s[0],l=s[1];return t(a,l)||(0,i.Z)(o,u)}))).map((function(e){return(0,C.Z)(e,1)[0]}))}var Y=Array.prototype,J=Y.slice;Y.map;function $(e){return function(){return e}}var ee=n(8069);function te(e,t,n){for(var r;;){var i=(0,ee.G9)(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function ne(e){return Math.ceil(Math.log(s(e))/Math.LN2)+1}function re(){var e=U,t=y,n=ne;function i(i){Array.isArray(i)||(i=Array.from(i));var o,a,s=i.length,u=new Array(s);for(o=0;o<s;++o)u[o]=e(i[o],o,i);var l=t(u),c=l[0],A=l[1],f=n(u,c,A);if(!Array.isArray(f)){var h=A,p=+f;if(t===y){var d=te(c,A,p),g=(0,C.Z)(d,2);c=g[0],A=g[1]}if((f=(0,ee.ZP)(c,A,p))[f.length-1]>=A)if(h>=A&&t===y){var v=(0,ee.G9)(c,A,p);isFinite(v)&&(v>0?A=(Math.floor(A/v)+1)*v:v<0&&(A=(Math.ceil(A*-v)+1)/-v))}else f.pop()}for(var m=f.length;f[0]<=c;)f.shift(),--m;for(;f[m-1]>A;)f.pop(),--m;var b,_=new Array(m+1);for(o=0;o<=m;++o)(b=_[o]=[]).x0=o>0?f[o-1]:c,b.x1=o<m?f[o]:A;for(o=0;o<s;++o)c<=(a=u[o])&&a<=A&&_[(0,r.ZP)(f,a,0,m)].push(i[o]);return _}return i.value=function(t){return arguments.length?(e="function"===typeof t?t:$(t),i):e},i.domain=function(e){return arguments.length?(t="function"===typeof e?e:$([e[0],e[1]]),i):t},i.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?$(J.call(e)):$(e),i):n},i}var ie=n(7939);function oe(e,t,n){return Math.ceil((n-t)/(2*((0,ie.Z)(e,.75)-(0,ie.Z)(e,.25))*Math.pow(s(e),-1/3)))}function ae(e,t,n){return Math.ceil((n-t)/(3.5*v(e)*Math.pow(s(e),-1/3)))}var se=n(9029);function ue(e,t){var n,r=-1,i=-1;if(void 0===t){var o,s=(0,a.Z)(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;++i,null!=u&&(n<u||void 0===n&&u>=u)&&(n=u,r=i)}}catch(f){s.e(f)}finally{s.f()}}else{var l,c=(0,a.Z)(e);try{for(c.s();!(l=c.n()).done;){var A=l.value;null!=(A=t(A,++i,e))&&(n<A||void 0===n&&A>=A)&&(n=A,r=i)}}catch(f){c.e(f)}finally{c.f()}}return r}function le(e,t){var n=0,r=0;if(void 0===t){var i,o=(0,a.Z)(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;null!=s&&(s=+s)>=s&&(++n,r+=s)}}catch(f){o.e(f)}finally{o.f()}}else{var u,l=-1,c=(0,a.Z)(e);try{for(c.s();!(u=c.n()).done;){var A=u.value;null!=(A=t(A,++l,e))&&(A=+A)>=A&&(++n,r+=A)}}catch(f){c.e(f)}finally{c.f()}}if(n)return r/n}function ce(e,t){return(0,ie.Z)(e,.5,t)}var Ae=n(4165),fe=(0,Ae.Z)().mark(he);function he(e){var t,n,r;return(0,Ae.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=(0,a.Z)(e),i.prev=1,t.s();case 3:if((n=t.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),t.e(i.t1);case 13:return i.prev=13,t.f(),i.finish(13);case 16:case"end":return i.stop()}}),fe,null,[[1,10,13,16]])}function pe(e){return Array.from(he(e))}var de=n(5572);function ge(e,t){var n,r=-1,i=-1;if(void 0===t){var o,s=(0,a.Z)(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;++i,null!=u&&(n>u||void 0===n&&u>=u)&&(n=u,r=i)}}catch(f){s.e(f)}finally{s.f()}}else{var l,c=(0,a.Z)(e);try{for(c.s();!(l=c.n()).done;){var A=l.value;null!=(A=t(A,++i,e))&&(n>A||void 0===n&&A>=A)&&(n=A,r=i)}}catch(f){c.e(f)}finally{c.f()}}return r}function ve(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye,i=[],o=!1,s=(0,a.Z)(e);try{for(s.s();!(n=s.n()).done;){var u=n.value;o&&i.push(r(t,u)),t=u,o=!0}}catch(l){s.e(l)}finally{s.f()}return i}function ye(e,t){return[e,t]}var me=n(3286),be=n(304);function _e(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z,r=!1;if(1===n.length){var o,s,u=(0,a.Z)(e);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=n(l);(r?(0,i.Z)(c,o)<0:0===(0,i.Z)(c,c))&&(t=l,o=c,r=!0)}}catch(p){u.e(p)}finally{u.f()}}else{var A,f=(0,a.Z)(e);try{for(f.s();!(A=f.n()).done;){var h=A.value;(r?n(h,t)<0:0===n(h,h))&&(t=h,r=!0)}}catch(p){f.e(p)}finally{f.f()}}return t}function we(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z;if(1===n.length)return ge(e,n);var r,o=-1,s=-1,u=(0,a.Z)(e);try{for(u.s();!(r=u.n()).done;){var l=r.value;++s,(o<0?0===n(l,l):n(l,t)<0)&&(t=l,o=s)}}catch(c){u.e(c)}finally{u.f()}return o}function xe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z,r=!1;if(1===n.length){var o,s,u=(0,a.Z)(e);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=n(l);(r?(0,i.Z)(c,o)>0:0===(0,i.Z)(c,c))&&(t=l,o=c,r=!0)}}catch(p){u.e(p)}finally{u.f()}}else{var A,f=(0,a.Z)(e);try{for(f.s();!(A=f.n()).done;){var h=A.value;(r?n(h,t)>0:0===n(h,h))&&(t=h,r=!0)}}catch(p){f.e(p)}finally{f.f()}}return t}function Ce(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z;if(1===n.length)return ue(e,n);var r,o=-1,s=-1,u=(0,a.Z)(e);try{for(u.s();!(r=u.n()).done;){var l=r.value;++s,(o<0?0===n(l,l):n(l,t)>0)&&(t=l,o=s)}}catch(c){u.e(c)}finally{u.f()}return o}function Be(e,t){var n=we(e,t);return n<0?void 0:n}var Ee=Se(Math.random);function Se(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=r-(n=+n);i;){var o=e()*i--|0,a=t[i+n];t[i+n]=t[o+n],t[o+n]=a}return t}}function ke(e,t){var n=0;if(void 0===t){var r,i=(0,a.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;(o=+o)&&(n+=o)}}catch(A){i.e(A)}finally{i.f()}}else{var s,u=-1,l=(0,a.Z)(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;(c=+t(c,++u,e))&&(n+=c)}}catch(A){l.e(A)}finally{l.f()}}return n}function Oe(e){if(!(i=e.length))return[];for(var t=-1,n=(0,de.Z)(e,Te),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r}function Te(e){return e.length}function Pe(){return Oe(arguments)}function Me(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=-1,i=(0,a.Z)(e);try{for(i.s();!(n=i.n()).done;){if(!t(n.value,++r,e))return!1}}catch(o){i.e(o)}finally{i.f()}return!0}function Fe(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=-1,i=(0,a.Z)(e);try{for(i.s();!(n=i.n()).done;){if(t(n.value,++r,e))return!0}}catch(o){i.e(o)}finally{i.f()}return!1}function Ie(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=[],i=-1,o=(0,a.Z)(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;t(s,++i,e)&&r.push(s)}}catch(u){o.e(u)}finally{o.f()}return r}function Le(e,t){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof t)throw new TypeError("mapper is not a function");return Array.from(e,(function(n,r){return t(n,r,e)}))}function Re(e,t,n){if("function"!==typeof t)throw new TypeError("reducer is not a function");var r,i,o=e[Symbol.iterator](),a=-1;if(arguments.length<3){var s=o.next();if(r=s.done,n=s.value,r)return;++a}for(;r=(u=o.next()).done,i=u.value,!r;){var u;n=t(n,i,++a,e)}return n}function De(e){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Ze(e){e=new Set(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s,u=o[i],l=(0,a.Z)(u);try{for(l.s();!(s=l.n()).done;){var c=s.value;e.delete(c)}}catch(A){l.e(A)}finally{l.f()}}return e}function Ue(e,t){var n,r=t[Symbol.iterator](),i=new Set,o=(0,a.Z)(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(i.has(s))return!1;for(var u=void 0,l=void 0;u=(c=r.next()).value,l=c.done,c;){var c;if(l)break;if(Object.is(s,u))return!1;i.add(u)}}}catch(A){o.e(A)}finally{o.f()}return!0}function je(e){return e instanceof Set?e:new Set(e)}function Ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=new Set(e),n=n.map(je);var i,o=(0,a.Z)(e);try{e:for(o.s();!(i=o.n()).done;){var s,u=i.value,l=(0,a.Z)(n);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(!c.has(u)){e.delete(u);continue e}}}catch(A){l.e(A)}finally{l.f()}}}catch(A){o.e(A)}finally{o.f()}return e}function ze(e,t){var n,r=e[Symbol.iterator](),i=new Set,o=(0,a.Z)(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!i.has(s))for(var u=void 0,l=void 0;u=(c=r.next()).value,l=c.done,c;){var c;if(l)return!1;if(i.add(u),Object.is(s,u))break}}}catch(A){o.e(A)}finally{o.f()}return!0}function Qe(e,t){return ze(t,e)}function He(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s,u=o[i],l=(0,a.Z)(u);try{for(l.s();!(s=l.n()).done;){var c=s.value;e.add(c)}}catch(A){l.e(A)}finally{l.f()}}return e}},9029:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7762);function i(e,t){var n;if(void 0===t){var i,o=(0,r.Z)(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(A){o.e(A)}finally{o.f()}}else{var s,u=-1,l=(0,r.Z)(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;null!=(c=t(c,++u,e))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(A){l.e(A)}finally{l.f()}}return n}},5572:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7762);function i(e,t){var n;if(void 0===t){var i,o=(0,r.Z)(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(A){o.e(A)}finally{o.f()}}else{var s,u=-1,l=(0,r.Z)(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;null!=(c=t(c,++u,e))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(A){l.e(A)}finally{l.f()}}return n}},5053:function(e,t,n){"use strict";n.d(t,{K:function(){return s},Z:function(){return a}});var r=n(4165),i=n(7762),o=(0,r.Z)().mark(s);function a(e){return null===e?NaN:+e}function s(e,t){var n,a,s,u,l,c,A;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=21;break}n=(0,i.Z)(e),r.prev=2,n.s();case 4:if((a=n.n()).done){r.next=11;break}if(!(null!=(s=a.value)&&(s=+s)>=s)){r.next=9;break}return r.next=9,s;case 9:r.next=4;break;case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(2),n.e(r.t0);case 16:return r.prev=16,n.f(),r.finish(16);case 19:r.next=40;break;case 21:u=-1,l=(0,i.Z)(e),r.prev=23,l.s();case 25:if((c=l.n()).done){r.next=32;break}if(A=c.value,!(null!=(A=t(A,++u,e))&&(A=+A)>=A)){r.next=30;break}return r.next=30,A;case 30:r.next=25;break;case 32:r.next=37;break;case 34:r.prev=34,r.t1=r.catch(23),l.e(r.t1);case 37:return r.prev=37,l.f(),r.finish(37);case 40:case"end":return r.stop()}}),o,null,[[2,13,16,19],[23,34,37,40]])}},7939:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},s:function(){return u}});var r=n(9029),i=n(5572),o=n(3286),a=n(5053);function s(e,t,n){if(s=(e=Float64Array.from((0,a.K)(e,n))).length){if((t=+t)<=0||s<2)return(0,i.Z)(e);if(t>=1)return(0,r.Z)(e);var s,u=(s-1)*t,l=Math.floor(u),c=(0,r.Z)((0,o.Z)(e,l).subarray(0,l+1));return c+((0,i.Z)(e.subarray(l+1))-c)*(u-l)}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Z;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return s+(u-s)*(i-o)}}},3286:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6684);function i(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.Z;a>n;){if(a-n>600){var u=a-n+1,l=t-n+1,c=Math.log(u),A=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*A*(u-A)/u)*(l-u/2<0?-1:1),h=Math.max(n,Math.floor(t-l*A/u+f)),p=Math.min(a,Math.floor(t+(u-l)*A/u+f));i(e,t,h,p,s)}var d=e[t],g=n,v=a;for(o(e,n,t),s(e[a],d)>0&&o(e,n,a);g<v;){for(o(e,g,v),++g,--v;s(e[g],d)<0;)++g;for(;s(e[v],d)>0;)--v}0===s(e[n],d)?o(e,n,v):o(e,++v,a),v<=t&&(n=v+1),t<=v&&(a=v-1)}return e}function o(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}},304:function(e,t,n){"use strict";function r(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}n.d(t,{Z:function(){return r}})},8069:function(e,t,n){"use strict";n.d(t,{G9:function(){return s},ZP:function(){return a},ly:function(){return u}});var r=Math.sqrt(50),i=Math.sqrt(10),o=Math.sqrt(2);function a(e,t,n){var r,i,o,a,u=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=s(e,t,n))||!isFinite(a))return[];if(a>0){var l=Math.round(e/a),c=Math.round(t/a);for(l*a<e&&++l,c*a>t&&--c,o=new Array(i=c-l+1);++u<i;)o[u]=(l+u)*a}else{a=-a;var A=Math.round(e*a),f=Math.round(t*a);for(A/a<e&&++A,f/a>t&&--f,o=new Array(i=f-A+1);++u<i;)o[u]=(A+u)/a}return r&&o.reverse(),o}function s(e,t,n){var a=(t-e)/Math.max(0,n),s=Math.floor(Math.log(a)/Math.LN10),u=a/Math.pow(10,s);return s>=0?(u>=r?10:u>=i?5:u>=o?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=r?10:u>=i?5:u>=o?2:1)}function u(e,t,n){var a=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),u=a/s;return u>=r?s*=10:u>=i?s*=5:u>=o&&(s*=2),t<e?-s:s}},9975:function(e,t,n){"use strict";n.d(t,{WU:function(){return i},ZP:function(){return s},jH:function(){return o}});var r,i,o,a=n(7303);function s(e){return r=(0,a.Z)(e),i=r.format,o=r.formatPrefix,r}s({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},1275:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(8901);function i(e){return(e=(0,r.V)(Math.abs(e)))?e[1]:NaN}},8901:function(e,t,n){"use strict";function r(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}n.d(t,{V:function(){return i},Z:function(){return r}})},8481:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},v:function(){return o}});var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new o({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function o(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},8419:function(e,t,n){"use strict";n.r(t),n.d(t,{FormatSpecifier:function(){return o.v},format:function(){return r.WU},formatDefaultLocale:function(){return r.ZP},formatLocale:function(){return i.Z},formatPrefix:function(){return r.jH},formatSpecifier:function(){return o.Z},precisionFixed:function(){return a.Z},precisionPrefix:function(){return s.Z},precisionRound:function(){return u.Z}});var r=n(9975),i=n(7303),o=n(8481),a=n(4827),s=n(7861),u=n(4226)},7303:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(1275);var i=n(8481);var o,a=n(8901);function s(e,t){var n=(0,a.V)(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var u={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:a.Z,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return s(100*e,t)},r:s,s:function(e,t){var n=(0,a.V)(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(o=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+(0,a.V)(e,Math.max(0,t+s-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function l(e){return e}var c=Array.prototype.map,A=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function f(e){var t,n,a=void 0===e.grouping||void 0===e.thousands?l:(t=c.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),s=void 0===e.currency?"":e.currency[0]+"",f=void 0===e.currency?"":e.currency[1]+"",h=void 0===e.decimal?".":e.decimal+"",p=void 0===e.numerals?l:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(c.call(e.numerals,String)),d=void 0===e.percent?"%":e.percent+"",g=void 0===e.minus?"-":e.minus+"",v=void 0===e.nan?"NaN":e.nan+"";function y(e){var t=(e=(0,i.Z)(e)).fill,n=e.align,r=e.sign,l=e.symbol,c=e.zero,y=e.width,m=e.comma,b=e.precision,_=e.trim,w=e.type;"n"===w?(m=!0,w="g"):u[w]||(void 0===b&&(b=12),_=!0,w="g"),(c||"0"===t&&"="===n)&&(c=!0,t="0",n="=");var x="$"===l?s:"#"===l&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",C="$"===l?f:/[%p]/.test(w)?d:"",B=u[w],E=/[defgprs%]/.test(w);function S(e){var i,s,u,l=x,f=C;if("c"===w)f=B(e)+f,e="";else{var d=(e=+e)<0||1/e<0;if(e=isNaN(e)?v:B(Math.abs(e),b),_&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),d&&0===+e&&"+"!==r&&(d=!1),l=(d?"("===r?r:g:"-"===r||"("===r?"":r)+l,f=("s"===w?A[8+o/3]:"")+f+(d&&"("===r?")":""),E)for(i=-1,s=e.length;++i<s;)if(48>(u=e.charCodeAt(i))||u>57){f=(46===u?h+e.slice(i+1):e.slice(i))+f,e=e.slice(0,i);break}}m&&!c&&(e=a(e,1/0));var S=l.length+e.length+f.length,k=S<y?new Array(y-S+1).join(t):"";switch(m&&c&&(e=a(k+e,k.length?y-f.length:1/0),k=""),n){case"<":e=l+e+f+k;break;case"=":e=l+k+e+f;break;case"^":e=k.slice(0,S=k.length>>1)+l+e+f+k.slice(S);break;default:e=k+l+e+f}return p(e)}return b=void 0===b?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),S.toString=function(){return e+""},S}return{format:y,formatPrefix:function(e,t){var n=y(((e=(0,i.Z)(e)).type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor((0,r.Z)(t)/3))),a=Math.pow(10,-o),s=A[8+o/3];return function(e){return n(a*e)+s}}}}},4827:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1275);function i(e){return Math.max(0,-(0,r.Z)(Math.abs(e)))}},7861:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1275);function i(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,r.Z)(t)/3)))-(0,r.Z)(Math.abs(e)))}},4226:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1275);function i(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,r.Z)(t)-(0,r.Z)(e))+1}},1971:function(e,t,n){"use strict";n.d(t,{g:function(){return s}});var r=Math.PI/3,i=[0,r,2*r,3*r,4*r,5*r];function o(e){return e[0]}function a(e){return e[1]}function s(){var e,t,n,s=0,u=0,l=1,c=1,A=o,f=a;function h(e){var r,i={},o=[],a=e.length;for(r=0;r<a;++r)if(!isNaN(u=+A.call(null,s=e[r],r,e))&&!isNaN(l=+f.call(null,s,r,e))){var s,u,l,c=Math.round(l/=n),h=Math.round(u=u/t-(1&c)/2),p=l-c;if(3*Math.abs(p)>1){var d=u-h,g=h+(u<h?-1:1)/2,v=c+(l<c?-1:1),y=u-g,m=l-v;d*d+p*p>y*y+m*m&&(h=g+(1&c?1:-1)/2,c=v)}var b=h+"-"+c,_=i[b];_?_.push(s):(o.push(_=i[b]=[s]),_.x=(h+(1&c)/2)*t,_.y=c*n)}return o}function p(e){var t=0,n=0;return i.map((function(r){var i=Math.sin(r)*e,o=-Math.cos(r)*e,a=i-t,s=o-n;return t=i,n=o,[a,s]}))}return h.hexagon=function(t){return"m"+p(null==t?e:+t).join("l")+"z"},h.centers=function(){for(var r=[],i=Math.round(u/n),o=Math.round(s/t),a=i*n;a<c+e;a+=n,++i)for(var A=o*t+(1&i)*t/2;A<l+t/2;A+=t)r.push([A,a]);return r},h.mesh=function(){var t=p(e).slice(0,4).join("l");return h.centers().map((function(e){return"M"+e+"m"+t})).join("")},h.x=function(e){return arguments.length?(A=e,h):A},h.y=function(e){return arguments.length?(f=e,h):f},h.radius=function(i){return arguments.length?(t=2*(e=+i)*Math.sin(r),n=1.5*e,h):e},h.size=function(e){return arguments.length?(s=u=0,l=+e[0],c=+e[1],h):[l-s,c-u]},h.extent=function(e){return arguments.length?(s=+e[0][0],u=+e[0][1],l=+e[1][0],c=+e[1][1],h):[[s,u],[l,c]]},h.radius(1)}},7564:function(e,t,n){"use strict";function r(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}n.r(t),n.d(t,{interpolateBlues:function(){return ze},interpolateBrBG:function(){return ee},interpolateBuGn:function(){return ye},interpolateBuPu:function(){return be},interpolateCividis:function(){return $e},interpolateCool:function(){return vt},interpolateCubehelixDefault:function(){return dt},interpolateGnBu:function(){return we},interpolateGreens:function(){return He},interpolateGreys:function(){return Ge},interpolateInferno:function(){return kt},interpolateMagma:function(){return St},interpolateOrRd:function(){return Ce},interpolateOranges:function(){return Je},interpolatePRGn:function(){return ne},interpolatePiYG:function(){return ie},interpolatePlasma:function(){return Ot},interpolatePuBu:function(){return ke},interpolatePuBuGn:function(){return Ee},interpolatePuOr:function(){return ae},interpolatePuRd:function(){return Te},interpolatePurples:function(){return Ke},interpolateRainbow:function(){return mt},interpolateRdBu:function(){return ue},interpolateRdGy:function(){return ce},interpolateRdPu:function(){return Me},interpolateRdYlBu:function(){return fe},interpolateRdYlGn:function(){return pe},interpolateReds:function(){return Xe},interpolateSinebow:function(){return xt},interpolateSpectral:function(){return ge},interpolateTurbo:function(){return Ct},interpolateViridis:function(){return Et},interpolateWarm:function(){return gt},interpolateYlGn:function(){return Re},interpolateYlGnBu:function(){return Ie},interpolateYlOrBr:function(){return Ze},interpolateYlOrRd:function(){return je},schemeAccent:function(){return o},schemeBlues:function(){return Ne},schemeBrBG:function(){return $},schemeBuGn:function(){return ve},schemeBuPu:function(){return me},schemeCategory10:function(){return i},schemeDark2:function(){return a},schemeGnBu:function(){return _e},schemeGreens:function(){return Qe},schemeGreys:function(){return Ve},schemeOrRd:function(){return xe},schemeOranges:function(){return Ye},schemePRGn:function(){return te},schemePaired:function(){return s},schemePastel1:function(){return u},schemePastel2:function(){return l},schemePiYG:function(){return re},schemePuBu:function(){return Se},schemePuBuGn:function(){return Be},schemePuOr:function(){return oe},schemePuRd:function(){return Oe},schemePurples:function(){return We},schemeRdBu:function(){return se},schemeRdGy:function(){return le},schemeRdPu:function(){return Pe},schemeRdYlBu:function(){return Ae},schemeRdYlGn:function(){return he},schemeReds:function(){return qe},schemeSet1:function(){return c},schemeSet2:function(){return A},schemeSet3:function(){return f},schemeSpectral:function(){return de},schemeTableau10:function(){return h},schemeYlGn:function(){return Le},schemeYlGnBu:function(){return Fe},schemeYlOrBr:function(){return De},schemeYlOrRd:function(){return Ue}});var i=r("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),o=r("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),a=r("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),s=r("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),u=r("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),l=r("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),c=r("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),A=r("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),f=r("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),h=r("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function p(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function d(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function g(){}var v=.7,y=1/v,m="\\s*([+-]?\\d+)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w=/^#([0-9a-f]{3,8})$/,x=new RegExp("^rgb\\("+[m,m,m]+"\\)$"),C=new RegExp("^rgb\\("+[_,_,_]+"\\)$"),B=new RegExp("^rgba\\("+[m,m,m,b]+"\\)$"),E=new RegExp("^rgba\\("+[_,_,_,b]+"\\)$"),S=new RegExp("^hsl\\("+[b,_,_]+"\\)$"),k=new RegExp("^hsla\\("+[b,_,_,b]+"\\)$"),O={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function T(){return this.rgb().formatHex()}function P(){return this.rgb().formatRgb()}function M(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=w.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?F(t):3===n?new D(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?I(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?I(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=x.exec(e))?new D(t[1],t[2],t[3],1):(t=C.exec(e))?new D(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=B.exec(e))?I(t[1],t[2],t[3],t[4]):(t=E.exec(e))?I(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=S.exec(e))?N(t[1],t[2]/100,t[3]/100,1):(t=k.exec(e))?N(t[1],t[2]/100,t[3]/100,t[4]):O.hasOwnProperty(e)?F(O[e]):"transparent"===e?new D(NaN,NaN,NaN,0):null}function F(e){return new D(e>>16&255,e>>8&255,255&e,1)}function I(e,t,n,r){return r<=0&&(e=t=n=NaN),new D(e,t,n,r)}function L(e){return e instanceof g||(e=M(e)),e?new D((e=e.rgb()).r,e.g,e.b,e.opacity):new D}function R(e,t,n,r){return 1===arguments.length?L(e):new D(e,t,n,null==r?1:r)}function D(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Z(){return"#"+j(this.r)+j(this.g)+j(this.b)}function U(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function j(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function N(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Q(e,t,n,r)}function z(e){if(e instanceof Q)return new Q(e.h,e.s,e.l,e.opacity);if(e instanceof g||(e=M(e)),!e)return new Q;if(e instanceof Q)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Q(a,s,u,e.opacity)}function Q(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function H(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function V(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function G(e){return function(){return e}}function W(e,t){return function(n){return e+n*t}}function K(e){return 1===(e=+e)?q:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):G(isNaN(t)?n:t)}}function q(e,t){var n=t-e;return n?W(e,n):G(isNaN(e)?t:e)}p(g,M,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHsl:function(){return z(this).formatHsl()},formatRgb:P,toString:P}),p(D,R,d(g,{brighter:function(e){return e=null==e?y:Math.pow(y,e),new D(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?v:Math.pow(v,e),new D(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z,formatHex:Z,formatRgb:U,toString:U})),p(Q,(function(e,t,n,r){return 1===arguments.length?z(e):new Q(e,t,n,null==r?1:r)}),d(g,{brighter:function(e){return e=null==e?y:Math.pow(y,e),new Q(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?v:Math.pow(v,e),new Q(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new D(H(e>=240?e-240:e+120,i,r),H(e,i,r),H(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));(function e(t){var n=K(t);function r(e,t){var r=n((e=R(e)).r,(t=R(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=q(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r})(1);function X(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=R(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var Y=X((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return V((n-r/t)*t,a,i,o,s)}}));X((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return V((n-r/t)*t,i,o,a,s)}}));function J(e){return Y(e[e.length-1])}var $=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r),ee=J($),te=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r),ne=J(te),re=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r),ie=J(re),oe=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r),ae=J(oe),se=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r),ue=J(se),le=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r),ce=J(le),Ae=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r),fe=J(Ae),he=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r),pe=J(he),de=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r),ge=J(de),ve=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r),ye=J(ve),me=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r),be=J(me),_e=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r),we=J(_e),xe=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r),Ce=J(xe),Be=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r),Ee=J(Be),Se=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r),ke=J(Se),Oe=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r),Te=J(Oe),Pe=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r),Me=J(Pe),Fe=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r),Ie=J(Fe),Le=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r),Re=J(Le),De=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r),Ze=J(De),Ue=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r),je=J(Ue),Ne=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r),ze=J(Ne),Qe=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r),He=J(Qe),Ve=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r),Ge=J(Ve),We=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r),Ke=J(We),qe=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r),Xe=J(qe),Ye=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r),Je=J(Ye);function $e(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}var et=Math.PI/180,tt=180/Math.PI,nt=-.14861,rt=1.78277,it=-.29227,ot=-.90649,at=1.97294,st=at*ot,ut=at*rt,lt=rt*it-ot*nt;function ct(e){if(e instanceof ft)return new ft(e.h,e.s,e.l,e.opacity);e instanceof D||(e=L(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(lt*r+st*t-ut*n)/(lt+st-ut),o=r-i,a=(at*(n-i)-it*o)/ot,s=Math.sqrt(a*a+o*o)/(at*i*(1-i)),u=s?Math.atan2(a,o)*tt-120:NaN;return new ft(u<0?u+360:u,s,i,e.opacity)}function At(e,t,n,r){return 1===arguments.length?ct(e):new ft(e,t,n,null==r?1:r)}function ft(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ht(e){return function t(n){function r(t,r){var i=e((t=At(t)).h,(r=At(r)).h),o=q(t.s,r.s),a=q(t.l,r.l),s=q(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}p(ft,At,d(g,{brighter:function(e){return e=null==e?y:Math.pow(y,e),new ft(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?v:Math.pow(v,e),new ft(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*et,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new D(255*(t+n*(nt*r+rt*i)),255*(t+n*(it*r+ot*i)),255*(t+n*(at*r)),this.opacity)}}));ht((function(e,t){var n=t-e;return n?W(e,n>180||n<-180?n-360*Math.round(n/360):n):G(isNaN(e)?t:e)}));var pt=ht(q),dt=pt(At(300,.5,0),At(-240,.5,1)),gt=pt(At(-100,.75,.35),At(80,1.5,.8)),vt=pt(At(260,.75,.35),At(80,1.5,.8)),yt=At();function mt(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return yt.h=360*e-100,yt.s=1.5-1.5*t,yt.l=.8-.9*t,yt+""}var bt=R(),_t=Math.PI/3,wt=2*Math.PI/3;function xt(e){var t;return e=(.5-e)*Math.PI,bt.r=255*(t=Math.sin(e))*t,bt.g=255*(t=Math.sin(e+_t))*t,bt.b=255*(t=Math.sin(e+wt))*t,bt+""}function Ct(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function Bt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Et=Bt(r("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),St=Bt(r("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),kt=Bt(r("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ot=Bt(r("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},1028:function(e,t,n){"use strict";n.r(t),n.d(t,{scaleBand:function(){return c},scaleDiverging:function(){return ti},scaleDivergingLog:function(){return ni},scaleDivergingPow:function(){return ii},scaleDivergingSqrt:function(){return oi},scaleDivergingSymlog:function(){return ri},scaleIdentity:function(){return Re},scaleImplicit:function(){return u},scaleLinear:function(){return Le},scaleLog:function(){return Ve},scaleOrdinal:function(){return l},scalePoint:function(){return f},scalePow:function(){return et},scaleQuantile:function(){return st},scaleQuantize:function(){return ut},scaleRadial:function(){return it},scaleSequential:function(){return Wr},scaleSequentialLog:function(){return Kr},scaleSequentialPow:function(){return Xr},scaleSequentialQuantile:function(){return Jr},scaleSequentialSqrt:function(){return Yr},scaleSequentialSymlog:function(){return qr},scaleSqrt:function(){return tt},scaleSymlog:function(){return qe},scaleThreshold:function(){return lt},scaleTime:function(){return Qr},scaleUtc:function(){return Hr},tickFormat:function(){return Fe}});var r=n(885),i=n(304);function o(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function a(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}var s=n(7762),u=Symbol("implicit");function l(){var e=new Map,t=[],n=[],r=u;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==u)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,o=(0,s.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,u=a+"";e.has(u)||e.set(u,t.push(a))}}catch(l){o.e(l)}finally{o.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return l(t,n).unknown(r)},o.apply(i,arguments),i}function c(){var e,t,n=l().unknown(void 0),a=n.domain,s=n.range,u=0,A=1,f=!1,h=0,p=0,d=.5;function g(){var n=a().length,r=A<u,o=r?A:u,l=r?u:A;e=(l-o)/Math.max(1,n-h+2*p),f&&(e=Math.floor(e)),o+=(l-o-e*(n-h))*d,t=e*(1-h),f&&(o=Math.round(o),t=Math.round(t));var c=(0,i.Z)(n).map((function(t){return o+e*t}));return s(r?c.reverse():c)}return delete n.unknown,n.domain=function(e){return arguments.length?(a(e),g()):a()},n.range=function(e){var t;return arguments.length?(t=(0,r.Z)(e,2),u=t[0],A=t[1],u=+u,A=+A,g()):[u,A]},n.rangeRound=function(e){var t;return t=(0,r.Z)(e,2),u=t[0],A=t[1],u=+u,A=+A,f=!0,g()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(f=!!e,g()):f},n.padding=function(e){return arguments.length?(h=Math.min(1,p=+e),g()):h},n.paddingInner=function(e){return arguments.length?(h=Math.min(1,e),g()):h},n.paddingOuter=function(e){return arguments.length?(p=+e,g()):p},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),g()):d},n.copy=function(){return c(a(),[u,A]).round(f).paddingInner(h).paddingOuter(p).align(d)},o.apply(g(),arguments)}function A(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return A(t())},e}function f(){return A(c.apply(null,arguments).paddingInner(1))}var h=n(8069),p=n(8701);function d(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function g(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function v(){}var y=.7,m=1/y,b="\\s*([+-]?\\d+)\\s*",_="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",w="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x=/^#([0-9a-f]{3,8})$/,C=new RegExp("^rgb\\("+[b,b,b]+"\\)$"),B=new RegExp("^rgb\\("+[w,w,w]+"\\)$"),E=new RegExp("^rgba\\("+[b,b,b,_]+"\\)$"),S=new RegExp("^rgba\\("+[w,w,w,_]+"\\)$"),k=new RegExp("^hsl\\("+[_,w,w]+"\\)$"),O=new RegExp("^hsla\\("+[_,w,w,_]+"\\)$"),T={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function P(){return this.rgb().formatHex()}function M(){return this.rgb().formatRgb()}function F(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=x.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?I(t):3===n?new Z(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?L(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?L(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=C.exec(e))?new Z(t[1],t[2],t[3],1):(t=B.exec(e))?new Z(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=E.exec(e))?L(t[1],t[2],t[3],t[4]):(t=S.exec(e))?L(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=k.exec(e))?z(t[1],t[2]/100,t[3]/100,1):(t=O.exec(e))?z(t[1],t[2]/100,t[3]/100,t[4]):T.hasOwnProperty(e)?I(T[e]):"transparent"===e?new Z(NaN,NaN,NaN,0):null}function I(e){return new Z(e>>16&255,e>>8&255,255&e,1)}function L(e,t,n,r){return r<=0&&(e=t=n=NaN),new Z(e,t,n,r)}function R(e){return e instanceof v||(e=F(e)),e?new Z((e=e.rgb()).r,e.g,e.b,e.opacity):new Z}function D(e,t,n,r){return 1===arguments.length?R(e):new Z(e,t,n,null==r?1:r)}function Z(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function U(){return"#"+N(this.r)+N(this.g)+N(this.b)}function j(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function N(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function z(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new H(e,t,n,r)}function Q(e){if(e instanceof H)return new H(e.h,e.s,e.l,e.opacity);if(e instanceof v||(e=F(e)),!e)return new H;if(e instanceof H)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new H(a,s,u,e.opacity)}function H(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function V(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function G(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}d(v,F,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:P,formatHex:P,formatHsl:function(){return Q(this).formatHsl()},formatRgb:M,toString:M}),d(Z,D,g(v,{brighter:function(e){return e=null==e?m:Math.pow(m,e),new Z(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?y:Math.pow(y,e),new Z(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U,formatHex:U,formatRgb:j,toString:j})),d(H,(function(e,t,n,r){return 1===arguments.length?Q(e):new H(e,t,n,null==r?1:r)}),g(v,{brighter:function(e){return e=null==e?m:Math.pow(m,e),new H(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?y:Math.pow(y,e),new H(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Z(V(e>=240?e-240:e+120,i,r),V(e,i,r),V(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var W=function(e){return function(){return e}};function K(e,t){return function(n){return e+n*t}}function q(e){return 1===(e=+e)?X:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):W(isNaN(t)?n:t)}}function X(e,t){var n=t-e;return n?K(e,n):W(isNaN(e)?t:e)}var Y=function e(t){var n=q(t);function r(e,t){var r=n((e=D(e)).r,(t=D(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=X(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function J(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=D(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}J((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return G((n-r/t)*t,a,i,o,s)}})),J((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return G((n-r/t)*t,i,o,a,s)}}));function $(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=se(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function ee(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function te(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ne(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=se(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var re=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ie=new RegExp(re.source,"g");function oe(e,t){var n,r,i,o=re.lastIndex=ie.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=re.exec(e))&&(r=ie.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:te(n,r)})),o=ie.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function ae(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function se(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?W(t):("number"===i?te:"string"===i?(n=F(t))?(t=n,Y):oe:t instanceof F?Y:t instanceof Date?ee:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?$:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?ne:te:ae))(e,t)}function ue(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function le(e){return+e}var ce=[0,1];function Ae(e){return e}function fe(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function he(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=fe(i,r),o=n(a,o)):(r=fe(r,i),o=n(o,a)),function(e){return o(r(e))}}function pe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=fe(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=(0,p.ZP)(e,t,1,r)-1;return o[n](i[n](t))}}function de(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ge(){var e,t,n,r,i,o,a=ce,s=ce,u=se,l=Ae;function c(){var e=Math.min(a.length,s.length);return l!==Ae&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?pe:he,i=o=null,A}function A(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,u)))(e(l(t)))}return A.invert=function(n){return l(t((o||(o=r(s,a.map(e),te)))(n)))},A.domain=function(e){return arguments.length?(a=Array.from(e,le),c()):a.slice()},A.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},A.rangeRound=function(e){return s=Array.from(e),u=ue,c()},A.clamp=function(e){return arguments.length?(l=!!e||Ae,c()):l!==Ae},A.interpolate=function(e){return arguments.length?(u=e,c()):u},A.unknown=function(e){return arguments.length?(n=e,A):n},function(n,r){return e=n,t=r,c()}}function ve(){return ge()(Ae,Ae)}var ye,me=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function be(e){if(!(t=me.exec(e)))throw new Error("invalid format: "+e);var t;return new _e({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function _e(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function we(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function xe(e){return(e=we(Math.abs(e)))?e[1]:NaN}function Ce(e,t){var n=we(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}be.prototype=_e.prototype,_e.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Be={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Ce(100*e,t)},r:Ce,s:function(e,t){var n=we(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(ye=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+we(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Ee(e){return e}var Se,ke,Oe,Te=Array.prototype.map,Pe=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Me(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Ee:(t=Te.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Ee:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Te.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function A(e){var t=(e=be(e)).fill,n=e.align,A=e.sign,f=e.symbol,h=e.zero,p=e.width,d=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(d=!0,y="g"):Be[y]||(void 0===g&&(g=12),v=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var m="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?o:/[%p]/.test(y)?u:"",_=Be[y],w=/[defgprs%]/.test(y);function x(e){var i,o,u,f=m,x=b;if("c"===y)x=_(e)+x,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:_(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),C&&0===+e&&"+"!==A&&(C=!1),f=(C?"("===A?A:l:"-"===A||"("===A?"":A)+f,x=("s"===y?Pe[8+ye/3]:"")+x+(C&&"("===A?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(u=e.charCodeAt(i))||u>57){x=(46===u?a+e.slice(i+1):e.slice(i))+x,e=e.slice(0,i);break}}d&&!h&&(e=r(e,1/0));var B=f.length+e.length+x.length,E=B<p?new Array(p-B+1).join(t):"";switch(d&&h&&(e=r(E+e,E.length?p-x.length:1/0),E=""),n){case"<":e=f+e+x+E;break;case"=":e=f+E+e+x;break;case"^":e=E.slice(0,B=E.length>>1)+f+e+x+E.slice(B);break;default:e=E+f+e+x}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),x.toString=function(){return e+""},x}return{format:A,formatPrefix:function(e,t){var n=A(((e=be(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(xe(t)/3))),i=Math.pow(10,-r),o=Pe[8+r/3];return function(e){return n(i*e)+o}}}}function Fe(e,t,n,r){var i,o=(0,h.ly)(e,t,n);switch((r=be(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(xe(t)/3)))-xe(Math.abs(e)))}(o,a))||(r.precision=i),Oe(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xe(t)-xe(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-xe(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return ke(r)}function Ie(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,h.ZP)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Fe(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,u=o[a],l=o[s],c=10;for(l<u&&(i=u,u=l,l=i,i=a,a=s,s=i);c-- >0;){if((i=(0,h.G9)(u,l,n))===r)return o[a]=u,o[s]=l,t(o);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function Le(){var e=ve();return e.copy=function(){return de(e,Le())},o.apply(e,arguments),Ie(e)}function Re(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,le),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Re(e).unknown(t)},e=arguments.length?Array.from(e,le):[0,1],Ie(n)}function De(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Ze(e){return Math.log(e)}function Ue(e){return Math.exp(e)}function je(e){return-Math.log(-e)}function Ne(e){return-Math.exp(-e)}function ze(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Qe(e){return function(t){return-e(-t)}}function He(e){var t,n,r=e(Ze,Ue),i=r.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?ze:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),i()[0]<0?(t=Qe(t),n=Qe(n),e(je,Ne)):e(Ze,Ue),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(f=s,s=u,u=f);var l,c,A,f=t(s),p=t(u),d=null==e?10:+e,g=[];if(!(o%1)&&p-f<d){if(f=Math.floor(f),p=Math.ceil(p),s>0){for(;f<=p;++f)for(c=1,l=n(f);c<o;++c)if(!((A=l*c)<s)){if(A>u)break;g.push(A)}}else for(;f<=p;++f)for(c=o-1,l=n(f);c>=1;--c)if(!((A=l*c)<s)){if(A>u)break;g.push(A)}2*g.length<d&&(g=(0,h.ZP)(s,u,d))}else g=(0,h.ZP)(f,p,Math.min(p-f,d)).map(n);return r?g.reverse():g},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=ke(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(De(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function Ve(){var e=He(ge()).domain([1,10]);return e.copy=function(){return de(e,Ve()).base(e.base())},o.apply(e,arguments),e}function Ge(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function We(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ke(e){var t=1,n=e(Ge(t),We(t));return n.constant=function(n){return arguments.length?e(Ge(t=+n),We(t)):t},Ie(n)}function qe(){var e=Ke(ge());return e.copy=function(){return de(e,qe()).constant(e.constant())},o.apply(e,arguments)}function Xe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ye(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Je(e){return e<0?-e*e:e*e}function $e(e){var t=e(Ae,Ae),n=1;function r(){return 1===n?e(Ae,Ae):.5===n?e(Ye,Je):e(Xe(n),Xe(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},Ie(t)}function et(){var e=$e(ge());return e.copy=function(){return de(e,et()).exponent(e.exponent())},o.apply(e,arguments),e}function tt(){return et.apply(null,arguments).exponent(.5)}function nt(e){return Math.sign(e)*e*e}function rt(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function it(){var e,t=ve(),n=[0,1],r=!1;function i(n){var i=rt(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(nt(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,le)).map(nt)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return it(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},o.apply(i,arguments),Ie(i)}Se=Me({thousands:",",grouping:[3],currency:["$",""]}),ke=Se.format,Oe=Se.formatPrefix;var ot=n(7939),at=n(6684);function st(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=(0,ot.s)(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[(0,p.ZP)(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];var n,r=(0,s.Z)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;null==o||isNaN(o=+o)||t.push(o)}}catch(a){r.e(a)}finally{r.f()}return t.sort(at.Z),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return st().domain(t).range(n).unknown(e)},o.apply(a,arguments)}function ut(){var e,t=0,n=1,i=1,a=[.5],s=[0,1];function u(t){return null!=t&&t<=t?s[(0,p.ZP)(a,t,0,i)]:e}function l(){var e=-1;for(a=new Array(i);++e<i;)a[e]=((e+1)*n-(e-i)*t)/(i+1);return u}return u.domain=function(e){var i;return arguments.length?(i=(0,r.Z)(e,2),t=i[0],n=i[1],t=+t,n=+n,l()):[t,n]},u.range=function(e){return arguments.length?(i=(s=Array.from(e)).length-1,l()):s.slice()},u.invertExtent=function(e){var r=s.indexOf(e);return r<0?[NaN,NaN]:r<1?[t,a[0]]:r>=i?[a[i-1],n]:[a[r-1],a[r]]},u.unknown=function(t){return arguments.length?(e=t,u):u},u.thresholds=function(){return a.slice()},u.copy=function(){return ut().domain([t,n]).range(s).unknown(e)},o.apply(Ie(u),arguments)}function lt(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[(0,p.ZP)(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return lt().domain(t).range(n).unknown(e)},o.apply(i,arguments)}var ct=n(8034),At=1e3,ft=6e4,ht=36e5,pt=864e5,dt=6048e5,gt=2592e6,vt=31536e6,yt=new Date,mt=new Date;function bt(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return bt((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return yt.setTime(+t),mt.setTime(+r),e(yt),e(mt),Math.floor(n(yt,mt))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var _t=bt((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));_t.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?bt((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):_t:null};var wt=_t,xt=(_t.range,bt((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*At)}),(function(e,t){return(t-e)/At}),(function(e){return e.getUTCSeconds()}))),Ct=xt,Bt=(xt.range,bt((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*At)}),(function(e,t){e.setTime(+e+t*ft)}),(function(e,t){return(t-e)/ft}),(function(e){return e.getMinutes()}))),Et=Bt,St=(Bt.range,bt((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*At-e.getMinutes()*ft)}),(function(e,t){e.setTime(+e+t*ht)}),(function(e,t){return(t-e)/ht}),(function(e){return e.getHours()}))),kt=St,Ot=(St.range,bt((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ft)/pt}),(function(e){return e.getDate()-1}))),Tt=Ot;Ot.range;function Pt(e){return bt((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ft)/dt}))}var Mt=Pt(0),Ft=Pt(1),It=Pt(2),Lt=Pt(3),Rt=Pt(4),Dt=Pt(5),Zt=Pt(6),Ut=(Mt.range,Ft.range,It.range,Lt.range,Rt.range,Dt.range,Zt.range,bt((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),jt=Ut,Nt=(Ut.range,bt((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));Nt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?bt((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var zt=Nt,Qt=(Nt.range,bt((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*ft)}),(function(e,t){return(t-e)/ft}),(function(e){return e.getUTCMinutes()}))),Ht=Qt,Vt=(Qt.range,bt((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*ht)}),(function(e,t){return(t-e)/ht}),(function(e){return e.getUTCHours()}))),Gt=Vt,Wt=(Vt.range,bt((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/pt}),(function(e){return e.getUTCDate()-1}))),Kt=Wt;Wt.range;function qt(e){return bt((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/dt}))}var Xt=qt(0),Yt=qt(1),Jt=qt(2),$t=qt(3),en=qt(4),tn=qt(5),nn=qt(6),rn=(Xt.range,Yt.range,Jt.range,$t.range,en.range,tn.range,nn.range,bt((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),on=rn,an=(rn.range,bt((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));an.every=function(e){return isFinite(e=Math.floor(e))&&e>0?bt((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var sn=an;an.range;function un(e,t,n,i,o,a){var s=[[Ct,1,At],[Ct,5,5e3],[Ct,15,15e3],[Ct,30,3e4],[a,1,ft],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,ht],[o,3,108e5],[o,6,216e5],[o,12,432e5],[i,1,pt],[i,2,1728e5],[n,1,dt],[t,1,gt],[t,3,7776e6],[e,1,vt]];function u(t,n,i){var o=Math.abs(n-t)/i,a=(0,ct.Z)((function(e){return(0,r.Z)(e,3)[2]})).right(s,o);if(a===s.length)return e.every((0,h.ly)(t/vt,n/vt,i));if(0===a)return wt.every(Math.max((0,h.ly)(t,n,i),1));var u=(0,r.Z)(s[o/s[a-1][2]<s[a][2]/o?a-1:a],2),l=u[0],c=u[1];return l.every(c)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var o=n&&"function"===typeof n.range?n:u(e,t,n),a=o?o.range(e,+t+1):[];return r?a.reverse():a},u]}var ln=un(sn,on,Xt,Kt,Gt,Ht),cn=(0,r.Z)(ln,2),An=cn[0],fn=cn[1],hn=un(zt,jt,Mt,Tt,kt,Et),pn=(0,r.Z)(hn,2),dn=pn[0],gn=pn[1];function vn(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yn(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mn(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var bn,_n,wn,xn={"-":"",_:" ",0:"0"},Cn=/^\s*\d+/,Bn=/^%/,En=/[\\^$*+?|[\]().{}]/g;function Sn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function kn(e){return e.replace(En,"\\$&")}function On(e){return new RegExp("^(?:"+e.map(kn).join("|")+")","i")}function Tn(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function Pn(e,t,n){var r=Cn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Mn(e,t,n){var r=Cn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Fn(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function In(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Ln(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Rn(e,t,n){var r=Cn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Dn(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Zn(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Un(e,t,n){var r=Cn.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function jn(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Nn(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function zn(e,t,n){var r=Cn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Qn(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Hn(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Vn(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Gn(e,t,n){var r=Cn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Wn(e,t,n){var r=Cn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kn(e,t,n){var r=Bn.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function qn(e,t,n){var r=Cn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Xn(e,t,n){var r=Cn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Yn(e,t){return Sn(e.getDate(),t,2)}function Jn(e,t){return Sn(e.getHours(),t,2)}function $n(e,t){return Sn(e.getHours()%12||12,t,2)}function er(e,t){return Sn(1+Tt.count(zt(e),e),t,3)}function tr(e,t){return Sn(e.getMilliseconds(),t,3)}function nr(e,t){return tr(e,t)+"000"}function rr(e,t){return Sn(e.getMonth()+1,t,2)}function ir(e,t){return Sn(e.getMinutes(),t,2)}function or(e,t){return Sn(e.getSeconds(),t,2)}function ar(e){var t=e.getDay();return 0===t?7:t}function sr(e,t){return Sn(Mt.count(zt(e)-1,e),t,2)}function ur(e){var t=e.getDay();return t>=4||0===t?Rt(e):Rt.ceil(e)}function lr(e,t){return e=ur(e),Sn(Rt.count(zt(e),e)+(4===zt(e).getDay()),t,2)}function cr(e){return e.getDay()}function Ar(e,t){return Sn(Ft.count(zt(e)-1,e),t,2)}function fr(e,t){return Sn(e.getFullYear()%100,t,2)}function hr(e,t){return Sn((e=ur(e)).getFullYear()%100,t,2)}function pr(e,t){return Sn(e.getFullYear()%1e4,t,4)}function dr(e,t){var n=e.getDay();return Sn((e=n>=4||0===n?Rt(e):Rt.ceil(e)).getFullYear()%1e4,t,4)}function gr(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sn(t/60|0,"0",2)+Sn(t%60,"0",2)}function vr(e,t){return Sn(e.getUTCDate(),t,2)}function yr(e,t){return Sn(e.getUTCHours(),t,2)}function mr(e,t){return Sn(e.getUTCHours()%12||12,t,2)}function br(e,t){return Sn(1+Kt.count(sn(e),e),t,3)}function _r(e,t){return Sn(e.getUTCMilliseconds(),t,3)}function wr(e,t){return _r(e,t)+"000"}function xr(e,t){return Sn(e.getUTCMonth()+1,t,2)}function Cr(e,t){return Sn(e.getUTCMinutes(),t,2)}function Br(e,t){return Sn(e.getUTCSeconds(),t,2)}function Er(e){var t=e.getUTCDay();return 0===t?7:t}function Sr(e,t){return Sn(Xt.count(sn(e)-1,e),t,2)}function kr(e){var t=e.getUTCDay();return t>=4||0===t?en(e):en.ceil(e)}function Or(e,t){return e=kr(e),Sn(en.count(sn(e),e)+(4===sn(e).getUTCDay()),t,2)}function Tr(e){return e.getUTCDay()}function Pr(e,t){return Sn(Yt.count(sn(e)-1,e),t,2)}function Mr(e,t){return Sn(e.getUTCFullYear()%100,t,2)}function Fr(e,t){return Sn((e=kr(e)).getUTCFullYear()%100,t,2)}function Ir(e,t){return Sn(e.getUTCFullYear()%1e4,t,4)}function Lr(e,t){var n=e.getUTCDay();return Sn((e=n>=4||0===n?en(e):en.ceil(e)).getUTCFullYear()%1e4,t,4)}function Rr(){return"+0000"}function Dr(){return"%"}function Zr(e){return+e}function Ur(e){return Math.floor(+e/1e3)}function jr(e){return new Date(e)}function Nr(e){return e instanceof Date?+e:+new Date(+e)}function zr(e,t,n,r,i,o,a,s,u,l){var c=ve(),A=c.invert,f=c.domain,h=l(".%L"),p=l(":%S"),d=l("%I:%M"),g=l("%I %p"),v=l("%a %d"),y=l("%b %d"),m=l("%B"),b=l("%Y");function _(e){return(u(e)<e?h:s(e)<e?p:a(e)<e?d:o(e)<e?g:r(e)<e?i(e)<e?v:y:n(e)<e?m:b)(e)}return c.invert=function(e){return new Date(A(e))},c.domain=function(e){return arguments.length?f(Array.from(e,Nr)):f().map(jr)},c.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?_:l(t)},c.nice=function(e){var n=f();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(De(n,e)):c},c.copy=function(){return de(c,zr(e,t,n,r,i,o,a,s,u,l))},c}function Qr(){return o.apply(zr(dn,gn,zt,jt,Mt,Tt,kt,Et,Ct,_n).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hr(){return o.apply(zr(An,fn,sn,on,Xt,Kt,Gt,Ht,Ct,wn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vr(){var e,t,n,i,o,a=0,s=1,u=Ae,l=!1;function c(t){return null==t||isNaN(t=+t)?o:u(0===n?.5:(t=(i(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function A(e){return function(t){var n,i,o;return arguments.length?(i=(n=(0,r.Z)(t,2))[0],o=n[1],u=e(i,o),c):[u(0),u(1)]}}return c.domain=function(o){var u;return arguments.length?(u=(0,r.Z)(o,2),a=u[0],s=u[1],e=i(a=+a),t=i(s=+s),n=e===t?0:1/(t-e),c):[a,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(u=e,c):u},c.range=A(se),c.rangeRound=A(ue),c.unknown=function(e){return arguments.length?(o=e,c):o},function(r){return i=r,e=r(a),t=r(s),n=e===t?0:1/(t-e),c}}function Gr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Wr(){var e=Ie(Vr()(Ae));return e.copy=function(){return Gr(e,Wr())},a.apply(e,arguments)}function Kr(){var e=He(Vr()).domain([1,10]);return e.copy=function(){return Gr(e,Kr()).base(e.base())},a.apply(e,arguments)}function qr(){var e=Ke(Vr());return e.copy=function(){return Gr(e,qr()).constant(e.constant())},a.apply(e,arguments)}function Xr(){var e=$e(Vr());return e.copy=function(){return Gr(e,Xr()).exponent(e.exponent())},a.apply(e,arguments)}function Yr(){return Xr.apply(null,arguments).exponent(.5)}function Jr(){var e=[],t=Ae;function n(n){if(null!=n&&!isNaN(n=+n))return t(((0,p.ZP)(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];var r,i=(0,s.Z)(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null==o||isNaN(o=+o)||e.push(o)}}catch(a){i.e(a)}finally{i.f()}return e.sort(at.Z),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((function(n,r){return t(r/(e.length-1))}))},n.quantiles=function(t){return Array.from({length:t+1},(function(n,r){return(0,ot.Z)(e,r/t)}))},n.copy=function(){return Jr(t).domain(e)},a.apply(n,arguments)}function $r(e,t){void 0===t&&(t=e,e=se);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}function ei(){var e,t,n,i,o,a,s,u=0,l=.5,c=1,A=1,f=Ae,h=!1;function p(e){return isNaN(e=+e)?s:(e=.5+((e=+a(e))-t)*(A*e<A*t?i:o),f(h?Math.max(0,Math.min(1,e)):e))}function d(e){return function(t){var n,i,o,a;return arguments.length?(i=(n=(0,r.Z)(t,3))[0],o=n[1],a=n[2],f=$r(e,[i,o,a]),p):[f(0),f(.5),f(1)]}}return p.domain=function(s){var f;return arguments.length?(f=(0,r.Z)(s,3),u=f[0],l=f[1],c=f[2],e=a(u=+u),t=a(l=+l),n=a(c=+c),i=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),A=t<e?-1:1,p):[u,l,c]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(f=e,p):f},p.range=d(se),p.rangeRound=d(ue),p.unknown=function(e){return arguments.length?(s=e,p):s},function(r){return a=r,e=r(u),t=r(l),n=r(c),i=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),A=t<e?-1:1,p}}function ti(){var e=Ie(ei()(Ae));return e.copy=function(){return Gr(e,ti())},a.apply(e,arguments)}function ni(){var e=He(ei()).domain([.1,1,10]);return e.copy=function(){return Gr(e,ni()).base(e.base())},a.apply(e,arguments)}function ri(){var e=Ke(ei());return e.copy=function(){return Gr(e,ri()).constant(e.constant())},a.apply(e,arguments)}function ii(){var e=$e(ei());return e.copy=function(){return Gr(e,ii()).exponent(e.exponent())},a.apply(e,arguments)}function oi(){return ii.apply(null,arguments).exponent(.5)}!function(e){bn=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,l=On(i),c=Tn(i),A=On(o),f=Tn(o),h=On(a),p=Tn(a),d=On(s),g=Tn(s),v=On(u),y=Tn(u),m={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Yn,e:Yn,f:nr,g:hr,G:dr,H:Jn,I:$n,j:er,L:tr,m:rr,M:ir,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Zr,s:Ur,S:or,u:ar,U:sr,V:lr,w:cr,W:Ar,x:null,X:null,y:fr,Y:pr,Z:gr,"%":Dr},b={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:vr,e:vr,f:wr,g:Fr,G:Lr,H:yr,I:mr,j:br,L:_r,m:xr,M:Cr,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Zr,s:Ur,S:Br,u:Er,U:Sr,V:Or,w:Tr,W:Pr,x:null,X:null,y:Mr,Y:Ir,Z:Rr,"%":Dr},_={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=A.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return C(e,t,n,r)},d:Nn,e:Nn,f:Wn,g:Dn,G:Rn,H:Qn,I:Qn,j:zn,L:Gn,m:jn,M:Hn,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:Un,Q:qn,s:Xn,S:Vn,u:Mn,U:Fn,V:In,w:Pn,W:Ln,x:function(e,t,r){return C(e,n,t,r)},X:function(e,t,n){return C(e,r,t,n)},y:Dn,Y:Rn,Z:Zn,"%":Kn};function w(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=xn[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function x(e,t){return function(n){var r,i,o=mn(1900,void 0,1);if(C(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=yn(mn(o.y,0,1))).getUTCDay(),r=i>4||0===i?Yt.ceil(r):Yt(r),r=Kt.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=vn(mn(o.y,0,1))).getDay(),r=i>4||0===i?Ft.ceil(r):Ft(r),r=Tt.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?yn(mn(o.y,0,1)).getUTCDay():vn(mn(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,yn(o)):vn(o)}}function C(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=_[i in xn?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return m.x=w(n,m),m.X=w(r,m),m.c=w(t,m),b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),{format:function(e){var t=w(e+="",m);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}(e),_n=bn.format,bn.parse,wn=bn.utcFormat,bn.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},8212:function(e,t,n){"use strict";n.r(t),n.d(t,{AGGREGATION_OPERATION:function(){return Le},AmbientLight:function(){return X.M},ArcLayer:function(){return re.Z},AttributeManager:function(){return I.Z},BitmapLayer:function(){return ie.Z},COORDINATE_SYSTEM:function(){return f.Df},CPUGridLayer:function(){return rn},ColumnLayer:function(){return ce.Z},CompositeLayer:function(){return d.Z},ContourLayer:function(){return cr},Controller:function(){return k.Z},Deck:function(){return h.Z},DeckGL:function(){return Cv},DeckRenderer:function(){return N.Z},DirectionalLight:function(){return J.O},FirstPersonController:function(){return P.Z},FirstPersonView:function(){return y.Z},FirstPersonViewport:function(){return S.Z},FlyToInterpolator:function(){return W.Z},GPUGridLayer:function(){return vr},GeoJsonLayer:function(){return pe.Z},GeohashLayer:function(){return hv},GreatCircleLayer:function(){return Lr},GridCellLayer:function(){return le.Z},GridLayer:function(){return mr},H3ClusterLayer:function(){return Di},H3HexagonLayer:function(){return Ri},HeatmapLayer:function(){return Ir},HexagonLayer:function(){return ln},IconLayer:function(){return oe.Z},Layer:function(){return p.Z},LayerExtension:function(){return $.Z},LayerManager:function(){return j.Z},LightingEffect:function(){return K.Z},LineLayer:function(){return ae.Z},LinearInterpolator:function(){return G.Z},MVTLayer:function(){return iv},MapController:function(){return O.Z},MapView:function(){return v.Z},OPERATION:function(){return f.k8},OrbitController:function(){return T.Z},OrbitView:function(){return m.Z},OrbitViewport:function(){return B.Z},OrthographicController:function(){return M.Z},OrthographicView:function(){return b.Z},OrthographicViewport:function(){return E.Z},PathLayer:function(){return Ae.Z},PointCloudLayer:function(){return se.Z},PointLight:function(){return Y.c},PolygonLayer:function(){return fe.Z},PostProcessEffect:function(){return q.Z},QuadkeyLayer:function(){return Jr},S2Layer:function(){return qr},ScatterplotLayer:function(){return ue.Z},ScenegraphLayer:function(){return ef},ScreenGridLayer:function(){return qt},SimpleMeshLayer:function(){return of},SolidPolygonLayer:function(){return he.Z},TRANSITION_EVENTS:function(){return H.r},TerrainLayer:function(){return Gd},Tesselator:function(){return ee.Z},TextLayer:function(){return de.Z},Tile3DLayer:function(){return jd},TileLayer:function(){return cs},TransitionInterpolator:function(){return V.Z},TripsLayer:function(){return As},UNIT:function(){return f.iI},View:function(){return g.Z},Viewport:function(){return w.Z},WebMercatorViewport:function(){return x.Z},_GlobeController:function(){return F.Z},_GlobeView:function(){return _.Z},_GlobeViewport:function(){return C.Z},_Tileset2D:function(){return as},assert:function(){return Q.Z},createIterable:function(){return ne.jB},default:function(){return Cv},fp64LowPart:function(){return te.Ks},gouraudLighting:function(){return Z.N},log:function(){return z.Z},phongLighting:function(){return Z.s},picking:function(){return L.Z},project:function(){return R.Z},project32:function(){return D.Z},shadow:function(){return U.Z}});var r={};n.r(r),n.d(r,{decode:function(){return yl},name:function(){return vl}});var i={};n.r(i),n.d(i,{name:function(){return Sl},preprocess:function(){return kl}});var o={};n.r(o),n.d(o,{name:function(){return Tl},preprocess:function(){return Pl}});var a={};n.r(a),n.d(a,{decode:function(){return Cc},encode:function(){return Ec},name:function(){return wc},preprocess:function(){return xc}});var s={};n.r(s),n.d(s,{decode:function(){return Ic},encode:function(){return Rc},name:function(){return Fc}});var u={};n.r(u),n.d(u,{decode:function(){return jc},encode:function(){return zc},name:function(){return Uc}});var l={};n.r(l),n.d(l,{decode:function(){return Vc},encode:function(){return Wc},name:function(){return Hc}});var c,A,f=n(3924),h=n(8458),p=n(5546),d=n(155),g=n(9575),v=n(5665),y=n(3237),m=n(5586),b=n(610),_=n(9482),w=n(5773),x=n(6293),C=n(2465),B=n(5982),E=n(1456),S=n(7563),k=n(2252),O=n(3791),T=n(9200),P=n(1051),M=n(4148),F=n(7411),I=n(5860),L=n(251),R=n(4256),D=n(9446),Z=n(5600),U=n(7918),j=n(667),N=n(3931),z=n(3452),Q=n(2515),H=n(6287),V=n(7066),G=n(3417),W=n(4735),K=n(955),q=n(4852),X=n(549),Y=n(6589),J=n(6811),$=n(3976),ee=n(1409),te=n(7416),ne=n(3626),re=n(8950),ie=n(743),oe=n(5052),ae=n(3216),se=n(6157),ue=n(5391),le=n(3769),ce=n(194),Ae=n(4078),fe=n(1926),he=n(2674),pe=n(414),de=n(7252),ge=n(4942),ve=n(5671),ye=n(3144),me=n(7326),be=n(1752),_e=n(1120),we=n(136),xe=n(7277),Ce=n(1413),Be=n(8810),Ee=n(7762),Se=n(348),ke=n(1622),Oe=n(7504),Te=n(5802),Pe=n(739),Me=n(9184),Fe=n(4506),Ie=n(1932),Le={SUM:1,MEAN:2,MIN:3,MAX:4};function Re(e,t){return e+t}function De(e,t){return t>e?t:e}function Ze(e,t){return t<e?t:e}function Ue(e,t,n){var r=Le[e]||Le.SUM;switch(t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Number.isFinite(e))return e;return function(n){return t.index=n.index,e(n.source,t)}}(t,n),r){case Le.MIN:return function(e){return function(e,t){if(Number.isFinite(t))return e.length?t:null;var n=e.map(t).filter(Number.isFinite);return n.length?n.reduce(Ze,1/0):null}(e,t)};case Le.SUM:return function(e){return function(e,t){if(Number.isFinite(t))return e.length?e.length*t:null;var n=e.map(t).filter(Number.isFinite);return n.length?n.reduce(Re,0):null}(e,t)};case Le.MEAN:return function(e){return function(e,t){if(Number.isFinite(t))return e.length?t:null;var n=e.map(t).filter(Number.isFinite);return n.length?n.reduce(Re,0)/n.length:null}(e,t)};case Le.MAX:return function(e){return function(e,t){if(Number.isFinite(t))return e.length?t:null;var n=e.map(t).filter(Number.isFinite);return n.length?n.reduce(De,-1/0):null}(e,t)};default:return null}}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return t.indices=n.map((function(e){return e.index})),e(n.map((function(e){return e.source})),t)}}var Ne,ze={projectPoints:!1,viewport:null,createBufferObjects:!0,moduleSettings:{}},Qe=3402823466e29,He=[32775,32774],Ve=[32776,32774],Ge=[32776,32775],We=(c={},(0,ge.Z)(c,Le.SUM,32774),(0,ge.Z)(c,Le.MEAN,32774),(0,ge.Z)(c,Le.MIN,He),(0,ge.Z)(c,Le.MAX,Ve),c),Ke={size:1,operation:Le.SUM,needMin:!1,needMax:!1,combineMaxMin:!1},qe=(A={},(0,ge.Z)(A,10240,9728),(0,ge.Z)(A,10241,9728),"#define SHADER_NAME gpu-aggregation-transform-mean-vs\nattribute vec4 aggregationValues;\nvarying vec4 meanValues;\n\nvoid main()\n{\n  bool isCellValid = bool(aggregationValues.w > 0.);\n  meanValues.xyz = isCellValid ? aggregationValues.xyz/aggregationValues.w : vec3(0, 0, 0);\n  meanValues.w = aggregationValues.w;\n  gl_PointSize = 1.0;\n}\n"),Xe=n(3978),Ye=n(6158),Je=(Ne={},(0,ge.Z)(Ne,10240,9728),(0,ge.Z)(Ne,10241,9728),Ne);function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width,r=void 0===n?1:n,i=t.height,o=void 0===i?1:i,a=t.data,s=void 0===a?null:a,u=t.unpackFlipY,l=void 0===u||u,c=t.parameters,A=void 0===c?Je:c,f=new Xe.Z(e,{data:s,format:(0,ke.D0)(e)?34836:6408,type:5126,border:0,mipmaps:!1,parameters:A,dataFormat:6408,width:r,height:o,unpackFlipY:l});return f}function et(e,t){var n=t.id,r=t.width,i=void 0===r?1:r,o=t.height,a=void 0===o?1:o,s=t.texture;return new Ye.Z(e,{id:n,width:i,height:a,attachments:(0,ge.Z)({},36064,s)})}var tt=["aggregationBuffer","maxMinBuffer","minBuffer","maxBuffer"],nt={maxData:"maxBuffer",minData:"minBuffer",maxMinData:"maxMinBuffer"},rt=[Se.h.WEBGL2,Se.h.COLOR_ATTACHMENT_RGBA32F,Se.h.BLEND_EQUATION_MINMAX,Se.h.FLOAT_BLEND,Se.h.TEXTURE_FLOAT],it=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,ve.Z)(this,e),this.id=n.id||"gpu-grid-aggregator",this.gl=t,this.state={weightAttributes:{},textures:{},meanTextures:{},buffers:{},framebuffers:{},maxMinFramebuffers:{},minFramebuffers:{},maxFramebuffers:{},equations:{},resources:{},results:{}},this._hasGPUSupport=(0,ke.D0)(t)&&(0,Oe.ag)(this.gl,Se.h.BLEND_EQUATION_MINMAX,Se.h.COLOR_ATTACHMENT_RGBA32F,Se.h.TEXTURE_FLOAT),this._hasGPUSupport&&this._setupModels()}return(0,ye.Z)(e,[{key:"delete",value:function(){var e=this.gridAggregationModel,t=this.allAggregationModel,n=this.meanTransform,r=this.state,i=r.textures,o=r.framebuffers,a=r.maxMinFramebuffers,s=r.minFramebuffers,u=r.maxFramebuffers,l=r.meanTextures,c=r.resources;null===e||void 0===e||e.delete(),null===t||void 0===t||t.delete(),null===n||void 0===n||n.delete(),function(e){(e=Array.isArray(e)?e:[e]).forEach((function(e){for(var t in e)e[t].delete()}))}([o,i,a,s,u,l,c])}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({results:{}});var t=this._normalizeAggregationParams(e);return this._hasGPUSupport||z.Z.log(1,"GPUGridAggregator: not supported")(),this._runAggregation(t)}},{key:"getData",value:function(e){var t={},n=this.state.results;for(var r in n[e].aggregationData||(n[e].aggregationData=n[e].aggregationBuffer.getData()),t.aggregationData=n[e].aggregationData,nt){var i=nt[r];(n[e][r]||n[e][i])&&(n[e][r]=n[e][r]||n[e][i].getData(),t[r]=n[e][r])}return t}},{key:"updateShaders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({shaderOptions:e,modelDirty:!0})}},{key:"_normalizeAggregationParams",value:function(e){var t=(0,Ce.Z)((0,Ce.Z)({},ze),e),n=t.weights;return n&&(t.weights=function(e){var t={};for(var n in e)t[n]=(0,Ce.Z)((0,Ce.Z)({},Ke),e[n]);return t}(n)),t}},{key:"setState",value:function(e){Object.assign(this.state,e)}},{key:"_getAggregateData",value:function(e){var t={},n=this.state,r=n.textures,i=n.framebuffers,o=n.maxMinFramebuffers,a=n.minFramebuffers,s=n.maxFramebuffers,u=n.resources,l=e.weights;for(var c in l){t[c]={};var A=l[c],f=A.needMin,h=A.needMax,p=A.combineMaxMin;t[c].aggregationTexture=r[c],t[c].aggregationBuffer=(0,Te.Jb)(i[c],{target:l[c].aggregationBuffer,sourceType:5126}),f&&h&&p?(t[c].maxMinBuffer=(0,Te.Jb)(o[c],{target:l[c].maxMinBuffer,sourceType:5126}),t[c].maxMinTexture=u["".concat(c,"-maxMinTexture")]):(f&&(t[c].minBuffer=(0,Te.Jb)(a[c],{target:l[c].minBuffer,sourceType:5126}),t[c].minTexture=u["".concat(c,"-minTexture")]),h&&(t[c].maxBuffer=(0,Te.Jb)(s[c],{target:l[c].maxBuffer,sourceType:5126}),t[c].maxTexture=u["".concat(c,"-maxTexture")]))}return this._trackGPUResultBuffers(t,l),t}},{key:"_renderAggregateData",value:function(e){var t=e.cellSize,n=e.projectPoints,r=e.attributes,i=e.moduleSettings,o=e.numCol,a=e.numRow,s=e.weights,u=e.translation,l=e.scaling,c=this.state,A=c.maxMinFramebuffers,f=c.minFramebuffers,h=c.maxFramebuffers,p=[o,a],d={blend:!0,depthTest:!1,blendFunc:[1,1]},g={cellSize:t,gridSize:p,projectPoints:n,translation:u,scaling:l};for(var v in s){var y=s[v],m=y.needMin,b=y.needMax,_=m&&b&&s[v].combineMaxMin;this._renderToWeightsTexture({id:v,parameters:d,moduleSettings:i,uniforms:g,gridSize:p,attributes:r,weights:s}),_?this._renderToMaxMinTexture({id:v,parameters:(0,Ce.Z)((0,Ce.Z)({},d),{},{blendEquation:Ge}),gridSize:p,minOrMaxFb:A[v],clearParams:{clearColor:[0,0,0,Qe]},combineMaxMin:_}):(m&&this._renderToMaxMinTexture({id:v,parameters:(0,Ce.Z)((0,Ce.Z)({},d),{},{blendEquation:He}),gridSize:p,minOrMaxFb:f[v],clearParams:{clearColor:[Qe,Qe,Qe,0]},combineMaxMin:_}),b&&this._renderToMaxMinTexture({id:v,parameters:(0,Ce.Z)((0,Ce.Z)({},d),{},{blendEquation:Ve}),gridSize:p,minOrMaxFb:h[v],clearParams:{clearColor:[0,0,0,0]},combineMaxMin:_}))}}},{key:"_renderToMaxMinTexture",value:function(e){var t=e.id,n=e.parameters,r=e.gridSize,i=e.minOrMaxFb,o=e.combineMaxMin,a=e.clearParams,s=void 0===a?{}:a,u=this.state.framebuffers,l=this.gl,c=this.allAggregationModel;(0,ke.s8)(l,(0,Ce.Z)((0,Ce.Z)({},s),{},{framebuffer:i,viewport:[0,0,r[0],r[1]]}),(function(){l.clear(16384),c.draw({parameters:n,uniforms:{uSampler:u[t].texture,gridSize:r,combineMaxMin:o}})}))}},{key:"_renderToWeightsTexture",value:function(e){var t=e.id,n=e.parameters,r=e.moduleSettings,i=e.uniforms,o=e.gridSize,a=e.weights,s=this.state,u=s.framebuffers,l=s.equations,c=s.weightAttributes,A=this.gl,f=this.gridAggregationModel,h=a[t].operation,p=h===Le.MIN?[Qe,Qe,Qe,0]:[0,0,0,0];if((0,ke.s8)(A,{framebuffer:u[t],viewport:[0,0,o[0],o[1]],clearColor:p},(function(){A.clear(16384);var e={weights:c[t]};f.draw({parameters:(0,Ce.Z)((0,Ce.Z)({},n),{},{blendEquation:l[t]}),moduleSettings:r,uniforms:i,attributes:e})})),h===Le.MEAN){var d=this.state,g=d.meanTextures,v=d.textures,y={_sourceTextures:{aggregationValues:g[t]},_targetTexture:v[t],elementCount:v[t].width*v[t].height};this.meanTransform?this.meanTransform.update(y):this.meanTransform=function(e,t){return new Me.Z(e,(0,Ce.Z)({vs:qe,_targetTextureVarying:"meanValues"},t))}(A,y),this.meanTransform.run({parameters:{blend:!1,depthTest:!1}}),u[t].attach((0,ge.Z)({},36064,v[t]))}}},{key:"_runAggregation",value:function(e){this._updateModels(e),this._setupFramebuffers(e),this._renderAggregateData(e);var t=this._getAggregateData(e);return this.setState({results:t}),t}},{key:"_setupFramebuffers",value:function(e){var t=this.state,n=t.textures,r=t.framebuffers,i=t.maxMinFramebuffers,o=t.minFramebuffers,a=t.maxFramebuffers,s=t.meanTextures,u=t.equations,l=e.weights,c=e.numCol,A=e.numRow,f={width:c,height:A};for(var h in l){var p=l[h],d=p.needMin,g=p.needMax,v=p.combineMaxMin,y=p.operation;n[h]=l[h].aggregationTexture||n[h]||$e(this.gl,{id:"".concat(h,"-texture"),width:c,height:A}),n[h].resize(f);var m=n[h];y===Le.MEAN&&(s[h]=s[h]||$e(this.gl,{id:"".concat(h,"-mean-texture"),width:c,height:A}),s[h].resize(f),m=s[h]),r[h]?r[h].attach((0,ge.Z)({},36064,m)):r[h]=et(this.gl,{id:"".concat(h,"-fb"),width:c,height:A,texture:m}),r[h].resize(f),u[h]=We[y]||We.SUM,(d||g)&&(d&&g&&v?i[h]||(m=l[h].maxMinTexture||this._getMinMaxTexture("".concat(h,"-maxMinTexture")),i[h]=et(this.gl,{id:"".concat(h,"-maxMinFb"),texture:m})):(d&&(o[h]||(m=l[h].minTexture||this._getMinMaxTexture("".concat(h,"-minTexture")),o[h]=et(this.gl,{id:"".concat(h,"-minFb"),texture:m}))),g&&(a[h]||(m=l[h].maxTexture||this._getMinMaxTexture("".concat(h,"-maxTexture")),a[h]=et(this.gl,{id:"".concat(h,"-maxFb"),texture:m})))))}}},{key:"_getMinMaxTexture",value:function(e){var t=this.state.resources;return t[e]||(t[e]=$e(this.gl,{id:"resourceName"})),t[e]}},{key:"_setupModels",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.numCol,r=void 0===n?0:n,i=t.numRow,o=void 0===i?0:i,a=this.gl,s=this.state.shaderOptions;if(null===(e=this.gridAggregationModel)||void 0===e||e.delete(),this.gridAggregationModel=ot(a,s),!this.allAggregationModel){var u=r*o;this.allAggregationModel=at(a,u)}}},{key:"_setupWeightAttributes",value:function(e){var t=this.state.weightAttributes,n=e.weights;for(var r in n)t[r]=e.attributes[r]}},{key:"_trackGPUResultBuffers",value:function(e,t){var n=this.state.resources;for(var r in e)if(e[r]){var i,o=(0,Ee.Z)(tt);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e[r][a]&&t[r][a]!==e[r][a]){var s="gpu-result-".concat(r,"-").concat(a);n[s]&&n[s].delete(),n[s]=e[r][a]}}}catch(u){o.e(u)}finally{o.f()}}}},{key:"_updateModels",value:function(e){var t=e.vertexCount,n=e.attributes,r=e.numCol,i=e.numRow;this.state.modelDirty&&(this._setupModels(e),this.setState({modelDirty:!1})),this._setupWeightAttributes(e),this.gridAggregationModel.setVertexCount(t),this.gridAggregationModel.setAttributes(n),this.allAggregationModel.setInstanceCount(r*i)}}],[{key:"getAggregationData",value:function(e){var t=e.aggregationData,n=e.maxData,r=e.minData,i=e.maxMinData,o=4*e.pixelIndex,a={};return t&&(a.cellCount=t[o+3],a.cellWeight=t[o]),i?(a.maxCellWieght=i[0],a.minCellWeight=i[3]):(n&&(a.maxCellWieght=n[0],a.totalCount=n[3]),r&&(a.minCellWeight=r[0],a.totalCount=n[3])),a}},{key:"getCellData",value:function(e){for(var t=e.countsData,n=e.size,r=void 0===n?1:n,i=t.length/4,o=new Float32Array(i*r),a=new Uint32Array(i),s=0;s<i;s++){for(var u=0;u<r;u++)o[s*r+u]=t[4*s+u];a[s]=t[4*s+3]}return{cellCounts:a,cellWeights:o}}},{key:"isSupported",value:function(e){return(0,Oe.ag)(e,rt)}}]),e}();function ot(e,t){var n=(0,Ie.l)({vs:"#define SHADER_NAME gpu-aggregation-to-grid-vs\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute vec3 weights;\nuniform vec2 cellSize;\nuniform vec2 gridSize;\nuniform bool projectPoints;\nuniform vec2 translation;\nuniform vec3 scaling;\n\nvarying vec3 vWeights;\n\nvec2 project_to_pixel(vec4 pos) {\n  vec4 result;\n  pos.xy = pos.xy/pos.w;\n  result = pos + vec4(translation, 0., 0.);\n  result.xy = scaling.z > 0. ? result.xy * scaling.xy : result.xy;\n  return result.xy;\n}\n\nvoid main(void) {\n\n  vWeights = weights;\n\n  vec4 windowPos = vec4(positions, 1.);\n  if (projectPoints) {\n    windowPos = project_position_to_clipspace(positions, positions64Low, vec3(0));\n  }\n\n  vec2 pos = project_to_pixel(windowPos);\n\n  vec2 pixelXY64[2];\n  pixelXY64[0] = vec2(pos.x, 0.);\n  pixelXY64[1] = vec2(pos.y, 0.);\n  vec2 gridXY64[2];\n  gridXY64[0] = div_fp64(pixelXY64[0], vec2(cellSize.x, 0));\n  gridXY64[1] = div_fp64(pixelXY64[1], vec2(cellSize.y, 0));\n  float x = floor(gridXY64[0].x);\n  float y = floor(gridXY64[1].x);\n  pos = vec2(x, y);\n  pos = (pos * (2., 2.) / (gridSize)) - (1., 1.);\n  vec2 offset = 1.0 / gridSize;\n  pos = pos + offset;\n\n  gl_Position = vec4(pos, 0.0, 1.0);\n  gl_PointSize = 1.0;\n}\n",fs:"#define SHADER_NAME gpu-aggregation-to-grid-fs\n\nprecision highp float;\n\nvarying vec3 vWeights;\n\nvoid main(void) {\n  gl_FragColor = vec4(vWeights, 1.0);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[Fe.n2,D.Z]},t);return new Pe.Z(e,(0,Ce.Z)({id:"Gird-Aggregation-Model",vertexCount:1,drawMode:0},n))}function at(e,t){return new Pe.Z(e,{id:"All-Aggregation-Model",vs:"#version 300 es\n#define SHADER_NAME gpu-aggregation-all-vs-64\n\nin vec2 position;\nuniform ivec2 gridSize;\nout vec2 vTextureCoord;\n\nvoid main(void) {\n  vec2 pos = vec2(-1.0, -1.0);\n  vec2 offset = 1.0 / vec2(gridSize);\n  pos = pos + offset;\n\n  gl_Position = vec4(pos, 0.0, 1.0);\n\n  int yIndex = gl_InstanceID / gridSize[0];\n  int xIndex = gl_InstanceID - (yIndex * gridSize[0]);\n\n  vec2 yIndexFP64 = vec2(float(yIndex), 0.);\n  vec2 xIndexFP64 = vec2(float(xIndex), 0.);\n  vec2 gridSizeYFP64 = vec2(gridSize[1], 0.);\n  vec2 gridSizeXFP64 = vec2(gridSize[0], 0.);\n\n  vec2 texCoordXFP64 = div_fp64(yIndexFP64, gridSizeYFP64);\n  vec2 texCoordYFP64 = div_fp64(xIndexFP64, gridSizeXFP64);\n\n  vTextureCoord = vec2(texCoordYFP64.x, texCoordXFP64.x);\n  gl_PointSize = 1.0;\n}\n",fs:"#version 300 es\n#define SHADER_NAME gpu-aggregation-all-fs\n\nprecision highp float;\n\nin vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform bool combineMaxMin;\nout vec4 fragColor;\nvoid main(void) {\n  vec4 textureColor = texture(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n  if (textureColor.a == 0.) {\n    discard;\n  }\n  fragColor.rgb = textureColor.rgb;\n  fragColor.a = combineMaxMin ? textureColor.r : textureColor.a;\n}\n",modules:[Fe.n2],vertexCount:1,drawMode:0,isInstanced:!0,instanceCount:t,attributes:{position:[0,0]}})}var st=n(1509),ut=[[255,255,178],[254,217,118],[254,178,76],[253,141,60],[240,59,32],[189,0,38]];function lt(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float32Array;if(Number.isFinite(e[0]))t=new r(e);else{t=new r(4*e.length);for(var i=0,o=0;o<e.length;o++){var a=e[o];t[i++]=a[0],t[i++]=a[1],t[i++]=a[2],t[i++]=Number.isFinite(a[3])?a[3]:255}}if(n)for(var s=0;s<t.length;s++)t[s]/=255;return t}var ct=[0,0,0,0],At=[0,255,0,255],ft=["minColor","maxColor","colorRange","colorDomain"],ht={cellSizePixels:{value:100,min:1},cellMarginPixels:{value:2,min:0,max:5},colorDomain:null,colorRange:ut},pt=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,Be.Z)((0,me.Z)(e),"state",void 0),e}return(0,ye.Z)(n,[{key:"getShaders",value:function(){return{vs:"#define SHADER_NAME screen-grid-layer-vertex-shader\n#define RANGE_COUNT 6\n\nattribute vec3 positions;\nattribute vec3 instancePositions;\nattribute vec4 instanceCounts;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform vec3 cellScale;\nuniform vec4 minColor;\nuniform vec4 maxColor;\nuniform vec4 colorRange[RANGE_COUNT];\nuniform vec2 colorDomain;\nuniform bool shouldUseMinMax;\nuniform sampler2D maxTexture;\n\nvarying vec4 vColor;\nvarying float vSampleCount;\n\nvec4 quantizeScale(vec2 domain, vec4 range[RANGE_COUNT], float value) {\n  vec4 outColor = vec4(0., 0., 0., 0.);\n  if (value >= domain.x && value <= domain.y) {\n    float domainRange = domain.y - domain.x;\n    if (domainRange <= 0.) {\n      outColor = colorRange[0];\n    } else {\n      float rangeCount = float(RANGE_COUNT);\n      float rangeStep = domainRange / rangeCount;\n      float idx = floor((value - domain.x) / rangeStep);\n      idx = clamp(idx, 0., rangeCount - 1.);\n      int intIdx = int(idx);\n      outColor = colorRange[intIdx];\n    }\n  }\n  outColor = outColor / 255.;\n  return outColor;\n}\n\nvoid main(void) {\n  vSampleCount = instanceCounts.a;\n\n  float weight = instanceCounts.r;\n  float maxWeight = texture2D(maxTexture, vec2(0.5)).r;\n\n  float step = weight / maxWeight;\n  vec4 minMaxColor = mix(minColor, maxColor, step) / 255.;\n\n  vec2 domain = colorDomain;\n  float domainMaxValid = float(colorDomain.y != 0.);\n  domain.y = mix(maxWeight, colorDomain.y, domainMaxValid);\n  vec4 rangeColor = quantizeScale(domain, colorRange, weight);\n\n  float rangeMinMax = float(shouldUseMinMax);\n  vec4 color = mix(rangeColor, minMaxColor, rangeMinMax);\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  gl_Position = vec4(instancePositions + positions * cellScale, 1.);\n}\n",fs:"#define SHADER_NAME screen-grid-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying float vSampleCount;\n\nvoid main(void) {\n  if (vSampleCount <= 0.0) {\n    discard;\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[L.Z]}}},{key:"initializeState",value:function(){var e=this.context.gl;this.getAttributeManager().addInstanced({instancePositions:{size:3,update:this.calculateInstancePositions},instanceCounts:{size:4,noAlloc:!0}}),this.setState({model:this._getModel(e)})}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,e);var t=e.oldProps,r=e.props,i=e.changeFlags,o=this.getAttributeManager();r.numInstances!==t.numInstances?o.invalidateAll():t.cellSizePixels!==r.cellSizePixels&&o.invalidate("instancePositions"),this._updateUniforms(t,r,i)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.parameters,i=n.maxTexture,o=this.props.minColor||ct,a=this.props.maxColor||At,s=this.props.colorDomain||[1,0];this.state.model.setUniforms(t).setUniforms({minColor:o,maxColor:a,maxTexture:i,colorDomain:s}).draw({parameters:(0,Ce.Z)({depthTest:!1,depthMask:!1},r)})}},{key:"calculateInstancePositions",value:function(e,t){for(var n=t.numInstances,r=this.context.viewport,i=r.width,o=r.height,a=this.props.cellSizePixels,s=Math.ceil(i/a),u=e.value,l=e.size,c=0;c<n;c++){var A=c%s,f=Math.floor(c/s);u[c*l+0]=A*a/i*2-1,u[c*l+1]=1-f*a/o*2,u[c*l+2]=0}}},{key:"_getModel",value:function(e){return new Pe.Z(e,(0,Ce.Z)((0,Ce.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new st.Z({drawMode:6,attributes:{positions:new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])}}),isInstanced:!0}))}},{key:"_shouldUseMinMax",value:function(){var e=this.props,t=e.minColor,n=e.maxColor,r=e.colorDomain,i=e.colorRange;return t||n?(z.Z.deprecated("ScreenGridLayer props: minColor and maxColor","colorRange, colorDomain")(),!0):!r&&!i}},{key:"_updateUniforms",value:function(e,t,n){var r=this.state.model;if(ft.some((function(n){return e[n]!==t[n]}))&&r.setUniforms({shouldUseMinMax:this._shouldUseMinMax()}),e.colorRange!==t.colorRange&&r.setUniforms({colorRange:lt(t.colorRange)}),e.cellMarginPixels!==t.cellMarginPixels||e.cellSizePixels!==t.cellSizePixels||n.viewportChanged){var i=this.context.viewport,o=i.width,a=i.height,s=this.props,u=s.cellSizePixels,l=s.cellMarginPixels,c=u>l?l:0,A=new Float32Array([(u-c)/o*2,-(u-c)/a*2,1]);r.setUniforms({cellScale:A})}}}],[{key:"isSupported",value:function(e){return(0,Oe.ag)(e,[Se.h.TEXTURE_FLOAT])}}]),n}(p.Z);(0,Be.Z)(pt,"layerName","ScreenGridCellLayer"),(0,Be.Z)(pt,"defaultProps",ht);var dt=n(9214);function gt(e,t){var n={};for(var r in e)t.includes(r)||(n[r]=e[r]);return n}var vt=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,Be.Z)((0,me.Z)(e),"state",void 0),e}return(0,ye.Z)(n,[{key:"initializeAggregationLayer",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"initializeState",this).call(this,this.context),this.setState({ignoreProps:gt(this.constructor._propTypes,e.data.props),dimensions:e})}},{key:"updateState",value:function(e){if((0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var t=this.getShaders({});t&&t.defines&&(t.defines.NON_INSTANCED_MODEL=1),this.updateShaders(t)}this._updateAttributes()}},{key:"updateAttributes",value:function(e){this.setState({changedAttributes:e})}},{key:"getAttributes",value:function(){return this.getAttributeManager().getShaderAttributes()}},{key:"getModuleSettings",value:function(){var e=this.context,t=e.viewport,n=e.mousePosition,r=e.gl;return Object.assign(Object.create(this.props),{viewport:t,mousePosition:n,pickingActive:0,devicePixelRatio:(0,ke.w)(r)})}},{key:"updateShaders",value:function(e){}},{key:"isAggregationDirty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.props,r=e.oldProps,i=e.changeFlags,o=t.compareAll,a=void 0!==o&&o,s=t.dimension,u=this.state.ignoreProps,l=s.props,c=s.accessors,A=void 0===c?[]:c,f=i.updateTriggersChanged;if(i.dataChanged)return!0;if(f){if(f.all)return!0;var h,p=(0,Ee.Z)(A);try{for(p.s();!(h=p.n()).done;){var d=h.value;if(f[d])return!0}}catch(m){p.e(m)}finally{p.f()}}if(a)return!!i.extensionsChanged||(0,dt.tg)({oldProps:r,newProps:n,ignoreProps:u,propTypes:this.constructor._propTypes});var g,v=(0,Ee.Z)(l);try{for(v.s();!(g=v.n()).done;){var y=g.value;if(n[y]!==r[y])return!0}}catch(m){v.e(m)}finally{v.f()}return!1}},{key:"isAttributeChanged",value:function(e){var t=this.state.changedAttributes;return e?t&&void 0!==t[e]:!function(e){var t=!0;for(var n in e){t=!1;break}return t}(t)}},{key:"_getAttributeManager",value:function(){return new I.Z(this.context.gl,{id:this.props.id,stats:this.context.stats})}}]),n}(d.Z);(0,Be.Z)(vt,"layerName","AggregationLayer");var yt=n(1744),mt=n(885);function bt(e,t,n){var r=n;return r.domain=function(){return e},r.range=function(){return t},r}function _t(e,t){return bt(e,t,(function(n){return function(e,t,n){var r=e[1]-e[0];if(r<=0)return z.Z.warn("quantizeScale: invalid domain, returning range[0]")(),t[0];var i=r/t.length,o=Math.floor((n-e[0])/i),a=Math.max(Math.min(o,t.length-1),0);return t[a]}(e,t,n)}))}function wt(e,t){return bt(e,t,(function(n){return function(e,t,n){return(n-e[0])/(e[1]-e[0])*(t[1]-t[0])+t[0]}(e,t,n)}))}function xt(e,t){for(var n=e.sort(Ct),r=0,i=Math.max(1,t.length),o=new Array(i-1);++r<i;)o[r-1]=Bt(n,r/i);var a=function(e){return function(e,t,n){return t[function(e,t){var n=0,r=e.length;for(;n<r;){var i=n+r>>>1;Ct(e[i],t)>0?r=i:n=i+1}return n}(e,n)]}(o,t,e)};return a.thresholds=function(){return o},bt(e,t,a)}function Ct(e,t){return e-t}function Bt(e,t){var n=e.length;if(t<=0||n<2)return e[0];if(t>=1)return e[n-1];var r=(n-1)*t,i=Math.floor(r),o=e[i];return o+(e[i+1]-o)*(r-i)}function Et(e,t){var n,r=new Map,i=[],o=(0,Ee.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,s="".concat(a);r.has(s)||r.set(s,i.push(a))}}catch(u){o.e(u)}finally{o.f()}return bt(e,t,(function(e){return function(e,t,n,r){var i="".concat(r),o=t.get(i);return void 0===o&&(o=e.push(r),t.set(i,o)),n[(o-1)%n.length]}(i,r,t,e)}))}function St(e){return void 0!==e&&null!==e}function kt(e,t){return("function"===typeof t?e.map(t):e).filter(St)}function Ot(e,t){return kt(e,t)}function Tt(e,t){return function(e){var t=[];return e.forEach((function(e){!t.includes(e)&&St(e)&&t.push(e)})),t}(kt(e,t))}var Pt=function(e){return e.length},Mt=function(e){return e.points},Ft=function(e){return e.index},It=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Lt={getValue:Pt,getPoints:Mt,getIndex:Ft,filterData:null},Rt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt;(0,ve.Z)(this,e),(0,Be.Z)(this,"maxCount",void 0),(0,Be.Z)(this,"maxValue",void 0),(0,Be.Z)(this,"minValue",void 0),(0,Be.Z)(this,"totalCount",void 0),(0,Be.Z)(this,"aggregatedBins",void 0),(0,Be.Z)(this,"sortedBins",void 0),(0,Be.Z)(this,"binMap",void 0),this.aggregatedBins=this.getAggregatedBins(t,n),this._updateMinMaxValues(),this.binMap=this.getBinMap()}return(0,ye.Z)(e,[{key:"getAggregatedBins",value:function(e,t){for(var n=t.getValue,r=void 0===n?Pt:n,i=t.getPoints,o=void 0===i?Mt:i,a=t.getIndex,s=void 0===a?Ft:a,u=t.filterData,l="function"===typeof u,c=e.length,A=[],f=0,h=0;h<c;h++){var p=e[h],d=o(p),g=s(p),v=l?d.filter(u):d;p.filteredPoints=l?v:null;var y=v.length?r(v):null;null!==y&&void 0!==y&&(A[f]={i:Number.isFinite(g)?g:h,value:y,counts:v.length},f++)}return A}},{key:"_percentileToIndex",value:function(e){var t=this.sortedBins.length;if(t<2)return[0,0];var n=e.map((function(e){return t=e,n=0,r=100,Math.max(n,Math.min(r,t));var t,n,r})),r=(0,mt.Z)(n,2),i=r[0],o=r[1];return[Math.ceil(i/100*(t-1)),Math.floor(o/100*(t-1))]}},{key:"getBinMap",value:function(){var e,t={},n=(0,Ee.Z)(this.aggregatedBins);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.i]=r}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"_updateMinMaxValues",value:function(){var e,t=0,n=0,r=3402823466e29,i=0,o=(0,Ee.Z)(this.aggregatedBins);try{for(o.s();!(e=o.n()).done;){var a=e.value;t=t>a.counts?t:a.counts,n=n>a.value?n:a.value,r=r<a.value?r:a.value,i+=a.counts}}catch(s){o.e(s)}finally{o.f()}this.maxCount=t,this.maxValue=n,this.minValue=r,this.totalCount=i}},{key:"getValueRange",value:function(e){if(this.sortedBins||(this.sortedBins=this.aggregatedBins.sort((function(e,t){return It(e.value,t.value)}))),!this.sortedBins.length)return[];var t=0,n=this.sortedBins.length-1;if(Array.isArray(e)){var r=this._percentileToIndex(e);t=r[0],n=r[1]}return[this.sortedBins[t].value,this.sortedBins[n].value]}},{key:"getValueDomainByScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,mt.Z)(t,2),r=n[0],i=void 0===r?0:r,o=n[1],a=void 0===o?100:o;if(this.sortedBins||(this.sortedBins=this.aggregatedBins.sort((function(e,t){return It(e.value,t.value)}))),!this.sortedBins.length)return[];var s=this._percentileToIndex([i,a]);return this._getScaleDomain(e,s)}},{key:"_getScaleDomain",value:function(e,t){var n=(0,mt.Z)(t,2),r=n[0],i=n[1],o=this.sortedBins;switch(e){case"quantize":case"linear":default:return[o[r].value,o[i].value];case"quantile":return Ot(o.slice(r,i+1),(function(e){return e.value}));case"ordinal":return Tt(o,(function(e){return e.value}))}}}]),e}(),Dt=6378e3;function Zt(e){return Number.isFinite(e)?e:0}function Ut(e,t){for(var n,r,i=e.positions.value,o=1/0,a=-1/0,s=1/0,u=-1/0,l=0;l<t;l++)r=i[3*l],o=(n=i[3*l+1])<o?n:o,a=n>a?n:a,s=r<s?r:s,u=r>u?r:u;return{xMin:Zt(s),xMax:Zt(u),yMin:Zt(o),yMax:Zt(a)}}function jt(e,t){var n=e<0?-1:1,r=n<0?Math.abs(e)+t:Math.abs(e);return(r=Math.floor(r/t)*t)*n}function Nt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!n)return{xOffset:t,yOffset:t};var r=e.yMin,i=e.yMax,o=(r+i)/2;return Qt(t,o)}function zt(e,t,n,r){var i=Nt(e,t,r!==f.Df.CARTESIAN),o=function(e,t,n,r){var i=r.width,o=r.height,a=n===f.Df.CARTESIAN?[-i/2,-o/2]:[-180,-90];z.Z.assert(n===f.Df.CARTESIAN||n===f.Df.LNGLAT||n===f.Df.DEFAULT);var s=e.xMin,u=e.yMin;return[-1*(jt(s-a[0],t.xOffset)+a[0]),-1*(jt(u-a[1],t.yOffset)+a[1])]}(e,i,r,n),a=e.xMin,s=e.yMin,u=e.xMax,l=e.yMax,c=u-a+i.xOffset,A=l-s+i.yOffset;return{gridOffset:i,translation:o,width:c,height:A,numCol:Math.ceil(c/i.xOffset),numRow:Math.ceil(A/i.yOffset)}}function Qt(e,t){var n;return{yOffset:e/Dt*(180/Math.PI),xOffset:(n=t,e/Dt*(180/Math.PI)/Math.cos(n*Math.PI/180))}}function Ht(e,t){var n=function(e,t){var n=e.data,r=void 0===n?[]:n,i=e.cellSize,o=t.attributes,a=t.viewport,s=t.projectPoints,u=t.numInstances,l=o.positions.value,c=o.positions.getAccessor().size,A=t.boundingBox||function(e,t){for(var n,r,i=e.value,o=e.getAccessor().size,a=1/0,s=-1/0,u=1/0,l=-1/0,c=0;c<t;c++)r=i[c*o],n=i[c*o+1],Number.isFinite(r)&&Number.isFinite(n)&&(a=n<a?n:a,s=n>s?n:s,u=r<u?r:u,l=r>l?r:l);return{xMin:u,xMax:l,yMin:a,yMax:s}}(o.positions,u),f=t.posOffset||[180,90],h=t.gridOffset||Nt(A,i);if(h.xOffset<=0||h.yOffset<=0)return{gridHash:{},gridOffset:h};var p,d=a.width,g=a.height,v=Math.ceil(d/h.xOffset),y=Math.ceil(g/h.yOffset),m={},b=(0,ne.jB)(r),_=b.iterable,w=b.objectInfo,x=new Array(3),C=(0,Ee.Z)(_);try{for(C.s();!(p=C.n()).done;){var B=p.value;w.index++,x[0]=l[w.index*c],x[1]=l[w.index*c+1],x[2]=c>=3?l[w.index*c+2]:0;var E=s?a.project(x):x,S=(0,mt.Z)(E,2),k=S[0],O=S[1];if(Number.isFinite(k)&&Number.isFinite(O)){var T=Math.floor((O+f[1])/h.yOffset),P=Math.floor((k+f[0])/h.xOffset);if(!s||P>=0&&P<v&&T>=0&&T<y){var M="".concat(T,"-").concat(P);m[M]=m[M]||{count:0,points:[],lonIdx:P,latIdx:T},m[M].count+=1,m[M].points.push({source:B,index:w.index})}}}}catch(F){C.e(F)}finally{C.f()}return{gridHash:m,gridOffset:h,offsets:[-1*f[0],-1*f[1]]}}(e,t),r=function(e){var t=e.gridHash,n=e.gridOffset,r=e.offsets,i=new Array(Object.keys(t).length),o=0;for(var a in t){var s=a.split("-"),u=parseInt(s[0],10),l=parseInt(s[1],10),c=o++;i[c]=(0,Ce.Z)({index:c,position:[r[0]+n.xOffset*l,r[1]+n.yOffset*u]},t[a])}return i}(n);return{gridHash:n.gridHash,gridOffset:n.gridOffset,data:r}}var Vt=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,Be.Z)((0,me.Z)(e),"state",void 0),e}return(0,ye.Z)(n,[{key:"initializeAggregationLayer",value:function(e){var t=e.dimensions,r=this.context.gl;(0,be.Z)((0,_e.Z)(n.prototype),"initializeAggregationLayer",this).call(this,t),this.setState({layerData:{},gpuGridAggregator:new it(r,{id:"".concat(this.id,"-gpu-aggregator")}),cpuGridAggregator:Ht})}},{key:"updateState",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,e),this.updateAggregationState(e);var t=this.state,r=t.aggregationDataDirty,i=t.aggregationWeightsDirty,o=t.gpuAggregation;if(!(this.getNumInstances()<=0)){var a=!1;(r||o&&i)&&(this._updateAggregation(e),a=!0),o||!r&&!i||(this._updateWeightBins(),this._uploadAggregationResults(),a=!0),this.setState({aggregationDirty:a})}}},{key:"finalizeState",value:function(e){var t,r=this.state.weights.count;r&&r.aggregationBuffer&&r.aggregationBuffer.delete(),null===(t=this.state.gpuGridAggregator)||void 0===t||t.delete(),(0,be.Z)((0,_e.Z)(n.prototype),"finalizeState",this).call(this,e)}},{key:"updateShaders",value:function(e){this.state.gpuAggregation&&this.state.gpuGridAggregator.updateShaders(e)}},{key:"updateAggregationState",value:function(e){z.Z.assert(!1)}},{key:"allocateResources",value:function(e,t){if(this.state.numRow!==e||this.state.numCol!==t){var n=t*e*4*4,r=this.context.gl,i=this.state.weights;for(var o in i){var a=i[o];a.aggregationBuffer&&a.aggregationBuffer.delete(),a.aggregationBuffer=new yt.Z(r,{byteLength:n,accessor:{size:4,type:5126,divisor:1}})}}}},{key:"updateResults",value:function(e){var t=e.aggregationData,n=e.maxMinData,r=e.maxData,i=e.minData,o=this.state.weights.count;o&&(o.aggregationData=t,o.maxMinData=n,o.maxData=r,o.minData=i)}},{key:"_updateAggregation",value:function(e){var t=this.state,n=t.cpuGridAggregator,r=t.gpuGridAggregator,i=t.gridOffset,o=t.posOffset,a=t.translation,s=void 0===a?[0,0]:a,u=t.scaling,l=void 0===u?[0,0,0]:u,c=t.boundingBox,A=t.projectPoints,f=t.gpuAggregation,h=t.numCol,p=t.numRow,d=e.props,g=this.context.viewport,v=this.getAttributes(),y=this.getNumInstances();if(f){var m=this.state.weights;r.run({weights:m,cellSize:[i.xOffset,i.yOffset],numCol:h,numRow:p,translation:s,scaling:l,vertexCount:y,projectPoints:A,attributes:v,moduleSettings:this.getModuleSettings()})}else{var b=n(d,{gridOffset:i,projectPoints:A,attributes:v,viewport:g,posOffset:o,boundingBox:c});this.setState({layerData:b})}}},{key:"_updateWeightBins",value:function(){var e=this.state.getValue,t=new Rt(this.state.layerData.data||[],{getValue:e});this.setState({sortedBins:t})}},{key:"_uploadAggregationResults",value:function(){var e,t=this.state,n=t.numCol,r=t.numRow,i=this.state.layerData.data,o=this.state.sortedBins,a=o.aggregatedBins,s=o.minValue,u=o.maxValue,l=o.totalCount,c=new Float32Array(n*r*4).fill(0),A=(0,Ee.Z)(a);try{for(A.s();!(e=A.n()).done;){var f=e.value,h=i[f.i],p=h.lonIdx,d=h.latIdx,g=f,v=g.value,y=g.counts,m=4*(p+d*n);c[m]=v,c[m+4-1]=y}}catch(x){A.e(x)}finally{A.f()}var b=new Float32Array([u,0,0,s]),_=new Float32Array([u,0,0,l]),w=new Float32Array([s,0,0,l]);this.updateResults({aggregationData:c,maxMinData:b,maxData:_,minData:w})}}]),n}(vt);(0,Be.Z)(Vt,"layerName","GridAggregationLayer");var Gt=(0,Ce.Z)((0,Ce.Z)({},pt.defaultProps),{},{getPosition:{type:"accessor",value:function(e){return e.position}},getWeight:{type:"accessor",value:1},gpuAggregation:!0,aggregation:"SUM"}),Wt="positions",Kt={data:{props:["cellSizePixels"]},weights:{props:["aggregation"],accessors:["getWeight"]}},qt=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,Be.Z)((0,me.Z)(e),"state",void 0),e}return(0,ye.Z)(n,[{key:"initializeState",value:function(){var e,t=this.context.gl;if(!pt.isSupported(t))return this.setState({supported:!1}),void z.Z.error("ScreenGridLayer: ".concat(this.id," is not supported on this browser"))();(0,be.Z)((0,_e.Z)(n.prototype),"initializeAggregationLayer",this).call(this,{dimensions:Kt,getCellSize:function(e){return e.cellSizePixels}});var r={count:{size:1,operation:Le.SUM,needMax:!0,maxTexture:$e(t,{id:"".concat(this.id,"-max-texture")})}};this.setState({supported:!0,projectPoints:!0,weights:r,subLayerData:{attributes:{}},maxTexture:r.count.maxTexture,positionAttributeName:"positions",posOffset:[0,0],translation:[1,-1]}),this.getAttributeManager().add((e={},(0,ge.Z)(e,Wt,{size:3,accessor:"getPosition",type:5130,fp64:this.use64bitPositions()}),(0,ge.Z)(e,"count",{size:3,accessor:"getWeight"}),e))}},{key:"shouldUpdateState",value:function(e){var t=e.changeFlags;return this.state.supported&&t.somethingChanged}},{key:"updateState",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,e)}},{key:"renderLayers",value:function(){if(!this.state.supported)return[];var e=this.state,t=e.maxTexture,n=e.numRow,r=e.numCol,i=e.weights,o=this.props.updateTriggers,a=i.count.aggregationBuffer;return new(this.getSubLayerClass("cells",pt))(this.props,this.getSubLayerProps({id:"cell-layer",updateTriggers:o}),{data:{attributes:{instanceCounts:a}},maxTexture:t,numInstances:n*r})}},{key:"finalizeState",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"finalizeState",this).call(this,e);var t=this.state,r=t.aggregationBuffer,i=t.maxBuffer,o=t.maxTexture;null===r||void 0===r||r.delete(),null===i||void 0===i||i.delete(),null===o||void 0===o||o.delete()}},{key:"getPickingInfo",value:function(e){var t=e.info,n=t.index;if(n>=0){var r=this.state,i=r.gpuGridAggregator,o=r.gpuAggregation,a=r.weights,s=o?i.getData("count"):a.count;t.object=it.getAggregationData((0,Ce.Z)({pixelIndex:n},s))}return t}},{key:"updateResults",value:function(e){var t=e.aggregationData,n=e.maxData,r=this.state.weights.count;r.aggregationData=t,r.aggregationBuffer.setData({data:t}),r.maxData=n,r.maxTexture.setImageData({data:n})}},{key:"updateAggregationState",value:function(e){var t=e.props.cellSizePixels,n=e.oldProps.cellSizePixels!==t,r=e.changeFlags.viewportChanged,i=e.props.gpuAggregation;this.state.gpuAggregation!==e.props.gpuAggregation&&i&&!it.isSupported(this.context.gl)&&(z.Z.warn("GPU Grid Aggregation not supported, falling back to CPU")(),i=!1);var o=i!==this.state.gpuAggregation;this.setState({gpuAggregation:i});var a=this.isAttributeChanged(Wt),s=this.state.dimensions,u=s.data,l=s.weights,c=a||o||r||this.isAggregationDirty(e,{compareAll:i,dimension:u}),A=this.isAggregationDirty(e,{dimension:l});this.setState({aggregationDataDirty:c,aggregationWeightsDirty:A});var f=this.context.viewport;if(r||n){var h=f.width,p=f.height,d=Math.ceil(h/t),g=Math.ceil(p/t);this.allocateResources(g,d),this.setState({scaling:[h/2,-p/2,1],gridOffset:{xOffset:t,yOffset:t},width:h,height:p,numCol:d,numRow:g})}A&&this._updateAccessors(e),(c||A)&&this._resetResults()}},{key:"_updateAccessors",value:function(e){var t=e.props,n=t.getWeight,r=t.aggregation,i=t.data,o=this.state.weights.count;o&&(o.getWeight=n,o.operation=Le[r]),this.setState({getValue:Ue(r,n,{data:i})})}},{key:"_resetResults",value:function(){var e=this.state.weights.count;e&&(e.aggregationData=null)}}]),n}(Vt);function Xt(){}(0,Be.Z)(qt,"layerName","ScreenGridLayer"),(0,Be.Z)(qt,"defaultProps",Gt);var Yt=["getBins","getDomain","getScaleFunc"],Jt=[{key:"fillColor",accessor:"getFillColor",pickingInfo:"colorValue",getBins:{triggers:{value:{prop:"getColorValue",updateTrigger:"getColorValue"},weight:{prop:"getColorWeight",updateTrigger:"getColorWeight"},aggregation:{prop:"colorAggregation"},filterData:{prop:"_filterData",updateTrigger:"_filterData"}}},getDomain:{triggers:{lowerPercentile:{prop:"lowerPercentile"},upperPercentile:{prop:"upperPercentile"},scaleType:{prop:"colorScaleType"}}},getScaleFunc:{triggers:{domain:{prop:"colorDomain"},range:{prop:"colorRange"}},onSet:{props:"onSetColorDomain"}},nullValue:[0,0,0,0]},{key:"elevation",accessor:"getElevation",pickingInfo:"elevationValue",getBins:{triggers:{value:{prop:"getElevationValue",updateTrigger:"getElevationValue"},weight:{prop:"getElevationWeight",updateTrigger:"getElevationWeight"},aggregation:{prop:"elevationAggregation"},filterData:{prop:"_filterData",updateTrigger:"_filterData"}}},getDomain:{triggers:{lowerPercentile:{prop:"elevationLowerPercentile"},upperPercentile:{prop:"elevationUpperPercentile"},scaleType:{prop:"elevationScaleType"}}},getScaleFunc:{triggers:{domain:{prop:"elevationDomain"},range:{prop:"elevationRange"}},onSet:{props:"onSetElevationDomain"}},nullValue:-1}],$t=function(e){return e.cellSize},en=function(){function e(t){(0,ve.Z)(this,e),this.state={layerData:{},dimensions:{}},this.changeFlags={},this.dimensionUpdaters={},this._getCellSize=t.getCellSize||$t,this._getAggregator=t.getAggregator,this._addDimension(t.dimensions||Jt)}return(0,ye.Z)(e,[{key:"updateState",value:function(e,t){var n=e.oldProps,r=e.props,i=e.changeFlags;this.updateGetValueFuncs(n,r,i);var o=this.needsReProjectPoints(n,r,i),a=!1;i.dataChanged||o?(this.getAggregatedData(r,t),a=!0):((this.getDimensionChanges(n,r,i)||[]).forEach((function(e){return"function"===typeof e&&e()})),a=!0);return this.setState({aggregationDirty:a}),this.state}},{key:"setState",value:function(e){this.state=(0,Ce.Z)((0,Ce.Z)({},this.state),e)}},{key:"setDimensionState",value:function(e,t){this.setState({dimensions:(0,Ce.Z)((0,Ce.Z)({},this.state.dimensions),{},(0,ge.Z)({},e,(0,Ce.Z)((0,Ce.Z)({},this.state.dimensions[e]),t)))})}},{key:"normalizeResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.hexagons?(0,Ce.Z)({data:e.hexagons},e):e.layerData?(0,Ce.Z)({data:e.layerData},e):e}},{key:"getAggregatedData",value:function(e,t){var n=this._getAggregator(e)(e,t);this.setState({layerData:this.normalizeResult(n)}),this.changeFlags={layerData:!0},this.getSortedBins(e)}},{key:"updateGetValueFuncs",value:function(e,t,n){for(var r in this.dimensionUpdaters){var i=this.dimensionUpdaters[r].getBins.triggers,o=i.value,a=i.weight,s=i.aggregation,u=t[o.prop];this.needUpdateDimensionStep(this.dimensionUpdaters[r].getBins,e,t,n)&&(u=u?je(u,{data:t.data}):Ue(t[s.prop],t[a.prop],{data:t.data})),u&&this.setDimensionState(r,{getValue:u})}}},{key:"needsReProjectPoints",value:function(e,t,n){return this._getCellSize(e)!==this._getCellSize(t)||this._getAggregator(e)!==this._getAggregator(t)||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPosition)}},{key:"addDimension",value:function(e){this._addDimension(e)}},{key:"_addDimension",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var n=t.key;e.dimensionUpdaters[n]=e.getDimensionUpdaters(t),e.state.dimensions[n]={getValue:null,domain:null,sortedBins:null,scaleFunc:Xt}}))}},{key:"getDimensionUpdaters",value:function(e){var t=e.key,n=e.accessor,r=e.pickingInfo,i=e.getBins,o=e.getDomain,a=e.getScaleFunc,s=e.nullValue;return{key:t,accessor:n,pickingInfo:r,getBins:(0,Ce.Z)({updater:this.getDimensionSortedBins},i),getDomain:(0,Ce.Z)({updater:this.getDimensionValueDomain},o),getScaleFunc:(0,Ce.Z)({updater:this.getDimensionScale},a),attributeAccessor:this.getSubLayerDimensionAttribute(t,s)}}},{key:"needUpdateDimensionStep",value:function(e,t,n,r){return Object.values(e.triggers).some((function(e){return e.updateTrigger?r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged[e.updateTrigger]):t[e.prop]!==n[e.prop]}))}},{key:"getDimensionChanges",value:function(e,t,n){var r=this,i=[],o=function(o){var a=Yt.find((function(i){return r.needUpdateDimensionStep(r.dimensionUpdaters[o][i],e,t,n)}));a&&i.push(r.dimensionUpdaters[o][a].updater.bind(r,t,r.dimensionUpdaters[o]))};for(var a in this.dimensionUpdaters)o(a);return i.length?i:null}},{key:"getUpdateTriggers",value:function(e){var t=this,n=e.updateTriggers||{},r={},i=function(i){var o=t.dimensionUpdaters[i].accessor;r[o]={},Yt.forEach((function(a){Object.values(t.dimensionUpdaters[i][a].triggers).forEach((function(t){var i=t.prop,a=t.updateTrigger;if(a){var s=n[a];"object"!==typeof s||Array.isArray(s)?void 0!==s&&(r[o][i]=s):Object.assign(r[o],s)}else r[o][i]=e[i]}))}))};for(var o in this.dimensionUpdaters)i(o);return r}},{key:"getSortedBins",value:function(e){for(var t in this.dimensionUpdaters)this.getDimensionSortedBins(e,this.dimensionUpdaters[t])}},{key:"getDimensionSortedBins",value:function(e,t){var n=t.key,r=this.state.dimensions[n].getValue,i=new Rt(this.state.layerData.data||[],{getValue:r,filterData:e._filterData});this.setDimensionState(n,{sortedBins:i}),this.getDimensionValueDomain(e,t)}},{key:"getDimensionValueDomain",value:function(e,t){var n=t.getDomain,r=t.key,i=n.triggers,o=i.lowerPercentile,a=i.upperPercentile,s=i.scaleType,u=this.state.dimensions[r].sortedBins.getValueDomainByScale(e[s.prop],[e[o.prop],e[a.prop]]);this.setDimensionState(r,{valueDomain:u}),this.getDimensionScale(e,t)}},{key:"getDimensionScale",value:function(e,t){var n=t.key,r=t.getScaleFunc,i=t.getDomain,o=r.triggers,a=o.domain,s=o.range,u=i.triggers.scaleType,l=r.onSet,c=e[s.prop],A=e[a.prop]||this.state.dimensions[n].valueDomain,f=function(e){switch(e){case"quantize":default:return _t;case"linear":return wt;case"quantile":return xt;case"ordinal":return Et}}(u&&e[u.prop]),h=f(A,c);"object"===typeof l&&"function"===typeof e[l.props]&&e[l.props](h.domain()),this.setDimensionState(n,{scaleFunc:h})}},{key:"getSubLayerDimensionAttribute",value:function(e,t){var n=this;return function(r){var i=n.state.dimensions[e],o=i.sortedBins,a=i.scaleFunc,s=o.binMap[r.index];if(s&&0===s.counts)return t;var u=s&&s.value,l=a.domain();return u>=l[0]&&u<=l[l.length-1]?a(u):t}}},{key:"getSubLayerAccessors",value:function(e){var t={};for(var n in this.dimensionUpdaters){t[this.dimensionUpdaters[n].accessor]=this.getSubLayerDimensionAttribute(e,n)}return t}},{key:"getPickingInfo",value:function(e){var t=e.info,n=null;if(t.picked&&t.index>-1){var r=this.state.layerData.data[t.index],i={};for(var o in this.dimensionUpdaters){var a=this.dimensionUpdaters[o].pickingInfo,s=this.state.dimensions[o].sortedBins,u=s.binMap[r.index]&&s.binMap[r.index].value;i[a]=u}n=Object.assign(i,r,{points:r.filteredPoints||r.points})}return t.picked=Boolean(n),t.object=n,t}},{key:"getAccessor",value:function(e){return this.dimensionUpdaters.hasOwnProperty(e)?this.dimensionUpdaters[e].attributeAccessor:Xt}}],[{key:"defaultDimensions",value:function(){return Jt}}]),e}();function tn(){}var nn={colorDomain:null,colorRange:ut,getColorValue:{type:"accessor",value:null},getColorWeight:{type:"accessor",value:1},colorAggregation:"SUM",lowerPercentile:{type:"number",min:0,max:100,value:0},upperPercentile:{type:"number",min:0,max:100,value:100},colorScaleType:"quantize",onSetColorDomain:tn,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:{type:"accessor",value:null},getElevationWeight:{type:"accessor",value:1},elevationAggregation:"SUM",elevationLowerPercentile:{type:"number",min:0,max:100,value:0},elevationUpperPercentile:{type:"number",min:0,max:100,value:100},elevationScale:{type:"number",min:0,value:1},elevationScaleType:"linear",onSetElevationDomain:tn,gridAggregator:Ht,cellSize:{type:"number",min:0,max:1e3,value:1e3},coverage:{type:"number",min:0,max:1,value:1},getPosition:{type:"accessor",value:function(e){return e.position}},extruded:!1,material:!0,_filterData:{type:"function",value:null,optional:!0}},rn=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"initializeState",value:function(){var e=new en({getAggregator:function(e){return e.gridAggregator},getCellSize:function(e){return e.cellSize}});this.state={cpuAggregator:e,aggregatorState:e.state},this.getAttributeManager().add({positions:{size:3,type:5130,accessor:"getPosition"}})}},{key:"updateState",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,e),this.setState({aggregatorState:this.state.cpuAggregator.updateState(e,{viewport:this.context.viewport,attributes:this.getAttributes(),numInstances:this.getNumInstances()})})}},{key:"getPickingInfo",value:function(e){var t=e.info;return this.state.cpuAggregator.getPickingInfo({info:t})}},{key:"_onGetSublayerColor",value:function(e){return this.state.cpuAggregator.getAccessor("fillColor")(e)}},{key:"_onGetSublayerElevation",value:function(e){return this.state.cpuAggregator.getAccessor("elevation")(e)}},{key:"_getSublayerUpdateTriggers",value:function(){return this.state.cpuAggregator.getUpdateTriggers(this.props)}},{key:"renderLayers",value:function(){var e=this.props,t=e.elevationScale,n=e.extruded,r=e.cellSize,i=e.coverage,o=e.material,a=e.transitions,s=this.state.cpuAggregator,u=this.getSubLayerClass("grid-cell",le.Z),l=this._getSublayerUpdateTriggers();return new u({cellSize:r,coverage:i,material:o,elevationScale:t,extruded:n,getFillColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),transitions:a&&{getFillColor:a.getColorValue||a.getColorWeight,getElevation:a.getElevationValue||a.getElevationWeight}},this.getSubLayerProps({id:"grid-cell",updateTriggers:l}),{data:s.state.layerData.data})}}]),n}(vt);(0,Be.Z)(rn,"layerName","CPUGridLayer"),(0,Be.Z)(rn,"defaultProps",nn);var on=n(1971);function an(){}var sn,un={colorDomain:null,colorRange:ut,getColorValue:{type:"accessor",value:null},getColorWeight:{type:"accessor",value:1},colorAggregation:"SUM",lowerPercentile:{type:"number",value:0,min:0,max:100},upperPercentile:{type:"number",value:100,min:0,max:100},colorScaleType:"quantize",onSetColorDomain:an,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:{type:"accessor",value:null},getElevationWeight:{type:"accessor",value:1},elevationAggregation:"SUM",elevationLowerPercentile:{type:"number",value:0,min:0,max:100},elevationUpperPercentile:{type:"number",value:100,min:0,max:100},elevationScale:{type:"number",min:0,value:1},elevationScaleType:"linear",onSetElevationDomain:an,radius:{type:"number",value:1e3,min:1},coverage:{type:"number",min:0,max:1,value:1},extruded:!1,hexagonAggregator:function(e,t){var n,r=e.data,i=e.radius,o=t.viewport,a=t.attributes,s=r.length?function(e,t){var n,r=t.attributes,i=r.positions.value,o=r.positions.getAccessor().size,a=1/0,s=1/0,u=-1/0,l=-1/0;for(n=0;n<o*e.length;n+=o){var c=i[n],A=i[n+1];Number.isFinite(c)&&Number.isFinite(A)&&(a=Math.min(c,a),u=Math.max(c,u),s=Math.min(A,s),l=Math.max(A,l))}return[a,s,u,l].every(Number.isFinite)?[(a+u)/2,(s+l)/2]:null}(r,t):null,u=function(e,t,n){var r=t.getDistanceScales(n).unitsPerMeter;return e*r[0]}(i,o,s),l=[],c=(0,ne.jB)(r),A=c.iterable,f=c.objectInfo,h=a.positions.value,p=a.positions.getAccessor().size,d=(0,Ee.Z)(A);try{for(d.s();!(n=d.n()).done;){var g=n.value;f.index++;var v=f.index*p,y=[h[v],h[v+1]];Number.isFinite(y[0])&&Number.isFinite(y[1])?l.push({screenCoord:o.projectFlat(y),source:g,index:f.index}):z.Z.warn("HexagonLayer: invalid position")()}}catch(m){d.e(m)}finally{d.f()}return{hexagons:(0,on.g)().radius(u).x((function(e){return e.screenCoord[0]})).y((function(e){return e.screenCoord[1]}))(l).map((function(e,t){return{position:o.unprojectFlat([e.x,e.y]),points:e,index:t}})),radiusCommon:u}},getPosition:{type:"accessor",value:function(e){return e.position}},material:!0,_filterData:{type:"function",value:null,optional:!0}},ln=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,Be.Z)((0,me.Z)(e),"state",void 0),e}return(0,ye.Z)(n,[{key:"initializeState",value:function(){var e=new en({getAggregator:function(e){return e.hexagonAggregator},getCellSize:function(e){return e.radius}});this.state={cpuAggregator:e,aggregatorState:e.state,vertices:null},this.getAttributeManager().add({positions:{size:3,type:5130,accessor:"getPosition"}})}},{key:"updateState",value:function(e){if((0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,e),e.changeFlags.propsOrDataChanged){var t=this.state.cpuAggregator.updateState(e,{viewport:this.context.viewport,attributes:this.getAttributes()});if(this.state.aggregatorState.layerData!==t.layerData){var r=(t.layerData||{}).hexagonVertices;this.setState({vertices:r&&this.convertLatLngToMeterOffset(r)})}this.setState({aggregatorState:t})}}},{key:"convertLatLngToMeterOffset",value:function(e){var t=this.context.viewport;if(Array.isArray(e)&&6===e.length){var n=e[0],r=e[3],i=[(n[0]+r[0])/2,(n[1]+r[1])/2],o=t.projectFlat(i),a=t.getDistanceScales(i).metersPerUnit;return e.map((function(e){var n=t.projectFlat(e);return[(n[0]-o[0])*a[0],(n[1]-o[1])*a[1]]}))}return z.Z.error("HexagonLayer: hexagonVertices needs to be an array of 6 points")(),null}},{key:"getPickingInfo",value:function(e){var t=e.info;return this.state.cpuAggregator.getPickingInfo({info:t})}},{key:"_onGetSublayerColor",value:function(e){return this.state.cpuAggregator.getAccessor("fillColor")(e)}},{key:"_onGetSublayerElevation",value:function(e){return this.state.cpuAggregator.getAccessor("elevation")(e)}},{key:"_getSublayerUpdateTriggers",value:function(){return this.state.cpuAggregator.getUpdateTriggers(this.props)}},{key:"renderLayers",value:function(){var e=this.props,t=e.elevationScale,n=e.extruded,r=e.coverage,i=e.material,o=e.transitions,a=this.state,s=a.aggregatorState,u=a.vertices,l=this.getSubLayerClass("hexagon-cell",ce.Z),c=this._getSublayerUpdateTriggers(),A=u?{vertices:u,radius:1}:{radius:s.layerData.radiusCommon||1,radiusUnits:"common",angle:90};return new l((0,Ce.Z)((0,Ce.Z)({},A),{},{diskResolution:6,elevationScale:t,extruded:n,coverage:r,material:i,getFillColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),transitions:o&&{getFillColor:o.getColorValue||o.getColorWeight,getElevation:o.getElevationValue||o.getElevationWeight}}),this.getSubLayerProps({id:"hexagon-cell",updateTriggers:c}),{data:s.layerData.data})}}]),n}(vt);(0,Be.Z)(ln,"layerName","HexagonLayer"),(0,Be.Z)(ln,"defaultProps",un);var cn=.5,An=1/6,fn={N:[0,cn],E:[cn,0],S:[0,-.5],W:[-.5,0],NE:[cn,cn],NW:[-.5,cn],SE:[cn,-.5],SW:[-.5,-.5]},hn=[fn.W,fn.SW,fn.S],pn=[fn.S,fn.SE,fn.E],dn=[fn.E,fn.NE,fn.N],gn=[fn.NW,fn.W,fn.N],vn=[[-.5,An],[-.5,-An],[-An,-.5],[An,-.5]],yn=[[-An,-.5],[An,-.5],[cn,-An],[cn,An]],mn=[[cn,-An],[cn,An],[An,cn],[-An,cn]],bn=[[-.5,An],[-.5,-An],[An,cn],[-An,cn]],_n=[fn.W,fn.SW,fn.SE,fn.E],wn=[fn.S,fn.SE,fn.NE,fn.N],xn=[fn.NW,fn.W,fn.E,fn.NE],Cn=[fn.NW,fn.SW,fn.S,fn.N],Bn=[[-.5,An],[-.5,-An],[cn,-An],[cn,An]],En=[[-An,-.5],[An,-.5],[An,cn],[-An,cn]],Sn=[fn.NW,fn.SW,fn.SE,fn.NE],kn=[fn.NW,fn.SW,fn.SE,fn.E,fn.N],On=[fn.W,fn.SW,fn.SE,fn.NE,fn.N],Tn=[fn.NW,fn.W,fn.S,fn.SE,fn.NE],Pn=[fn.NW,fn.SW,fn.S,fn.E,fn.NE],Mn=[fn.NW,fn.W,[cn,-An],[cn,An],fn.N],Fn=[[-An,-.5],[An,-.5],fn.E,fn.NE,fn.N],In=[[-.5,An],[-.5,-An],fn.S,fn.SE,fn.E],Ln=[fn.W,fn.SW,fn.S,[An,cn],[-An,cn]],Rn=[fn.NW,fn.W,[-An,-.5],[An,-.5],fn.N],Dn=[[-.5,An],[-.5,-An],fn.E,fn.NE,fn.N],Zn=[fn.S,fn.SE,fn.E,[An,cn],[-An,cn]],Un=[fn.W,fn.SW,fn.S,[cn,-An],[cn,An]],jn=[fn.W,fn.SW,fn.SE,fn.E,[An,cn],[-An,cn]],Nn=[[-.5,An],[-.5,-An],fn.S,fn.SE,fn.NE,fn.N],zn=[fn.NW,fn.W,[-An,-.5],[An,-.5],fn.E,fn.NE],Qn=[fn.NW,fn.SW,fn.S,[cn,-An],[cn,An],fn.N],Hn=[fn.W,fn.SW,fn.S,fn.E,fn.NE,fn.N],Vn=[fn.NW,fn.W,fn.S,fn.SE,fn.E,fn.N],Gn=[[-.5,An],[-.5,-An],[-An,-.5],[An,-.5],fn.E,fn.NE,fn.N],Wn=[fn.W,fn.SW,fn.S,[cn,-An],[cn,An],[An,cn],[-An,cn]],Kn=[fn.NW,fn.W,[-An,-.5],[An,-.5],[cn,-An],[cn,An],fn.N],qn=[[-.5,An],[-.5,-An],fn.S,fn.SE,fn.E,[An,cn],[-An,cn]],Xn=[[-.5,An],[-.5,-An],[-An,-.5],[An,-.5],[cn,-An],[cn,An],[An,cn],[-An,cn]],Yn={0:[],1:[[fn.W,fn.S]],2:[[fn.S,fn.E]],3:[[fn.W,fn.E]],4:[[fn.N,fn.E]],5:{0:[[fn.W,fn.S],[fn.N,fn.E]],1:[[fn.W,fn.N],[fn.S,fn.E]]},6:[[fn.N,fn.S]],7:[[fn.W,fn.N]],8:[[fn.W,fn.N]],9:[[fn.N,fn.S]],10:{0:[[fn.W,fn.N],[fn.S,fn.E]],1:[[fn.W,fn.S],[fn.N,fn.E]]},11:[[fn.N,fn.E]],12:[[fn.W,fn.E]],13:[[fn.S,fn.E]],14:[[fn.W,fn.S]],15:[]};function Jn(e){return parseInt(e,4)}var $n=(sn={},(0,ge.Z)(sn,Jn("0000"),[]),(0,ge.Z)(sn,Jn("2222"),[]),(0,ge.Z)(sn,Jn("2221"),[hn]),(0,ge.Z)(sn,Jn("2212"),[pn]),(0,ge.Z)(sn,Jn("2122"),[dn]),(0,ge.Z)(sn,Jn("1222"),[gn]),(0,ge.Z)(sn,Jn("0001"),[hn]),(0,ge.Z)(sn,Jn("0010"),[pn]),(0,ge.Z)(sn,Jn("0100"),[dn]),(0,ge.Z)(sn,Jn("1000"),[gn]),(0,ge.Z)(sn,Jn("2220"),[vn]),(0,ge.Z)(sn,Jn("2202"),[yn]),(0,ge.Z)(sn,Jn("2022"),[mn]),(0,ge.Z)(sn,Jn("0222"),[bn]),(0,ge.Z)(sn,Jn("0002"),[vn]),(0,ge.Z)(sn,Jn("0020"),[yn]),(0,ge.Z)(sn,Jn("0200"),[mn]),(0,ge.Z)(sn,Jn("2000"),[bn]),(0,ge.Z)(sn,Jn("0011"),[_n]),(0,ge.Z)(sn,Jn("0110"),[wn]),(0,ge.Z)(sn,Jn("1100"),[xn]),(0,ge.Z)(sn,Jn("1001"),[Cn]),(0,ge.Z)(sn,Jn("2211"),[_n]),(0,ge.Z)(sn,Jn("2112"),[wn]),(0,ge.Z)(sn,Jn("1122"),[xn]),(0,ge.Z)(sn,Jn("1221"),[Cn]),(0,ge.Z)(sn,Jn("2200"),[Bn]),(0,ge.Z)(sn,Jn("2002"),[En]),(0,ge.Z)(sn,Jn("0022"),[Bn]),(0,ge.Z)(sn,Jn("0220"),[En]),(0,ge.Z)(sn,Jn("1111"),[Sn]),(0,ge.Z)(sn,Jn("1211"),[kn]),(0,ge.Z)(sn,Jn("2111"),[On]),(0,ge.Z)(sn,Jn("1112"),[Tn]),(0,ge.Z)(sn,Jn("1121"),[Pn]),(0,ge.Z)(sn,Jn("1011"),[kn]),(0,ge.Z)(sn,Jn("0111"),[On]),(0,ge.Z)(sn,Jn("1110"),[Tn]),(0,ge.Z)(sn,Jn("1101"),[Pn]),(0,ge.Z)(sn,Jn("1200"),[Mn]),(0,ge.Z)(sn,Jn("0120"),[Fn]),(0,ge.Z)(sn,Jn("0012"),[In]),(0,ge.Z)(sn,Jn("2001"),[Ln]),(0,ge.Z)(sn,Jn("1022"),[Mn]),(0,ge.Z)(sn,Jn("2102"),[Fn]),(0,ge.Z)(sn,Jn("2210"),[In]),(0,ge.Z)(sn,Jn("0221"),[Ln]),(0,ge.Z)(sn,Jn("1002"),[Rn]),(0,ge.Z)(sn,Jn("2100"),[Dn]),(0,ge.Z)(sn,Jn("0210"),[Zn]),(0,ge.Z)(sn,Jn("0021"),[Un]),(0,ge.Z)(sn,Jn("1220"),[Rn]),(0,ge.Z)(sn,Jn("0122"),[Dn]),(0,ge.Z)(sn,Jn("2012"),[Zn]),(0,ge.Z)(sn,Jn("2201"),[Un]),(0,ge.Z)(sn,Jn("0211"),[jn]),(0,ge.Z)(sn,Jn("2110"),[Nn]),(0,ge.Z)(sn,Jn("1102"),[zn]),(0,ge.Z)(sn,Jn("1021"),[Qn]),(0,ge.Z)(sn,Jn("2011"),[jn]),(0,ge.Z)(sn,Jn("0112"),[Nn]),(0,ge.Z)(sn,Jn("1120"),[zn]),(0,ge.Z)(sn,Jn("1201"),[Qn]),(0,ge.Z)(sn,Jn("2101"),[Hn]),(0,ge.Z)(sn,Jn("0121"),[Hn]),(0,ge.Z)(sn,Jn("1012"),[Vn]),(0,ge.Z)(sn,Jn("1210"),[Vn]),(0,ge.Z)(sn,Jn("0101"),{0:[hn,dn],1:[Hn],2:[Hn]}),(0,ge.Z)(sn,Jn("1010"),{0:[gn,pn],1:[Vn],2:[Vn]}),(0,ge.Z)(sn,Jn("2121"),{0:[Hn],1:[Hn],2:[hn,dn]}),(0,ge.Z)(sn,Jn("1212"),{0:[Vn],1:[Vn],2:[gn,pn]}),(0,ge.Z)(sn,Jn("2120"),{0:[Gn],1:[Gn],2:[vn,dn]}),(0,ge.Z)(sn,Jn("2021"),{0:[Wn],1:[Wn],2:[hn,mn]}),(0,ge.Z)(sn,Jn("1202"),{0:[Kn],1:[Kn],2:[gn,yn]}),(0,ge.Z)(sn,Jn("0212"),{0:[qn],1:[qn],2:[pn,bn]}),(0,ge.Z)(sn,Jn("0102"),{0:[vn,dn],1:[Gn],2:[Gn]}),(0,ge.Z)(sn,Jn("0201"),{0:[hn,mn],1:[Wn],2:[Wn]}),(0,ge.Z)(sn,Jn("1020"),{0:[gn,yn],1:[Kn],2:[Kn]}),(0,ge.Z)(sn,Jn("2010"),{0:[pn,bn],1:[qn],2:[qn]}),(0,ge.Z)(sn,Jn("2020"),{0:[bn,yn],1:[Xn],2:[vn,mn]}),(0,ge.Z)(sn,Jn("0202"),{0:[mn,vn],1:[Xn],2:[bn,yn]}),sn),er=1,tr=2,nr={zIndex:0,zOffset:.005};function rr(e,t){return Array.isArray(t)?e<t[0]?0:e<t[1]?1:2:e>=t?1:0}function ir(e){var t=e.cellWeights,n=e.x,r=e.y,i=e.width,o=e.height,a=e.threshold;e.thresholdValue&&(z.Z.deprecated("thresholdValue","threshold")(),a=e.thresholdValue);var s=n<0,u=n>=i-1,l=r<0,c=r>=o-1,A=s||u||l||c,f={},h={};s||c?h.top=0:(f.top=t[(r+1)*i+n],h.top=rr(f.top,a)),u||c?h.topRight=0:(f.topRight=t[(r+1)*i+n+1],h.topRight=rr(f.topRight,a)),u||l?h.right=0:(f.right=t[r*i+n+1],h.right=rr(f.right,a)),s||l?h.current=0:(f.current=t[r*i+n],h.current=rr(f.current,a));var p=h.top,d=h.topRight,g=h.right,v=h.current,y=-1;Number.isFinite(a)&&(y=p<<3|d<<2|g<<1|v),Array.isArray(a)&&(y=p<<6|d<<4|g<<2|v);var m=0;return A||(m=rr((f.top+f.topRight+f.right+f.current)/4,a)),{code:y,meanCode:m}}function or(e){var t=e.gridOrigin,n=e.cellSize,r=e.x,i=e.y,o=e.code,a=e.meanCode,s=e.type,u=void 0===s?er:s,l=(0,Ce.Z)((0,Ce.Z)({},nr),e.thresholdData),c=u===tr?$n[o]:Yn[o];Array.isArray(c)||(c=c[a]);var A=l.zIndex*l.zOffset,f=(r+1)*n[0],h=(i+1)*n[1],p=t[0]+f,d=t[1]+h;if(u===tr){var g=[];return c.forEach((function(e){var t=[];e.forEach((function(e){var r=p+e[0]*n[0],i=d+e[1]*n[1];t.push([r,i,A])})),g.push(t)})),g}var v=[];return c.forEach((function(e){e.forEach((function(e){var t=p+e[0]*n[0],r=d+e[1]*n[1];v.push([t,r,A])}))})),v}var ar=[255,255,255,255],sr={cellSize:{type:"number",min:1,max:1e3,value:1e3},getPosition:{type:"accessor",value:function(e){return e.position}},getWeight:{type:"accessor",value:1},gpuAggregation:!0,aggregation:"SUM",contours:[{threshold:1}],zOffset:.005},ur="positions",lr={data:{props:["cellSize"]},weights:{props:["aggregation"],accessors:["getWeight"]}},cr=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"initializeState",value:function(){var e;(0,be.Z)((0,_e.Z)(n.prototype),"initializeAggregationLayer",this).call(this,{dimensions:lr}),this.setState({contourData:{},projectPoints:!1,weights:{count:{size:1,operation:Le.SUM}}}),this.getAttributeManager().add((e={},(0,ge.Z)(e,ur,{size:3,accessor:"getPosition",type:5130,fp64:this.use64bitPositions()}),(0,ge.Z)(e,"count",{size:3,accessor:"getWeight"}),e))}},{key:"updateState",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,e);var t=!1,r=e.oldProps,i=e.props,o=this.state.aggregationDirty;r.contours===i.contours&&r.zOffset===i.zOffset||(t=!0,this._updateThresholdData(e.props)),this.getNumInstances()>0&&(o||t)&&this._generateContours()}},{key:"renderLayers",value:function(){var e=this.state.contourData,t=e.contourSegments,n=e.contourPolygons,r=this.getSubLayerClass("lines",ae.Z),i=this.getSubLayerClass("bands",he.Z);return[t&&t.length>0&&new r(this.getSubLayerProps({id:"lines"}),{data:this.state.contourData.contourSegments,getSourcePosition:function(e){return e.start},getTargetPosition:function(e){return e.end},getColor:function(e){return e.contour.color||ar},getWidth:function(e){return e.contour.strokeWidth||1}}),n&&n.length>0&&new i(this.getSubLayerProps({id:"bands"}),{data:this.state.contourData.contourPolygons,getPolygon:function(e){return e.vertices},getFillColor:function(e){return e.contour.color||ar}})]}},{key:"updateAggregationState",value:function(e){var t=e.props,n=e.oldProps,r=t.cellSize,i=t.coordinateSystem,o=this.context.viewport,a=n.cellSize!==r,s=t.gpuAggregation;this.state.gpuAggregation!==t.gpuAggregation&&s&&!it.isSupported(this.context.gl)&&(z.Z.warn("GPU Grid Aggregation not supported, falling back to CPU")(),s=!1);var u=s!==this.state.gpuAggregation;this.setState({gpuAggregation:s});var l=this.state.dimensions,c=this.isAttributeChanged(ur),A=l.data,f=l.weights,h=this.state.boundingBox;if(c&&(h=Ut(this.getAttributes(),this.getNumInstances()),this.setState({boundingBox:h})),c||a){var p=zt(h,r,o,i),d=p.gridOffset,g=p.translation,v=p.width,y=p.height,m=p.numCol,b=p.numRow;this.allocateResources(b,m),this.setState({gridOffset:d,boundingBox:h,translation:g,posOffset:g.slice(),gridOrigin:[-1*g[0],-1*g[1]],width:v,height:y,numCol:m,numRow:b})}var _=c||u||this.isAggregationDirty(e,{dimension:A,compareAll:s}),w=this.isAggregationDirty(e,{dimension:f});w&&this._updateAccessors(e),(_||w)&&this._resetResults(),this.setState({aggregationDataDirty:_,aggregationWeightsDirty:w})}},{key:"_updateAccessors",value:function(e){var t=e.props,n=t.getWeight,r=t.aggregation,i=t.data,o=this.state.weights.count;o&&(o.getWeight=n,o.operation=Le[r]),this.setState({getValue:Ue(r,n,{data:i})})}},{key:"_resetResults",value:function(){var e=this.state.weights.count;e&&(e.aggregationData=null)}},{key:"_generateContours",value:function(){var e=this.state,t=e.numCol,n=e.numRow,r=e.gridOrigin,i=e.gridOffset,o=e.thresholdData,a=this.state.weights.count,s=a.aggregationData;s||(s=a.aggregationBuffer.getData(),a.aggregationData=s);var u=function(e){var t,n=e.thresholdData,r=e.cellWeights,i=e.gridSize,o=e.gridOrigin,a=e.cellSize,s=[],u=[],l=i[0],c=i[1],A=0,f=0,h=(0,Ee.Z)(n);try{for(h.s();!(t=h.n()).done;)for(var p=t.value,d=p.contour,g=d.threshold,v=-1;v<l;v++)for(var y=-1;y<c;y++){var m=ir({cellWeights:r,threshold:g,x:v,y:y,width:l,height:c}),b=m.code,_=m.meanCode,w={type:tr,gridOrigin:o,cellSize:a,x:v,y:y,width:l,height:c,code:b,meanCode:_,thresholdData:p};if(Array.isArray(g)){w.type=tr;var x,C=or(w),B=(0,Ee.Z)(C);try{for(B.s();!(x=B.n()).done;){var E=x.value;u[f++]={vertices:E,contour:d}}}catch(O){B.e(O)}finally{B.f()}}else{w.type=er;for(var S=or(w),k=0;k<S.length;k+=2)s[A++]={start:S[k],end:S[k+1],contour:d}}}}catch(O){h.e(O)}finally{h.f()}return{contourSegments:s,contourPolygons:u}}({thresholdData:o,cellWeights:it.getCellData({countsData:s}).cellWeights,gridSize:[t,n],gridOrigin:r,cellSize:[i.xOffset,i.yOffset]});this.setState({contourData:u})}},{key:"_updateThresholdData",value:function(e){for(var t=e.contours,n=e.zOffset,r=t.length,i=new Array(r),o=0;o<r;o++){var a=t[o];i[o]={contour:a,zIndex:a.zIndex||o,zOffset:n}}this.setState({thresholdData:i})}}]),n}(Vt);(0,Be.Z)(cr,"layerName","ContourLayer"),(0,Be.Z)(cr,"defaultProps",sr);var Ar=n(3876),fr={colorDomain:null,colorRange:ut,elevationDomain:null,elevationRange:[0,1e3],elevationScale:{type:"number",min:0,value:1},gridSize:{type:"array",value:[1,1]},gridOrigin:{type:"array",value:[0,0]},gridOffset:{type:"array",value:[0,0]},cellSize:{type:"number",min:0,max:1e3,value:1e3},offset:{type:"array",value:[1,1]},coverage:{type:"number",min:0,max:1,value:1},extruded:!0,material:!0},hr=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"getShaders",value:function(){return(0,be.Z)((0,_e.Z)(n.prototype),"getShaders",this).call(this,{vs:"#version 300 es\n#define SHADER_NAME gpu-grid-cell-layer-vertex-shader\n#define RANGE_COUNT 6\n\nin vec3 positions;\nin vec3 normals;\n\nin vec4 colors;\nin vec4 elevations;\nin vec3 instancePickingColors;\n\n// Custom uniforms\nuniform vec2 offset;\nuniform bool extruded;\nuniform float cellSize;\nuniform float coverage;\nuniform float opacity;\nuniform float elevationScale;\n\nuniform ivec2 gridSize;\nuniform vec2 gridOrigin;\nuniform vec2 gridOriginLow;\nuniform vec2 gridOffset;\nuniform vec2 gridOffsetLow;\nuniform vec4 colorRange[RANGE_COUNT];\nuniform vec2 elevationRange;\n\n// Domain uniforms\nuniform vec2 colorDomain;\nuniform bool colorDomainValid;\nuniform vec2 elevationDomain;\nuniform bool elevationDomainValid;\n\nlayout(std140) uniform;\nuniform ColorData\n{\n  vec4 maxMinCount;\n} colorData;\nuniform ElevationData\n{\n  vec4 maxMinCount;\n} elevationData;\n\n#define EPSILON 0.00001\n\n// Result\nout vec4 vColor;\n\nvec4 quantizeScale(vec2 domain, vec4 range[RANGE_COUNT], float value) {\n  vec4 outColor = vec4(0., 0., 0., 0.);\n  if (value >= (domain.x - EPSILON) && value <= (domain.y + EPSILON)) {\n    float domainRange = domain.y - domain.x;\n    if (domainRange <= 0.) {\n      outColor = colorRange[0];\n    } else {\n      float rangeCount = float(RANGE_COUNT);\n      float rangeStep = domainRange / rangeCount;\n      float idx = floor((value - domain.x) / rangeStep);\n      idx = clamp(idx, 0., rangeCount - 1.);\n      int intIdx = int(idx);\n      outColor = colorRange[intIdx];\n    }\n  }\n  return outColor;\n}\n\nfloat linearScale(vec2 domain, vec2 range, float value) {\n  if (value >= (domain.x - EPSILON) && value <= (domain.y + EPSILON)) {\n    return ((value - domain.x) / (domain.y - domain.x)) * (range.y - range.x) + range.x;\n  }\n  return -1.;\n}\n\nvoid main(void) {\n  vec2 clrDomain = colorDomainValid ? colorDomain : vec2(colorData.maxMinCount.a, colorData.maxMinCount.r);\n  vec4 color = quantizeScale(clrDomain, colorRange, colors.r);\n\n  float elevation = 0.0;\n\n  if (extruded) {\n    vec2 elvDomain = elevationDomainValid ? elevationDomain : vec2(elevationData.maxMinCount.a, elevationData.maxMinCount.r);\n    elevation = linearScale(elvDomain, elevationRange, elevations.r);\n    elevation = elevation  * (positions.z + 1.0) / 2.0 * elevationScale;\n  }\n\n  // if aggregated color or elevation is 0 do not render\n  float shouldRender = float(color.r > 0.0 && elevations.r >= 0.0);\n  float dotRadius = cellSize / 2. * coverage * shouldRender;\n\n  int yIndex = (gl_InstanceID / gridSize[0]);\n  int xIndex = gl_InstanceID - (yIndex * gridSize[0]);\n\n  vec2 instancePositionXFP64 = mul_fp64(vec2(gridOffset[0], gridOffsetLow[0]), vec2(float(xIndex), 0.));\n  instancePositionXFP64 = sum_fp64(instancePositionXFP64, vec2(gridOrigin[0], gridOriginLow[0]));\n  vec2 instancePositionYFP64 = mul_fp64(vec2(gridOffset[1], gridOffsetLow[1]), vec2(float(yIndex), 0.));\n  instancePositionYFP64 = sum_fp64(instancePositionYFP64, vec2(gridOrigin[1], gridOriginLow[1]));\n\n  vec3 centroidPosition = vec3(instancePositionXFP64[0], instancePositionYFP64[0], elevation);\n  vec3 centroidPosition64Low = vec3(instancePositionXFP64[1], instancePositionYFP64[1], 0.0);\n  geometry.worldPosition = centroidPosition;\n  vec3 pos = vec3(project_size(positions.xy + offset) * dotRadius, 0.);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  gl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);\n\n  // Light calculations\n  // Worldspace is the linear space after Mercator projection\n\n  vec3 normals_commonspace = project_normal(normals);\n\n   if (extruded) {\n    vec3 lightColor = lighting_getLightColor(color.rgb, project_uCameraPosition, geometry.position.xyz, normals_commonspace);\n    vColor = vec4(lightColor, color.a * opacity) / 255.;\n  } else {\n    vColor = vec4(color.rgb, color.a * opacity) / 255.;\n  }\n}\n",fs:"#version 300 es\n#define SHADER_NAME gpu-grid-cell-layer-fragment-shader\n\nprecision highp float;\n\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  fragColor = vColor;\n  fragColor = picking_filterColor(fragColor);\n}\n",modules:[D.Z,Z.N,L.Z,Fe.n2]})}},{key:"initializeState",value:function(e){var t=e.gl;this.getAttributeManager().addInstanced({colors:{size:4,noAlloc:!0},elevations:{size:4,noAlloc:!0}});var n=this._getModel(t);this._setupUniformBuffer(n),this.setState({model:n})}},{key:"_getModel",value:function(e){return new Pe.Z(e,(0,Ce.Z)((0,Ce.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new Ar.Z,isInstanced:!0}))}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.cellSize,i=n.offset,o=n.extruded,a=n.elevationScale,s=n.coverage,u=n.gridSize,l=n.gridOrigin,c=n.gridOffset,A=n.elevationRange,f=n.colorMaxMinBuffer,h=n.elevationMaxMinBuffer,p=[(0,te.Ks)(l[0]),(0,te.Ks)(l[1])],d=[(0,te.Ks)(c[0]),(0,te.Ks)(c[1])],g=this.getDomainUniforms(),v=lt(this.props.colorRange);this.bindUniformBuffers(f,h),this.state.model.setUniforms(t).setUniforms(g).setUniforms({cellSize:r,offset:i,extruded:o,elevationScale:a,coverage:s,gridSize:u,gridOrigin:l,gridOriginLow:p,gridOffset:c,gridOffsetLow:d,colorRange:v,elevationRange:A}).draw(),this.unbindUniformBuffers(f,h)}},{key:"bindUniformBuffers",value:function(e,t){e.bind({target:35345,index:0}),t.bind({target:35345,index:1})}},{key:"unbindUniformBuffers",value:function(e,t){e.unbind({target:35345,index:0}),t.unbind({target:35345,index:1})}},{key:"getDomainUniforms",value:function(){var e=this.props,t=e.colorDomain,n=e.elevationDomain,r={};return null!==t?(r.colorDomainValid=!0,r.colorDomain=t):r.colorDomainValid=!1,null!==n?(r.elevationDomainValid=!0,r.elevationDomain=n):r.elevationDomainValid=!1,r}},{key:"_setupUniformBuffer",value:function(e){var t=this.context.gl,n=e.program.handle,r=t.getUniformBlockIndex(n,"ColorData"),i=t.getUniformBlockIndex(n,"ElevationData");t.uniformBlockBinding(n,r,0),t.uniformBlockBinding(n,i,1)}}]),n}(p.Z);(0,Be.Z)(hr,"layerName","GPUGridCellLayer"),(0,Be.Z)(hr,"defaultProps",fr);var pr={colorDomain:null,colorRange:ut,getColorWeight:{type:"accessor",value:1},colorAggregation:"SUM",elevationDomain:null,elevationRange:[0,1e3],getElevationWeight:{type:"accessor",value:1},elevationAggregation:"SUM",elevationScale:{type:"number",min:0,value:1},cellSize:{type:"number",min:1,max:1e3,value:1e3},coverage:{type:"number",min:0,max:1,value:1},getPosition:{type:"accessor",value:function(e){return e.position}},extruded:!1,material:!0},dr={data:{props:["cellSize","colorAggregation","elevationAggregation"]}},gr="positions",vr=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"initializeState",value:function(e){var t,r=e.gl,i=it.isSupported(r);i||z.Z.error("GPUGridLayer is not supported on this browser, use GridLayer instead")(),(0,be.Z)((0,_e.Z)(n.prototype),"initializeAggregationLayer",this).call(this,{dimensions:dr}),this.setState({gpuAggregation:!0,projectPoints:!1,isSupported:i,weights:{color:{needMin:!0,needMax:!0,combineMaxMin:!0,maxMinBuffer:new yt.Z(r,{byteLength:16,accessor:{size:4,type:5126,divisor:1}})},elevation:{needMin:!0,needMax:!0,combineMaxMin:!0,maxMinBuffer:new yt.Z(r,{byteLength:16,accessor:{size:4,type:5126,divisor:1}})}},positionAttributeName:"positions"}),this.getAttributeManager().add((t={},(0,ge.Z)(t,gr,{size:3,accessor:"getPosition",type:5130,fp64:this.use64bitPositions()}),(0,ge.Z)(t,"color",{size:3,accessor:"getColorWeight"}),(0,ge.Z)(t,"elevation",{size:3,accessor:"getElevationWeight"}),t))}},{key:"updateState",value:function(e){!1!==this.state.isSupported&&((0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,e),this.state.aggregationDirty&&this.setState({gridHash:null}))}},{key:"getHashKeyForIndex",value:function(e){var t=this.state,n=t.numRow,r=t.numCol,i=t.boundingBox,o=t.gridOffset,a=[r,n],s=[i.xMin,i.yMin],u=[o.xOffset,o.yOffset],l=Math.floor(e/a[0]),c=e-l*a[0],A=Math.floor((l*u[1]+s[1]+90+u[1]/2)/u[1]),f=Math.floor((c*u[0]+s[0]+180+u[0]/2)/u[0]);return"".concat(A,"-").concat(f)}},{key:"getPositionForIndex",value:function(e){var t=this.state,n=t.numRow,r=t.numCol,i=t.boundingBox,o=t.gridOffset,a=[r,n],s=[i.xMin,i.yMin],u=[o.xOffset,o.yOffset],l=Math.floor(e/a[0]);return[(e-l*a[0])*u[0]+s[0],l*u[1]+s[1]]}},{key:"getPickingInfo",value:function(e){var t=e.info,n=e.mode,r=t.index,i=null;if(r>=0){var o=this.state.gpuGridAggregator,a=this.getPositionForIndex(r),s=it.getAggregationData((0,Ce.Z)({pixelIndex:r},o.getData("color"))),u=it.getAggregationData((0,Ce.Z)({pixelIndex:r},o.getData("elevation")));if(i={colorValue:s.cellWeight,elevationValue:u.cellWeight,count:s.cellCount||u.cellCount,position:a,totalCount:s.totalCount||u.totalCount},"hover"!==n){var l=this.props,c=this.state.gridHash;if(!c){var A=this.state,f=A.gridOffset,h=A.translation,p=A.boundingBox,d=this.context.viewport;c=Ht(l,{gridOffset:f,attributes:this.getAttributes(),viewport:d,translation:h,boundingBox:p}).gridHash,this.setState({gridHash:c})}var g=c[this.getHashKeyForIndex(r)];Object.assign(i,g)}}return t.picked=Boolean(i),t.object=i,t}},{key:"renderLayers",value:function(){if(!this.state.isSupported)return null;var e=this.props,t=e.elevationScale,n=e.extruded,r=e.cellSize,i=e.coverage,o=e.material,a=e.elevationRange,s=e.colorDomain,u=e.elevationDomain,l=this.state,c=l.weights,A=l.numRow,f=l.numCol,h=l.gridOrigin,p=l.gridOffset,d=c.color,g=c.elevation,v=lt(this.props.colorRange);return new(this.getSubLayerClass("gpu-grid-cell",hr))({gridSize:[f,A],gridOrigin:h,gridOffset:[p.xOffset,p.yOffset],colorRange:v,elevationRange:a,colorDomain:s,elevationDomain:u,cellSize:r,coverage:i,material:o,elevationScale:t,extruded:n},this.getSubLayerProps({id:"gpu-grid-cell"}),{data:{attributes:{colors:d.aggregationBuffer,elevations:g.aggregationBuffer}},colorMaxMinBuffer:d.maxMinBuffer,elevationMaxMinBuffer:g.maxMinBuffer,numInstances:f*A})}},{key:"finalizeState",value:function(e){var t=this.state.weights;[t.color,t.elevation].forEach((function(e){var t=e.aggregationBuffer;e.maxMinBuffer.delete(),null===t||void 0===t||t.delete()})),(0,be.Z)((0,_e.Z)(n.prototype),"finalizeState",this).call(this,e)}},{key:"updateAggregationState",value:function(e){var t=e.props,n=e.oldProps,r=t.cellSize,i=t.coordinateSystem,o=this.context.viewport,a=n.cellSize!==r,s=this.state.dimensions,u=this.isAttributeChanged(gr),l=u||this.isAttributeChanged(),c=this.state.boundingBox;if(u&&(c=Ut(this.getAttributes(),this.getNumInstances()),this.setState({boundingBox:c})),u||a){var A=zt(c,r,o,i),f=A.gridOffset,h=A.translation,p=A.width,d=A.height,g=A.numCol,v=A.numRow;this.allocateResources(v,g),this.setState({gridOffset:f,translation:h,gridOrigin:[-1*h[0],-1*h[1]],width:p,height:d,numCol:g,numRow:v})}var y=l||this.isAggregationDirty(e,{dimension:s.data,compareAll:!0});y&&this._updateAccessors(e),this.setState({aggregationDataDirty:y})}},{key:"_updateAccessors",value:function(e){var t=e.props,n=t.colorAggregation,r=t.elevationAggregation,i=this.state.weights,o=i.color,a=i.elevation;o.operation=Le[n],a.operation=Le[r]}}]),n}(Vt);(0,Be.Z)(vr,"layerName","GPUGridLayer"),(0,Be.Z)(vr,"defaultProps",pr);var yr=(0,Ce.Z)((0,Ce.Z)((0,Ce.Z)({},vr.defaultProps),rn.defaultProps),{},{gpuAggregation:!1}),mr=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,Be.Z)((0,me.Z)(e),"state",void 0),e}return(0,ye.Z)(n,[{key:"initializeState",value:function(){this.state={useGPUAggregation:!0}}},{key:"updateState",value:function(e){var t=e.props;this.setState({useGPUAggregation:this.canUseGPUAggregation(t)})}},{key:"renderLayers",value:function(){var e=this.props,t=e.data,n=e.updateTriggers,r=this.state.useGPUAggregation?"GPU":"CPU";return new(this.state.useGPUAggregation?this.getSubLayerClass("GPU",vr):this.getSubLayerClass("CPU",rn))(this.props,this.getSubLayerProps({id:r,updateTriggers:n}),{data:t})}},{key:"canUseGPUAggregation",value:function(e){var t=e.gpuAggregation,n=e.lowerPercentile,r=e.upperPercentile,i=e.getColorValue,o=e.getElevationValue,a=e.colorScaleType;return!!t&&(!!it.isSupported(this.context.gl)&&(0===n&&100===r&&(null===i&&null===o&&("quantile"!==a&&"ordinal"!==a))))}}]),n}(d.Z);function br(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]})),r=Math.min.apply(null,t),i=Math.max.apply(null,t);return[r,Math.min.apply(null,n),i,Math.max.apply(null,n)]}function _r(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}(0,Be.Z)(mr,"layerName","GridLayer"),(0,Be.Z)(mr,"defaultProps",yr);var wr=new Float32Array(12);function xr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=0,i=(0,Ee.Z)(e);try{for(i.s();!(t=i.n()).done;)for(var o=t.value,a=0;a<n;a++)wr[r++]=o[a]||0}catch(s){i.e(s)}finally{i.f()}return wr}function Cr(e,t,n){var r=(0,mt.Z)(e,4),i=r[0],o=r[1],a=r[2],s=r[3],u=a-i,l=s-o,c=u,A=l;u/l<t/n?c=t/n*l:A=n/t*u,c<t&&(c=t,A=n);var f=(a+i)/2,h=(s+o)/2;return[f-c/2,h-A/2,f+c/2,h+A/2]}var Br=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"getShaders",value:function(){return{vs:"#define SHADER_NAME heatp-map-layer-vertex-shader\n\nuniform sampler2D maxTexture;\nuniform float intensity;\nuniform vec2 colorDomain;\nuniform float threshold;\nuniform float aggregationMode;\n\nattribute vec3 positions;\nattribute vec2 texCoords;\n\nvarying vec2 vTexCoords;\nvarying float vIntensityMin;\nvarying float vIntensityMax;\n\nvoid main(void) {\n  gl_Position = project_position_to_clipspace(positions, vec3(0.0), vec3(0.0));\n  vTexCoords = texCoords;\n  vec4 maxTexture = texture2D(maxTexture, vec2(0.5));\n  float maxValue = aggregationMode < 0.5 ? maxTexture.r : maxTexture.g;\n  float minValue = maxValue * threshold;\n  if (colorDomain[1] > 0.) {\n    // if user specified custom domain use it.\n    maxValue = colorDomain[1];\n    minValue = colorDomain[0];\n  }\n  vIntensityMax = intensity / maxValue;\n  vIntensityMin = intensity / minValue;\n}\n",fs:"#define SHADER_NAME triangle-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D texture;\nuniform sampler2D colorTexture;\nuniform float aggregationMode;\n\nvarying vec2 vTexCoords;\nvarying float vIntensityMin;\nvarying float vIntensityMax;\n\nvec4 getLinearColor(float value) {\n  float factor = clamp(value * vIntensityMax, 0., 1.);\n  vec4 color = texture2D(colorTexture, vec2(factor, 0.5));\n  color.a *= min(value * vIntensityMin, 1.0);\n  return color;\n}\n\nvoid main(void) {\n  vec4 weights = texture2D(texture, vTexCoords);\n  float weight = weights.r;\n\n  if (aggregationMode > 0.5) {\n    weight /= max(1.0, weights.a);\n  }\n\n  // discard pixels with 0 weight.\n  if (weight <= 0.) {\n     discard;\n  }\n\n  vec4 linearColor = getLinearColor(weight);\n  linearColor.a *= opacity;\n  gl_FragColor =linearColor;\n}\n",modules:[D.Z]}}},{key:"initializeState",value:function(e){var t=e.gl;this.getAttributeManager().add({positions:{size:3,noAlloc:!0},texCoords:{size:2,noAlloc:!0}}),this.setState({model:this._getModel(t)})}},{key:"_getModel",value:function(e){var t=this.props.vertexCount;return new Pe.Z(e,(0,Ce.Z)((0,Ce.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new st.Z({drawMode:6,vertexCount:t})}))}},{key:"draw",value:function(e){var t=e.uniforms,n=this.state.model,r=this.props,i=r.texture,o=r.maxTexture,a=r.colorTexture,s=r.intensity,u=r.threshold,l=r.aggregationMode,c=r.colorDomain;n.setUniforms((0,Ce.Z)((0,Ce.Z)({},t),{},{texture:i,maxTexture:o,colorTexture:a,intensity:s,threshold:u,aggregationMode:l,colorDomain:c})).draw()}}]),n}(p.Z);(0,Be.Z)(Br,"layerName","TriangleLayer");var Er,Sr={mipmaps:!1,parameters:(Er={},(0,ge.Z)(Er,10240,9729),(0,ge.Z)(Er,10241,9729),(0,ge.Z)(Er,10242,33071),(0,ge.Z)(Er,10243,33071),Er),dataFormat:6408},kr=[0,0],Or={SUM:0,MEAN:1},Tr={getPosition:{type:"accessor",value:function(e){return e.position}},getWeight:{type:"accessor",value:1},intensity:{type:"number",min:0,value:1},radiusPixels:{type:"number",min:1,max:100,value:50},colorRange:ut,threshold:{type:"number",min:0,max:1,value:.05},colorDomain:{type:"array",value:null,optional:!0},aggregation:"SUM",weightsTextureSize:{type:"number",min:128,max:2048,value:2048},debounceTimeout:{type:"number",min:0,max:1e3,value:500}},Pr=[Se.h.BLEND_EQUATION_MINMAX,Se.h.TEXTURE_FLOAT],Mr=[Se.h.COLOR_ATTACHMENT_RGBA32F,Se.h.FLOAT_BLEND],Fr={data:{props:["radiusPixels"]}},Ir=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,Be.Z)((0,me.Z)(e),"state",void 0),e}return(0,ye.Z)(n,[{key:"initializeState",value:function(){var e=this.context.gl;if(!(0,Oe.ag)(e,Pr))return this.setState({supported:!1}),void z.Z.error("HeatmapLayer: ".concat(this.id," is not supported on this browser"))();(0,be.Z)((0,_e.Z)(n.prototype),"initializeAggregationLayer",this).call(this,Fr),this.setState({supported:!0,colorDomain:kr}),this._setupTextureParams(),this._setupAttributes(),this._setupResources()}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){this.state.supported&&((0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,e),this._updateHeatmapState(e))}},{key:"_updateHeatmapState",value:function(e){var t=e.props,n=e.oldProps,r=this._getChangeFlags(e);(r.dataChanged||r.viewportChanged)&&(r.boundsChanged=this._updateBounds(r.dataChanged),this._updateTextureRenderingBounds()),r.dataChanged||r.boundsChanged?(clearTimeout(this.state.updateTimer),this.setState({isWeightMapDirty:!0})):r.viewportZoomChanged&&this._debouncedUpdateWeightmap(),t.colorRange!==n.colorRange&&this._updateColorTexture(e),this.state.isWeightMapDirty&&this._updateWeightmap(),this.setState({zoom:e.context.viewport.zoom})}},{key:"renderLayers",value:function(){if(!this.state.supported)return[];var e=this.state,t=e.weightsTexture,n=e.triPositionBuffer,r=e.triTexCoordBuffer,i=e.maxWeightsTexture,o=e.colorTexture,a=e.colorDomain,s=this.props,u=s.updateTriggers,l=s.intensity,c=s.threshold,A=s.aggregation;return new(this.getSubLayerClass("triangle",Br))(this.getSubLayerProps({id:"triangle-layer",updateTriggers:u}),{coordinateSystem:f.Df.DEFAULT,data:{attributes:{positions:n,texCoords:r}},vertexCount:4,maxTexture:i,colorTexture:o,aggregationMode:Or[A]||0,texture:t,intensity:l,threshold:c,colorDomain:a})}},{key:"finalizeState",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"finalizeState",this).call(this,e);var t=this.state,r=t.weightsTransform,i=t.weightsTexture,o=t.maxWeightTransform,a=t.maxWeightsTexture,s=t.triPositionBuffer,u=t.triTexCoordBuffer,l=t.colorTexture,c=t.updateTimer;null===r||void 0===r||r.delete(),null===i||void 0===i||i.delete(),null===o||void 0===o||o.delete(),null===a||void 0===a||a.delete(),null===s||void 0===s||s.delete(),null===u||void 0===u||u.delete(),null===l||void 0===l||l.delete(),c&&clearTimeout(c)}},{key:"_getAttributeManager",value:function(){return new I.Z(this.context.gl,{id:this.props.id,stats:this.context.stats})}},{key:"_getChangeFlags",value:function(e){var t={},n=this.state.dimensions;t.dataChanged=this.isAttributeChanged()||this.isAggregationDirty(e,{compareAll:!0,dimension:n.data}),t.viewportChanged=e.changeFlags.viewportChanged;var r=this.state.zoom;return e.context.viewport&&e.context.viewport.zoom===r||(t.viewportZoomChanged=!0),t}},{key:"_createTextures",value:function(){var e=this.context.gl,t=this.state,n=t.textureSize,r=t.format,i=t.type;this.setState({weightsTexture:new Xe.Z(e,(0,Ce.Z)({width:n,height:n,format:r,type:i},Sr)),maxWeightsTexture:new Xe.Z(e,(0,Ce.Z)({format:r,type:i},Sr))})}},{key:"_setupAttributes",value:function(){this.getAttributeManager().add({positions:{size:3,type:5130,accessor:"getPosition"},weights:{size:1,accessor:"getWeight"}}),this.setState({positionAttributeName:"positions"})}},{key:"_setupTextureParams",value:function(){var e=this.context.gl,t=this.props.weightsTextureSize,n=Math.min(t,(0,ke.ZS)(e,3379)),r=(0,Oe.ag)(e,Mr),i=function(e){var t=e.gl;return e.floatTargetSupport?{format:(0,ke.D0)(t)?34836:6408,type:5126}:{format:6408,type:5121}}({gl:e,floatTargetSupport:r}),o=i.format,a=i.type,s=r?1:1/255;this.setState({textureSize:n,format:o,type:a,weightsScale:s}),r||z.Z.warn("HeatmapLayer: ".concat(this.id," rendering to float texture not supported, fallingback to low precession format"))()}},{key:"getShaders",value:function(e){return(0,be.Z)((0,_e.Z)(n.prototype),"getShaders",this).call(this,"max-weights-transform"===e?{vs:"attribute vec4 inTexture;\nvarying vec4 outTexture;\n\nvoid main()\n{\noutTexture = inTexture;\ngl_Position = vec4(0, 0, 0, 1.);\n// Enforce default value for ANGLE issue (https://bugs.chromium.org/p/angleproject/issues/detail?id=3941)\ngl_PointSize = 1.0;\n}\n",_fs:"varying vec4 outTexture;\nvoid main() {\n  gl_FragColor = outTexture;\n  gl_FragColor.g = outTexture.r / max(1.0, outTexture.a);\n}\n"}:{vs:"attribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float weights;\nvarying vec4 weightsTexture;\nuniform float radiusPixels;\nuniform float textureWidth;\nuniform vec4 commonBounds;\nuniform float weightsScale;\nvoid main()\n{\n  weightsTexture = vec4(weights * weightsScale, 0., 0., 1.);\n\n  float radiusTexels  = project_pixel_size(radiusPixels) * textureWidth / (commonBounds.z - commonBounds.x);\n  gl_PointSize = radiusTexels * 2.;\n\n  vec3 commonPosition = project_position(positions, positions64Low);\n\n  // map xy from commonBounds to [-1, 1]\n  gl_Position.xy = (commonPosition.xy - commonBounds.xy) / (commonBounds.zw - commonBounds.xy) ;\n  gl_Position.xy = (gl_Position.xy * 2.) - (1.);\n}\n",_fs:"varying vec4 weightsTexture;\n// Epanechnikov function, keeping for reference\n// float epanechnikovKDE(float u) {\n//   return 0.75 * (1.0 - u * u);\n// }\nfloat gaussianKDE(float u){\n  return pow(2.71828, -u*u/0.05555)/(1.77245385*0.166666);\n}\nvoid main()\n{\n  float dist = length(gl_PointCoord - vec2(0.5, 0.5));\n  if (dist > 0.5) {\n    discard;\n  }\n  gl_FragColor = weightsTexture * gaussianKDE(2. * dist);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"})}},{key:"_createWeightsTransform",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.context.gl,r=this.state.weightsTransform,i=this.state.weightsTexture;null===(e=r)||void 0===e||e.delete(),r=new Me.Z(n,(0,Ce.Z)({id:"".concat(this.id,"-weights-transform"),elementCount:1,_targetTexture:i,_targetTextureVarying:"weightsTexture"},t)),this.setState({weightsTransform:r})}},{key:"_setupResources",value:function(){var e=this.context.gl;this._createTextures();var t=this.state,n=t.textureSize,r=t.weightsTexture,i=t.maxWeightsTexture,o=this.getShaders("weights-transform");this._createWeightsTransform(o);var a=this.getShaders("max-weights-transform"),s=new Me.Z(e,(0,Ce.Z)((0,Ce.Z)({id:"".concat(this.id,"-max-weights-transform"),_sourceTextures:{inTexture:r},_targetTexture:i,_targetTextureVarying:"outTexture"},a),{},{elementCount:n*n}));this.setState({weightsTexture:r,maxWeightsTexture:i,maxWeightTransform:s,zoom:null,triPositionBuffer:new yt.Z(e,{byteLength:48,accessor:{size:3}}),triTexCoordBuffer:new yt.Z(e,{byteLength:48,accessor:{size:2}})})}},{key:"updateShaders",value:function(e){this._createWeightsTransform(e)}},{key:"_updateMaxWeightValue",value:function(){this.state.maxWeightTransform.run({parameters:{blend:!0,depthTest:!1,blendFunc:[1,1],blendEquation:32776}})}},{key:"_updateBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.context.viewport,n=[t.unproject([0,0]),t.unproject([t.width,0]),t.unproject([t.width,t.height]),t.unproject([0,t.height])].map((function(e){return e.map(Math.fround)})),r=br(n),i={visibleWorldBounds:r,viewportCorners:n},o=!1;if(e||!this.state.worldBounds||!_r(this.state.worldBounds,r)){var a=this._worldToCommonBounds(r),s=this._commonToWorldBounds(a);this.props.coordinateSystem===f.Df.LNGLAT&&(s[1]=Math.max(s[1],-85.051129),s[3]=Math.min(s[3],85.051129),s[0]=Math.max(s[0],-360),s[2]=Math.min(s[2],360));var u=this._worldToCommonBounds(s);i.worldBounds=s,i.normalizedCommonBounds=u,o=!0}return this.setState(i),o}},{key:"_updateTextureRenderingBounds",value:function(){var e=this.state,t=e.triPositionBuffer,n=e.triTexCoordBuffer,r=e.normalizedCommonBounds,i=e.viewportCorners,o=this.context.viewport;t.subData(xr(i,3));var a=i.map((function(e){return function(e,t){var n=(0,mt.Z)(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return[(e[0]-r)/(o-r),(e[1]-i)/(a-i)]}(o.projectPosition(e),r)}));n.subData(xr(a,2))}},{key:"_updateColorTexture",value:function(e){var t=e.props.colorRange,n=this.state.colorTexture,r=lt(t,!1,Uint8Array);n?n.setImageData({data:r,width:t.length}):n=new Xe.Z(this.context.gl,(0,Ce.Z)({data:r,width:t.length,height:1},Sr)),this.setState({colorTexture:n})}},{key:"_updateWeightmap",value:function(){var e,t=this,n=this.props,r=n.radiusPixels,i=n.colorDomain,o=n.aggregation,a=this.state,s=a.weightsTransform,u=a.worldBounds,l=a.textureSize,c=a.weightsTexture,A=a.weightsScale;this.state.isWeightMapDirty=!1;var f=this._worldToCommonBounds(u,{useLayerCoordinateSystem:!0});if(i&&"SUM"===o){var h=this.context.viewport.distanceScales.metersPerUnit[2]*(f[2]-f[0])/l;this.state.colorDomain=i.map((function(e){return e*h*A}))}else this.state.colorDomain=i||kr;var p={radiusPixels:r,commonBounds:f,textureWidth:l,weightsScale:A};s.update({elementCount:this.getNumInstances()}),(0,ke.s8)(this.context.gl,{clearColor:[0,0,0,0]},(function(){s.run({uniforms:p,parameters:{blend:!0,depthTest:!1,blendFunc:[1,1],blendEquation:32774},clearRenderTarget:!0,attributes:t.getAttributes(),moduleSettings:t.getModuleSettings()})})),this._updateMaxWeightValue(),c.setParameters((e={},(0,ge.Z)(e,10240,9729),(0,ge.Z)(e,10241,9729),e))}},{key:"_debouncedUpdateWeightmap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state.updateTimer,n=this.props.debounceTimeout;e?(t=null,this._updateBounds(!0),this._updateTextureRenderingBounds(),this.setState({isWeightMapDirty:!0})):(this.setState({isWeightMapDirty:!1}),clearTimeout(t),t=setTimeout(this._debouncedUpdateWeightmap.bind(this,!0),n)),this.setState({updateTimer:t})}},{key:"_worldToCommonBounds",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.useLayerCoordinateSystem,o=void 0!==i&&i,a=(0,mt.Z)(e,4),s=a[0],u=a[1],l=a[2],c=a[3],A=this.context.viewport,h=this.state.textureSize,p=this.props.coordinateSystem,d=o&&(p===f.Df.LNGLAT_OFFSETS||p===f.Df.METER_OFFSETS),g=d?A.projectPosition(this.props.coordinateOrigin):[0,0],v=2*h/A.scale;return o&&!d?(t=this.projectPosition([s,u,0]),n=this.projectPosition([l,c,0])):(t=A.projectPosition([s,u,0]),n=A.projectPosition([l,c,0])),Cr([t[0]-g[0],t[1]-g[1],n[0]-g[0],n[1]-g[1]],v,v)}},{key:"_commonToWorldBounds",value:function(e){var t=(0,mt.Z)(e,4),n=t[0],r=t[1],i=t[2],o=t[3],a=this.context.viewport,s=a.unprojectPosition([n,r]),u=a.unprojectPosition([i,o]);return s.slice(0,2).concat(u.slice(0,2))}}]),n}(vt);(0,Be.Z)(Ir,"layerName","HeatmapLayer"),(0,Be.Z)(Ir,"defaultProps",Tr);var Lr=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n)}(re.Z);(0,Be.Z)(Lr,"layerName","GreatCircleLayer"),(0,Be.Z)(Lr,"defaultProps",{getHeight:{type:"accessor",value:0},greatCircle:!0});var Rr=(0,Ce.Z)({},fe.Z.defaultProps),Dr=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"indexToBounds",value:function(){return null}},{key:"renderLayers",value:function(){var e=this.props,t=e.elevationScale,n=e.extruded,r=e.wireframe,i=e.filled,o=e.stroked,a=e.lineWidthUnits,s=e.lineWidthScale,u=e.lineWidthMinPixels,l=e.lineWidthMaxPixels,c=e.lineJointRounded,A=e.lineMiterLimit,f=e.lineDashJustified,h=e.getElevation,p=e.getFillColor,d=e.getLineColor,g=e.getLineWidth,v=this.props,y=v.updateTriggers,m=v.material,b=v.transitions;return new(this.getSubLayerClass("cell",fe.Z))({filled:i,wireframe:r,extruded:n,elevationScale:t,stroked:o,lineWidthUnits:a,lineWidthScale:s,lineWidthMinPixels:u,lineWidthMaxPixels:l,lineJointRounded:c,lineMiterLimit:A,lineDashJustified:f,material:m,transitions:b,getElevation:h,getFillColor:p,getLineColor:d,getLineWidth:g},this.getSubLayerProps({id:"cell",updateTriggers:y&&{getElevation:y.getElevation,getFillColor:y.getFillColor,getLineColor:y.getLineColor,getLineWidth:y.getLineWidth}}),this.indexToBounds())}}]),n}(d.Z);(0,Be.Z)(Dr,"layerName","GeoCellLayer"),(0,Be.Z)(Dr,"defaultProps",Rr);var Zr=n(1277),Ur=n.n(Zr),jr=180/Math.PI;function Nr(e,t,n){var r=1<<t;return[(e[0]+n[0])/r,(e[1]+n[1])/r]}function zr(e){return e>=.5?1/3*(4*e*e-1):1/3*(1-4*(1-e)*(1-e))}function Qr(e){return[zr(e[0]),zr(e[1])]}function Hr(e,t){var n=(0,mt.Z)(t,2),r=n[0],i=n[1];switch(e){case 0:return[1,r,i];case 1:return[-r,1,i];case 2:return[-r,-i,1];case 3:return[-1,-i,-r];case 4:return[i,-1,-r];case 5:return[i,r,-1];default:throw new Error("Invalid face")}}function Vr(e){var t=(0,mt.Z)(e,3),n=t[0],r=t[1],i=t[2],o=Math.atan2(i,Math.sqrt(n*n+r*r));return[Math.atan2(r,n)*jr,o*jr]}function Gr(e,t,n,r){if(0===r){1===n&&(t[0]=e-1-t[0],t[1]=e-1-t[1]);var i=t[0];t[0]=t[1],t[1]=i}}function Wr(e){if("string"===typeof e){if(e.indexOf("/")>0)return e;e=function(e){var t=e.padEnd(16,"0");return Ur().fromString(t,16)}(e)}return function(e){for(var t=Ur().fromString(e,!0,10).toString(2);t.length<64;)t="0"+t;for(var n=t.lastIndexOf("1"),r=t.substring(0,3),i=t.substring(3,n),o=i.length/2,a=Ur().fromString(r,!0,2).toString(10),s=Ur().fromString(i,!0,2).toString(4);s.length<o;)s="0"+s;return"".concat(a,"/").concat(s)}(e.toString())}function Kr(e){var t=function(e){for(var t,n=e.split("/"),r=parseInt(n[0],10),i=n[1],o=i.length,a=[0,0],s=o-1;s>=0;s--){t=o-s;var u=i[s],l=0,c=0;"1"===u?c=1:"2"===u?(l=1,c=1):"3"===u&&(l=1);var A=Math.pow(2,t-1);Gr(A,a,l,c),a[0]+=A*l,a[1]+=A*c}if(r%2===1){var f=a[0];a[0]=a[1],a[1]=f}return{face:r,ij:a,level:t}}(Wr(e));return function(e){for(var t=e.face,n=e.ij,r=e.level,i=[[0,0],[0,1],[1,1],[1,0],[0,0]],o=Math.max(1,Math.ceil(100*Math.pow(2,-r))),a=new Float64Array(4*o*2+2),s=0,u=0,l=0;l<4;l++)for(var c=i[l].slice(0),A=i[l+1],f=(A[0]-c[0])/o,h=(A[1]-c[1])/o,p=0;p<o;p++){c[0]+=f,c[1]+=h;var d=Vr(Hr(t,Qr(Nr(n,r,c))));Math.abs(d[1])>89.999&&(d[0]=u);var g=d[0]-u;d[0]+=g>180?-360:g<-180?360:0,a[s++]=d[0],a[s++]=d[1],u=d[0]}return a[s++]=a[0],a[s++]=a[1],a}(t)}var qr=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"indexToBounds",value:function(){var e=this.props,t=e.data,n=e.getS2Token;return{data:t,_normalize:!1,positionFormat:"XY",getPolygon:function(e,t){return Kr(n(e,t))}}}}]),n}(Dr);(0,Be.Z)(qr,"layerName","S2Layer"),(0,Be.Z)(qr,"defaultProps",{getS2Token:{type:"accessor",value:function(e){return e.token}}});var Xr=n(8611);function Yr(e){var t=function(e){for(var t=0,n=0,r=1<<e.length,i=r/512,o=0;o<e.length;o++){r>>=1;var a=parseInt(e[o]);a%2&&(t|=r),a>1&&(n|=r)}return[[t/i,512-n/i],[(t+.99)/i,512-(n+.99)/i]]}(e),n=(0,mt.Z)(t,2),r=n[0],i=n[1],o=(0,Xr.es)(r),a=(0,mt.Z)(o,2),s=a[0],u=a[1],l=(0,Xr.es)(i),c=(0,mt.Z)(l,2),A=c[0],f=c[1];return[A,u,A,f,s,f,s,u,A,u]}var Jr=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"indexToBounds",value:function(){var e=this.props,t=e.data,n=e.getQuadkey;return{data:t,_normalize:!1,positionFormat:"XY",getPolygon:function(e,t){return Yr(n(e,t))}}}}]),n}(Dr);(0,Be.Z)(Jr,"layerName","QuadkeyLayer"),(0,Be.Z)(Jr,"defaultProps",{getQuadkey:{type:"accessor",value:function(e){return e.quadkey}}});var $r=function(e){var t,n="undefined"!==typeof(e=e||{})?e:{},r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);var i,o=[],a="";document.currentScript&&(a=document.currentScript.src),a=0!==a.indexOf("blob:")?a.substr(0,a.lastIndexOf("/")+1):"",i=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)t(r.response);else{var i=q(e);i?t(i.buffer):n()}},r.onerror=n,r.send(null)};var s=n.print||console.log.bind(console),u=n.printErr||console.warn.bind(console);for(t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);r=null,n.arguments&&(o=n.arguments);var l=0,c=function(){return l};var A=!1;function f(e){var t,r=n["_"+e];return t="Cannot call unknown function "+e+", make sure it is exported",r||se("Assertion failed: "+t),r}function h(e,t,n,r,i){var o={string:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(n>=o)break;t[n++]=s}else if(s<=2047){if(n+1>=o)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=o)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}t[n]=0})(e,y,t,n)})(e,t=$(n),n)}return t},array:function(e){var t=$(e.length);return function(e,t){v.set(e,t)}(e,t),t}};var a=f(e),s=[],u=0;if(r)for(var l=0;l<r.length;l++){var c=o[n[l]];c?(0===u&&(u=te()),s[l]=c(r[l])):s[l]=r[l]}var A=a.apply(null,s);return A=function(e){return"string"===t?d(e):"boolean"===t?Boolean(e):e}(A),0!==u&&ee(u),A}var p="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function d(e,t){return e?function(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&p)return p.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var l=a-65536;o+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}(y,e,t):""}var g,v,y,m,b,_,w;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function x(e,t){return e%t>0&&(e+=t-e%t),e}function C(e){g=e,n.HEAP8=v=new Int8Array(e),n.HEAP16=m=new Int16Array(e),n.HEAP32=b=new Int32Array(e),n.HEAPU8=y=new Uint8Array(e),n.HEAPU16=new Uint16Array(e),n.HEAPU32=new Uint32Array(e),n.HEAPF32=_=new Float32Array(e),n.HEAPF64=w=new Float64Array(e)}var B=n.TOTAL_MEMORY||33554432;function E(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"===typeof r?void 0===t.arg?n.dynCall_v(r):n.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}B=(g=n.buffer?n.buffer:new ArrayBuffer(B)).byteLength,C(g),b[6004]=5266928;var S=[],k=[],O=[],T=[];var P=Math.abs,M=Math.ceil,F=Math.floor,I=Math.min,L=0,R=null,D=null;n.preloadedImages={},n.preloadedAudios={};var Z,U,j=null,N="data:application/octet-stream;base64,";function z(e){return String.prototype.startsWith?e.startsWith(N):0===e.indexOf(N)}j="data:application/octet-stream;base64,AAAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAABAAAAAMAAAAGAAAABQAAAAIAAAAAAAAAAgAAAAMAAAABAAAABAAAAAYAAAAAAAAABQAAAAMAAAAGAAAABAAAAAUAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAABAAAABQAAAAIAAAAAAAAAAQAAAAMAAAAGAAAABAAAAAYAAAAAAAAABQAAAAIAAAABAAAABAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAgAAAAMAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAABgAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAABgAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAAAAAAABgAAAAAAAAADAAAAAgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAUAAAAEAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAEAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAUAAAACAAAABAAAAAMAAAAIAAAAAQAAAAcAAAAGAAAACQAAAAAAAAADAAAAAgAAAAIAAAAGAAAACgAAAAsAAAAAAAAAAQAAAAUAAAADAAAADQAAAAEAAAAHAAAABAAAAAwAAAAAAAAABAAAAH8AAAAPAAAACAAAAAMAAAAAAAAADAAAAAUAAAACAAAAEgAAAAoAAAAIAAAAAAAAABAAAAAGAAAADgAAAAsAAAARAAAAAQAAAAkAAAACAAAABwAAABUAAAAJAAAAEwAAAAMAAAANAAAAAQAAAAgAAAAFAAAAFgAAABAAAAAEAAAAAAAAAA8AAAAJAAAAEwAAAA4AAAAUAAAAAQAAAAcAAAAGAAAACgAAAAsAAAAYAAAAFwAAAAUAAAACAAAAEgAAAAsAAAARAAAAFwAAABkAAAACAAAABgAAAAoAAAAMAAAAHAAAAA0AAAAaAAAABAAAAA8AAAADAAAADQAAABoAAAAVAAAAHQAAAAMAAAAMAAAABwAAAA4AAAB/AAAAEQAAABsAAAAJAAAAFAAAAAYAAAAPAAAAFgAAABwAAAAfAAAABAAAAAgAAAAMAAAAEAAAABIAAAAhAAAAHgAAAAgAAAAFAAAAFgAAABEAAAALAAAADgAAAAYAAAAjAAAAGQAAABsAAAASAAAAGAAAAB4AAAAgAAAABQAAAAoAAAAQAAAAEwAAACIAAAAUAAAAJAAAAAcAAAAVAAAACQAAABQAAAAOAAAAEwAAAAkAAAAoAAAAGwAAACQAAAAVAAAAJgAAABMAAAAiAAAADQAAAB0AAAAHAAAAFgAAABAAAAApAAAAIQAAAA8AAAAIAAAAHwAAABcAAAAYAAAACwAAAAoAAAAnAAAAJQAAABkAAAAYAAAAfwAAACAAAAAlAAAACgAAABcAAAASAAAAGQAAABcAAAARAAAACwAAAC0AAAAnAAAAIwAAABoAAAAqAAAAHQAAACsAAAAMAAAAHAAAAA0AAAAbAAAAKAAAACMAAAAuAAAADgAAABQAAAARAAAAHAAAAB8AAAAqAAAALAAAAAwAAAAPAAAAGgAAAB0AAAArAAAAJgAAAC8AAAANAAAAGgAAABUAAAAeAAAAIAAAADAAAAAyAAAAEAAAABIAAAAhAAAAHwAAACkAAAAsAAAANQAAAA8AAAAWAAAAHAAAACAAAAAeAAAAGAAAABIAAAA0AAAAMgAAACUAAAAhAAAAHgAAADEAAAAwAAAAFgAAABAAAAApAAAAIgAAABMAAAAmAAAAFQAAADYAAAAkAAAAMwAAACMAAAAuAAAALQAAADgAAAARAAAAGwAAABkAAAAkAAAAFAAAACIAAAATAAAANwAAACgAAAA2AAAAJQAAACcAAAA0AAAAOQAAABgAAAAXAAAAIAAAACYAAAB/AAAAIgAAADMAAAAdAAAALwAAABUAAAAnAAAAJQAAABkAAAAXAAAAOwAAADkAAAAtAAAAKAAAABsAAAAkAAAAFAAAADwAAAAuAAAANwAAACkAAAAxAAAANQAAAD0AAAAWAAAAIQAAAB8AAAAqAAAAOgAAACsAAAA+AAAAHAAAACwAAAAaAAAAKwAAAD4AAAAvAAAAQAAAABoAAAAqAAAAHQAAACwAAAA1AAAAOgAAAEEAAAAcAAAAHwAAACoAAAAtAAAAJwAAACMAAAAZAAAAPwAAADsAAAA4AAAALgAAADwAAAA4AAAARAAAABsAAAAoAAAAIwAAAC8AAAAmAAAAKwAAAB0AAABFAAAAMwAAAEAAAAAwAAAAMQAAAB4AAAAhAAAAQwAAAEIAAAAyAAAAMQAAAH8AAAA9AAAAQgAAACEAAAAwAAAAKQAAADIAAAAwAAAAIAAAAB4AAABGAAAAQwAAADQAAAAzAAAARQAAADYAAABHAAAAJgAAAC8AAAAiAAAANAAAADkAAABGAAAASgAAACAAAAAlAAAAMgAAADUAAAA9AAAAQQAAAEsAAAAfAAAAKQAAACwAAAA2AAAARwAAADcAAABJAAAAIgAAADMAAAAkAAAANwAAACgAAAA2AAAAJAAAAEgAAAA8AAAASQAAADgAAABEAAAAPwAAAE0AAAAjAAAALgAAAC0AAAA5AAAAOwAAAEoAAABOAAAAJQAAACcAAAA0AAAAOgAAAH8AAAA+AAAATAAAACwAAABBAAAAKgAAADsAAAA/AAAATgAAAE8AAAAnAAAALQAAADkAAAA8AAAASAAAAEQAAABQAAAAKAAAADcAAAAuAAAAPQAAADUAAAAxAAAAKQAAAFEAAABLAAAAQgAAAD4AAAArAAAAOgAAACoAAABSAAAAQAAAAEwAAAA/AAAAfwAAADgAAAAtAAAATwAAADsAAABNAAAAQAAAAC8AAAA+AAAAKwAAAFQAAABFAAAAUgAAAEEAAAA6AAAANQAAACwAAABWAAAATAAAAEsAAABCAAAAQwAAAFEAAABVAAAAMQAAADAAAAA9AAAAQwAAAEIAAAAyAAAAMAAAAFcAAABVAAAARgAAAEQAAAA4AAAAPAAAAC4AAABaAAAATQAAAFAAAABFAAAAMwAAAEAAAAAvAAAAWQAAAEcAAABUAAAARgAAAEMAAAA0AAAAMgAAAFMAAABXAAAASgAAAEcAAABZAAAASQAAAFsAAAAzAAAARQAAADYAAABIAAAAfwAAAEkAAAA3AAAAUAAAADwAAABYAAAASQAAAFsAAABIAAAAWAAAADYAAABHAAAANwAAAEoAAABOAAAAUwAAAFwAAAA0AAAAOQAAAEYAAABLAAAAQQAAAD0AAAA1AAAAXgAAAFYAAABRAAAATAAAAFYAAABSAAAAYAAAADoAAABBAAAAPgAAAE0AAAA/AAAARAAAADgAAABdAAAATwAAAFoAAABOAAAASgAAADsAAAA5AAAAXwAAAFwAAABPAAAATwAAAE4AAAA/AAAAOwAAAF0AAABfAAAATQAAAFAAAABEAAAASAAAADwAAABjAAAAWgAAAFgAAABRAAAAVQAAAF4AAABlAAAAPQAAAEIAAABLAAAAUgAAAGAAAABUAAAAYgAAAD4AAABMAAAAQAAAAFMAAAB/AAAASgAAAEYAAABkAAAAVwAAAFwAAABUAAAARQAAAFIAAABAAAAAYQAAAFkAAABiAAAAVQAAAFcAAABlAAAAZgAAAEIAAABDAAAAUQAAAFYAAABMAAAASwAAAEEAAABoAAAAYAAAAF4AAABXAAAAUwAAAGYAAABkAAAAQwAAAEYAAABVAAAAWAAAAEgAAABbAAAASQAAAGMAAABQAAAAaQAAAFkAAABhAAAAWwAAAGcAAABFAAAAVAAAAEcAAABaAAAATQAAAFAAAABEAAAAagAAAF0AAABjAAAAWwAAAEkAAABZAAAARwAAAGkAAABYAAAAZwAAAFwAAABTAAAATgAAAEoAAABsAAAAZAAAAF8AAABdAAAATwAAAFoAAABNAAAAbQAAAF8AAABqAAAAXgAAAFYAAABRAAAASwAAAGsAAABoAAAAZQAAAF8AAABcAAAATwAAAE4AAABtAAAAbAAAAF0AAABgAAAAaAAAAGIAAABuAAAATAAAAFYAAABSAAAAYQAAAH8AAABiAAAAVAAAAGcAAABZAAAAbwAAAGIAAABuAAAAYQAAAG8AAABSAAAAYAAAAFQAAABjAAAAUAAAAGkAAABYAAAAagAAAFoAAABxAAAAZAAAAGYAAABTAAAAVwAAAGwAAAByAAAAXAAAAGUAAABmAAAAawAAAHAAAABRAAAAVQAAAF4AAABmAAAAZQAAAFcAAABVAAAAcgAAAHAAAABkAAAAZwAAAFsAAABhAAAAWQAAAHQAAABpAAAAbwAAAGgAAABrAAAAbgAAAHMAAABWAAAAXgAAAGAAAABpAAAAWAAAAGcAAABbAAAAcQAAAGMAAAB0AAAAagAAAF0AAABjAAAAWgAAAHUAAABtAAAAcQAAAGsAAAB/AAAAZQAAAF4AAABzAAAAaAAAAHAAAABsAAAAZAAAAF8AAABcAAAAdgAAAHIAAABtAAAAbQAAAGwAAABdAAAAXwAAAHUAAAB2AAAAagAAAG4AAABiAAAAaAAAAGAAAAB3AAAAbwAAAHMAAABvAAAAYQAAAG4AAABiAAAAdAAAAGcAAAB3AAAAcAAAAGsAAABmAAAAZQAAAHgAAABzAAAAcgAAAHEAAABjAAAAdAAAAGkAAAB1AAAAagAAAHkAAAByAAAAcAAAAGQAAABmAAAAdgAAAHgAAABsAAAAcwAAAG4AAABrAAAAaAAAAHgAAAB3AAAAcAAAAHQAAABnAAAAdwAAAG8AAABxAAAAaQAAAHkAAAB1AAAAfwAAAG0AAAB2AAAAcQAAAHkAAABqAAAAdgAAAHgAAABsAAAAcgAAAHUAAAB5AAAAbQAAAHcAAABvAAAAcwAAAG4AAAB5AAAAdAAAAHgAAAB4AAAAcwAAAHIAAABwAAAAeQAAAHcAAAB2AAAAeQAAAHQAAAB4AAAAdwAAAHUAAABxAAAAdgAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAADAAAABQAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAgAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAABQAAAAUAAAAAAAAAAAAAAP////8BAAAAAAAAAAMAAAAEAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAQAAAP//////////AQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAIAAAAAAAAAAAAAAAEAAAACAAAABgAAAAQAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAoAAAACAAAAAAAAAAAAAAABAAAAAQAAAAUAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAAAAAAAAAAAAAEAAAADAAAABwAAAAYAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAJAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAAAAAAAAAAAAQAAAAQAAAAIAAAACgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAAAAAAAAAAABAAAACwAAAA8AAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAgAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAAAAAAAAAAABAAAADAAAABAAAAAMAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAEAAAAKAAAAEwAAAAgAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAgAAAAAAAAAAAAAAAQAAAA0AAAARAAAADQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAAAAAAAAAAAAAEAAAAOAAAAEgAAAA8AAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAAAAAABAAAA//////////8TAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABIAAAAAAAAAGAAAAAAAAAAhAAAAAAAAAB4AAAAAAAAAIAAAAAMAAAAxAAAAAQAAADAAAAADAAAAMgAAAAMAAAAIAAAAAAAAAAUAAAAFAAAACgAAAAUAAAAWAAAAAAAAABAAAAAAAAAAEgAAAAAAAAApAAAAAQAAACEAAAAAAAAAHgAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAgAAAAUAAAAPAAAAAQAAAAgAAAAAAAAABQAAAAUAAAAfAAAAAQAAABYAAAAAAAAAEAAAAAAAAAACAAAAAAAAAAYAAAAAAAAADgAAAAAAAAAKAAAAAAAAAAsAAAAAAAAAEQAAAAMAAAAYAAAAAQAAABcAAAADAAAAGQAAAAMAAAAAAAAAAAAAAAEAAAAFAAAACQAAAAUAAAAFAAAAAAAAAAIAAAAAAAAABgAAAAAAAAASAAAAAQAAAAoAAAAAAAAACwAAAAAAAAAEAAAAAQAAAAMAAAAFAAAABwAAAAUAAAAIAAAAAQAAAAAAAAAAAAAAAQAAAAUAAAAQAAAAAQAAAAUAAAAAAAAAAgAAAAAAAAAHAAAAAAAAABUAAAAAAAAAJgAAAAAAAAAJAAAAAAAAABMAAAAAAAAAIgAAAAMAAAAOAAAAAQAAABQAAAADAAAAJAAAAAMAAAADAAAAAAAAAA0AAAAFAAAAHQAAAAUAAAABAAAAAAAAAAcAAAAAAAAAFQAAAAAAAAAGAAAAAQAAAAkAAAAAAAAAEwAAAAAAAAAEAAAAAgAAAAwAAAAFAAAAGgAAAAUAAAAAAAAAAQAAAAMAAAAAAAAADQAAAAUAAAACAAAAAQAAAAEAAAAAAAAABwAAAAAAAAAaAAAAAAAAACoAAAAAAAAAOgAAAAAAAAAdAAAAAAAAACsAAAAAAAAAPgAAAAMAAAAmAAAAAQAAAC8AAAADAAAAQAAAAAMAAAAMAAAAAAAAABwAAAAFAAAALAAAAAUAAAANAAAAAAAAABoAAAAAAAAAKgAAAAAAAAAVAAAAAQAAAB0AAAAAAAAAKwAAAAAAAAAEAAAAAwAAAA8AAAAFAAAAHwAAAAUAAAADAAAAAQAAAAwAAAAAAAAAHAAAAAUAAAAHAAAAAQAAAA0AAAAAAAAAGgAAAAAAAAAfAAAAAAAAACkAAAAAAAAAMQAAAAAAAAAsAAAAAAAAADUAAAAAAAAAPQAAAAMAAAA6AAAAAQAAAEEAAAADAAAASwAAAAMAAAAPAAAAAAAAABYAAAAFAAAAIQAAAAUAAAAcAAAAAAAAAB8AAAAAAAAAKQAAAAAAAAAqAAAAAQAAACwAAAAAAAAANQAAAAAAAAAEAAAABAAAAAgAAAAFAAAAEAAAAAUAAAAMAAAAAQAAAA8AAAAAAAAAFgAAAAUAAAAaAAAAAQAAABwAAAAAAAAAHwAAAAAAAAAyAAAAAAAAADAAAAAAAAAAMQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAIQAAAAMAAAAYAAAAAwAAABIAAAADAAAAEAAAAAMAAABGAAAAAAAAAEMAAAAAAAAAQgAAAAMAAAA0AAAAAwAAADIAAAAAAAAAMAAAAAAAAAAlAAAAAwAAACAAAAAAAAAAHgAAAAMAAABTAAAAAAAAAFcAAAADAAAAVQAAAAMAAABKAAAAAwAAAEYAAAAAAAAAQwAAAAAAAAA5AAAAAQAAADQAAAADAAAAMgAAAAAAAAAZAAAAAAAAABcAAAAAAAAAGAAAAAMAAAARAAAAAAAAAAsAAAADAAAACgAAAAMAAAAOAAAAAwAAAAYAAAADAAAAAgAAAAMAAAAtAAAAAAAAACcAAAAAAAAAJQAAAAMAAAAjAAAAAwAAABkAAAAAAAAAFwAAAAAAAAAbAAAAAwAAABEAAAAAAAAACwAAAAMAAAA/AAAAAAAAADsAAAADAAAAOQAAAAMAAAA4AAAAAwAAAC0AAAAAAAAAJwAAAAAAAAAuAAAAAwAAACMAAAADAAAAGQAAAAAAAAAkAAAAAAAAABQAAAAAAAAADgAAAAMAAAAiAAAAAAAAABMAAAADAAAACQAAAAMAAAAmAAAAAwAAABUAAAADAAAABwAAAAMAAAA3AAAAAAAAACgAAAAAAAAAGwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAFAAAAAAAAAAzAAAAAwAAACIAAAAAAAAAEwAAAAMAAABIAAAAAAAAADwAAAADAAAALgAAAAMAAABJAAAAAwAAADcAAAAAAAAAKAAAAAAAAABHAAAAAwAAADYAAAADAAAAJAAAAAAAAABAAAAAAAAAAC8AAAAAAAAAJgAAAAMAAAA+AAAAAAAAACsAAAADAAAAHQAAAAMAAAA6AAAAAwAAACoAAAADAAAAGgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAMwAAAAMAAABSAAAAAwAAAEAAAAAAAAAALwAAAAAAAABMAAAAAwAAAD4AAAAAAAAAKwAAAAMAAABhAAAAAAAAAFkAAAADAAAARwAAAAMAAABiAAAAAwAAAFQAAAAAAAAARQAAAAAAAABgAAAAAwAAAFIAAAADAAAAQAAAAAAAAABLAAAAAAAAAEEAAAAAAAAAOgAAAAMAAAA9AAAAAAAAADUAAAADAAAALAAAAAMAAAAxAAAAAwAAACkAAAADAAAAHwAAAAMAAABeAAAAAAAAAFYAAAAAAAAATAAAAAMAAABRAAAAAwAAAEsAAAAAAAAAQQAAAAAAAABCAAAAAwAAAD0AAAAAAAAANQAAAAMAAABrAAAAAAAAAGgAAAADAAAAYAAAAAMAAABlAAAAAwAAAF4AAAAAAAAAVgAAAAAAAABVAAAAAwAAAFEAAAADAAAASwAAAAAAAAA5AAAAAAAAADsAAAAAAAAAPwAAAAMAAABKAAAAAAAAAE4AAAADAAAATwAAAAMAAABTAAAAAwAAAFwAAAADAAAAXwAAAAMAAAAlAAAAAAAAACcAAAADAAAALQAAAAMAAAA0AAAAAAAAADkAAAAAAAAAOwAAAAAAAABGAAAAAwAAAEoAAAAAAAAATgAAAAMAAAAYAAAAAAAAABcAAAADAAAAGQAAAAMAAAAgAAAAAwAAACUAAAAAAAAAJwAAAAMAAAAyAAAAAwAAADQAAAAAAAAAOQAAAAAAAAAuAAAAAAAAADwAAAAAAAAASAAAAAMAAAA4AAAAAAAAAEQAAAADAAAAUAAAAAMAAAA/AAAAAwAAAE0AAAADAAAAWgAAAAMAAAAbAAAAAAAAACgAAAADAAAANwAAAAMAAAAjAAAAAAAAAC4AAAAAAAAAPAAAAAAAAAAtAAAAAwAAADgAAAAAAAAARAAAAAMAAAAOAAAAAAAAABQAAAADAAAAJAAAAAMAAAARAAAAAwAAABsAAAAAAAAAKAAAAAMAAAAZAAAAAwAAACMAAAAAAAAALgAAAAAAAABHAAAAAAAAAFkAAAAAAAAAYQAAAAMAAABJAAAAAAAAAFsAAAADAAAAZwAAAAMAAABIAAAAAwAAAFgAAAADAAAAaQAAAAMAAAAzAAAAAAAAAEUAAAADAAAAVAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAWQAAAAAAAAA3AAAAAwAAAEkAAAAAAAAAWwAAAAMAAAAmAAAAAAAAAC8AAAADAAAAQAAAAAMAAAAiAAAAAwAAADMAAAAAAAAARQAAAAMAAAAkAAAAAwAAADYAAAAAAAAARwAAAAAAAABgAAAAAAAAAGgAAAAAAAAAawAAAAMAAABiAAAAAAAAAG4AAAADAAAAcwAAAAMAAABhAAAAAwAAAG8AAAADAAAAdwAAAAMAAABMAAAAAAAAAFYAAAADAAAAXgAAAAMAAABSAAAAAAAAAGAAAAAAAAAAaAAAAAAAAABUAAAAAwAAAGIAAAAAAAAAbgAAAAMAAAA6AAAAAAAAAEEAAAADAAAASwAAAAMAAAA+AAAAAwAAAEwAAAAAAAAAVgAAAAMAAABAAAAAAwAAAFIAAAAAAAAAYAAAAAAAAABVAAAAAAAAAFcAAAAAAAAAUwAAAAMAAABlAAAAAAAAAGYAAAADAAAAZAAAAAMAAABrAAAAAwAAAHAAAAADAAAAcgAAAAMAAABCAAAAAAAAAEMAAAADAAAARgAAAAMAAABRAAAAAAAAAFUAAAAAAAAAVwAAAAAAAABeAAAAAwAAAGUAAAAAAAAAZgAAAAMAAAAxAAAAAAAAADAAAAADAAAAMgAAAAMAAAA9AAAAAwAAAEIAAAAAAAAAQwAAAAMAAABLAAAAAwAAAFEAAAAAAAAAVQAAAAAAAABfAAAAAAAAAFwAAAAAAAAAUwAAAAAAAABPAAAAAAAAAE4AAAAAAAAASgAAAAMAAAA/AAAAAQAAADsAAAADAAAAOQAAAAMAAABtAAAAAAAAAGwAAAAAAAAAZAAAAAUAAABdAAAAAQAAAF8AAAAAAAAAXAAAAAAAAABNAAAAAQAAAE8AAAAAAAAATgAAAAAAAAB1AAAABAAAAHYAAAAFAAAAcgAAAAUAAABqAAAAAQAAAG0AAAAAAAAAbAAAAAAAAABaAAAAAQAAAF0AAAABAAAAXwAAAAAAAABaAAAAAAAAAE0AAAAAAAAAPwAAAAAAAABQAAAAAAAAAEQAAAAAAAAAOAAAAAMAAABIAAAAAQAAADwAAAADAAAALgAAAAMAAABqAAAAAAAAAF0AAAAAAAAATwAAAAUAAABjAAAAAQAAAFoAAAAAAAAATQAAAAAAAABYAAAAAQAAAFAAAAAAAAAARAAAAAAAAAB1AAAAAwAAAG0AAAAFAAAAXwAAAAUAAABxAAAAAQAAAGoAAAAAAAAAXQAAAAAAAABpAAAAAQAAAGMAAAABAAAAWgAAAAAAAABpAAAAAAAAAFgAAAAAAAAASAAAAAAAAABnAAAAAAAAAFsAAAAAAAAASQAAAAMAAABhAAAAAQAAAFkAAAADAAAARwAAAAMAAABxAAAAAAAAAGMAAAAAAAAAUAAAAAUAAAB0AAAAAQAAAGkAAAAAAAAAWAAAAAAAAABvAAAAAQAAAGcAAAAAAAAAWwAAAAAAAAB1AAAAAgAAAGoAAAAFAAAAWgAAAAUAAAB5AAAAAQAAAHEAAAAAAAAAYwAAAAAAAAB3AAAAAQAAAHQAAAABAAAAaQAAAAAAAAB3AAAAAAAAAG8AAAAAAAAAYQAAAAAAAABzAAAAAAAAAG4AAAAAAAAAYgAAAAMAAABrAAAAAQAAAGgAAAADAAAAYAAAAAMAAAB5AAAAAAAAAHQAAAAAAAAAZwAAAAUAAAB4AAAAAQAAAHcAAAAAAAAAbwAAAAAAAABwAAAAAQAAAHMAAAAAAAAAbgAAAAAAAAB1AAAAAQAAAHEAAAAFAAAAaQAAAAUAAAB2AAAAAQAAAHkAAAAAAAAAdAAAAAAAAAByAAAAAQAAAHgAAAABAAAAdwAAAAAAAAByAAAAAAAAAHAAAAAAAAAAawAAAAAAAABkAAAAAAAAAGYAAAAAAAAAZQAAAAMAAABTAAAAAQAAAFcAAAADAAAAVQAAAAMAAAB2AAAAAAAAAHgAAAAAAAAAcwAAAAUAAABsAAAAAQAAAHIAAAAAAAAAcAAAAAAAAABcAAAAAQAAAGQAAAAAAAAAZgAAAAAAAAB1AAAAAAAAAHkAAAAFAAAAdwAAAAUAAABtAAAAAQAAAHYAAAAAAAAAeAAAAAAAAABfAAAAAQAAAGwAAAABAAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAB+ogX28rbpPxqumpJv+fM/165tC4ns9D+XaEnTqUsEQFrOtNlC4PA/3U+0XG6P9b9TdUUBxTTjP4PUp8ex1ty/B1rD/EN43z+lcDi6LLrZP/a45NWEHMY/oJ5ijLDZ+j/xw3rjxWPjP2B8A46ioQdAotff3wla2z+FMSpA1jj+v6b5Y1mtPbS/cIu8K0F457/2esiyJpDNv98k5Ts2NeA/pvljWa09tD88ClUJ60MDQPZ6yLImkM0/4ONKxa0UBcD2uOTVhBzGv5G7JRxGave/8cN648Vj47+HCwtkjAXIv6LX398JWtu/qyheaCAL9D9TdUUBxTTjv4gyTxslhwVAB1rD/EN4378EH/28teoFwH6iBfbytum/F6ztFYdK/r/Xrm0Liez0vwcS6wNGWeO/Ws602ULg8L9TCtRLiLT8P8pi5RexJsw/BlIKPVwR5T95Wyu0/QjnP5PjoT7YYcu/mBhKZ6zrwj8wRYS7NebuP3qW6geh+Ls/SLrixebL3r+pcyymN9XrPwmkNHp7xec/GWNMZVAA17+82s+x2BLiPwn2ytbJ9ek/LgEH1sMS1j8yp/2LhTfeP+SnWwtQBbu/d38gkp5X7z8ytsuHaADGPzUYObdf1+m/7IauECWhwz+cjSACjzniP76Z+wUhN9K/1+GEKzup67+/GYr/04baPw6idWOvsuc/ZedTWsRa5b/EJQOuRzi0v/OncYhHPes/h49PixY53j+i8wWfC03Nvw2idWOvsue/ZedTWsRa5T/EJQOuRzi0P/KncYhHPeu/iY9PixY53r+i8wWfC03NP9anWwtQBbs/d38gkp5X778ytsuHaADGvzUYObdf1+k/74auECWhw7+cjSACjzniv8CZ+wUhN9I/1uGEKzup6z+/GYr/04bavwmkNHp7xee/F2NMZVAA1z+82s+x2BLivwr2ytbJ9em/KwEH1sMS1r8yp/2LhTfev81i5RexJsy/BlIKPVwR5b95Wyu0/Qjnv5DjoT7YYcs/nBhKZ6zrwr8wRYS7Nebuv3OW6geh+Lu/SLrixebL3j+pcyymN9Xrv8rHIFfWehZAMBwUdlo0DECTUc17EOb2PxpVB1SWChdAzjbhb9pTDUDQhmdvECX5P9FlMKCC9+g/IIAzjELgE0DajDngMv8GQFhWDmDPjNs/y1guLh96EkAxPi8k7DIEQJCc4URlhRhA3eLKKLwkEECqpNAyTBD/P6xpjXcDiwVAFtl//cQm4z+Ibt3XKiYTQM7mCLUb3QdAoM1t8yVv7D8aLZv2Nk8UQEAJPV5nQwxAtSsfTCoE9z9TPjXLXIIWQBVanC5W9AtAYM3d7Adm9j++5mQz1FoWQBUThyaVBghAwH5muQsV7T89Q1qv82MUQJoWGOfNuBdAzrkClkmwDkDQjKq77t37Py+g0dtitsE/ZwAMTwVPEUBojepluNwBQGYbtuW+t9w/HNWIJs6MEkDTNuQUSlgEQKxktPP5TcQ/ixbLB8JjEUCwuWjXMQYCQAS/R09FkRdAowpiZjhhDkB7LmlczD/7P01iQmhhsAVAnrtTwDy84z/Z6jfQ2TgTQChOCXMnWwpAhrW3daoz8z/HYJvVPI4VQLT3ik5FcA5Angi7LOZd+z+NNVzDy5gXQBXdvVTFUA1AYNMgOeYe+T8+qHXGCwkXQKQTOKwa5AJA8gFVoEMW0T+FwzJyttIRQAEAAAD/////BwAAAP////8xAAAA/////1cBAAD/////YQkAAP////+nQQAA/////5HLAQD/////95AMAP/////B9lcAAAAAAAAAAAAAAAAAAgAAAP////8OAAAA/////2IAAAD/////rgIAAP/////CEgAA/////06DAAD/////IpcDAP/////uIRkA/////4LtrwAAAAAAAAAAAAAAAAAAAAAAAgAAAP//////////AQAAAAMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////wIAAAD//////////wEAAAAAAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA/////////////////////wEAAAD///////////////8CAAAA////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD///////////////////////////////8CAAAA////////////////AQAAAP////////////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAAAQAAAP//////////AgAAAP//////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAAEAAAD//////////wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAgAAAAAAAAACAAAAAQAAAAEAAAACAAAAAgAAAAAAAAAFAAAABQAAAAAAAAACAAAAAgAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAABAAAAAgAAAAIAAAACAAAAAAAAAAUAAAAGAAAAAAAAAAIAAAACAAAAAwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAAAAAAAAgAAAAEAAAADAAAAAgAAAAIAAAAAAAAABQAAAAcAAAAAAAAAAgAAAAIAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAACAAAAAQAAAAQAAAACAAAAAgAAAAAAAAAFAAAACAAAAAAAAAACAAAAAgAAAAMAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAACAAAAAAAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAUAAAAJAAAAAAAAAAIAAAACAAAAAwAAAAUAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAACAAAAAAAAAAMAAAAOAAAAAgAAAAAAAAACAAAAAwAAAAAAAAAAAAAAAgAAAAIAAAADAAAABgAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAgAAAAIAAAAAAAAAAwAAAAoAAAACAAAAAAAAAAIAAAADAAAAAQAAAAAAAAACAAAAAgAAAAMAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAgAAAAAAAAADAAAACwAAAAIAAAAAAAAAAgAAAAMAAAACAAAAAAAAAAIAAAACAAAAAwAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAACAAAAAAAAAAMAAAAMAAAAAgAAAAAAAAACAAAAAwAAAAMAAAAAAAAAAgAAAAIAAAADAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAIAAAAAAAAAAwAAAA0AAAACAAAAAAAAAAIAAAADAAAABAAAAAAAAAACAAAAAgAAAAMAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAgAAAAAAAAADAAAABgAAAAIAAAAAAAAAAgAAAAMAAAAPAAAAAAAAAAIAAAACAAAAAwAAAAsAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAIAAAACAAAAAAAAAAMAAAAHAAAAAgAAAAAAAAACAAAAAwAAABAAAAAAAAAAAgAAAAIAAAADAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAIAAAAAAAAAAwAAAAgAAAACAAAAAAAAAAIAAAADAAAAEQAAAAAAAAACAAAAAgAAAAMAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAACAAAAAgAAAAAAAAADAAAACQAAAAIAAAAAAAAAAgAAAAMAAAASAAAAAAAAAAIAAAACAAAAAwAAAA4AAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAACAAAAAAAAAAMAAAAFAAAAAgAAAAAAAAACAAAAAwAAABMAAAAAAAAAAgAAAAIAAAADAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgAAAAAAAAACAAAAAQAAABMAAAACAAAAAgAAAAAAAAAFAAAACgAAAAAAAAACAAAAAgAAAAMAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABEAAAACAAAAAAAAAAIAAAABAAAADwAAAAIAAAACAAAAAAAAAAUAAAALAAAAAAAAAAIAAAACAAAAAwAAABEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAIAAAAAAAAAAgAAAAEAAAAQAAAAAgAAAAIAAAAAAAAABQAAAAwAAAAAAAAAAgAAAAIAAAADAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAACAAAAAQAAABEAAAACAAAAAgAAAAAAAAAFAAAADQAAAAAAAAACAAAAAgAAAAMAAAATAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAACAAAAAAAAAAIAAAABAAAAEgAAAAIAAAACAAAAAAAAAAUAAAAOAAAAAAAAAAIAAAACAAAAAwAAAAIAAAABAAAAAAAAAAEAAAACAAAAAAAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAEAAAAAAAAAAgAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAgAAAAAAAAABAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAMuhRbbsNlBBYqHW9OmHIkF9XBuqnS31QAK37uYhNMhAOSo3UUupm0DC+6pc6JxvQHV9eseEEEJAzURsCyqlFEB8BQ4NMJjnPyy3tBoS97o/xawXQznRjj89J2K2CZxhP6vX43RIIDQ/S8isgygEBz+LvFHQkmzaPjFFFO7wMq4+AADMLkTtjkIAAOgkJqxhQgAAU7B0MjRCAADwpBcVB0IAAACYP2HaQQAAAIn/Ja5BzczM4Eg6gUHNzMxMU7BTQTMzMzNfgCZBAAAAAEi3+UAAAAAAwGPNQDMzMzMzy6BAmpmZmZkxc0AzMzMzM/NFQDMzMzMzMxlAzczMzMzM7D+ygXSx2U6RQKimJOvQKnpA23hmONTHY0A/AGcxyudNQNb3K647mzZA+S56rrwWIUAm4kUQ+9UJQKre9hGzh/M/BLvoy9WG3T+LmqMf8VHGP2m3nYNV37A/gbFHcyeCmT+cBPWBckiDP61tZACjKW0/q2RbYVUYVj8uDypVyLNAP6jGS5cA5zBBwcqhBdCNGUEGEhQ/JVEDQT6WPnRbNO1AB/AWSJgT1kDfUWNCNLDAQNk+5C33OqlAchWL34QSk0DKvtDIrNV8QNF0G3kFzGVASSeWhBl6UED+/0mNGuk4QGjA/dm/1CJALPLPMql6DEDSHoDrwpP1P2jouzWST+A/egAAAAAAAABKAwAAAAAAAPoWAAAAAAAAyqAAAAAAAAB6ZQQAAAAAAErGHgAAAAAA+mvXAAAAAADK8+MFAAAAAHqqOykAAAAASqmhIAEAAAD6oGvkBwAAAMpm8T43AAAAes+ZuIIBAABKrDQMkwoAAPq1cFUFSgAAyvkUViUGAgAAAAAAAwAAAAYAAAACAAAABQAAAAEAAAAEAAAAAAAAAAAAAAAFAAAAAwAAAAEAAAAGAAAABAAAAAIAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAA/////wAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAABAAAAAAAAAAAAAAD/////AAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAABAAEAAAEBAAAAAAABAAAAAQAAAAEAAQAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAHAAAABwAAAAEAAAACAAAABAAAAAMAAAAAAAAAAAAAAAcAAAADAAAAAQAAAAIAAAAFAAAABAAAAAAAAAAAAAAAYWxnb3MuYwBfcG9seWZpbGxJbnRlcm5hbABhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0dlb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9HZW9Cb3VuZGFyeQBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGgzVG9Mb2NhbElqawBiYXNlQ2VsbCAhPSBvcmlnaW5CYXNlQ2VsbAAhKG9yaWdpbk9uUGVudCAmJiBpbmRleE9uUGVudCkAcGVudGFnb25Sb3RhdGlvbnMgPj0gMABkaXJlY3Rpb25Sb3RhdGlvbnMgPj0gMABiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvSDMAIV9pc0Jhc2VDZWxsUGVudGFnb24oYmFzZUNlbGwpAGJhc2VDZWxsUm90YXRpb25zID49IDAAd2l0aGluUGVudGFnb25Sb3RhdGlvbnMgPj0gMABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";function Q(e){return e}function H(e){return e.replace(/\b__Z[\w\d_]+/g,(function(e){return e===e?e:e+" ["+e+"]"}))}function V(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function G(){return v.length}function W(e){try{var t=new ArrayBuffer(e);if(t.byteLength!=e)return;return new Int8Array(t).set(v),J(t),C(t),1}catch(n){}}var K="function"===typeof atob?atob:function(e){var t,n,r,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",l=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=s.indexOf(e.charAt(l++))<<2|(i=s.indexOf(e.charAt(l++)))>>4,n=(15&i)<<4|(o=s.indexOf(e.charAt(l++)))>>2,r=(3&o)<<6|(a=s.indexOf(e.charAt(l++))),u+=String.fromCharCode(t),64!==o&&(u+=String.fromCharCode(n)),64!==a&&(u+=String.fromCharCode(r))}while(l<e.length);return u};function q(e){if(z(e))return function(e){try{for(var t=K(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}catch(i){throw new Error("Converting base64 string to bytes failed.")}}(e.slice(N.length))}var X,Y=function(e,t,n){var r=new e.Int8Array(n),i=new e.Int32Array(n),o=(new e.Uint8Array(n),new e.Float32Array(n),new e.Float64Array(n)),a=0|t.p,s=e.Math.floor,u=e.Math.abs,l=e.Math.sqrt,c=e.Math.pow,A=e.Math.cos,f=e.Math.sin,h=e.Math.tan,p=e.Math.acos,d=e.Math.asin,g=e.Math.atan,v=e.Math.atan2,y=e.Math.ceil,m=e.Math.imul,b=e.Math.min,_=e.Math.clz32,w=t.b,x=t.c,C=t.d,B=t.e,E=t.f,S=t.g,k=t.h,O=t.i,T=24048;function P(e,t,n,r){var i,o;0|M(e|=0,t|=0,n|=0,r|=0,0)&&(Ot(0|r,0,(o=1+(0|m(3*n|0,n+1|0))|0)<<3|0),(i=0|mt(o,4))&&(F(e,t,n,r,i,o,0),yt(i)))}function M(e,t,n,r,o){e|=0,t|=0,n|=0,o|=0;var a,s=0,u=0,l=0,c=0,A=0,f=0,h=0,p=0;if(a=T,T=T+16|0,p=a,i[(s=r|=0)>>2]=e,i[s+4>>2]=t,(s=0!=(0|o))&&(i[o>>2]=0),0|Ie(e,t))return T=a,0|(p=1);i[p>>2]=0;e:do{if((0|n)>=1)if(s)for(A=0,f=1,h=1,u=0,s=e;;){if(!(u|A)){if(0==(0|(s=0|I(s,t,4,p)))&0==(0|(t=0|x()))){s=2;break e}if(0|Ie(s,t)){s=1;break e}}if(0==(0|(s=0|I(s,t,0|i[16+(A<<2)>>2],p)))&0==(0|(t=0|x()))){s=2;break e}if(i[(e=r+(h<<3)|0)>>2]=s,i[e+4>>2]=t,i[o+(h<<2)>>2]=f,e=(0|(u=u+1|0))==(0|f),c=6==(0|(l=A+1|0)),0|Ie(s,t)){s=1;break e}if((0|(f=f+(c&e&1)|0))>(0|n)){s=0;break}A=e?c?0:l:A,h=h+1|0,u=e?0:u}else for(A=0,f=1,h=1,u=0,s=e;;){if(!(u|A)){if(0==(0|(s=0|I(s,t,4,p)))&0==(0|(t=0|x()))){s=2;break e}if(0|Ie(s,t)){s=1;break e}}if(0==(0|(s=0|I(s,t,0|i[16+(A<<2)>>2],p)))&0==(0|(t=0|x()))){s=2;break e}if(i[(e=r+(h<<3)|0)>>2]=s,i[e+4>>2]=t,e=(0|(u=u+1|0))==(0|f),c=6==(0|(l=A+1|0)),0|Ie(s,t)){s=1;break e}if((0|(f=f+(c&e&1)|0))>(0|n)){s=0;break}A=e?c?0:l:A,h=h+1|0,u=e?0:u}else s=0}while(0);return T=a,0|(p=s)}function F(e,t,n,r,o,a,s){n|=0,r|=0,o|=0,a|=0,s|=0;var u,l,c=0,A=0,f=0,h=0,p=0;if(l=T,T=T+16|0,u=l,0==(0|(e|=0))&0==(0|(t|=0)))T=l;else{if(c=0|xt(0|e,0|t,0|a,((0|a)<0)<<31>>31|0),x(),!(0==(0|(p=0|i[(h=A=r+(c<<3)|0)>>2]))&0==(0|(h=0|i[h+4>>2]))|(f=(0|p)==(0|e)&(0|h)==(0|t))))do{f=(0|(h=0|i[(p=A=r+((c=(c+1|0)%(0|a)|0)<<3)|0)>>2]))==(0|e)&(0|(p=0|i[p+4>>2]))==(0|t)}while(!(0==(0|h)&0==(0|p)|f));c=o+(c<<2)|0,f&&(0|i[c>>2])<=(0|s)||(i[(p=A)>>2]=e,i[p+4>>2]=t,i[c>>2]=s,(0|s)>=(0|n)||(p=s+1|0,i[u>>2]=0,F(h=0|I(e,t,2,u),0|x(),n,r,o,a,p),i[u>>2]=0,F(h=0|I(e,t,3,u),0|x(),n,r,o,a,p),i[u>>2]=0,F(h=0|I(e,t,1,u),0|x(),n,r,o,a,p),i[u>>2]=0,F(h=0|I(e,t,5,u),0|x(),n,r,o,a,p),i[u>>2]=0,F(h=0|I(e,t,4,u),0|x(),n,r,o,a,p),i[u>>2]=0,F(h=0|I(e,t,6,u),0|x(),n,r,o,a,p))),T=l}}function I(e,t,n,r){e|=0,t|=0,n|=0;var o,a,s=0,u=0,l=0,c=0,A=0,f=0,h=0;if((0|i[(r|=0)>>2])>0){s=0;do{n=0|ue(n),s=s+1|0}while((0|s)<(0|i[r>>2]))}o=0|Ct(0|e,0|t,45),x(),a=127&o,u=0|Le(e,t),s=0|Ct(0|e,0|t,52),x(),s&=15;e:do{if(s)for(;;){if(f=0|Ct(0|e,0|t,0|(A=3*(15-s|0)|0)),x(),f&=7,h=0==(0|je(s)),s=s+-1|0,c=0|Bt(7,0,0|A),t&=~(0|x()),e=(A=0|Bt(0|i[(h?464:48)+(28*f|0)+(n<<2)>>2],0,0|A))|e&~c,t|=0|x(),!(n=0|i[(h?672:256)+(28*f|0)+(n<<2)>>2])){n=0;break e}if(!s){l=6;break}}else l=6}while(0);6==(0|l)&&(e|=f=0|Bt(0|(h=0|i[880+(28*a|0)+(n<<2)>>2]),0,45),t=0|x()|-1040385&t,n=0|i[4304+(28*a|0)+(n<<2)>>2],127==(127&h|0)&&(h=0|Bt(0|i[880+(28*a|0)+20>>2],0,45),t=0|x()|-1040385&t,n=0|i[4304+(28*a|0)+20>>2],e=0|De(h|e,t),t=0|x(),i[r>>2]=1+(0|i[r>>2]))),l=0|Ct(0|e,0|t,45),x(),l&=127;e:do{if(0|R(l)){t:do{if(1==(0|Le(e,t))){if((0|a)!=(0|l)){if(0|j(l,0|i[7728+(28*a|0)>>2])){e=0|Ue(e,t),u=1,t=0|x();break}e=0|De(e,t),u=1,t=0|x();break}switch(0|u){case 5:e=0|Ue(e,t),t=0|x(),i[r>>2]=5+(0|i[r>>2]),u=0;break t;case 3:e=0|De(e,t),t=0|x(),i[r>>2]=1+(0|i[r>>2]),u=0;break t;default:return h=0,w(0|(f=0)),0|h}}else u=0}while(0);if((0|n)>0){s=0;do{e=0|Re(e,t),t=0|x(),s=s+1|0}while((0|s)!=(0|n))}if((0|a)!=(0|l)){if(!(0|D(l))){if(0!=(0|u)|5!=(0|Le(e,t)))break;i[r>>2]=1+(0|i[r>>2]);break}switch(127&o){case 8:case 118:break e}3!=(0|Le(e,t))&&(i[r>>2]=1+(0|i[r>>2]))}}else if((0|n)>0){s=0;do{e=0|De(e,t),t=0|x(),s=s+1|0}while((0|s)!=(0|n))}}while(0);return i[r>>2]=((0|i[r>>2])+n|0)%6|0,h=e,w(0|(f=t)),0|h}function L(e,t,n,r,a,s){t|=0,n|=0,r|=0,a|=0,s|=0;var u,l,c,A,f,h,p,d,g,v=0,y=0,m=0,b=0,_=0,w=0,C=0,B=0,E=0,S=0,k=0,O=0,P=0,M=0;if(g=T,T=T+48|0,h=g+32|0,p=g+16|0,d=g,(0|(v=0|i[(e|=0)>>2]))<=0)return T=g,0|(O=0);u=e+4|0,l=h+8|0,c=p+8|0,A=d+8|0,f=((0|t)<0)<<31>>31,k=0;e:for(;;){E=(y=0|i[u>>2])+(k<<4)|0,i[h>>2]=i[E>>2],i[h+4>>2]=i[E+4>>2],i[h+8>>2]=i[E+8>>2],i[h+12>>2]=i[E+12>>2],(0|k)==(v+-1|0)?(i[p>>2]=i[y>>2],i[p+4>>2]=i[y+4>>2],i[p+8>>2]=i[y+8>>2],i[p+12>>2]=i[y+12>>2]):(E=y+(k+1<<4)|0,i[p>>2]=i[E>>2],i[p+4>>2]=i[E+4>>2],i[p+8>>2]=i[E+8>>2],i[p+12>>2]=i[E+12>>2]),E=0|G(h,p,n);t:do{if((0|E)>0){S=+(0|E),B=0;n:for(;;){M=+(E-B|0),P=+(0|B),o[d>>3]=+o[h>>3]*M/S+ +o[p>>3]*P/S,o[A>>3]=+o[l>>3]*M/S+ +o[c>>3]*P/S,y=0|xt(0|(w=0|Ne(d,n)),0|(C=0|x()),0|t,0|f),x(),b=0|i[(m=v=s+(y<<3)|0)>>2],m=0|i[m+4>>2];r:do{if(0==(0|b)&0==(0|m))O=14;else for(_=0;;){if((0|_)>(0|t)){v=1;break r}if((0|b)==(0|w)&(0|m)==(0|C)){v=7;break r}if(0==(0|(b=0|i[(m=v=s+((y=(y+1|0)%(0|t)|0)<<3)|0)>>2]))&0==(0|(m=0|i[m+4>>2]))){O=14;break}_=_+1|0}}while(0);switch(14==(0|O)&&(O=0,0==(0|w)&0==(0|C)?v=7:(i[v>>2]=w,i[v+4>>2]=C,v=0|i[r>>2],i[(_=a+(v<<3)|0)>>2]=w,i[_+4>>2]=C,i[r>>2]=v+1,v=0)),7&v){case 7:case 0:break;default:break n}if((0|E)<=(0|(B=B+1|0))){O=8;break t}}if(0|v){v=-1,O=20;break e}}else O=8}while(0);if(8==(0|O)&&(O=0),(0|(k=k+1|0))>=(0|(v=0|i[e>>2]))){v=0,O=20;break}}return 20==(0|O)?(T=g,0|v):0}function R(e){return 0|i[7728+(28*(e|=0)|0)+16>>2]}function D(e){return 4==(0|(e|=0))|117==(0|e)|0}function Z(e){return 0|i[11152+(216*(0|i[(e|=0)>>2])|0)+(72*(0|i[e+4>>2])|0)+(24*(0|i[e+8>>2])|0)+(i[e+12>>2]<<3)>>2]}function U(e){return 0|i[11152+(216*(0|i[(e|=0)>>2])|0)+(72*(0|i[e+4>>2])|0)+(24*(0|i[e+8>>2])|0)+(i[e+12>>2]<<3)+4>>2]}function j(e,t){return t|=0,(0|i[7728+(28*(e|=0)|0)+20>>2])==(0|t)?0|(t=1):0|(t=(0|i[7728+(28*e|0)+24>>2])==(0|t))}function N(e,t){return 0|i[880+(28*(e|=0)|0)+((t|=0)<<2)>>2]}function z(e,t){return t|=0,(0|i[880+(28*(e|=0)|0)>>2])==(0|t)?0|(t=0):(0|i[880+(28*e|0)+4>>2])==(0|t)?0|(t=1):(0|i[880+(28*e|0)+8>>2])==(0|t)?0|(t=2):(0|i[880+(28*e|0)+12>>2])==(0|t)?0|(t=3):(0|i[880+(28*e|0)+16>>2])==(0|t)?0|(t=4):(0|i[880+(28*e|0)+20>>2])==(0|t)?0|(t=5):0|((0|i[880+(28*e|0)+24>>2])==(0|t)?6:7)}function Q(e){return+o[(e|=0)+16>>3]<+o[e+24>>3]|0}function H(e,t){e|=0;var n,r,i=0;return(i=+o[(t|=0)>>3])>=+o[e+8>>3]&&i<=+o[e>>3]?(n=+o[e+16>>3],i=+o[e+24>>3],t=(r=+o[t+8>>3])>=i,e=r<=n&1,n<i?t&&(e=1):t||(e=0),0|(t=0!=(0|e))):0|(t=0)}function V(e,t){e|=0,t|=0;var n,r,a,s,l,c,A=0,f=0;s=T,T=T+288|0,n=s+264|0,r=s+96|0,f=(A=a=s)+96|0;do{i[A>>2]=0,A=A+4|0}while((0|A)<(0|f));return Ge(t,a),He(f=0|i[(A=a)>>2],A=0|i[A+4>>2],n),Ve(f,A,r),l=+ke(n,r+8|0),o[n>>3]=+o[e>>3],o[(A=n+8|0)>>3]=+o[e+16>>3],o[r>>3]=+o[e+8>>3],o[(f=r+8|0)>>3]=+o[e+24>>3],c=+ke(n,r),f=~~+y(+c*c/+Et(+ +u(+(+o[A>>3]-+o[f>>3])/(+o[n>>3]-+o[r>>3])),3)/(l*(2.59807621135*l)*.8)),T=s,0|(0==(0|f)?1:f)}function G(e,t,n){e|=0,t|=0,n|=0;var r,o,a,s,u,l=0,c=0;s=T,T=T+288|0,r=s+264|0,o=s+96|0,c=(l=a=s)+96|0;do{i[l>>2]=0,l=l+4|0}while((0|l)<(0|c));return Ge(n,a),He(l=0|i[(c=a)>>2],c=0|i[c+4>>2],r),Ve(l,c,o),u=+ke(r,o+8|0),c=~~+y(+ +ke(e,t)/(2*u)),T=s,0|(0==(0|c)?1:c)}function W(e,t,n,r){t|=0,n|=0,r|=0,i[(e|=0)>>2]=t,i[e+4>>2]=n,i[e+8>>2]=r}function K(e,t){e|=0;var n,r,a,s,l=0,c=0,A=0,f=0,h=0,p=0,d=0;i[(s=(t|=0)+8|0)>>2]=0,r=+o[e>>3],f=+u(+r),a=+o[e+8>>3],f+=.5*(h=+u(+a)/.8660254037844386),f-=+(0|(l=~~f)),h-=+(0|(e=~~h));do{if(f<.5){if(f<.3333333333333333){if(i[t>>2]=l,h<.5*(f+1)){i[t+4>>2]=e;break}e=e+1|0,i[t+4>>2]=e;break}if(e=(1&!(h<(d=1-f)))+e|0,i[t+4>>2]=e,d<=h&h<2*f){l=l+1|0,i[t>>2]=l;break}i[t>>2]=l;break}if(!(f<.6666666666666666)){if(l=l+1|0,i[t>>2]=l,h<.5*f){i[t+4>>2]=e;break}e=e+1|0,i[t+4>>2]=e;break}if(h<1-f){if(i[t+4>>2]=e,2*f-1<h){i[t>>2]=l;break}}else e=e+1|0,i[t+4>>2]=e;l=l+1|0,i[t>>2]=l}while(0);do{if(r<0){if(1&e){l=~~(+(0|l)-(2*(+((p=0|bt(0|l,((0|l)<0)<<31>>31|0,0|(p=(e+1|0)/2|0),((0|p)<0)<<31>>31|0))>>>0)+4294967296*+(0|x()))+1)),i[t>>2]=l;break}l=~~(+(0|l)-2*(+((p=0|bt(0|l,((0|l)<0)<<31>>31|0,0|(p=(0|e)/2|0),((0|p)<0)<<31>>31|0))>>>0)+4294967296*+(0|x()))),i[t>>2]=l;break}}while(0);p=t+4|0,a<0&&(l=l-((1|e<<1)/2|0)|0,i[t>>2]=l,e=0-e|0,i[p>>2]=e),c=e-l|0,(0|l)<0?(A=0-l|0,i[p>>2]=c,i[s>>2]=A,i[t>>2]=0,e=c,l=0):A=0,(0|e)<0&&(l=l-e|0,i[t>>2]=l,A=A-e|0,i[s>>2]=A,i[p>>2]=0,e=0),n=l-A|0,c=e-A|0,(0|A)<0&&(i[t>>2]=n,i[p>>2]=c,i[s>>2]=0,e=c,l=n,A=0),(0|(c=(0|A)<(0|(c=(0|e)<(0|l)?e:l))?A:c))<=0||(i[t>>2]=l-c,i[p>>2]=e-c,i[s>>2]=A-c)}function q(e){var t,n=0,r=0,o=0,a=0,s=0;n=0|i[(e|=0)>>2],r=0|i[(t=e+4|0)>>2],(0|n)<0&&(r=r-n|0,i[t>>2]=r,i[(s=e+8|0)>>2]=(0|i[s>>2])-n,i[e>>2]=0,n=0),(0|r)<0?(n=n-r|0,i[e>>2]=n,a=(0|i[(s=e+8|0)>>2])-r|0,i[s>>2]=a,i[t>>2]=0,r=0):(s=a=e+8|0,a=0|i[a>>2]),(0|a)<0&&(n=n-a|0,i[e>>2]=n,r=r-a|0,i[t>>2]=r,i[s>>2]=0,a=0),(0|(o=(0|a)<(0|(o=(0|r)<(0|n)?r:n))?a:o))<=0||(i[e>>2]=n-o,i[t>>2]=r-o,i[s>>2]=a-o)}function X(e,t){t|=0;var n,r;r=0|i[(e|=0)+8>>2],n=+((0|i[e+4>>2])-r|0),o[t>>3]=+((0|i[e>>2])-r|0)-.5*n,o[t+8>>3]=.8660254037844386*n}function Y(e,t,n){e|=0,t|=0,i[(n|=0)>>2]=(0|i[t>>2])+(0|i[e>>2]),i[n+4>>2]=(0|i[t+4>>2])+(0|i[e+4>>2]),i[n+8>>2]=(0|i[t+8>>2])+(0|i[e+8>>2])}function J(e,t,n){e|=0,t|=0,i[(n|=0)>>2]=(0|i[e>>2])-(0|i[t>>2]),i[n+4>>2]=(0|i[e+4>>2])-(0|i[t+4>>2]),i[n+8>>2]=(0|i[e+8>>2])-(0|i[t+8>>2])}function $(e,t){t|=0;var n,r=0;r=0|m(0|i[(e|=0)>>2],t),i[e>>2]=r,n=0|m(0|i[(r=e+4|0)>>2],t),i[r>>2]=n,t=0|m(0|i[(e=e+8|0)>>2],t),i[e>>2]=t}function ee(e){var t,n,r=0,o=0,a=0,s=0,u=0;u=(0|(n=0|i[(e|=0)>>2]))<0,e=(e=(o=(0|(s=((t=(0|(a=(0|i[e+4>>2])-(u?n:0)|0))<0)?0-a|0:0)+((0|i[e+8>>2])-(u?n:0))|0))<0)?0:s)-((a=(0|(o=(0|e)<(0|(o=(0|(r=(t?0:a)-(o?s:0)|0))<(0|(s=(u?0:n)-(t?a:0)-(o?s:0)|0))?r:s))?e:o))>0)?o:0)|0,r=r-(a?o:0)|0;e:do{switch(s-(a?o:0)|0){case 0:switch(0|r){case 0:return 0|(u=0==(0|e)?0:1==(0|e)?1:7);case 1:return 0|(u=0==(0|e)?2:1==(0|e)?3:7);default:break e}case 1:switch(0|r){case 0:return 0|(u=0==(0|e)?4:1==(0|e)?5:7);case 1:if(e)break e;return 0|(e=6);default:break e}}}while(0);return 0|(u=7)}function te(e){var t,n,r=0,o=0,a=0,s=0,u=0;o=0|i[(t=(e|=0)+8|0)>>2],a=0|gt(+((3*(r=(0|i[e>>2])-o|0)|0)-(o=(0|i[(n=e+4|0)>>2])-o|0)|0)/7),i[e>>2]=a,r=0|gt(+((o<<1)+r|0)/7),i[n>>2]=r,i[t>>2]=0,o=r-a|0,(0|a)<0?(u=0-a|0,i[n>>2]=o,i[t>>2]=u,i[e>>2]=0,r=o,a=0,o=u):o=0,(0|r)<0&&(a=a-r|0,i[e>>2]=a,o=o-r|0,i[t>>2]=o,i[n>>2]=0,r=0),u=a-o|0,s=r-o|0,(0|o)<0?(i[e>>2]=u,i[n>>2]=s,i[t>>2]=0,r=s,s=u,o=0):s=a,(0|(a=(0|o)<(0|(a=(0|r)<(0|s)?r:s))?o:a))<=0||(i[e>>2]=s-a,i[n>>2]=r-a,i[t>>2]=o-a)}function ne(e){var t,n,r=0,o=0,a=0,s=0,u=0;o=0|i[(t=(e|=0)+8|0)>>2],a=0|gt(+(((r=(0|i[e>>2])-o|0)<<1)+(o=(0|i[(n=e+4|0)>>2])-o|0)|0)/7),i[e>>2]=a,r=0|gt(+((3*o|0)-r|0)/7),i[n>>2]=r,i[t>>2]=0,o=r-a|0,(0|a)<0?(u=0-a|0,i[n>>2]=o,i[t>>2]=u,i[e>>2]=0,r=o,a=0,o=u):o=0,(0|r)<0&&(a=a-r|0,i[e>>2]=a,o=o-r|0,i[t>>2]=o,i[n>>2]=0,r=0),u=a-o|0,s=r-o|0,(0|o)<0?(i[e>>2]=u,i[n>>2]=s,i[t>>2]=0,r=s,s=u,o=0):s=a,(0|(a=(0|o)<(0|(a=(0|r)<(0|s)?r:s))?o:a))<=0||(i[e>>2]=s-a,i[n>>2]=r-a,i[t>>2]=o-a)}function re(e){var t,n,r,o=0,a=0,s=0,u=0;o=0|i[(e|=0)>>2],a=0|i[(n=e+4|0)>>2],s=0|i[(r=e+8|0)>>2],u=a+(3*o|0)|0,i[e>>2]=u,a=s+(3*a|0)|0,i[n>>2]=a,o=(3*s|0)+o|0,i[r>>2]=o,s=a-u|0,(0|u)<0?(o=o-u|0,i[n>>2]=s,i[r>>2]=o,i[e>>2]=0,a=s,s=0):s=u,(0|a)<0&&(s=s-a|0,i[e>>2]=s,o=o-a|0,i[r>>2]=o,i[n>>2]=0,a=0),t=s-o|0,u=a-o|0,(0|o)<0?(i[e>>2]=t,i[n>>2]=u,i[r>>2]=0,s=t,o=0):u=a,(0|(a=(0|o)<(0|(a=(0|u)<(0|s)?u:s))?o:a))<=0||(i[e>>2]=s-a,i[n>>2]=u-a,i[r>>2]=o-a)}function ie(e){var t,n,r,o=0,a=0,s=0,u=0;u=0|i[(e|=0)>>2],s=(3*(o=0|i[(n=e+4|0)>>2])|0)+u|0,u=(a=0|i[(r=e+8|0)>>2])+(3*u|0)|0,i[e>>2]=u,i[n>>2]=s,o=(3*a|0)+o|0,i[r>>2]=o,a=s-u|0,(0|u)<0?(o=o-u|0,i[n>>2]=a,i[r>>2]=o,i[e>>2]=0,u=0):a=s,(0|a)<0&&(u=u-a|0,i[e>>2]=u,o=o-a|0,i[r>>2]=o,i[n>>2]=0,a=0),t=u-o|0,s=a-o|0,(0|o)<0?(i[e>>2]=t,i[n>>2]=s,i[r>>2]=0,u=t,o=0):s=a,(0|(a=(0|o)<(0|(a=(0|s)<(0|u)?s:u))?o:a))<=0||(i[e>>2]=u-a,i[n>>2]=s-a,i[r>>2]=o-a)}function oe(e,t){e|=0;var n,r,o,a=0,s=0,u=0;((t|=0)+-1|0)>>>0>=6||(u=(0|i[15472+(12*t|0)>>2])+(0|i[e>>2])|0,i[e>>2]=u,o=e+4|0,s=(0|i[15472+(12*t|0)+4>>2])+(0|i[o>>2])|0,i[o>>2]=s,r=e+8|0,t=(0|i[15472+(12*t|0)+8>>2])+(0|i[r>>2])|0,i[r>>2]=t,a=s-u|0,(0|u)<0?(t=t-u|0,i[o>>2]=a,i[r>>2]=t,i[e>>2]=0,s=0):(a=s,s=u),(0|a)<0&&(s=s-a|0,i[e>>2]=s,t=t-a|0,i[r>>2]=t,i[o>>2]=0,a=0),n=s-t|0,u=a-t|0,(0|t)<0?(i[e>>2]=n,i[o>>2]=u,i[r>>2]=0,s=n,t=0):u=a,(0|(a=(0|t)<(0|(a=(0|u)<(0|s)?u:s))?t:a))<=0||(i[e>>2]=s-a,i[o>>2]=u-a,i[r>>2]=t-a))}function ae(e){var t,n,r,o=0,a=0,s=0,u=0;u=0|i[(e|=0)>>2],s=(o=0|i[(n=e+4|0)>>2])+u|0,u=(a=0|i[(r=e+8|0)>>2])+u|0,i[e>>2]=u,i[n>>2]=s,o=a+o|0,i[r>>2]=o,a=s-u|0,(0|u)<0?(o=o-u|0,i[n>>2]=a,i[r>>2]=o,i[e>>2]=0,s=0):(a=s,s=u),(0|a)<0&&(s=s-a|0,i[e>>2]=s,o=o-a|0,i[r>>2]=o,i[n>>2]=0,a=0),t=s-o|0,u=a-o|0,(0|o)<0?(i[e>>2]=t,i[n>>2]=u,i[r>>2]=0,s=t,o=0):u=a,(0|(a=(0|o)<(0|(a=(0|u)<(0|s)?u:s))?o:a))<=0||(i[e>>2]=s-a,i[n>>2]=u-a,i[r>>2]=o-a)}function se(e){var t,n,r,o=0,a=0,s=0,u=0;o=0|i[(e|=0)>>2],s=0|i[(n=e+4|0)>>2],a=0|i[(r=e+8|0)>>2],u=s+o|0,i[e>>2]=u,s=a+s|0,i[n>>2]=s,o=a+o|0,i[r>>2]=o,a=s-u|0,(0|u)<0?(o=o-u|0,i[n>>2]=a,i[r>>2]=o,i[e>>2]=0,s=0):(a=s,s=u),(0|a)<0&&(s=s-a|0,i[e>>2]=s,o=o-a|0,i[r>>2]=o,i[n>>2]=0,a=0),t=s-o|0,u=a-o|0,(0|o)<0?(i[e>>2]=t,i[n>>2]=u,i[r>>2]=0,s=t,o=0):u=a,(0|(a=(0|o)<(0|(a=(0|u)<(0|s)?u:s))?o:a))<=0||(i[e>>2]=s-a,i[n>>2]=u-a,i[r>>2]=o-a)}function ue(e){switch(0|(e|=0)){case 1:e=5;break;case 5:e=4;break;case 4:e=6;break;case 6:e=2;break;case 2:e=3;break;case 3:e=1}return 0|e}function le(e){switch(0|(e|=0)){case 1:e=3;break;case 3:e=2;break;case 2:e=6;break;case 6:e=4;break;case 4:e=5;break;case 5:e=1}return 0|e}function ce(e){var t,n,r,o=0,a=0,s=0,u=0;o=0|i[(e|=0)>>2],a=0|i[(n=e+4|0)>>2],s=0|i[(r=e+8|0)>>2],u=a+(o<<1)|0,i[e>>2]=u,a=s+(a<<1)|0,i[n>>2]=a,o=(s<<1)+o|0,i[r>>2]=o,s=a-u|0,(0|u)<0?(o=o-u|0,i[n>>2]=s,i[r>>2]=o,i[e>>2]=0,a=s,s=0):s=u,(0|a)<0&&(s=s-a|0,i[e>>2]=s,o=o-a|0,i[r>>2]=o,i[n>>2]=0,a=0),t=s-o|0,u=a-o|0,(0|o)<0?(i[e>>2]=t,i[n>>2]=u,i[r>>2]=0,s=t,o=0):u=a,(0|(a=(0|o)<(0|(a=(0|u)<(0|s)?u:s))?o:a))<=0||(i[e>>2]=s-a,i[n>>2]=u-a,i[r>>2]=o-a)}function Ae(e){var t,n,r,o=0,a=0,s=0,u=0;u=0|i[(e|=0)>>2],s=((o=0|i[(n=e+4|0)>>2])<<1)+u|0,u=(a=0|i[(r=e+8|0)>>2])+(u<<1)|0,i[e>>2]=u,i[n>>2]=s,o=(a<<1)+o|0,i[r>>2]=o,a=s-u|0,(0|u)<0?(o=o-u|0,i[n>>2]=a,i[r>>2]=o,i[e>>2]=0,u=0):a=s,(0|a)<0&&(u=u-a|0,i[e>>2]=u,o=o-a|0,i[r>>2]=o,i[n>>2]=0,a=0),t=u-o|0,s=a-o|0,(0|o)<0?(i[e>>2]=t,i[n>>2]=s,i[r>>2]=0,u=t,o=0):s=a,(0|(a=(0|o)<(0|(a=(0|s)<(0|u)?s:u))?o:a))<=0||(i[e>>2]=u-a,i[n>>2]=s-a,i[r>>2]=o-a)}function fe(e,t){t|=0;var n,r,o,a=0,s=0,u=0;return o=(0|(r=(0|i[(e|=0)>>2])-(0|i[t>>2])|0))<0,n=(0|(s=(0|i[e+4>>2])-(0|i[t+4>>2])-(o?r:0)|0))<0,t=(t=(e=(0|(u=(o?0-r|0:0)+(0|i[e+8>>2])-(0|i[t+8>>2])+(n?0-s|0:0)|0))<0)?0:u)-((s=(0|(e=(0|t)<(0|(e=(0|(a=(n?0:s)-(e?u:0)|0))<(0|(u=(o?0:r)-(n?s:0)-(e?u:0)|0))?a:u))?t:e))>0)?e:0)|0,a=a-(s?e:0)|0,0|((0|(e=(0|(e=u-(s?e:0)|0))>-1?e:0-e|0))>(0|(t=(0|(a=(0|a)>-1?a:0-a|0))>(0|(t=(0|t)>-1?t:0-t|0))?a:t))?e:t)}function he(e,t){t|=0;var n;n=0|i[(e|=0)+8>>2],i[t>>2]=(0|i[e>>2])-n,i[t+4>>2]=(0|i[e+4>>2])-n}function pe(e,t){t|=0;var n,r,o,a=0,s=0,u=0;s=0|i[(e|=0)>>2],i[t>>2]=s,e=0|i[e+4>>2],i[(r=t+4|0)>>2]=e,i[(o=t+8|0)>>2]=0,a=e-s|0,(0|s)<0?(e=0-s|0,i[r>>2]=a,i[o>>2]=e,i[t>>2]=0,s=0):(a=e,e=0),(0|a)<0&&(s=s-a|0,i[t>>2]=s,e=e-a|0,i[o>>2]=e,i[r>>2]=0,a=0),n=s-e|0,u=a-e|0,(0|e)<0?(i[t>>2]=n,i[r>>2]=u,i[o>>2]=0,a=u,u=n,e=0):u=s,(0|(s=(0|e)<(0|(s=(0|a)<(0|u)?a:u))?e:s))<=0||(i[t>>2]=u-s,i[r>>2]=a-s,i[o>>2]=e-s)}function de(e){var t,n,r,o;n=(o=0|i[(t=(e|=0)+8|0)>>2])-(0|i[e>>2])|0,i[e>>2]=n,e=(0|i[(r=e+4|0)>>2])-o|0,i[r>>2]=e,i[t>>2]=0-(e+n)}function ge(e){var t,n,r=0,o=0,a=0,s=0,u=0;r=0-(o=0|i[(e|=0)>>2])|0,i[e>>2]=r,i[(t=e+8|0)>>2]=0,s=(a=0|i[(n=e+4|0)>>2])+o|0,(0|o)>0?(i[n>>2]=s,i[t>>2]=o,i[e>>2]=0,r=0,a=s):o=0,(0|a)<0?(u=r-a|0,i[e>>2]=u,o=o-a|0,i[t>>2]=o,i[n>>2]=0,s=u-o|0,r=0-o|0,(0|o)<0?(i[e>>2]=s,i[n>>2]=r,i[t>>2]=0,a=r,o=0):(a=0,s=u)):s=r,(0|(r=(0|o)<(0|(r=(0|a)<(0|s)?a:s))?o:r))<=0||(i[e>>2]=s-r,i[n>>2]=a-r,i[t>>2]=o-r)}function ve(e,t,n,r){t|=0,n|=0,r|=0;var a,s=0,u=0,l=0,c=0;if(a=T,T=T+32|0,function(e,t){t|=0;var n=0,r=0,i=0;n=+o[(e=e|0)>>3],r=+A(+n),n=+f(+n),o[t+16>>3]=n,n=+o[e+8>>3],i=r*+A(+n),o[t>>3]=i,n=r*+f(+n),o[t+8>>3]=n}(e|=0,u=a),i[n>>2]=0,s=+ut(15888,u),(l=+ut(15912,u))<s&&(i[n>>2]=1,s=l),(l=+ut(15936,u))<s&&(i[n>>2]=2,s=l),(l=+ut(15960,u))<s&&(i[n>>2]=3,s=l),(l=+ut(15984,u))<s&&(i[n>>2]=4,s=l),(l=+ut(16008,u))<s&&(i[n>>2]=5,s=l),(l=+ut(16032,u))<s&&(i[n>>2]=6,s=l),(l=+ut(16056,u))<s&&(i[n>>2]=7,s=l),(l=+ut(16080,u))<s&&(i[n>>2]=8,s=l),(l=+ut(16104,u))<s&&(i[n>>2]=9,s=l),(l=+ut(16128,u))<s&&(i[n>>2]=10,s=l),(l=+ut(16152,u))<s&&(i[n>>2]=11,s=l),(l=+ut(16176,u))<s&&(i[n>>2]=12,s=l),(l=+ut(16200,u))<s&&(i[n>>2]=13,s=l),(l=+ut(16224,u))<s&&(i[n>>2]=14,s=l),(l=+ut(16248,u))<s&&(i[n>>2]=15,s=l),(l=+ut(16272,u))<s&&(i[n>>2]=16,s=l),(l=+ut(16296,u))<s&&(i[n>>2]=17,s=l),(l=+ut(16320,u))<s&&(i[n>>2]=18,s=l),(l=+ut(16344,u))<s&&(i[n>>2]=19,s=l),(l=+p(+(1-.5*s)))<1e-16)return i[r>>2]=0,i[r+4>>2]=0,i[r+8>>2]=0,i[r+12>>2]=0,void(T=a);if(n=0|i[n>>2],s=+Ee((s=+o[16368+(24*n|0)>>3])-+Ee(+function(e,t){e|=0;var n=0,r=0,i=0,a=0,s=0;return a=+o[(t=t|0)>>3],r=+A(+a),i=+o[t+8>>3]-+o[e+8>>3],s=r*+f(+i),n=+o[e>>3],+ +v(+s,+(+f(+a)*+A(+n)-+A(+i)*(r*+f(+n))))}(15568+(n<<4)|0,e))),c=0|je(t)?+Ee(s+-.3334731722518321):s,s=+h(+l)/.381966011250105,(0|t)>0){u=0;do{s*=2.6457513110645907,u=u+1|0}while((0|u)!=(0|t))}l=+A(+c)*s,o[r>>3]=l,c=+f(+c)*s,o[r+8>>3]=c,T=a}function ye(e,t,n,r,a){t|=0,n|=0,r|=0,a|=0;var s=0,c=0;if(s=+function(e){var t=0,n=0;return n=+o[(e=e|0)>>3],t=+o[e+8>>3],+ +l(+(n*n+t*t))}(e|=0),s<1e-16)return t=15568+(t<<4)|0,i[a>>2]=i[t>>2],i[a+4>>2]=i[t+4>>2],i[a+8>>2]=i[t+8>>2],void(i[a+12>>2]=i[t+12>>2]);if(c=+v(+ +o[e+8>>3],+ +o[e>>3]),(0|n)>0){e=0;do{s/=2.6457513110645907,e=e+1|0}while((0|e)!=(0|n))}r?(s/=3,n=0==(0|je(n)),s=+g(.381966011250105*(n?s:s/2.6457513110645907))):(s=+g(.381966011250105*s),0|je(n)&&(c=+Ee(c+.3334731722518321))),function(e,t,n,r){e|=0,t=+t,r|=0;var a=0,s=0,l=0,c=0;if((n=+n)<1e-16)return i[r>>2]=i[e>>2],i[r+4>>2]=i[e+4>>2],i[r+8>>2]=i[e+8>>2],void(i[r+12>>2]=i[e+12>>2]);s=t<0?t+6.283185307179586:t,s=t>=6.283185307179586?s+-6.283185307179586:s;do{if(!(s<1e-16)){if(a=+u(+(s+-3.141592653589793))<1e-16,t=+o[e>>3],a){t-=n,o[r>>3]=t,a=r;break}if(l=+A(+n),n=+f(+n),t=l*+f(+t)+ +A(+s)*(n*+A(+t)),t=+d(+((t=t>1?1:t)<-1?-1:t)),o[r>>3]=t,+u(+(t+-1.5707963267948966))<1e-16)return o[r>>3]=1.5707963267948966,void(o[r+8>>3]=0);if(+u(+(t+1.5707963267948966))<1e-16)return o[r>>3]=-1.5707963267948966,void(o[r+8>>3]=0);if(c=+A(+t),s=n*+f(+s)/c,n=+o[e>>3],t=(l-+f(+t)*+f(+n))/+A(+n)/c,l=s>1?1:s,t=t>1?1:t,(t=+o[e+8>>3]+ +v(+(l<-1?-1:l),+(t<-1?-1:t)))>3.141592653589793)do{t+=-6.283185307179586}while(t>3.141592653589793);if(t<-3.141592653589793)do{t+=6.283185307179586}while(t<-3.141592653589793);return void(o[r+8>>3]=t)}t=+o[e>>3]+n,o[r>>3]=t,a=r}while(0);if(+u(+(t+-1.5707963267948966))<1e-16)return o[a>>3]=1.5707963267948966,void(o[r+8>>3]=0);if(+u(+(t+1.5707963267948966))<1e-16)return o[a>>3]=-1.5707963267948966,void(o[r+8>>3]=0);if((t=+o[e+8>>3])>3.141592653589793)do{t+=-6.283185307179586}while(t>3.141592653589793);if(t<-3.141592653589793)do{t+=6.283185307179586}while(t<-3.141592653589793);o[r+8>>3]=t}(15568+(t<<4)|0,+Ee(+o[16368+(24*t|0)>>3]-c),s,a)}function me(e,t,n){t|=0,n|=0;var r,o;r=T,T=T+16|0,X((e|=0)+4|0,o=r),ye(o,0|i[e>>2],t,0,n),T=r}function be(e,t,n,r,a){e|=0,t|=0,n|=0,r|=0,a|=0;var s,u,l,c,A,f,h,p,d,g,v,y,m,b,_,w,x,B,E,S,k,O,P=0,M=0,F=0,I=0,L=0,R=0;if(O=T,T=T+272|0,I=O+240|0,E=O,S=O+224|0,k=O+208|0,v=O+176|0,y=O+160|0,m=O+192|0,b=O+144|0,_=O+128|0,w=O+112|0,x=O+96|0,B=O+80|0,i[(P=O+256|0)>>2]=t,i[I>>2]=i[e>>2],i[I+4>>2]=i[e+4>>2],i[I+8>>2]=i[e+8>>2],i[I+12>>2]=i[e+12>>2],_e(I,P,E),i[a>>2]=0,(0|(I=r+n+(5==(0|r)&1)|0))<=(0|n))T=O;else{u=S+4|0,l=v+4|0,c=n+5|0,A=16848+((s=0|i[P>>2])<<2)|0,f=16928+(s<<2)|0,h=_+8|0,p=w+8|0,d=x+8|0,g=k+4|0,F=n;e:for(;;){M=E+(((0|F)%5|0)<<4)|0,i[k>>2]=i[M>>2],i[k+4>>2]=i[M+4>>2],i[k+8>>2]=i[M+8>>2],i[k+12>>2]=i[M+12>>2];do{}while(2==(0|we(k,s,0,1)));if((0|F)>(0|n)&0!=(0|je(t))){if(i[v>>2]=i[k>>2],i[v+4>>2]=i[k+4>>2],i[v+8>>2]=i[k+8>>2],i[v+12>>2]=i[k+12>>2],X(u,y),r=0|i[v>>2],P=0|i[17008+(80*r|0)+(i[S>>2]<<2)>>2],i[v>>2]=i[18608+(80*r|0)+(20*P|0)>>2],(0|(M=0|i[18608+(80*r|0)+(20*P|0)+16>>2]))>0){e=0;do{ae(l),e=e+1|0}while((0|e)<(0|M))}switch(M=18608+(80*r|0)+(20*P|0)+4|0,i[m>>2]=i[M>>2],i[m+4>>2]=i[M+4>>2],i[m+8>>2]=i[M+8>>2],$(m,3*(0|i[A>>2])|0),Y(l,m,l),q(l),X(l,b),L=+(0|i[f>>2]),o[_>>3]=3*L,o[h>>3]=0,R=-1.5*L,o[w>>3]=R,o[p>>3]=2.598076211353316*L,o[x>>3]=R,o[d>>3]=-2.598076211353316*L,0|i[17008+(80*(0|i[v>>2])|0)+(i[k>>2]<<2)>>2]){case 1:e=w,r=_;break;case 3:e=x,r=w;break;case 2:e=_,r=x;break;default:e=12;break e}at(y,b,r,e,B),ye(B,0|i[v>>2],s,1,a+8+(i[a>>2]<<4)|0),i[a>>2]=1+(0|i[a>>2])}if((0|F)<(0|c)&&(X(g,v),ye(v,0|i[k>>2],s,1,a+8+(i[a>>2]<<4)|0),i[a>>2]=1+(0|i[a>>2])),i[S>>2]=i[k>>2],i[S+4>>2]=i[k+4>>2],i[S+8>>2]=i[k+8>>2],i[S+12>>2]=i[k+12>>2],(0|(F=F+1|0))>=(0|I)){e=3;break}}3!=(0|e)?12==(0|e)&&C(22474,22521,581,22531):T=O}}function _e(e,t,n){e|=0,t|=0,n|=0;var r,o=0,a=0,s=0,u=0,l=0;r=T,T=T+128|0,a=r,u=20208,l=(s=o=r+64|0)+60|0;do{i[s>>2]=i[u>>2],s=s+4|0,u=u+4|0}while((0|s)<(0|l));u=20272,l=(s=a)+60|0;do{i[s>>2]=i[u>>2],s=s+4|0,u=u+4|0}while((0|s)<(0|l));o=(l=0==(0|je(0|i[t>>2])))?o:a,ce(a=e+4|0),Ae(a),0|je(0|i[t>>2])&&(ie(a),i[t>>2]=1+(0|i[t>>2])),i[n>>2]=i[e>>2],Y(a,o,t=n+4|0),q(t),i[n+16>>2]=i[e>>2],Y(a,o+12|0,t=n+20|0),q(t),i[n+32>>2]=i[e>>2],Y(a,o+24|0,t=n+36|0),q(t),i[n+48>>2]=i[e>>2],Y(a,o+36|0,t=n+52|0),q(t),i[n+64>>2]=i[e>>2],Y(a,o+48|0,n=n+68|0),q(n),T=r}function we(e,t,n,r){n|=0,r|=0;var o,a,s,u,l,c,A=0,f=0,h=0,p=0,d=0;if(c=T,T=T+32|0,l=c+12|0,a=c,d=(e|=0)+4|0,p=0|i[16928+((t|=0)<<2)>>2],p=(u=0!=(0|r))?3*p|0:p,A=0|i[d>>2],o=0|i[(s=e+8|0)>>2],u){if((0|(A=o+A+(r=0|i[(f=e+12|0)>>2])|0))==(0|p))return T=c,0|(d=1);h=f}else A=o+A+(r=0|i[(h=e+12|0)>>2])|0;if((0|A)<=(0|p))return T=c,0|(d=0);do{if((0|r)>0){if(r=0|i[e>>2],(0|o)>0){f=18608+(80*r|0)+60|0,r=e;break}r=18608+(80*r|0)+40|0,n?(W(l,p,0,0),J(d,l,a),se(a),Y(a,l,d),f=r,r=e):(f=r,r=e)}else f=18608+(80*(0|i[e>>2])|0)+20|0,r=e}while(0);if(i[r>>2]=i[f>>2],(0|i[(A=f+16|0)>>2])>0){r=0;do{ae(d),r=r+1|0}while((0|r)<(0|i[A>>2]))}return e=f+4|0,i[l>>2]=i[e>>2],i[l+4>>2]=i[e+4>>2],i[l+8>>2]=i[e+8>>2],t=0|i[16848+(t<<2)>>2],$(l,u?3*t|0:t),Y(d,l,d),q(d),r=u&&((0|i[s>>2])+(0|i[d>>2])+(0|i[h>>2])|0)==(0|p)?1:2,T=c,0|(d=r)}function xe(e,t){e|=0,t|=0;var n=0;do{n=0|we(e,t,0,1)}while(2==(0|n));return 0|n}function Ce(e,t,n,r,a){e|=0,t|=0,n|=0,r|=0,a|=0;var s,u,l,c,A,f,h,p,d,g,v,y,m,b,_,w,x,B,E=0,S=0,k=0,O=0,P=0;if(B=T,T=T+240|0,b=B+208|0,_=B,w=B+192|0,x=B+176|0,d=B+160|0,g=B+144|0,v=B+128|0,y=B+112|0,m=B+96|0,i[(E=B+224|0)>>2]=t,i[b>>2]=i[e>>2],i[b+4>>2]=i[e+4>>2],i[b+8>>2]=i[e+8>>2],i[b+12>>2]=i[e+12>>2],Be(b,E,_),i[a>>2]=0,(0|(p=r+n+(6==(0|r)&1)|0))<=(0|n))T=B;else{u=n+6|0,l=16928+((s=0|i[E>>2])<<2)|0,c=g+8|0,A=v+8|0,f=y+8|0,h=w+4|0,S=0,k=n,r=-1;e:for(;;){if(e=_+((E=(0|k)%6|0)<<4)|0,i[w>>2]=i[e>>2],i[w+4>>2]=i[e+4>>2],i[w+8>>2]=i[e+8>>2],i[w+12>>2]=i[e+12>>2],e=S,S=0|we(w,s,0,1),(0|k)>(0|n)&0!=(0|je(t))&&(1!=(0|e)&&(0|i[w>>2])!=(0|r))){switch(X(_+(((E+5|0)%6|0)<<4)+4|0,x),X(_+(E<<4)+4|0,d),O=+(0|i[l>>2]),o[g>>3]=3*O,o[c>>3]=0,P=-1.5*O,o[v>>3]=P,o[A>>3]=2.598076211353316*O,o[y>>3]=P,o[f>>3]=-2.598076211353316*O,E=0|i[b>>2],0|i[17008+(80*E|0)+(((0|r)==(0|E)?0|i[w>>2]:r)<<2)>>2]){case 1:e=v,r=g;break;case 3:e=y,r=v;break;case 2:e=g,r=y;break;default:e=8;break e}at(x,d,r,e,m),0|st(x,m)||0|st(d,m)||(ye(m,0|i[b>>2],s,1,a+8+(i[a>>2]<<4)|0),i[a>>2]=1+(0|i[a>>2]))}if((0|k)<(0|u)&&(X(h,x),ye(x,0|i[w>>2],s,1,a+8+(i[a>>2]<<4)|0),i[a>>2]=1+(0|i[a>>2])),(0|(k=k+1|0))>=(0|p)){e=3;break}r=0|i[w>>2]}3!=(0|e)?8==(0|e)&&C(22557,22521,746,22602):T=B}}function Be(e,t,n){e|=0,t|=0,n|=0;var r,o=0,a=0,s=0,u=0,l=0;r=T,T=T+160|0,a=r,u=20336,l=(s=o=r+80|0)+72|0;do{i[s>>2]=i[u>>2],s=s+4|0,u=u+4|0}while((0|s)<(0|l));u=20416,l=(s=a)+72|0;do{i[s>>2]=i[u>>2],s=s+4|0,u=u+4|0}while((0|s)<(0|l));o=(l=0==(0|je(0|i[t>>2])))?o:a,ce(a=e+4|0),Ae(a),0|je(0|i[t>>2])&&(ie(a),i[t>>2]=1+(0|i[t>>2])),i[n>>2]=i[e>>2],Y(a,o,t=n+4|0),q(t),i[n+16>>2]=i[e>>2],Y(a,o+12|0,t=n+20|0),q(t),i[n+32>>2]=i[e>>2],Y(a,o+24|0,t=n+36|0),q(t),i[n+48>>2]=i[e>>2],Y(a,o+36|0,t=n+52|0),q(t),i[n+64>>2]=i[e>>2],Y(a,o+48|0,t=n+68|0),q(t),i[n+80>>2]=i[e>>2],Y(a,o+60|0,n=n+84|0),q(n),T=r}function Ee(e){var t;return t=(e=+e)<0?e+6.283185307179586:e,+(e>=6.283185307179586?t+-6.283185307179586:t)}function Se(e,t){return t|=0,+u(+(+o[(e|=0)>>3]-+o[t>>3]))<17453292519943298e-27?0|(t=+u(+(+o[e+8>>3]-+o[t+8>>3]))<17453292519943298e-27):0|(t=0)}function ke(e,t){e|=0;var n,r,i,a=0;return r=+o[(t|=0)>>3],n=+o[e>>3],a=(i=+f(.5*(r-n)))*i+(a=+f(.5*(+o[t+8>>3]-+o[e+8>>3])))*(+A(+r)*+A(+n)*a),2*+v(+ +l(+a),+ +l(+(1-a)))*6371.007180918475}function Oe(e,t,n){e|=0,n|=0;var r,i,a,s,u=0,c=0,p=0,d=0,y=0,m=0;return m=+o[(t|=0)>>3],a=+o[e>>3],y=+f(.5*(m-a)),p=+o[t+8>>3],i=+o[e+8>>3],d=+f(.5*(p-i)),r=+A(+a),s=+A(+m),d=2*+v(+ +l(+(d=y*y+d*(s*r*d))),+ +l(+(1-d))),y=+o[n>>3],m=+f(.5*(y-m)),u=+o[n+8>>3],p=+f(.5*(u-p)),c=+A(+y),p=2*+v(+ +l(+(p=m*m+p*(s*c*p))),+ +l(+(1-p))),y=+f(.5*(a-y)),u=+f(.5*(i-u)),u=2*+v(+ +l(+(u=y*y+u*(r*c*u))),+ +l(+(1-u))),4*+g(+ +l(+ +h(.5*(c=.5*(d+p+u)))*+h(.5*(c-d))*+h(.5*(c-p))*+h(.5*(c-u))))}function Te(e,t){return t=0|Ct(0|(e|=0),0|(t|=0),45),x(),127&t|0}function Pe(e,t){var n=0,r=0,i=0,o=0,a=0,s=0;if(!(!0&134217728==(-16777216&(t|=0)|0)))return 0|(t=0);if(a=0|Ct(0|(e|=0),0|t,45),x(),(a&=127)>>>0>121)return 0|(t=0);n=0|Ct(0|e,0|t,52),x(),n&=15;do{if(0|n){for(i=1,r=0;;){if(o=0|Ct(0|e,0|t,3*(15-i|0)|0),x(),0!=(0|(o&=7))&(1^r)){if(1==(0|o)&0!=(0|R(a))){s=0,r=13;break}r=1}if(7==(0|o)){s=0,r=13;break}if(!(i>>>0<n>>>0)){r=9;break}i=i+1|0}if(9==(0|r)){if(15!=(0|n))break;return 0|(s=1)}if(13==(0|r))return 0|s}}while(0);for(;;){if(s=0|Ct(0|e,0|t,3*(14-n|0)|0),x(),!(7==(7&s|0)&!0)){s=0,r=13;break}if(!(n>>>0<14)){s=1,r=13;break}n=n+1|0}return 13==(0|r)?0|s:0}function Me(e,t,n){n|=0;var r=0,i=0;if(r=0|Ct(0|(e|=0),0|(t|=0),52),x(),(0|(r&=15))>=(0|n)){if((0|r)!=(0|n))if(n>>>0<=15){if(e|=i=0|Bt(0|n,0,52),t=0|x()|-15728641&t,(0|r)>(0|n))do{i=0|Bt(7,0,3*(14-n|0)|0),n=n+1|0,e|=i,t=0|x()|t}while((0|n)<(0|r))}else t=0,e=0}else t=0,e=0;return w(0|t),0|e}function Fe(e,t,n,r){n|=0,r|=0;var o,a=0,s=0,u=0,l=0,c=0,A=0;if(u=0|Ct(0|(e|=0),0|(t|=0),52),x(),(0|n)<16&(0|(u&=15))<=(0|n)){if((0|u)==(0|n))return i[(n=r)>>2]=e,void(i[n+4>>2]=t);if(o=(0|(c=0|tt(7,n-u|0)))/7|0,l=0|Ct(0|e,0|t,45),x(),0|R(127&l)){e:do{if(u)for(s=1;;){if(a=0|Ct(0|e,0|t,3*(15-s|0)|0),x(),0|(a&=7))break e;if(!(s>>>0<u>>>0)){a=0;break}s=s+1|0}else a=0}while(0);s=0==(0|a)}else s=0;if(A=0|Bt(u+1|0,0,52),a=0|x()|-15728641&t,Fe(t=(A|e)&~(t=0|Bt(7,0,0|(l=3*(14-u|0)|0))),u=a&~(0|x()),n,r),a=r+(o<<3)|0,!s)return Fe((A=0|Bt(1,0,0|l))|t,0|x()|u,n,a),A=a+(o<<3)|0,Fe((c=0|Bt(2,0,0|l))|t,0|x()|u,n,A),A=A+(o<<3)|0,Fe((c=0|Bt(3,0,0|l))|t,0|x()|u,n,A),A=A+(o<<3)|0,Fe((c=0|Bt(4,0,0|l))|t,0|x()|u,n,A),A=A+(o<<3)|0,Fe((c=0|Bt(5,0,0|l))|t,0|x()|u,n,A),void Fe((c=0|Bt(6,0,0|l))|t,0|x()|u,n,A+(o<<3)|0);s=a+(o<<3)|0,(0|c)>6&&(Ot(0|a,0,(A=(s>>>0>(c=a+8|0)>>>0?s:c)+-1+(0-a)|0)+8&-8|0),a=c+(A>>>3<<3)|0),Fe((A=0|Bt(2,0,0|l))|t,0|x()|u,n,a),A=a+(o<<3)|0,Fe((c=0|Bt(3,0,0|l))|t,0|x()|u,n,A),A=A+(o<<3)|0,Fe((c=0|Bt(4,0,0|l))|t,0|x()|u,n,A),A=A+(o<<3)|0,Fe((c=0|Bt(5,0,0|l))|t,0|x()|u,n,A),Fe((c=0|Bt(6,0,0|l))|t,0|x()|u,n,A+(o<<3)|0)}}function Ie(e,t){var n=0,r=0,i=0;if(i=0|Ct(0|(e|=0),0|(t|=0),45),x(),!(0|R(127&i)))return 0|(i=0);i=0|Ct(0|e,0|t,52),x(),i&=15;e:do{if(i)for(r=1;;){if(n=0|Ct(0|e,0|t,3*(15-r|0)|0),x(),0|(n&=7))break e;if(!(r>>>0<i>>>0)){n=0;break}r=r+1|0}else n=0}while(0);return 0|(i=0==(0|n)&1)}function Le(e,t){var n=0,r=0,i=0;if(i=0|Ct(0|(e|=0),0|(t|=0),52),x(),!(i&=15))return 0|(i=0);for(r=1;;){if(n=0|Ct(0|e,0|t,3*(15-r|0)|0),x(),0|(n&=7)){r=5;break}if(!(r>>>0<i>>>0)){n=0,r=5;break}r=r+1|0}return 5==(0|r)?0|n:0}function Re(e,t){var n=0,r=0,i=0,o=0,a=0,s=0,u=0;if(u=0|Ct(0|(e|=0),0|(t|=0),52),x(),!(u&=15))return u=e,w(0|(s=t)),0|u;for(s=1,n=0;;){r=0|Bt(7,0,0|(o=3*(15-s|0)|0)),i=0|x(),a=0|Ct(0|e,0|t,0|o),x(),e=(o=0|Bt(0|ue(7&a),0,0|o))|e&~r,t=(a=0|x())|t&~i;e:do{if(!n)if(0==(o&r|0)&0==(a&i|0))n=0;else if(r=0|Ct(0|e,0|t,52),x(),r&=15){n=1;t:for(;;){switch(a=0|Ct(0|e,0|t,3*(15-n|0)|0),x(),7&a){case 1:break t;case 0:break;default:n=1;break e}if(!(n>>>0<r>>>0)){n=1;break e}n=n+1|0}for(n=1;;){if(i=0|Ct(0|e,0|t,0|(a=3*(15-n|0)|0)),x(),o=0|Bt(7,0,0|a),t&=~(0|x()),e=e&~o|(a=0|Bt(0|ue(7&i),0,0|a)),t=0|t|x(),!(n>>>0<r>>>0)){n=1;break}n=n+1|0}}else n=1}while(0);if(!(s>>>0<u>>>0))break;s=s+1|0}return w(0|t),0|e}function De(e,t){var n=0,r=0,i=0,o=0,a=0;if(r=0|Ct(0|(e|=0),0|(t|=0),52),x(),!(r&=15))return r=e,w(0|(n=t)),0|r;for(n=1;a=0|Ct(0|e,0|t,0|(o=3*(15-n|0)|0)),x(),i=0|Bt(7,0,0|o),t&=~(0|x()),e=(o=0|Bt(0|ue(7&a),0,0|o))|e&~i,t=0|x()|t,n>>>0<r>>>0;)n=n+1|0;return w(0|t),0|e}function Ze(e,t){var n=0,r=0,i=0,o=0,a=0,s=0,u=0;if(u=0|Ct(0|(e|=0),0|(t|=0),52),x(),!(u&=15))return u=e,w(0|(s=t)),0|u;for(s=1,n=0;;){r=0|Bt(7,0,0|(o=3*(15-s|0)|0)),i=0|x(),a=0|Ct(0|e,0|t,0|o),x(),e=(o=0|Bt(0|le(7&a),0,0|o))|e&~r,t=(a=0|x())|t&~i;e:do{if(!n)if(0==(o&r|0)&0==(a&i|0))n=0;else if(r=0|Ct(0|e,0|t,52),x(),r&=15){n=1;t:for(;;){switch(a=0|Ct(0|e,0|t,3*(15-n|0)|0),x(),7&a){case 1:break t;case 0:break;default:n=1;break e}if(!(n>>>0<r>>>0)){n=1;break e}n=n+1|0}for(n=1;;){if(o=0|Bt(7,0,0|(i=3*(15-n|0)|0)),a=t&~(0|x()),t=0|Ct(0|e,0|t,0|i),x(),e=e&~o|(t=0|Bt(0|le(7&t),0,0|i)),t=0|a|x(),!(n>>>0<r>>>0)){n=1;break}n=n+1|0}}else n=1}while(0);if(!(s>>>0<u>>>0))break;s=s+1|0}return w(0|t),0|e}function Ue(e,t){var n=0,r=0,i=0,o=0,a=0;if(r=0|Ct(0|(e|=0),0|(t|=0),52),x(),!(r&=15))return r=e,w(0|(n=t)),0|r;for(n=1;o=0|Bt(7,0,0|(a=3*(15-n|0)|0)),i=t&~(0|x()),t=0|Ct(0|e,0|t,0|a),x(),e=(t=0|Bt(0|le(7&t),0,0|a))|e&~o,t=0|x()|i,n>>>0<r>>>0;)n=n+1|0;return w(0|t),0|e}function je(e){return 0|(0|(e|=0))%2}function Ne(e,t){e|=0;var n,r;return r=T,T=T+16|0,n=r,(t|=0)>>>0<=15&&2146435072!=(2146435072&i[e+4>>2]|0)&&2146435072!=(2146435072&i[e+8+4>>2]|0)?(!function(e,t,n){var r,i;r=T,T=T+16|0,ve(e|=0,t|=0,n|=0,i=r),K(i,n+4|0),T=r}(e,t,n),t=0|function(e,t){e|=0;var n,r=0,o=0,a=0,s=0,u=0,l=0,c=0,A=0;if(n=T,T=T+64|0,l=n+40|0,o=n+24|0,a=n+12|0,s=n,Bt(0|(t|=0),0,52),r=134225919|x(),!t)return(0|i[e+4>>2])>2||(0|i[e+8>>2])>2||(0|i[e+12>>2])>2?(l=0,w(0|(u=0)),T=n,0|l):(Bt(0|Z(e),0,45),u=0|x()|r,l=-1,w(0|u),T=n,0|l);if(i[l>>2]=i[e>>2],i[l+4>>2]=i[e+4>>2],i[l+8>>2]=i[e+8>>2],i[l+12>>2]=i[e+12>>2],u=l+4|0,(0|t)>0)for(e=-1;i[o>>2]=i[u>>2],i[o+4>>2]=i[u+4>>2],i[o+8>>2]=i[u+8>>2],1&t?(te(u),i[a>>2]=i[u>>2],i[a+4>>2]=i[u+4>>2],i[a+8>>2]=i[u+8>>2],re(a)):(ne(u),i[a>>2]=i[u>>2],i[a+4>>2]=i[u+4>>2],i[a+8>>2]=i[u+8>>2],ie(a)),J(o,a,s),q(s),c=0|Bt(7,0,0|(A=3*(15-t|0)|0)),r&=~(0|x()),e=(A=0|Bt(0|ee(s),0,0|A))|e&~c,r=0|x()|r,(0|t)>1;)t=t+-1|0;else e=-1;e:do{if((0|i[u>>2])<=2&&(0|i[l+8>>2])<=2&&(0|i[l+12>>2])<=2){if(t=0|Bt(0|(o=0|Z(l)),0,45),t|=e,e=0|x()|-1040385&r,s=0|U(l),!(0|R(o))){if((0|s)<=0)break;for(a=0;;){if(o=0|Ct(0|t,0|e,52),x(),o&=15)for(r=1;l=0|Ct(0|t,0|e,0|(A=3*(15-r|0)|0)),x(),c=0|Bt(7,0,0|A),e&=~(0|x()),t=t&~c|(A=0|Bt(0|ue(7&l),0,0|A)),e=0|e|x(),r>>>0<o>>>0;)r=r+1|0;if((0|(a=a+1|0))==(0|s))break e}}a=0|Ct(0|t,0|e,52),x(),a&=15;t:do{if(a){r=1;n:for(;;){switch(A=0|Ct(0|t,0|e,3*(15-r|0)|0),x(),7&A){case 1:break n;case 0:break;default:break t}if(!(r>>>0<a>>>0))break t;r=r+1|0}if(0|j(o,0|i[l>>2]))for(r=1;c=0|Bt(7,0,0|(l=3*(15-r|0)|0)),A=e&~(0|x()),e=0|Ct(0|t,0|e,0|l),x(),t=t&~c|(e=0|Bt(0|le(7&e),0,0|l)),e=0|A|x(),r>>>0<a>>>0;)r=r+1|0;else for(r=1;l=0|Ct(0|t,0|e,0|(A=3*(15-r|0)|0)),x(),c=0|Bt(7,0,0|A),e&=~(0|x()),t=t&~c|(A=0|Bt(0|ue(7&l),0,0|A)),e=0|e|x(),r>>>0<a>>>0;)r=r+1|0}}while(0);if((0|s)>0){r=0;do{t=0|Re(t,e),e=0|x(),r=r+1|0}while((0|r)!=(0|s))}}else t=0,e=0}while(0);return A=t,w(0|(c=e)),T=n,0|A}(n,t),e=0|x()):(e=0,t=0),w(0|e),T=r,0|t}function ze(e,t,n){var r,o=0,a=0,s=0;if(r=(n|=0)+4|0,a=0|Ct(0|(e|=0),0|(t|=0),52),x(),a&=15,s=0|Ct(0|e,0|t,45),x(),o=0==(0|a),0|R(127&s)){if(o)return 0|(s=1);o=1}else{if(o)return 0|(s=0);o=0==(0|i[r>>2])&&0==(0|i[n+8>>2])?0!=(0|i[n+12>>2])&1:1}for(n=1;1&n?re(r):ie(r),s=0|Ct(0|e,0|t,3*(15-n|0)|0),x(),oe(r,7&s),n>>>0<a>>>0;)n=n+1|0;return 0|o}function Qe(e,t,n){n|=0;var r,o,a=0,s=0,u=0,l=0,c=0,A=0;o=T,T=T+16|0,r=o,A=0|Ct(0|(e|=0),0|(t|=0),45),x(),A&=127;e:do{if(0!=(0|R(A))&&(u=0|Ct(0|e,0|t,52),x(),0!=(0|(u&=15)))){a=1;t:for(;;){switch(c=0|Ct(0|e,0|t,3*(15-a|0)|0),x(),7&c){case 5:break t;case 0:break;default:a=t;break e}if(!(a>>>0<u>>>0)){a=t;break e}a=a+1|0}for(s=1,a=t;l=0|Bt(7,0,0|(t=3*(15-s|0)|0)),c=a&~(0|x()),a=0|Ct(0|e,0|a,0|t),x(),e=e&~l|(a=0|Bt(0|le(7&a),0,0|t)),a=0|c|x(),s>>>0<u>>>0;)s=s+1|0}else a=t}while(0);if(c=7728+(28*A|0)|0,i[n>>2]=i[c>>2],i[n+4>>2]=i[c+4>>2],i[n+8>>2]=i[c+8>>2],i[n+12>>2]=i[c+12>>2],0|ze(e,a,n)){if(l=n+4|0,i[r>>2]=i[l>>2],i[r+4>>2]=i[l+4>>2],i[r+8>>2]=i[l+8>>2],u=0|Ct(0|e,0|a,52),x(),c=15&u,1&u?(ie(l),u=c+1|0):u=c,0|R(A)){e:do{if(c)for(t=1;;){if(s=0|Ct(0|e,0|a,3*(15-t|0)|0),x(),0|(s&=7)){a=s;break e}if(!(t>>>0<c>>>0)){a=0;break}t=t+1|0}else a=0}while(0);a=4==(0|a)&1}else a=0;if(0|we(n,u,a,0)){if(0|R(A))do{}while(0!=(0|we(n,u,0,0)));(0|u)!=(0|c)&&ne(l)}else(0|u)!=(0|c)&&(i[l>>2]=i[r>>2],i[l+4>>2]=i[r+4>>2],i[l+8>>2]=i[r+8>>2]);T=o}else T=o}function He(e,t,n){n|=0;var r,i;r=T,T=T+16|0,Qe(e|=0,t|=0,i=r),t=0|Ct(0|e,0|t,52),x(),me(i,15&t,n),T=r}function Ve(e,t,n){n|=0;var r,i,o=0,a=0;i=T,T=T+16|0,Qe(e|=0,t|=0,r=i),o=0|Ct(0|e,0|t,45),x(),o=0==(0|R(127&o)),a=0|Ct(0|e,0|t,52),x(),a&=15;e:do{if(!o){if(0|a)for(o=1;;){if(!(0==((0|Bt(7,0,3*(15-o|0)|0))&e|0)&0==((0|x())&t|0)))break e;if(!(o>>>0<a>>>0))break;o=o+1|0}return be(r,a,0,5,n),void(T=i)}}while(0);Ce(r,a,0,6,n),T=i}function Ge(e,t){t|=0;var n,r=0,o=0,a=0,s=0,u=0,l=0;if(Bt(0|(e|=0),0,52),n=134225919|x(),(0|e)<1){o=0,r=0;do{0|R(o)&&(Bt(0|o,0,45),u=0|n|x(),i[(e=t+(r<<3)|0)>>2]=-1,i[e+4>>2]=u,r=r+1|0),o=o+1|0}while(122!=(0|o))}else{u=0,r=0;do{if(0|R(u)){for(Bt(0|u,0,45),o=1,a=-1,s=0|n|x();a&=~(l=0|Bt(7,0,3*(15-o|0)|0)),s&=~(0|x()),(0|o)!=(0|e);)o=o+1|0;i[(l=t+(r<<3)|0)>>2]=a,i[l+4>>2]=s,r=r+1|0}u=u+1|0}while(122!=(0|u))}}function We(e,t,n,r){var o,a=0,s=0,u=0,l=0,c=0;if(o=T,T=T+64|0,u=o,(0|(e|=0))==(0|(n|=0))&(0|(t|=0))==(0|(r|=0))|!1|134217728!=(2013265920&t|0)|!1|134217728!=(2013265920&r|0))return T=o,0|(u=0);if(a=0|Ct(0|e,0|t,52),x(),a&=15,s=0|Ct(0|n,0|r,52),x(),(0|a)!=(15&s|0))return T=o,0|(u=0);if(s=a+-1|0,a>>>0>1&&(c=0|Me(e,t,s),l=0|x(),(0|c)==(0|(s=0|Me(n,r,s)))&(0|l)==(0|x()))){if(a=0|Ct(0|e,0|t,0|(s=3*(15^a)|0)),x(),a&=7,s=0|Ct(0|n,0|r,0|s),x(),0==(0|a)|0==(0|(s&=7)))return T=o,0|(c=1);if((0|i[21136+(a<<2)>>2])==(0|s))return T=o,0|(c=1);if((0|i[21168+(a<<2)>>2])==(0|s))return T=o,0|(c=1)}s=(a=u)+56|0;do{i[a>>2]=0,a=a+4|0}while((0|a)<(0|s));return P(e,t,1,u),a=(0|i[(c=u)>>2])==(0|n)&&(0|i[c+4>>2])==(0|r)||(0|i[(c=u+8|0)>>2])==(0|n)&&(0|i[c+4>>2])==(0|r)||(0|i[(c=u+16|0)>>2])==(0|n)&&(0|i[c+4>>2])==(0|r)||(0|i[(c=u+24|0)>>2])==(0|n)&&(0|i[c+4>>2])==(0|r)||(0|i[(c=u+32|0)>>2])==(0|n)&&(0|i[c+4>>2])==(0|r)||(0|i[(c=u+40|0)>>2])==(0|n)&&(0|i[c+4>>2])==(0|r)?1:1&((0|i[(a=u+48|0)>>2])==(0|n)?(0|i[a+4>>2])==(0|r):0),T=o,0|(c=a)}function Ke(e,t,n){n|=0;var r,o,a,s,u=0;if(a=T,T=T+16|0,o=a,u=0|Ct(0|(e|=0),0|(t|=0),56),x(),t=0|function(e,t,n){n|=0;var r=0,o=0;if(r=0|Ie(e=e|0,t=t|0),(n+-1|0)>>>0>5)return 0|(n=-1);if(1==(0|n)&(o=0!=(0|r)))return 0|(n=-1);return r=0|function(e,t){var n=0,r=0,o=0,a=0,s=0,u=0,l=0,c=0;if(c=T,T=T+32|0,a=c,Qe(e=e|0,t=t|0,o=c+16|0),s=0|Te(e,t),l=0|Le(e,t),function(e,t){e=7728+(28*(e|=0)|0)|0,i[(t|=0)>>2]=i[e>>2],i[t+4>>2]=i[e+4>>2],i[t+8>>2]=i[e+8>>2],i[t+12>>2]=i[e+12>>2]}(s,a),t=0|function(e,t){e|=0;var n=0,r=0;if((t|=0)>>>0>20)return-1;do{if((0|i[11152+(216*t|0)>>2])!=(0|e))if((0|i[11152+(216*t|0)+8>>2])!=(0|e))if((0|i[11152+(216*t|0)+16>>2])!=(0|e))if((0|i[11152+(216*t|0)+24>>2])!=(0|e))if((0|i[11152+(216*t|0)+32>>2])!=(0|e))if((0|i[11152+(216*t|0)+40>>2])!=(0|e))if((0|i[11152+(216*t|0)+48>>2])!=(0|e))if((0|i[11152+(216*t|0)+56>>2])!=(0|e))if((0|i[11152+(216*t|0)+64>>2])!=(0|e))if((0|i[11152+(216*t|0)+72>>2])!=(0|e))if((0|i[11152+(216*t|0)+80>>2])!=(0|e))if((0|i[11152+(216*t|0)+88>>2])!=(0|e))if((0|i[11152+(216*t|0)+96>>2])!=(0|e))if((0|i[11152+(216*t|0)+104>>2])!=(0|e))if((0|i[11152+(216*t|0)+112>>2])!=(0|e))if((0|i[11152+(216*t|0)+120>>2])!=(0|e))if((0|i[11152+(216*t|0)+128>>2])!=(0|e)){if((0|i[11152+(216*t|0)+136>>2])!=(0|e)){if((0|i[11152+(216*t|0)+144>>2])==(0|e)){e=0,n=2,r=0;break}if((0|i[11152+(216*t|0)+152>>2])==(0|e)){e=0,n=2,r=1;break}if((0|i[11152+(216*t|0)+160>>2])==(0|e)){e=0,n=2,r=2;break}if((0|i[11152+(216*t|0)+168>>2])==(0|e)){e=1,n=2,r=0;break}if((0|i[11152+(216*t|0)+176>>2])==(0|e)){e=1,n=2,r=1;break}if((0|i[11152+(216*t|0)+184>>2])==(0|e)){e=1,n=2,r=2;break}if((0|i[11152+(216*t|0)+192>>2])==(0|e)){e=2,n=2,r=0;break}if((0|i[11152+(216*t|0)+200>>2])==(0|e)){e=2,n=2,r=1;break}if((0|i[11152+(216*t|0)+208>>2])==(0|e)){e=2,n=2,r=2;break}return-1}e=2,n=1,r=2}else e=2,n=1,r=1;else e=2,n=1,r=0;else e=1,n=1,r=2;else e=1,n=1,r=1;else e=1,n=1,r=0;else e=0,n=1,r=2;else e=0,n=1,r=1;else e=0,n=1,r=0;else e=2,n=0,r=2;else e=2,n=0,r=1;else e=2,n=0,r=0;else e=1,n=0,r=2;else e=1,n=0,r=1;else e=1,n=0,r=0;else e=0,n=0,r=2;else e=0,n=0,r=1;else e=0,n=0,r=0}while(0);return 0|i[11152+(216*t|0)+(72*n|0)+(24*e|0)+(r<<3)+4>>2]}(s,0|i[o>>2]),!(0|R(s)))return T=c,0|(l=t);switch(0|s){case 4:e=0,n=14;break;case 14:e=1,n=14;break;case 24:e=2,n=14;break;case 38:e=3,n=14;break;case 49:e=4,n=14;break;case 58:e=5,n=14;break;case 63:e=6,n=14;break;case 72:e=7,n=14;break;case 83:e=8,n=14;break;case 97:e=9,n=14;break;case 107:e=10,n=14;break;case 117:e=11,n=14;break;default:u=0,r=0}14==(0|n)&&(u=0|i[22096+(24*e|0)+8>>2],r=0|i[22096+(24*e|0)+16>>2]);(0|(e=0|i[o>>2]))!=(0|i[a>>2])&&(s=0|D(s))|(0|(e=0|i[o>>2]))==(0|r)&&(t=(t+1|0)%6|0);if(3==(0|l)&(0|e)==(0|r))return T=c,0|(l=(t+5|0)%6|0);if(!(5==(0|l)&(0|e)==(0|u)))return T=c,0|(l=t);return T=c,0|(l=(t+1|0)%6|0)}(e,t),o?0|(n=(5-r+(0|i[22384+(n<<2)>>2])|0)%5|0):0|(n=(6-r+(0|i[22416+(n<<2)>>2])|0)%6|0)}(r=(s=!0&268435456==(2013265920&t|0))?e:0,e=s?-2130706433&t|134217728:0,7&u),-1==(0|t))return i[n>>2]=0,void(T=a);Qe(r,e,o),u=0|Ct(0|r,0|e,52),x(),u&=15,0|Ie(r,e)?be(o,u,t,2,n):Ce(o,u,t,2,n),T=a}function qe(e){e|=0;var t,n,r=0;return(t=0|mt(1,12))||C(22691,22646,49,22704),0|(r=0|i[(n=e+4|0)>>2])?(i[(r=r+8|0)>>2]=t,i[n>>2]=t,0|t):(0|i[e>>2]&&C(22721,22646,61,22744),i[(r=e)>>2]=t,i[n>>2]=t,0|t)}function Xe(e,t){e|=0,t|=0;var n,r;return(r=0|vt(24))||C(22758,22646,78,22772),i[r>>2]=i[t>>2],i[r+4>>2]=i[t+4>>2],i[r+8>>2]=i[t+8>>2],i[r+12>>2]=i[t+12>>2],i[r+16>>2]=0,0|(n=0|i[(t=e+4|0)>>2])?(i[n+16>>2]=r,i[t>>2]=r,0|r):(0|i[e>>2]&&C(22787,22646,82,22772),i[e>>2]=r,i[t>>2]=r,0|r)}function Ye(e){var t,n,r=0,a=0,s=0,l=0,c=0,A=0,f=0,h=0,p=0,d=0,g=0,v=0,y=0,m=0,b=0,_=0,w=0,x=0,B=0,E=0,S=0,k=0,O=0,T=0,P=0,M=0,F=0,I=0,L=0,R=0;if(0|i[(l=(e|=0)+8|0)>>2])return 0|(R=1);if(!(s=0|i[e>>2]))return 0|(R=0);r=s,a=0;do{a=a+1|0,r=0|i[r+8>>2]}while(0!=(0|r));if(a>>>0<2)return 0|(R=0);(n=0|vt(a<<2))||C(22807,22646,317,22826),(t=0|vt(a<<5))||C(22848,22646,321,22826),i[e>>2]=0,i[(k=e+4|0)>>2]=0,i[l>>2]=0,a=0,I=0,S=0,g=0;e:for(;;){if(d=0|i[s>>2]){c=0,A=d;do{if(h=+o[A+8>>3],r=A,A=0|i[A+16>>2],f=+o[(l=(p=0==(0|A))?d:A)+8>>3],+u(+(h-f))>3.141592653589793){R=14;break}c+=(f-h)*(+o[r>>3]+ +o[l>>3])}while(!p);if(14==(0|R)){R=0,c=0,r=d;do{E=+o[r+8>>3],M=0|i[(F=r+16|0)>>2],B=+o[(M=0==(0|M)?d:M)+8>>3],c+=(+o[r>>3]+ +o[M>>3])*((B<0?B+6.283185307179586:B)-(E<0?E+6.283185307179586:E)),r=0|i[(0==(0|r)?s:F)>>2]}while(0!=(0|r))}c>0?(i[n+(I<<2)>>2]=s,I=I+1|0,l=S,r=g):R=19}else R=19;if(19==(0|R)){R=0;do{if(!a){if(g){l=k,A=g+8|0,r=s,a=e;break}if(0|i[e>>2]){R=27;break e}l=k,A=e,r=s,a=e;break}if(0|i[(r=a+8|0)>>2]){R=21;break e}if(!(a=0|mt(1,12))){R=23;break e}i[r>>2]=a,l=a+4|0,A=a,r=g}while(0);if(i[A>>2]=s,i[l>>2]=s,A=t+(S<<5)|0,p=0|i[s>>2]){for(o[(d=t+(S<<5)+8|0)>>3]=17976931348623157e292,o[(g=t+(S<<5)+24|0)>>3]=17976931348623157e292,o[A>>3]=-17976931348623157e292,o[(v=t+(S<<5)+16|0)>>3]=-17976931348623157e292,w=17976931348623157e292,x=-17976931348623157e292,l=0,y=p,h=17976931348623157e292,b=17976931348623157e292,_=-17976931348623157e292,f=-17976931348623157e292;c=+o[y>>3],E=+o[y+8>>3],y=0|i[y+16>>2],B=+o[((m=0==(0|y))?p:y)+8>>3],c<h&&(o[d>>3]=c,h=c),E<b&&(o[g>>3]=E,b=E),c>_?o[A>>3]=c:c=_,E>f&&(o[v>>3]=E,f=E),w=E>0&E<w?E:w,x=E<0&E>x?E:x,l|=+u(+(E-B))>3.141592653589793,!m;)_=c;l&&(o[v>>3]=x,o[g>>3]=w)}else i[A>>2]=0,i[A+4>>2]=0,i[A+8>>2]=0,i[A+12>>2]=0,i[A+16>>2]=0,i[A+20>>2]=0,i[A+24>>2]=0,i[A+28>>2]=0;l=S+1|0}if(s=0|i[(F=s+8|0)>>2],i[F>>2]=0,!s){R=45;break}S=l,g=r}if(21==(0|R))C(22624,22646,35,22658);else if(23==(0|R))C(22678,22646,37,22658);else if(27==(0|R))C(22721,22646,61,22744);else if(45==(0|R)){e:do{if((0|I)>0){for(F=0==(0|l),P=l<<2,M=0==(0|e),T=0,r=0;;){if(O=0|i[n+(T<<2)>>2],F)R=73;else{if(!(S=0|vt(P))){R=50;break}if(!(k=0|vt(P))){R=52;break}t:do{if(M)a=0;else{for(l=0,a=0,A=e;s=t+(l<<5)|0,0|Je(0|i[A>>2],s,0|i[O>>2])?(i[S+(a<<2)>>2]=A,i[k+(a<<2)>>2]=s,m=a+1|0):m=a,A=0|i[A+8>>2];)l=l+1|0,a=m;if((0|m)>0)if(s=0|i[S>>2],1==(0|m))a=s;else for(v=0,y=-1,a=s,g=s;;){for(p=0|i[g>>2],s=0,A=0;d=(0|(l=0|i[i[S+(A<<2)>>2]>>2]))==(0|p)?s:s+(1&(0|Je(l,0|i[k+(A<<2)>>2],0|i[p>>2])))|0,(0|(A=A+1|0))!=(0|m);)s=d;if(a=(l=(0|d)>(0|y))?g:a,(0|(s=v+1|0))==(0|m))break t;v=s,y=l?d:y,g=0|i[S+(s<<2)>>2]}else a=0}}while(0);if(yt(S),yt(k),a){if(s=0|i[(l=a+4|0)>>2])a=s+8|0;else if(0|i[a>>2]){R=70;break}i[a>>2]=O,i[l>>2]=O}else R=73}if(73==(0|R)){if(R=0,0|(r=0|i[O>>2]))do{k=r,r=0|i[r+16>>2],yt(k)}while(0!=(0|r));yt(O),r=2}if((0|(T=T+1|0))>=(0|I)){L=r;break e}}50==(0|R)?C(22863,22646,249,22882):52==(0|R)?C(22901,22646,252,22882):70==(0|R)&&C(22721,22646,61,22744)}else L=0}while(0);return yt(n),yt(t),0|(R=L)}return 0}function Je(e,t,n){e|=0;var r,a=0,s=0,u=0,l=0,c=0,A=0,f=0;if(!(0|H(t|=0,n|=0)))return 0|(e=0);if(t=0|Q(t),r=+o[n>>3],a=t&(a=+o[n+8>>3])<0?a+6.283185307179586:a,!(e=0|i[e>>2]))return 0|(e=0);if(t){t=0,n=e;e:for(;;){for(;l=+o[n>>3],A=+o[n+8>>3],f=0|i[(n=n+16|0)>>2],u=+o[(f=0==(0|f)?e:f)>>3],s=+o[f+8>>3],l>u?(c=l,l=A):(c=u,u=l,l=s,s=A),r<u|r>c;)if(!(n=0|i[n>>2])){n=22;break e}if(a=(l=l<0?l+6.283185307179586:l)==a|(A=s<0?s+6.283185307179586:s)==a?a+-2220446049250313e-31:a,((A+=(r-u)/(c-u)*(l-A))<0?A+6.283185307179586:A)>a&&(t^=1),!(n=0|i[n>>2])){n=22;break}}if(22==(0|n))return 0|t}else{t=0,n=e;e:for(;;){for(;l=+o[n>>3],A=+o[n+8>>3],f=0|i[(n=n+16|0)>>2],u=+o[(f=0==(0|f)?e:f)>>3],s=+o[f+8>>3],l>u?(c=l,l=A):(c=u,u=l,l=s,s=A),r<u|r>c;)if(!(n=0|i[n>>2])){n=22;break e}if(s+(r-u)/(c-u)*(l-s)>(a=l==a|s==a?a+-2220446049250313e-31:a)&&(t^=1),!(n=0|i[n>>2])){n=22;break}}if(22==(0|n))return 0|t}return 0}function $e(e,t,n,o,a){n|=0,o|=0,a|=0;var s,u,l,c,A=0,f=0,h=0,p=0,d=0,g=0,v=0,y=0,m=0,b=0;if(c=T,T=T+32|0,b=c+16|0,l=c,A=0|Ct(0|(e|=0),0|(t|=0),52),x(),A&=15,v=0|Ct(0|n,0|o,52),x(),(0|A)!=(15&v|0))return T=c,0|(b=1);if(d=0|Ct(0|e,0|t,45),x(),d&=127,g=0|Ct(0|n,0|o,45),x(),v=(0|d)!=(0|(g&=127))){if(7==(0|(h=0|z(d,g))))return T=c,0|(b=2);7==(0|(p=0|z(g,d)))?C(22925,22949,151,22959):(y=h,f=p)}else y=0,f=0;s=0|R(d),u=0|R(g),i[b>>2]=0,i[b+4>>2]=0,i[b+8>>2]=0,i[b+12>>2]=0;do{if(y){if(h=(0|(g=0|i[4304+(28*d|0)+(y<<2)>>2]))>0,u)if(h){d=0,p=n,h=o;do{p=0|Ze(p,h),h=0|x(),1==(0|(f=0|le(f)))&&(f=0|le(1)),d=d+1|0}while((0|d)!=(0|g));g=f,d=p,p=h}else g=f,d=n,p=o;else if(h){d=0,p=n,h=o;do{p=0|Ue(p,h),h=0|x(),f=0|le(f),d=d+1|0}while((0|d)!=(0|g));g=f,d=p,p=h}else g=f,d=n,p=o;if(ze(d,p,b),v||C(22972,22949,181,22959),(h=0!=(0|s))&(f=0!=(0|u))&&C(22999,22949,182,22959),h){if(f=0|Le(e,t),0|r[22032+(7*f|0)+y>>0]){A=3;break}d=p=0|i[21200+(28*f|0)+(y<<2)>>2],m=26}else if(f){if(f=0|Le(d,p),0|r[22032+(7*f|0)+g>>0]){A=4;break}d=0,p=0|i[21200+(28*g|0)+(f<<2)>>2],m=26}else f=0;if(26==(0|m))if((0|p)<=-1&&C(23030,22949,212,22959),(0|d)<=-1&&C(23053,22949,213,22959),(0|p)>0){h=b+4|0,f=0;do{se(h),f=f+1|0}while((0|f)!=(0|p));f=d}else f=d;if(i[l>>2]=0,i[l+4>>2]=0,i[l+8>>2]=0,oe(l,y),0|A)for(;0|je(A)?re(l):ie(l),(0|A)>1;)A=A+-1|0;if((0|f)>0){A=0;do{se(l),A=A+1|0}while((0|A)!=(0|f))}Y(m=b+4|0,l,m),q(m),m=50}else if(ze(n,o,b),0!=(0|s)&0!=(0|u))if((0|g)!=(0|d)&&C(23077,22949,243,22959),f=0|Le(e,t),A=0|Le(n,o),0|r[22032+(7*f|0)+A>>0])A=5;else if((0|(f=0|i[21200+(28*f|0)+(A<<2)>>2]))>0){h=b+4|0,A=0;do{se(h),A=A+1|0}while((0|A)!=(0|f));m=50}else m=50;else m=50}while(0);return 50==(0|m)&&(A=b+4|0,i[a>>2]=i[A>>2],i[a+4>>2]=i[A+4>>2],i[a+8>>2]=i[A+8>>2],A=0),T=c,0|(b=A)}function et(e,t,n,r){n|=0,r|=0;var o,a,s=0,u=0,l=0,c=0,A=0,f=0,h=0,p=0,d=0,g=0,v=0,y=0,m=0;if(a=T,T=T+48|0,l=a+36|0,c=a+24|0,A=a+12|0,f=a,u=0|Ct(0|(e|=0),0|(t|=0),52),x(),u&=15,p=0|Ct(0|e,0|t,45),x(),o=0|R(p&=127),Bt(0|u,0,52),v=134225919|x(),i[(g=r)>>2]=-1,i[g+4>>2]=v,!u)return(0|i[n>>2])>1||(0|i[n+4>>2])>1||(0|i[n+8>>2])>1||127==(0|(s=0|N(p,0|ee(n))))?(T=a,0|(v=1)):(d=0|Bt(0|s,0,45),g=0|x(),g=-1040385&i[(p=r)+4>>2]|g,i[(v=r)>>2]=i[p>>2]|d,i[v+4>>2]=g,T=a,0|(v=0));for(i[l>>2]=i[n>>2],i[l+4>>2]=i[n+4>>2],i[l+8>>2]=i[n+8>>2];i[c>>2]=i[l>>2],i[c+4>>2]=i[l+4>>2],i[c+8>>2]=i[l+8>>2],0|je(u)?(te(l),i[A>>2]=i[l>>2],i[A+4>>2]=i[l+4>>2],i[A+8>>2]=i[l+8>>2],re(A)):(ne(l),i[A>>2]=i[l>>2],i[A+4>>2]=i[l+4>>2],i[A+8>>2]=i[l+8>>2],ie(A)),J(c,A,f),q(f),y=0|i[(g=r)>>2],g=0|i[g+4>>2],n=0|Bt(7,0,0|(m=3*(15-u|0)|0)),g&=~(0|x()),m=0|Bt(0|ee(f),0,0|m),g=0|x()|g,i[(v=r)>>2]=m|y&~n,i[v+4>>2]=g,(0|u)>1;)u=u+-1|0;e:do{if((0|i[l>>2])<=1&&(0|i[l+4>>2])<=1&&(0|i[l+8>>2])<=1){f=127==(0|(c=0|N(p,u=0|ee(l))))?0:0|R(c);t:do{if(u){if(o){if(l=21408+(28*(0|Le(e,t))|0)+(u<<2)|0,(0|(l=0|i[l>>2]))>0){n=0;do{u=0|ue(u),n=n+1|0}while((0|n)!=(0|l))}if(1==(0|u)){s=3;break e}127==(0|(n=0|N(p,u)))&&C(23104,22949,376,23134),0|R(n)?C(23147,22949,377,23134):(d=l,h=u,s=n)}else d=0,h=u,s=c;if((0|(A=0|i[4304+(28*p|0)+(h<<2)>>2]))<=-1&&C(23178,22949,384,23134),!f){if((0|d)<=-1&&C(23030,22949,417,23134),0|d){u=0,n=0|i[(l=r)>>2],l=0|i[l+4>>2];do{n=0|De(n,l),l=0|x(),i[(m=r)>>2]=n,i[m+4>>2]=l,u=u+1|0}while((0|u)<(0|d))}if((0|A)<=0){u=54;break}for(u=0,n=0|i[(l=r)>>2],l=0|i[l+4>>2];;)if(n=0|De(n,l),l=0|x(),i[(m=r)>>2]=n,i[m+4>>2]=l,(0|(u=u+1|0))==(0|A)){u=54;break t}}if(7==(0|(c=0|z(s,p)))&&C(22925,22949,393,23134),n=0|i[(u=r)>>2],u=0|i[u+4>>2],(0|A)>0){l=0;do{n=0|De(n,u),u=0|x(),i[(m=r)>>2]=n,i[m+4>>2]=u,l=l+1|0}while((0|l)!=(0|A))}if(n=0|Le(n,u),m=0|D(s),(0|(n=0|i[(m?21824:21616)+(28*c|0)+(n<<2)>>2]))<=-1&&C(23030,22949,412,23134),n){u=0,l=0|i[(c=r)>>2],c=0|i[c+4>>2];do{l=0|Re(l,c),c=0|x(),i[(m=r)>>2]=l,i[m+4>>2]=c,u=u+1|0}while((0|u)<(0|n));u=54}else u=54}else if(0!=(0|o)&0!=(0|f))if(u=21408+(28*(m=0|Le(e,t))|0)+((0|Le(0|i[(u=r)>>2],0|i[u+4>>2]))<<2)|0,(0|(u=0|i[u>>2]))<=-1&&C(23201,22949,433,23134),u){s=0,n=0|i[(l=r)>>2],l=0|i[l+4>>2];do{n=0|De(n,l),l=0|x(),i[(m=r)>>2]=n,i[m+4>>2]=l,s=s+1|0}while((0|s)<(0|u));s=c,u=54}else s=c,u=55;else s=c,u=54}while(0);if(54==(0|u)&&f&&(u=55),55==(0|u)&&1==(0|Le(0|i[(m=r)>>2],0|i[m+4>>2]))){s=4;break}v=0|i[(m=r)>>2],m=-1040385&i[m+4>>2],y=0|Bt(0|s,0,45),m=0|m|x(),i[(s=r)>>2]=v|y,i[s+4>>2]=m,s=0}else s=2}while(0);return T=a,0|(m=s)}function tt(e,t){var n=0;if(!(t|=0))return 0|(n=1);n=e|=0,e=1;do{e=0|m(0==(1&t|0)?1:n,e),t>>=1,n=0|m(n,n)}while(0!=(0|t));return 0|e}function nt(e,t,n){e|=0;var r,a,s=0,u=0,l=0,c=0,A=0,f=0,h=0,p=0;if(!(0|H(t|=0,n|=0)))return 0|(p=0);if(t=0|Q(t),a=+o[n>>3],s=t&(s=+o[n+8>>3])<0?s+6.283185307179586:s,(0|(p=0|i[e>>2]))<=0)return 0|(p=0);if(r=0|i[e+4>>2],t){t=0,n=-1,e=0;e:for(;;){for(h=e;c=+o[r+(h<<4)>>3],f=+o[r+(h<<4)+8>>3],l=+o[r+((e=(n+2|0)%(0|p)|0)<<4)>>3],u=+o[r+(e<<4)+8>>3],c>l?(A=c,c=f):(A=l,l=c,c=u,u=f),a<l|a>A;){if(!((0|(n=h+1|0))<(0|p))){n=22;break e}e=h,h=n,n=e}if(s=(c=c<0?c+6.283185307179586:c)==s|(f=u<0?u+6.283185307179586:u)==s?s+-2220446049250313e-31:s,((f+=(a-l)/(A-l)*(c-f))<0?f+6.283185307179586:f)>s&&(t^=1),(0|(e=h+1|0))>=(0|p)){n=22;break}n=h}if(22==(0|n))return 0|t}else{t=0,n=-1,e=0;e:for(;;){for(h=e;c=+o[r+(h<<4)>>3],f=+o[r+(h<<4)+8>>3],l=+o[r+((e=(n+2|0)%(0|p)|0)<<4)>>3],u=+o[r+(e<<4)+8>>3],c>l?(A=c,c=f):(A=l,l=c,c=u,u=f),a<l|a>A;){if(!((0|(n=h+1|0))<(0|p))){n=22;break e}e=h,h=n,n=e}if(u+(a-l)/(A-l)*(c-u)>(s=c==s|u==s?s+-2220446049250313e-31:s)&&(t^=1),(0|(e=h+1|0))>=(0|p)){n=22;break}n=h}if(22==(0|n))return 0|t}return 0}function rt(e,t){t|=0;var n,r,a,s,l,c=0,A=0,f=0,h=0,p=0,d=0,g=0,v=0,y=0,m=0,b=0,_=0;if(!(r=0|i[(e|=0)>>2]))return i[t>>2]=0,i[t+4>>2]=0,i[t+8>>2]=0,i[t+12>>2]=0,i[t+16>>2]=0,i[t+20>>2]=0,i[t+24>>2]=0,void(i[t+28>>2]=0);if(o[(a=t+8|0)>>3]=17976931348623157e292,o[(s=t+24|0)>>3]=17976931348623157e292,o[t>>3]=-17976931348623157e292,o[(l=t+16|0)>>3]=-17976931348623157e292,!((0|r)<=0)){for(n=0|i[e+4>>2],v=17976931348623157e292,y=-17976931348623157e292,m=0,e=-1,h=17976931348623157e292,p=17976931348623157e292,g=-17976931348623157e292,A=-17976931348623157e292,b=0;c=+o[n+(b<<4)>>3],d=+o[n+(b<<4)+8>>3],f=+o[n+(((0|(e=e+2|0))==(0|r)?0:e)<<4)+8>>3],c<h&&(o[a>>3]=c,h=c),d<p&&(o[s>>3]=d,p=d),c>g?o[t>>3]=c:c=g,d>A&&(o[l>>3]=d,A=d),v=d>0&d<v?d:v,y=d<0&d>y?d:y,m|=+u(+(d-f))>3.141592653589793,(0|(e=b+1|0))!=(0|r);)_=b,g=c,b=e,e=_;m&&(o[l>>3]=y,o[s>>3]=v)}}function it(e,t){t|=0;var n,r=0,a=0,s=0,l=0,c=0,A=0,f=0,h=0,p=0,d=0,g=0,v=0,y=0,m=0,b=0,_=0,w=0,x=0,C=0,B=0,E=0;if(y=0|i[(e|=0)>>2]){if(o[(m=t+8|0)>>3]=17976931348623157e292,o[(b=t+24|0)>>3]=17976931348623157e292,o[t>>3]=-17976931348623157e292,o[(_=t+16|0)>>3]=-17976931348623157e292,(0|y)>0){for(s=0|i[e+4>>2],g=17976931348623157e292,v=-17976931348623157e292,a=0,r=-1,f=17976931348623157e292,h=17976931348623157e292,d=-17976931348623157e292,c=-17976931348623157e292,w=0;l=+o[s+(w<<4)>>3],p=+o[s+(w<<4)+8>>3],A=+o[s+(((0|(B=r+2|0))==(0|y)?0:B)<<4)+8>>3],l<f&&(o[m>>3]=l,f=l),p<h&&(o[b>>3]=p,h=p),l>d?o[t>>3]=l:l=d,p>c&&(o[_>>3]=p,c=p),g=p>0&p<g?p:g,v=p<0&p>v?p:v,a|=+u(+(p-A))>3.141592653589793,(0|(r=w+1|0))!=(0|y);)B=w,d=l,w=r,r=B;a&&(o[_>>3]=v,o[b>>3]=g)}}else i[t>>2]=0,i[t+4>>2]=0,i[t+8>>2]=0,i[t+12>>2]=0,i[t+16>>2]=0,i[t+20>>2]=0,i[t+24>>2]=0,i[t+28>>2]=0;if(!((0|(r=0|i[(B=e+8|0)>>2]))<=0)){n=e+12|0,C=0;do{if(s=0|i[n>>2],a=C,b=t+((C=C+1|0)<<5)|0,_=0|i[s+(a<<3)>>2]){if(o[(w=t+(C<<5)+8|0)>>3]=17976931348623157e292,o[(e=t+(C<<5)+24|0)>>3]=17976931348623157e292,o[b>>3]=-17976931348623157e292,o[(x=t+(C<<5)+16|0)>>3]=-17976931348623157e292,(0|_)>0){for(y=0|i[s+(a<<3)+4>>2],g=17976931348623157e292,v=-17976931348623157e292,s=0,a=-1,m=0,f=17976931348623157e292,h=17976931348623157e292,p=-17976931348623157e292,c=-17976931348623157e292;l=+o[y+(m<<4)>>3],d=+o[y+(m<<4)+8>>3],A=+o[y+(((0|(a=a+2|0))==(0|_)?0:a)<<4)+8>>3],l<f&&(o[w>>3]=l,f=l),d<h&&(o[e>>3]=d,h=d),l>p?o[b>>3]=l:l=p,d>c&&(o[x>>3]=d,c=d),g=d>0&d<g?d:g,v=d<0&d>v?d:v,s|=+u(+(d-A))>3.141592653589793,(0|(a=m+1|0))!=(0|_);)E=m,m=a,p=l,a=E;s&&(o[x>>3]=v,o[e>>3]=g)}}else i[b>>2]=0,i[b+4>>2]=0,i[b+8>>2]=0,i[b+12>>2]=0,i[b+16>>2]=0,i[b+20>>2]=0,i[b+24>>2]=0,i[b+28>>2]=0,r=0|i[B>>2]}while((0|C)<(0|r))}}function ot(e,t,n){var r=0,o=0,a=0;if(!(0|nt(e|=0,t|=0,n|=0)))return 0|(o=0);if((0|i[(o=e+8|0)>>2])<=0)return 0|(o=1);for(r=e+12|0,e=0;;){if(a=e,e=e+1|0,0|nt((0|i[r>>2])+(a<<3)|0,t+(e<<5)|0,n)){e=0,r=6;break}if((0|e)>=(0|i[o>>2])){e=1,r=6;break}}return 6==(0|r)?0|e:0}function at(e,t,n,r,i){t|=0,n|=0,r|=0,i|=0;var a,s,u,l,c,A,f,h=0;l=+o[(e|=0)>>3],u=+o[t>>3]-l,s=+o[e+8>>3],a=+o[t+8>>3]-s,A=+o[n>>3],h=((h=+o[r>>3]-A)*(s-(f=+o[n+8>>3]))-(l-A)*(c=+o[r+8>>3]-f))/(u*c-a*h),o[i>>3]=l+u*h,o[i+8>>3]=s+a*h}function st(e,t){return t|=0,+o[(e|=0)>>3]!=+o[t>>3]?0|(t=0):0|(t=+o[e+8>>3]==+o[t+8>>3])}function ut(e,t){t|=0;var n,r,i;return+((i=+o[(e|=0)>>3]-+o[t>>3])*i+(r=+o[e+8>>3]-+o[t+8>>3])*r+(n=+o[e+16>>3]-+o[t+16>>3])*n)}function lt(e,t,n){e|=0,n|=0;var r=0;(0|(t|=0))>0?(r=0|mt(t,4),i[e>>2]=r,r||C(23230,23253,40,23267)):i[e>>2]=0,i[e+4>>2]=t,i[e+8>>2]=0,i[e+12>>2]=n}function ct(e){var t,n,r,a=0,s=0,l=0,A=0;t=(e|=0)+4|0,n=e+12|0,r=e+8|0;e:for(;;){for(s=0|i[t>>2],a=0;;){if((0|a)>=(0|s))break e;if(l=0|i[e>>2],A=0|i[l+(a<<2)>>2])break;a=a+1|0}a=l+(~~(+u(+ +c(10,+ +(15-(0|i[n>>2])|0))*(+o[A>>3]+ +o[A+8>>3]))%+(0|s))>>>0<<2)|0,s=0|i[a>>2];t:do{if(0|s){if(l=A+32|0,(0|s)==(0|A))i[a>>2]=i[l>>2];else{if(!(a=0|i[(s=s+32|0)>>2]))break;for(;(0|a)!=(0|A);)if(!(a=0|i[(s=a+32|0)>>2]))break t;i[s>>2]=i[l>>2]}yt(A),i[r>>2]=(0|i[r>>2])-1}}while(0)}yt(0|i[e>>2])}function At(e){var t,n=0,r=0;for(t=0|i[(e|=0)+4>>2],r=0;;){if((0|r)>=(0|t)){n=0,r=4;break}if(n=0|i[(0|i[e>>2])+(r<<2)>>2]){r=4;break}r=r+1|0}return 4==(0|r)?0|n:0}function ft(e,t){t|=0;var n=0,r=0,a=0,s=0;if(n=~~(+u(+ +c(10,+ +(15-(0|i[(e|=0)+12>>2])|0))*(+o[t>>3]+ +o[t+8>>3]))%+(0|i[e+4>>2]))>>>0,n=(0|i[e>>2])+(n<<2)|0,!(r=0|i[n>>2]))return 0|(s=1);s=t+32|0;do{if((0|r)!=(0|t)){if(!(n=0|i[r+32>>2]))return 0|(s=1);for(a=n;;){if((0|a)==(0|t)){a=8;break}if(!(n=0|i[a+32>>2])){n=1,a=10;break}r=a,a=n}if(8==(0|a)){i[r+32>>2]=i[s>>2];break}if(10==(0|a))return 0|n}else i[n>>2]=i[s>>2]}while(0);return yt(t),i[(s=e+8|0)>>2]=(0|i[s>>2])-1,0|(s=0)}function ht(e,t,n){e|=0,t|=0,n|=0;var r,a=0,s=0,l=0;(r=0|vt(40))||C(23283,23253,98,23296),i[r>>2]=i[t>>2],i[r+4>>2]=i[t+4>>2],i[r+8>>2]=i[t+8>>2],i[r+12>>2]=i[t+12>>2],i[(s=r+16|0)>>2]=i[n>>2],i[s+4>>2]=i[n+4>>2],i[s+8>>2]=i[n+8>>2],i[s+12>>2]=i[n+12>>2],i[r+32>>2]=0,s=~~(+u(+ +c(10,+ +(15-(0|i[e+12>>2])|0))*(+o[t>>3]+ +o[t+8>>3]))%+(0|i[e+4>>2]))>>>0,s=(0|i[e>>2])+(s<<2)|0,a=0|i[s>>2];do{if(a){for(;!(0|Se(a,t)&&0|Se(a+16|0,n));)if(s=0|i[a+32>>2],!(0|i[(a=0==(0|s)?a:s)+32>>2])){l=10;break}if(10==(0|l)){i[a+32>>2]=r;break}return yt(r),0|(l=a)}i[s>>2]=r}while(0);return i[(l=e+8|0)>>2]=1+(0|i[l>>2]),0|(l=r)}function pt(e,t,n){t|=0,n|=0;var r=0,a=0;if(a=~~(+u(+ +c(10,+ +(15-(0|i[(e|=0)+12>>2])|0))*(+o[t>>3]+ +o[t+8>>3]))%+(0|i[e+4>>2]))>>>0,!(a=0|i[(0|i[e>>2])+(a<<2)>>2]))return 0|(n=0);if(!n){for(e=a;;){if(0|Se(e,t)){r=10;break}if(!(e=0|i[e+32>>2])){e=0,r=10;break}}if(10==(0|r))return 0|e}for(e=a;;){if(0|Se(e,t)&&0|Se(e+16|0,n)){r=10;break}if(!(e=0|i[e+32>>2])){e=0,r=10;break}}return 10==(0|r)?0|e:0}function dt(e,t){t|=0;var n=0;if(n=~~(+u(+ +c(10,+ +(15-(0|i[(e|=0)+12>>2])|0))*(+o[t>>3]+ +o[t+8>>3]))%+(0|i[e+4>>2]))>>>0,!(e=0|i[(0|i[e>>2])+(n<<2)>>2]))return 0|(n=0);for(;;){if(0|Se(e,t)){t=5;break}if(!(e=0|i[e+32>>2])){e=0,t=5;break}}return 5==(0|t)?0|e:0}function gt(e){return 0|~~+function(e){return+ +Tt(+(e=+e))}(e=+e)}function vt(e){e|=0;var t,n=0,r=0,o=0,a=0,s=0,u=0,l=0,c=0,A=0,f=0,h=0,p=0,d=0,g=0,v=0,y=0,m=0,b=0,_=0,w=0;t=T,T=T+16|0,p=t;do{if(e>>>0<245){if(e=(A=e>>>0<11?16:e+11&-8)>>>3,3&(r=(h=0|i[5829])>>>e)|0)return o=0|i[(r=(e=23356+((n=(1&r^1)+e|0)<<1<<2)|0)+8|0)>>2],(0|(s=0|i[(a=o+8|0)>>2]))==(0|e)?i[5829]=h&~(1<<n):(i[s+12>>2]=e,i[r>>2]=s),w=n<<3,i[o+4>>2]=3|w,i[(w=o+w+4|0)>>2]=1|i[w>>2],T=t,0|(w=a);if(A>>>0>(f=0|i[5831])>>>0){if(0|r)return n=((n=r<<e&((n=2<<e)|0-n))&0-n)-1|0,s=0|i[(e=(n=23356+((o=((r=(n>>>=l=n>>>12&16)>>>5&8)|l|(s=(n>>>=r)>>>2&4)|(e=(n>>>=s)>>>1&2)|(o=(n>>>=e)>>>1&1))+(n>>>o)|0)<<1<<2)|0)+8|0)>>2],(0|(r=0|i[(l=s+8|0)>>2]))==(0|n)?(e=h&~(1<<o),i[5829]=e):(i[r+12>>2]=n,i[e>>2]=r,e=h),u=(w=o<<3)-A|0,i[s+4>>2]=3|A,i[(a=s+A|0)+4>>2]=1|u,i[s+w>>2]=u,0|f&&(o=0|i[5834],r=23356+((n=f>>>3)<<1<<2)|0,e&(n=1<<n)?n=0|i[(e=r+8|0)>>2]:(i[5829]=e|n,n=r,e=r+8|0),i[e>>2]=o,i[n+12>>2]=o,i[o+8>>2]=n,i[o+12>>2]=r),i[5831]=u,i[5834]=a,T=t,0|(w=l);if(s=0|i[5830]){for(r=(s&0-s)-1|0,r=c=0|i[23620+(((o=(r>>>=a=r>>>12&16)>>>5&8)|a|(u=(r>>>=o)>>>2&4)|(l=(r>>>=u)>>>1&2)|(c=(r>>>=l)>>>1&1))+(r>>>c)<<2)>>2],l=c,c=(-8&i[c+4>>2])-A|0;(e=0|i[r+16>>2])||(e=0|i[r+20>>2]);)r=e,l=(a=(u=(-8&i[e+4>>2])-A|0)>>>0<c>>>0)?e:l,c=a?u:c;if((u=l+A|0)>>>0>l>>>0){a=0|i[l+24>>2],n=0|i[l+12>>2];do{if((0|n)==(0|l)){if(!(n=0|i[(e=l+20|0)>>2])&&!(n=0|i[(e=l+16|0)>>2])){r=0;break}for(;;)if(r=0|i[(o=n+20|0)>>2])n=r,e=o;else{if(!(r=0|i[(o=n+16|0)>>2]))break;n=r,e=o}i[e>>2]=0,r=n}else r=0|i[l+8>>2],i[r+12>>2]=n,i[n+8>>2]=r,r=n}while(0);do{if(0|a){if(n=0|i[l+28>>2],(0|l)==(0|i[(e=23620+(n<<2)|0)>>2])){if(i[e>>2]=r,!r){i[5830]=s&~(1<<n);break}}else if(i[((0|i[(w=a+16|0)>>2])==(0|l)?w:a+20|0)>>2]=r,!r)break;i[r+24>>2]=a,0|(n=0|i[l+16>>2])&&(i[r+16>>2]=n,i[n+24>>2]=r),0|(n=0|i[l+20>>2])&&(i[r+20>>2]=n,i[n+24>>2]=r)}}while(0);return c>>>0<16?(w=c+A|0,i[l+4>>2]=3|w,i[(w=l+w+4|0)>>2]=1|i[w>>2]):(i[l+4>>2]=3|A,i[u+4>>2]=1|c,i[u+c>>2]=c,0|f&&(o=0|i[5834],r=23356+((n=f>>>3)<<1<<2)|0,(n=1<<n)&h?n=0|i[(e=r+8|0)>>2]:(i[5829]=n|h,n=r,e=r+8|0),i[e>>2]=o,i[n+12>>2]=o,i[o+8>>2]=n,i[o+12>>2]=r),i[5831]=c,i[5834]=u),T=t,0|(w=l+8|0)}h=A}else h=A}else h=A}else if(e>>>0<=4294967231)if(A=-8&(e=e+11|0),o=0|i[5830]){a=0-A|0,c=(e>>>=8)?A>>>0>16777215?31:A>>>((c=14-((l=((v=e<<(h=(e+1048320|0)>>>16&8))+520192|0)>>>16&4)|h|(c=((v<<=l)+245760|0)>>>16&2))+(v<<c>>>15)|0)+7|0)&1|c<<1:0,r=0|i[23620+(c<<2)>>2];e:do{if(r)for(e=0,l=A<<(31==(0|c)?0:25-(c>>>1)|0),s=0;;){if((u=(-8&i[r+4>>2])-A|0)>>>0<a>>>0){if(!u){e=r,a=0,v=65;break e}e=r,a=u}if(s=0==(0|(v=0|i[r+20>>2]))|(0|v)==(0|(r=0|i[r+16+(l>>>31<<2)>>2]))?s:v,!r){r=s,v=61;break}l<<=1}else r=0,e=0,v=61}while(0);if(61==(0|v)){if(0==(0|r)&0==(0|e)){if(!(e=((e=2<<c)|0-e)&o)){h=A;break}h=(e&0-e)-1|0,e=0,r=0|i[23620+(((s=(h>>>=u=h>>>12&16)>>>5&8)|u|(l=(h>>>=s)>>>2&4)|(c=(h>>>=l)>>>1&2)|(r=(h>>>=c)>>>1&1))+(h>>>r)<<2)>>2]}r?v=65:(l=e,u=a)}if(65==(0|v))for(s=r;;){if(a=(r=(h=(-8&i[s+4>>2])-A|0)>>>0<a>>>0)?h:a,e=r?s:e,(r=0|i[s+16>>2])||(r=0|i[s+20>>2]),!r){l=e,u=a;break}s=r}if(0!=(0|l)&&u>>>0<((0|i[5831])-A|0)>>>0&&(f=l+A|0)>>>0>l>>>0){s=0|i[l+24>>2],n=0|i[l+12>>2];do{if((0|n)==(0|l)){if(!(n=0|i[(e=l+20|0)>>2])&&!(n=0|i[(e=l+16|0)>>2])){n=0;break}for(;;)if(r=0|i[(a=n+20|0)>>2])n=r,e=a;else{if(!(r=0|i[(a=n+16|0)>>2]))break;n=r,e=a}i[e>>2]=0}else w=0|i[l+8>>2],i[w+12>>2]=n,i[n+8>>2]=w}while(0);do{if(s){if(e=0|i[l+28>>2],(0|l)==(0|i[(r=23620+(e<<2)|0)>>2])){if(i[r>>2]=n,!n){o&=~(1<<e),i[5830]=o;break}}else if(i[((0|i[(w=s+16|0)>>2])==(0|l)?w:s+20|0)>>2]=n,!n)break;i[n+24>>2]=s,0|(e=0|i[l+16>>2])&&(i[n+16>>2]=e,i[e+24>>2]=n),(e=0|i[l+20>>2])&&(i[n+20>>2]=e,i[e+24>>2]=n)}}while(0);e:do{if(u>>>0<16)w=u+A|0,i[l+4>>2]=3|w,i[(w=l+w+4|0)>>2]=1|i[w>>2];else{if(i[l+4>>2]=3|A,i[f+4>>2]=1|u,i[f+u>>2]=u,n=u>>>3,u>>>0<256){r=23356+(n<<1<<2)|0,(e=0|i[5829])&(n=1<<n)?n=0|i[(e=r+8|0)>>2]:(i[5829]=e|n,n=r,e=r+8|0),i[e>>2]=f,i[n+12>>2]=f,i[f+8>>2]=n,i[f+12>>2]=r;break}if(n=23620+((r=(n=u>>>8)?u>>>0>16777215?31:u>>>((r=14-((b=((w=n<<(_=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|_|(r=((w<<=b)+245760|0)>>>16&2))+(w<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,i[f+28>>2]=r,i[(e=f+16|0)+4>>2]=0,i[e>>2]=0,!(o&(e=1<<r))){i[5830]=o|e,i[n>>2]=f,i[f+24>>2]=n,i[f+12>>2]=f,i[f+8>>2]=f;break}n=0|i[n>>2];t:do{if((-8&i[n+4>>2]|0)!=(0|u)){for(o=u<<(31==(0|r)?0:25-(r>>>1)|0);e=0|i[(r=n+16+(o>>>31<<2)|0)>>2];){if((-8&i[e+4>>2]|0)==(0|u)){n=e;break t}o<<=1,n=e}i[r>>2]=f,i[f+24>>2]=n,i[f+12>>2]=f,i[f+8>>2]=f;break e}}while(0);w=0|i[(_=n+8|0)>>2],i[w+12>>2]=f,i[_>>2]=f,i[f+8>>2]=w,i[f+12>>2]=n,i[f+24>>2]=0}}while(0);return T=t,0|(w=l+8|0)}h=A}else h=A;else h=-1}while(0);if((r=0|i[5831])>>>0>=h>>>0)return n=r-h|0,e=0|i[5834],n>>>0>15?(w=e+h|0,i[5834]=w,i[5831]=n,i[w+4>>2]=1|n,i[e+r>>2]=n,i[e+4>>2]=3|h):(i[5831]=0,i[5834]=0,i[e+4>>2]=3|r,i[(w=e+r+4|0)>>2]=1|i[w>>2]),T=t,0|(w=e+8|0);if((u=0|i[5832])>>>0>h>>>0)return b=u-h|0,i[5832]=b,_=(w=0|i[5835])+h|0,i[5835]=_,i[_+4>>2]=1|b,i[w+4>>2]=3|h,T=t,0|(w=w+8|0);if(0|i[5947]?e=0|i[5949]:(i[5949]=4096,i[5948]=4096,i[5950]=-1,i[5951]=-1,i[5952]=0,i[5940]=0,i[5947]=-16&p^1431655768,e=4096),l=h+48|0,(A=(s=e+(c=h+47|0)|0)&(a=0-e|0))>>>0<=h>>>0)return T=t,0|(w=0);if(0|(e=0|i[5939])&&(p=(f=0|i[5937])+A|0)>>>0<=f>>>0|p>>>0>e>>>0)return T=t,0|(w=0);e:do{if(4&i[5940])n=0,v=143;else{r=0|i[5835];t:do{if(r){for(o=23764;!((p=0|i[o>>2])>>>0<=r>>>0&&(p+(0|i[o+4>>2])|0)>>>0>r>>>0);){if(!(e=0|i[o+8>>2])){v=128;break t}o=e}if((n=s-u&a)>>>0<2147483647)if((0|(e=0|Pt(0|n)))==((0|i[o>>2])+(0|i[o+4>>2])|0)){if(-1!=(0|e)){u=n,s=e,v=145;break e}}else o=e,v=136;else n=0}else v=128}while(0);do{if(128==(0|v))if(-1!=(0|(r=0|Pt(0)))&&(n=r,g=(n=(0==((g=(d=0|i[5948])+-1|0)&n|0)?0:(g+n&0-d)-n|0)+A|0)+(d=0|i[5937])|0,n>>>0>h>>>0&n>>>0<2147483647)){if(0|(p=0|i[5939])&&g>>>0<=d>>>0|g>>>0>p>>>0){n=0;break}if((0|(e=0|Pt(0|n)))==(0|r)){u=n,s=r,v=145;break e}o=e,v=136}else n=0}while(0);do{if(136==(0|v)){if(r=0-n|0,!(l>>>0>n>>>0&n>>>0<2147483647&-1!=(0|o))){if(-1==(0|o)){n=0;break}u=n,s=o,v=145;break e}if((e=c-n+(e=0|i[5949])&0-e)>>>0>=2147483647){u=n,s=o,v=145;break e}if(-1==(0|Pt(0|e))){Pt(0|r),n=0;break}u=e+n|0,s=o,v=145;break e}}while(0);i[5940]=4|i[5940],v=143}}while(0);if(143==(0|v)&&A>>>0<2147483647&&!(-1==(0|(b=0|Pt(0|A)))|1^(m=(y=(g=0|Pt(0))-b|0)>>>0>(h+40|0)>>>0)|b>>>0<g>>>0&-1!=(0|b)&-1!=(0|g)^1)&&(u=m?y:n,s=b,v=145),145==(0|v)){n=(0|i[5937])+u|0,i[5937]=n,n>>>0>(0|i[5938])>>>0&&(i[5938]=n),c=0|i[5835];e:do{if(c){for(n=23764;;){if((0|s)==((e=0|i[n>>2])+(r=0|i[n+4>>2])|0)){v=154;break}if(!(o=0|i[n+8>>2]))break;n=o}if(154==(0|v)&&(_=n+4|0,0==(8&i[n+12>>2]|0))&&s>>>0>c>>>0&e>>>0<=c>>>0){i[_>>2]=r+u,_=c+(b=0==(7&(b=c+8|0)|0)?0:0-b&7)|0,b=(w=(0|i[5832])+u|0)-b|0,i[5835]=_,i[5832]=b,i[_+4>>2]=1|b,i[c+w+4>>2]=40,i[5836]=i[5951];break}for(s>>>0<(0|i[5833])>>>0&&(i[5833]=s),r=s+u|0,n=23764;;){if((0|i[n>>2])==(0|r)){v=162;break}if(!(e=0|i[n+8>>2]))break;n=e}if(162==(0|v)&&0==(8&i[n+12>>2]|0)){i[n>>2]=s,i[(f=n+4|0)>>2]=(0|i[f>>2])+u,A=(f=s+(0==(7&(f=s+8|0)|0)?0:0-f&7)|0)+h|0,l=(n=r+(0==(7&(n=r+8|0)|0)?0:0-n&7)|0)-f-h|0,i[f+4>>2]=3|h;t:do{if((0|c)==(0|n))w=(0|i[5832])+l|0,i[5832]=w,i[5835]=A,i[A+4>>2]=1|w;else{if((0|i[5834])==(0|n)){w=(0|i[5831])+l|0,i[5831]=w,i[5834]=A,i[A+4>>2]=1|w,i[A+w>>2]=w;break}if(1==(3&(e=0|i[n+4>>2])|0)){u=-8&e,o=e>>>3;n:do{if(e>>>0<256){if(e=0|i[n+8>>2],(0|(r=0|i[n+12>>2]))==(0|e)){i[5829]=i[5829]&~(1<<o);break}i[e+12>>2]=r,i[r+8>>2]=e;break}s=0|i[n+24>>2],e=0|i[n+12>>2];do{if((0|e)==(0|n)){if(e=0|i[(o=(r=n+16|0)+4|0)>>2])r=o;else if(!(e=0|i[r>>2])){e=0;break}for(;;)if(o=0|i[(a=e+20|0)>>2])e=o,r=a;else{if(!(o=0|i[(a=e+16|0)>>2]))break;e=o,r=a}i[r>>2]=0}else w=0|i[n+8>>2],i[w+12>>2]=e,i[e+8>>2]=w}while(0);if(!s)break;o=23620+((r=0|i[n+28>>2])<<2)|0;do{if((0|i[o>>2])==(0|n)){if(i[o>>2]=e,0|e)break;i[5830]=i[5830]&~(1<<r);break n}if(i[((0|i[(w=s+16|0)>>2])==(0|n)?w:s+20|0)>>2]=e,!e)break n}while(0);if(i[e+24>>2]=s,0|(o=0|i[(r=n+16|0)>>2])&&(i[e+16>>2]=o,i[o+24>>2]=e),!(r=0|i[r+4>>2]))break;i[e+20>>2]=r,i[r+24>>2]=e}while(0);n=n+u|0,a=u+l|0}else a=l;if(i[(n=n+4|0)>>2]=-2&i[n>>2],i[A+4>>2]=1|a,i[A+a>>2]=a,n=a>>>3,a>>>0<256){r=23356+(n<<1<<2)|0,(e=0|i[5829])&(n=1<<n)?n=0|i[(e=r+8|0)>>2]:(i[5829]=e|n,n=r,e=r+8|0),i[e>>2]=A,i[n+12>>2]=A,i[A+8>>2]=n,i[A+12>>2]=r;break}n=a>>>8;do{if(n){if(a>>>0>16777215){o=31;break}o=a>>>((o=14-((b=((w=n<<(_=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|_|(o=((w<<=b)+245760|0)>>>16&2))+(w<<o>>>15)|0)+7|0)&1|o<<1}else o=0}while(0);if(n=23620+(o<<2)|0,i[A+28>>2]=o,i[(e=A+16|0)+4>>2]=0,i[e>>2]=0,!((e=0|i[5830])&(r=1<<o))){i[5830]=e|r,i[n>>2]=A,i[A+24>>2]=n,i[A+12>>2]=A,i[A+8>>2]=A;break}n=0|i[n>>2];n:do{if((-8&i[n+4>>2]|0)!=(0|a)){for(o=a<<(31==(0|o)?0:25-(o>>>1)|0);e=0|i[(r=n+16+(o>>>31<<2)|0)>>2];){if((-8&i[e+4>>2]|0)==(0|a)){n=e;break n}o<<=1,n=e}i[r>>2]=A,i[A+24>>2]=n,i[A+12>>2]=A,i[A+8>>2]=A;break t}}while(0);w=0|i[(_=n+8|0)>>2],i[w+12>>2]=A,i[_>>2]=A,i[A+8>>2]=w,i[A+12>>2]=n,i[A+24>>2]=0}}while(0);return T=t,0|(w=f+8|0)}for(n=23764;!((e=0|i[n>>2])>>>0<=c>>>0&&(w=e+(0|i[n+4>>2])|0)>>>0>c>>>0);)n=0|i[n+8>>2];n=(e=(e=(a=w+-47|0)+(0==(7&(e=a+8|0)|0)?0:0-e&7)|0)>>>0<(a=c+16|0)>>>0?c:e)+8|0,_=s+(b=0==(7&(b=s+8|0)|0)?0:0-b&7)|0,b=(r=u+-40|0)-b|0,i[5835]=_,i[5832]=b,i[_+4>>2]=1|b,i[s+r+4>>2]=40,i[5836]=i[5951],i[(r=e+4|0)>>2]=27,i[n>>2]=i[5941],i[n+4>>2]=i[5942],i[n+8>>2]=i[5943],i[n+12>>2]=i[5944],i[5941]=s,i[5942]=u,i[5944]=0,i[5943]=n,n=e+24|0;do{_=n,i[(n=n+4|0)>>2]=7}while((_+8|0)>>>0<w>>>0);if((0|e)!=(0|c)){if(s=e-c|0,i[r>>2]=-2&i[r>>2],i[c+4>>2]=1|s,i[e>>2]=s,n=s>>>3,s>>>0<256){r=23356+(n<<1<<2)|0,(e=0|i[5829])&(n=1<<n)?n=0|i[(e=r+8|0)>>2]:(i[5829]=e|n,n=r,e=r+8|0),i[e>>2]=c,i[n+12>>2]=c,i[c+8>>2]=n,i[c+12>>2]=r;break}if(r=23620+((o=(n=s>>>8)?s>>>0>16777215?31:s>>>((o=14-((b=((w=n<<(_=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|_|(o=((w<<=b)+245760|0)>>>16&2))+(w<<o>>>15)|0)+7|0)&1|o<<1:0)<<2)|0,i[c+28>>2]=o,i[c+20>>2]=0,i[a>>2]=0,!((n=0|i[5830])&(e=1<<o))){i[5830]=n|e,i[r>>2]=c,i[c+24>>2]=r,i[c+12>>2]=c,i[c+8>>2]=c;break}n=0|i[r>>2];t:do{if((-8&i[n+4>>2]|0)!=(0|s)){for(o=s<<(31==(0|o)?0:25-(o>>>1)|0);e=0|i[(r=n+16+(o>>>31<<2)|0)>>2];){if((-8&i[e+4>>2]|0)==(0|s)){n=e;break t}o<<=1,n=e}i[r>>2]=c,i[c+24>>2]=n,i[c+12>>2]=c,i[c+8>>2]=c;break e}}while(0);w=0|i[(_=n+8|0)>>2],i[w+12>>2]=c,i[_>>2]=c,i[c+8>>2]=w,i[c+12>>2]=n,i[c+24>>2]=0}}else 0==(0|(w=0|i[5833]))|s>>>0<w>>>0&&(i[5833]=s),i[5941]=s,i[5942]=u,i[5944]=0,i[5838]=i[5947],i[5837]=-1,i[5842]=23356,i[5841]=23356,i[5844]=23364,i[5843]=23364,i[5846]=23372,i[5845]=23372,i[5848]=23380,i[5847]=23380,i[5850]=23388,i[5849]=23388,i[5852]=23396,i[5851]=23396,i[5854]=23404,i[5853]=23404,i[5856]=23412,i[5855]=23412,i[5858]=23420,i[5857]=23420,i[5860]=23428,i[5859]=23428,i[5862]=23436,i[5861]=23436,i[5864]=23444,i[5863]=23444,i[5866]=23452,i[5865]=23452,i[5868]=23460,i[5867]=23460,i[5870]=23468,i[5869]=23468,i[5872]=23476,i[5871]=23476,i[5874]=23484,i[5873]=23484,i[5876]=23492,i[5875]=23492,i[5878]=23500,i[5877]=23500,i[5880]=23508,i[5879]=23508,i[5882]=23516,i[5881]=23516,i[5884]=23524,i[5883]=23524,i[5886]=23532,i[5885]=23532,i[5888]=23540,i[5887]=23540,i[5890]=23548,i[5889]=23548,i[5892]=23556,i[5891]=23556,i[5894]=23564,i[5893]=23564,i[5896]=23572,i[5895]=23572,i[5898]=23580,i[5897]=23580,i[5900]=23588,i[5899]=23588,i[5902]=23596,i[5901]=23596,i[5904]=23604,i[5903]=23604,_=s+(b=0==(7&(b=s+8|0)|0)?0:0-b&7)|0,b=(w=u+-40|0)-b|0,i[5835]=_,i[5832]=b,i[_+4>>2]=1|b,i[s+w+4>>2]=40,i[5836]=i[5951]}while(0);if((n=0|i[5832])>>>0>h>>>0)return b=n-h|0,i[5832]=b,_=(w=0|i[5835])+h|0,i[5835]=_,i[_+4>>2]=1|b,i[w+4>>2]=3|h,T=t,0|(w=w+8|0)}return i[(w=23312)>>2]=12,T=t,0|(w=0)}function yt(e){var t=0,n=0,r=0,o=0,a=0,s=0,u=0,l=0;if(e|=0){n=e+-8|0,o=0|i[5833],l=n+(t=-8&(e=0|i[e+-4>>2]))|0;do{if(1&e)u=n,s=n;else{if(r=0|i[n>>2],!(3&e))return;if(a=r+t|0,(s=n+(0-r)|0)>>>0<o>>>0)return;if((0|i[5834])==(0|s)){if(3!=(3&(t=0|i[(e=l+4|0)>>2])|0)){u=s,t=a;break}return i[5831]=a,i[e>>2]=-2&t,i[s+4>>2]=1|a,void(i[s+a>>2]=a)}if(n=r>>>3,r>>>0<256){if(e=0|i[s+8>>2],(0|(t=0|i[s+12>>2]))==(0|e)){i[5829]=i[5829]&~(1<<n),u=s,t=a;break}i[e+12>>2]=t,i[t+8>>2]=e,u=s,t=a;break}o=0|i[s+24>>2],e=0|i[s+12>>2];do{if((0|e)==(0|s)){if(e=0|i[(n=(t=s+16|0)+4|0)>>2])t=n;else if(!(e=0|i[t>>2])){e=0;break}for(;;)if(n=0|i[(r=e+20|0)>>2])e=n,t=r;else{if(!(n=0|i[(r=e+16|0)>>2]))break;e=n,t=r}i[t>>2]=0}else u=0|i[s+8>>2],i[u+12>>2]=e,i[e+8>>2]=u}while(0);if(o){if(t=0|i[s+28>>2],(0|i[(n=23620+(t<<2)|0)>>2])==(0|s)){if(i[n>>2]=e,!e){i[5830]=i[5830]&~(1<<t),u=s,t=a;break}}else if(i[((0|i[(u=o+16|0)>>2])==(0|s)?u:o+20|0)>>2]=e,!e){u=s,t=a;break}i[e+24>>2]=o,0|(n=0|i[(t=s+16|0)>>2])&&(i[e+16>>2]=n,i[n+24>>2]=e),(t=0|i[t+4>>2])?(i[e+20>>2]=t,i[t+24>>2]=e,u=s,t=a):(u=s,t=a)}else u=s,t=a}}while(0);if(!(s>>>0>=l>>>0)&&1&(r=0|i[(e=l+4|0)>>2])){if(2&r)i[e>>2]=-2&r,i[u+4>>2]=1|t,i[s+t>>2]=t,o=t;else{if((0|i[5835])==(0|l)){if(l=(0|i[5832])+t|0,i[5832]=l,i[5835]=u,i[u+4>>2]=1|l,(0|u)!=(0|i[5834]))return;return i[5834]=0,void(i[5831]=0)}if((0|i[5834])==(0|l))return l=(0|i[5831])+t|0,i[5831]=l,i[5834]=s,i[u+4>>2]=1|l,void(i[s+l>>2]=l);o=(-8&r)+t|0,n=r>>>3;do{if(r>>>0<256){if(t=0|i[l+8>>2],(0|(e=0|i[l+12>>2]))==(0|t)){i[5829]=i[5829]&~(1<<n);break}i[t+12>>2]=e,i[e+8>>2]=t;break}a=0|i[l+24>>2],e=0|i[l+12>>2];do{if((0|e)==(0|l)){if(e=0|i[(n=(t=l+16|0)+4|0)>>2])t=n;else if(!(e=0|i[t>>2])){n=0;break}for(;;)if(n=0|i[(r=e+20|0)>>2])e=n,t=r;else{if(!(n=0|i[(r=e+16|0)>>2]))break;e=n,t=r}i[t>>2]=0,n=e}else n=0|i[l+8>>2],i[n+12>>2]=e,i[e+8>>2]=n,n=e}while(0);if(0|a){if(e=0|i[l+28>>2],(0|i[(t=23620+(e<<2)|0)>>2])==(0|l)){if(i[t>>2]=n,!n){i[5830]=i[5830]&~(1<<e);break}}else if(i[((0|i[(r=a+16|0)>>2])==(0|l)?r:a+20|0)>>2]=n,!n)break;i[n+24>>2]=a,0|(t=0|i[(e=l+16|0)>>2])&&(i[n+16>>2]=t,i[t+24>>2]=n),0|(e=0|i[e+4>>2])&&(i[n+20>>2]=e,i[e+24>>2]=n)}}while(0);if(i[u+4>>2]=1|o,i[s+o>>2]=o,(0|u)==(0|i[5834]))return void(i[5831]=o)}if(e=o>>>3,o>>>0<256)return n=23356+(e<<1<<2)|0,(t=0|i[5829])&(e=1<<e)?e=0|i[(t=n+8|0)>>2]:(i[5829]=t|e,e=n,t=n+8|0),i[t>>2]=u,i[e+12>>2]=u,i[u+8>>2]=e,void(i[u+12>>2]=n);e=23620+((r=(e=o>>>8)?o>>>0>16777215?31:o>>>((r=14-((a=((l=e<<(s=(e+1048320|0)>>>16&8))+520192|0)>>>16&4)|s|(r=((l<<=a)+245760|0)>>>16&2))+(l<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,i[u+28>>2]=r,i[u+20>>2]=0,i[u+16>>2]=0,t=0|i[5830],n=1<<r;e:do{if(t&n){e=0|i[e>>2];t:do{if((-8&i[e+4>>2]|0)!=(0|o)){for(r=o<<(31==(0|r)?0:25-(r>>>1)|0);t=0|i[(n=e+16+(r>>>31<<2)|0)>>2];){if((-8&i[t+4>>2]|0)==(0|o)){e=t;break t}r<<=1,e=t}i[n>>2]=u,i[u+24>>2]=e,i[u+12>>2]=u,i[u+8>>2]=u;break e}}while(0);l=0|i[(s=e+8|0)>>2],i[l+12>>2]=u,i[s>>2]=u,i[u+8>>2]=l,i[u+12>>2]=e,i[u+24>>2]=0}else i[5830]=t|n,i[e>>2]=u,i[u+24>>2]=e,i[u+12>>2]=u,i[u+8>>2]=u}while(0);if(l=(0|i[5837])-1|0,i[5837]=l,!(0|l)){for(e=23772;e=0|i[e>>2];)e=e+8|0;i[5837]=-1}}}}function mt(e,t){t|=0;var n=0;return(e|=0)?(n=0|m(t,e),(t|e)>>>0>65535&&(n=(0|(n>>>0)/(e>>>0))==(0|t)?n:-1)):n=0,(e=0|vt(n))&&3&i[e+-4>>2]?(Ot(0|e,0,0|n),0|e):0|e}function bt(e,t,n,r){return 0|(w(0|(r=(t|=0)-(r|=0)-((n|=0)>>>0>(e|=0)>>>0|0)>>>0)),e-n>>>0|0)}function _t(e){return 0|((e|=0)?31-(0|_(e^e-1))|0:32)}function wt(e,t,n,r,o){o|=0;var a=0,s=0,u=0,l=0,c=0,A=0,f=0,h=0,p=0,d=0;if(A=e|=0,s=n|=0,u=h=r|=0,!(c=l=t|=0))return a=0!=(0|o),u?a?(i[o>>2]=0|e,i[o+4>>2]=0&t,o=0,0|(w(0|(h=0)),o)):(o=0,0|(w(0|(h=0)),o)):(a&&(i[o>>2]=(A>>>0)%(s>>>0),i[o+4>>2]=0),o=(A>>>0)/(s>>>0)>>>0,0|(w(0|(h=0)),o));a=0==(0|u);do{if(s){if(!a){if((a=(0|_(0|u))-(0|_(0|c))|0)>>>0<=31){s=f=a+1|0,e=A>>>(f>>>0)&(t=a-31>>31)|c<<(u=31-a|0),t&=c>>>(f>>>0),a=0,u=A<<u;break}return o?(i[o>>2]=0|e,i[o+4>>2]=l|0&t,o=0,0|(w(0|(h=0)),o)):(o=0,0|(w(0|(h=0)),o))}if((a=s-1|0)&s|0){s=u=33+(0|_(0|s))-(0|_(0|c))|0,e=(f=32-u|0)-1>>31&c>>>((p=u-32|0)>>>0)|(c<<f|A>>>(u>>>0))&(t=p>>31),t&=c>>>(u>>>0),a=A<<(d=64-u|0)&(l=f>>31),u=(c<<d|A>>>(p>>>0))&l|A<<f&u-33>>31;break}return 0|o&&(i[o>>2]=a&A,i[o+4>>2]=0),1==(0|s)?(d=0|e,0|(w(0|(p=l|0&t)),d)):(p=c>>>((d=0|_t(0|s))>>>0)|0,d=c<<32-d|A>>>(d>>>0)|0,0|(w(0|p),d))}if(a)return 0|o&&(i[o>>2]=(c>>>0)%(s>>>0),i[o+4>>2]=0),d=(c>>>0)/(s>>>0)>>>0,0|(w(0|(p=0)),d);if(!A)return 0|o&&(i[o>>2]=0,i[o+4>>2]=(c>>>0)%(u>>>0)),d=(c>>>0)/(u>>>0)>>>0,0|(w(0|(p=0)),d);if(!((a=u-1|0)&u))return 0|o&&(i[o>>2]=0|e,i[o+4>>2]=a&c|0&t),p=0,d=c>>>((0|_t(0|u))>>>0),0|(w(0|p),d);if((a=(0|_(0|u))-(0|_(0|c))|0)>>>0<=30){s=t=a+1|0,e=c<<(u=31-a|0)|A>>>(t>>>0),t=c>>>(t>>>0),a=0,u=A<<u;break}return o?(i[o>>2]=0|e,i[o+4>>2]=l|0&t,d=0,0|(w(0|(p=0)),d)):(d=0,0|(w(0|(p=0)),d))}while(0);if(s){c=0|function(e,t,n,r){return 0|(w((t|=0)+(r|=0)+((n=(e|=0)+(n|=0)>>>0)>>>0<e>>>0|0)>>>0|0),0|n)}(0|(f=0|n),0|(A=h|0&r),-1,-1),n=0|x(),l=u,u=0;do{r=l,l=a>>>31|l<<1,a=u|a<<1,bt(0|c,0|n,0|(r=e<<1|r>>>31|0),0|(h=e>>>31|t<<1|0)),u=1&(p=(d=0|x())>>31|((0|d)<0?-1:0)<<1),e=0|bt(0|r,0|h,p&f|0,(((0|d)<0?-1:0)>>31|((0|d)<0?-1:0)<<1)&A|0),t=0|x(),s=s-1|0}while(0!=(0|s));c=l,l=0}else c=u,l=0,u=0;return s=0,0|o&&(i[o>>2]=e,i[o+4>>2]=t),d=-2&(a<<1|0)|u,0|(w(0|(p=(0|a)>>>31|(c|s)<<1|0&(s<<1|a>>>31)|l)),d)}function xt(e,t,n,r){var o,a;return a=T,T=T+16|0,wt(e|=0,t|=0,n|=0,r|=0,o=0|a),T=a,0|(w(0|i[o+4>>2]),0|i[o>>2])}function Ct(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(w(t>>>n|0),e>>>n|(t&(1<<n)-1)<<32-n):(w(0),t>>>n-32|0)}function Bt(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(w(t<<n|(e&(1<<n)-1<<32-n)>>>32-n|0),e<<n):(w(e<<n-32|0),0)}function Et(e,t){return t=+t,(e=+e)!=e?+t:t!=t?+e:+b(+e,+t)}function St(e){return(e=+e)>=0?+s(e+.5):+y(e-.5)}function kt(e,t,n){e|=0,t|=0;var o,a,s=0;if((0|(n|=0))>=8192)return S(0|e,0|t,0|n),0|e;if(a=0|e,o=e+n|0,(3&e)==(3&t)){for(;3&e;){if(!n)return 0|a;r[e>>0]=0|r[t>>0],e=e+1|0,t=t+1|0,n=n-1|0}for(s=(n=-4&o|0)-64|0;(0|e)<=(0|s);)i[e>>2]=i[t>>2],i[e+4>>2]=i[t+4>>2],i[e+8>>2]=i[t+8>>2],i[e+12>>2]=i[t+12>>2],i[e+16>>2]=i[t+16>>2],i[e+20>>2]=i[t+20>>2],i[e+24>>2]=i[t+24>>2],i[e+28>>2]=i[t+28>>2],i[e+32>>2]=i[t+32>>2],i[e+36>>2]=i[t+36>>2],i[e+40>>2]=i[t+40>>2],i[e+44>>2]=i[t+44>>2],i[e+48>>2]=i[t+48>>2],i[e+52>>2]=i[t+52>>2],i[e+56>>2]=i[t+56>>2],i[e+60>>2]=i[t+60>>2],e=e+64|0,t=t+64|0;for(;(0|e)<(0|n);)i[e>>2]=i[t>>2],e=e+4|0,t=t+4|0}else for(n=o-4|0;(0|e)<(0|n);)r[e>>0]=0|r[t>>0],r[e+1>>0]=0|r[t+1>>0],r[e+2>>0]=0|r[t+2>>0],r[e+3>>0]=0|r[t+3>>0],e=e+4|0,t=t+4|0;for(;(0|e)<(0|o);)r[e>>0]=0|r[t>>0],e=e+1|0,t=t+1|0;return 0|a}function Ot(e,t,n){t|=0;var o,a=0,s=0,u=0;if(o=(e|=0)+(n|=0)|0,t&=255,(0|n)>=67){for(;3&e;)r[e>>0]=t,e=e+1|0;for(u=t|t<<8|t<<16|t<<24,s=(a=-4&o|0)-64|0;(0|e)<=(0|s);)i[e>>2]=u,i[e+4>>2]=u,i[e+8>>2]=u,i[e+12>>2]=u,i[e+16>>2]=u,i[e+20>>2]=u,i[e+24>>2]=u,i[e+28>>2]=u,i[e+32>>2]=u,i[e+36>>2]=u,i[e+40>>2]=u,i[e+44>>2]=u,i[e+48>>2]=u,i[e+52>>2]=u,i[e+56>>2]=u,i[e+60>>2]=u,e=e+64|0;for(;(0|e)<(0|a);)i[e>>2]=u,e=e+4|0}for(;(0|e)<(0|o);)r[e>>0]=t,e=e+1|0;return o-n|0}function Tt(e){return(e=+e)>=0?+s(e+.5):+y(e-.5)}function Pt(e){e|=0;var t,n,r;return r=0|E(),(0|e)>0&(0|(t=(n=0|i[a>>2])+e|0))<(0|n)|(0|t)<0?(O(0|t),B(12),-1):(0|t)>(0|r)&&!(0|k(0|t))?(B(12),-1):(i[a>>2]=t,0|n)}return{___uremdi3:xt,_bitshift64Lshr:Ct,_bitshift64Shl:Bt,_calloc:mt,_cellAreaKm2:function(e,t){var n,r,o,a=0;if(o=T,T=T+192|0,r=o,He(e|=0,t|=0,n=o+168|0),Ve(e,t,r),(0|(t=0|i[r>>2]))>0){if(a=+Oe(r+8|0,r+8+((1!=(0|t)&1)<<4)|0,n)+0,1!=(0|t)){e=1;do{a+=+Oe(r+8+(e<<4)|0,r+8+(((0|(e=e+1|0))%(0|t)|0)<<4)|0,n)}while((0|e)<(0|t))}}else a=0;return T=o,6371.007180918475*a*6371.007180918475},_cellAreaM2:function(e,t){var n,r,o,a=0;if(o=T,T=T+192|0,r=o,He(e|=0,t|=0,n=o+168|0),Ve(e,t,r),(0|(t=0|i[r>>2]))>0){if(a=+Oe(r+8|0,r+8+((1!=(0|t)&1)<<4)|0,n)+0,1!=(0|t)){e=1;do{a+=+Oe(r+8+(e<<4)|0,r+8+(((0|(e=e+1|0))%(0|t)|0)<<4)|0,n)}while((0|e)<(0|t))}}else a=0;return T=o,6371.007180918475*a*6371.007180918475*1e3*1e3},_cellAreaRads2:function(e,t){var n,r,o,a=0;if(o=T,T=T+192|0,r=o,He(e|=0,t|=0,n=o+168|0),Ve(e,t,r),(0|(t=0|i[r>>2]))<=0)return T=o,+(a=0);if(a=+Oe(r+8|0,r+8+((1!=(0|t)&1)<<4)|0,n)+0,1==(0|t))return T=o,+a;e=1;do{a+=+Oe(r+8+(e<<4)|0,r+8+(((0|(e=e+1|0))%(0|t)|0)<<4)|0,n)}while((0|e)<(0|t));return T=o,+a},_compact:function(e,t,n){t|=0;var r,o=0,a=0,s=0,u=0,l=0,c=0,A=0,f=0,h=0,p=0,d=0,g=0,v=0,y=0,m=0,b=0,_=0,w=0,C=0,B=0,E=0;if(!(n|=0))return 0|(B=0);if(o=0|i[(a=e|=0)>>2],!0&0==(15728640&(a=0|i[a+4>>2])|0)){if((0|n)<=0)return 0|(B=0);if(i[(B=t)>>2]=o,i[B+4>>2]=a,1==(0|n))return 0|(B=0);o=1;do{C=0|i[(w=e+(o<<3)|0)+4>>2],i[(B=t+(o<<3)|0)>>2]=i[w>>2],i[B+4>>2]=C,o=o+1|0}while((0|o)!=(0|n));return 0|(o=0)}if(!(C=0|vt(w=n<<3)))return 0|(B=-3);if(kt(0|C,0|e,0|w),!(r=0|mt(n,8)))return yt(C),0|(B=-3);o=n;e:for(;;){b=0|Ct(0|(f=0|i[(u=C)>>2]),0|(u=0|i[u+4>>2]),52),x(),_=(b&=15)+-1|0,m=(0|o)>0;t:do{if(m){if(y=((0|o)<0)<<31>>31,g=0|Bt(0|_,0,52),v=0|x(),_>>>0>15)for(a=0,e=f,n=u;;){if(!(0==(0|e)&0==(0|n))){if(s=0|Ct(0|e,0|n,52),x(),l=(0|(s&=15))<(0|_),s=(0|s)==(0|_),n=0|xt(0|(A=l?0:s?e:0),0|(e=l?0:s?n:0),0|o,0|y),x(),0==(0|(c=0|i[(l=s=r+(n<<3)|0)>>2]))&0==(0|(l=0|i[l+4>>2])))n=A;else for(g=0,d=n,p=l,n=A;;){if((0|g)>(0|o)){B=41;break e}if((0|c)==(0|n)&(-117440513&p|0)==(0|e)){A=0|Ct(0|c,0|p,56),x(),h=(A&=7)+1|0,v=0|Ct(0|c,0|p,45),x();n:do{if(0|R(127&v)){if(c=0|Ct(0|c,0|p,52),x(),!(c&=15)){l=6;break}for(l=1;;){if(!(0==((v=0|Bt(7,0,3*(15-l|0)|0))&n|0)&0==((0|x())&e|0))){l=7;break n}if(!(l>>>0<c>>>0)){l=6;break}l=l+1|0}}else l=7}while(0);if((A+2|0)>>>0>l>>>0){B=51;break e}v=0|Bt(0|h,0,56),e=0|x()|-117440513&e,i[(l=s)>>2]=0,i[l+4>>2]=0,l=d,n|=v}else l=(d+1|0)%(0|o)|0;if(0==(0|(c=0|i[(p=s=r+(l<<3)|0)>>2]))&0==(0|(p=0|i[p+4>>2])))break;g=g+1|0,d=l}i[(v=s)>>2]=n,i[v+4>>2]=e}if((0|(a=a+1|0))>=(0|o))break t;e=0|i[(n=C+(a<<3)|0)>>2],n=0|i[n+4>>2]}for(a=0,e=f,n=u;;){if(!(0==(0|e)&0==(0|n))){if(l=0|Ct(0|e,0|n,52),x(),(0|(l&=15))>=(0|_)){if((0|l)!=(0|_)&&(e|=g,n=-15728641&n|v,l>>>0>=b>>>0)){s=_;do{d=0|Bt(7,0,3*(14-s|0)|0),s=s+1|0,e|=d,n=0|x()|n}while(s>>>0<l>>>0)}}else e=0,n=0;if(l=0|xt(0|e,0|n,0|o,0|y),x(),!(0==(0|(A=0|i[(c=s=r+(l<<3)|0)>>2]))&0==(0|(c=0|i[c+4>>2]))))for(d=0;;){if((0|d)>(0|o)){B=41;break e}if((0|A)==(0|e)&(-117440513&c|0)==(0|n)){h=0|Ct(0|A,0|c,56),x(),p=(h&=7)+1|0,E=0|Ct(0|A,0|c,45),x();n:do{if(0|R(127&E)){if(A=0|Ct(0|A,0|c,52),x(),!(A&=15)){c=6;break}for(c=1;;){if(!(0==((E=0|Bt(7,0,3*(15-c|0)|0))&e|0)&0==((0|x())&n|0))){c=7;break n}if(!(c>>>0<A>>>0)){c=6;break}c=c+1|0}}else c=7}while(0);if((h+2|0)>>>0>c>>>0){B=51;break e}E=0|Bt(0|p,0,56),n=0|x()|-117440513&n,i[(p=s)>>2]=0,i[p+4>>2]=0,e|=E}else l=(l+1|0)%(0|o)|0;if(0==(0|(A=0|i[(c=s=r+(l<<3)|0)>>2]))&0==(0|(c=0|i[c+4>>2])))break;d=d+1|0}i[(E=s)>>2]=e,i[E+4>>2]=n}if((0|(a=a+1|0))>=(0|o))break t;e=0|i[(n=C+(a<<3)|0)>>2],n=0|i[n+4>>2]}}}while(0);if((o+5|0)>>>0<11){B=99;break}if(!(v=0|mt((0|o)/6|0,8))){B=58;break}t:do{if(m){d=0,p=0;do{if(!(0==(0|(a=0|i[(e=l=r+(d<<3)|0)>>2]))&0==(0|(e=0|i[e+4>>2])))){c=0|Ct(0|a,0|e,56),x(),n=(c&=7)+1|0,A=-117440513&e,E=0|Ct(0|a,0|e,45),x();n:do{if(0|R(127&E)){if(h=0|Ct(0|a,0|e,52),x(),0|(h&=15))for(s=1;;){if(!(0==(a&(E=0|Bt(7,0,3*(15-s|0)|0))|0)&0==(A&(0|x())|0)))break n;if(!(s>>>0<h>>>0))break;s=s+1|0}a|=e=0|Bt(0|n,0,56),e=0|x()|A,i[(n=l)>>2]=a,i[n+4>>2]=e,n=c+2|0}}while(0);7==(0|n)&&(i[(E=v+(p<<3)|0)>>2]=a,i[E+4>>2]=-117440513&e,p=p+1|0)}d=d+1|0}while((0|d)!=(0|o));if(m){if(g=((0|o)<0)<<31>>31,h=0|Bt(0|_,0,52),d=0|x(),_>>>0>15)for(e=0,a=0;;){do{if(!(0==(0|f)&0==(0|u))){for(c=0|Ct(0|f,0|u,52),x(),s=(0|(c&=15))<(0|_),c=(0|c)==(0|_),s=0|xt(0|(l=s?0:c?f:0),0|(c=s?0:c?u:0),0|o,0|g),x(),n=0;;){if((0|n)>(0|o)){B=98;break e}if((-117440513&(A=0|i[(E=r+(s<<3)|0)+4>>2])|0)==(0|c)&&(0|i[E>>2])==(0|l)){B=70;break}if((0|i[(E=r+((s=(s+1|0)%(0|o)|0)<<3)|0)>>2])==(0|l)&&(0|i[E+4>>2])==(0|c))break;n=n+1|0}if(70==(0|B)&&(B=0,!0&100663296==(117440512&A|0)))break;i[(E=t+(a<<3)|0)>>2]=f,i[E+4>>2]=u,a=a+1|0}}while(0);if((0|(e=e+1|0))>=(0|o)){o=p;break t}f=0|i[(u=C+(e<<3)|0)>>2],u=0|i[u+4>>2]}for(e=0,a=0;;){do{if(!(0==(0|f)&0==(0|u))){if(c=0|Ct(0|f,0|u,52),x(),(0|(c&=15))>=(0|_))if((0|c)!=(0|_))if(n=f|h,s=-15728641&u|d,c>>>0<b>>>0)c=s;else{l=_;do{E=0|Bt(7,0,3*(14-l|0)|0),l=l+1|0,n|=E,s=0|x()|s}while(l>>>0<c>>>0);c=s}else n=f,c=u;else n=0,c=0;for(l=0|xt(0|n,0|c,0|o,0|g),x(),s=0;;){if((0|s)>(0|o)){B=98;break e}if((-117440513&(A=0|i[(E=r+(l<<3)|0)+4>>2])|0)==(0|c)&&(0|i[E>>2])==(0|n)){B=93;break}if((0|i[(E=r+((l=(l+1|0)%(0|o)|0)<<3)|0)>>2])==(0|n)&&(0|i[E+4>>2])==(0|c))break;s=s+1|0}if(93==(0|B)&&(B=0,!0&100663296==(117440512&A|0)))break;i[(E=t+(a<<3)|0)>>2]=f,i[E+4>>2]=u,a=a+1|0}}while(0);if((0|(e=e+1|0))>=(0|o)){o=p;break t}f=0|i[(u=C+(e<<3)|0)>>2],u=0|i[u+4>>2]}}else a=0,o=p}else a=0,o=0}while(0);if(Ot(0|r,0,0|w),kt(0|C,0|v,o<<3|0),yt(v),!o)break;t=t+(a<<3)|0}return 41==(0|B)?(yt(C),yt(r),0|(E=-1)):51==(0|B)?(yt(C),yt(r),0|(E=-2)):58==(0|B)?(yt(C),yt(r),0|(E=-3)):98==(0|B)?(yt(v),yt(C),yt(r),0|(E=-1)):(99==(0|B)&&kt(0|t,0|C,o<<3|0),yt(C),yt(r),0|(E=0))},_destroyLinkedPolygon:function(e){var t=0,n=0,r=0,o=0;if(e|=0)for(r=1;;){if(0|(t=0|i[e>>2]))do{if(0|(n=0|i[t>>2]))do{o=n,n=0|i[n+16>>2],yt(o)}while(0!=(0|n));o=t,t=0|i[t+8>>2],yt(o)}while(0!=(0|t));if(t=e,e=0|i[e+8>>2],r||yt(t),!e)break;r=0}},_edgeLengthKm:function(e){return+ +o[20752+((e|=0)<<3)>>3]},_edgeLengthM:function(e){return+ +o[20880+((e|=0)<<3)>>3]},_emscripten_replace_memory:function(e){return r=new Int8Array(e),new Uint8Array(e),i=new Int32Array(e),new Float32Array(e),o=new Float64Array(e),n=e,!0},_exactEdgeLengthKm:function(e,t){var n,r,a=0,s=0,u=0,c=0,h=0,p=0;if(r=T,T=T+176|0,Ke(e|=0,t|=0,n=r),(0|(e=0|i[n>>2]))<=1)return T=r,+(u=0);t=e+-1|0,e=0,a=0,s=+o[n+8>>3],u=+o[n+16>>3];do{h=s,s=+o[n+8+((e=e+1|0)<<4)>>3],p=+f(.5*(s-h)),c=u,u=+o[n+8+(e<<4)+8>>3],c=p*p+(c=+f(.5*(u-c)))*(+A(+h)*+A(+s)*c),a+=2*+v(+ +l(+c),+ +l(+(1-c)))}while((0|e)!=(0|t));return T=r,+(p=6371.007180918475*a)},_exactEdgeLengthM:function(e,t){var n,r,a=0,s=0,u=0,c=0,h=0,p=0;if(r=T,T=T+176|0,Ke(e|=0,t|=0,n=r),(0|(e=0|i[n>>2]))<=1)return T=r,+(u=0);t=e+-1|0,e=0,a=0,s=+o[n+8>>3],u=+o[n+16>>3];do{h=s,s=+o[n+8+((e=e+1|0)<<4)>>3],p=+f(.5*(s-h)),c=u,u=+o[n+8+(e<<4)+8>>3],c=p*p+(c=+f(.5*(u-c)))*(+A(+h)*+A(+s)*c),a+=2*+v(+ +l(+c),+ +l(+(1-c)))}while((0|e)!=(0|t));return T=r,+(p=6371.007180918475*a*1e3)},_exactEdgeLengthRads:function(e,t){var n,r,a=0,s=0,u=0,c=0,h=0,p=0;if(r=T,T=T+176|0,Ke(e|=0,t|=0,n=r),(0|(e=0|i[n>>2]))<=1)return T=r,+(u=0);t=e+-1|0,e=0,a=0,s=+o[n+8>>3],u=+o[n+16>>3];do{h=s,s=+o[n+8+((e=e+1|0)<<4)>>3],p=+f(.5*(s-h)),c=u,u=+o[n+8+(e<<4)+8>>3],c=p*p+(c=+f(.5*(u-c)))*(+A(+s)*+A(+h)*c),a+=2*+v(+ +l(+c),+ +l(+(1-c)))}while((0|e)<(0|t));return T=r,+a},_experimentalH3ToLocalIj:function(e,t,n,r,i){var o,a;return i|=0,a=T,T=T+16|0,(e=0|$e(e|=0,t|=0,n|=0,r|=0,o=a))||(he(o,i),e=0),T=a,0|e},_experimentalLocalIjToH3:function(e,t,n,r){var i,o;return e|=0,t|=0,r|=0,i=T,T=T+16|0,pe(n|=0,o=i),r=0|et(e,t,o,r),T=i,0|r},_free:yt,_geoToH3:Ne,_getDestinationH3IndexFromUnidirectionalEdge:function(e,t){e|=0;var n,r,o=0;return n=T,T=T+16|0,o=n,!0&268435456==(2013265920&(t|=0)|0)?(r=0|Ct(0|e,0|t,56),x(),i[o>>2]=0,o=0|I(e,-2130706433&t|134217728,7&r,o),t=0|x(),w(0|t),T=n,0|o):(o=0,w(0|(t=0)),T=n,0|o)},_getH3IndexesFromUnidirectionalEdge:function(e,t,n){e|=0;var r,o,a,s,u=0;a=T,T=T+16|0,r=a,s=!0&268435456==(2013265920&(t|=0)|0),o=-2130706433&t|134217728,i[(u=n|=0)>>2]=s?e:0,i[u+4>>2]=s?o:0,s?(t=0|Ct(0|e,0|t,56),x(),i[r>>2]=0,e=0|I(e,o,7&t,r),t=0|x()):(e=0,t=0),i[(u=n+8|0)>>2]=e,i[u+4>>2]=t,T=a},_getH3UnidirectionalEdge:function(e,t,n,r){var o,a,s=0,u=0,l=0,c=0,A=0;if(a=T,T=T+16|0,o=a,!(0|We(e|=0,t|=0,n|=0,r|=0)))return c=0,w(0|(l=0)),T=a,0|c;for(l=-2130706433&t,s=(s=0==(0|Ie(e,t)))?1:2;i[o>>2]=0,u=s+1|0,!((0|(A=0|I(e,t,s,o)))==(0|n)&(0|x())==(0|r));){if(!(u>>>0<7)){s=0,e=0,c=6;break}s=u}return 6==(0|c)?(w(0|s),T=a,0|e):(A=0|Bt(0|s,0,56),c=0|l|x()|268435456,A|=e,w(0|c),T=a,0|A)},_getH3UnidirectionalEdgeBoundary:Ke,_getH3UnidirectionalEdgesFromHexagon:function(e,t,n){n|=0;var r,o=0;r=0==(0|Ie(e|=0,t|=0)),t&=-2130706433,i[(o=n)>>2]=r?e:0,i[o+4>>2]=r?285212672|t:0,i[(o=n+8|0)>>2]=e,i[o+4>>2]=301989888|t,i[(o=n+16|0)>>2]=e,i[o+4>>2]=318767104|t,i[(o=n+24|0)>>2]=e,i[o+4>>2]=335544320|t,i[(o=n+32|0)>>2]=e,i[o+4>>2]=352321536|t,i[(n=n+40|0)>>2]=e,i[n+4>>2]=369098752|t},_getOriginH3IndexFromUnidirectionalEdge:function(e,t){var n;return e|=0,w(0|((n=!0&268435456==(2013265920&(t|=0)|0))?-2130706433&t|134217728:0)),0|(n?e:0)},_getPentagonIndexes:Ge,_getRes0Indexes:function(e){e|=0;var t=0,n=0,r=0;t=0;do{Bt(0|t,0,45),r=134225919|x(),i[(n=e+(t<<3)|0)>>2]=-1,i[n+4>>2]=r,t=t+1|0}while(122!=(0|t))},_h3Distance:function(e,t,n,r){var i,o,a;return n|=0,r|=0,a=T,T=T+32|0,o=a,e=0==(0|$e(e|=0,t|=0,e,t,i=a+12|0))&&0==(0|$e(e,t,n,r,o))?0|fe(i,o):-1,T=a,0|e},_h3GetBaseCell:Te,_h3GetFaces:function e(t,n,r){r|=0;var o,a=0,s=0,u=0,l=0,c=0,A=0,f=0,h=0;o=T,T=T+128|0,f=o+112|0,u=o+96|0,h=o,s=0|Ct(0|(t|=0),0|(n|=0),52),x(),c=15&s,i[f>>2]=c,l=0|Ct(0|t,0|n,45),x(),l&=127;e:do{if(0|R(l)){if(0|c)for(a=1;;){if(!(0==((A=0|Bt(7,0,3*(15-a|0)|0))&t|0)&0==((0|x())&n|0))){s=0;break e}if(!(a>>>0<c>>>0))break;a=a+1|0}if(!(1&s))return A=0|Bt(c+1|0,0,52),h=0|x()|-15728641&n,e((A|t)&~(f=0|Bt(7,0,3*(14-c|0)|0)),h&~(0|x()),r),void(T=o);s=1}else s=0}while(0);Qe(t,n,u),s?(_e(u,f,h),A=5):(Be(u,f,h),A=6);e:do{if(0|R(l))if(c)for(a=1;;){if(!(0==((l=0|Bt(7,0,3*(15-a|0)|0))&t|0)&0==((0|x())&n|0))){a=8;break e}if(!(a>>>0<c>>>0)){a=20;break}a=a+1|0}else a=20;else a=8}while(0);if(Ot(0|r,-1,0|a),s){s=0;do{for(xe(u=h+(s<<4)|0,0|i[f>>2]),u=0|i[u>>2],a=0;!(-1==(0|(c=0|i[(l=r+(a<<2)|0)>>2]))|(0|c)==(0|u));)a=a+1|0;i[l>>2]=u,s=s+1|0}while((0|s)!=(0|A))}else{s=0;do{for(we(u=h+(s<<4)|0,0|i[f>>2],0,1),u=0|i[u>>2],a=0;!(-1==(0|(c=0|i[(l=r+(a<<2)|0)>>2]))|(0|c)==(0|u));)a=a+1|0;i[l>>2]=u,s=s+1|0}while((0|s)!=(0|A))}T=o},_h3GetResolution:function(e,t){return t=0|Ct(0|(e|=0),0|(t|=0),52),x(),15&t|0},_h3IndexesAreNeighbors:We,_h3IsPentagon:Ie,_h3IsResClassIII:function(e,t){return t=0|Ct(0|(e|=0),0|(t|=0),52),x(),1&t|0},_h3IsValid:Pe,_h3Line:function(e,t,n,r,o){n|=0,r|=0,o|=0;var a,s=0,l=0,c=0,A=0,f=0,h=0,p=0,d=0,g=0,v=0,y=0,m=0,b=0,_=0,w=0,x=0,C=0;if(a=T,T=T+48|0,l=a+12|0,x=a,0==(0|$e(e|=0,t|=0,e,t,s=a+24|0))&&0==(0|$e(e,t,n,r,l))){if((0|(w=0|fe(s,l)))<0)return T=a,0|(x=w);for(i[s>>2]=0,i[s+4>>2]=0,i[s+8>>2]=0,i[l>>2]=0,i[l+4>>2]=0,i[l+8>>2]=0,$e(e,t,e,t,s),$e(e,t,n,r,l),de(s),de(l),w?(g=+(0|w),_=s,n=h=0|i[s>>2],r=p=0|i[(m=s+4|0)>>2],s=d=0|i[(b=s+8|0)>>2],v=+((0|i[l>>2])-h|0)/g,y=+((0|i[l+4>>2])-p|0)/g,g=+((0|i[l+8>>2])-d|0)/g):(m=r=s+4|0,b=d=s+8|0,_=s,n=0|i[s>>2],r=0|i[r>>2],s=0|i[d>>2],v=0,y=0,g=0),i[x>>2]=n,i[(d=x+4|0)>>2]=r,i[(p=x+8|0)>>2]=s,h=0;;){C=v*(A=+(0|h))+ +(0|n),c=y*A+ +(0|i[m>>2]),A=g*A+ +(0|i[b>>2]),r=~~+St(+C),l=~~+St(+c),n=~~+St(+A),C=+u(+(+(0|r)-C)),c=+u(+(+(0|l)-c)),A=+u(+(+(0|n)-A));do{if(!(C>c&C>A)){if(f=0-r|0,c>A){s=f-n|0;break}s=l,n=f-l|0;break}r=0-(l+n)|0,s=l}while(0);if(i[x>>2]=r,i[d>>2]=s,i[p>>2]=n,ge(x),et(e,t,x,o+(h<<3)|0),(0|h)==(0|w))break;h=h+1|0,n=0|i[_>>2]}return T=a,0|(x=0)}return T=a,0|(x=-1)},_h3LineSize:function(e,t,n,r){var i,o,a;return n|=0,r|=0,a=T,T=T+32|0,o=a,e=0==(0|$e(e|=0,t|=0,e,t,i=a+12|0))&&0==(0|$e(e,t,n,r,o))?0|fe(i,o):-1,T=a,(e>>>31^1)+e|0},_h3SetToLinkedGeo:function(e,t,n){n|=0;var r,o,a,s=0;if(a=T,T=T+32|0,r=a,function(e,t,n){e|=0,n|=0;var r,o,a=0,s=0,u=0,l=0,c=0;if(o=T,T=T+176|0,r=o,(0|(t|=0))<1)return lt(n,0,0),void(T=o);l=0|Ct(0|i[(l=e)>>2],0|i[l+4>>2],52),x(),lt(n,(0|t)>6?t:6,15&l),l=0;do{if(Ve(0|i[(a=e+(l<<3)|0)>>2],0|i[a+4>>2],r),(0|(a=0|i[r>>2]))>0){c=0;do{u=r+8+(c<<4)|0,(s=0|pt(n,a=r+8+(((0|(c=c+1|0))%(0|a)|0)<<4)|0,u))?ft(n,s):ht(n,u,a),a=0|i[r>>2]}while((0|c)<(0|a))}l=l+1|0}while((0|l)!=(0|t));T=o}(e|=0,t|=0,o=a+16|0),i[n>>2]=0,i[n+4>>2]=0,i[n+8>>2]=0,!(e=0|At(o)))return Ye(n),ct(o),void(T=a);do{t=0|qe(n);do{Xe(t,e),s=e+16|0,i[r>>2]=i[s>>2],i[r+4>>2]=i[s+4>>2],i[r+8>>2]=i[s+8>>2],i[r+12>>2]=i[s+12>>2],ft(o,e),e=0|dt(o,r)}while(0!=(0|e));e=0|At(o)}while(0!=(0|e));Ye(n),ct(o),T=a},_h3ToCenterChild:function(e,t,n){n|=0;var r=0,i=0;if(r=0|Ct(0|(e|=0),0|(t|=0),52),x(),(0|n)<16&(0|(r&=15))<=(0|n)){if((0|r)!=(0|n)&&(e|=i=0|Bt(0|n,0,52),t=0|x()|-15728641&t,(0|r)<(0|n)))do{i=0|Bt(7,0,3*(14-r|0)|0),r=r+1|0,e&=~i,t&=~(0|x())}while((0|r)<(0|n))}else t=0,e=0;return w(0|t),0|e},_h3ToChildren:Fe,_h3ToGeo:He,_h3ToGeoBoundary:Ve,_h3ToParent:Me,_h3UnidirectionalEdgeIsValid:function(e,t){var n=0;if(!(!0&268435456==(2013265920&(t|=0)|0)))return 0|(n=0);switch(n=0|Ct(0|(e|=0),0|t,56),x(),7&n){case 0:case 7:return 0|(n=0)}return!0&16777216==(117440512&t|0)&0!=(0|Ie(e,n=-2130706433&t|134217728))?0|(n=0):0|(n=0|Pe(e,n))},_hexAreaKm2:function(e){return+ +o[20496+((e|=0)<<3)>>3]},_hexAreaM2:function(e){return+ +o[20624+((e|=0)<<3)>>3]},_hexRing:function(e,t,n,r){e|=0,t|=0,r|=0;var o,a=0,s=0,u=0,l=0,c=0,A=0,f=0;if(o=T,T=T+16|0,f=o,!(n|=0))return i[(f=r)>>2]=e,i[f+4>>2]=t,T=o,0|(f=0);i[f>>2]=0;e:do{if(0|Ie(e,t))e=1;else{if(s=(0|n)>0){a=0,A=e;do{if(0==(0|(A=0|I(A,t,4,f)))&0==(0|(t=0|x()))){e=2;break e}if(a=a+1|0,0|Ie(A,t)){e=1;break e}}while((0|a)<(0|n));if(i[(c=r)>>2]=A,i[c+4>>2]=t,c=n+-1|0,s){s=0,u=1,a=A,e=t;do{if(0==(0|(a=0|I(a,e,2,f)))&0==(0|(e=0|x()))){e=2;break e}if(i[(l=r+(u<<3)|0)>>2]=a,i[l+4>>2]=e,u=u+1|0,0|Ie(a,e)){e=1;break e}s=s+1|0}while((0|s)<(0|n));l=0,s=u;do{if(0==(0|(a=0|I(a,e,3,f)))&0==(0|(e=0|x()))){e=2;break e}if(i[(u=r+(s<<3)|0)>>2]=a,i[u+4>>2]=e,s=s+1|0,0|Ie(a,e)){e=1;break e}l=l+1|0}while((0|l)<(0|n));u=0;do{if(0==(0|(a=0|I(a,e,1,f)))&0==(0|(e=0|x()))){e=2;break e}if(i[(l=r+(s<<3)|0)>>2]=a,i[l+4>>2]=e,s=s+1|0,0|Ie(a,e)){e=1;break e}u=u+1|0}while((0|u)<(0|n));u=0;do{if(0==(0|(a=0|I(a,e,5,f)))&0==(0|(e=0|x()))){e=2;break e}if(i[(l=r+(s<<3)|0)>>2]=a,i[l+4>>2]=e,s=s+1|0,0|Ie(a,e)){e=1;break e}u=u+1|0}while((0|u)<(0|n));u=0;do{if(0==(0|(a=0|I(a,e,4,f)))&0==(0|(e=0|x()))){e=2;break e}if(i[(l=r+(s<<3)|0)>>2]=a,i[l+4>>2]=e,s=s+1|0,0|Ie(a,e)){e=1;break e}u=u+1|0}while((0|u)<(0|n));for(u=0;;){if(0==(0|(a=0|I(a,e,6,f)))&0==(0|(e=0|x()))){e=2;break e}if((0|u)!=(0|c)){if(i[(l=r+(s<<3)|0)>>2]=a,i[l+4>>2]=e,0|Ie(a,e)){e=1;break e}s=s+1|0}if((0|(u=u+1|0))>=(0|n)){u=A,s=t;break}}}else u=A,a=A,s=t,e=t}else i[(u=r)>>2]=e,i[u+4>>2]=t,u=e,a=e,s=t,e=t;e=1&((0|u)!=(0|a)|(0|s)!=(0|e))}}while(0);return T=o,0|(f=e)},_i64Subtract:bt,_kRing:P,_kRingDistances:function(e,t,n,r,i){var o;if(0|M(e|=0,t|=0,n|=0,r|=0,i|=0)){if(Ot(0|r,0,(o=1+(0|m(3*n|0,n+1|0))|0)<<3|0),0|i)return Ot(0|i,0,o<<2|0),void F(e,t,n,r,i,o,0);(i=0|mt(o,4))&&(F(e,t,n,r,i,o,0),yt(i))}},_llvm_minnum_f64:Et,_llvm_round_f64:St,_malloc:vt,_maxFaceCount:function(e,t){var n=0,r=0;if(r=0|Ct(0|(e|=0),0|(t|=0),45),x(),!(0|R(127&r)))return 0|(r=2);if(r=0|Ct(0|e,0|t,52),x(),!(r&=15))return 0|(r=5);for(n=1;;){if(!(0==((0|Bt(7,0,3*(15-n|0)|0))&e|0)&0==((0|x())&t|0))){n=2,e=6;break}if(!(n>>>0<r>>>0)){n=5,e=6;break}n=n+1|0}return 6==(0|e)?0|n:0},_maxH3ToChildrenSize:function(e,t,n){return n|=0,e=0|Ct(0|(e|=0),0|(t|=0),52),x(),(0|n)<16&(0|(e&=15))<=(0|n)?0|(n=0|tt(7,n-e|0)):0|(n=0)},_maxKringSize:function(e){return 1+(0|m(3*(e|=0)|0,e+1|0))|0},_maxPolyfillSize:function(e,t){t|=0;var n,r=0,o=0,a=0,s=0,u=0;if(n=T,T=T+48|0,a=n+8|0,o=n,s=0|i[(u=e|=0)+4>>2],i[(r=o)>>2]=i[u>>2],i[r+4>>2]=s,rt(o,a),a=0|V(a,t),t=0|i[o>>2],(0|(o=0|i[e+8>>2]))<=0)return T=n,0|(u=(u=(s=(0|a)<(0|(u=t)))?u:a)+12|0);r=0|i[e+12>>2],e=0;do{t=(0|i[r+(e<<3)>>2])+t|0,e=e+1|0}while((0|e)<(0|o));return T=n,0|(u=(u=(u=(0|a)<(0|t))?t:a)+12|0)},_maxUncompactSize:function(e,t,n){e|=0,n|=0;var r=0,o=0,a=0,s=0;if((0|(t|=0))<=0)return 0|(n=0);if((0|n)>=16){for(r=0;;){if(!(0==(0|i[(s=e+(r<<3)|0)>>2])&0==(0|i[s+4>>2]))){r=-1,o=13;break}if((0|(r=r+1|0))>=(0|t)){r=0,o=13;break}}if(13==(0|o))return 0|r}r=0,s=0;e:for(;;){a=0|i[(o=e+(s<<3)|0)>>2],o=0|i[o+4>>2];do{if(!(0==(0|a)&0==(0|o))){if(o=0|Ct(0|a,0|o,52),x(),(0|(o&=15))>(0|n)){r=-1,o=13;break e}if((0|o)==(0|n)){r=r+1|0;break}r=(0|tt(7,n-o|0))+r|0;break}}while(0);if((0|(s=s+1|0))>=(0|t)){o=13;break}}return 13==(0|o)?0|r:0},_memcpy:kt,_memset:Ot,_numHexagons:function(e){var t;return e=0|i[(t=21008+((e|=0)<<3)|0)>>2],w(0|i[t+4>>2]),0|e},_pentagonIndexCount:function(){return 12},_pointDistKm:ke,_pointDistM:function(e,t){e|=0;var n,r,i,a=0;return r=+o[(t|=0)>>3],n=+o[e>>3],a=(i=+f(.5*(r-n)))*i+(a=+f(.5*(+o[t+8>>3]-+o[e+8>>3])))*(+A(+r)*+A(+n)*a),2*+v(+ +l(+a),+ +l(+(1-a)))*6371.007180918475*1e3},_pointDistRads:function(e,t){e|=0;var n,r,i,a=0;return r=+o[(t|=0)>>3],n=+o[e>>3],a=(i=+f(.5*(r-n)))*i+(a=+f(.5*(+o[t+8>>3]-+o[e+8>>3])))*(+A(+r)*+A(+n)*a),2*+v(+ +l(+a),+ +l(+(1-a)))},_polyfill:function(e,t,n){var r,o=0,a=0,s=0,u=0,l=0;if(r=T,T=T+48|0,o=r+8|0,a=r,0|function(e,t,n){t|=0,n|=0;var r=0,o=0,a=0,s=0,u=0,l=0,c=0,A=0,f=0,h=0,p=0,d=0,g=0,v=0,y=0,m=0,b=0,_=0,w=0,B=0,E=0,S=0,k=0,O=0,P=0,I=0,R=0,D=0,Z=0,U=0;U=T,T=T+112|0,I=U+80|0,l=U+72|0,R=U,D=U+56|0,(Z=0|vt(32+(i[(c=(e=e|0)+8|0)>>2]<<5)|0))||C(22848,22448,800,22456);if(it(e,Z),r=0|i[(a=e)+4>>2],i[(u=l)>>2]=i[a>>2],i[u+4>>2]=r,rt(l,I),u=0|V(I,t),r=0|i[l>>2],(0|(a=0|i[c>>2]))>0){s=0|i[e+12>>2],o=0;do{r=(0|i[s+(o<<3)>>2])+r|0,o=o+1|0}while((0|o)!=(0|a))}if(o=0|mt(P=(u=(0|u)<(0|r)?r:u)+12|0,8),A=0|mt(P,8),i[I>>2]=0,O=0|i[(k=e)+4>>2],i[(r=l)>>2]=i[k>>2],i[r+4>>2]=O,0|(r=0|L(l,P,t,I,o,A)))return yt(o),yt(A),yt(Z),T=U,0|(Z=r);e:do{if((0|i[c>>2])>0){for(a=e+12|0,r=0;s=0|L((0|i[a>>2])+(r<<3)|0,P,t,I,o,A),r=r+1|0,!(0|s);)if((0|r)>=(0|i[c>>2]))break e;return yt(o),yt(A),yt(Z),T=U,0|(Z=s)}}while(0);(0|u)>-12&&Ot(0|A,0,((0|P)>1?P:1)<<3|0);e:do{if((0|i[I>>2])>0){O=((0|P)<0)<<31>>31,_=o,w=A,B=o,E=o,S=A,k=o,r=o,v=o,y=A,m=A,b=A,o=A;t:for(;;){for(g=0|i[I>>2],p=0,d=0,a=0;;){u=(s=R)+56|0;do{i[s>>2]=0,s=s+4|0}while((0|s)<(0|u));if(0|M(l=0|i[(t=_+(p<<3)|0)>>2],t=0|i[t+4>>2],1,R,0)){u=(s=R)+56|0;do{i[s>>2]=0,s=s+4|0}while((0|s)<(0|u));0|(s=0|mt(7,4))&&(F(l,t,1,R,s,7,0),yt(s))}h=0;do{A=0|i[(f=R+(h<<3)|0)>>2],f=0|i[f+4>>2];n:do{if(!(0==(0|A)&0==(0|f))){if(l=0|xt(0|A,0|f,0|P,0|O),x(),!(0==(0|(t=0|i[(u=s=n+(l<<3)|0)>>2]))&0==(0|(u=0|i[u+4>>2]))))for(c=0;;){if((0|c)>(0|P))break t;if((0|t)==(0|A)&(0|u)==(0|f))break n;if(0==(0|(t=0|i[(u=s=n+((l=(l+1|0)%(0|P)|0)<<3)|0)>>2]))&0==(0|(u=0|i[u+4>>2])))break;c=c+1|0}0==(0|A)&0==(0|f)||(He(A,f,D),0|ot(e,Z,D)&&(i[(c=s)>>2]=A,i[c+4>>2]=f,i[(c=w+(a<<3)|0)>>2]=A,i[c+4>>2]=f,a=a+1|0))}}while(0);h=h+1|0}while(h>>>0<7);if((0|(d=d+1|0))>=(0|g))break;p=p+1|0}if((0|g)>0&&Ot(0|B,0,g<<3|0),i[I>>2]=a,!((0|a)>0))break e;A=o,f=b,h=k,p=m,d=y,g=w,o=v,b=r,m=E,y=B,v=A,r=f,k=S,S=h,E=p,B=d,w=_,_=g}return yt(E),yt(S),yt(Z),T=U,0|(Z=-1)}r=A}while(0);return yt(Z),yt(o),yt(r),T=U,0|(Z=0)}(e|=0,t|=0,n|=0)){if(s=0|i[(l=e)+4>>2],i[(u=a)>>2]=i[l>>2],i[u+4>>2]=s,rt(a,o),u=0|V(o,t),t=0|i[a>>2],(0|(s=0|i[e+8>>2]))>0){a=0|i[e+12>>2],o=0;do{t=(0|i[a+(o<<3)>>2])+t|0,o=o+1|0}while((0|o)!=(0|s))}(0|(t=(0|u)<(0|t)?t:u))<=-12||Ot(0|n,0,8+(((0|(l=t+11|0))>0?l:0)<<3)|0),T=r}else T=r},_res0IndexCount:function(){return 122},_round:Tt,_sbrk:Pt,_sizeOfCoordIJ:function(){return 8},_sizeOfGeoBoundary:function(){return 168},_sizeOfGeoCoord:function(){return 16},_sizeOfGeoPolygon:function(){return 16},_sizeOfGeofence:function(){return 8},_sizeOfH3Index:function(){return 8},_sizeOfLinkedGeoPolygon:function(){return 12},_uncompact:function(e,t,n,r,o){e|=0,n|=0,r|=0,o|=0;var a=0,s=0,u=0,l=0,c=0,A=0;if((0|(t|=0))<=0)return 0|(o=0);if((0|o)>=16){for(a=0;;){if(!(0==(0|i[(A=e+(a<<3)|0)>>2])&0==(0|i[A+4>>2]))){a=14;break}if((0|(a=a+1|0))>=(0|t)){s=0,a=16;break}}if(14==(0|a))return 0|((0|r)>0?-2:-1);if(16==(0|a))return 0|s}a=0,A=0;e:for(;;){s=0|i[(u=c=e+(A<<3)|0)>>2],u=0|i[u+4>>2];do{if(!(0==(0|s)&0==(0|u))){if((0|a)>=(0|r)){s=-1,a=16;break e}if(l=0|Ct(0|s,0|u,52),x(),(0|(l&=15))>(0|o)){s=-2,a=16;break e}if((0|l)==(0|o)){i[(c=n+(a<<3)|0)>>2]=s,i[c+4>>2]=u,a=a+1|0;break}if((0|(s=(0|tt(7,o-l|0))+a|0))>(0|r)){s=-1,a=16;break e}Fe(0|i[c>>2],0|i[c+4>>2],o,n+(a<<3)|0),a=s}}while(0);if((0|(A=A+1|0))>=(0|t)){s=0,a=16;break}}return 16==(0|a)?0|s:0},establishStackSpace:function(e,t){T=e|=0},stackAlloc:function(e){var t;return t=T,T=(T=T+(e|=0)|0)+15&-16,0|t},stackRestore:function(e){T=e|=0},stackSave:function(){return 0|T}}}({Math:Math,Int8Array:Int8Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Float32Array:Float32Array,Float64Array:Float64Array},{a:se,b:function(e){l=e},c:c,d:function(e,t,n,r){se("Assertion failed: "+d(e)+", at: "+[t?d(t):"unknown filename",n,r?d(r):"unknown function"])},e:function(e){return n.___errno_location&&(b[n.___errno_location()>>2]=e),e},f:G,g:function(e,t,n){y.set(y.subarray(t,t+n),e)},h:function(e){var t=G(),n=16777216,r=2130706432;if(e>r)return!1;for(var i=Math.max(t,16777216);i<e;)i=i<=536870912?x(2*i,n):Math.min(x((3*i+2147483648)/4,n),r);return!!W(i)},i:function(e){se("OOM")},j:Q,k:H,l:W,m:V,n:function(){var e=V();return n.extraStackTrace&&(e+="\n"+n.extraStackTrace()),H(e)},o:24032,p:24016},g),J=(n.___uremdi3=Y.___uremdi3,n._bitshift64Lshr=Y._bitshift64Lshr,n._bitshift64Shl=Y._bitshift64Shl,n._calloc=Y._calloc,n._cellAreaKm2=Y._cellAreaKm2,n._cellAreaM2=Y._cellAreaM2,n._cellAreaRads2=Y._cellAreaRads2,n._compact=Y._compact,n._destroyLinkedPolygon=Y._destroyLinkedPolygon,n._edgeLengthKm=Y._edgeLengthKm,n._edgeLengthM=Y._edgeLengthM,n._emscripten_replace_memory=Y._emscripten_replace_memory),$=(n._exactEdgeLengthKm=Y._exactEdgeLengthKm,n._exactEdgeLengthM=Y._exactEdgeLengthM,n._exactEdgeLengthRads=Y._exactEdgeLengthRads,n._experimentalH3ToLocalIj=Y._experimentalH3ToLocalIj,n._experimentalLocalIjToH3=Y._experimentalLocalIjToH3,n._free=Y._free,n._geoToH3=Y._geoToH3,n._getDestinationH3IndexFromUnidirectionalEdge=Y._getDestinationH3IndexFromUnidirectionalEdge,n._getH3IndexesFromUnidirectionalEdge=Y._getH3IndexesFromUnidirectionalEdge,n._getH3UnidirectionalEdge=Y._getH3UnidirectionalEdge,n._getH3UnidirectionalEdgeBoundary=Y._getH3UnidirectionalEdgeBoundary,n._getH3UnidirectionalEdgesFromHexagon=Y._getH3UnidirectionalEdgesFromHexagon,n._getOriginH3IndexFromUnidirectionalEdge=Y._getOriginH3IndexFromUnidirectionalEdge,n._getPentagonIndexes=Y._getPentagonIndexes,n._getRes0Indexes=Y._getRes0Indexes,n._h3Distance=Y._h3Distance,n._h3GetBaseCell=Y._h3GetBaseCell,n._h3GetFaces=Y._h3GetFaces,n._h3GetResolution=Y._h3GetResolution,n._h3IndexesAreNeighbors=Y._h3IndexesAreNeighbors,n._h3IsPentagon=Y._h3IsPentagon,n._h3IsResClassIII=Y._h3IsResClassIII,n._h3IsValid=Y._h3IsValid,n._h3Line=Y._h3Line,n._h3LineSize=Y._h3LineSize,n._h3SetToLinkedGeo=Y._h3SetToLinkedGeo,n._h3ToCenterChild=Y._h3ToCenterChild,n._h3ToChildren=Y._h3ToChildren,n._h3ToGeo=Y._h3ToGeo,n._h3ToGeoBoundary=Y._h3ToGeoBoundary,n._h3ToParent=Y._h3ToParent,n._h3UnidirectionalEdgeIsValid=Y._h3UnidirectionalEdgeIsValid,n._hexAreaKm2=Y._hexAreaKm2,n._hexAreaM2=Y._hexAreaM2,n._hexRing=Y._hexRing,n._i64Subtract=Y._i64Subtract,n._kRing=Y._kRing,n._kRingDistances=Y._kRingDistances,n._llvm_minnum_f64=Y._llvm_minnum_f64,n._llvm_round_f64=Y._llvm_round_f64,n._malloc=Y._malloc,n._maxFaceCount=Y._maxFaceCount,n._maxH3ToChildrenSize=Y._maxH3ToChildrenSize,n._maxKringSize=Y._maxKringSize,n._maxPolyfillSize=Y._maxPolyfillSize,n._maxUncompactSize=Y._maxUncompactSize,n._memcpy=Y._memcpy,n._memset=Y._memset,n._numHexagons=Y._numHexagons,n._pentagonIndexCount=Y._pentagonIndexCount,n._pointDistKm=Y._pointDistKm,n._pointDistM=Y._pointDistM,n._pointDistRads=Y._pointDistRads,n._polyfill=Y._polyfill,n._res0IndexCount=Y._res0IndexCount,n._round=Y._round,n._sbrk=Y._sbrk,n._sizeOfCoordIJ=Y._sizeOfCoordIJ,n._sizeOfGeoBoundary=Y._sizeOfGeoBoundary,n._sizeOfGeoCoord=Y._sizeOfGeoCoord,n._sizeOfGeoPolygon=Y._sizeOfGeoPolygon,n._sizeOfGeofence=Y._sizeOfGeofence,n._sizeOfH3Index=Y._sizeOfH3Index,n._sizeOfLinkedGeoPolygon=Y._sizeOfLinkedGeoPolygon,n._uncompact=Y._uncompact,n.establishStackSpace=Y.establishStackSpace,n.stackAlloc=Y.stackAlloc),ee=n.stackRestore=Y.stackRestore,te=n.stackSave=Y.stackSave;if(n.asm=Y,n.cwrap=function(e,t,n,r){var i=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&i&&!r?f(e):function(){return h(e,t,n,arguments)}},n.setValue=function(e,t,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":v[e>>0]=t;break;case"i16":m[e>>1]=t;break;case"i32":b[e>>2]=t;break;case"i64":U=[t>>>0,(Z=t,+P(Z)>=1?Z>0?(0|I(+F(Z/4294967296),4294967295))>>>0:~~+M((Z-+(~~Z>>>0))/4294967296)>>>0:0)],b[e>>2]=U[0],b[e+4>>2]=U[1];break;case"float":_[e>>2]=t;break;case"double":w[e>>3]=t;break;default:se("invalid type for setValue: "+n)}},n.getValue=function(e,t,n){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return v[e>>0];case"i16":return m[e>>1];case"i32":case"i64":return b[e>>2];case"float":return _[e>>2];case"double":return w[e>>3];default:se("invalid type for getValue: "+t)}return null},n.getTempRet0=c,j){z(j)||(j=function(e){return n.locateFile?n.locateFile(e,a):a+e}(j)),L++,n.monitorRunDependencies&&n.monitorRunDependencies(L);var ne=function(e){e.byteLength&&(e=new Uint8Array(e)),y.set(e,8),n.memoryInitializerRequest&&delete n.memoryInitializerRequest.response,function(e){if(L--,n.monitorRunDependencies&&n.monitorRunDependencies(L),0==L&&(null!==R&&(clearInterval(R),R=null),D)){var t=D;D=null,t()}}()},re=function(){i(j,ne,(function(){throw"could not load memory initializer "+j}))},ie=q(j);if(ie)ne(ie.buffer);else if(n.memoryInitializerRequest){var oe=function(){var e=n.memoryInitializerRequest,t=e.response;if(200!==e.status&&0!==e.status){var r=q(n.memoryInitializerRequestURL);if(!r)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+e.status+", retrying "+j),void re();t=r.buffer}ne(t)};n.memoryInitializerRequest.response?setTimeout(oe,0):n.memoryInitializerRequest.addEventListener("load",oe)}else re()}function ae(e){function t(){X||(X=!0,A||(E(k),E(O),n.onRuntimeInitialized&&n.onRuntimeInitialized(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)e=n.postRun.shift(),T.unshift(e);var e;E(T)}()))}e=e||o,L>0||(!function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)e=n.preRun.shift(),S.unshift(e);var e;E(S)}(),L>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),t()}),1)):t()))}function se(e){throw n.onAbort&&n.onAbort(e),s(e+=""),u(e),A=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(D=function e(){X||ae(),X||(D=e)},n.run=ae,n.abort=se,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return ae(),e}("object"===typeof $r?$r:{}),ei="number",ti={};[["sizeOfH3Index",ei],["sizeOfGeoCoord",ei],["sizeOfGeoBoundary",ei],["sizeOfGeoPolygon",ei],["sizeOfGeofence",ei],["sizeOfLinkedGeoPolygon",ei],["sizeOfCoordIJ",ei],["h3IsValid",ei,[ei,ei]],["geoToH3",ei,[ei,ei,ei]],["h3ToGeo",null,[ei,ei,ei]],["h3ToGeoBoundary",null,[ei,ei,ei]],["maxKringSize",ei,[ei]],["kRing",null,[ei,ei,ei,ei]],["kRingDistances",null,[ei,ei,ei,ei,ei]],["hexRing",null,[ei,ei,ei,ei]],["maxPolyfillSize",ei,[ei,ei]],["polyfill",null,[ei,ei,ei]],["h3SetToLinkedGeo",null,[ei,ei,ei]],["destroyLinkedPolygon",null,[ei]],["compact",ei,[ei,ei,ei]],["uncompact",ei,[ei,ei,ei,ei,ei]],["maxUncompactSize",ei,[ei,ei,ei]],["h3IsPentagon",ei,[ei,ei]],["h3IsResClassIII",ei,[ei,ei]],["h3GetBaseCell",ei,[ei,ei]],["h3GetResolution",ei,[ei,ei]],["maxFaceCount",ei,[ei,ei]],["h3GetFaces",null,[ei,ei,ei]],["h3ToParent",ei,[ei,ei,ei]],["h3ToChildren",null,[ei,ei,ei,ei]],["h3ToCenterChild",ei,[ei,ei,ei]],["maxH3ToChildrenSize",ei,[ei,ei,ei]],["h3IndexesAreNeighbors",ei,[ei,ei,ei,ei]],["getH3UnidirectionalEdge",ei,[ei,ei,ei,ei]],["getOriginH3IndexFromUnidirectionalEdge",ei,[ei,ei]],["getDestinationH3IndexFromUnidirectionalEdge",ei,[ei,ei]],["h3UnidirectionalEdgeIsValid",ei,[ei,ei]],["getH3IndexesFromUnidirectionalEdge",null,[ei,ei,ei]],["getH3UnidirectionalEdgesFromHexagon",null,[ei,ei,ei]],["getH3UnidirectionalEdgeBoundary",null,[ei,ei,ei]],["h3Distance",ei,[ei,ei,ei,ei]],["h3Line",ei,[ei,ei,ei,ei,ei]],["h3LineSize",ei,[ei,ei,ei,ei]],["experimentalH3ToLocalIj",ei,[ei,ei,ei,ei,ei]],["experimentalLocalIjToH3",ei,[ei,ei,ei,ei]],["hexAreaM2",ei,[ei]],["hexAreaKm2",ei,[ei]],["edgeLengthM",ei,[ei]],["edgeLengthKm",ei,[ei]],["pointDistM",ei,[ei,ei]],["pointDistKm",ei,[ei,ei]],["pointDistRads",ei,[ei,ei]],["cellAreaM2",ei,[ei,ei]],["cellAreaKm2",ei,[ei,ei]],["cellAreaRads2",ei,[ei,ei]],["exactEdgeLengthM",ei,[ei,ei]],["exactEdgeLengthKm",ei,[ei,ei]],["exactEdgeLengthRads",ei,[ei,ei]],["numHexagons",ei,[ei]],["getRes0Indexes",null,[ei]],["res0IndexCount",ei],["getPentagonIndexes",null,[ei,ei]],["pentagonIndexCount",ei]].forEach((function(e){ti[e[0]]=$r.cwrap.apply($r,e)}));var ni=16,ri=ti.sizeOfH3Index(),ii=ti.sizeOfGeoCoord(),oi=ti.sizeOfGeoBoundary(),ai=(ti.sizeOfGeoPolygon(),ti.sizeOfGeofence(),ti.sizeOfLinkedGeoPolygon()),si=(ti.sizeOfCoordIJ(),"m"),ui="km";function li(e){if("number"!==typeof e||e<0||e>15||Math.floor(e)!==e)throw new Error("Invalid resolution: "+e)}var ci=/[^0-9a-fA-F]/;function Ai(e){if(Array.isArray(e)&&2===e.length&&Number.isInteger(e[0])&&Number.isInteger(e[1]))return e;if("string"!==typeof e||ci.test(e))return[0,0];var t=parseInt(e.substring(0,e.length-8),ni);return[parseInt(e.substring(e.length-8),ni),t]}function fi(e){if(e>=0)return e.toString(ni);var t=pi(8,(e&=2147483647).toString(ni));return t=(parseInt(t[0],ni)+8).toString(ni)+t.substring(1)}function hi(e,t){return fi(t)+pi(8,fi(e))}function pi(e,t){for(var n=e-t.length,r="",i=0;i<n;i++)r+="0";return r+=t}function di(e){return[e,$r.getTempRet0()]}function gi(e){var t=di(e),n=t[0],r=t[1];return r?hi(n,r):null}function vi(e,t,n){$r.HEAPU32.set(Ai(e),t/4+2*n)}function yi(e,t){for(var n=t.length,r=0;r<n;r++)vi(t[r],e,r)}function mi(e){return 180*$r.getValue(e,"double")/Math.PI}function bi(e){return[mi(e),mi(e+8)]}function _i(e){return[mi(e+8),mi(e)]}function wi(e,t,n){for(var r=$r.getValue(e,"i32"),i=e+8,o=[],a=t?_i:bi,s=0;s<2*r;s+=2)o.push(a(i+8*s));return n&&o.push(o[0]),o}function xi(e){var t=Ai(e),n=t[0],r=t[1];return Boolean(ti.h3IsPentagon(n,r))}function Ci(e){var t=Ai(e),n=t[0],r=t[1];return ti.h3IsValid(n,r)?ti.h3GetResolution(n,r):-1}function Bi(e){var t=$r._malloc(ii),n=Ai(e),r=n[0],i=n[1];ti.h3ToGeo(r,i,t);var o=bi(t);return $r._free(t),o}function Ei(e,t){var n=$r._malloc(oi),r=Ai(e),i=r[0],o=r[1];ti.h3ToGeoBoundary(i,o,n);var a=wi(n,t,t);return $r._free(n),a}function Si(e,t){if(!e||!e.length)return[];var n=e.length,r=$r._calloc(n,ri);yi(r,e);var i=$r._calloc(ai),o=i;ti.h3SetToLinkedGeo(r,n,i);var a=function(e,t){for(var n,r,i,o,a=[],s=t?_i:bi;e;){for(a.push(n=[]),r=$r.getValue(e,"i8*");r;){for(n.push(i=[]),o=$r.getValue(r,"i8*");o;)i.push(s(o)),o=$r.getValue(o+16,"i8*");t&&i.push(i[0]),r=$r.getValue(r+8,"i8*")}e=$r.getValue(e+8,"i8*")}return a}(i,t);return ti.destroyLinkedPolygon(o),$r._free(o),$r._free(r),a}function ki(e,t){switch(li(e),t){case si:return ti.edgeLengthM(e);case ui:return ti.edgeLengthKm(e);default:throw new Error("Unknown unit: "+t)}}function Oi(e){return e*Math.PI/180}var Ti=n(9166);function Pi(e,t){t=void 0===t?e[0][0]:t;var n,r=(0,Ee.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i[0]-t;o>180?i[0]-=360:o<-180&&(i[0]+=360)}}catch(a){r.e(a)}finally{r.f()}}function Mi(e,t,n){var r=Bi(e),i=(0,mt.Z)(r,2),o=i[0],a=i[1],s=t.length;Pi(t,a);for(var u=t[0]===t[s-1]?s-1:s,l=0;l<u;l++)t[l][0]=(0,Ti.t7)(a,t[l][0],n),t[l][1]=(0,Ti.t7)(o,t[l][1],n)}function Fi(e,t,n){var r=Bi(e(t,n)),i=(0,mt.Z)(r,2),o=i[0];return[i[1],o]}function Ii(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Ei(e,!0);return 1!==t?Mi(e,n,t):Pi(n),n}var Li=(0,Ce.Z)((0,Ce.Z)({},fe.Z.defaultProps),{},{highPrecision:"auto",coverage:{type:"number",min:0,max:1,value:1},centerHexagon:null,getHexagon:{type:"accessor",value:function(e){return e.hexagon}},extruded:!0}),Ri=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,Be.Z)((0,me.Z)(e),"state",void 0),e}return(0,ye.Z)(n,[{key:"initializeState",value:function(){n._checkH3Lib(),this.state={edgeLengthKM:0,resolution:-1}}},{key:"shouldUpdateState",value:function(e){var t=e.changeFlags;return this._shouldUseHighPrecision()?t.propsOrDataChanged:t.somethingChanged}},{key:"updateState",value:function(e){var t=e.props,n=e.changeFlags;if(!0!==t.highPrecision&&(n.dataChanged||n.updateTriggersChanged&&n.updateTriggersChanged.getHexagon)){var r=this._calculateH3DataProps();this.setState(r)}this._updateVertices(this.context.viewport)}},{key:"_calculateH3DataProps",value:function(){var e,t=-1,n=!1,r=!1,i=(0,ne.jB)(this.props.data),o=i.iterable,a=i.objectInfo,s=(0,Ee.Z)(o);try{for(s.s();!(e=s.n()).done;){var u=e.value;a.index++;var l=this.props.getHexagon(u,a),c=Ci(l);if(t<0){if(t=c,!this.props.highPrecision)break}else if(t!==c){r=!0;break}if(xi(l)){n=!0;break}}}catch(A){s.e(A)}finally{s.f()}return{resolution:t,edgeLengthKM:t>=0?ki(t,"km"):0,hasMultipleRes:r,hasPentagon:n}}},{key:"_shouldUseHighPrecision",value:function(){if("auto"===this.props.highPrecision){var e=this.state,t=e.resolution,n=e.hasPentagon,r=e.hasMultipleRes,i=this.context.viewport;return Boolean(null===i||void 0===i?void 0:i.resolution)||r||n||t>=0&&t<=5}return this.props.highPrecision}},{key:"_updateVertices",value:function(e){if(!this._shouldUseHighPrecision()){var t=this.state,n=t.resolution,r=t.edgeLengthKM,i=t.centerHex;if(!(n<0)){var o=this.props.centerHexagon||function(e,t,n){var r=$r._malloc(ii);$r.HEAPF64.set([e,t].map(Oi),r/8);var i=gi(ti.geoToH3(r,n));return $r._free(r),i}(e.latitude,e.longitude,n);if(i!==o){if(i){var a=function(e,t){var n=Ai(e),r=n[0],i=n[1],o=Ai(t),a=o[0],s=o[1];return ti.h3Distance(r,i,a,s)}(i,o);if(a>=0&&a*r<10)return}var s=e.distanceScales.unitsPerMeter,u=Ii(o),l=Bi(o),c=(0,mt.Z)(l,2),A=c[0],f=c[1],h=e.projectFlat([f,A]),p=(0,mt.Z)(h,2),d=p[0],g=p[1];u=u.map((function(t){var n=e.projectFlat(t);return[(n[0]-d)/s[0],(n[1]-g)/s[1]]})),this.setState({centerHex:o,vertices:u})}}}}},{key:"renderLayers",value:function(){return this._shouldUseHighPrecision()?this._renderPolygonLayer():this._renderColumnLayer()}},{key:"_getForwardProps",value:function(){var e=this.props,t=e.elevationScale,n=e.material,r=e.coverage,i=e.extruded,o=e.wireframe,a=e.stroked,s=e.filled,u=e.lineWidthUnits,l=e.lineWidthScale,c=e.lineWidthMinPixels,A=e.lineWidthMaxPixels,f=e.getFillColor,h=e.getElevation,p=e.getLineColor,d=e.getLineWidth,g=e.transitions,v=e.updateTriggers;return{elevationScale:t,extruded:i,coverage:r,wireframe:o,stroked:a,filled:s,lineWidthUnits:u,lineWidthScale:l,lineWidthMinPixels:c,lineWidthMaxPixels:A,material:n,getElevation:h,getFillColor:f,getLineColor:p,getLineWidth:d,transitions:g,updateTriggers:{getFillColor:v.getFillColor,getElevation:v.getElevation,getLineColor:v.getLineColor,getLineWidth:v.getLineWidth}}}},{key:"_renderPolygonLayer",value:function(){var e=this.props,t=e.data,n=e.getHexagon,r=e.updateTriggers,i=e.coverage,o=this.getSubLayerClass("hexagon-cell-hifi",fe.Z),a=this._getForwardProps();return a.updateTriggers.getPolygon=function(e,t){return void 0===e||null===e?t:"object"===typeof e?(0,Ce.Z)((0,Ce.Z)({},e),{},{coverage:t}):{getHexagon:e,coverage:t}}(r.getHexagon,i),new o(a,this.getSubLayerProps({id:"hexagon-cell-hifi",updateTriggers:a.updateTriggers}),{data:t,_normalize:!1,_windingOrder:"CCW",positionFormat:"XY",getPolygon:function(e,t){return function(e){var t,n=new Float64Array(2*e.length),r=0,i=(0,Ee.Z)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;n[r++]=o[0],n[r++]=o[1]}}catch(a){i.e(a)}finally{i.f()}return n}(Ii(n(e,t),i))}})}},{key:"_renderColumnLayer",value:function(){var e=this.props,t=e.data,n=e.getHexagon,r=e.updateTriggers,i=this.getSubLayerClass("hexagon-cell",ce.Z),o=this._getForwardProps();return o.updateTriggers.getPosition=r.getHexagon,new i(o,this.getSubLayerProps({id:"hexagon-cell",flatShading:!0,updateTriggers:o.updateTriggers}),{data:t,diskResolution:6,radius:1,vertices:this.state.vertices,getPosition:Fi.bind(null,n)})}}]),n}(d.Z);(0,Be.Z)(Ri,"defaultProps",Li),(0,Be.Z)(Ri,"layerName","H3HexagonLayer"),(0,Be.Z)(Ri,"_checkH3Lib",(function(){}));var Di=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"initializeState",value:function(){Ri._checkH3Lib()}},{key:"updateState",value:function(e){var t=e.props,n=e.changeFlags;if(n.dataChanged||n.updateTriggersChanged&&n.updateTriggersChanged.getHexagons){var r,i=t.data,o=t.getHexagons,a=[],s=(0,ne.jB)(i),u=s.iterable,l=s.objectInfo,c=(0,Ee.Z)(u);try{for(c.s();!(r=c.n()).done;){var A=r.value;l.index++;var f,h=Si(o(A,l),!0),p=(0,Ee.Z)(h);try{for(p.s();!(f=p.n()).done;){var d=f.value;a.push(this.getSubLayerRow({polygon:d},A,l.index))}}catch(g){p.e(g)}finally{p.f()}}}catch(g){c.e(g)}finally{c.f()}this.setState({polygons:a})}}},{key:"indexToBounds",value:function(){return{data:this.state.polygons,getPolygon:function(e){return e.polygon}}}}]),n}(Dr);(0,Be.Z)(Di,"layerName","H3ClusterLayer"),(0,Be.Z)(Di,"defaultProps",{getHexagons:{type:"accessor",value:function(e){return e.hexagons}}});var Zi=n(8844),Ui=n(4165),ji=n(5861),Ni=function(){function e(t){(0,ve.Z)(this,e),(0,Be.Z)(this,"index",void 0),(0,Be.Z)(this,"isVisible",void 0),(0,Be.Z)(this,"isSelected",void 0),(0,Be.Z)(this,"parent",void 0),(0,Be.Z)(this,"children",void 0),(0,Be.Z)(this,"content",void 0),(0,Be.Z)(this,"state",void 0),(0,Be.Z)(this,"layers",void 0),(0,Be.Z)(this,"id",void 0),(0,Be.Z)(this,"bbox",void 0),(0,Be.Z)(this,"zoom",void 0),(0,Be.Z)(this,"userData",void 0),(0,Be.Z)(this,"_abortController",void 0),(0,Be.Z)(this,"_loader",void 0),(0,Be.Z)(this,"_loaderId",void 0),(0,Be.Z)(this,"_isLoaded",void 0),(0,Be.Z)(this,"_isCancelled",void 0),(0,Be.Z)(this,"_needsReload",void 0),this.index=t,this.isVisible=!1,this.isSelected=!1,this.parent=null,this.children=[],this.content=null,this._loader=void 0,this._abortController=null,this._loaderId=0,this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1}return(0,ye.Z)(e,[{key:"data",get:function(){var e=this;return this.isLoading&&this._loader?this._loader.then((function(){return e.data})):this.content}},{key:"isLoaded",get:function(){return this._isLoaded&&!this._needsReload}},{key:"isLoading",get:function(){return Boolean(this._loader)&&!this._isCancelled}},{key:"needsReload",get:function(){return this._needsReload||this._isCancelled}},{key:"byteLength",get:function(){var e=this.content?this.content.byteLength:0;return Number.isFinite(e)||z.Z.error("byteLength not defined in tile data")(),e}},{key:"_loadData",value:function(){var e=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o,a,s,u,l,c,A,f,h,p,d;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getData,r=t.requestScheduler,i=t.onLoad,o=t.onError,a=this.index,s=this.id,u=this.bbox,l=this.userData,c=this.zoom,A=this._loaderId,this._abortController=new AbortController,f=this._abortController.signal,e.next=7,r.scheduleRequest(this,(function(e){return e.isSelected?1:-1}));case 7:if(h=e.sent){e.next=11;break}return this._isCancelled=!0,e.abrupt("return");case 11:if(!this._isCancelled){e.next=14;break}return h.done(),e.abrupt("return");case 14:return p=null,e.prev=15,e.next=18,n({index:a,id:s,bbox:u,userData:l,zoom:c,signal:f});case 18:p=e.sent,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(15),d=e.t0||!0;case 24:return e.prev=24,h.done(),e.finish(24);case 27:if(A===this._loaderId){e.next=29;break}return e.abrupt("return");case 29:if(this._loader=void 0,this.content=p,!this._isCancelled||p){e.next=34;break}return this._isLoaded=!1,e.abrupt("return");case 34:this._isLoaded=!0,this._isCancelled=!1,d?o(d,this):i(this);case 37:case"end":return e.stop()}}),e,this,[[15,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadData",value:function(e){return this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1,this._loaderId++,this._loader=this._loadData(e),this._loader}},{key:"setNeedsReload",value:function(){this.isLoading&&(this.abort(),this._loader=void 0),this._needsReload=!0}},{key:"abort",value:function(){var e;this.isLoaded||(this._isCancelled=!0,null===(e=this._abortController)||void 0===e||e.abort())}}]),e}(),zi=n(2982),Qi=-1,Hi=0,Vi=1,Gi=n(8140),Wi=new Gi.Z,Ki=new Gi.Z,qi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=arguments.length>2?arguments[2]:void 0;(0,ve.Z)(this,e),(0,Be.Z)(this,"center",void 0),(0,Be.Z)(this,"halfDiagonal",void 0),(0,Be.Z)(this,"minimum",void 0),(0,Be.Z)(this,"maximum",void 0),r=r||Wi.copy(t).add(n).scale(.5),this.center=new Gi.Z(r),this.halfDiagonal=new Gi.Z(n).subtract(this.center),this.minimum=new Gi.Z(t),this.maximum=new Gi.Z(n)}return(0,ye.Z)(e,[{key:"clone",value:function(){return new e(this.minimum,this.maximum,this.center)}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.minimum.equals(e.minimum)&&this.maximum.equals(e.maximum)}},{key:"transform",value:function(e){return this.center.transformAsPoint(e),this.halfDiagonal.transform(e),this.minimum.transform(e),this.maximum.transform(e),this}},{key:"intersectPlane",value:function(e){var t=this.halfDiagonal,n=Ki.from(e.normal),r=t.x*Math.abs(n.x)+t.y*Math.abs(n.y)+t.z*Math.abs(n.z),i=this.center.dot(n)+e.distance;return i-r>0?Vi:i+r<0?Qi:Hi}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}},{key:"distanceSquaredTo",value:function(e){var t,n=Wi.from(e).subtract(this.center),r=this.halfDiagonal,i=0;return(t=Math.abs(n.x)-r.x)>0&&(i+=t*t),(t=Math.abs(n.y)-r.y)>0&&(i+=t*t),(t=Math.abs(n.z)-r.z)>0&&(i+=t*t),i}}]),e}(),Xi=n(71),Yi=new Gi.Z,Ji=new Gi.Z,$i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,ve.Z)(this,e),(0,Be.Z)(this,"center",void 0),(0,Be.Z)(this,"radius",void 0),this.radius=-0,this.center=new Gi.Z,this.fromCenterRadius(t,n)}return(0,ye.Z)(e,[{key:"fromCenterRadius",value:function(e,t){return this.center.from(e),this.radius=t,this}},{key:"fromCornerPoints",value:function(e,t){return t=Yi.from(t),this.center=(new Gi.Z).from(e).add(t).scale(.5),this.radius=this.center.distance(t),this}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.radius===e.radius}},{key:"clone",value:function(){return new e(this.center,this.radius)}},{key:"union",value:function(e){var t=this.center,n=this.radius,r=e.center,i=e.radius,o=Yi.copy(r).subtract(t),a=o.magnitude();if(n>=a+i)return this.clone();if(i>=a+n)return e.clone();var s=.5*(n+a+i);return Ji.copy(o).scale((-n+s)/a).add(t),this.center.copy(Ji),this.radius=s,this}},{key:"expand",value:function(e){var t=Yi.from(e).subtract(this.center).magnitude();return t>this.radius&&(this.radius=t),this}},{key:"transform",value:function(e){this.center.transform(e);var t=Xi.Q$(Yi,e);return this.radius=Math.max(t[0],Math.max(t[1],t[2]))*this.radius,this}},{key:"distanceSquaredTo",value:function(e){var t=this.distanceTo(e);return t*t}},{key:"distanceTo",value:function(e){var t=Yi.from(e).subtract(this.center);return Math.max(0,t.len()-this.radius)}},{key:"intersectPlane",value:function(e){var t=this.center,n=this.radius,r=e.normal.dot(t)+e.distance;return r<-n?Qi:r<n?Hi:Vi}}]),e}(),eo=n(613),to=n(4863),no=n(1108),ro=n(4231);function io(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],A=t[8],f=n[0],h=n[1],p=n[2],d=n[3],g=n[4],v=n[5],y=n[6],m=n[7],b=n[8];return e[0]=f*r+h*a+p*l,e[1]=f*i+h*s+p*c,e[2]=f*o+h*u+p*A,e[3]=d*r+g*a+v*l,e[4]=d*i+g*s+v*c,e[5]=d*o+g*u+v*A,e[6]=y*r+m*a+b*l,e[7]=y*i+m*s+b*c,e[8]=y*o+m*u+b*A,e}function oo(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}var ao,so=n(9233),uo=n(7206);!function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL1ROW0=3]="COL1ROW0",e[e.COL1ROW1=4]="COL1ROW1",e[e.COL1ROW2=5]="COL1ROW2",e[e.COL2ROW0=6]="COL2ROW0",e[e.COL2ROW1=7]="COL2ROW1",e[e.COL2ROW2=8]="COL2ROW2"}(ao||(ao={}));var lo,co,Ao=Object.freeze([1,0,0,0,1,0,0,0,1]),fo=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(e){for(var r,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return(0,ve.Z)(this,n),r=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?r.copy(e):o.length>0?r.copy([e].concat(o)):r.identity(),r}return(0,ye.Z)(n,[{key:"ELEMENTS",get:function(){return 9}},{key:"RANK",get:function(){return 3}},{key:"INDICES",get:function(){return ao}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}},{key:"identity",value:function(){return this.copy(Ao)}},{key:"fromObject",value:function(e){return this.check()}},{key:"fromQuaternion",value:function(e){return function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,A=r*s,f=i*a,h=i*s,p=i*u,d=o*a,g=o*s,v=o*u;e[0]=1-A-p,e[3]=c-v,e[6]=f+g,e[1]=c+v,e[4]=1-l-p,e[7]=h-d,e[2]=f-g,e[5]=h+d,e[8]=1-l-A}(this,e),this.check()}},{key:"set",value:function(e,t,n,r,i,o,a,s,u){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this.check()}},{key:"setRowMajor",value:function(e,t,n,r,i,o,a,s,u){return this[0]=e,this[1]=r,this[2]=a,this[3]=t,this[4]=i,this[5]=s,this[6]=n,this[7]=o,this[8]=u,this.check()}},{key:"determinant",value:function(){return function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8];return t*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)}(this)}},{key:"transpose",value:function(){return function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8]}(this,this),this.check()}},{key:"invert",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],A=c*a-s*l,f=-c*o+s*u,h=l*o-a*u,p=n*A+r*f+i*h;p&&(p=1/p,e[0]=A*p,e[1]=(-c*r+i*l)*p,e[2]=(s*r-i*a)*p,e[3]=f*p,e[4]=(c*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=h*p,e[7]=(-l*n+r*u)*p,e[8]=(a*n-r*o)*p)}(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return io(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return io(this,this,e),this.check()}},{key:"rotate",value:function(e){return function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],A=t[8],f=Math.sin(n),h=Math.cos(n);e[0]=h*r+f*a,e[1]=h*i+f*s,e[2]=h*o+f*u,e[3]=h*a-f*r,e[4]=h*s-f*i,e[5]=h*u-f*o,e[6]=l,e[7]=c,e[8]=A}(this,this,e),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?oo(this,this,e):oo(this,this,[e,e]),this.check()}},{key:"translate",value:function(e){return function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],A=t[8],f=n[0],h=n[1];e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=f*r+h*a+l,e[7]=f*i+h*s+c,e[8]=f*o+h*u+A}(this,this,e),this.check()}},{key:"transform",value:function(e,t){var n;switch(e.length){case 2:n=so.kK(t||[-0,-0],e,this);break;case 3:n=uo.kK(t||[-0,-0,-0],e,this);break;case 4:n=(0,no._x)(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return(0,to.IL)(n,e.length),n}},{key:"transformVector",value:function(e,t){return this.transform(e,t)}},{key:"transformVector2",value:function(e,t){return this.transform(e,t)}},{key:"transformVector3",value:function(e,t){return this.transform(e,t)}}],[{key:"IDENTITY",get:function(){return po()}},{key:"ZERO",get:function(){return ho()}}]),n}(eo.Z);function ho(){return lo||(lo=new fo([0,0,0,0,0,0,0,0,0]),Object.freeze(lo)),lo}function po(){return co||(co=new fo,Object.freeze(co)),co}var go,vo=n(1276),yo=n(5988),mo=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return(0,ve.Z)(this,n),e=t.call(this,-0,-0,-0,-0),(0,Ti.kJ)(r)&&1===arguments.length?e.copy(r):(Ti.vc.debug&&((0,to.u5)(r),(0,to.u5)(i),(0,to.u5)(o),(0,to.u5)(a)),e[0]=r,e[1]=i,e[2]=o,e[3]=a),e}return(0,ye.Z)(n,[{key:"set",value:function(e,t,n,r){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"fromObject",value:function(e){return Ti.vc.debug&&((0,to.u5)(e.x),(0,to.u5)(e.y),(0,to.u5)(e.z),(0,to.u5)(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}},{key:"ELEMENTS",get:function(){return 4}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=(0,to.u5)(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=(0,to.u5)(e)}},{key:"transform",value:function(e){return uo.fF(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return(0,no._x)(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return(0,no.G7)(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return uo.VC(this,this,e),this.check()}},{key:"applyMatrix4",value:function(e){return e.transform(this,this),this}}],[{key:"ZERO",get:function(){return go||(go=new n(0,0,0,0),Object.freeze(go)),go}}]),n}(yo.Z),bo=n(725);function _o(){var e=new ro.WT(4);return ro.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function wo(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function xo(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+a*s+i*l-o*u,e[1]=i*c+a*u+o*s-r*l,e[2]=o*c+a*l+r*u-i*s,e[3]=a*c-r*s-i*u-o*l,e}function Co(e,t,n,r){var i,o,a,s,u,l=t[0],c=t[1],A=t[2],f=t[3],h=n[0],p=n[1],d=n[2],g=n[3];return(o=l*h+c*p+A*d+f*g)<0&&(o=-o,h=-h,p=-p,d=-d,g=-g),1-o>ro.Ib?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),e[0]=s*l+u*h,e[1]=s*c+u*p,e[2]=s*A+u*d,e[3]=s*f+u*g,e}function Bo(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e}bo.d9,bo.al,bo.JG,bo.t8;var Eo=bo.IH,So=bo.bA,ko=bo.AK,Oo=bo.t7,To=bo.kE,Po=bo.we,Mo=bo.Fv,Fo=(bo.I6,bo.fS,function(){var e=uo.Ue(),t=uo.al(1,0,0),n=uo.al(0,1,0);return function(r,i,o){var a=uo.AK(i,o);return a<-.999999?(uo.kC(e,t,i),uo.Zh(e)<1e-6&&uo.kC(e,n,i),uo.Fv(e,e),wo(r,e,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(uo.kC(e,i,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+a,Mo(r,r))}}()),Io=(function(){var e=_o(),t=_o()}(),function(){var e=function(){var e=new ro.WT(9);return ro.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}()}(),[0,0,0,1]),Lo=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,ve.Z)(this,n),e=t.call(this,-0,-0,-0,-0),Array.isArray(r)&&1===arguments.length?e.copy(r):e.set(r,i,o,a),e}return(0,ye.Z)(n,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:"set",value:function(e,t,n,r){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this.check()}},{key:"fromObject",value:function(e){return this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this.check()}},{key:"fromMatrix3",value:function(e){return Bo(this,e),this.check()}},{key:"fromAxisRotation",value:function(e,t){return wo(this,e,t),this.check()}},{key:"identity",value:function(){var e;return(e=this)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.check()}},{key:"setAxisAngle",value:function(e,t){return this.fromAxisRotation(e,t)}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=(0,to.u5)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=(0,to.u5)(e)}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=(0,to.u5)(e)}},{key:"w",get:function(){return this[3]},set:function(e){this[3]=(0,to.u5)(e)}},{key:"len",value:function(){return To(this)}},{key:"lengthSquared",value:function(){return Po(this)}},{key:"dot",value:function(e){return ko(this,e)}},{key:"rotationTo",value:function(e,t){return Fo(this,e,t),this.check()}},{key:"add",value:function(e){return Eo(this,this,e),this.check()}},{key:"calculateW",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2];e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i))}(this,this),this.check()}},{key:"conjugate",value:function(){return function(e,t){e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3]}(this,this),this.check()}},{key:"invert",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s}(this,this),this.check()}},{key:"lerp",value:function(e,t,n){return void 0===n?this.lerp(this,e,t):(Oo(this,e,t,n),this.check())}},{key:"multiplyRight",value:function(e){return xo(this,this,e),this.check()}},{key:"multiplyLeft",value:function(e){return xo(this,e,this),this.check()}},{key:"normalize",value:function(){var e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}},{key:"rotateX",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-r*s}(this,this,e),this.check()}},{key:"rotateY",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u-o*s,e[1]=i*u+a*s,e[2]=o*u+r*s,e[3]=a*u-i*s}(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u+i*s,e[1]=i*u-r*s,e[2]=o*u+a*s,e[3]=a*u-o*s}(this,this,e),this.check()}},{key:"scale",value:function(e){return So(this,this,e),this.check()}},{key:"slerp",value:function(e,t,n){var r,i,o;switch(arguments.length){case 1:var a=e.start;r=void 0===a?Io:a,i=e.target,o=e.ratio;break;case 2:r=this,i=e,o=t;break;default:r=e,i=t,o=n}return Co(this,r,i,o),this.check()}},{key:"transformVector4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mo;return bo.VC(t,e,this),(0,to.IL)(t,4)}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"setFromAxisAngle",value:function(e,t){return this.setAxisAngle(e,t)}},{key:"premultiply",value:function(e){return this.multiplyLeft(e)}},{key:"multiply",value:function(e){return this.multiplyRight(e)}}]),n}(vo.Z),Ro=new Gi.Z,Do=new Gi.Z,Zo=new Gi.Z,Uo=new Gi.Z,jo=new Gi.Z,No=new Gi.Z,zo=new Gi.Z,Qo=0,Ho=1,Vo=2,Go=3,Wo=4,Ko=5,qo=6,Xo=7,Yo=8,Jo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0,0,0,0,0,0];(0,ve.Z)(this,e),(0,Be.Z)(this,"center",void 0),(0,Be.Z)(this,"halfAxes",void 0),this.center=(new Gi.Z).from(t),this.halfAxes=new fo(n)}return(0,ye.Z)(e,[{key:"halfSize",get:function(){var e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2);return[new Gi.Z(e).len(),new Gi.Z(t).len(),new Gi.Z(n).len()]}},{key:"quaternion",get:function(){var e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),n=this.halfAxes.getColumn(2),r=new Gi.Z(e).normalize(),i=new Gi.Z(t).normalize(),o=new Gi.Z(n).normalize();return(new Lo).fromMatrix3(new fo([].concat((0,zi.Z)(r),(0,zi.Z)(i),(0,zi.Z)(o))))}},{key:"fromCenterHalfSizeQuaternion",value:function(e,t,n){var r=new Lo(n),i=(new fo).fromQuaternion(r);return i[0]=i[0]*t[0],i[1]=i[1]*t[0],i[2]=i[2]*t[0],i[3]=i[3]*t[1],i[4]=i[4]*t[1],i[5]=i[5]*t[1],i[6]=i[6]*t[2],i[7]=i[7]*t[2],i[8]=i[8]*t[2],this.center=(new Gi.Z).from(e),this.halfAxes=i,this}},{key:"clone",value:function(){return new e(this.center,this.halfAxes)}},{key:"equals",value:function(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.halfAxes.equals(e.halfAxes)}},{key:"getBoundingSphere",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $i,t=this.halfAxes,n=t.getColumn(0,Zo),r=t.getColumn(1,Uo),i=t.getColumn(2,jo),o=Ro.copy(n).add(r).add(i);return e.center.copy(this.center),e.radius=o.magnitude(),e}},{key:"intersectPlane",value:function(e){var t=this.center,n=e.normal,r=this.halfAxes,i=n.x,o=n.y,a=n.z,s=Math.abs(i*r[Qo]+o*r[Ho]+a*r[Vo])+Math.abs(i*r[Go]+o*r[Wo]+a*r[Ko])+Math.abs(i*r[qo]+o*r[Xo]+a*r[Yo]),u=n.dot(t)+e.distance;return u<=-s?Qi:u>=s?Vi:Hi}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceSquaredTo(e))}},{key:"distanceSquaredTo",value:function(e){var t=Do.from(e).subtract(this.center),n=this.halfAxes,r=n.getColumn(0,Zo),i=n.getColumn(1,Uo),o=n.getColumn(2,jo),a=r.magnitude(),s=i.magnitude(),u=o.magnitude();r.normalize(),i.normalize(),o.normalize();var l,c=0;return(l=Math.abs(t.dot(r))-a)>0&&(c+=l*l),(l=Math.abs(t.dot(i))-s)>0&&(c+=l*l),(l=Math.abs(t.dot(o))-u)>0&&(c+=l*l),c}},{key:"computePlaneDistances",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-0,-0],r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=this.center,a=this.halfAxes,s=a.getColumn(0,Zo),u=a.getColumn(1,Uo),l=a.getColumn(2,jo),c=No.copy(s).add(u).add(l).add(o),A=zo.copy(c).subtract(e),f=t.dot(A);return r=Math.min(f,r),i=Math.max(f,i),c.copy(o).add(s).add(u).subtract(l),A.copy(c).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),c.copy(o).add(s).subtract(u).add(l),A.copy(c).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),c.copy(o).add(s).subtract(u).subtract(l),A.copy(c).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),o.copy(c).subtract(s).add(u).add(l),A.copy(c).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),o.copy(c).subtract(s).add(u).subtract(l),A.copy(c).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),o.copy(c).subtract(s).subtract(u).add(l),A.copy(c).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),o.copy(c).subtract(s).subtract(u).subtract(l),A.copy(c).subtract(e),f=t.dot(A),r=Math.min(f,r),i=Math.max(f,i),n[0]=r,n[1]=i,n}},{key:"transform",value:function(e){this.center.transformAsPoint(e);var t=this.halfAxes.getColumn(0,Zo);t.transformAsPoint(e);var n=this.halfAxes.getColumn(1,Uo);n.transformAsPoint(e);var r=this.halfAxes.getColumn(2,jo);return r.transformAsPoint(e),this.halfAxes=new fo([].concat((0,zi.Z)(t),(0,zi.Z)(n),(0,zi.Z)(r))),this}},{key:"getTransform",value:function(){throw new Error("not implemented")}}]),e}(),$o=n(2995),ea=new Gi.Z,ta=new Gi.Z,na=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,ve.Z)(this,e),(0,Be.Z)(this,"normal",void 0),(0,Be.Z)(this,"distance",void 0),this.normal=new Gi.Z,this.distance=-0,this.fromNormalDistance(t,n)}return(0,ye.Z)(e,[{key:"fromNormalDistance",value:function(e,t){return(0,$o.Z)(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}},{key:"fromPointNormal",value:function(e,t){e=ea.from(e),this.normal.from(t).normalize();var n=-this.normal.dot(e);return this.distance=n,this}},{key:"fromCoefficients",value:function(e,t,n,r){return this.normal.set(e,t,n),(0,$o.Z)((0,Ti.fS)(this.normal.len(),1)),this.distance=r,this}},{key:"clone",value:function(){return new e(this.normal,this.distance)}},{key:"equals",value:function(e){return(0,Ti.fS)(this.distance,e.distance)&&(0,Ti.fS)(this.normal,e.normal)}},{key:"getPointDistance",value:function(e){return this.normal.dot(e)+this.distance}},{key:"transform",value:function(e){var t=ta.copy(this.normal).transformAsVector(e).normalize(),n=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(n,t)}},{key:"projectPointOntoPlane",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];e=ea.from(e);var n=this.getPointDistance(e),r=ta.copy(this.normal).scale(n);return e.subtract(r).to(t)}}]),e}(),ra=[new Gi.Z([1,0,0]),new Gi.Z([0,1,0]),new Gi.Z([0,0,1])],ia=new Gi.Z,oa=new Gi.Z,aa=(new na(new Gi.Z(1,0,0),0),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,ve.Z)(this,e),(0,Be.Z)(this,"planes",void 0),this.planes=t}return(0,ye.Z)(e,[{key:"fromBoundingSphere",value:function(e){this.planes.length=2*ra.length;var t,n=e.center,r=e.radius,i=0,o=(0,Ee.Z)(ra);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=this.planes[i],u=this.planes[i+1];s||(s=this.planes[i]=new na),u||(u=this.planes[i+1]=new na);var l=ia.copy(a).scale(-r).add(n);a.dot(l);s.fromPointNormal(l,a);var c=ia.copy(a).scale(r).add(n),A=oa.copy(a).negate();A.dot(c);u.fromPointNormal(c,A),i+=2}}catch(f){o.e(f)}finally{o.f()}return this}},{key:"computeVisibility",value:function(e){var t,n=Vi,r=(0,Ee.Z)(this.planes);try{for(r.s();!(t=r.n()).done;){var i=t.value;switch(e.intersectPlane(i)){case Qi:return Qi;case Hi:n=Hi}}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"computeVisibilityWithPlaneMask",value:function(t,n){if((0,$o.Z)(Number.isFinite(n),"parentPlaneMask is required."),n===e.MASK_OUTSIDE||n===e.MASK_INSIDE)return n;for(var r=e.MASK_INSIDE,i=this.planes,o=0;o<this.planes.length;++o){var a=o<31?1<<o:0;if(!(o<31&&0===(n&a))){var s=i[o],u=t.intersectPlane(s);if(u===Qi)return e.MASK_OUTSIDE;u===Hi&&(r|=a)}}return r}}]),e}());(0,Be.Z)(aa,"MASK_OUTSIDE",4294967295),(0,Be.Z)(aa,"MASK_INSIDE",0),(0,Be.Z)(aa,"MASK_INDETERMINATE",2147483647);new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,new Gi.Z,Math.PI;var sa=.1,ua=1e-12,la=1e-15,ca=1e-20,Aa=(Math.PI,Math.PI,Math.PI,Math.PI,new fo),fa=new fo,ha=new fo,pa=new fo,da=new fo;function ga(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ca,r=10,i=0,o=0,a=fa,s=ha;a.identity(),s.copy(e);for(var u=n*va(s);o<r&&ba(s)>u;)_a(s,pa),da.copy(pa).transpose(),s.multiplyRight(pa),s.multiplyLeft(da),a.multiplyRight(pa),++i>2&&(++o,i=0);return t.unitary=a.toTarget(t.unitary),t.diagonal=s.toTarget(t.diagonal),t}function va(e){for(var t=0,n=0;n<9;++n){var r=e[n];t+=r*r}return Math.sqrt(t)}var ya=[1,0,0],ma=[2,2,1];function ba(e){for(var t=0,n=0;n<3;++n){var r=e[Aa.getElementIndex(ma[n],ya[n])];t+=2*r*r}return Math.sqrt(t)}function _a(e,t){for(var n=la,r=0,i=1,o=0;o<3;++o){var a=Math.abs(e[Aa.getElementIndex(ma[o],ya[o])]);a>r&&(i=o,r=a)}var s=ya[i],u=ma[i],l=1,c=0;if(Math.abs(e[Aa.getElementIndex(u,s)])>n){var A,f=(e[Aa.getElementIndex(u,u)]-e[Aa.getElementIndex(s,s)])/2/e[Aa.getElementIndex(u,s)];c=(A=f<0?-1/(-f+Math.sqrt(1+f*f)):1/(f+Math.sqrt(1+f*f)))*(l=1/Math.sqrt(1+A*A))}return fo.IDENTITY.to(t),t[Aa.getElementIndex(s,s)]=t[Aa.getElementIndex(u,u)]=l,t[Aa.getElementIndex(u,s)]=c,t[Aa.getElementIndex(s,u)]=-c,t}var wa=new Gi.Z,xa=new Gi.Z,Ca=new Gi.Z,Ba=new Gi.Z,Ea=new Gi.Z,Sa=new fo,ka={diagonal:new fo,unitary:new fo};var Oa=512,Ta=[[.5,.5],[0,0],[0,1],[1,0],[1,1]],Pa=Ta.concat([[0,.5],[.5,0],[1,.5],[.5,1]]),Ma=Pa.concat([[.25,.5],[.75,.5]]),Fa=function(){function e(t,n,r){(0,ve.Z)(this,e),(0,Be.Z)(this,"x",void 0),(0,Be.Z)(this,"y",void 0),(0,Be.Z)(this,"z",void 0),(0,Be.Z)(this,"childVisible",void 0),(0,Be.Z)(this,"selected",void 0),(0,Be.Z)(this,"_children",void 0),this.x=t,this.y=n,this.z=r}return(0,ye.Z)(e,[{key:"children",get:function(){if(!this._children){var t=2*this.x,n=2*this.y,r=this.z+1;this._children=[new e(t,n,r),new e(t,n+1,r),new e(t+1,n,r),new e(t+1,n+1,r)]}return this._children}},{key:"update",value:function(e){var t=e.viewport,n=e.cullingVolume,r=e.elevationBounds,i=e.minZ,o=e.maxZ,a=e.bounds,s=e.offset,u=e.project,l=this.getBoundingVolume(r,s,u);if(a&&!this.insideBounds(a))return!1;if(n.computeVisibility(l)<0)return!1;if(!this.childVisible){var c=this.z;if(c<o&&c>=i){var A=l.distanceTo(t.cameraPosition)*t.scale/t.height;c+=Math.floor(Math.log2(A))}if(c>=o)return this.selected=!0,!0}this.selected=!1,this.childVisible=!0;var f,h=(0,Ee.Z)(this.children);try{for(h.s();!(f=h.n()).done;){f.value.update(e)}}catch(p){h.e(p)}finally{h.f()}return!0}},{key:"getSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.selected&&e.push(this),this._children){var t,n=(0,Ee.Z)(this._children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.getSelected(e)}}catch(i){n.e(i)}finally{n.f()}}return e}},{key:"insideBounds",value:function(e){var t=(0,mt.Z)(e,4),n=t[0],r=t[1],i=t[2],o=t[3],a=Math.pow(2,this.z),s=Oa/a;return this.x*s<i&&this.y*s<o&&(this.x+1)*s>n&&(this.y+1)*s>r}},{key:"getBoundingVolume",value:function(e,t,n){if(n){var r,i=this.z<1?Ma:this.z<2?Pa:Ta,o=[],a=(0,Ee.Z)(i);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=Na(this.x+s[0],this.y+s[1],this.z);u[2]=e[0],o.push(n(u)),e[0]!==e[1]&&(u[2]=e[1],o.push(n(u)))}}catch(h){a.e(h)}finally{a.f()}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Jo;if(!e||0===e.length)return t.halfAxes=new fo([0,0,0,0,0,0,0,0,0]),t.center=new Gi.Z,t;var n,r=e.length,i=new Gi.Z(0,0,0),o=(0,Ee.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.add(a)}}catch(h){o.e(h)}finally{o.f()}var s=1/r;i.multiplyByScalar(s);var u,l=0,c=0,A=0,f=0,p=0,d=0,g=(0,Ee.Z)(e);try{for(g.s();!(u=g.n()).done;){var v=u.value,y=wa.copy(v).subtract(i);l+=y.x*y.x,c+=y.x*y.y,A+=y.x*y.z,f+=y.y*y.y,p+=y.y*y.z,d+=y.z*y.z}}catch(h){g.e(h)}finally{g.f()}l*=s,c*=s,A*=s,f*=s,p*=s,d*=s;var m=Sa;m[0]=l,m[1]=c,m[2]=A,m[3]=c,m[4]=f,m[5]=p,m[6]=A,m[7]=p,m[8]=d;var b,_=ga(m,ka).unitary,w=t.halfAxes.copy(_),x=w.getColumn(0,Ca),C=w.getColumn(1,Ba),B=w.getColumn(2,Ea),E=-Number.MAX_VALUE,S=-Number.MAX_VALUE,k=-Number.MAX_VALUE,O=Number.MAX_VALUE,T=Number.MAX_VALUE,P=Number.MAX_VALUE,M=(0,Ee.Z)(e);try{for(M.s();!(b=M.n()).done;){var F=b.value;wa.copy(F),E=Math.max(wa.dot(x),E),S=Math.max(wa.dot(C),S),k=Math.max(wa.dot(B),k),O=Math.min(wa.dot(x),O),T=Math.min(wa.dot(C),T),P=Math.min(wa.dot(B),P)}}catch(h){M.e(h)}finally{M.f()}x=x.multiplyByScalar(.5*(O+E)),C=C.multiplyByScalar(.5*(T+S)),B=B.multiplyByScalar(.5*(P+k)),t.center.copy(x).add(C).add(B);var I=xa.set(E-O,S-T,k-P).multiplyByScalar(.5),L=new fo([I[0],0,0,0,I[1],0,0,0,I[2]]);return t.halfAxes.multiplyRight(L),t}(o)}var l=Math.pow(2,this.z),c=Oa/l,A=this.x*c+t*Oa,f=Oa-(this.y+1)*c;return new qi([A,f,e[0]],[A+c,f+c,e[1]])}}]),e}();var Ia=512,La=[-1/0,-1/0,1/0,1/0],Ra={type:"url",value:null,validate:function(e,t){return t.optional&&null===e||"string"===typeof e||Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))},equals:function(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}};function Da(e,t){var n=[t.transformAsPoint([e[0],e[1]]),t.transformAsPoint([e[2],e[1]]),t.transformAsPoint([e[0],e[3]]),t.transformAsPoint([e[2],e[3]])],r=[Math.min.apply(Math,(0,zi.Z)(n.map((function(e){return e[0]})))),Math.min.apply(Math,(0,zi.Z)(n.map((function(e){return e[1]})))),Math.max.apply(Math,(0,zi.Z)(n.map((function(e){return e[0]})))),Math.max.apply(Math,(0,zi.Z)(n.map((function(e){return e[1]}))))];return r}function Za(e,t){if(!e||!e.length)return null;var n=t.index,r=t.id;if(Array.isArray(e)){var i=function(e){return Math.abs(e.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)|0}),0))}(r)%e.length;e=e[i]}for(var o=e,a=0,s=Object.keys(n);a<s.length;a++){var u=s[a],l=new RegExp("{".concat(u,"}"),"g");o=o.replace(l,String(n[u]))}return Number.isInteger(n.y)&&Number.isInteger(n.z)&&(o=o.replace(/\{-y\}/g,String(Math.pow(2,n.z)-n.y-1))),o}function Ua(e){var t=e.viewport,n=e.z,r=e.cullRect,i=r.x-t.x,o=r.y-t.y,a=r.width,s=r.height;if(!Array.isArray(n)){var u={targetZ:n||0},l=t.unproject([i,o],u),c=t.unproject([i+a,o],u),A=t.unproject([i,o+s],u),f=t.unproject([i+a,o+s],u);return[Math.min(l[0],c[0],A[0],f[0]),Math.min(l[1],c[1],A[1],f[1]),Math.max(l[0],c[0],A[0],f[0]),Math.max(l[1],c[1],A[1],f[1])]}var h=Ua({viewport:t,z:n[0],cullRect:r}),p=Ua({viewport:t,z:n[1],cullRect:r});return[Math.min(h[0],p[0]),Math.min(h[1],p[1]),Math.max(h[2],p[2]),Math.max(h[3],p[3])]}function ja(e,t){return Math.pow(2,e)*Ia/t}function Na(e,t,n){var r=ja(n,Ia),i=e/r*360-180,o=Math.PI-2*Math.PI*t/r;return[i,180/Math.PI*Math.atan(.5*(Math.exp(o)-Math.exp(-o)))]}function za(e,t,n,r){var i=ja(n,r);return[e/i*Ia,t/i*Ia]}function Qa(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ia;if(e.isGeospatial){var o=Na(t,n,r),a=(0,mt.Z)(o,2),s=a[0],u=a[1],l=Na(t+1,n+1,r),c=(0,mt.Z)(l,2),A=c[0],f=c[1];return{west:s,north:u,east:A,south:f}}var h=za(t,n,r,i),p=(0,mt.Z)(h,2),d=p[0],g=p[1],v=za(t+1,n+1,r,i),y=(0,mt.Z)(v,2),m=y[0],b=y[1];return{left:d,top:g,right:m,bottom:b}}function Ha(e,t,n,r,i){for(var o=function(e,t,n){var r;if(t&&2===t.length){var i=(0,mt.Z)(t,2),o=i[0],a=i[1],s=e.getBounds({z:o}),u=e.getBounds({z:a});r=[Math.min(s[0],u[0]),Math.min(s[1],u[1]),Math.max(s[2],u[2]),Math.max(s[3],u[3])]}else r=e.getBounds();return e.isGeospatial?[Math.max(r[0],n[0]),Math.max(r[1],n[1]),Math.min(r[2],n[2]),Math.min(r[3],n[3])]:[Math.max(Math.min(r[0],n[2]),n[0]),Math.max(Math.min(r[1],n[3]),n[1]),Math.min(Math.max(r[2],n[0]),n[2]),Math.min(Math.max(r[3],n[1]),n[3])]}(e,null,r),a=function(e,t,n){if(n){var r=Da(e,n).map((function(e){return e*t/Ia}));return r}return e.map((function(e){return e*t/Ia}))}(o,ja(t,n),i),s=(0,mt.Z)(a,4),u=s[0],l=s[1],c=s[2],A=s[3],f=[],h=Math.floor(u);h<c;h++)for(var p=Math.floor(l);p<A;p++)f.push({x:h,y:p,z:t});return f}function Va(e){var t=e.viewport,n=e.maxZoom,r=e.minZoom,i=e.zRange,o=e.extent,a=e.tileSize,s=void 0===a?Ia:a,u=e.modelMatrix,l=e.modelMatrixInverse,c=e.zoomOffset,A=void 0===c?0:c,f=t.isGeospatial?Math.round(t.zoom+Math.log2(Ia/s))+A:Math.ceil(t.zoom)+A;if("number"===typeof r&&Number.isFinite(r)&&f<r){if(!o)return[];f=r}"number"===typeof n&&Number.isFinite(n)&&f>n&&(f=n);var h=o;return u&&l&&o&&!t.isGeospatial&&(h=Da(o,u)),t.isGeospatial?function(e,t,n,r){var i=e instanceof C.Z&&e.resolution?e.projectPosition:null,o=Object.values(e.getFrustumPlanes()).map((function(e){var t=e.normal,n=e.distance;return new na(t.clone().negate(),n)})),a=new aa(o),s=e.distanceScales.unitsPerMeter[2],u=n&&n[0]*s||0,l=n&&n[1]*s||0,c=e instanceof x.Z&&e.pitch<=60?t:0;if(r){var A=r,f=(0,mt.Z)(A,4),h=f[0],p=f[1],d=f[2],g=f[3],v=(0,Xr.w5)([h,g]),y=(0,Xr.w5)([d,p]);r=[v[0],Oa-v[1],y[0],Oa-y[1]]}var m=new Fa(0,0,0),b={viewport:e,project:i,cullingVolume:a,elevationBounds:[u,l],minZ:c,maxZ:t,bounds:r,offset:0};if(m.update(b),e instanceof x.Z&&e.subViewports&&e.subViewports.length>1){for(b.offset=-1;m.update(b)&&!(--b.offset<-3););for(b.offset=1;m.update(b)&&!(++b.offset>3););}return m.getSelected()}(t,f,i,o):Ha(t,f,s,h||La,l)}function Ga(e){return/(?=.*{z})(?=.*{x})(?=.*({y}|{-y}))/.test(e)}var Wa,Ka=n(3987),qa="Queued Requests",Xa="Active Requests",Ya="Cancelled Requests",Ja="Queued Requests Ever",$a="Active Requests Ever",es={id:"request-scheduler",throttleRequests:!0,maxRequests:6},ts=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,ve.Z)(this,e),(0,Be.Z)(this,"props",void 0),(0,Be.Z)(this,"stats",void 0),(0,Be.Z)(this,"activeRequestCount",0),(0,Be.Z)(this,"requestQueue",[]),(0,Be.Z)(this,"requestMap",new Map),(0,Be.Z)(this,"deferredUpdate",null),this.props=(0,Ce.Z)((0,Ce.Z)({},es),t),this.stats=new Ka.Z({id:this.props.id}),this.stats.get(qa),this.stats.get(Xa),this.stats.get(Ya),this.stats.get(Ja),this.stats.get($a)}return(0,ye.Z)(e,[{key:"scheduleRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(e))return this.requestMap.get(e);var n={handle:e,priority:0,getPriority:t},r=new Promise((function(e){return n.resolve=e,n}));return this.requestQueue.push(n),this.requestMap.set(e,r),this._issueNewRequests(),r}},{key:"_issueRequest",value:function(e){var t=this,n=e.handle,r=e.resolve,i=!1,o=function(){i||(i=!0,t.requestMap.delete(n),t.activeRequestCount--,t._issueNewRequests())};return this.activeRequestCount++,r?r({done:o}):Promise.resolve({done:o})}},{key:"_issueNewRequests",value:function(){var e=this;this.deferredUpdate||(this.deferredUpdate=setTimeout((function(){return e._issueNewRequestsAsync()}),0))}},{key:"_issueNewRequestsAsync",value:function(){this.deferredUpdate=null;var e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(var t=0;t<e;++t){var n=this.requestQueue.shift();n&&this._issueRequest(n)}}}},{key:"_updateAllRequests",value:function(){for(var e=this.requestQueue,t=0;t<e.length;++t){var n=e[t];this._updateRequest(n)||(e.splice(t,1),this.requestMap.delete(n.handle),t--)}e.sort((function(e,t){return e.priority-t.priority}))}},{key:"_updateRequest",value:function(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}}]),e}(),ns=n(8025),rs=n(2971),is="best-available",os=(Wa={},(0,ge.Z)(Wa,is,(function(e){var t,n=(0,Ee.Z)(e);try{for(n.s();!(t=n.n()).done;){t.value.state=0}}catch(l){n.e(l)}finally{n.f()}var r,i=(0,Ee.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.isSelected&&!ss(o)&&us(o)}}catch(l){i.e(l)}finally{i.f()}var a,s=(0,Ee.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;u.isVisible=Boolean(2&u.state)}}catch(l){s.e(l)}finally{s.f()}})),(0,ge.Z)(Wa,"no-overlap",(function(e){var t,n=(0,Ee.Z)(e);try{for(n.s();!(t=n.n()).done;){t.value.state=0}}catch(f){n.e(f)}finally{n.f()}var r,i=(0,Ee.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.isSelected&&ss(o)}}catch(f){i.e(f)}finally{i.f()}var a,s=Array.from(e).sort((function(e,t){return e.zoom-t.zoom})),u=(0,Ee.Z)(s);try{for(u.s();!(a=u.n()).done;){var l=a.value;if(l.isVisible=Boolean(2&l.state),l.children&&(l.isVisible||1&l.state)){var c,A=(0,Ee.Z)(l.children);try{for(A.s();!(c=A.n()).done;){c.value.state=1}}catch(f){A.e(f)}finally{A.f()}}else l.isSelected&&us(l)}}catch(f){u.e(f)}finally{u.f()}})),(0,ge.Z)(Wa,"never",(function(){})),Wa),as=function(){function e(t){var n=this;(0,ve.Z)(this,e),(0,Be.Z)(this,"opts",void 0),(0,Be.Z)(this,"_requestScheduler",void 0),(0,Be.Z)(this,"_cache",void 0),(0,Be.Z)(this,"_dirty",void 0),(0,Be.Z)(this,"_tiles",void 0),(0,Be.Z)(this,"_cacheByteSize",void 0),(0,Be.Z)(this,"_viewport",void 0),(0,Be.Z)(this,"_zRange",void 0),(0,Be.Z)(this,"_selectedTiles",void 0),(0,Be.Z)(this,"_frameNumber",void 0),(0,Be.Z)(this,"_modelMatrix",void 0),(0,Be.Z)(this,"_modelMatrixInverse",void 0),(0,Be.Z)(this,"_maxZoom",void 0),(0,Be.Z)(this,"_minZoom",void 0),(0,Be.Z)(this,"onTileLoad",void 0),(0,Be.Z)(this,"_getCullBounds",(0,rs.Z)(Ua)),this.opts=t,this.onTileLoad=function(e){n.opts.onTileLoad(e),n.opts.maxCacheByteSize&&(n._cacheByteSize+=e.byteLength,n._resizeCache())},this._requestScheduler=new ts({maxRequests:t.maxRequests,throttleRequests:t.maxRequests>0}),this._cache=new Map,this._tiles=[],this._dirty=!1,this._cacheByteSize=0,this._viewport=null,this._selectedTiles=null,this._frameNumber=0,this._modelMatrix=new ns.Z,this._modelMatrixInverse=new ns.Z,this.setOptions(t)}return(0,ye.Z)(e,[{key:"tiles",get:function(){return this._tiles}},{key:"selectedTiles",get:function(){return this._selectedTiles}},{key:"isLoaded",get:function(){return null!==this._selectedTiles&&this._selectedTiles.every((function(e){return e.isLoaded}))}},{key:"needsReload",get:function(){return null!==this._selectedTiles&&this._selectedTiles.some((function(e){return e.needsReload}))}},{key:"setOptions",value:function(e){Object.assign(this.opts,e),Number.isFinite(e.maxZoom)&&(this._maxZoom=Math.floor(e.maxZoom)),Number.isFinite(e.minZoom)&&(this._minZoom=Math.ceil(e.minZoom))}},{key:"finalize",value:function(){var e,t=(0,Ee.Z)(this._cache.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.isLoading&&n.abort()}}catch(r){t.e(r)}finally{t.f()}this._cache.clear(),this._tiles=[],this._selectedTiles=null}},{key:"reloadAll",value:function(){var e,t=(0,Ee.Z)(this._cache.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=this._cache.get(n);this._selectedTiles&&this._selectedTiles.includes(r)?r.setNeedsReload():this._cache.delete(n)}}catch(i){t.e(i)}finally{t.f()}}},{key:"update",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.zRange,i=n.modelMatrix,o=new ns.Z(i),a=!o.equals(this._modelMatrix);if(this._viewport&&e.equals(this._viewport)&&(0,Ti.fS)(this._zRange,r)&&!a)this.needsReload&&(this._selectedTiles=this._selectedTiles.map((function(e){return t._getTile(e.index,!0)})));else{a&&(this._modelMatrixInverse=o.clone().invert(),this._modelMatrix=o),this._viewport=e,this._zRange=r;var s=this.getTileIndices({viewport:e,maxZoom:this._maxZoom,minZoom:this._minZoom,zRange:r,modelMatrix:this._modelMatrix,modelMatrixInverse:this._modelMatrixInverse});this._selectedTiles=s.map((function(e){return t._getTile(e,!0)})),this._dirty&&this._rebuildTree()}var u=this.updateTileStates();return this._pruneRequests(),this._dirty&&this._resizeCache(),u&&this._frameNumber++,this._frameNumber}},{key:"isTileVisible",value:function(e,t){if(!e.isVisible)return!1;if(t&&this._viewport){var n=Ua({viewport:this._viewport,z:this._zRange,cullRect:t}),r=(0,mt.Z)(n,4),i=r[0],o=r[1],a=r[2],s=r[3],u=e.bbox;if("west"in u)return u.west<a&&u.east>i&&u.south<s&&u.north>o;var l=Math.min(u.top,u.bottom),c=Math.max(u.top,u.bottom);return u.left<a&&u.right>i&&l<s&&c>o}return!0}},{key:"getTileIndices",value:function(e){var t=e.viewport,n=e.maxZoom,r=e.minZoom,i=e.zRange,o=e.modelMatrix,a=e.modelMatrixInverse,s=this.opts;return Va({viewport:t,maxZoom:n,minZoom:r,zRange:i,tileSize:s.tileSize,extent:s.extent,modelMatrix:o,modelMatrixInverse:a,zoomOffset:s.zoomOffset})}},{key:"getTileId",value:function(e){return"".concat(e.x,"-").concat(e.y,"-").concat(e.z)}},{key:"getTileZoom",value:function(e){return e.z}},{key:"getTileMetadata",value:function(e){var t=this.opts.tileSize;return{bbox:Qa(this._viewport,e.x,e.y,e.z,t)}}},{key:"getParentIndex",value:function(e){return{x:Math.floor(e.x/2),y:Math.floor(e.y/2),z:e.z-1}}},{key:"updateTileStates",value:function(){var e,t=this.opts.refinementStrategy||is,n=new Array(this._cache.size),r=0,i=(0,Ee.Z)(this._cache.values());try{for(i.s();!(e=i.n()).done;){var o=e.value;n[r++]=o.isVisible,o.isSelected=!1,o.isVisible=!1}}catch(f){i.e(f)}finally{i.f()}var a,s=(0,Ee.Z)(this._selectedTiles);try{for(s.s();!(a=s.n()).done;){var u=a.value;u.isSelected=!0,u.isVisible=!0}}catch(f){s.e(f)}finally{s.f()}("function"===typeof t?t:os[t])(Array.from(this._cache.values())),r=0;var l,c=(0,Ee.Z)(this._cache.values());try{for(c.s();!(l=c.n()).done;){var A=l.value;if(n[r++]!==A.isVisible)return!0}}catch(f){c.e(f)}finally{c.f()}return!1}},{key:"_pruneRequests",value:function(){var e,t=this.opts.maxRequests,n=[],r=0,i=(0,Ee.Z)(this._cache.values());try{for(i.s();!(e=i.n()).done;){var o=e.value;o.isLoading&&(r++,o.isSelected||o.isVisible||n.push(o))}}catch(a){i.e(a)}finally{i.f()}for(;t>0&&r>t&&n.length>0;){n.shift().abort(),r--}}},{key:"_rebuildTree",value:function(){var e,t=this._cache,n=(0,Ee.Z)(t.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;r.parent=null,r.children&&(r.children.length=0)}}catch(u){n.e(u)}finally{n.f()}var i,o=(0,Ee.Z)(t.values());try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this._getNearestAncestor(a);a.parent=s,null!==s&&void 0!==s&&s.children&&s.children.push(a)}}catch(u){o.e(u)}finally{o.f()}}},{key:"_resizeCache",value:function(){var e=this._cache,t=this.opts,n=t.maxCacheSize||(t.maxCacheByteSize?1/0:5*this.selectedTiles.length),r=t.maxCacheByteSize||1/0;if(e.size>n||this._cacheByteSize>r){var i,o=(0,Ee.Z)(e);try{for(o.s();!(i=o.n()).done;){var a=(0,mt.Z)(i.value,2),s=a[0],u=a[1];if(u.isVisible||(this._cacheByteSize-=t.maxCacheByteSize?u.byteLength:0,e.delete(s),this.opts.onTileUnload(u)),e.size<=n&&this._cacheByteSize<=r)break}}catch(l){o.e(l)}finally{o.f()}this._rebuildTree(),this._dirty=!0}this._dirty&&(this._tiles=Array.from(this._cache.values()).sort((function(e,t){return e.zoom-t.zoom})),this._dirty=!1)}},{key:"_getTile",value:function(e,t){var n=this.getTileId(e),r=this._cache.get(n),i=!1;return!r&&t?(r=new Ni(e),Object.assign(r,this.getTileMetadata(r.index)),Object.assign(r,{id:n,zoom:this.getTileZoom(r.index)}),i=!0,this._cache.set(n,r),this._dirty=!0):r&&r.needsReload&&(i=!0),r&&i&&r.loadData({getData:this.opts.getTileData,requestScheduler:this._requestScheduler,onLoad:this.onTileLoad,onError:this.opts.onTileError}),r}},{key:"_getNearestAncestor",value:function(e){for(var t=this._minZoom,n=void 0===t?0:t,r=e.index;this.getTileZoom(r)>n;){r=this.getParentIndex(r);var i=this._getTile(r);if(i)return i}return null}}]),e}();function ss(e){for(var t=e;t;){if(t.isLoaded||t.content)return t.state|=2,!0;t=t.parent}return!1}function us(e){var t,n=(0,Ee.Z)(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.isLoaded||r.content?r.state|=2:us(r)}}catch(i){n.e(i)}finally{n.f()}}var ls={TilesetClass:as,data:{type:"data",value:[]},dataComparator:Ra.equals,renderSubLayers:{type:"function",value:function(e){return new pe.Z(e)},compare:!1},getTileData:{type:"function",optional:!0,value:null,compare:!1},onViewportLoad:{type:"function",optional:!0,value:null,compare:!1},onTileLoad:{type:"function",value:function(e){},compare:!1},onTileUnload:{type:"function",value:function(e){},compare:!1},onTileError:{type:"function",value:function(e){return console.error(e)},compare:!1},extent:{type:"array",optional:!0,value:null,compare:!0},tileSize:512,maxZoom:null,minZoom:0,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:is,zRange:null,maxRequests:6,zoomOffset:0},cs=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"initializeState",value:function(){this.state={tileset:null,isLoaded:!1}}},{key:"finalizeState",value:function(){var e,t;null===(e=this.state)||void 0===e||null===(t=e.tileset)||void 0===t||t.finalize()}},{key:"isLoaded",get:function(){var e,t;return null===(e=this.state)||void 0===e||null===(t=e.tileset)||void 0===t?void 0:t.selectedTiles.every((function(e){return e.isLoaded&&e.layers&&e.layers.every((function(e){return e.isLoaded}))}))}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){var t=e.changeFlags,n=this.state.tileset,r=t.propsOrDataChanged||t.updateTriggersChanged,i=t.dataChanged||t.updateTriggersChanged&&(t.updateTriggersChanged.all||t.updateTriggersChanged.getTileData);n?r&&(n.setOptions(this._getTilesetOptions()),i?n.reloadAll():this.state.tileset.tiles.forEach((function(e){e.layers=null}))):(n=new this.props.TilesetClass(this._getTilesetOptions()),this.setState({tileset:n})),this._updateTileset()}},{key:"_getTilesetOptions",value:function(){var e=this.props,t=e.tileSize,n=e.maxCacheSize,r=e.maxCacheByteSize,i=e.refinementStrategy,o=e.extent;return{maxCacheSize:n,maxCacheByteSize:r,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:t,refinementStrategy:i,extent:o,maxRequests:e.maxRequests,zoomOffset:e.zoomOffset,getTileData:this.getTileData.bind(this),onTileLoad:this._onTileLoad.bind(this),onTileError:this._onTileError.bind(this),onTileUnload:this._onTileUnload.bind(this)}}},{key:"_updateTileset",value:function(){var e=this.state.tileset,t=this.props,n=t.zRange,r=t.modelMatrix,i=e.update(this.context.viewport,{zRange:n,modelMatrix:r}),o=e.isLoaded,a=this.state.isLoaded!==o,s=this.state.frameNumber!==i;o&&(a||s)&&this._onViewportLoad(),s&&this.setState({frameNumber:i}),this.state.isLoaded=o}},{key:"_onViewportLoad",value:function(){var e=this.state.tileset,t=this.props.onViewportLoad;t&&t(e.selectedTiles)}},{key:"_onTileLoad",value:function(e){this.props.onTileLoad(e),e.layers=null,this.setNeedsUpdate()}},{key:"_onTileError",value:function(e,t){this.props.onTileError(e),t.layers=null,this.setNeedsUpdate()}},{key:"_onTileUnload",value:function(e){this.props.onTileUnload(e)}},{key:"getTileData",value:function(e){var t=this.props,n=t.data,r=t.getTileData,i=t.fetch,o=e.signal;return e.url="string"===typeof n||Array.isArray(n)?Za(n,e):null,r?r(e):i&&e.url?i(e.url,{propName:"data",layer:this,signal:o}):null}},{key:"renderSubLayers",value:function(e){return this.props.renderSubLayers(e)}},{key:"getSubLayerPropsByTile",value:function(e){return null}},{key:"getPickingInfo",value:function(e){var t=e.info,n=e.sourceLayer;return t.tile=n.props.tile,t}},{key:"_updateAutoHighlight",value:function(e){e.sourceLayer&&e.sourceLayer.updateAutoHighlight(e)}},{key:"renderLayers",value:function(){var e=this;return this.state.tileset.tiles.map((function(t){var n=e.getSubLayerPropsByTile(t);if(t.isLoaded||t.content)if(t.layers)n&&t.layers[0]&&Object.keys(n).some((function(e){return t.layers[0].props[e]!==n[e]}))&&(t.layers=t.layers.map((function(e){return e.clone(n)})));else{var r=e.renderSubLayers((0,Ce.Z)((0,Ce.Z)({},e.props),{},{id:"".concat(e.id,"-").concat(t.id),data:t.content,_offset:0,tile:t}));t.layers=(0,Zi.x)(r,Boolean).map((function(e){return e.clone((0,Ce.Z)({tile:t},n))}))}else;return t.layers}))}},{key:"filterSubLayer",value:function(e){var t=e.layer,n=e.cullRect,r=t.props.tile;return this.state.tileset.isTileVisible(r,n)}}]),n}(d.Z);(0,Be.Z)(cs,"defaultProps",ls),(0,Be.Z)(cs,"layerName","TileLayer");var As=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"getShaders",value:function(){var e=(0,be.Z)((0,_e.Z)(n.prototype),"getShaders",this).call(this);return e.inject={"vs:#decl":"uniform float trailLength;\nattribute float instanceTimestamps;\nattribute float instanceNextTimestamps;\nvarying float vTime;\n","vs:#main-end":"vTime = instanceTimestamps + (instanceNextTimestamps - instanceTimestamps) * vPathPosition.y / vPathLength;\n","fs:#decl":"uniform bool fadeTrail;\nuniform float trailLength;\nuniform float currentTime;\nvarying float vTime;\n","fs:#main-start":"if(vTime > currentTime || (fadeTrail && (vTime < currentTime - trailLength))) {\n  discard;\n}\n","fs:DECKGL_FILTER_COLOR":"if(fadeTrail) {\n  color.a *= 1.0 - (currentTime - vTime) / trailLength;\n}\n"},e}},{key:"initializeState",value:function(){(0,be.Z)((0,_e.Z)(n.prototype),"initializeState",this).call(this),this.getAttributeManager().addInstanced({timestamps:{size:1,accessor:"getTimestamps",shaderAttributes:{instanceTimestamps:{vertexOffset:0},instanceNextTimestamps:{vertexOffset:1}}}})}},{key:"draw",value:function(e){var t=this.props,r=t.fadeTrail,i=t.trailLength,o=t.currentTime;e.uniforms=(0,Ce.Z)((0,Ce.Z)({},e.uniforms),{},{fadeTrail:r,trailLength:i,currentTime:o}),(0,be.Z)((0,_e.Z)(n.prototype),"draw",this).call(this,e)}}]),n}(Ae.Z);(0,Be.Z)(As,"layerName","TripsLayer"),(0,Be.Z)(As,"defaultProps",{fadeTrail:!0,trailLength:{type:"number",value:120,min:0},currentTime:{type:"number",value:0,min:0},getTimestamps:{type:"accessor",value:function(e){return e.timestamps}}});var fs=n(3244),hs=n(3889),ps=n(4298),ds=function(){function e(){(0,ve.Z)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id;this.id=n||(0,hs.hQ)(this.constructor.name),this.display=!0,this.position=new Gi.Z,this.rotation=new Gi.Z,this.scale=new Gi.Z(1,1,1),this.matrix=new ns.Z,this.userData={},this.props={},this._setScenegraphNodeProps(t)}return(0,ye.Z)(e,[{key:"delete",value:function(){}},{key:"setProps",value:function(e){return this._setScenegraphNodeProps(e),this}},{key:"toString",value:function(){return"{type: ScenegraphNode, id: ".concat(this.id,")}")}},{key:"setPosition",value:function(e){return(0,ps.h)(3===e.length,"setPosition requires vector argument"),this.position=e,this}},{key:"setRotation",value:function(e){return(0,ps.h)(3===e.length,"setRotation requires vector argument"),this.rotation=e,this}},{key:"setScale",value:function(e){return(0,ps.h)(3===e.length,"setScale requires vector argument"),this.scale=e,this}},{key:"setMatrix",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?this.matrix.copy(e):this.matrix=e}},{key:"setMatrixComponents",value:function(e){var t=e.position,n=e.rotation,r=e.scale,i=e.update,o=void 0===i||i;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),o&&this.updateMatrix(),this}},{key:"updateMatrix",value:function(){var e=this.position,t=this.rotation,n=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(n),this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.position,n=e.rotation,r=e.scale;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),this.updateMatrix(),this}},{key:"getCoordinateUniforms",value:function(e,t){(0,ps.h)(e),t=t||this.matrix;var n=new ns.Z(e).multiplyRight(t),r=n.invert(),i=r.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:n,worldInverseMatrix:r,worldInverseTransposeMatrix:i}}},{key:"_setScenegraphNodeProps",value:function(e){"display"in e&&(this.display=e.display),"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)}}]),e}(),gs=n(8769),vs=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r=Array.isArray(r)?{children:r}:r,o=i.children,a=void 0===o?[]:o;return ke.cM.assert(a.every((function(e){return e instanceof ds})),"every child must an instance of ScenegraphNode"),(e=t.call(this,r)).children=a,e}return(0,ye.Z)(n,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];Array.isArray(o)?this.add.apply(this,(0,zi.Z)(o)):this.children.push(o)}return this}},{key:"remove",value:function(e){var t=this.children,n=t.indexOf(e);return n>-1&&t.splice(n,1),this}},{key:"removeAll",value:function(){return this.children=[],this}},{key:"delete",value:function(){this.children.forEach((function(e){return e.delete()})),this.removeAll(),(0,be.Z)((0,_e.Z)(n.prototype),"delete",this).call(this)}},{key:"traverse",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.worldMatrix,o=void 0===i?new ns.Z:i,a=new ns.Z(o).multiplyRight(this.matrix),s=(0,Ee.Z)(this.children);try{for(s.s();!(t=s.n()).done;){var u=t.value;u instanceof n?u.traverse(e,{worldMatrix:a}):e(u,{worldMatrix:a})}}catch(l){s.e(l)}finally{s.f()}}}]),n}(ds),ys={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ms={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function bs(e){if(!e._animation){var t=ms[e.componentType],n=ys[e.type],r=n*e.count,i=e.bufferView.data,o=new t(i.buffer,i.byteOffset+(e.byteOffset||0),r);if(1===n)e._animation=Array.from(o);else{for(var a=[],s=0;s<o.length;s+=n)a.push(Array.from(o.slice(s,s+n)));e._animation=a}}return e._animation}var _s=new ns.Z;var ws=new Lo;function xs(e,t,n,r){var i=t.input,o=t.interpolation,a=t.output,s=e%i[i.length-1],u=i.findIndex((function(e){return e>=s})),l=Math.max(0,u-1);if(!Array.isArray(n[r]))switch(r){case"translation":n[r]=[0,0,0];break;case"rotation":n[r]=[0,0,0,1];break;case"scale":n[r]=[1,1,1];break;default:ke.cM.warn("Bad animation path ".concat(r))()}(0,ps.h)(n[r].length===a[l].length);var c=i[l],A=i[u];switch(o){case"STEP":!function(e,t,n){for(var r=0;r<n.length;r++)e[t][r]=n[r]}(n,r,a[l]);break;case"LINEAR":if(A>c){var f=(s-c)/(A-c);!function(e,t,n,r,i){if("rotation"===t){ws.slerp({start:n,target:r,ratio:i});for(var o=0;o<ws.length;o++)e[t][o]=ws[o]}else for(var a=0;a<n.length;a++)e[t][a]=i*r[a]+(1-i)*n[a]}(n,r,a[l],a[u],f)}break;case"CUBICSPLINE":if(A>c){var h=(s-c)/(A-c),p=A-c;!function(e,t,n){for(var r=n.p0,i=n.outTangent0,o=n.inTangent1,a=n.p1,s=n.tDiff,u=n.ratio,l=0;l<e[t].length;l++){var c=i[l]*s,A=o[l]*s;e[t][l]=(2*Math.pow(u,3)-3*Math.pow(u,2)+1)*r[l]+(Math.pow(u,3)-2*Math.pow(u,2)+u)*c+(-2*Math.pow(u,3)+3*Math.pow(u,2))*a[l]+(Math.pow(u,3)-Math.pow(u,2))*A}}(n,r,{p0:a[3*l+1],outTangent0:a[3*l+2],inTangent1:a[3*u+0],p1:a[3*u+1],tDiff:p,ratio:h})}break;default:ke.cM.warn("Interpolation ".concat(o," not supported"))()}}var Cs=function(){function e(t){(0,ve.Z)(this,e),this.startTime=0,this.playing=!0,this.speed=1,this.channels=[],Object.assign(this,t)}return(0,ye.Z)(e,[{key:"animate",value:function(e){if(this.playing){var t=(e/1e3-this.startTime)*this.speed;this.channels.forEach((function(e){var n=e.sampler,r=e.target,i=e.path;xs(t,n,r,i),function(e,t){if(t.matrix.identity(),e.translation&&t.matrix.translate(e.translation),e.rotation){var n=_s.fromQuaternion(e.rotation);t.matrix.multiplyRight(n)}e.scale&&t.matrix.scale(e.scale)}(r,r._node)}))}}}]),e}(),Bs=function(){function e(t){(0,ve.Z)(this,e),this.animations=t.animations.map((function(e,n){var r=e.name||"Animation-".concat(n),i=e.samplers.map((function(e){var n=e.input,r=e.interpolation,i=void 0===r?"LINEAR":r,o=e.output;return{input:bs(t.accessors[n]),interpolation:i,output:bs(t.accessors[o])}})),o=e.channels.map((function(e){var n=e.sampler,r=e.target;return{sampler:i[n],target:t.nodes[r.node],path:r.path}}));return new Cs({name:r,channels:o})}))}return(0,ye.Z)(e,[{key:"animate",value:function(e){this.setTime(e)}},{key:"setTime",value:function(e){this.animations.forEach((function(t){return t.animate(e)}))}},{key:"getAnimations",value:function(){return this.animations}}]),e}(),Es=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(e){var r;(0,ve.Z)(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r=t.call(this,i)).onBeforeRender=null,r.AfterRender=null,e instanceof Pe.Z?(r.model=e,r._setModelNodeProps(i)):r.model=new Pe.Z(e,i),r.managedResources=i.managedResources||[],r}return(0,ye.Z)(n,[{key:"setProps",value:function(e){return(0,be.Z)((0,_e.Z)(n.prototype),"setProps",this).call(this,e),this._setModelNodeProps(e),this}},{key:"delete",value:function(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach((function(e){return e.delete()})),this.managedResources=[]}},{key:"draw",value:function(){var e;return(e=this.model).draw.apply(e,arguments)}},{key:"setUniforms",value:function(){var e;return(e=this.model).setUniforms.apply(e,arguments),this}},{key:"setAttributes",value:function(){var e;return(e=this.model).setAttributes.apply(e,arguments),this}},{key:"updateModuleSettings",value:function(){var e;return(e=this.model).updateModuleSettings.apply(e,arguments),this}},{key:"_setModelNodeProps",value:function(e){this.model.setProps(e)}}]),n}(ds),Ss=function(){function e(t,n){(0,ve.Z)(this,e);var r=n.attributes,i=n.material,o=n.pbrDebug,a=n.imageBasedLightingEnvironment,s=n.lights,u=n.useTangents;this.gl=t,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},(0,Oe.U6)(t,Se.h.GLSL_TEXTURE_LOD)&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],a&&(this.uniforms.u_DiffuseEnvSampler=a.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=a.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=a.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),o&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(r.NORMAL,"HAS_NORMALS"),this.defineIfPresent(r.TANGENT&&u,"HAS_TANGENTS"),this.defineIfPresent(r.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(a,"USE_IBL"),this.defineIfPresent(s,"USE_LIGHTS"),this.defineIfPresent(o,"PBR_DEBUG"),i&&this.parseMaterial(i)}return(0,ye.Z)(e,[{key:"defineIfPresent",value:function(e,t){e&&(this.defines[t]=1)}},{key:"parseTexture",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.texture&&e.texture.sampler&&e.texture.sampler.parameters||{},o=e.texture.source.image,a={};o.compressed?(n=o,a=(0,ge.Z)({},this.gl.TEXTURE_MIN_FILTER,o.data.length>1?this.gl.LINEAR_MIPMAP_NEAREST:this.gl.LINEAR)):n={data:o};var s=new Xe.Z(this.gl,(0,Ce.Z)({id:e.name||e.id,parameters:(0,Ce.Z)((0,Ce.Z)({},i),a),pixelStore:(0,ge.Z)({},this.gl.UNPACK_FLIP_Y_WEBGL,!1)},n));this.uniforms[t]=s,this.defineIfPresent(r,r),this.generatedTextures.push(s)}},{key:"parsePbrMetallicRoughness",value:function(e){e.baseColorTexture&&this.parseTexture(e.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=e.baseColorFactor||[1,1,1,1],e.metallicRoughnessTexture&&this.parseTexture(e.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");var t=e.metallicFactor,n=void 0===t?1:t,r=e.roughnessFactor,i=void 0===r?1:r;this.uniforms.u_MetallicRoughnessValues=[n,i]}},{key:"parseMaterial",value:function(e){if(this.uniforms.pbr_uUnlit=Boolean(e.unlit),e.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(e.pbrMetallicRoughness),e.normalTexture){this.parseTexture(e.normalTexture,"u_NormalSampler","HAS_NORMALMAP");var t=e.normalTexture.scale,n=void 0===t?1:t;this.uniforms.u_NormalScale=n}if(e.occlusionTexture){this.parseTexture(e.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");var r=e.occlusionTexture.strength,i=void 0===r?1:r;this.uniforms.u_OcclusionStrength=i}if(e.emissiveTexture&&(this.parseTexture(e.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=e.emissiveFactor||[0,0,0]),"MASK"===e.alphaMode){var o=e.alphaCutoff,a=void 0===o?.5:o;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=a}else"BLEND"===e.alphaMode&&(ke.cM.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))}},{key:"delete",value:function(){this.generatedTextures.forEach((function(e){return e.delete()}))}}]),e}();function ks(e,t){return(0,ke.D0)(e)?"#version 300 es\n".concat(t):t}var Os={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ts={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1},Ps=function(){function e(t){(0,ve.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.options=Object.assign({},Ts,n)}return(0,ye.Z)(e,[{key:"instantiate",value:function(e){var t=this;return this.gltf=e,(e.scenes||[]).map((function(e){return t.createScene(e)}))}},{key:"createAnimator",value:function(){return Array.isArray(this.gltf.animations)?new Bs(this.gltf):null}},{key:"createScene",value:function(e){var t=this,n=(e.nodes||[]).map((function(e){return t.createNode(e)}));return new vs({id:e.name||e.id,children:n})}},{key:"createNode",value:function(e){var t=this;if(!e._node){var n=(e.children||[]).map((function(e){return t.createNode(e)}));e.mesh&&n.push(this.createMesh(e.mesh));var r=new vs({id:e.name||e.id,children:n});if(e.matrix)r.setMatrix(e.matrix);else{if(r.matrix.identity(),e.translation&&r.matrix.translate(e.translation),e.rotation){var i=(new ns.Z).fromQuaternion(e.rotation);r.matrix.multiplyRight(i)}e.scale&&r.matrix.scale(e.scale)}e._node=r}return e._node}},{key:"createMesh",value:function(e){var t=this;if(!e._mesh){var n=(e.primitives||[]).map((function(n,r){return t.createPrimitive(n,r,e)})),r=new vs({id:e.name||e.id,children:n});e._mesh=r}return e._mesh}},{key:"getVertexCount",value:function(e){ke.cM.warn("getVertexCount() not found")()}},{key:"createPrimitive",value:function(e,t,n){return function(e,t){var n=t.id,r=t.drawMode,i=t.vertexCount,o=t.attributes,a=t.modelOptions,s=new Ss(e,t);ke.cM.info(4,"createGLTFModel defines: ",s.defines)();var u=[];u.push.apply(u,(0,zi.Z)(s.generatedTextures)),u.push.apply(u,(0,zi.Z)(Object.values(o).map((function(e){return e.buffer}))));var l=new Es(e,Object.assign({id:n,drawMode:r,vertexCount:i,modules:[fs.b],defines:s.defines,parameters:s.parameters,vs:ks(e,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:ks(e,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:u},a));return l.setProps({attributes:o}),l.setUniforms(s.uniforms),l}(this.gl,Object.assign({id:e.name||"".concat(n.name||n.id,"-primitive-").concat(t),drawMode:e.mode||4,vertexCount:e.indices?e.indices.count:this.getVertexCount(e.attributes),attributes:this.createAttributes(e.attributes,e.indices),material:e.material},this.options))}},{key:"createAttributes",value:function(e,t){var n=this,r={};return Object.keys(e).forEach((function(t){r[t]=n.createAccessor(e[t],n.createBuffer(e[t],n.gl.ARRAY_BUFFER))})),t&&(r.indices=this.createAccessor(t,this.createBuffer(t,this.gl.ELEMENT_ARRAY_BUFFER))),ke.cM.info(4,"glTF Attributes",{attributes:e,indices:t,generated:r})(),r}},{key:"createBuffer",value:function(e,t){e.bufferView||(e.bufferView={});var n=e.bufferView;return n.lumaBuffers||(n.lumaBuffers={}),n.lumaBuffers[t]||(n.lumaBuffers[t]=new yt.Z(this.gl,{id:"from-".concat(n.id),data:n.data||e.value,target:t})),n.lumaBuffers[t]}},{key:"createAccessor",value:function(e,t){return new gs.Z({buffer:t,offset:e.byteOffset||0,stride:e.bufferView.byteStride||0,type:e.componentType,size:Os[e.type]})}},{key:"createSampler",value:function(e){return e}},{key:"needsPOT",value:function(){return!1}}]),e}();var Ms=n(935),Fs=n(7273),Is=n(4332),Ls={};function Rs(e){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i=arguments;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,r=i.length>2&&void 0!==i[2]?i[2]:{},n&&(t=Zs(t,n,r)),Ls[t]=Ls[t]||Us(t),e.next=6,Ls[t];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function Zs(e,t,n){if(e.startsWith("http"))return e;var r=n.modules||{};return r[e]?r[e]:Ms.jU?n.CDN?((0,Is.h)(n.CDN.startsWith("http")),"".concat(n.CDN,"/").concat(t,"@").concat("3.2.9","/dist/libs/").concat(e)):Ms.hJ?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}function Us(e){return js.apply(this,arguments)}function js(){return(js=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("wasm")){e.next=7;break}return e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.arrayBuffer();case 6:return e.abrupt("return",e.sent);case 7:if(Ms.jU){e.next=20;break}if(e.prev=8,e.t0=Fs&&Fs.requireFromFile,!e.t0){e.next=14;break}return e.next=13,Fs.requireFromFile(t);case 13:e.t0=e.sent;case 14:return e.abrupt("return",e.t0);case 17:return e.prev=17,e.t1=e.catch(8),e.abrupt("return",null);case 20:if(!Ms.hJ){e.next=22;break}return e.abrupt("return",importScripts(t));case 22:return e.next=24,fetch(t);case 24:return r=e.sent,e.next=27,r.text();case 27:return i=e.sent,e.abrupt("return",Ns(i,t));case 29:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}function Ns(e,t){if(!Ms.jU)return Fs.requireFromString&&Fs.requireFromString(e,t);if(Ms.hJ)return eval.call(Ms.CO,e),null;var n=document.createElement("script");n.id=t;try{n.appendChild(document.createTextNode(e))}catch(r){n.text=e}return document.body.appendChild(n),null}var zs,Qs,Hs="3.2.9",Vs="https://unpkg.com/@loaders.gl/textures@".concat(Hs,"/dist/libs/basis_encoder.wasm"),Gs="https://unpkg.com/@loaders.gl/textures@".concat(Hs,"/dist/libs/basis_encoder.js");function Ws(e){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.modules||{}).basis){e.next=3;break}return e.abrupt("return",n.basis);case 3:return zs=zs||qs(t),e.next=6,zs;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qs(e){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=null,e.t0=Promise,e.next=5,Rs("basis_transcoder.js","textures",t);case 5:return e.t1=e.sent,e.next=8,Rs("basis_transcoder.wasm","textures",t);case 8:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.next=12,e.t0.all.call(e.t0,e.t3);case 12:return i=e.sent,o=(0,mt.Z)(i,2),n=o[0],r=o[1],n=n||globalThis.BASIS,e.next=19,Ys(n,r);case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ys(e,t){var n={};return t&&(n.wasmBinary=t),new Promise((function(t){e(n).then((function(e){var n=e.BasisFile;(0,e.initializeBasis)(),t({BasisFile:n})}))}))}function Js(e){return $s.apply(this,arguments)}function $s(){return($s=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.modules||{}).basisEncoder){e.next=3;break}return e.abrupt("return",n.basisEncoder);case 3:return Qs=Qs||eu(t),e.next=6,Qs;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eu(e){return tu.apply(this,arguments)}function tu(){return(tu=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=null,e.t0=Promise,e.next=5,Rs(Gs,"textures",t);case 5:return e.t1=e.sent,e.next=8,Rs(Vs,"textures",t);case 8:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.next=12,e.t0.all.call(e.t0,e.t3);case 12:return i=e.sent,o=(0,mt.Z)(i,2),n=o[0],r=o[1],n=n||globalThis.BASIS,e.next=19,nu(n,r);case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nu(e,t){var n={};return t&&(n.wasmBinary=t),new Promise((function(t){e(n).then((function(e){var n=e.BasisFile,r=e.KTX2File,i=e.initializeBasis,o=e.BasisEncoder;i(),t({BasisFile:n,KTX2File:r,BasisEncoder:o})}))}))}var ru=33776,iu=33779,ou=35840,au=35842,su=36196,uu=37808,lu=["","WEBKIT_","MOZ_"],cu={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},Au=null;function fu(e){if(!Au){e=e||function(){try{return document.createElement("canvas").getContext("webgl")}catch(e){return null}}()||void 0,Au=new Set;var t,n=(0,Ee.Z)(lu);try{for(n.s();!(t=n.n()).done;){var r=t.value;for(var i in cu)if(e&&e.getExtension("".concat(r).concat(i))){var o=cu[i];Au.add(o)}}}catch(a){n.e(a)}finally{n.f()}}return Au}var hu,pu,du,gu,vu,yu,mu,bu;new Uint8Array([0]);!function(e){e[e.NONE=0]="NONE",e[e.BASISLZ=1]="BASISLZ",e[e.ZSTD=2]="ZSTD",e[e.ZLIB=3]="ZLIB"}(hu||(hu={})),function(e){e[e.BASICFORMAT=0]="BASICFORMAT"}(pu||(pu={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ETC1S=163]="ETC1S",e[e.UASTC=166]="UASTC"}(du||(du={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SRGB=1]="SRGB"}(gu||(gu={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LINEAR=1]="LINEAR",e[e.SRGB=2]="SRGB",e[e.ITU=3]="ITU",e[e.NTSC=4]="NTSC",e[e.SLOG=5]="SLOG",e[e.SLOG2=6]="SLOG2"}(vu||(vu={})),function(e){e[e.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",e[e.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(yu||(yu={})),function(e){e[e.RGB=0]="RGB",e[e.RRR=3]="RRR",e[e.GGG=4]="GGG",e[e.AAA=15]="AAA"}(mu||(mu={})),function(e){e[e.RGB=0]="RGB",e[e.RGBA=3]="RGBA",e[e.RRR=4]="RRR",e[e.RRRG=5]="RRRG"}(bu||(bu={}));var _u=[171,75,84,88,32,50,48,187,13,10,26,10];function wu(e){var t=new Uint8Array(e);return!(t.byteLength<_u.length||t[0]!==_u[0]||t[1]!==_u[1]||t[2]!==_u[2]||t[3]!==_u[3]||t[4]!==_u[4]||t[5]!==_u[5]||t[6]!==_u[6]||t[7]!==_u[7]||t[8]!==_u[8]||t[9]!==_u[9]||t[10]!==_u[10]||t[11]!==_u[11])}var xu={etc1:{basisFormat:0,compressed:!0,format:su},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:ru},bc3:{basisFormat:3,compressed:!0,format:iu},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:ou},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:au},"astc-4x4":{basisFormat:10,compressed:!0,format:uu},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function Cu(){return(Cu=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n){var r,i,o,a,s,u;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("auto"!==n.basis.containerFormat){e.next=11;break}if(!wu(t)){e.next=6;break}return e.next=4,Js(n);case 4:return r=e.sent,e.abrupt("return",Su(r.KTX2File,t,n));case 6:return e.next=8,Ws(n);case 8:return i=e.sent,o=i.BasisFile,e.abrupt("return",Bu(o,t,n));case 11:e.t0=n.basis.module,e.next="encoder"===e.t0?14:(e.t0,22);break;case 14:return e.next=16,Js(n);case 16:a=e.sent,e.t1=n.basis.containerFormat,e.next="ktx2"===e.t1?20:(e.t1,21);break;case 20:return e.abrupt("return",Su(a.KTX2File,t,n));case 21:return e.abrupt("return",Bu(a.BasisFile,t,n));case 22:return e.next=24,Ws(n);case 24:return s=e.sent,u=s.BasisFile,e.abrupt("return",Bu(u,t,n));case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bu(e,t,n){var r=new e(new Uint8Array(t));try{if(!r.startTranscoding())throw new Error("Failed to start basis transcoding");for(var i=r.getNumImages(),o=[],a=0;a<i;a++){for(var s=r.getNumLevels(a),u=[],l=0;l<s;l++)u.push(Eu(r,a,l,n));o.push(u)}return o}finally{r.close(),r.delete()}}function Eu(e,t,n,r){var i=e.getImageWidth(t,n),o=e.getImageHeight(t,n),a=e.getHasAlpha(),s=Ou(r,a),u=s.compressed,l=s.format,c=s.basisFormat,A=e.getImageTranscodedSizeInBytes(t,n,c),f=new Uint8Array(A);if(!e.transcodeImage(f,t,n,c,0,0))throw new Error("failed to start Basis transcoding");return{width:i,height:o,data:f,compressed:u,format:l,hasAlpha:a}}function Su(e,t,n){var r=new e(new Uint8Array(t));try{if(!r.startTranscoding())throw new Error("failed to start KTX2 transcoding");for(var i=r.getLevels(),o=[],a=0;a<i;a++){o.push(ku(r,a,n));break}return[o]}finally{r.close(),r.delete()}}function ku(e,t,n){var r=e.getImageLevelInfo(t,0,0),i=r.alphaFlag,o=r.height,a=r.width,s=Ou(n,i),u=s.compressed,l=s.format,c=s.basisFormat,A=e.getImageTranscodedSizeInBytes(t,0,0,c),f=new Uint8Array(A);if(!e.transcodeImage(f,t,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:a,height:o,data:f,compressed:u,hasAlpha:i,format:l}}function Ou(e,t){var n=e&&e.basis&&e.basis.format;return"auto"===n&&(n=Tu()),"object"===typeof n&&(n=t?n.alpha:n.noAlpha),n=n.toLowerCase(),xu[n]}function Tu(){var e=fu();return e.has("astc")?"astc-4x4":e.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:e.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:e.has("etc1")?"etc1":e.has("etc2")?"etc2":"rgb565"}var Pu={name:"Basis",id:"basis",module:"textures",version:"3.2.9",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},Mu=(0,Ce.Z)((0,Ce.Z)({},Pu),{},{parse:function(e,t){return Cu.apply(this,arguments)}}),Fu=n(984);function Iu(e,t,n){if(e.byteLength<=t+n)return"";for(var r=new DataView(e),i="",o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(t+o));return i}function Lu(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return Iu(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){return Iu(e,0,t)}return""}(e),'"'))}}var Ru=n(2225);function Du(e,t){if(!e)throw new Error(t||"assert failed: gltf")}function Zu(e,t){if(e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:"))return e;var n=t.baseUri||t.uri;if(!n)throw new Error("'baseUri' must be provided to resolve relative url ".concat(e));return n.substr(0,n.lastIndexOf("/")+1)+e}function Uu(e,t,n){var r=e.bufferViews[n];Du(r);var i=t[r.buffer];Du(i);var o=(r.byteOffset||0)+i.byteOffset;return new Uint8Array(i.arrayBuffer,o,r.byteLength)}var ju=n(9329),Nu=n(7295);function zu(e,t){return(0,Nu.h)(e>=0),(0,Nu.h)(t>0),e+(t-1)&~(t-1)}function Qu(e,t,n){var r;if(e instanceof ArrayBuffer)r=new Uint8Array(e);else{var i=e.byteOffset,o=e.byteLength;r=new Uint8Array(e.buffer||e.arrayBuffer,i,o)}return t.set(r,n),n+zu(r.byteLength,4)}var Hu=["SCALAR","VEC2","VEC3","VEC4"],Vu=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],Gu=new Map(Vu),Wu={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ku={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},qu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function Xu(e){return Hu[e-1]||Hu[0]}function Yu(e){var t=Gu.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function Ju(e,t){var n=qu[e.componentType],r=Wu[e.type],i=Ku[e.componentType],o=e.count*r,a=e.count*r*i;return Du(a>=0&&a<=t.byteLength),{ArrayType:n,length:o,byteLength:a}}var $u,el={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]},tl=function(){function e(t){(0,ve.Z)(this,e),(0,Be.Z)(this,"gltf",void 0),(0,Be.Z)(this,"sourceBuffers",void 0),(0,Be.Z)(this,"byteLength",void 0),this.gltf=t||{json:(0,Ce.Z)({},el),buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}return(0,ye.Z)(e,[{key:"json",get:function(){return this.gltf.json}},{key:"getApplicationData",value:function(e){return this.json[e]}},{key:"getExtraData",value:function(e){return(this.json.extras||{})[e]}},{key:"getExtension",value:function(e){var t=this.getUsedExtensions().find((function(t){return t===e})),n=this.json.extensions||{};return t?n[e]||!0:null}},{key:"getRequiredExtension",value:function(e){return this.getRequiredExtensions().find((function(t){return t===e}))?this.getExtension(e):null}},{key:"getRequiredExtensions",value:function(){return this.json.extensionsRequired||[]}},{key:"getUsedExtensions",value:function(){return this.json.extensionsUsed||[]}},{key:"getObjectExtension",value:function(e,t){return(e.extensions||{})[t]}},{key:"getScene",value:function(e){return this.getObject("scenes",e)}},{key:"getNode",value:function(e){return this.getObject("nodes",e)}},{key:"getSkin",value:function(e){return this.getObject("skins",e)}},{key:"getMesh",value:function(e){return this.getObject("meshes",e)}},{key:"getMaterial",value:function(e){return this.getObject("materials",e)}},{key:"getAccessor",value:function(e){return this.getObject("accessors",e)}},{key:"getTexture",value:function(e){return this.getObject("textures",e)}},{key:"getSampler",value:function(e){return this.getObject("samplers",e)}},{key:"getImage",value:function(e){return this.getObject("images",e)}},{key:"getBufferView",value:function(e){return this.getObject("bufferViews",e)}},{key:"getBuffer",value:function(e){return this.getObject("buffers",e)}},{key:"getObject",value:function(e,t){if("object"===typeof t)return t;var n=this.json[e]&&this.json[e][t];if(!n)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return n}},{key:"getTypedArrayForBufferView",value:function(e){var t=(e=this.getBufferView(e)).buffer,n=this.gltf.buffers[t];Du(n);var r=(e.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,e.byteLength)}},{key:"getTypedArrayForAccessor",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=Ju(e,t),i=r.ArrayType,o=r.length;return new i(n,t.byteOffset+e.byteOffset,o)}},{key:"getTypedArrayForImageData",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=t.byteOffset||0;return new Uint8Array(n,r,t.byteLength)}},{key:"addApplicationData",value:function(e,t){return this.json[e]=t,this}},{key:"addExtraData",value:function(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}},{key:"addObjectExtension",value:function(e,t,n){return e.extensions=e.extensions||{},e.extensions[t]=n,this.registerUsedExtension(t),this}},{key:"setObjectExtension",value:function(e,t,n){(e.extensions||{})[t]=n}},{key:"removeObjectExtension",value:function(e,t){var n=e.extensions||{},r=n[t];return delete n[t],r}},{key:"addExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Du(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}},{key:"addRequiredExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Du(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}},{key:"registerUsedExtension",value:function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(t){return t===e}))||this.json.extensionsUsed.push(e)}},{key:"registerRequiredExtension",value:function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(t){return t===e}))||this.json.extensionsRequired.push(e)}},{key:"removeExtension",value:function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}},{key:"setDefaultScene",value:function(e){this.json.scene=e}},{key:"addScene",value:function(e){var t=e.nodeIndices;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}},{key:"addNode",value:function(e){var t=e.meshIndex,n=e.matrix;this.json.nodes=this.json.nodes||[];var r={mesh:t};return n&&(r.matrix=n),this.json.nodes.push(r),this.json.nodes.length-1}},{key:"addMesh",value:function(e){var t=e.attributes,n=e.indices,r=e.material,i=e.mode,o=void 0===i?4:i,a={primitives:[{attributes:this._addAttributes(t),mode:o}]};if(n){var s=this._addIndices(n);a.primitives[0].indices=s}return Number.isFinite(r)&&(a.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}},{key:"addPointCloud",value:function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1}},{key:"addImage",value:function(e,t){var n=(0,ju.I)(e),r=t||(null===n||void 0===n?void 0:n.mimeType),i={bufferView:this.addBufferView(e),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(i),this.json.images.length-1}},{key:"addBufferView",value:function(e){var t=e.byteLength;Du(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);var n={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=zu(t,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(e,t){var n={bufferView:e,type:Xu(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}},{key:"addBinaryBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},n=this.addBufferView(e),r={min:t.min,max:t.max};r.min&&r.max||(r=this._getAccessorMinMax(e,t.size));var i={size:t.size,componentType:Yu(e),count:Math.round(e.length/t.size),min:r.min,max:r.max};return this.addAccessor(n,Object.assign(i,t))}},{key:"addTexture",value:function(e){var t={source:e.imageIndex};return this.json.textures=this.json.textures||[],this.json.textures.push(t),this.json.textures.length-1}},{key:"addMaterial",value:function(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}},{key:"createBinaryChunk",value:function(){var e,t;this.gltf.buffers=[];var n,r=this.byteLength,i=new ArrayBuffer(r),o=new Uint8Array(i),a=0,s=(0,Ee.Z)(this.sourceBuffers||[]);try{for(s.s();!(n=s.n()).done;){a=Qu(n.value,o,a)}}catch(u){s.e(u)}finally{s.f()}null!==(e=this.json)&&void 0!==e&&null!==(t=e.buffers)&&void 0!==t&&t[0]?this.json.buffers[0].byteLength=r:this.json.buffers=[{byteLength:r}],this.gltf.binary=i,this.sourceBuffers=[i]}},{key:"_removeStringFromArray",value:function(e,t){for(var n=!0;n;){var r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}}},{key:"_addAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var n in e){var r=e[n],i=this._getGltfAttributeName(n),o=this.addBinaryBuffer(r.value,r);t[i]=o}return t}},{key:"_addIndices",value:function(e){return this.addBinaryBuffer(e,{size:1})}},{key:"_getGltfAttributeName",value:function(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}},{key:"_getAccessorMinMax",value:function(e,t){var n={min:null,max:null};if(e.length<t)return n;n.min=[],n.max=[];var r,i=e.subarray(0,t),o=(0,Ee.Z)(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.min.push(a),n.max.push(a)}}catch(l){o.e(l)}finally{o.f()}for(var s=t;s<e.length;s+=t)for(var u=0;u<t;u++)n.min[0+u]=Math.min(n.min[0+u],e[s+u]),n.max[0+u]=Math.max(n.max[0+u],e[s+u]);return n}}]),e}(),nl="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",rl="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",il=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),ol=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),al={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},sl={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function ul(e,t,n,r,i){return ll.apply(this,arguments)}function ll(){return ll=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r,i,o){var a,s,u=arguments;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>5&&void 0!==u[5]?u[5]:"NONE",e.next=3,cl();case 3:dl(s=e.sent,s.exports[sl[o]],t,n,r,i,s.exports[al[a||"NONE"]]);case 5:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}function cl(){return Al.apply(this,arguments)}function Al(){return(Al=(0,ji.Z)((0,Ui.Z)().mark((function e(){return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $u||($u=fl()),e.abrupt("return",$u);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fl(){return hl.apply(this,arguments)}function hl(){return(hl=(0,ji.Z)((0,Ui.Z)().mark((function e(){var t,n;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=nl,WebAssembly.validate(il)&&(t=rl,console.log("Warning: meshopt_decoder is using experimental SIMD support")),e.next=4,WebAssembly.instantiate(pl(t),{});case 4:return n=e.sent,e.next=7,n.instance.exports.__wasm_call_ctors();case 7:return e.abrupt("return",n.instance);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pl(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;++n){var r=e.charCodeAt(n);t[n]=r>96?r-71:r>64?r-65:r>47?r+4:r>46?63:62}for(var i=0,o=0;o<e.length;++o)t[i++]=t[o]<60?ol[t[o]]:64*(t[o]-60)+t[++o];return t.buffer.slice(0,i)}function dl(e,t,n,r,i,o,a){var s=e.exports.sbrk,u=r+3&-4,l=s(u*i),c=s(o.length),A=new Uint8Array(e.exports.memory.buffer);A.set(o,c);var f=t(l,r,i,c,o.length);if(0===f&&a&&a(l,u,i),n.set(A.subarray(l,l+r*i)),s(l-s(0)),0!==f)throw new Error("Malformed buffer data: ".concat(f))}var gl="EXT_meshopt_compression",vl=gl;function yl(e,t){return ml.apply(this,arguments)}function ml(){return(ml=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n){var r,i,o,a,s,u;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=new tl(t),null!==n&&void 0!==n&&null!==(r=n.gltf)&&void 0!==r&&r.decompressMeshes){e.next=3;break}return e.abrupt("return");case 3:o=[],a=(0,Ee.Z)(t.json.bufferViews||[]);try{for(a.s();!(s=a.n()).done;)u=s.value,o.push(bl(i,u))}catch(l){a.e(l)}finally{a.f()}return e.next=8,Promise.all(o);case 8:i.removeExtension(gl);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bl(e,t){return _l.apply(this,arguments)}function _l(){return _l=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n){var r,i,o,a,s,u,l,c,A,f,h,p,d,g;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.getObjectExtension(n,gl))){e.next=9;break}return i=r.byteOffset,o=void 0===i?0:i,a=r.byteLength,s=void 0===a?0:a,u=r.byteStride,l=r.count,c=r.mode,A=r.filter,f=void 0===A?"NONE":A,h=r.buffer,p=t.gltf.buffers[h],d=new Uint8Array(p.arrayBuffer,p.byteOffset+o,s),g=new Uint8Array(t.gltf.buffers[n.buffer].arrayBuffer,n.byteOffset,n.byteLength),e.next=8,ul(g,l,u,d,c,f);case 8:return e.abrupt("return",g);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}var wl=n(9350),xl=["image/png","image/jpeg","image/gif"],Cl={};function Bl(e){return void 0===Cl[e]&&(Cl[e]=function(e){switch(e){case"image/webp":return function(){if(!wl.jU)return!1;try{return 0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(e){return!1}}();case"image/svg":return wl.jU;default:if(!wl.jU){var t=globalThis._parseImageNode;return Boolean(t)&&xl.includes(e)}return!0}}(e)),Cl[e]}var El="EXT_texture_webp",Sl=El;function kl(e,t){var n=new tl(e);if(Bl("image/webp")){var r,i=n.json,o=(0,Ee.Z)(i.textures||[]);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=n.getObjectExtension(a,El);s&&(a.source=s.source),n.removeObjectExtension(a,El)}}catch(u){o.e(u)}finally{o.f()}n.removeExtension(El)}else if(n.getRequiredExtensions().includes(El))throw new Error("gltf: Required extension ".concat(El," not supported by browser"))}var Ol="KHR_texture_basisu",Tl=Ol;function Pl(e,t){var n,r=new tl(e),i=r.json,o=(0,Ee.Z)(i.textures||[]);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=r.getObjectExtension(a,Ol);s&&(a.source=s.source),r.removeObjectExtension(a,Ol)}}catch(u){o.e(u)}finally{o.f()}r.removeExtension(Ol)}var Ml="3.2.9",Fl={name:"Draco",id:"draco",module:"draco",shapes:["mesh"],version:Ml,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"===typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};function Il(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=e.POSITION?e.POSITION.value:[],u=s&&s.length,l=0;l<u;l+=3){var c=s[l],A=s[l+1],f=s[l+2];t=c<t?c:t,n=A<n?A:n,r=f<r?f:r,i=c>i?c:i,o=A>o?A:o,a=f>a?f:a}return[[t,n,r],[i,o,a]]}var Ll,Rl=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;(0,ve.Z)(this,e),(0,Be.Z)(this,"name",void 0),(0,Be.Z)(this,"type",void 0),(0,Be.Z)(this,"nullable",void 0),(0,Be.Z)(this,"metadata",void 0),this.name=t,this.type=n,this.nullable=r,this.metadata=i}return(0,ye.Z)(e,[{key:"typeId",get:function(){return this.type&&this.type.typeId}},{key:"clone",value:function(){return new e(this.name,this.type,this.nullable,this.metadata)}},{key:"compareTo",value:function(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}},{key:"toString",value:function(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}]),e}();!function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"}(Ll||(Ll={}));var Dl=function(){function e(){(0,ve.Z)(this,e)}return(0,ye.Z)(e,[{key:"typeId",get:function(){return Ll.NONE}},{key:"compareTo",value:function(e){return this===e}}],[{key:"isNull",value:function(e){return e&&e.typeId===Ll.Null}},{key:"isInt",value:function(e){return e&&e.typeId===Ll.Int}},{key:"isFloat",value:function(e){return e&&e.typeId===Ll.Float}},{key:"isBinary",value:function(e){return e&&e.typeId===Ll.Binary}},{key:"isUtf8",value:function(e){return e&&e.typeId===Ll.Utf8}},{key:"isBool",value:function(e){return e&&e.typeId===Ll.Bool}},{key:"isDecimal",value:function(e){return e&&e.typeId===Ll.Decimal}},{key:"isDate",value:function(e){return e&&e.typeId===Ll.Date}},{key:"isTime",value:function(e){return e&&e.typeId===Ll.Time}},{key:"isTimestamp",value:function(e){return e&&e.typeId===Ll.Timestamp}},{key:"isInterval",value:function(e){return e&&e.typeId===Ll.Interval}},{key:"isList",value:function(e){return e&&e.typeId===Ll.List}},{key:"isStruct",value:function(e){return e&&e.typeId===Ll.Struct}},{key:"isUnion",value:function(e){return e&&e.typeId===Ll.Union}},{key:"isFixedSizeBinary",value:function(e){return e&&e.typeId===Ll.FixedSizeBinary}},{key:"isFixedSizeList",value:function(e){return e&&e.typeId===Ll.FixedSizeList}},{key:"isMap",value:function(e){return e&&e.typeId===Ll.Map}},{key:"isDictionary",value:function(e){return e&&e.typeId===Ll.Dictionary}}]),e}(),Zl=(Symbol.toStringTag,Symbol.toStringTag,function(e,t){(0,we.Z)(r,e);var n=(0,xe.Z)(r);function r(e,t){var i;return(0,ve.Z)(this,r),i=n.call(this),(0,Be.Z)((0,me.Z)(i),"isSigned",void 0),(0,Be.Z)((0,me.Z)(i),"bitWidth",void 0),i.isSigned=e,i.bitWidth=t,i}return(0,ye.Z)(r,[{key:"typeId",get:function(){return Ll.Int}},{key:t,get:function(){return"Int"}},{key:"toString",value:function(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}]),r}(Dl,Symbol.toStringTag)),Ul=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.call(this,!0,8)}return(0,ye.Z)(n)}(Zl),jl=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.call(this,!0,16)}return(0,ye.Z)(n)}(Zl),Nl=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.call(this,!0,32)}return(0,ye.Z)(n)}(Zl),zl=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.call(this,!1,8)}return(0,ye.Z)(n)}(Zl),Ql=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.call(this,!1,16)}return(0,ye.Z)(n)}(Zl),Hl=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.call(this,!1,32)}return(0,ye.Z)(n)}(Zl),Vl=32,Gl=64,Wl=function(e,t){(0,we.Z)(r,e);var n=(0,xe.Z)(r);function r(e){var t;return(0,ve.Z)(this,r),t=n.call(this),(0,Be.Z)((0,me.Z)(t),"precision",void 0),t.precision=e,t}return(0,ye.Z)(r,[{key:"typeId",get:function(){return Ll.Float}},{key:t,get:function(){return"Float"}},{key:"toString",value:function(){return"Float".concat(this.precision)}}]),r}(Dl,Symbol.toStringTag),Kl=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.call(this,Vl)}return(0,ye.Z)(n)}(Wl),ql=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.call(this,Gl)}return(0,ye.Z)(n)}(Wl);Symbol.toStringTag,Symbol.toStringTag;Symbol.toStringTag;Symbol.toStringTag;Symbol.toStringTag;Symbol.toStringTag;var Xl=function(e,t){(0,we.Z)(r,e);var n=(0,xe.Z)(r);function r(e,t){var i;return(0,ve.Z)(this,r),i=n.call(this),(0,Be.Z)((0,me.Z)(i),"listSize",void 0),(0,Be.Z)((0,me.Z)(i),"children",void 0),i.listSize=e,i.children=[t],i}return(0,ye.Z)(r,[{key:"typeId",get:function(){return Ll.FixedSizeList}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:t,get:function(){return"FixedSizeList"}},{key:"toString",value:function(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}]),r}(Dl,Symbol.toStringTag);Symbol.toStringTag;function Yl(e,t,n){var r=function(e){switch(e.constructor){case Int8Array:return new Ul;case Uint8Array:return new zl;case Int16Array:return new jl;case Uint16Array:return new Ql;case Int32Array:return new Nl;case Uint32Array:return new Hl;case Float32Array:return new Kl;case Float64Array:return new ql;default:throw new Error("array type not supported")}}(t.value),i=n||function(e){var t=new Map;"byteOffset"in e&&t.set("byteOffset",e.byteOffset.toString(10));"byteStride"in e&&t.set("byteStride",e.byteStride.toString(10));"normalized"in e&&t.set("normalized",e.normalized.toString());return t}(t);return new Rl(e,new Xl(t.size,new Rl("value",r)),!1,i)}var Jl=function(){function e(t,n){(0,ve.Z)(this,e),(0,Be.Z)(this,"fields",void 0),(0,Be.Z)(this,"metadata",void 0),function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}(Array.isArray(t)),function(e){var t,n={},r=(0,Ee.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.name]&&console.warn("Schema: duplicated field name",i.name,i),n[i.name]=!0}}catch(o){r.e(o)}finally{r.f()}}(t),this.fields=t,this.metadata=n||new Map}return(0,ye.Z)(e,[{key:"compareTo",value:function(e){if(this.metadata!==e.metadata)return!1;if(this.fields.length!==e.fields.length)return!1;for(var t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}},{key:"select",value:function(){for(var t=Object.create(null),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];t[s]=!0}var u=this.fields.filter((function(e){return t[e.name]}));return new e(u,this.metadata)}},{key:"selectAt",value:function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.map((function(e){return t.fields[e]})).filter(Boolean);return new e(o,this.metadata)}},{key:"assign",value:function(t){var n,r=this.metadata;if(t instanceof e){var i=t;n=i.fields,r=$l($l(new Map,this.metadata),i.metadata)}else n=t;var o,a=Object.create(null),s=(0,Ee.Z)(this.fields);try{for(s.s();!(o=s.n()).done;){var u=o.value;a[u.name]=u}}catch(f){s.e(f)}finally{s.f()}var l,c=(0,Ee.Z)(n);try{for(c.s();!(l=c.n()).done;){var A=l.value;a[A.name]=A}}catch(f){c.e(f)}finally{c.f()}return new e(Object.values(a),r)}}]),e}();function $l(e,t){return new Map([].concat((0,zi.Z)(e||new Map),(0,zi.Z)(t||new Map)))}function ec(e,t,n){var r=nc(t.metadata),i=[],o=function(e){var t={};for(var n in e){var r=e[n];t[r.name||"undefined"]=r}return t}(t.attributes);for(var a in e){var s=tc(a,e[a],o[a]);i.push(s)}if(n){var u=tc("indices",n);i.push(u)}return new Jl(i,r)}function tc(e,t,n){return Yl(e,t,n?nc(n.metadata):void 0)}function nc(e){var t=new Map;for(var n in e)t.set("".concat(n,".string"),JSON.stringify(e[n]));return t}var rc={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},ic={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},oc=function(){function e(t){(0,ve.Z)(this,e),(0,Be.Z)(this,"draco",void 0),(0,Be.Z)(this,"decoder",void 0),(0,Be.Z)(this,"metadataQuerier",void 0),this.draco=t,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}return(0,ye.Z)(e,[{key:"destroy",value:function(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}},{key:"parseSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new this.draco.DecoderBuffer;n.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);var r=this.decoder.GetEncodedGeometryType(n),i=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{var o;switch(r){case this.draco.TRIANGULAR_MESH:o=this.decoder.DecodeBufferToMesh(n,i);break;case this.draco.POINT_CLOUD:o=this.decoder.DecodeBufferToPointCloud(n,i);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!o.ok()||!i.ptr){var a="DRACO decompression failed: ".concat(o.error_msg());throw new Error(a)}var s=this._getDracoLoaderData(i,r,t),u=this._getMeshData(i,s,t),l=Il(u.attributes),c=ec(u.attributes,s,u.indices),A=(0,Ce.Z)((0,Ce.Z)({loader:"draco",loaderData:s,header:{vertexCount:i.num_points(),boundingBox:l}},u),{},{schema:c});return A}finally{this.draco.destroy(n),i&&this.draco.destroy(i)}}},{key:"_getDracoLoaderData",value:function(e,t,n){var r=this._getTopLevelMetadata(e),i=this._getDracoAttributes(e,n);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:r,attributes:i}}},{key:"_getDracoAttributes",value:function(e,t){for(var n={},r=0;r<e.num_attributes();r++){var i=this.decoder.GetAttribute(e,r),o=this._getAttributeMetadata(e,r);n[i.unique_id()]={unique_id:i.unique_id(),attribute_type:i.attribute_type(),data_type:i.data_type(),num_components:i.num_components(),byte_offset:i.byte_offset(),byte_stride:i.byte_stride(),normalized:i.normalized(),attribute_index:r,metadata:o};var a=this._getQuantizationTransform(i,t);a&&(n[i.unique_id()].quantization_transform=a);var s=this._getOctahedronTransform(i,t);s&&(n[i.unique_id()].octahedron_transform=s)}return n}},{key:"_getMeshData",value:function(e,t,n){var r=this._getMeshAttributes(t,e,n);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");return e instanceof this.draco.Mesh?"triangle-strip"===n.topology?{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(e),size:1}}:{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(e),size:1}}:{topology:"point-list",mode:0,attributes:r}}},{key:"_getMeshAttributes",value:function(e,t,n){for(var r={},i=0,o=Object.values(e.attributes);i<o.length;i++){var a=o[i],s=this._deduceAttributeName(a,n);a.name=s;var u=this._getAttributeValues(t,a),l=u.value,c=u.size;r[s]={value:l,size:c,byteOffset:a.byte_offset,byteStride:a.byte_stride,normalized:a.normalized}}return r}},{key:"_getTriangleListIndices",value:function(e){var t=3*e.num_faces(),n=4*t,r=this.draco._malloc(n);try{return this.decoder.GetTrianglesUInt32Array(e,n,r),new Uint32Array(this.draco.HEAPF32.buffer,r,t).slice()}finally{this.draco._free(r)}}},{key:"_getTriangleStripIndices",value:function(e){var t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function(e){for(var t=e.size(),n=new Int32Array(t),r=0;r<t;r++)n[r]=e.GetValue(r);return n}(t)}finally{this.draco.destroy(t)}}},{key:"_getAttributeValues",value:function(e,t){var n,r=ic[t.data_type],i=t.num_components,o=e.num_points()*i,a=o*r.BYTES_PER_ELEMENT,s=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32;default:return e.DT_INVALID}}(this.draco,r),u=this.draco._malloc(a);try{var l=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,l,s,a,u),n=new r(this.draco.HEAPF32.buffer,u,o).slice()}finally{this.draco._free(u)}return{value:n,size:i}}},{key:"_deduceAttributeName",value:function(e,t){for(var n=e.unique_id,r=0,i=Object.entries(t.extraAttributes||{});r<i.length;r++){var o=(0,mt.Z)(i[r],2),a=o[0];if(o[1]===n)return a}var s=e.attribute_type;for(var u in rc){if(this.draco[u]===s)return rc[u]}var l=t.attributeNameEntry||"name";return e.metadata[l]?e.metadata[l].string:"CUSTOM_ATTRIBUTE_".concat(n)}},{key:"_getTopLevelMetadata",value:function(e){var t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}},{key:"_getAttributeMetadata",value:function(e,t){var n=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(n)}},{key:"_getDracoMetadata",value:function(e){if(!e||!e.ptr)return{};for(var t={},n=this.metadataQuerier.NumEntries(e),r=0;r<n;r++){var i=this.metadataQuerier.GetEntryName(e,r);t[i]=this._getDracoMetadataField(e,i)}return t}},{key:"_getDracoMetadataField",value:function(e,t){var n=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,n);var r=function(e){for(var t=e.size(),n=new Int32Array(t),r=0;r<t;r++)n[r]=e.GetValue(r);return n}(n);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:r}}finally{this.draco.destroy(n)}}},{key:"_disableAttributeTransforms",value:function(e){var t,n=e.quantizedAttributes,r=void 0===n?[]:n,i=e.octahedronAttributes,o=void 0===i?[]:i,a=[].concat((0,zi.Z)(r),(0,zi.Z)(o)),s=(0,Ee.Z)(a);try{for(s.s();!(t=s.n()).done;){var u=t.value;this.decoder.SkipAttributeTransform(this.draco[u])}}catch(l){s.e(l)}finally{s.f()}}},{key:"_getQuantizationTransform",value:function(e,t){var n=this,r=t.quantizedAttributes,i=void 0===r?[]:r,o=e.attribute_type();if(i.map((function(e){return n.decoder[e]})).includes(o)){var a=new this.draco.AttributeQuantizationTransform;try{if(a.InitFromAttribute(e))return{quantization_bits:a.quantization_bits(),range:a.range(),min_values:new Float32Array([1,2,3]).map((function(e){return a.min_value(e)}))}}finally{this.draco.destroy(a)}}return null}},{key:"_getOctahedronTransform",value:function(e,t){var n=this,r=t.octahedronAttributes,i=void 0===r?[]:r,o=e.attribute_type();if(i.map((function(e){return n.decoder[e]})).includes(o)){var a=new this.draco.AttributeQuantizationTransform;try{if(a.InitFromAttribute(e))return{quantization_bits:a.quantization_bits()}}finally{this.draco.destroy(a)}}return null}}]),e}();var ac,sc="1.4.1",uc="https://www.gstatic.com/draco/versioned/decoders/".concat(sc,"/draco_decoder.js"),lc="https://www.gstatic.com/draco/versioned/decoders/".concat(sc,"/draco_wasm_wrapper.js"),cc="https://www.gstatic.com/draco/versioned/decoders/".concat(sc,"/draco_decoder.wasm");"https://raw.githubusercontent.com/google/draco/".concat(sc,"/javascript/draco_encoder.js");function Ac(e){return fc.apply(this,arguments)}function fc(){return(fc=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.modules||{},ac=n.draco3d?ac||n.draco3d.createDecoderModule({}).then((function(e){return{draco:e}})):ac||hc(t),e.next=4,ac;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hc(e){return pc.apply(this,arguments)}function pc(){return(pc=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.draco&&t.draco.decoderType,e.next="js"===e.t0?3:(e.t0,7);break;case 3:return e.next=5,Rs(uc,"draco",t);case 5:return n=e.sent,e.abrupt("break",21);case 7:return e.t1=Promise,e.next=10,Rs(lc,"draco",t);case 10:return e.t2=e.sent,e.next=13,Rs(cc,"draco",t);case 13:return e.t3=e.sent,e.t4=[e.t2,e.t3],e.next=17,e.t1.all.call(e.t1,e.t4);case 17:i=e.sent,o=(0,mt.Z)(i,2),n=o[0],r=o[1];case 21:return n=n||globalThis.DracoDecoderModule,e.next=24,dc(n,r);case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dc(e,t){var n={};return t&&(n.wasmBinary=t),new Promise((function(t){e((0,Ce.Z)((0,Ce.Z)({},n),{},{onModuleLoaded:function(e){return t({draco:e})}}))}))}Ms.jU;var gc=(0,Ce.Z)((0,Ce.Z)({},Fl),{},{parse:function(e,t){return vc.apply(this,arguments)}});function vc(){return(vc=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n){var r,i,o;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ac(n);case 2:return r=e.sent,i=r.draco,o=new oc(i),e.prev=5,e.abrupt("return",o.parseSync(t,null===n||void 0===n?void 0:n.draco));case 7:return e.prev=7,o.destroy(),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[5,,7,10]])})))).apply(this,arguments)}function yc(e){var t={};for(var n in e){var r=e[n];if("indices"!==n){var i=mc(r);t[n]=i}}return t}function mc(e){var t=function(e){var t=e,n=1,r=0;e&&e.value&&(t=e.value,n=e.size||1);t&&(ArrayBuffer.isView(t)||(t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;if(Array.isArray(e))return new t(e);if(n&&!(e instanceof t))return new t(e);return e}(t,Float32Array)),r=t.length/n);return{buffer:t,size:n,count:r}}(e),n=t.buffer,r=t.size;return{value:n,size:r,byteOffset:0,count:t.count,type:Xu(r),componentType:Yu(n)}}var bc=(0,Ui.Z)().mark(Pc),_c="KHR_draco_mesh_compression",wc=_c;function xc(e,t,n){var r,i=new tl(e),o=(0,Ee.Z)(Pc(i));try{for(o.s();!(r=o.n()).done;){var a=r.value;i.getObjectExtension(a,_c)}}catch(s){o.e(s)}finally{o.f()}}function Cc(e,t,n){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r){var i,o,a,s,u,l;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n&&void 0!==n&&null!==(i=n.gltf)&&void 0!==i&&i.decompressMeshes){e.next=2;break}return e.abrupt("return");case 2:o=new tl(t),a=[],s=(0,Ee.Z)(Pc(o));try{for(s.s();!(u=s.n()).done;)l=u.value,o.getObjectExtension(l,_c)&&a.push(Sc(o,l,n,r))}catch(c){s.e(c)}finally{s.f()}return e.next=8,Promise.all(a);case 8:o.removeExtension(_c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new tl(e),i=(0,Ee.Z)(r.json.meshes||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;Oc(o,n),r.addRequiredExtension(_c)}}catch(a){i.e(a)}finally{i.f()}}function Sc(e,t,n,r){return kc.apply(this,arguments)}function kc(){return kc=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r,i){var o,a,s,u,l,c,A,f,h,p,d,g,v,y;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.getObjectExtension(n,_c)){e.next=3;break}return e.abrupt("return");case 3:return a=t.getTypedArrayForBufferView(o.bufferView),s=(0,Ru.qv)(a.buffer,a.byteOffset),u=i.parse,delete(l=(0,Ce.Z)({},r))["3d-tiles"],e.next=10,u(s,gc,l,i);case 10:for(c=e.sent,A=yc(c.attributes),f=0,h=Object.entries(A);f<h.length;f++)p=(0,mt.Z)(h[f],2),d=p[0],g=p[1],d in n.attributes&&(v=n.attributes[d],null!==(y=t.getAccessor(v))&&void 0!==y&&y.min&&null!==y&&void 0!==y&&y.max&&(g.min=y.min,g.max=y.max));n.attributes=A,c.indices&&(n.indices=mc(c.indices)),Tc(n);case 16:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function Oc(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");var a=i.DracoWriter.encodeSync({attributes:e}),s=null===o||void 0===o||null===(n=o.parseSync)||void 0===n?void 0:n.call(o,{attributes:e}),u=i._addFauxAttributes(s.attributes),l=i.addBufferView(a),c={primitives:[{attributes:u,mode:r,extensions:(0,ge.Z)({},_c,{bufferView:l,attributes:u})}]};return c}function Tc(e){if(!e.attributes&&Object.keys(e.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function Pc(e){var t,n,r,i,o,a;return(0,Ui.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=(0,Ee.Z)(e.json.meshes||[]),s.prev=1,t.s();case 3:if((n=t.n()).done){s.next=24;break}r=n.value,i=(0,Ee.Z)(r.primitives),s.prev=6,i.s();case 8:if((o=i.n()).done){s.next=14;break}return a=o.value,s.next=12,a;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),t.e(s.t1);case 29:return s.prev=29,t.f(),s.finish(29);case 32:case"end":return s.stop()}}),bc,null,[[1,26,29,32],[6,16,19,22]])}var Mc="KHR_lights_punctual",Fc=Mc;function Ic(e){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o,a,s,u;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new tl(t),r=n.json,(i=n.getExtension(Mc))&&(n.json.lights=i.lights,n.removeExtension(Mc)),o=(0,Ee.Z)(r.nodes||[]);try{for(o.s();!(a=o.n()).done;)s=a.value,(u=n.getObjectExtension(s,Mc))&&(s.light=u.light),n.removeObjectExtension(s,Mc)}catch(l){o.e(l)}finally{o.f()}case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(e){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o,a,s,u;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new tl(t),(r=n.json).lights&&(Du(!(i=n.addExtension(Mc)).lights),i.lights=r.lights,delete r.lights),n.json.lights){o=(0,Ee.Z)(n.json.lights);try{for(o.s();!(a=o.n()).done;)s=a.value,u=s.node,n.addObjectExtension(u,Mc,s)}catch(l){o.e(l)}finally{o.f()}delete n.json.lights}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zc="KHR_materials_unlit",Uc=Zc;function jc(e){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o,a;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new tl(t),r=n.json,n.removeExtension(Zc),i=(0,Ee.Z)(r.materials||[]);try{for(i.s();!(o=i.n()).done;)a=o.value,a.extensions&&a.extensions.KHR_materials_unlit&&(a.unlit=!0),n.removeObjectExtension(a,Zc)}catch(s){i.e(s)}finally{i.f()}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zc(e){var t=new tl(e),n=t.json;if(t.materials){var r,i=(0,Ee.Z)(n.materials||[]);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.unlit&&(delete o.unlit,t.addObjectExtension(o,Zc,{}),t.addExtension(Zc))}}catch(a){i.e(a)}finally{i.f()}}}var Qc="KHR_techniques_webgl",Hc=Qc;function Vc(e){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o,a,s,u,l;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new tl(t),r=n.json,i=n.getExtension(Qc)){o=qc(i,n),a=(0,Ee.Z)(r.materials||[]);try{for(a.s();!(s=a.n()).done;)u=s.value,(l=n.getObjectExtension(u,Qc))&&(u.technique=Object.assign({},l,o[l.technique]),u.technique.values=Xc(u.technique,n)),n.removeObjectExtension(u,Qc)}catch(c){a.e(c)}finally{a.f()}n.removeExtension(Qc)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wc(e,t){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n){return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qc(e,t){var n=e.programs,r=void 0===n?[]:n,i=e.shaders,o=void 0===i?[]:i,a=e.techniques,s=void 0===a?[]:a,u=new TextDecoder;return o.forEach((function(e){if(!Number.isFinite(e.bufferView))throw new Error("KHR_techniques_webgl: no shader code");e.code=u.decode(t.getTypedArrayForBufferView(e.bufferView))})),r.forEach((function(e){e.fragmentShader=o[e.fragmentShader],e.vertexShader=o[e.vertexShader]})),s.forEach((function(e){e.program=r[e.program]})),s}function Xc(e,t){var n=Object.assign({},e.values);return Object.keys(e.uniforms||{}).forEach((function(t){e.uniforms[t].value&&!(t in n)&&(n[t]=e.uniforms[t].value)})),Object.keys(n).forEach((function(e){"object"===typeof n[e]&&void 0!==n[e].index&&(n[e].texture=t.getTexture(n[e].index))})),n}var Yc=[r,i,o,a,s,u,l];function Jc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=Yc.filter((function(e){return tA(e.name,n)})),o=(0,Ee.Z)(i);try{for(o.s();!(t=o.n()).done;){var a,s=t.value;null===(a=s.preprocess)||void 0===a||a.call(s,e,n,r)}}catch(u){o.e(u)}finally{o.f()}}function $c(e){return eA.apply(this,arguments)}function eA(){return eA=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o,a,s,u,l=arguments;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},r=l.length>2?l[2]:void 0,i=Yc.filter((function(e){return tA(e.name,n)})),o=(0,Ee.Z)(i),e.prev=4,o.s();case 6:if((a=o.n()).done){e.next=12;break}return s=a.value,e.next=10,null===(u=s.decode)||void 0===u?void 0:u.call(s,t,n,r);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),o.e(e.t0);case 17:return e.prev=17,o.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,14,17,20]])}))),eA.apply(this,arguments)}function tA(e,t){var n,r=(null===t||void 0===t||null===(n=t.gltf)||void 0===n?void 0:n.excludeExtensions)||{};return!(e in r&&!r[e])}var nA="KHR_binary_glTF";var rA,iA={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},oA={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},aA=function(){function e(){(0,ve.Z)(this,e),(0,Be.Z)(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),(0,Be.Z)(this,"json",void 0)}return(0,ye.Z)(e,[{key:"normalize",value:function(e,t){this.json=e.json;var n=e.json;switch(n.asset&&n.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(n.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(n),this._convertTopLevelObjectsToArrays(n),function(e){var t,n=new tl(e),r=n.json,i=(0,Ee.Z)(r.images||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=n.getObjectExtension(o,nA);a&&Object.assign(o,a),n.removeObjectExtension(o,nA)}}catch(s){i.e(s)}finally{i.f()}r.buffers&&r.buffers[0]&&delete r.buffers[0].uri,n.removeExtension(nA)}(e),this._convertObjectIdsToArrayIndices(n),this._updateObjects(n),this._updateMaterial(n)}},{key:"_addAsset",value:function(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}},{key:"_convertTopLevelObjectsToArrays",value:function(e){for(var t in iA)this._convertTopLevelObjectToArray(e,t)}},{key:"_convertTopLevelObjectToArray",value:function(e,t){var n=e[t];if(n&&!Array.isArray(n))for(var r in e[t]=[],n){var i=n[r];i.id=i.id||r;var o=e[t].length;e[t].push(i),this.idToIndexMap[t][r]=o}}},{key:"_convertObjectIdsToArrayIndices",value:function(e){for(var t in iA)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));var n,r=(0,Ee.Z)(e.textures);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._convertTextureIds(i)}}catch(p){r.e(p)}finally{r.f()}var o,a=(0,Ee.Z)(e.meshes);try{for(a.s();!(o=a.n()).done;){var s=o.value;this._convertMeshIds(s)}}catch(p){a.e(p)}finally{a.f()}var u,l=(0,Ee.Z)(e.nodes);try{for(l.s();!(u=l.n()).done;){var c=u.value;this._convertNodeIds(c)}}catch(p){l.e(p)}finally{l.f()}var A,f=(0,Ee.Z)(e.scenes);try{for(f.s();!(A=f.n()).done;){var h=A.value;this._convertSceneIds(h)}}catch(p){f.e(p)}finally{f.f()}}},{key:"_convertTextureIds",value:function(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}},{key:"_convertMeshIds",value:function(e){var t,n=(0,Ee.Z)(e.primitives);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.attributes,o=r.indices,a=r.material;for(var s in i)i[s]=this._convertIdToIndex(i[s],"accessor");o&&(r.indices=this._convertIdToIndex(o,"accessor")),a&&(r.material=this._convertIdToIndex(a,"material"))}}catch(u){n.e(u)}finally{n.f()}}},{key:"_convertNodeIds",value:function(e){var t=this;e.children&&(e.children=e.children.map((function(e){return t._convertIdToIndex(e,"node")}))),e.meshes&&(e.meshes=e.meshes.map((function(e){return t._convertIdToIndex(e,"mesh")})))}},{key:"_convertSceneIds",value:function(e){var t=this;e.nodes&&(e.nodes=e.nodes.map((function(e){return t._convertIdToIndex(e,"node")})))}},{key:"_convertIdsToIndices",value:function(e,t){e[t]||(console.warn("gltf v1: json doesn't contain attribute ".concat(t)),e[t]=[]);var n,r=(0,Ee.Z)(e[t]);try{for(r.s();!(n=r.n()).done;){var i=n.value;for(var o in i){var a=i[o],s=this._convertIdToIndex(a,o);i[o]=s}}}catch(u){r.e(u)}finally{r.f()}}},{key:"_convertIdToIndex",value:function(e,t){var n=oA[t];if(n in this.idToIndexMap){var r=this.idToIndexMap[n][e];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return r}return e}},{key:"_updateObjects",value:function(e){var t,n=(0,Ee.Z)(this.json.buffers);try{for(n.s();!(t=n.n()).done;){delete t.value.type}}catch(r){n.e(r)}finally{n.f()}}},{key:"_updateMaterial",value:function(e){var t,n=(0,Ee.Z)(e.materials);try{var r=function(){var n=t.value;n.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};var r=(null===(i=n.values)||void 0===i?void 0:i.tex)||(null===(o=n.values)||void 0===o?void 0:o.texture2d_0),a=e.textures.findIndex((function(e){return e.id===r}));-1!==a&&(n.pbrMetallicRoughness.baseColorTexture={index:a})};for(n.s();!(t=n.n()).done;){var i,o;r()}}catch(a){n.e(a)}finally{n.f()}}}]),e}();function sA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new aA).normalize(e,t)}var uA={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},lA={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},cA=10240,AA=10241,fA=10242,hA=10243,pA=10497,dA=9729,gA=9986,vA={magFilter:cA,minFilter:AA,wrapS:fA,wrapT:hA},yA=(rA={},(0,ge.Z)(rA,cA,dA),(0,ge.Z)(rA,AA,gA),(0,ge.Z)(rA,fA,pA),(0,ge.Z)(rA,hA,pA),rA);var mA=function(){function e(){(0,ve.Z)(this,e),(0,Be.Z)(this,"baseUri",""),(0,Be.Z)(this,"json",{}),(0,Be.Z)(this,"buffers",[]),(0,Be.Z)(this,"images",[])}return(0,ye.Z)(e,[{key:"postProcess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.json,r=e.buffers,i=void 0===r?[]:r,o=e.images,a=void 0===o?[]:o,s=e.baseUri,u=void 0===s?"":s;return Du(n),this.baseUri=u,this.json=n,this.buffers=i,this.images=a,this._resolveTree(this.json,t),this.json}},{key:"_resolveTree",value:function(e){var t=this;e.bufferViews&&(e.bufferViews=e.bufferViews.map((function(e,n){return t._resolveBufferView(e,n)}))),e.images&&(e.images=e.images.map((function(e,n){return t._resolveImage(e,n)}))),e.samplers&&(e.samplers=e.samplers.map((function(e,n){return t._resolveSampler(e,n)}))),e.textures&&(e.textures=e.textures.map((function(e,n){return t._resolveTexture(e,n)}))),e.accessors&&(e.accessors=e.accessors.map((function(e,n){return t._resolveAccessor(e,n)}))),e.materials&&(e.materials=e.materials.map((function(e,n){return t._resolveMaterial(e,n)}))),e.meshes&&(e.meshes=e.meshes.map((function(e,n){return t._resolveMesh(e,n)}))),e.nodes&&(e.nodes=e.nodes.map((function(e,n){return t._resolveNode(e,n)}))),e.skins&&(e.skins=e.skins.map((function(e,n){return t._resolveSkin(e,n)}))),e.scenes&&(e.scenes=e.scenes.map((function(e,n){return t._resolveScene(e,n)}))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}},{key:"getScene",value:function(e){return this._get("scenes",e)}},{key:"getNode",value:function(e){return this._get("nodes",e)}},{key:"getSkin",value:function(e){return this._get("skins",e)}},{key:"getMesh",value:function(e){return this._get("meshes",e)}},{key:"getMaterial",value:function(e){return this._get("materials",e)}},{key:"getAccessor",value:function(e){return this._get("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this._get("textures",e)}},{key:"getSampler",value:function(e){return this._get("samplers",e)}},{key:"getImage",value:function(e){return this._get("images",e)}},{key:"getBufferView",value:function(e){return this._get("bufferViews",e)}},{key:"getBuffer",value:function(e){return this._get("buffers",e)}},{key:"_get",value:function(e,t){if("object"===typeof t)return t;var n=this.json[e]&&this.json[e][t];return n||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),n}},{key:"_resolveScene",value:function(e,t){var n=this;return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map((function(e){return n.getNode(e)})),e}},{key:"_resolveNode",value:function(e,t){var n=this;return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map((function(e){return n.getNode(e)}))),void 0!==e.mesh?e.mesh=this.getMesh(e.mesh):void 0!==e.meshes&&e.meshes.length&&(e.mesh=e.meshes.reduce((function(e,t){var r=n.getMesh(t);return e.id=r.id,e.primitives=e.primitives.concat(r.primitives),e}),{primitives:[]})),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}},{key:"_resolveSkin",value:function(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}},{key:"_resolveMesh",value:function(e,t){var n=this;return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map((function(e){var t=(e=(0,Ce.Z)({},e)).attributes;for(var r in e.attributes={},t)e.attributes[r]=n.getAccessor(t[r]);return void 0!==e.indices&&(e.indices=n.getAccessor(e.indices)),void 0!==e.material&&(e.material=n.getMaterial(e.material)),e}))),e}},{key:"_resolveMaterial",value:function(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture=(0,Ce.Z)({},e.normalTexture),e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture=(0,Ce.Z)({},e.occlustionTexture),e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture=(0,Ce.Z)({},e.emmisiveTexture),e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.emissiveFactor||(e.emissiveFactor=e.emmisiveTexture?[1,1,1]:[0,0,0]),e.pbrMetallicRoughness){e.pbrMetallicRoughness=(0,Ce.Z)({},e.pbrMetallicRoughness);var n=e.pbrMetallicRoughness;n.baseColorTexture&&(n.baseColorTexture=(0,Ce.Z)({},n.baseColorTexture),n.baseColorTexture.texture=this.getTexture(n.baseColorTexture.index)),n.metallicRoughnessTexture&&(n.metallicRoughnessTexture=(0,Ce.Z)({},n.metallicRoughnessTexture),n.metallicRoughnessTexture.texture=this.getTexture(n.metallicRoughnessTexture.index))}return e}},{key:"_resolveAccessor",value:function(e,t){var n,r;if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=(n=e.componentType,lA[n]),e.components=(r=e.type,uA[r]),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){var i=e.bufferView.buffer,o=Ju(e,e.bufferView),a=o.ArrayType,s=o.byteLength,u=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+i.byteOffset,l=i.arrayBuffer.slice(u,u+s);e.bufferView.byteStride&&(l=this._getValueFromInterleavedBuffer(i,u,e.bufferView.byteStride,e.bytesPerElement,e.count)),e.value=new a(l)}return e}},{key:"_getValueFromInterleavedBuffer",value:function(e,t,n,r,i){for(var o=new Uint8Array(i*r),a=0;a<i;a++){var s=t+a*n;o.set(new Uint8Array(e.arrayBuffer.slice(s,s+r)),a*r)}return o.buffer}},{key:"_resolveTexture",value:function(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):yA,e.source=this.getImage(e.source),e}},{key:"_resolveSampler",value:function(e,t){for(var n in e.id=e.id||"sampler-".concat(t),e.parameters={},e){var r=this._enumSamplerParameter(n);void 0!==r&&(e.parameters[r]=e[n])}return e}},{key:"_enumSamplerParameter",value:function(e){return vA[e]}},{key:"_resolveImage",value:function(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var n=this.images[t];return n&&(e.image=n),e}},{key:"_resolveBufferView",value:function(e,t){var n=e.buffer,r=(0,Ce.Z)((0,Ce.Z)({id:"bufferView-".concat(t)},e),{},{buffer:this.buffers[n]}),i=this.buffers[n].arrayBuffer,o=this.buffers[n].byteOffset||0;return"byteOffset"in e&&(o+=e.byteOffset),r.data=new Uint8Array(i,o,e.byteLength),r}},{key:"_resolveCamera",value:function(e,t){return e.id=e.id||"camera-".concat(t),e.perspective,e.orthographic,e}}]),e}();function bA(e,t){return(new mA).postProcess(e,t)}var _A=1735152710,wA=1313821514,xA=5130562,CA=!0;function BA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}function EA(e,t,n){(0,Nu.h)(e.header.byteLength>20);var r=t.getUint32(n+0,CA),i=t.getUint32(n+4,CA);return n+=8,(0,Nu.h)(0===i),kA(e,t,n,r),n+=r,n+=OA(e,t,n,e.header.byteLength)}function SA(e,t,n,r){return(0,Nu.h)(e.header.byteLength>20),function(e,t,n,r){for(;n+8<=e.header.byteLength;){var i=t.getUint32(n+0,CA),o=t.getUint32(n+4,CA);switch(n+=8,o){case wA:kA(e,t,n,i);break;case xA:OA(e,t,n,i);break;case 0:r.strict||kA(e,t,n,i);break;case 1:r.strict||OA(e,t,n,i)}n+=zu(i,4)}}(e,t,n,r),n+e.header.byteLength}function kA(e,t,n,r){var i=new Uint8Array(t.buffer,n,r),o=new TextDecoder("utf8").decode(i);return e.json=JSON.parse(o),zu(r,4)}function OA(e,t,n,r){return e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:t.buffer}),zu(r,4)}function TA(e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n){var r,i,o,a,s,u,l,c,A,f,h=arguments;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.length>2&&void 0!==h[2]?h[2]:0,i=h.length>3?h[3]:void 0,o=h.length>4?h[4]:void 0,MA(t,n,r,i),sA(t,{normalize:null===i||void 0===i||null===(a=i.gltf)||void 0===a?void 0:a.normalize}),Jc(t,i,o),c=[],null===i||void 0===i||null===(s=i.gltf)||void 0===s||!s.loadBuffers||!t.json.buffers){e.next=10;break}return e.next=10,FA(t,i,o);case 10:return null!==i&&void 0!==i&&null!==(u=i.gltf)&&void 0!==u&&u.loadImages&&(A=LA(t,i,o),c.push(A)),f=$c(t,i,o),c.push(f),e.next=15,Promise.all(c);case 15:return e.abrupt("return",null!==i&&void 0!==i&&null!==(l=i.gltf)&&void 0!==l&&l.postProcess?bA(t,i):t);case 16:case"end":return e.stop()}}),e)}))),PA.apply(this,arguments)}function MA(e,t,n,r){(r.uri&&(e.baseUri=r.uri),t instanceof ArrayBuffer&&!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new DataView(e),i=n.magic,o=void 0===i?_A:i,a=r.getUint32(t,!1);return a===o||a===_A}(t,n,r))&&(t=(new TextDecoder).decode(t));if("string"===typeof t)e.json=Lu(t);else if(t instanceof ArrayBuffer){var i={};n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new DataView(t),i=BA(r,n+0),o=r.getUint32(n+4,CA),a=r.getUint32(n+8,CA);switch(Object.assign(e,{header:{byteOffset:n,byteLength:a,hasBinChunk:!1},type:i,version:o,json:{},binChunks:[]}),n+=12,e.version){case 1:return EA(e,r,n);case 2:return SA(e,r,n,{});default:throw new Error("Invalid GLB version ".concat(e.version,". Only supports v1 and v2."))}}(i,t,n,r.glb),Du("glTF"===i.type,"Invalid GLB magic string ".concat(i.type)),e._glb=i,e.json=i.json}else Du(!1,"GLTF: must be ArrayBuffer or string");var o=e.json.buffers||[];if(e.buffers=new Array(o.length).fill(null),e._glb&&e._glb.header.hasBinChunk){var a=e._glb.binChunks;e.buffers[0]={arrayBuffer:a[0].arrayBuffer,byteOffset:a[0].byteOffset,byteLength:a[0].byteLength}}var s=e.json.images||[];e.images=new Array(s.length).fill({})}function FA(e,t,n){return IA.apply(this,arguments)}function IA(){return IA=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r){var i,o,a,s,u,l,c,A;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.json.buffers||[],o=0;case 2:if(!(o<i.length)){e.next=22;break}if(!(a=i[o]).uri){e.next=18;break}return Du(r.fetch),l=Zu(a.uri,n),e.next=10,null===r||void 0===r||null===(s=r.fetch)||void 0===s?void 0:s.call(r,l);case 10:return c=e.sent,e.next=13,null===c||void 0===c||null===(u=c.arrayBuffer)||void 0===u?void 0:u.call(c);case 13:A=e.sent,t.buffers[o]={arrayBuffer:A,byteOffset:0,byteLength:A.byteLength},delete a.uri,e.next=19;break;case 18:null===t.buffers[o]&&(t.buffers[o]={arrayBuffer:new ArrayBuffer(a.byteLength),byteOffset:0,byteLength:a.byteLength});case 19:++o,e.next=2;break;case 22:case"end":return e.stop()}}),e)}))),IA.apply(this,arguments)}function LA(e,t,n){return RA.apply(this,arguments)}function RA(){return(RA=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r){var i,o,a,s,u,l;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=DA(t),o=t.json.images||[],a=[],s=(0,Ee.Z)(i);try{for(s.s();!(u=s.n()).done;)l=u.value,a.push(ZA(t,o[l],l,n,r))}catch(c){s.e(c)}finally{s.f()}return e.next=7,Promise.all(a);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DA(e){var t,n=new Set,r=e.json.textures||[],i=(0,Ee.Z)(r);try{for(i.s();!(t=i.n()).done;){var o=t.value;void 0!==o.source&&n.add(o.source)}}catch(a){i.e(a)}finally{i.f()}return Array.from(n).sort()}function ZA(e,t,n,r,i){return UA.apply(this,arguments)}function UA(){return UA=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r,i,o){var a,s,u,l,c,A,f;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.fetch,s=o.parse,!n.uri){e.next=9;break}return l=Zu(n.uri,i),e.next=5,a(l);case 5:return c=e.sent,e.next=8,c.arrayBuffer();case 8:u=e.sent;case 9:return Number.isFinite(n.bufferView)&&(A=Uu(t.json,t.buffers,n.bufferView),u=(0,Ru.qv)(A.buffer,A.byteOffset,A.byteLength)),Du(u,"glTF image has no data"),e.next=13,s(u,[Fu.S,Mu],{mimeType:n.mimeType,basis:i.basis||{format:Tu()}},o);case 13:(f=e.sent)&&f[0]&&(f={compressed:!0,mipmaps:!1,width:f[0].width,height:f[0].height,data:f[0]}),t.images=t.images||[],t.images[r]=f;case 17:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}var jA={name:"glTF",id:"gltf",module:"gltf",version:"3.2.9",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function(e){return NA.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};function NA(){return NA=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o,a,s=arguments;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,(n=(0,Ce.Z)((0,Ce.Z)({},jA.options),n)).gltf=(0,Ce.Z)((0,Ce.Z)({},jA.options.gltf),n.gltf),i=n.byteOffset,o=void 0===i?0:i,a={},e.next=8,TA(a,t,o,n,r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),NA.apply(this,arguments)}function zA(){return(zA=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.scenes.forEach((function(e){e.traverse((function(e){Object.values(e.model.getUniforms()).forEach((function(e){!1===e.loaded&&n.push(e)}))}))})),e.next=4,QA((function(){return n.some((function(e){return!e.loaded}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QA(e){return HA.apply(this,arguments)}function HA(){return(HA=(0,ji.Z)((0,Ui.Z)().mark((function e(t){return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t()){e.next=5;break}return e.next=3,new Promise((function(e){return requestAnimationFrame(e)}));case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var VA=Math.PI/180,GA=new Float32Array(16),WA=new Float32Array(12);function KA(e,t,n){var r=t[0]*VA,i=t[1]*VA,o=t[2]*VA,a=Math.sin(o),s=Math.sin(r),u=Math.sin(i),l=Math.cos(o),c=Math.cos(r),A=Math.cos(i),f=n[0],h=n[1],p=n[2];e[0]=f*A*c,e[1]=f*u*c,e[2]=f*-s,e[3]=h*(-u*l+A*s*a),e[4]=h*(A*l+u*s*a),e[5]=h*c*a,e[6]=p*(u*a+A*s*l),e[7]=p*(-A*a+u*s*l),e[8]=p*c*l}function qA(e){return e[0]=e[0],e[1]=e[1],e[2]=e[2],e[3]=e[4],e[4]=e[5],e[5]=e[6],e[6]=e[8],e[7]=e[9],e[8]=e[10],e[9]=e[12],e[10]=e[13],e[11]=e[14],e.subarray(0,12)}var XA={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update:function(e,t){var n=t.startRow,r=t.endRow,i=this.props,o=i.data,a=i.getOrientation,s=i.getScale,u=i.getTranslation,l=i.getTransformMatrix,c=Array.isArray(l),A=c&&16===l.length,f=Array.isArray(s),h=Array.isArray(a),p=Array.isArray(u),d=A||!c&&Boolean(l(o[0]));e.constant=d?A:h&&f&&p;var g=e.value;if(e.constant){var v;if(d)GA.set(l),v=qA(GA);else KA(v=WA,a,s),v.set(u,9);e.value=new Float32Array(v)}else{var y,m=n*e.size,b=(0,ne.jB)(o,n,r),_=b.iterable,w=b.objectInfo,x=(0,Ee.Z)(_);try{for(x.s();!(y=x.n()).done;){var C=y.value;w.index++;var B=void 0;if(d)GA.set(A?l:l(C,w)),B=qA(GA);else KA(B=WA,h?a:a(C,w),f?s:s(C,w)),B.set(p?u:u(C,w),9);g[m++]=B[0],g[m++]=B[1],g[m++]=B[2],g[m++]=B[3],g[m++]=B[4],g[m++]=B[5],g[m++]=B[6],g[m++]=B[7],g[m++]=B[8],g[m++]=B[9],g[m++]=B[10],g[m++]=B[11]}}catch(E){x.e(E)}finally{x.f()}}}};function YA(e,t){return t===f.Df.CARTESIAN||t===f.Df.METER_OFFSETS||t===f.Df.DEFAULT&&!e.isGeospatial}var JA=[255,255,255,255],$A={scenegraph:{type:"object",value:null,async:!0},getScene:function(e){return e&&e.scenes?"object"===typeof e.scene?e.scene:e.scenes[e.scene||0]:e},getAnimator:function(e){return e&&e.animator},_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:JA},_lighting:"flat",_imageBasedLightingEnvironment:null,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[jA]},ef=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,Be.Z)((0,me.Z)(e),"state",void 0),e}return(0,ye.Z)(n,[{key:"getShaders",value:function(){var e=[D.Z,L.Z];return"pbr"===this.props._lighting&&e.push(fs.b),{vs:"#version 300 es\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Uniforms\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\n\n// Attributes\nin vec4 POSITION;\n\n#ifdef HAS_UV\n  in vec2 TEXCOORD_0;\n#endif\n\n#ifdef MODULE_PBR\n  #ifdef HAS_NORMALS\n    in vec4 NORMAL;\n  #endif\n#endif\n\n// Varying\nout vec4 vColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #ifdef HAS_UV\n    out vec2 vTEXCOORD_0;\n  #endif\n#endif\n\n// Main\nvoid main(void) {\n  #if defined(HAS_UV) && !defined(MODULE_PBR)\n    vTEXCOORD_0 = TEXCOORD_0;\n    geometry.uv = vTEXCOORD_0;\n  #endif\n\n  geometry.worldPosition = instancePositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec3 normal = vec3(0.0, 0.0, 1.0);\n  #ifdef MODULE_PBR\n    #ifdef HAS_NORMALS\n      normal = instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz;\n    #endif\n  #endif\n\n  float originalSize = project_size_to_pixel(sizeScale);\n  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\n\n  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\n  if(composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    geometry.normal = project_normal(normal);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\n    geometry.normal = project_normal(normal);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    // set PBR data\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = TEXCOORD_0;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n\n// Uniforms\nuniform float opacity;\n\n// Varying\nin vec4 vColor;\n\nout vec4 fragmentColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n    in vec2 vTEXCOORD_0;\n    uniform sampler2D u_BaseColorSampler;\n  #endif\n#endif\n\nvoid main(void) {\n  #ifdef MODULE_PBR\n    fragmentColor = vColor * pbr_filterColor(vec4(0));\n    geometry.uv = pbr_vUV;\n  #else\n    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);\n      geometry.uv = vTEXCOORD_0;\n    #else\n      fragmentColor = vColor;\n    #endif\n  #endif\n\n  fragmentColor.a *= opacity;\n  DECKGL_FILTER_COLOR(fragmentColor, geometry);\n}\n",modules:e}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:5121,size:this.props.colorFormat.length,accessor:"getColor",normalized:!0,defaultValue:JA,transition:!0},instanceModelMatrix:XA})}},{key:"updateState",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps;t.scenegraph!==r.scenegraph?this._updateScenegraph():t._animations!==r._animations&&this._applyAnimationsProp(this.state.scenegraph,this.state.animator,t._animations)}},{key:"finalizeState",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"finalizeState",this).call(this,e),this._deleteScenegraph()}},{key:"_updateScenegraph",value:function(){var e=this,t=this.props,n=this.context.gl,r=null;if(t.scenegraph instanceof ds)r={scenes:[t.scenegraph]};else if(t.scenegraph&&!t.scenegraph.gltf){var i=t.scenegraph,o=function(e,t,n){var r=new Ps(e,n);return{scenes:r.instantiate(t),animator:r.createAnimator()}}(n,i,this._getModelOptions());r=(0,Ce.Z)({gltf:i},o),function(e){return zA.apply(this,arguments)}(o).then((function(){return e.setNeedsRedraw()}))}else t.scenegraph&&(z.Z.deprecated("ScenegraphLayer.props.scenegraph","Use GLTFLoader instead of GLTFScenegraphLoader")(),r=t.scenegraph);var a={layer:this,gl:n},s=t.getScene(r,a),u=t.getAnimator(r,a);s instanceof ds?(this._deleteScenegraph(),this._applyAllAttributes(s),this._applyAnimationsProp(s,u,t._animations),this.setState({scenegraph:s,animator:u})):null!==s&&z.Z.warn("invalid scenegraph:",s)()}},{key:"_applyAllAttributes",value:function(e){var t=this;if(this.state.attributesAvailable){var n=this.getAttributeManager().getAttributes();e.traverse((function(e){t._setModelAttributes(e.model,n)}))}}},{key:"_applyAnimationsProp",value:function(e,t,n){if(e&&t&&n){var r=t.getAnimations();Object.keys(n).sort().forEach((function(e){var t=n[e];if("*"===e)r.forEach((function(e){Object.assign(e,t)}));else if(Number.isFinite(Number(e))){var i=Number(e);i>=0&&i<r.length?Object.assign(r[i],t):z.Z.warn("animation ".concat(e," not found"))()}else{var o=r.find((function(t){return t.name===e}));o?Object.assign(o,t):z.Z.warn("animation ".concat(e," not found"))()}}))}}},{key:"_deleteScenegraph",value:function(){var e=this.state.scenegraph;e instanceof ds&&e.delete()}},{key:"_getModelOptions",value:function(){var e=this.props._imageBasedLightingEnvironment,t=null;return e&&(t="function"===typeof e?e({gl:this.context.gl,layer:this}):e),{gl:this.context.gl,waitForFullLoad:!0,imageBasedLightingEnvironment:t,modelOptions:(0,Ce.Z)({isInstanced:!0,transpileToGLSL100:!(0,ke.D0)(this.context.gl)},this.getShaders()),useTangents:!1}}},{key:"updateAttributes",value:function(e){var t=this;this.setState({attributesAvailable:!0}),this.state.scenegraph&&this.state.scenegraph.traverse((function(n){t._setModelAttributes(n.model,e)}))}},{key:"draw",value:function(e){var t=e.moduleParameters,n=void 0===t?null:t,r=e.parameters,i=void 0===r?{}:r,o=e.context;if(this.state.scenegraph){this.props._animations&&this.state.animator&&(this.state.animator.animate(o.timeline.getTime()),this.setNeedsRedraw());var a=this.context.viewport,s=this.props,u=s.sizeScale,l=s.sizeMinPixels,c=s.sizeMaxPixels,A=s.opacity,f=s.coordinateSystem,h=this.getNumInstances();this.state.scenegraph.traverse((function(e,t){var r=t.worldMatrix;e.model.setInstanceCount(h),e.updateModuleSettings(n),e.draw({parameters:i,uniforms:{sizeScale:u,opacity:A,sizeMinPixels:l,sizeMaxPixels:c,composeModelMatrix:YA(a,f),sceneModelMatrix:r,u_Camera:e.model.getUniforms().project_uCameraPosition}})}))}}}]),n}(p.Z);(0,Be.Z)(ef,"defaultProps",$A),(0,Be.Z)(ef,"layerName","ScenegraphLayer");function tf(e,t){(e.COLOR_0||e.colors)&&t||(e.colors={constant:!0,value:new Float32Array([1,1,1])}),z.Z.assert(e.positions||e.POSITION,'no "postions" or "POSITION" attribute in mesh')}function nf(e,t){if(e.attributes)return tf(e.attributes,t),e instanceof st.Z?e:new st.Z(e);if(e.positions||e.POSITION)return tf(e,t),new st.Z({attributes:e});throw Error("Invalid mesh")}var rf={mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]}},of=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,Be.Z)((0,me.Z)(e),"state",void 0),e}return(0,ye.Z)(n,[{key:"getShaders",value:function(){var e=!(0,ke.D0)(this.context.gl),t={};return(0,Oe.U6)(this.context.gl,Se.h.GLSL_DERIVATIVES)&&(t.DERIVATIVES_AVAILABLE=1),(0,be.Z)((0,_e.Z)(n.prototype),"getShaders",this).call(this,{vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\n\n// Scale the model\nuniform float sizeScale;\nuniform bool composeModelMatrix;\n\n// Primitive attributes\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Outputs to fragment shader\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n\n// NOTE(Tarek): This is necessary because\n// headless.gl reports the extension as\n// available but does not support it in\n// the shader.\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[D.Z,Z.s,L.Z],transpileToGLSL100:e,defines:t})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:XA}),this.setState({emptyTexture:new Xe.Z(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}},{key:"updateState",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps,i=e.changeFlags;if(t.mesh!==r.mesh||i.extensionsChanged){var o;if(null===(o=this.state.model)||void 0===o||o.delete(),t.mesh){this.state.model=this.getModel(t.mesh);var a=t.mesh.attributes||t.mesh;this.setState({hasNormals:Boolean(a.NORMAL||a.normals)})}this.getAttributeManager().invalidateAll()}t.texture!==r.texture&&this.setTexture(t.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}},{key:"finalizeState",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"finalizeState",this).call(this,e),this.state.emptyTexture.delete()}},{key:"draw",value:function(e){var t=e.uniforms;if(this.state.model){var n=this.context.viewport,r=this.props,i=r.sizeScale,o=r.coordinateSystem,a=r._instanced;this.state.model.setUniforms(t).setUniforms({sizeScale:i,composeModelMatrix:!a||YA(n,o),flatShading:!this.state.hasNormals}).draw()}}},{key:"getModel",value:function(e){var t=new Pe.Z(this.context.gl,(0,Ce.Z)((0,Ce.Z)({},this.getShaders()),{},{id:this.props.id,geometry:nf(e,this.props._useMeshColors),isInstanced:!0})),n=this.props.texture,r=this.state.emptyTexture;return t.setUniforms({sampler:n||r,hasTexture:Boolean(n)}),t}},{key:"setTexture",value:function(e){var t=this.state,n=t.emptyTexture,r=t.model;r&&r.setUniforms({sampler:e||n,hasTexture:Boolean(e)})}}]),n}(p.Z);(0,Be.Z)(of,"defaultProps",rf),(0,Be.Z)(of,"layerName","SimpleMeshLayer");var af=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"getShaders",value:function(){var e=(0,be.Z)((0,_e.Z)(n.prototype),"getShaders",this).call(this);return e.modules.push(fs.b),(0,Ce.Z)((0,Ce.Z)({},e),{},{vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\n\n// Scale the model\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nuniform bool pickFeatureIds;\n\n// Primitive attributes\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec4 uvRegions;\nin vec3 featureIdsPickingColors;\n\n// Instance attributes\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\n\n// Outputs to fragment shader\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvec2 applyUVRegion(vec2 uv) {\n  #ifdef HAS_UV_REGIONS\n    // https://github.com/Esri/i3s-spec/blob/master/docs/1.7/geometryUVRegion.cmn.md\n    return fract(uv) * (uvRegions.zw - uvRegions.xy) + uvRegions.xy;\n  #else\n    return uv;\n  #endif\n}\n\nvoid main(void) {\n  vec2 uv = applyUVRegion(texCoords);\n  geometry.uv = uv;\n\n  if (pickFeatureIds) {\n    geometry.pickingColor = featureIdsPickingColors;\n  } else {\n    geometry.pickingColor = instancePickingColors;\n  }\n\n  vTexCoord = uv;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale;\n  vec3 projectedPosition = project_position(positions);\n  position_commonspace = vec4(projectedPosition, 1.0);\n  gl_Position = project_common_position_to_clipspace(position_commonspace);\n\n  geometry.position = position_commonspace;\n  normals_commonspace = project_normal(instanceModelMatrix * normals);\n  geometry.normal = normals_commonspace;\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    // set PBR data\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = uv;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  \n#ifdef MODULE_PBR\n\n  fragColor = vColor * pbr_filterColor(vec4(0));\n  geometry.uv = pbr_vUV;\n  fragColor.a *= opacity;\n\n#else\n\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n\n// NOTE(Tarek): This is necessary because\n// headless.gl reports the extension as\n// available but does not support it in\n// the shader.\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n#endif\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n"})}},{key:"initializeState",value:function(){var e=this.props.featureIds;(0,be.Z)((0,_e.Z)(n.prototype),"initializeState",this).call(this);var t=this.getAttributeManager();e&&t.add({featureIdsPickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateFeatureIdsPickingColors}})}},{key:"updateState",value:function(e){(0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps;t.pbrMaterial!==r.pbrMaterial&&this.updatePbrMaterialUniforms(t.pbrMaterial)}},{key:"draw",value:function(e){var t=this.props.featureIds;this.state.model&&(this.state.model.setUniforms({u_Camera:this.state.model.getUniforms().project_uCameraPosition,pickFeatureIds:Boolean(t)}),(0,be.Z)((0,_e.Z)(n.prototype),"draw",this).call(this,e))}},{key:"getModel",value:function(e){var t=this.props,n=t.id,r=t.pbrMaterial,i=this.parseMaterial(r,e);this.setState({materialParser:i});var o,a=this.getShaders();return(o=e.attributes).COLOR_0||o.colors||(o.colors={constant:!0,value:new Float32Array([1,1,1])}),new Pe.Z(this.context.gl,(0,Ce.Z)((0,Ce.Z)({},this.getShaders()),{},{id:n,geometry:e,defines:(0,Ce.Z)((0,Ce.Z)((0,Ce.Z)({},a.defines),null===i||void 0===i?void 0:i.defines),{},{HAS_UV_REGIONS:e.attributes.uvRegions}),parameters:null===i||void 0===i?void 0:i.parameters,isInstanced:!0}))}},{key:"updatePbrMaterialUniforms",value:function(e){var t=this.state.model;if(t){var n=this.props.mesh,r=this.parseMaterial(e,n);this.setState({materialParser:r}),t.setUniforms(r.uniforms)}}},{key:"parseMaterial",value:function(e,t){var n,r=Boolean(e.pbrMetallicRoughness&&e.pbrMetallicRoughness.baseColorTexture);return null===(n=this.state.materialParser)||void 0===n||n.delete(),new Ss(this.context.gl,{attributes:{NORMAL:t.attributes.normals,TEXCOORD_0:t.attributes.texCoords},material:(0,Ce.Z)({unlit:r},e),pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1})}},{key:"calculateFeatureIdsPickingColors",value:function(e){for(var t=this.props.featureIds,n=new Uint8ClampedArray(t.length*e.size),r=[],i=0;i<t.length;i++)this.encodePickingColor(t[i],r),n[3*i]=r[0],n[3*i+1]=r[1],n[3*i+2]=r[2];e.value=n}},{key:"finalizeState",value:function(e){var t;(0,be.Z)((0,_e.Z)(n.prototype),"finalizeState",this).call(this,e),null===(t=this.state.materialParser)||void 0===t||t.delete(),this.setState({materialParser:null})}}]),n}(of);(0,Be.Z)(af,"layerName","MeshLayer"),(0,Be.Z)(af,"defaultProps",{pbrMaterial:{type:"object",value:null},featureIds:{type:"array",value:null,optional:!0}});var sf=n(9716),uf=6378137,lf=6378137,cf=6356752.314245179;Math.max(uf,lf,cf);function Af(e){return e}new Gi.Z;function ff(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Af;return"longitude"in e?(t[0]=n(e.longitude),t[1]=n(e.latitude),t[2]=e.height):"x"in e?(t[0]=n(e.x),t[1]=n(e.y),t[2]=e.z):(t[0]=n(e[0]),t[1]=n(e[1]),t[2]=e[2]),t}function hf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ff(e,t,Ti.vc._cartographicRadians?Af:Ti.Yr)}function pf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Af;return"longitude"in t?(t.longitude=n(e[0]),t.latitude=n(e[1]),t.height=e[2]):"x"in t?(t.x=n(e[0]),t.y=n(e[1]),t.z=e[2]):(t[0]=n(e[0]),t[1]=n(e[1]),t[2]=e[2]),t}function df(e,t){return pf(e,t,Ti.vc._cartographicRadians?Af:Ti.Ux)}var gf=new Gi.Z,vf=new Gi.Z,yf=new Gi.Z;var mf=new Gi.Z,bf={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},_f={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},wf={east:new Gi.Z,north:new Gi.Z,up:new Gi.Z,west:new Gi.Z,south:new Gi.Z,down:new Gi.Z},xf=new Gi.Z,Cf=new Gi.Z,Bf=new Gi.Z;function Ef(e,t,n,r,i,o){var a,s,u,l=bf[t]&&bf[t][n];(0,$o.Z)(l&&(!r||r===l));var c=mf.copy(i);if((0,Ti.fS)(c.x,0,1e-14)&&(0,Ti.fS)(c.y,0,1e-14)){var A=Math.sign(c.z);a=xf.fromArray(_f[t]),"east"!==t&&"west"!==t&&a.scale(A),s=Cf.fromArray(_f[n]),"east"!==n&&"west"!==n&&s.scale(A),u=Bf.fromArray(_f[r]),"east"!==r&&"west"!==r&&u.scale(A)}else{var f=wf.up,h=wf.east,p=wf.north;h.set(-c.y,c.x,0).normalize(),e.geodeticSurfaceNormal(c,f),p.copy(f).cross(h);var d=wf.west,g=wf.south;wf.down.copy(f).scale(-1),d.copy(h).scale(-1),g.copy(p).scale(-1),a=wf[t],s=wf[n],u=wf[r]}return o[0]=a.x,o[1]=a.y,o[2]=a.z,o[3]=0,o[4]=s.x,o[5]=s.y,o[6]=s.z,o[7]=0,o[8]=u.x,o[9]=u.y,o[10]=u.z,o[11]=0,o[12]=c.x,o[13]=c.y,o[14]=c.z,o[15]=1,o}var Sf=new Gi.Z,kf=new Gi.Z,Of=new Gi.Z,Tf=new Gi.Z,Pf=new Gi.Z,Mf=new Gi.Z,Ff=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,ve.Z)(this,e),(0,Be.Z)(this,"radii",void 0),(0,Be.Z)(this,"radiiSquared",void 0),(0,Be.Z)(this,"radiiToTheFourth",void 0),(0,Be.Z)(this,"oneOverRadii",void 0),(0,Be.Z)(this,"oneOverRadiiSquared",void 0),(0,Be.Z)(this,"minimumRadius",void 0),(0,Be.Z)(this,"maximumRadius",void 0),(0,Be.Z)(this,"centerToleranceSquared",sa),(0,Be.Z)(this,"squaredXOverSquaredZ",void 0),(0,$o.Z)(t>=0),(0,$o.Z)(n>=0),(0,$o.Z)(r>=0),this.radii=new Gi.Z(t,n,r),this.radiiSquared=new Gi.Z(t*t,n*n,r*r),this.radiiToTheFourth=new Gi.Z(t*t*t*t,n*n*n*n,r*r*r*r),this.oneOverRadii=new Gi.Z(0===t?0:1/t,0===n?0:1/n,0===r?0:1/r),this.oneOverRadiiSquared=new Gi.Z(0===t?0:1/(t*t),0===n?0:1/(n*n),0===r?0:1/(r*r)),this.minimumRadius=Math.min(t,n,r),this.maximumRadius=Math.max(t,n,r),0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}return(0,ye.Z)(e,[{key:"equals",value:function(e){return this===e||Boolean(e&&this.radii.equals(e.radii))}},{key:"toString",value:function(){return this.radii.toString()}},{key:"cartographicToCartesian",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=kf,r=Of,i=(0,mt.Z)(e,3),o=i[2];this.geodeticSurfaceNormalCartographic(e,n),r.copy(this.radiiSquared).scale(n);var a=Math.sqrt(n.dot(r));return r.scale(1/a),n.scale(o),r.add(n),r.to(t)}},{key:"cartesianToCartographic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];Mf.from(e);var n=this.scaleToGeodeticSurface(Mf,Tf);if(n){var r=this.geodeticSurfaceNormal(n,kf),i=Pf;i.copy(Mf).subtract(n);var o=Math.atan2(r.y,r.x),a=Math.asin(r.z),s=Math.sign(uo.AK(i,Mf))*uo.kE(i);return df([o,a,s],t)}}},{key:"eastNorthUpToFixedFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ns.Z;return Ef(this,"east","north","up",e,t)}},{key:"localFrameToFixedFrame",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ns.Z;return Ef(this,e,t,n,r,i)}},{key:"geocentricSurfaceNormal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return Sf.from(e).normalize().to(t)}},{key:"geodeticSurfaceNormalCartographic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=hf(e),r=n[0],i=n[1],o=Math.cos(i);return Sf.set(o*Math.cos(r),o*Math.sin(r),Math.sin(i)).normalize(),Sf.to(t)}},{key:"geodeticSurfaceNormal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return Sf.from(e).scale(this.oneOverRadiiSquared).normalize().to(t)}},{key:"scaleToGeodeticSurface",value:function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.oneOverRadii,i=t.oneOverRadiiSquared,o=t.centerToleranceSquared;gf.from(e);var a=gf.x,s=gf.y,u=gf.z,l=r.x,c=r.y,A=r.z,f=a*a*l*l,h=s*s*c*c,p=u*u*A*A,d=f+h+p,g=Math.sqrt(1/d);if(Number.isFinite(g)){var v=vf;if(v.copy(e).scale(g),d<o)return v.to(n);var y=i.x,m=i.y,b=i.z,_=yf;_.set(v.x*y*2,v.y*m*2,v.z*b*2);var w,x,C,B,E=(1-g)*gf.len()/(.5*_.len()),S=0;do{var k=(w=1/(1+(E-=S)*y))*w,O=(x=1/(1+E*m))*x,T=(C=1/(1+E*b))*C;S=(B=f*k+h*O+p*T-1)/(-2*(f*(k*w)*y+h*(O*x)*m+p*(T*C)*b))}while(Math.abs(B)>ua);return gf.scale([w,x,C]).to(n)}}(e,this,t)}},{key:"scaleToGeocentricSurface",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];Tf.from(e);var n=Tf.x,r=Tf.y,i=Tf.z,o=this.oneOverRadiiSquared,a=1/Math.sqrt(n*n*o.x+r*r*o.y+i*i*o.z);return Tf.multiplyScalar(a).to(t)}},{key:"transformPositionToScaledSpace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return Tf.from(e).scale(this.oneOverRadii).to(t)}},{key:"transformPositionFromScaledSpace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return Tf.from(e).scale(this.radii).to(t)}},{key:"getSurfaceNormalIntersectionWithZAxis",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0];(0,$o.Z)((0,Ti.fS)(this.radii.x,this.radii.y,la)),(0,$o.Z)(this.radii.z>0),Tf.from(e);var r=Tf.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(r)>=this.radii.z-t))return Tf.set(0,0,r).to(n)}}]),e}();(0,Be.Z)(Ff,"WGS84",new Ff(uf,lf,cf));var If=n(6805),Lf=(0,ye.Z)((function e(t,n,r){(0,ve.Z)(this,e),(0,Be.Z)(this,"item",void 0),(0,Be.Z)(this,"previous",void 0),(0,Be.Z)(this,"next",void 0),this.item=t,this.previous=n,this.next=r})),Rf=function(){function e(){(0,ve.Z)(this,e),(0,Be.Z)(this,"head",null),(0,Be.Z)(this,"tail",null),(0,Be.Z)(this,"_length",0)}return(0,ye.Z)(e,[{key:"length",get:function(){return this._length}},{key:"add",value:function(e){var t=new Lf(e,this.tail,null);return this.tail?(this.tail.next=t,this.tail=t):(this.head=t,this.tail=t),++this._length,t}},{key:"remove",value:function(e){e&&(e.previous&&e.next?(e.previous.next=e.next,e.next.previous=e.previous):e.previous?(e.previous.next=null,this.tail=e.previous):e.next?(e.next.previous=null,this.head=e.next):(this.head=null,this.tail=null),e.next=null,e.previous=null,--this._length)}},{key:"splice",value:function(e,t){e!==t&&(this.remove(t),this._insert(e,t))}},{key:"_insert",value:function(e,t){var n=e.next;e.next=t,this.tail===e?this.tail=t:n.previous=t,t.next=n,t.previous=e,++this._length}}]),e}();function Df(e){return void 0!==e&&null!==e}var Zf=function(){function e(){(0,ve.Z)(this,e),(0,Be.Z)(this,"_list",void 0),(0,Be.Z)(this,"_sentinel",void 0),(0,Be.Z)(this,"_trimTiles",void 0),this._list=new Rf,this._sentinel=this._list.add("sentinel"),this._trimTiles=!1}return(0,ye.Z)(e,[{key:"reset",value:function(){this._list.splice(this._list.tail,this._sentinel)}},{key:"touch",value:function(e){var t=e._cacheNode;Df(t)&&this._list.splice(this._sentinel,t)}},{key:"add",value:function(e,t,n){Df(t._cacheNode)||(t._cacheNode=this._list.add(t),n&&n(e,t))}},{key:"unloadTile",value:function(e,t,n){var r=t._cacheNode;Df(r)&&(this._list.remove(r),t._cacheNode=void 0,n&&n(e,t))}},{key:"unloadTiles",value:function(e,t){var n=this._trimTiles;this._trimTiles=!1;for(var r=this._list,i=1024*e.maximumMemoryUsage*1024,o=this._sentinel,a=r.head;a!==o&&(e.gpuMemoryUsageInBytes>i||n);){var s=a.item;a=a.next,this.unloadTile(e,s,t)}}},{key:"trim",value:function(){this._trimTiles=!0}}]),e}();var Uf=new Gi.Z,jf=new Gi.Z,Nf=new aa([new na,new na,new na,new na,new na,new na]);function zf(e,t){var n=e.cameraDirection,r=e.cameraUp,i=e.height,o=e.distanceScales.metersPerUnit,a=Hf(e,e.center),s=Ff.WGS84.eastNorthUpToFixedFrame(a),u=e.unprojectPosition(e.cameraPosition),l=Ff.WGS84.cartographicToCartesian(u,new Gi.Z),c=new Gi.Z(s.transformAsVector(new Gi.Z(n).scale(o))).normalize(),A=new Gi.Z(s.transformAsVector(new Gi.Z(r).scale(o))).normalize();return function(e){var t=e.getFrustumPlanes(),n=Qf(t.near,e.cameraPosition),r=Hf(e,n),i=Hf(e,e.cameraPosition,jf),o=0;for(var a in Nf.planes[o++].fromPointNormal(r,Uf.copy(r).subtract(i)),t)if("near"!==a){var s=Hf(e,Qf(t[a],n,jf),jf);Nf.planes[o++].fromPointNormal(s,Uf.copy(r).subtract(s))}}(e),{camera:{position:l,direction:c,up:A},viewport:e,topDownViewport:new(0,e.constructor)({longitude:e.longitude,latitude:e.latitude,height:i,width:e.width,bearing:e.bearing,zoom:e.zoom,pitch:0}),height:i,cullingVolume:Nf,frameNumber:t,sseDenominator:1.15}}function Qf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Gi.Z,r=e.normal.dot(t);return n.copy(e.normal).scale(e.distance-r).add(t),n}function Hf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Gi.Z,r=e.unprojectPosition(t);return Ff.WGS84.cartographicToCartesian(r,n)}var Vf=6356752.314245179,Gf=new Gi.Z;function Wf(e,t){if(e instanceof Jo){var n=function(e){e.getColumn(0,Gf);var t=e.getColumn(1),n=e.getColumn(2);return Gf.add(t).add(n).len()}(e.halfAxes);return Math.log2(Vf/(n+t[2]))}if(e instanceof $i){var r=e.radius;return Math.log2(Vf/(r+t[2]))}if(e.width&&e.height){var i=e.width,o=e.height;return(Math.log2(6378137/i)+Math.log2(6378137/o))/2}return 1}function Kf(e,t,n){var r=Ff.WGS84.cartographicToCartesian([e.xmax,e.ymax,e.zmax],new Gi.Z),i=Math.sqrt(Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2)+Math.pow(r[2]-n[2],2));return Math.log2(Vf/(i+t[2]))}var qf=0,Xf=1,Yf=3,Jf=4,$f=5,eh=1,th=2,nh="empty",rh="scenegraph",ih="pointcloud",oh="mesh",ah="I3S",sh="TILES3D",uh="geometricError",lh=1;function ch(e){return void 0!==e&&null!==e}var Ah=new Gi.Z,fh=new Gi.Z,hh=new Gi.Z;function ph(e,t,n){if((0,Nu.h)(e,"3D Tile: boundingVolume must be defined"),e.box)return function(e,t,n){var r=new Gi.Z(e[0],e[1],e[2]);t.transform(r,r);var i=[];if(10===e.length){var o=e.slice(3,6),a=new Lo;a.fromArray(e,6);var s=new Gi.Z([1,0,0]),u=new Gi.Z([0,1,0]),l=new Gi.Z([0,0,1]);s.transformByQuaternion(a),s.scale(o[0]),u.transformByQuaternion(a),u.scale(o[1]),l.transformByQuaternion(a),l.scale(o[2]),i=[].concat((0,zi.Z)(s.toArray()),(0,zi.Z)(u.toArray()),(0,zi.Z)(l.toArray()))}else i=[].concat((0,zi.Z)(e.slice(3,6)),(0,zi.Z)(e.slice(6,9)),(0,zi.Z)(e.slice(9,12)));var c=t.transformAsVector(i.slice(0,3)),A=t.transformAsVector(i.slice(3,6)),f=t.transformAsVector(i.slice(6,9)),h=new fo([c[0],c[1],c[2],A[0],A[1],A[2],f[0],f[1],f[2]]);if(ch(n))return n.center=r,n.halfAxes=h,n;return new Jo(r,h)}(e.box,t,n);if(e.region){var r=(0,mt.Z)(e.region,6),i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5],c=Ff.WGS84.cartographicToCartesian([(0,Ti.RW)(i),(0,Ti.RW)(s),u],fh),A=Ff.WGS84.cartographicToCartesian([(0,Ti.RW)(a),(0,Ti.RW)(o),l],hh),f=(new Gi.Z).addVectors(c,A).multiplyScalar(.5),h=(new Gi.Z).subVectors(c,A).len()/2;return dh([f[0],f[1],f[2],h],new ns.Z)}if(e.sphere)return dh(e.sphere,t,n);throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")}function dh(e,t,n){var r=new Gi.Z(e[0],e[1],e[2]);t.transform(r,r);var i=t.getScale(Ah),o=Math.max(Math.max(i[0],i[1]),i[2]),a=e[3]*o;return ch(n)?(n.center=r,n.radius=a,n):new $i(r,a)}new Gi.Z,new Gi.Z,new ns.Z,new Gi.Z,new Gi.Z,new Gi.Z;function gh(e,t){if(e.dynamicScreenSpaceError&&e.dynamicScreenSpaceErrorComputedDensity){var n=e.dynamicScreenSpaceErrorComputedDensity,r=e.dynamicScreenSpaceErrorFactor,i=function(e,t){var n=e*t;return 1-Math.exp(-n*n)}(t,n)*r;return i}return 0}var vh=new Gi.Z,yh=new Gi.Z,mh=new Gi.Z,bh=new Gi.Z,_h=new Gi.Z,wh=new ns.Z,xh=new ns.Z;function Ch(e,t){var n=t.topDownViewport,r=e.header.mbs[1],i=e.header.mbs[0],o=e.header.mbs[2],a=e.header.mbs[3],s=(0,zi.Z)(e.boundingVolume.center),u=n.unprojectPosition(n.cameraPosition);Ff.WGS84.cartographicToCartesian(u,vh),yh.copy(vh).subtract(s).normalize(),Ff.WGS84.eastNorthUpToFixedFrame(s,wh),xh.copy(wh).invert(),mh.copy(vh).transform(xh);var l=Math.sqrt(mh[0]*mh[0]+mh[1]*mh[1]),c=l*l/mh[2];bh.copy([mh[0],mh[1],c]);var A=bh.transform(wh).subtract(s).normalize(),f=yh.cross(A).normalize().scale(a).add(s),h=Ff.WGS84.cartesianToCartographic(f),p=n.project([i,r,o]),d=n.project(h);return _h.copy(p).subtract(d).magnitude()}var Bh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,ve.Z)(this,e),(0,Be.Z)(this,"_map",new Map),(0,Be.Z)(this,"_array",void 0),(0,Be.Z)(this,"_length",void 0),this._array=new Array(t),this._length=t}return(0,ye.Z)(e,[{key:"length",get:function(){return this._length},set:function(e){this._length=e,e>this._array.length&&(this._array.length=e)}},{key:"values",get:function(){return this._array}},{key:"get",value:function(e){return(0,Nu.h)(e<this._array.length),this._array[e]}},{key:"set",value:function(e,t){(0,Nu.h)(e>=0),e>=this.length&&(this.length=e+1),this._map.has(this._array[e])&&this._map.delete(this._array[e]),this._array[e]=t,this._map.set(t,e)}},{key:"delete",value:function(e){var t=this._map.get(e);t>=0&&(this._array.splice(t,1),this._map.delete(e),this.length--)}},{key:"peek",value:function(){return this._array[this._length-1]}},{key:"push",value:function(e){if(!this._map.has(e)){var t=this.length++;this._array[t]=e,this._map.set(e,t)}}},{key:"pop",value:function(){var e=this._array[--this.length];return this._map.delete(e),e}},{key:"reserve",value:function(e){(0,Nu.h)(e>=0),e>this._array.length&&(this._array.length=e)}},{key:"resize",value:function(e){(0,Nu.h)(e>=0),this.length=e}},{key:"trim",value:function(e){null!==e&&void 0!==e||(e=this.length),this._array.length=e}},{key:"reset",value:function(){this._array=[],this._map=new Map,this._length=0}},{key:"find",value:function(e){return this._map.has(e)}}]),e}(),Eh={loadSiblings:!1,skipLevelOfDetail:!1,maximumScreenSpaceError:2,updateTransforms:!0,onTraversalEnd:function(){},viewportTraversersMap:{},basePath:""},Sh=function(){function e(t){(0,ve.Z)(this,e),(0,Be.Z)(this,"options",void 0),(0,Be.Z)(this,"root",void 0),(0,Be.Z)(this,"requestedTiles",void 0),(0,Be.Z)(this,"selectedTiles",void 0),(0,Be.Z)(this,"emptyTiles",void 0),(0,Be.Z)(this,"lastUpdate",(new Date).getTime()),(0,Be.Z)(this,"updateDebounceTime",1e3),(0,Be.Z)(this,"_traversalStack",void 0),(0,Be.Z)(this,"_emptyTraversalStack",void 0),(0,Be.Z)(this,"_frameNumber",void 0),this.options=(0,Ce.Z)((0,Ce.Z)({},Eh),t),this._traversalStack=new Bh,this._emptyTraversalStack=new Bh,this._frameNumber=null,this.root=null,this.selectedTiles={},this.requestedTiles={},this.emptyTiles={}}return(0,ye.Z)(e,[{key:"traversalFinished",value:function(e){return!0}},{key:"traverse",value:function(e,t,n){this.root=e,this.options=(0,Ce.Z)((0,Ce.Z)({},this.options),n),this.reset(),this.updateTile(e,t),this._frameNumber=t.frameNumber,this.executeTraversal(e,t)}},{key:"reset",value:function(){this.requestedTiles={},this.selectedTiles={},this.emptyTiles={},this._traversalStack.reset(),this._emptyTraversalStack.reset()}},{key:"executeTraversal",value:function(e,t){var n=this._traversalStack;for(e._selectionDepth=1,n.push(e);n.length>0;){var r=n.pop(),i=!1;this.canTraverse(r,t)&&(this.updateChildTiles(r,t),i=this.updateAndPushChildren(r,t,n,r.hasRenderContent?r._selectionDepth+1:r._selectionDepth));var o=r.parent,a=Boolean(!o||o._shouldRefine),s=!i;r.hasRenderContent?r.refine===eh?(this.loadTile(r,t),this.selectTile(r,t)):r.refine===th&&(this.loadTile(r,t),s&&this.selectTile(r,t)):(this.emptyTiles[r.id]=r,this.loadTile(r,t),s&&this.selectTile(r,t)),this.touchTile(r,t),r._shouldRefine=i&&a}var u=(new Date).getTime();(this.traversalFinished(t)||u-this.lastUpdate>this.updateDebounceTime)&&(this.lastUpdate=u,this.options.onTraversalEnd(t))}},{key:"updateChildTiles",value:function(e,t){var n,r=e.children,i=(0,Ee.Z)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;this.updateTile(o,t)}}catch(a){i.e(a)}finally{i.f()}return!0}},{key:"updateAndPushChildren",value:function(e,t,n,r){var i=this.options,o=i.loadSiblings,a=i.skipLevelOfDetail,s=e.children;s.sort(this.compareDistanceToCamera.bind(this));var u,l=e.refine===th&&e.hasRenderContent&&!a,c=!1,A=!0,f=(0,Ee.Z)(s);try{for(f.s();!(u=f.n()).done;){var h=u.value;if(h._selectionDepth=r,h.isVisibleAndInRequestVolume?(n.find(h)&&n.delete(h),n.push(h),c=!0):(l||o)&&(this.loadTile(h,t),this.touchTile(h,t)),l){var p=void 0;if(p=!!h._inRequestVolume&&(h.hasRenderContent?h.contentAvailable:this.executeEmptyTraversal(h,t)),!(A=A&&p))return!1}}}catch(d){f.e(d)}finally{f.f()}return c||(A=!1),A}},{key:"updateTile",value:function(e,t){this.updateTileVisibility(e,t)}},{key:"selectTile",value:function(e,t){this.shouldSelectTile(e)&&(e._selectedFrame=t.frameNumber,this.selectedTiles[e.id]=e)}},{key:"loadTile",value:function(e,t){this.shouldLoadTile(e)&&(e._requestedFrame=t.frameNumber,e._priority=e._getPriority(),this.requestedTiles[e.id]=e)}},{key:"touchTile",value:function(e,t){e.tileset._cache.touch(e),e._touchedFrame=t.frameNumber}},{key:"canTraverse",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!e.hasChildren&&(e.hasTilesetContent?!e.contentExpired:!(!r&&!e.isVisibleAndInRequestVolume)&&this.shouldRefine(e,t,n))}},{key:"shouldLoadTile",value:function(e){return e.hasUnloadedContent||e.contentExpired}},{key:"shouldSelectTile",value:function(e){return e.contentAvailable&&!this.options.skipLevelOfDetail}},{key:"shouldRefine",value:function(e,t,n){var r=e._screenSpaceError;return n&&(r=e.getScreenSpaceError(t,!0)),r>this.options.maximumScreenSpaceError}},{key:"updateTileVisibility",value:function(e,t){var n=[];if(this.options.viewportTraversersMap)for(var r in this.options.viewportTraversersMap){this.options.viewportTraversersMap[r]===t.viewport.id&&n.push(r)}else n.push(t.viewport.id);e.updateVisibility(t,n)}},{key:"compareDistanceToCamera",value:function(e,t){return e._distanceToCamera-t._distanceToCamera}},{key:"anyChildrenVisible",value:function(e,t){var n,r=!1,i=(0,Ee.Z)(e.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.updateVisibility(t),r=r||o.isVisibleAndInRequestVolume}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"executeEmptyTraversal",value:function(e,t){var n=!0,r=this._emptyTraversalStack;for(r.push(e);r.length>0&&n;){var i=r.pop();if(this.updateTile(i,t),i.isVisibleAndInRequestVolume||this.loadTile(i,t),this.touchTile(i,t),!i.hasRenderContent&&this.canTraverse(i,t,!1,!0)){var o,a=i.children,s=(0,Ee.Z)(a);try{for(s.s();!(o=s.n()).done;){var u=o.value;r.find(u)&&r.delete(u),r.push(u)}}catch(l){s.e(l)}finally{s.f()}}else i.contentAvailable||(n=!1)}return n}}]),e}(),kh=new Gi.Z;var Oh=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";(0,ve.Z)(this,e),(0,Be.Z)(this,"tileset",void 0),(0,Be.Z)(this,"header",void 0),(0,Be.Z)(this,"id",void 0),(0,Be.Z)(this,"url",void 0),(0,Be.Z)(this,"parent",void 0),(0,Be.Z)(this,"refine",void 0),(0,Be.Z)(this,"type",void 0),(0,Be.Z)(this,"contentUrl",void 0),(0,Be.Z)(this,"lodMetricType",void 0),(0,Be.Z)(this,"lodMetricValue",void 0),(0,Be.Z)(this,"boundingVolume",void 0),(0,Be.Z)(this,"content",void 0),(0,Be.Z)(this,"contentState",void 0),(0,Be.Z)(this,"gpuMemoryUsageInBytes",void 0),(0,Be.Z)(this,"children",void 0),(0,Be.Z)(this,"depth",void 0),(0,Be.Z)(this,"viewportIds",void 0),(0,Be.Z)(this,"transform",void 0),(0,Be.Z)(this,"extensions",void 0),(0,Be.Z)(this,"userData",void 0),(0,Be.Z)(this,"computedTransform",void 0),(0,Be.Z)(this,"hasEmptyContent",void 0),(0,Be.Z)(this,"hasTilesetContent",void 0),(0,Be.Z)(this,"traverser",void 0),(0,Be.Z)(this,"_cacheNode",void 0),(0,Be.Z)(this,"_frameNumber",void 0),(0,Be.Z)(this,"_lodJudge",void 0),(0,Be.Z)(this,"_expireDate",void 0),(0,Be.Z)(this,"_expiredContent",void 0),(0,Be.Z)(this,"_shouldRefine",void 0),(0,Be.Z)(this,"_distanceToCamera",void 0),(0,Be.Z)(this,"_centerZDepth",void 0),(0,Be.Z)(this,"_screenSpaceError",void 0),(0,Be.Z)(this,"_visibilityPlaneMask",void 0),(0,Be.Z)(this,"_visible",void 0),(0,Be.Z)(this,"_inRequestVolume",void 0),(0,Be.Z)(this,"_stackLength",void 0),(0,Be.Z)(this,"_selectionDepth",void 0),(0,Be.Z)(this,"_touchedFrame",void 0),(0,Be.Z)(this,"_visitedFrame",void 0),(0,Be.Z)(this,"_selectedFrame",void 0),(0,Be.Z)(this,"_requestedFrame",void 0),(0,Be.Z)(this,"_priority",void 0),(0,Be.Z)(this,"_contentBoundingVolume",void 0),(0,Be.Z)(this,"_viewerRequestVolume",void 0),(0,Be.Z)(this,"_initialTransform",void 0),this.header=n,this.tileset=t,this.id=i||n.id,this.url=n.url,this.parent=r,this.refine=this._getRefine(n.refine),this.type=n.type,this.contentUrl=n.contentUrl,this.lodMetricType="geometricError",this.lodMetricValue=0,this.boundingVolume=null,this.content=null,this.contentState=qf,this.gpuMemoryUsageInBytes=0,this.children=[],this.hasEmptyContent=!1,this.hasTilesetContent=!1,this.depth=0,this.viewportIds=[],this.userData={},this.extensions=null,this._priority=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._screenSpaceError=0,this._cacheNode=null,this._frameNumber=null,this._cacheNode=null,this.traverser=new Sh({}),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._initialTransform=new ns.Z,this.transform=new ns.Z,this._initializeLodMetric(n),this._initializeTransforms(n),this._initializeBoundingVolumes(n),this._initializeContent(n),this._initializeRenderingState(n),this._lodJudge=null,this._expireDate=null,this._expiredContent=null,Object.seal(this)}return(0,ye.Z)(e,[{key:"destroy",value:function(){this.header=null}},{key:"isDestroyed",value:function(){return null===this.header}},{key:"selected",get:function(){return this._selectedFrame===this.tileset._frameNumber}},{key:"isVisible",get:function(){return this._visible}},{key:"isVisibleAndInRequestVolume",get:function(){return this._visible&&this._inRequestVolume}},{key:"hasRenderContent",get:function(){return!this.hasEmptyContent&&!this.hasTilesetContent}},{key:"hasChildren",get:function(){return this.children.length>0||this.header.children&&this.header.children.length>0}},{key:"contentReady",get:function(){return this.contentState===Yf||this.hasEmptyContent}},{key:"contentAvailable",get:function(){return Boolean(this.contentReady&&this.hasRenderContent||this._expiredContent&&!this.contentFailed)}},{key:"hasUnloadedContent",get:function(){return this.hasRenderContent&&this.contentUnloaded}},{key:"contentUnloaded",get:function(){return this.contentState===qf}},{key:"contentExpired",get:function(){return this.contentState===Jf}},{key:"contentFailed",get:function(){return this.contentState===$f}},{key:"getScreenSpaceError",value:function(e,t){switch(this.tileset.type){case ah:return Ch(this,e);case sh:return function(e,t,n){var r=e.tileset,i=e.parent&&e.parent.lodMetricValue||e.lodMetricValue,o=n?i:e.lodMetricValue;if(0===o)return 0;var a=Math.max(e._distanceToCamera,1e-7),s=t.height,u=t.sseDenominator,l=o*s*(r.options.viewDistanceScale||1)/(a*u);return l-gh(r,a)}(this,e,t);default:throw new Error("Unsupported tileset type")}}},{key:"unselect",value:function(){this._selectedFrame=0}},{key:"_getPriority",value:function(){var e=this.tileset._traverser,t=e.options.skipLevelOfDetail,n=this.refine===eh||t;if(n&&!this.isVisible&&void 0!==this._visible)return-1;if(this.tileset._frameNumber-this._touchedFrame>=1)return-1;if(this.contentState===qf)return-1;var r=this.parent,i=r&&(!n||0===this._screenSpaceError||r.hasTilesetContent)?r._screenSpaceError:this._screenSpaceError,o=e.root?e.root._screenSpaceError:0;return Math.max(o-i,0)}},{key:"loadContent",value:function(){var e=(0,ji.Z)((0,Ui.Z)().mark((function e(){var t,n,r,i;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasEmptyContent){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.content){e.next=4;break}return e.abrupt("return",!0);case 4:return this.contentExpired&&(this._expireDate=null),this.contentState=Xf,e.next=9,this.tileset._requestScheduler.scheduleRequest(this.id,this._getPriority.bind(this));case 9:if(t=e.sent){e.next=13;break}return this.contentState=qf,e.abrupt("return",!1);case 13:return e.prev=13,n=this.tileset.getTileUrl(this.contentUrl),r=this.tileset.loader,i=(0,Ce.Z)((0,Ce.Z)({},this.tileset.loadOptions),{},(0,ge.Z)({},r.id,(0,Ce.Z)((0,Ce.Z)({},this.tileset.loadOptions[r.id]),{},{isTileset:"json"===this.type},this._getLoaderSpecificOptions(r.id)))),e.next=19,(0,sf.z)(n,r,i);case 19:if(this.content=e.sent,!this.tileset.options.contentLoader){e.next=23;break}return e.next=23,this.tileset.options.contentLoader(this);case 23:return this._isTileset()&&this.tileset._initializeTileHeaders(this.content,this),this.contentState=Yf,this._onContentLoaded(),e.abrupt("return",!0);case 29:throw e.prev=29,e.t0=e.catch(13),this.contentState=$f,e.t0;case 33:return e.prev=33,t.done(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[13,29,33,36]])})));return function(){return e.apply(this,arguments)}}()},{key:"unloadContent",value:function(){return this.content&&this.content.destroy&&this.content.destroy(),this.content=null,this.header.content&&this.header.content.destroy&&this.header.content.destroy(),this.header.content=null,this.contentState=qf,!0}},{key:"updateVisibility",value:function(e,t){if(this._frameNumber!==e.frameNumber){var n=this.parent,r=n?n._visibilityPlaneMask:aa.MASK_INDETERMINATE;if(this.tileset._traverser.options.updateTransforms){var i=n?n.computedTransform:this.tileset.modelMatrix;this._updateTransform(i)}this._distanceToCamera=this.distanceToTile(e),this._screenSpaceError=this.getScreenSpaceError(e,!1),this._visibilityPlaneMask=this.visibility(e,r),this._visible=this._visibilityPlaneMask!==aa.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(e),this._frameNumber=e.frameNumber,this.viewportIds=t}}},{key:"visibility",value:function(e,t){var n=e.cullingVolume,r=this.boundingVolume;return n.computeVisibilityWithPlaneMask(r,t)}},{key:"contentVisibility",value:function(){return!0}},{key:"distanceToTile",value:function(e){var t=this.boundingVolume;return Math.sqrt(Math.max(t.distanceSquaredTo(e.camera.position),0))}},{key:"cameraSpaceZDepth",value:function(e){var t=e.camera,n=this.boundingVolume;return kh.subVectors(n.center,t.position),t.direction.dot(kh)}},{key:"insideViewerRequestVolume",value:function(e){var t=this._viewerRequestVolume;return!t||t.distanceSquaredTo(e.camera.position)<=0}},{key:"updateExpiration",value:function(){if(function(e){return void 0!==e&&null!==e}(this._expireDate)&&this.contentReady&&!this.hasEmptyContent){var e=Date.now();Date.lessThan(this._expireDate,e)&&(this.contentState=Jf,this._expiredContent=this.content)}}},{key:"extras",get:function(){return this.header.extras}},{key:"_initializeLodMetric",value:function(e){"lodMetricType"in e?this.lodMetricType=e.lodMetricType:(this.lodMetricType=this.parent&&this.parent.lodMetricType||this.tileset.lodMetricType,console.warn("3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType")),"lodMetricValue"in e?this.lodMetricValue=e.lodMetricValue:(this.lodMetricValue=this.parent&&this.parent.lodMetricValue||this.tileset.lodMetricValue,console.warn("3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue"))}},{key:"_initializeTransforms",value:function(e){this.transform=e.transform?new ns.Z(e.transform):new ns.Z;var t=this.parent,n=this.tileset,r=t&&t.computedTransform?t.computedTransform.clone():n.modelMatrix.clone();this.computedTransform=new ns.Z(r).multiplyRight(this.transform);var i=t&&t._initialTransform?t._initialTransform.clone():new ns.Z;this._initialTransform=new ns.Z(i).multiplyRight(this.transform)}},{key:"_initializeBoundingVolumes",value:function(e){this._contentBoundingVolume=null,this._viewerRequestVolume=null,this._updateBoundingVolume(e)}},{key:"_initializeContent",value:function(e){this.content={_tileset:this.tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=qf,this.hasTilesetContent=!1,e.contentUrl&&(this.content=null,this.hasEmptyContent=!1)}},{key:"_initializeRenderingState",value:function(e){this.depth=e.level||(this.parent?this.parent.depth+1:0),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=aa.MASK_INDETERMINATE,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._frameNumber=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._priority=0}},{key:"_getRefine",value:function(e){return e||this.parent&&this.parent.refine||th}},{key:"_isTileset",value:function(){return-1!==this.contentUrl.indexOf(".json")}},{key:"_onContentLoaded",value:function(){switch(this.content&&this.content.type){case"vctr":case"geom":this.tileset._traverser.disableSkipLevelOfDetail=!0}this._isTileset()&&(this.hasTilesetContent=!0)}},{key:"_updateBoundingVolume",value:function(e){this.boundingVolume=ph(e.boundingVolume,this.computedTransform,this.boundingVolume);var t=e.content;t&&(t.boundingVolume&&(this._contentBoundingVolume=ph(t.boundingVolume,this.computedTransform,this._contentBoundingVolume)),e.viewerRequestVolume&&(this._viewerRequestVolume=ph(e.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)))}},{key:"_updateTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ns.Z,t=e.clone().multiplyRight(this.transform),n=!t.equals(this.computedTransform);n&&(this.computedTransform=t,this._updateBoundingVolume(this.header))}},{key:"_getLoaderSpecificOptions",value:function(e){return"i3s"===e?(0,Ce.Z)((0,Ce.Z)({},this.tileset.options.i3s),{},{tile:this.header,tileset:this.tileset.tileset,isTileHeader:!1}):{assetGltfUpAxis:(t=this.tileset.tileset).asset&&t.asset.gltfUpAxis||"Y"};var t}}]),e}(),Th=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"compareDistanceToCamera",value:function(e,t){return 0===t._distanceToCamera&&0===e._distanceToCamera?t._centerZDepth-e._centerZDepth:t._distanceToCamera-e._distanceToCamera}},{key:"updateTileVisibility",value:function(e,t){if((0,be.Z)((0,_e.Z)(n.prototype),"updateTileVisibility",this).call(this,e,t),e.isVisibleAndInRequestVolume){var r=e.children.length>0;if(e.hasTilesetContent&&r){var i=e.children[0];return this.updateTileVisibility(i,t),void(e._visible=i._visible)}if(this.meetsScreenSpaceErrorEarly(e,t))e._visible=!1;else{var o=e.refine===th,a=e._optimChildrenWithinParent===lh;o&&a&&r&&!this.anyChildrenVisible(e,t)&&(e._visible=!1)}}}},{key:"meetsScreenSpaceErrorEarly",value:function(e,t){var n=e.parent;return!(!n||n.hasTilesetContent||n.refine!==eh)&&!this.shouldRefine(e,t,!0)}}]),n}(Sh),Ph=function(){function e(){(0,ve.Z)(this,e),(0,Be.Z)(this,"frameNumberMap",new Map)}return(0,ye.Z)(e,[{key:"register",value:function(e,t){var n=this.frameNumberMap.get(e)||new Map,r=n.get(t)||0;n.set(t,r+1),this.frameNumberMap.set(e,n)}},{key:"deregister",value:function(e,t){var n=this.frameNumberMap.get(e);if(n){var r=n.get(t)||1;n.set(t,r-1)}}},{key:"isZero",value:function(e,t){var n;return 0===((null===(n=this.frameNumberMap.get(e))||void 0===n?void 0:n.get(t))||0)}}]),e}(),Mh="REQUESTED",Fh="COMPLETED",Ih="ERROR",Lh=function(){function e(){(0,ve.Z)(this,e),(0,Be.Z)(this,"_statusMap",void 0),(0,Be.Z)(this,"pendingTilesRegister",new Ph),this._statusMap={}}return(0,ye.Z)(e,[{key:"add",value:function(e,t,n,r){var i=this;if(!this._statusMap[t]){var o=r.frameNumber,a=r.viewport.id;this._statusMap[t]={request:e,callback:n,key:t,frameState:r,status:Mh},this.pendingTilesRegister.register(a,o),e().then((function(e){i._statusMap[t].status=Fh;var n=i._statusMap[t].frameState,o=n.frameNumber,a=n.viewport.id;i.pendingTilesRegister.deregister(a,o),i._statusMap[t].callback(e,r)})).catch((function(e){i._statusMap[t].status=Ih;var r=i._statusMap[t].frameState,o=r.frameNumber,a=r.viewport.id;i.pendingTilesRegister.deregister(a,o),n(e)}))}}},{key:"update",value:function(e,t){if(this._statusMap[e]){var n=this._statusMap[e].frameState,r=n.frameNumber,i=n.viewport.id;this.pendingTilesRegister.deregister(i,r);var o=t.frameNumber,a=t.viewport.id;this.pendingTilesRegister.register(a,o),this._statusMap[e].frameState=t}}},{key:"find",value:function(e){return this._statusMap[e]}},{key:"hasPendingTiles",value:function(e,t){return!this.pendingTilesRegister.isZero(e,t)}}]),e}(),Rh=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(e){var r;return(0,ve.Z)(this,n),r=t.call(this,e),(0,Be.Z)((0,me.Z)(r),"_tileManager",void 0),r._tileManager=new Lh,r}return(0,ye.Z)(n,[{key:"traversalFinished",value:function(e){return!this._tileManager.hasPendingTiles(e.viewport.id,this._frameNumber||0)}},{key:"shouldRefine",value:function(e,t){return e._lodJudge=function(e,t){if(0===e.lodMetricValue||isNaN(e.lodMetricValue))return"DIG";var n=2*Ch(e,t);return n<2?"OUT":!e.header.children||n<=e.lodMetricValue?"DRAW":e.header.children?"DIG":"OUT"}(e,t),"DIG"===e._lodJudge}},{key:"updateChildTiles",value:function(e,t){var n,r=this,i=e.header.children||[],o=e.children,a=e.tileset,s=(0,Ee.Z)(i);try{var u=function(){var i=n.value,s="".concat(i.id,"-").concat(t.viewport.id),u=o&&o.find((function(e){return e.id===s}));if(u)u&&r.updateTile(u,t);else{var l=function(){return r._loadTile(i.id,a)};r._tileManager.find(s)?r._tileManager.update(s,t):(a.tileset.nodePages&&(l=function(){return a.tileset.nodePagesTile.formTileFromNodePages(i.id)}),r._tileManager.add(l,s,(function(t){return r._onTileLoad(t,e,s)}),t))}};for(s.s();!(n=s.n()).done;)u()}catch(l){s.e(l)}finally{s.f()}return!1}},{key:"_loadTile",value:function(){var e=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n){var r,i,o;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.loader,i=n.getTileUrl("".concat(n.url,"/nodes/").concat(t)),o=(0,Ce.Z)((0,Ce.Z)({},n.loadOptions),{},{i3s:(0,Ce.Z)((0,Ce.Z)({},n.loadOptions.i3s),{},{isTileHeader:!0,loadContent:!1})}),e.next=5,(0,sf.z)(i,r,o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_onTileLoad",value:function(e,t,n){var r=new Oh(t.tileset,e,t,n);t.children.push(r);var i=this._tileManager.find(r.id).frameState;this.updateTile(r,i),this._frameNumber===i.frameNumber&&(this.traversalFinished(i)||(new Date).getTime()-this.lastUpdate>this.updateDebounceTime)&&this.executeTraversal(r,i)}}]),n}(Sh),Dh={description:"",ellipsoid:Ff.WGS84,modelMatrix:new ns.Z,throttleRequests:!0,maxRequests:64,maximumMemoryUsage:32,maximumTilesSelected:0,debounceTime:0,onTileLoad:function(){},onTileUnload:function(){},onTileError:function(){},onTraversalComplete:function(e){return e},contentLoader:void 0,viewDistanceScale:1,maximumScreenSpaceError:8,loadTiles:!0,updateTransforms:!0,viewportTraversersMap:null,loadOptions:{fetch:{}},attributions:[],basePath:"",i3s:{}},Zh="Tiles In Tileset(s)",Uh="Tiles In Memory",jh="Tiles In View",Nh="Tiles To Render",zh="Tiles Loaded",Qh="Tiles Loading",Hh="Tiles Unloaded",Vh="Failed Tile Loads",Gh="Points/Vertices",Wh="Tile Memory Use",Kh=function(){function e(t,n){(0,ve.Z)(this,e),(0,Be.Z)(this,"options",void 0),(0,Be.Z)(this,"loadOptions",void 0),(0,Be.Z)(this,"type",void 0),(0,Be.Z)(this,"tileset",void 0),(0,Be.Z)(this,"loader",void 0),(0,Be.Z)(this,"url",void 0),(0,Be.Z)(this,"basePath",void 0),(0,Be.Z)(this,"modelMatrix",void 0),(0,Be.Z)(this,"ellipsoid",void 0),(0,Be.Z)(this,"lodMetricType",void 0),(0,Be.Z)(this,"lodMetricValue",void 0),(0,Be.Z)(this,"refine",void 0),(0,Be.Z)(this,"root",void 0),(0,Be.Z)(this,"roots",void 0),(0,Be.Z)(this,"asset",void 0),(0,Be.Z)(this,"description",void 0),(0,Be.Z)(this,"properties",void 0),(0,Be.Z)(this,"extras",void 0),(0,Be.Z)(this,"attributions",void 0),(0,Be.Z)(this,"credits",void 0),(0,Be.Z)(this,"stats",void 0),(0,Be.Z)(this,"traverseCounter",void 0),(0,Be.Z)(this,"geometricError",void 0),(0,Be.Z)(this,"selectedTiles",void 0),(0,Be.Z)(this,"updatePromise",null),(0,Be.Z)(this,"tilesetInitializationPromise",void 0),(0,Be.Z)(this,"cartographicCenter",void 0),(0,Be.Z)(this,"cartesianCenter",void 0),(0,Be.Z)(this,"zoom",void 0),(0,Be.Z)(this,"boundingVolume",void 0),(0,Be.Z)(this,"gpuMemoryUsageInBytes",void 0),(0,Be.Z)(this,"dynamicScreenSpaceErrorComputedDensity",void 0),(0,Be.Z)(this,"_traverser",void 0),(0,Be.Z)(this,"_cache",void 0),(0,Be.Z)(this,"_requestScheduler",void 0),(0,Be.Z)(this,"_frameNumber",void 0),(0,Be.Z)(this,"_queryParamsString",void 0),(0,Be.Z)(this,"_queryParams",void 0),(0,Be.Z)(this,"_extensionsUsed",void 0),(0,Be.Z)(this,"_tiles",void 0),(0,Be.Z)(this,"_pendingCount",void 0),(0,Be.Z)(this,"lastUpdatedVieports",void 0),(0,Be.Z)(this,"_requestedTiles",void 0),(0,Be.Z)(this,"_emptyTiles",void 0),(0,Be.Z)(this,"frameStateData",void 0),(0,Be.Z)(this,"maximumMemoryUsage",void 0),(0,Nu.h)(t),this.options=(0,Ce.Z)((0,Ce.Z)({},Dh),n),this.tileset=t,this.loader=t.loader,this.type=t.type,this.url=t.url,this.basePath=t.basePath||If.XX(this.url),this.modelMatrix=this.options.modelMatrix,this.ellipsoid=this.options.ellipsoid,this.lodMetricType=t.lodMetricType,this.lodMetricValue=t.lodMetricValue,this.refine=t.root.refine,this.loadOptions=this.options.loadOptions||{},this.root=null,this.roots={},this.cartographicCenter=null,this.cartesianCenter=null,this.zoom=1,this.boundingVolume=null,this.traverseCounter=0,this.geometricError=0,this._traverser=this._initializeTraverser(),this._cache=new Zf,this._requestScheduler=new ts({throttleRequests:this.options.throttleRequests,maxRequests:this.options.maxRequests}),this._frameNumber=0,this._pendingCount=0,this._tiles={},this.selectedTiles=[],this._emptyTiles=[],this._requestedTiles=[],this.frameStateData={},this.lastUpdatedVieports=null,this._queryParams={},this._queryParamsString="",this.maximumMemoryUsage=this.options.maximumMemoryUsage||32,this.gpuMemoryUsageInBytes=0,this.stats=new Ka.Z({id:this.url}),this._initializeStats(),this._extensionsUsed=void 0,this.dynamicScreenSpaceErrorComputedDensity=0,this.extras=null,this.asset={},this.credits={},this.description=this.options.description||"",this.tilesetInitializationPromise=this._initializeTileSet(t)}return(0,ye.Z)(e,[{key:"destroy",value:function(){this._destroy()}},{key:"isLoaded",value:function(){return 0===this._pendingCount&&0!==this._frameNumber&&0===this._requestedTiles.length}},{key:"tiles",get:function(){return Object.values(this._tiles)}},{key:"frameNumber",get:function(){return this._frameNumber}},{key:"queryParams",get:function(){return this._queryParamsString||(this._queryParamsString=function(e){for(var t=[],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t.push("".concat(i,"=").concat(e[i]))}switch(t.length){case 0:return"";case 1:return"?".concat(t[0]);default:return"?".concat(t.join("&"))}}(this._queryParams)),this._queryParamsString}},{key:"setProps",value:function(e){this.options=(0,Ce.Z)((0,Ce.Z)({},this.options),e)}},{key:"setOptions",value:function(e){this.options=(0,Ce.Z)((0,Ce.Z)({},this.options),e)}},{key:"getTileUrl",value:function(e){return e.startsWith("data:")?e:"".concat(e).concat(this.queryParams)}},{key:"hasExtension",value:function(e){return Boolean(this._extensionsUsed&&this._extensionsUsed.indexOf(e)>-1)}},{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.tilesetInitializationPromise.then((function(){!t&&e.lastUpdatedVieports?t=e.lastUpdatedVieports:e.lastUpdatedVieports=t,t&&e.doUpdate(t)}))}},{key:"selectTiles",value:function(){var e=(0,ji.Z)((0,Ui.Z)().mark((function e(){var t,n=this,r=arguments;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,e.next=3,this.tilesetInitializationPromise;case 3:return t&&(this.lastUpdatedVieports=t),this.updatePromise||(this.updatePromise=new Promise((function(e){setTimeout((function(){n.lastUpdatedVieports&&n.doUpdate(n.lastUpdatedVieports),e(n._frameNumber),n.updatePromise=null}),n.options.debounceTime)}))),e.abrupt("return",this.updatePromise);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"doUpdate",value:function(e){if((!("loadTiles"in this.options)||this.options.loadTiles)&&!(this.traverseCounter>0)){var t=e instanceof Array?e:[e];this._cache.reset(),this._frameNumber++,this.traverseCounter=t.length;var n,r=[],i=(0,Ee.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value.id;this._needTraverse(o)?r.push(o):this.traverseCounter--}}catch(A){i.e(A)}finally{i.f()}var a,s=(0,Ee.Z)(t);try{for(s.s();!(a=s.n()).done;){var u=a.value,l=u.id;if(this.roots[l]||(this.roots[l]=this._initializeTileHeaders(this.tileset,null)),r.includes(l)){var c=zf(u,this._frameNumber);this._traverser.traverse(this.roots[l],c,this.options)}}}catch(A){s.e(A)}finally{s.f()}}}},{key:"_needTraverse",value:function(e){var t=e;return this.options.viewportTraversersMap&&(t=this.options.viewportTraversersMap[e]),t===e}},{key:"_onTraversalEnd",value:function(e){var t=e.viewport.id;this.frameStateData[t]||(this.frameStateData[t]={selectedTiles:[],_requestedTiles:[],_emptyTiles:[]});var n=this.frameStateData[t],r=function(e,t,n){if(0===n||e.length<=n)return[e,[]];var r,i=[],o=t.viewport,a=o.longitude,s=o.latitude,u=(0,Ee.Z)(e.entries());try{for(u.s();!(r=u.n()).done;){var l=(0,mt.Z)(r.value,2),c=l[0],A=l[1],f=(0,mt.Z)(A.header.mbs,2),h=f[0],p=f[1],d=Math.abs(a-h),g=Math.abs(s-p),v=Math.sqrt(g*g+d*d);i.push([c,v])}}catch(x){u.e(x)}finally{u.f()}for(var y=i.sort((function(e,t){return e[1]-t[1]})),m=[],b=0;b<n;b++)m.push(e[y[b][0]]);for(var _=[],w=n;w<y.length;w++)_.push(e[y[w][0]]);return[m,_]}(Object.values(this._traverser.selectedTiles),e,this.options.maximumTilesSelected),i=(0,mt.Z)(r,2),o=i[0],a=i[1];n.selectedTiles=o;var s,u=(0,Ee.Z)(a);try{for(u.s();!(s=u.n()).done;){s.value.unselect()}}catch(l){u.e(l)}finally{u.f()}n._requestedTiles=Object.values(this._traverser.requestedTiles),n._emptyTiles=Object.values(this._traverser.emptyTiles),this.traverseCounter--,this.traverseCounter>0||this._updateTiles()}},{key:"_updateTiles",value:function(){for(var e in this.selectedTiles=[],this._requestedTiles=[],this._emptyTiles=[],this.frameStateData){var t=this.frameStateData[e];this.selectedTiles=this.selectedTiles.concat(t.selectedTiles),this._requestedTiles=this._requestedTiles.concat(t._requestedTiles),this._emptyTiles=this._emptyTiles.concat(t._emptyTiles)}this.selectedTiles=this.options.onTraversalComplete(this.selectedTiles);var n,r=(0,Ee.Z)(this.selectedTiles);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._tiles[i.id]=i}}catch(o){r.e(o)}finally{r.f()}this._loadTiles(),this._unloadTiles(),this._updateStats()}},{key:"_tilesChanged",value:function(e,t){if(e.length!==t.length)return!0;var n=new Set(e.map((function(e){return e.id}))),r=new Set(t.map((function(e){return e.id}))),i=e.filter((function(e){return!r.has(e.id)})).length>0;return i=i||t.filter((function(e){return!n.has(e.id)})).length>0,i}},{key:"_loadTiles",value:function(){var e,t=(0,Ee.Z)(this._requestedTiles);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.contentUnloaded&&this._loadTile(n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"_unloadTiles",value:function(){this._cache.unloadTiles(this,(function(e,t){return e._unloadTile(t)}))}},{key:"_updateStats",value:function(){var e,t=0,n=0,r=(0,Ee.Z)(this.selectedTiles);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.contentAvailable&&i.content&&(t++,i.content.pointCount?n+=i.content.pointCount:n+=i.content.vertexCount)}}catch(o){r.e(o)}finally{r.f()}this.stats.get(jh).count=this.selectedTiles.length,this.stats.get(Nh).count=t,this.stats.get(Gh).count=n}},{key:"_initializeTileSet",value:function(){var e=(0,ji.Z)((0,Ui.Z)().mark((function e(t){return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.type!==ah){e.next=5;break}return this.calculateViewPropsI3S(),e.next=4,t.root;case 4:t.root=e.sent;case 5:this.root=this._initializeTileHeaders(t,null),this.type===sh&&(this._initializeTiles3DTileset(t),this.calculateViewPropsTiles3D()),this.type===ah&&this._initializeI3STileset();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"calculateViewPropsI3S",value:function(){var e,t=this.tileset.fullExtent;if(t){var n=t.xmin,r=t.xmax,i=t.ymin,o=t.ymax,a=t.zmin,s=t.zmax;return this.cartographicCenter=new Gi.Z(n+(r-n)/2,i+(o-i)/2,a+(s-a)/2),this.cartesianCenter=Ff.WGS84.cartographicToCartesian(this.cartographicCenter,new Gi.Z),void(this.zoom=Kf(t,this.cartographicCenter,this.cartesianCenter))}var u=null===(e=this.tileset.store)||void 0===e?void 0:e.extent;if(u){var l=(0,mt.Z)(u,4),c=l[0],A=l[1],f=l[2],h=l[3];return this.cartographicCenter=new Gi.Z(c+(f-c)/2,A+(h-A)/2,0),this.cartesianCenter=Ff.WGS84.cartographicToCartesian(this.cartographicCenter,new Gi.Z),void(this.zoom=function(e,t,n){var r=(0,mt.Z)(e,4),i=r[0],o=r[1];return Kf({xmin:i,xmax:r[2],ymin:o,ymax:r[3],zmin:0,zmax:0},t,n)}(u,this.cartographicCenter,this.cartesianCenter))}console.warn("Extent is not defined in the tileset header"),this.cartographicCenter=new Gi.Z,this.zoom=1}},{key:"calculateViewPropsTiles3D",value:function(){var e=this.root;(0,Nu.h)(e);var t=e.boundingVolume.center;if(!t)return console.warn("center was not pre-calculated for the root tile"),this.cartographicCenter=new Gi.Z,void(this.zoom=1);0!==t[0]||0!==t[1]||0!==t[2]?this.cartographicCenter=Ff.WGS84.cartesianToCartographic(t,new Gi.Z):this.cartographicCenter=new Gi.Z(0,0,-Ff.WGS84.radii[0]),this.cartesianCenter=t,this.zoom=Wf(e.boundingVolume,this.cartographicCenter)}},{key:"_initializeStats",value:function(){this.stats.get(Zh),this.stats.get(Qh),this.stats.get(Uh),this.stats.get(jh),this.stats.get(Nh),this.stats.get(zh),this.stats.get(Hh),this.stats.get(Vh),this.stats.get(Gh,"memory"),this.stats.get(Wh,"memory")}},{key:"_initializeTileHeaders",value:function(e,t){var n=new Oh(this,e.root,t);if(t&&(t.children.push(n),n.depth=t.depth+1),this.type===sh){var r=[];for(r.push(n);r.length>0;){var i=r.pop();this.stats.get(Zh).incrementCount();var o,a=i.header.children||[],s=(0,Ee.Z)(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=new Oh(this,u,i);i.children.push(l),l.depth=i.depth+1,r.push(l)}}catch(c){s.e(c)}finally{s.f()}}}return n}},{key:"_initializeTraverser",value:function(){var e;switch(this.type){case sh:e=Th;break;case ah:e=Rh;break;default:e=Sh}return new e({basePath:this.basePath,onTraversalEnd:this._onTraversalEnd.bind(this)})}},{key:"_destroyTileHeaders",value:function(e){this._destroySubtree(e)}},{key:"_loadTile",value:function(){var e=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._onStartTileLoading(),e.next=4,t.loadContent();case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this._onTileLoadError(t,e.t0);case 10:return e.prev=10,this._onEndTileLoading(),this._onTileLoad(t,n),e.finish(10);case 14:case"end":return e.stop()}}),e,this,[[0,7,10,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_onTileLoadError",value:function(e,t){this.stats.get(Vh).incrementCount();var n=t.message||t.toString(),r=e.url;console.error("A 3D tile failed to load: ".concat(e.url," ").concat(n)),this.options.onTileError(e,n,r)}},{key:"_onTileLoad",value:function(e,t){if(t){if(this.type===ah){var n,r,i=(null===(n=this.tileset)||void 0===n||null===(r=n.nodePagesTile)||void 0===r?void 0:r.nodesInNodePages)||0;this.stats.get(Zh).reset(),this.stats.get(Zh).addCount(i)}e&&e.content&&function(e,t){(0,Nu.h)(e),(0,Nu.h)(t);var n=t.rtcCenter,r=t.gltfUpAxis,i=e.computedTransform,o=e.boundingVolume.center,a=new ns.Z(i);switch(n&&a.translate(n),r){case"Z":default:break;case"Y":var s=(new ns.Z).rotateX(Math.PI/2);a=a.multiplyRight(s);break;case"X":var u=(new ns.Z).rotateY(-Math.PI/2);a=a.multiplyRight(u)}t.isQuantized&&a.translate(t.quantizedVolumeOffset).scale(t.quantizedVolumeScale);var l=new Gi.Z(o);t.cartesianModelMatrix=a,t.cartesianOrigin=l;var c=Ff.WGS84.cartesianToCartographic(l,new Gi.Z),A=Ff.WGS84.eastNorthUpToFixedFrame(l).invert();t.cartographicModelMatrix=A.multiplyRight(a),t.cartographicOrigin=c,t.coordinateSystem||(t.modelMatrix=t.cartographicModelMatrix)}(e,e.content),this._addTileToCache(e),this.options.onTileLoad(e)}}},{key:"_onStartTileLoading",value:function(){this._pendingCount++,this.stats.get(Qh).incrementCount()}},{key:"_onEndTileLoading",value:function(){this._pendingCount--,this.stats.get(Qh).decrementCount()}},{key:"_addTileToCache",value:function(e){this._cache.add(this,e,(function(t){return t._updateCacheStats(e)}))}},{key:"_updateCacheStats",value:function(e){this.stats.get(zh).incrementCount(),this.stats.get(Uh).incrementCount(),this.gpuMemoryUsageInBytes+=e.content.byteLength||0,this.stats.get(Wh).count=this.gpuMemoryUsageInBytes}},{key:"_unloadTile",value:function(e){this.gpuMemoryUsageInBytes-=e.content&&e.content.byteLength||0,this.stats.get(Uh).decrementCount(),this.stats.get(Hh).incrementCount(),this.stats.get(Wh).count=this.gpuMemoryUsageInBytes,this.options.onTileUnload(e),e.unloadContent()}},{key:"_destroy",value:function(){var e=[];for(this.root&&e.push(this.root);e.length>0;){var t,n=e.pop(),r=(0,Ee.Z)(n.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.push(i)}}catch(o){r.e(o)}finally{r.f()}this._destroyTile(n)}this.root=null}},{key:"_destroySubtree",value:function(e){var t=e,n=[];for(n.push(t);n.length>0;){e=n.pop();var r,i=(0,Ee.Z)(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.push(o)}}catch(a){i.e(a)}finally{i.f()}e!==t&&this._destroyTile(e)}t.children=[]}},{key:"_destroyTile",value:function(e){this._cache.unloadTile(this,e),this._unloadTile(e),e.destroy()}},{key:"_initializeTiles3DTileset",value:function(e){if(this.asset=e.asset,!this.asset)throw new Error("Tileset must have an asset property.");if("0.0"!==this.asset.version&&"1.0"!==this.asset.version)throw new Error("The tileset must be 3D Tiles version 0.0 or 1.0.");"tilesetVersion"in this.asset&&(this._queryParams.v=this.asset.tilesetVersion),this.credits={attributions:this.options.attributions||[]},this.description=this.options.description||"",this.properties=e.properties,this.geometricError=e.geometricError,this._extensionsUsed=e.extensionsUsed,this.extras=e.extras}},{key:"_initializeI3STileset",value:function(){this.loadOptions.i3s&&"token"in this.loadOptions.i3s&&(this._queryParams.token=this.loadOptions.i3s.token)}}]),e}();var qh="3.2.9",Xh={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GEOMETRY:"geom",VECTOR:"vect",GLTF:"glTF"};Object.keys(Xh);function Yh(e,t,n){(0,Nu.h)(e instanceof ArrayBuffer);var r=new TextDecoder("utf8"),i=new Uint8Array(e,t,n);return r.decode(i)}function Jh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new DataView(e);return"".concat(String.fromCharCode(n.getUint8(t+0))).concat(String.fromCharCode(n.getUint8(t+1))).concat(String.fromCharCode(n.getUint8(t+2))).concat(String.fromCharCode(n.getUint8(t+3)))}var $h,ep={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},tp=(0,Ce.Z)((0,Ce.Z)({},{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6}),ep),np=($h={},(0,ge.Z)($h,ep.DOUBLE,Float64Array),(0,ge.Z)($h,ep.FLOAT,Float32Array),(0,ge.Z)($h,ep.UNSIGNED_SHORT,Uint16Array),(0,ge.Z)($h,ep.UNSIGNED_INT,Uint32Array),(0,ge.Z)($h,ep.UNSIGNED_BYTE,Uint8Array),(0,ge.Z)($h,ep.BYTE,Int8Array),(0,ge.Z)($h,ep.SHORT,Int16Array),(0,ge.Z)($h,ep.INT,Int32Array),$h),rp={DOUBLE:ep.DOUBLE,FLOAT:ep.FLOAT,UNSIGNED_SHORT:ep.UNSIGNED_SHORT,UNSIGNED_INT:ep.UNSIGNED_INT,UNSIGNED_BYTE:ep.UNSIGNED_BYTE,BYTE:ep.BYTE,SHORT:ep.SHORT,INT:ep.INT},ip="Failed to convert GL type",op=function(){function e(){(0,ve.Z)(this,e)}return(0,ye.Z)(e,null,[{key:"fromTypedArray",value:function(e){for(var t in e=ArrayBuffer.isView(e)?e.constructor:e,np){if(np[t]===e)return t}throw new Error(ip)}},{key:"fromName",value:function(e){var t=rp[e];if(!t)throw new Error(ip);return t}},{key:"getArrayType",value:function(e){switch(e){case ep.UNSIGNED_SHORT_5_6_5:case ep.UNSIGNED_SHORT_4_4_4_4:case ep.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:var t=np[e];if(!t)throw new Error(ip);return t}}},{key:"getByteSize",value:function(t){return e.getArrayType(t).BYTES_PER_ELEMENT}},{key:"validate",value:function(t){return Boolean(e.getArrayType(t))}},{key:"createTypedArray",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;void 0===i&&(i=(n.byteLength-r)/e.getByteSize(t));var o=e.getArrayType(t);return new o(n,r,i)}}]),e}(),ap=function(){function e(t,n){(0,ve.Z)(this,e),(0,Be.Z)(this,"json",void 0),(0,Be.Z)(this,"buffer",void 0),(0,Be.Z)(this,"featuresLength",0),(0,Be.Z)(this,"_cachedTypedArrays",{}),this.json=t,this.buffer=n}return(0,ye.Z)(e,[{key:"getExtension",value:function(e){return this.json.extensions&&this.json.extensions[e]}},{key:"hasProperty",value:function(e){return Boolean(this.json[e])}},{key:"getGlobalProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tp.UNSIGNED_INT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.json[e];return r&&Number.isFinite(r.byteOffset)?this._getTypedArrayFromBinary(e,t,n,1,r.byteOffset):r}},{key:"getPropertyArray",value:function(e,t,n){var r=this.json[e];return r&&Number.isFinite(r.byteOffset)?("componentType"in r&&(t=op.fromName(r.componentType)),this._getTypedArrayFromBinary(e,t,n,this.featuresLength,r.byteOffset)):this._getTypedArrayFromArray(e,t,r)}},{key:"getProperty",value:function(e,t,n,r,i){var o=this.json[e];if(!o)return o;var a=this.getPropertyArray(e,t,n);if(1===n)return a[r];for(var s=0;s<n;++s)i[s]=a[n*r+s];return i}},{key:"_getTypedArrayFromBinary",value:function(e,t,n,r,i){var o=this._cachedTypedArrays,a=o[e];return a||(a=op.createTypedArray(t,this.buffer.buffer,this.buffer.byteOffset+i,r*n),o[e]=a),a}},{key:"_getTypedArrayFromArray",value:function(e,t,n){var r=this._cachedTypedArrays,i=r[e];return i||(i=op.createTypedArray(t,n),r[e]=i),i}}]),e}(),sp={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},up={SCALAR:function(e,t){return e[t]},VEC2:function(e,t){return[e[2*t+0],e[2*t+1]]},VEC3:function(e,t){return[e[3*t+0],e[3*t+1],e[3*t+2]]},VEC4:function(e,t){return[e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]]},MAT2:function(e,t){return[e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]]},MAT3:function(e,t){return[e[9*t+0],e[9*t+1],e[9*t+2],e[9*t+3],e[9*t+4],e[9*t+5],e[9*t+6],e[9*t+7],e[9*t+8]]},MAT4:function(e,t){return[e[16*t+0],e[16*t+1],e[16*t+2],e[16*t+3],e[16*t+4],e[16*t+5],e[16*t+6],e[16*t+7],e[16*t+8],e[16*t+9],e[16*t+10],e[16*t+11],e[16*t+12],e[16*t+13],e[16*t+14],e[16*t+15]]}},lp={SCALAR:function(e,t,n){t[n]=e},VEC2:function(e,t,n){t[2*n+0]=e[0],t[2*n+1]=e[1]},VEC3:function(e,t,n){t[3*n+0]=e[0],t[3*n+1]=e[1],t[3*n+2]=e[2]},VEC4:function(e,t,n){t[4*n+0]=e[0],t[4*n+1]=e[1],t[4*n+2]=e[2],t[4*n+3]=e[3]},MAT2:function(e,t,n){t[4*n+0]=e[0],t[4*n+1]=e[1],t[4*n+2]=e[2],t[4*n+3]=e[3]},MAT3:function(e,t,n){t[9*n+0]=e[0],t[9*n+1]=e[1],t[9*n+2]=e[2],t[9*n+3]=e[3],t[9*n+4]=e[4],t[9*n+5]=e[5],t[9*n+6]=e[6],t[9*n+7]=e[7],t[9*n+8]=e[8],t[9*n+9]=e[9]},MAT4:function(e,t,n){t[16*n+0]=e[0],t[16*n+1]=e[1],t[16*n+2]=e[2],t[16*n+3]=e[3],t[16*n+4]=e[4],t[16*n+5]=e[5],t[16*n+6]=e[6],t[16*n+7]=e[7],t[16*n+8]=e[8],t[16*n+9]=e[9],t[16*n+10]=e[10],t[16*n+11]=e[11],t[16*n+12]=e[12],t[16*n+13]=e[13],t[16*n+14]=e[14],t[16*n+15]=e[15]}};var cp=function(e){return void 0!==e};function Ap(e,t,n){if(!t)return null;var r=e.getExtension("3DTILES_batch_table_hierarchy"),i=t.HIERARCHY;return i&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),t.extensions=t.extensions||{},t.extensions["3DTILES_batch_table_hierarchy"]=i,r=i),r?function(e,t){var n,r,i,o=e.instancesLength,a=e.classes,s=e.classIds,u=e.parentCounts,l=e.parentIds,c=o;cp(s.byteOffset)&&(s.componentType=defaultValue(s.componentType,GL.UNSIGNED_SHORT),s.type=AttributeType.SCALAR,s=getBinaryAccessor(s).createArrayBufferView(t.buffer,t.byteOffset+s.byteOffset,o));if(cp(u))for(cp(u.byteOffset)&&(u.componentType=defaultValue(u.componentType,GL.UNSIGNED_SHORT),u.type=AttributeType.SCALAR,u=getBinaryAccessor(u).createArrayBufferView(t.buffer,t.byteOffset+u.byteOffset,o)),i=new Uint16Array(o),c=0,n=0;n<o;++n)i[n]=c,c+=u[n];cp(l)&&cp(l.byteOffset)&&(l.componentType=defaultValue(l.componentType,GL.UNSIGNED_SHORT),l.type=AttributeType.SCALAR,l=getBinaryAccessor(l).createArrayBufferView(t.buffer,t.byteOffset+l.byteOffset,c));var A=a.length;for(n=0;n<A;++n){var f=a[n].length,h=a[n].instances,p=getBinaryProperties(f,h,t);a[n].instances=combine(p,h)}var d=new Array(A).fill(0),g=new Uint16Array(o);for(n=0;n<o;++n)r=s[n],g[n]=d[r],++d[r];var v={classes:a,classIds:s,classIndexes:g,parentCounts:u,parentIndexes:i,parentIds:l};return function(e){for(var t=e.classIds.length,n=0;n<t;++n)hp(e,n,stack)}(v),v}(r,n):null}function fp(e,t,n){if(e){var r=e.parentCounts;return e.parentIds?n(e,t):r>0?function(e,t,n){var r=e.classIds,i=e.parentCounts,o=e.parentIds,a=e.parentIndexes,s=r.length,u=scratchVisited;u.length=Math.max(u.length,s);var l=++marker,c=scratchStack;c.length=0,c.push(t);for(;c.length>0;)if(u[t=c.pop()]!==l){u[t]=l;var A=n(e,t);if(cp(A))return A;for(var f=i[t],h=a[t],p=0;p<f;++p){var d=o[h+p];d!==t&&c.push(d)}}return null}(e,t,n):function(e,t,n){var r=!0;for(;r;){var i=n(e,t);if(cp(i))return i;var o=e.parentIds[t];r=o!==t,t=o}throw new Error("traverseHierarchySingleParent")}(e,t,n)}}function hp(e,t,n){var r=e.parentCounts,i=e.parentIds,o=e.parentIndexes,a=e.classIds.length;if(cp(i)){assert(t<a,"Parent index ".concat(t," exceeds the total number of instances: ").concat(a)),assert(-1===n.indexOf(t),"Circular dependency detected in the batch table hierarchy."),n.push(t);for(var s=cp(r)?r[t]:1,u=cp(r)?o[t]:t,l=0;l<s;++l){var c=i[u+l];c!==t&&hp(e,c,n)}n.pop(t)}}function pp(e){return void 0!==e&&null!==e}var dp=function(e,t){return e},gp={HIERARCHY:!0,extensions:!0,extras:!0},vp=function(){function e(t,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(var a in(0,ve.Z)(this,e),(0,Be.Z)(this,"json",void 0),(0,Be.Z)(this,"binary",void 0),(0,Be.Z)(this,"featureCount",void 0),(0,Be.Z)(this,"_extensions",void 0),(0,Be.Z)(this,"_properties",void 0),(0,Be.Z)(this,"_binaryProperties",void 0),(0,Be.Z)(this,"_hierarchy",void 0),(0,Nu.h)(r>=0),this.json=t||{},this.binary=n,this.featureCount=r,this._extensions=(null===(i=this.json)||void 0===i?void 0:i.extensions)||{},this._properties={},this.json)gp[a]||(this._properties[a]=this.json[a]);this._binaryProperties=this._initializeBinaryProperties(),o["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=Ap(this,this.json,this.binary))}return(0,ye.Z)(e,[{key:"getExtension",value:function(e){return this.json&&this.json.extensions&&this.json.extensions[e]}},{key:"memorySizeInBytes",value:function(){return 0}},{key:"isClass",value:function(e,t){return this._checkBatchId(e),(0,Nu.h)("string"===typeof t,t),!!this._hierarchy&&pp(fp(this._hierarchy,e,(function(e,n){var r=e.classIds[n];return e.classes[r].name===t})))}},{key:"isExactClass",value:function(e,t){return(0,Nu.h)("string"===typeof t,t),this.getExactClassName(e)===t}},{key:"getExactClassName",value:function(e){if(this._checkBatchId(e),this._hierarchy){var t=this._hierarchy.classIds[e];return this._hierarchy.classes[t].name}}},{key:"hasProperty",value:function(e,t){return this._checkBatchId(e),(0,Nu.h)("string"===typeof t,t),pp(this._properties[t])||this._hasPropertyInHierarchy(e,t)}},{key:"getPropertyNames",value:function(e,t){var n;this._checkBatchId(e),(t=pp(t)?t:[]).length=0;var r=Object.keys(this._properties);return(n=t).push.apply(n,r),this._hierarchy&&this._getPropertyNamesInHierarchy(e,t),t}},{key:"getProperty",value:function(e,t){if(this._checkBatchId(e),(0,Nu.h)("string"===typeof t,t),this._binaryProperties){var n=this._binaryProperties[t];if(pp(n))return this._getBinaryProperty(n,e)}var r=this._properties[t];if(pp(r))return dp(r[e]);if(this._hierarchy){var i=this._getHierarchyProperty(e,t);if(pp(i))return i}}},{key:"setProperty",value:function(e,t,n){var r=this.featureCount;if(this._checkBatchId(e),(0,Nu.h)("string"===typeof t,t),this._binaryProperties){var i=this._binaryProperties[t];if(i)return void this._setBinaryProperty(i,e,n)}if(!this._hierarchy||!this._setHierarchyProperty(this,e,t,n)){var o=this._properties[t];pp(o)||(this._properties[t]=new Array(r),o=this._properties[t]),o[e]=dp(n)}}},{key:"_checkBatchId",value:function(e){if(!(e>=0&&e<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")}},{key:"_getBinaryProperty",value:function(e,t){return e.unpack(e.typedArray,t)}},{key:"_setBinaryProperty",value:function(e,t,n){e.pack(n,e.typedArray,t)}},{key:"_initializeBinaryProperties",value:function(){var e=null;for(var t in this._properties){var n=this._properties[t],r=this._initializeBinaryProperty(t,n);r&&((e=e||{})[t]=r)}return e}},{key:"_initializeBinaryProperty",value:function(e,t){if("byteOffset"in t){var n=t;(0,Nu.h)(this.binary,"Property ".concat(e," requires a batch table binary.")),(0,Nu.h)(n.type,"Property ".concat(e," requires a type."));var r=function(e,t,n,r){var i=e.componentType;(0,Nu.h)(e.componentType);var o="string"===typeof i?op.fromName(i):i,a=sp[e.type],s=up[e.type],u=lp[e.type];return n+=e.byteOffset,{values:op.createTypedArray(o,t,n,a*r),type:o,size:a,unpacker:s,packer:u}}(n,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:r.values,componentCount:r.size,unpack:r.unpacker,pack:r.packer}}return null}},{key:"_hasPropertyInHierarchy",value:function(e,t){if(!this._hierarchy)return!1;var n=fp(this._hierarchy,e,(function(e,n){var r=e.classIds[n];return pp(e.classes[r].instances[t])}));return pp(n)}},{key:"_getPropertyNamesInHierarchy",value:function(e,t){fp(this._hierarchy,e,(function(e,n){var r=e.classIds[n],i=e.classes[r].instances;for(var o in i)i.hasOwnProperty(o)&&-1===t.indexOf(o)&&t.push(o)}))}},{key:"_getHierarchyProperty",value:function(e,t){var n=this;return fp(this._hierarchy,e,(function(e,r){var i=e.classIds[r],o=e.classes[i],a=e.classIndexes[r],s=o.instances[t];return pp(s)?pp(s.typedArray)?n._getBinaryProperty(s,a):dp(s[a]):null}))}},{key:"_setHierarchyProperty",value:function(e,t,n,r){var i=this,o=fp(this._hierarchy,t,(function(e,o){var a=e.classIds[o],s=e.classes[a],u=e.classIndexes[o],l=s.instances[n];return!!pp(l)&&((0,Nu.h)(o===t,'Inherited property "'.concat(n,'" is read-only.')),pp(l.typedArray)?i._setBinaryProperty(l,u,r):l[u]=dp(r),!0)}));return pp(o)}}]),e}();function yp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new DataView(t);if(e.magic=r.getUint32(n,!0),n+=4,e.version=r.getUint32(n,!0),n+=4,e.byteLength=r.getUint32(n,!0),n+=4,1!==e.version)throw new Error("3D Tile Version ".concat(e.version," not supported"));return n}var mp="b3dm tile in legacy format.";function bp(e,t,n){var r,i=new DataView(t);e.header=e.header||{};var o=i.getUint32(n,!0);n+=4;var a=i.getUint32(n,!0);n+=4;var s=i.getUint32(n,!0);n+=4;var u=i.getUint32(n,!0);return n+=4,s>=570425344?(n-=8,r=o,s=a,u=0,o=0,a=0,console.warn(mp)):u>=570425344&&(n-=4,r=s,s=o,u=a,o=0,a=0,console.warn(mp)),e.header.featureTableJsonByteLength=o,e.header.featureTableBinaryByteLength=a,e.header.batchTableJsonByteLength=s,e.header.batchTableBinaryByteLength=u,e.header.batchLength=r,n}function _p(e,t,n,r){return n=function(e,t,n,r){var i=e.header,o=i.featureTableJsonByteLength,a=i.featureTableBinaryByteLength,s=i.batchLength;if(e.featureTableJson={BATCH_LENGTH:s||0},o>0){var u=Yh(t,n,o);e.featureTableJson=JSON.parse(u)}return n+=o,e.featureTableBinary=new Uint8Array(t,n,a),n+=a}(e,t,n),n=function(e,t,n,r){var i=e.header,o=i.batchTableJsonByteLength,a=i.batchTableBinaryByteLength;if(o>0){var s=Yh(t,n,o);e.batchTableJson=JSON.parse(s),n+=o,a>0&&(e.batchTableBinary=new Uint8Array(t,n,a),e.batchTableBinary=new Uint8Array(e.batchTableBinary),n+=a)}return n}(e,t,n),n}function wp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=e>>11&31,r=e>>5&63,i=31&e;return t[0]=n<<3,t[1]=r<<2,t[2]=i<<3,t}function xp(e,t,n){if(!t&&(!e||!e.batchIds||!n))return null;var r=e.batchIds,i=e.isRGB565,o=e.pointCount;if(r&&n){for(var a=new Uint8ClampedArray(3*o),s=0;s<o;s++){var u=r[s],l=n.getProperty(u,"dimensions").map((function(e){return 255*e}));a[3*s]=l[0],a[3*s+1]=l[1],a[3*s+2]=l[2]}return{type:tp.UNSIGNED_BYTE,value:a,size:3,normalized:!0}}if(i){for(var c=new Uint8ClampedArray(3*o),A=0;A<o;A++){var f=wp(t[A]);c[3*A]=f[0],c[3*A+1]=f[1],c[3*A+2]=f[2]}return{type:tp.UNSIGNED_BYTE,value:c,size:3,normalized:!0}}return t&&t.length===3*o?{type:tp.UNSIGNED_BYTE,value:t,size:3,normalized:!0}:{type:tp.UNSIGNED_BYTE,value:t,size:4,normalized:!0}}var Cp=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,ve.Z)(this,n),e=t.call(this,2),(0,Ti.kJ)(r)&&1===arguments.length?e.copy(r):(Ti.vc.debug&&((0,to.u5)(r),(0,to.u5)(i)),e[0]=r,e[1]=i),e}return(0,ye.Z)(n,[{key:"set",value:function(e,t){return this[0]=e,this[1]=t,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this.check()}},{key:"fromObject",value:function(e){return Ti.vc.debug&&((0,to.u5)(e.x),(0,to.u5)(e.y)),this[0]=e.x,this[1]=e.y,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e}},{key:"ELEMENTS",get:function(){return 2}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return so.fF(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return(0,no.pb)(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return so.kK(this,this,e),this.check()}},{key:"transformByMatrix2x3",value:function(e){return so.iu(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return so.c(this,this,e),this.check()}}]),n}(yo.Z);new Cp,new Gi.Z,new Cp,new Cp,new Uint8Array(1);function Bp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return(0,Ti.uZ)(e,0,t)/t*2-1}function Ep(e){return e<0?-1:1}function Sp(e,t,n,r){if(function(e,t){if(!e)throw new Error("math.gl assertion failed. ".concat(t))}(r),e<0||e>n||t<0||t>n)throw new Error("x and y must be unsigned normalized integers between 0 and ".concat(n));if(r.x=Bp(e,n),r.y=Bp(t,n),r.z=1-(Math.abs(r.x)+Math.abs(r.y)),r.z<0){var i=r.x;r.x=(1-Math.abs(r.y))*Ep(i),r.y=(1-Math.abs(i))*Ep(r.y)}return r.normalize()}function kp(e,t,n){return Sp(e,t,255,n)}var Op=new Gi.Z;function Tp(e,t,n){return e.isQuantized?n["3d-tiles"]&&n["3d-tiles"].decodeQuantizedPositions?(e.isQuantized=!1,function(e,t){for(var n=new Gi.Z,r=new Float32Array(3*e.pointCount),i=0;i<e.pointCount;i++)n.set(t[3*i],t[3*i+1],t[3*i+2]).scale(1/e.quantizedRange).multiply(e.quantizedVolumeScale).add(e.quantizedVolumeOffset).toArray(r,3*i);return r}(e,t)):{type:tp.UNSIGNED_SHORT,value:t,size:3,normalized:!0}:t}function Pp(e,t,n,r,i){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r,i,o){var a,s,u;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yp(t,n,r),r=bp(t,n,r),r=_p(t,n,r),Fp(t),a=Ip(t),s=a.featureTable,u=a.batchTable,e.next=7,Zp(t,s,u,i,o);case 7:return Lp(t,s,i),Rp(t,s,u),Dp(t,s),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fp(e){e.attributes={positions:null,colors:null,normals:null,batchIds:null},e.isQuantized=!1,e.isTranslucent=!1,e.isRGB565=!1,e.isOctEncoded16P=!1}function Ip(e){var t=new ap(e.featureTableJson,e.featureTableBinary),n=t.getGlobalProperty("POINTS_LENGTH");if(!Number.isFinite(n))throw new Error("POINTS_LENGTH must be defined");t.featuresLength=n,e.featuresLength=n,e.pointsLength=n,e.pointCount=n,e.rtcCenter=t.getGlobalProperty("RTC_CENTER",tp.FLOAT,3);var r=function(e,t){var n=null;if(!e.batchIds&&t.hasProperty("BATCH_ID")&&(e.batchIds=t.getPropertyArray("BATCH_ID",tp.UNSIGNED_SHORT,1),e.batchIds)){var r=t.getGlobalProperty("BATCH_LENGTH");if(!r)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");var i=e.batchTableJson,o=e.batchTableBinary;n=new vp(i,o,r)}return n}(e,t);return{featureTable:t,batchTable:r}}function Lp(e,t,n){if(!e.attributes.positions)if(t.hasProperty("POSITION"))e.attributes.positions=t.getPropertyArray("POSITION",tp.FLOAT,3);else if(t.hasProperty("POSITION_QUANTIZED")){var r=t.getPropertyArray("POSITION_QUANTIZED",tp.UNSIGNED_SHORT,3);if(e.isQuantized=!0,e.quantizedRange=65535,e.quantizedVolumeScale=t.getGlobalProperty("QUANTIZED_VOLUME_SCALE",tp.FLOAT,3),!e.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(e.quantizedVolumeOffset=t.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",tp.FLOAT,3),!e.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");e.attributes.positions=Tp(e,r,n)}if(!e.attributes.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}function Rp(e,t,n){if(!e.attributes.colors){var r=null;t.hasProperty("RGBA")?(r=t.getPropertyArray("RGBA",tp.UNSIGNED_BYTE,4),e.isTranslucent=!0):t.hasProperty("RGB")?r=t.getPropertyArray("RGB",tp.UNSIGNED_BYTE,3):t.hasProperty("RGB565")&&(r=t.getPropertyArray("RGB565",tp.UNSIGNED_SHORT,1),e.isRGB565=!0),e.attributes.colors=xp(e,r,n)}t.hasProperty("CONSTANT_RGBA")&&(e.constantRGBA=t.getGlobalProperty("CONSTANT_RGBA",tp.UNSIGNED_BYTE,4))}function Dp(e,t){if(!e.attributes.normals){var n=null;t.hasProperty("NORMAL")?n=t.getPropertyArray("NORMAL",tp.FLOAT,3):t.hasProperty("NORMAL_OCT16P")&&(n=t.getPropertyArray("NORMAL_OCT16P",tp.UNSIGNED_BYTE,2),e.isOctEncoded16P=!0),e.attributes.normals=function(e,t){if(!t)return null;if(e.isOctEncoded16P){for(var n=new Float32Array(3*e.pointsLength),r=0;r<e.pointsLength;r++)kp(t[2*r],t[2*r+1],Op),Op.toArray(n,3*r);return{type:tp.FLOAT,size:2,value:n}}return{type:tp.FLOAT,size:2,value:t}}(e,n)}}function Zp(e,t,n,r,i){return Up.apply(this,arguments)}function Up(){return(Up=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r,i,o){var a,s,u,l,c,A,f,h;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((l=t.batchTableJson&&t.batchTableJson.extensions&&t.batchTableJson.extensions["3DTILES_draco_point_compression"])&&(u=l.properties),!(c=n.getExtension("3DTILES_draco_point_compression"))){e.next=15;break}if(s=c.properties,A=c.byteOffset,f=c.byteLength,s&&Number.isFinite(A)&&f){e.next=9;break}throw new Error("Draco properties, byteOffset, and byteLength must be defined");case 9:a=t.featureTableBinary.slice(A,A+f),t.hasPositions=Number.isFinite(s.POSITION),t.hasColors=Number.isFinite(s.RGB)||Number.isFinite(s.RGBA),t.hasNormals=Number.isFinite(s.NORMAL),t.hasBatchIds=Number.isFinite(s.BATCH_ID),t.isTranslucent=Number.isFinite(s.RGBA);case 15:if(a){e.next=17;break}return e.abrupt("return",!0);case 17:return h={buffer:a,properties:(0,Ce.Z)((0,Ce.Z)({},s),u),featureTableProperties:s,batchTableProperties:u,dequantizeInShader:!1},e.next=20,jp(t,h,i,o);case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jp(e,t,n,r){return Np.apply(this,arguments)}function Np(){return Np=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r,i){var o,a,s,u,l,c,A,f,h,p,d,g,v,y,m;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.parse,delete(a=(0,Ce.Z)((0,Ce.Z)({},r),{},{draco:(0,Ce.Z)((0,Ce.Z)({},r.draco),{},{extraAttributes:n.batchTableProperties||{}})}))["3d-tiles"],e.next=5,o(n.buffer,gc,a);case 5:if(s=e.sent,u=s.attributes.POSITION&&s.attributes.POSITION.value,l=s.attributes.COLOR_0&&s.attributes.COLOR_0.value,c=s.attributes.NORMAL&&s.attributes.NORMAL.value,A=s.attributes.BATCH_ID&&s.attributes.BATCH_ID.value,f=u&&s.attributes.POSITION.value.quantization,h=c&&s.attributes.NORMAL.value.quantization,f&&(p=s.POSITION.data.quantization,d=p.range,t.quantizedVolumeScale=new Gi.Z(d,d,d),t.quantizedVolumeOffset=new Gi.Z(p.minValues),t.quantizedRange=(1<<p.quantizationBits)-1,t.isQuantizedDraco=!0),h&&(t.octEncodedRange=(1<<s.NORMAL.data.quantization.quantizationBits)-1,t.isOctEncodedDraco=!0),g={},n.batchTableProperties)for(v=0,y=Object.keys(n.batchTableProperties);v<y.length;v++)m=y[v],s.attributes[m]&&s.attributes[m].value&&(g[m.toLowerCase()]=s.attributes[m].value);t.attributes=(0,Ce.Z)({positions:u,colors:xp(t,l,void 0),normals:c,batchIds:A},g);case 17:case"end":return e.stop()}}),e)}))),Np.apply(this,arguments)}var zp=0,Qp=1;function Hp(e,t,n,r){e.rotateYtoZ=!0;var i=e.byteOffset+e.byteLength-n;if(0===i)throw new Error("glTF byte length must be greater than 0.");return e.gltfUpAxis=r["3d-tiles"]&&r["3d-tiles"].assetGltfUpAxis?r["3d-tiles"].assetGltfUpAxis:"Y",e.gltfArrayBuffer=(0,Ru.qv)(t,n,i),e.gltfByteOffset=0,e.gltfByteLength=i,n%4===0||console.warn("".concat(e.type,": embedded glb is not aligned to a 4-byte boundary.")),e.byteOffset+e.byteLength}function Vp(e,t,n,r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r,i){var o,a,s;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r["3d-tiles"]||{},Wp(t,n,r),!o.loadGLTF){e.next=16;break}if(a=i.parse,s=i.fetch,!t.gltfUrl){e.next=9;break}return e.next=7,s(t.gltfUrl,r);case 7:t.gltfArrayBuffer=e.sent,t.gltfByteOffset=0;case 9:if(!t.gltfArrayBuffer){e.next=16;break}return e.next=12,a(t.gltfArrayBuffer,jA,r,i);case 12:t.gltf=e.sent,delete t.gltfArrayBuffer,delete t.gltfByteOffset,delete t.gltfByteLength;case 16:case"end":return e.stop()}}),e)}))),Gp.apply(this,arguments)}function Wp(e,t,n){switch(t){case zp:var r=new Uint8Array(e.gltfArrayBuffer,e.gltfByteOffset),i=(new TextDecoder).decode(r);e.gltfUrl=i.replace(/[\s\0]+$/,""),delete e.gltfArrayBuffer,delete e.gltfByteOffset,delete e.gltfByteLength;break;case Qp:break;default:throw new Error("b3dm: Illegal glTF format field")}}function Kp(e,t,n,r,i){return qp.apply(this,arguments)}function qp(){return(qp=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r,i,o){var a,s;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xp(t,n,r,i,o),e.next=3,Vp(t,Qp,i,o);case 3:return(s=null===t||void 0===t||null===(a=t.gltf)||void 0===a?void 0:a.extensions)&&s.CESIUM_RTC&&(t.rtcCenter=s.CESIUM_RTC.center),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xp(e,t,n,r,i){n=Hp(e,t,n=_p(e,t,n=bp(e,t,n=yp(e,t,n))),r);var o=new ap(e.featureTableJson,e.featureTableBinary);return e.rtcCenter=o.getGlobalProperty("RTC_CENTER",tp.FLOAT,3),n}function Yp(e,t,n,r,i){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r,i,o){return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$p(t,n,r,i,o),e.next=3,Vp(t,t.gltfFormat,i,o);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $p(e,t,n,r,i){if(n=yp(e,t,n),1!==e.version)throw new Error("Instanced 3D Model version ".concat(e.version," is not supported"));n=bp(e,t,n);var o=new DataView(t);if(e.gltfFormat=o.getUint32(n,!0),n=Hp(e,t,n=_p(e,t,n+=4),r),0===e.featureTableJsonByteLength)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");var a=new ap(e.featureTableJson,e.featureTableBinary),s=a.getGlobalProperty("INSTANCES_LENGTH");if(a.featuresLength=s,!Number.isFinite(s))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");e.eastNorthUp=a.getGlobalProperty("EAST_NORTH_UP"),e.rtcCenter=a.getGlobalProperty("RTC_CENTER",tp.FLOAT,3);new vp(e.batchTableJson,e.batchTableBinary,s);return function(e,t,n,r){for(var i=[new Array(r),e._batchTable][0],o=new Gi.Z,a=new Gi.Z,s=new Gi.Z,u=new Gi.Z,l=new fo,c=new Lo,A=new Gi.Z,f={},h=new ns.Z,p=[],d=[],g=new Gi.Z,v=new Gi.Z,y=0;y<r;y++){var m=void 0;if(t.hasProperty("POSITION"))m=t.getProperty("POSITION",tp.FLOAT,3,y,o);else if(t.hasProperty("POSITION_QUANTIZED")){m=t.getProperty("POSITION_QUANTIZED",tp.UNSIGNED_SHORT,3,y,o);var b=t.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",tp.FLOAT,3,g);if(!b)throw new Error("i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");var _=t.getGlobalProperty("QUANTIZED_VOLUME_SCALE",tp.FLOAT,3,v);if(!_)throw new Error("i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");for(var w=65535,x=0;x<3;x++)m[x]=m[x]/w*_[x]+b[x]}if(!m)throw new Error("i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.");o.copy(m),f.translation=o,e.normalUp=t.getProperty("NORMAL_UP",tp.FLOAT,3,y,p),e.normalRight=t.getProperty("NORMAL_RIGHT",tp.FLOAT,3,y,d);var C=!1;if(e.normalUp){if(!e.normalRight)throw new Error("i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.");e.hasCustomOrientation=!0}else{if(e.octNormalUp=t.getProperty("NORMAL_UP_OCT32P",tp.UNSIGNED_SHORT,2,p),e.octNormalRight=t.getProperty("NORMAL_RIGHT_OCT32P",tp.UNSIGNED_SHORT,2,d),e.octNormalUp){if(!e.octNormalRight)throw new Error("i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P");throw new Error("i3dm: oct-encoded orientation not implemented")}e.eastNorthUp?(Ff.WGS84.eastNorthUpToFixedFrame(o,h),h.getRotationMatrix3(l)):l.identity()}C&&(u.copy(a).cross(s).normalize(),l.setColumn(0,a),l.setColumn(1,s),l.setColumn(2,u)),c.fromMatrix3(l),f.rotation=c,A.set(1,1,1);var B=t.getProperty("SCALE",tp.FLOAT,1,y);Number.isFinite(B)&&A.multiplyByScalar(B);var E=t.getProperty("SCALE_NON_UNIFORM",tp.FLOAT,3,y,p);E&&A.scale(E),f.scale=A;var S=t.getProperty("BATCH_ID",tp.UNSIGNED_SHORT,1,y);void 0===S&&(S=y);var k=(new ns.Z).fromQuaternion(f.rotation);h.identity(),h.translate(f.translation),h.multiplyRight(k),h.scale(f.scale);var O=h.clone();i[y]={modelMatrix:O,batchId:S}}e.instances=i}(e,a,0,s),n}function ed(e,t,n,r,i,o){return td.apply(this,arguments)}function td(){return td=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r,i,o,a){var s,u;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=yp(t,n,r),s=new DataView(n),t.tilesLength=s.getUint32(r,!0),r+=4,t.tiles=[];case 5:if(!(t.tiles.length<t.tilesLength&&t.byteLength-r>12)){e.next=13;break}return u={},t.tiles.push(u),e.next=10,a(n,r,i,o,u);case 10:r=e.sent,e.next=5;break;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t,n,r){return rd.apply(this,arguments)}function rd(){return rd=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r,i){var o;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rotateYtoZ=!0,t.gltfUpAxis=r["3d-tiles"]&&r["3d-tiles"].assetGltfUpAxis?r["3d-tiles"].assetGltfUpAxis:"Y",o=i.parse,e.next=5,o(n,jA,r,i);case 5:t.gltf=e.sent;case 6:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e){return od.apply(this,arguments)}function od(){return od=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o,a=arguments;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.length>1&&void 0!==a[1]?a[1]:0,r=a.length>2?a[2]:void 0,i=a.length>3?a[3]:void 0,(o=a.length>4&&void 0!==a[4]?a[4]:{}).byteOffset=n,o.type=Jh(t,n),e.t0=o.type,e.next=e.t0===Xh.COMPOSITE?9:e.t0===Xh.BATCHED_3D_MODEL?12:e.t0===Xh.GLTF?15:e.t0===Xh.INSTANCED_3D_MODEL?18:e.t0===Xh.POINT_CLOUD?21:24;break;case 9:return e.next=11,ed(o,t,n,r,i,id);case 11:case 14:case 17:case 20:case 23:return e.abrupt("return",e.sent);case 12:return e.next=14,Kp(o,t,n,r,i);case 15:return e.next=17,nd(o,t,r,i);case 18:return e.next=20,Yp(o,t,n,r,i);case 21:return e.next=23,Pp(o,t,n,r,i);case 24:throw new Error("3DTileLoader: unknown type ".concat(o.type));case 25:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}var ad=n(4339),sd=1952609651;function ud(){return(ud=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o,a,s,u;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(new Uint32Array(t.slice(0,4))[0]===sd){e.next=3;break}throw new Error("Wrong subtree file magic number");case 3:if(1===new Uint32Array(t.slice(4,8))[0]){e.next=6;break}throw new Error("Wrong subtree file verson, must be 1");case 6:if(n=Ad(t.slice(8,16)),r=new Uint8Array(t,24,n),i=new TextDecoder("utf8"),o=i.decode(r),a=JSON.parse(o),s=Ad(t.slice(16,24)),u=new ArrayBuffer(0),s&&(u=t.slice(24+n)),!("bufferView"in a.tileAvailability)){e.next=18;break}return e.next=17,ld(a,"tileAvailability",u);case 17:a.tileAvailability.explicitBitstream=e.sent;case 18:if(!("bufferView"in a.contentAvailability)){e.next=22;break}return e.next=21,ld(a,"contentAvailability",u);case 21:a.contentAvailability.explicitBitstream=e.sent;case 22:if(!("bufferView"in a.childSubtreeAvailability)){e.next=26;break}return e.next=25,ld(a,"childSubtreeAvailability",u);case 25:a.childSubtreeAvailability.explicitBitstream=e.sent;case 26:return e.abrupt("return",a);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ld(e,t,n){return cd.apply(this,arguments)}function cd(){return cd=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r){var i,o,a,s,u;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t[n].bufferView,o=t.bufferViews[i],!(a=t.buffers[o.buffer]).uri){e.next=11;break}return e.next=6,(0,ad.d)(a.uri);case 6:return s=e.sent,e.next=9,s.arrayBuffer();case 9:return u=e.sent,e.abrupt("return",new Uint8Array(u,o.byteOffset,o.byteLength));case 11:return e.abrupt("return",new Uint8Array(r,o.byteOffset,o.byteLength));case 12:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function Ad(e){var t=new DataView(e),n=t.getUint32(0,!0),r=t.getUint32(4,!0);return n+Math.pow(2,32)*r}var fd={id:"3d-tiles-subtree",name:"3D Tiles Subtree",module:"3d-tiles",version:qh,extensions:["subtree"],mimeTypes:["application/octet-stream"],tests:["subtree"],parse:function(e){return ud.apply(this,arguments)},options:{}},hd={QUADTREE:4,OCTREE:8};function pd(e){return dd.apply(this,arguments)}function dd(){return dd=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o,a,s,u,l,c,A,f,h,p,d,g,v,y,m,b,_,w,x,C,B,E,S,k,O,T,P,M,F,I,L,R,D,Z,U,j,N;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.options,r=t.parentData,i=void 0===r?{mortonIndex:0,x:0,y:0,z:0}:r,o=t.childIndex,a=void 0===o?0:o,s=t.globalData,u=void 0===s?{level:0,mortonIndex:0,x:0,y:0,z:0}:s,l=t.subtree,c=t.level,A=void 0===c?0:c,f=n.subdivisionScheme,h=n.subtreeLevels,p=n.maximumLevel,d=n.contentUrlTemplate,g=n.subtreesUriTemplate,v=n.basePath,y={children:[],lodMetricValue:0,contentUrl:""},m=hd[f],b=1&a,_=a>>1&1,w=a>>2&1,x=(Math.pow(m,A)-1)/(m-1),C=yd(i.mortonIndex,a),B=x+C,E=yd(i.x,b),S=yd(i.y,_),k=yd(i.z,w),O=!1,A+1>h&&(O=gd(l.childSubtreeAvailability,C)),T=yd(u.x,E),P=yd(u.y,S),M=yd(u.z,k),F=A+u.level,!O){e.next=38;break}return I="".concat(v,"/").concat(g),L=md(I,F,T,P,M),e.next=25,(0,sf.z)(L,fd);case 25:R=e.sent,l=R,u.mortonIndex=C,u.x=E,u.y=S,u.z=k,u.level=A,C=0,B=0,E=0,S=0,k=0,A=0;case 38:if(gd(l.tileAvailability,B)&&!(A>p)){e.next=41;break}return e.abrupt("return",y);case 41:gd(l.contentAvailability,B)&&(y.contentUrl=md(d,F,T,P,M)),D=A+1,Z={mortonIndex:C,x:E,y:S,z:k},U=0;case 46:if(!(U<m)){e.next=54;break}return e.next=49,pd({subtree:l,options:n,parentData:Z,childIndex:U,level:D,globalData:u});case 49:((j=e.sent).contentUrl||j.children.length)&&(N=vd(j,F+1,{childTileX:E,childTileY:S,childTileZ:k},n),y.children.push(N));case 51:U++,e.next=46;break;case 54:return e.abrupt("return",y);case 55:case"end":return e.stop()}}),e)}))),dd.apply(this,arguments)}function gd(e,t){return"constant"in e?Boolean(e.constant):!!e.explicitBitstream&&function(e,t){var n=Math.floor(e/8),r=e%8;return 1===(t[n]>>r&1)}(t,e.explicitBitstream)}function vd(e,t,n,r){var i=r.basePath,o=r.refine,a=r.getRefine,s=r.lodMetricType,u=r.getTileType,l=r.rootLodMetricValue,c=r.rootBoundingVolume,A=e.contentUrl&&e.contentUrl.replace("".concat(i,"/"),""),f=l/Math.pow(2,t),h=function(e,t,n){if(t.region){var r=n.childTileX,i=n.childTileY,o=n.childTileZ,a=(0,mt.Z)(t.region,6),s=a[0],u=a[1],l=a[2],c=a[3],A=a[4],f=a[5],h=Math.pow(2,e),p=(l-s)/h,d=(c-u)/h,g=(f-A)/h;return{region:[s+p*r,u+d*i,s+p*(r+1),u+d*(i+1),A+g*o,A+g*(o+1)]}}return console.warn("Unsupported bounding volume type: ",t),null}(t,c,n);return{children:e.children,contentUrl:e.contentUrl,content:{uri:A},id:e.contentUrl,refine:a(o),type:u(e),lodMetricType:s,lodMetricValue:f,boundingVolume:h}}function yd(e,t){return parseInt(e.toString(2)+t.toString(2),2)}function md(e,t,n,r,i){var o=function(e){var t={};for(var n in e)t["{".concat(n,"}")]=e[n];return t}({level:t,x:n,y:r,z:i});return e.replace(/{level}|{x}|{y}|{z}/gi,(function(e){return o[e]}))}function bd(e){if(!e.contentUrl)return nh;var t=e.contentUrl.split(".").pop();switch(t){case"pnts":return ih;case"i3dm":case"b3dm":case"glb":case"gltf":return rh;default:return t}}function _d(e){switch(e){case"REPLACE":case"replace":return th;case"ADD":case"add":return eh;default:return e}}function wd(e,t){if(/^[a-z][0-9a-z+.-]*:/i.test(t)){var n=new URL(e,"".concat(t,"/"));return decodeURI(n.toString())}return e.startsWith("/")?e:"".concat(t,"/").concat(e)}function xd(e,t){if(!e)return null;if(e.content){var n=e.content.uri||e.content.url;e.contentUrl=wd(n,t.basePath)}return e.id=e.contentUrl,e.lodMetricType=uh,e.lodMetricValue=e.geometricError,e.transformMatrix=e.transform,e.type=bd(e),e.refine=_d(e.refine),e}function Cd(e){var t=e.basePath,n=xd(e.root,e),r=[];for(r.push(n);r.length>0;){var i,o=(r.pop()||{}).children||[],a=(0,Ee.Z)(o);try{for(a.s();!(i=a.n()).done;){var s=i.value;xd(s,{basePath:t}),r.push(s)}}catch(u){a.e(u)}finally{a.f()}}return n}function Bd(e){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o,a,s,u,l,c,A,f,h,p,d;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.root){e.next=2;break}return e.abrupt("return",null);case 2:return n=t.basePath,r=t.root.extensions["3DTILES_implicit_tiling"],i=r.subdivisionScheme,o=r.maximumLevel,a=r.subtreeLevels,s=r.subtrees.uri,u=md(s,0,0,0,0),l=wd(u,n),e.next=9,(0,sf.z)(l,fd);case 9:return c=e.sent,A=wd(t.root.content.uri,n),f=t.root.refine,h=t.root.geometricError,p=t.root.boundingVolume,d={contentUrlTemplate:A,subtreesUriTemplate:s,subdivisionScheme:i,subtreeLevels:a,maximumLevel:o,refine:f,basePath:n,lodMetricType:uh,rootLodMetricValue:h,rootBoundingVolume:p,getTileType:bd,getRefine:_d},e.next=17,Sd(t.root,c,d);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sd(e,t,n){return kd.apply(this,arguments)}function kd(){return(kd=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r){var i,o,a;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return t.lodMetricType=uh,t.lodMetricValue=t.geometricError,t.transformMatrix=t.transform,e.next=7,pd({subtree:n,options:r});case 7:return i=e.sent,o=i.children,(a=i.contentUrl)&&(t.contentUrl=a,t.content={uri:a.replace("".concat(r.basePath,"/"),"")}),t.refine=_d(t.refine),t.type=bd(t),t.children=o,t.id=t.contentUrl,e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Od="3DTILES_implicit_tiling",Td={id:"3d-tiles",name:"3D Tiles",module:"3d-tiles",version:qh,extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],tests:["cmpt","pnts","b3dm","i3dm"],parse:function(e,t,n){return Rd.apply(this,arguments)},options:{"3d-tiles":{loadGLTF:!0,decodeQuantizedPositions:!1,isTileset:"auto",assetGltfUpAxis:null}}};function Pd(e){return If.XX(e.url)}function Md(e,t,n){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r){var i;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={content:{featureIds:null}},0,e.next=4,id(t,0,n,r,i.content);case 4:return e.abrupt("return",i.content);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Id(e,t,n){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r){var i,o;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=JSON.parse((new TextDecoder).decode(t))).loader=n.loader||Td,o.url=r.url,o.basePath=Pd(o),!Dd(o)){e.next=10;break}return e.next=7,Bd(o);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Cd(o);case 11:return o.root=e.t0,o.type=sh,o.lodMetricType=uh,o.lodMetricValue=(null===(i=o.root)||void 0===i?void 0:i.lodMetricValue)||0,e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rd(){return(Rd=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n,r){var i;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n["3d-tiles"]||{},!("auto"===i.isTileset?r.url&&-1!==r.url.indexOf(".json"):i.isTileset)){e.next=8;break}return e.next=5,Id(t,n,r);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Md(t,n,r);case 10:t=e.sent;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dd(e){var t,n;return(null===e||void 0===e||null===(t=e.extensionsRequired)||void 0===t?void 0:t.includes(Od))&&(null===e||void 0===e||null===(n=e.extensionsUsed)||void 0===n?void 0:n.includes(Od))}var Zd=[0],Ud={getPointColor:{type:"accessor",value:[0,0,0,255]},pointSize:1,data:null,loader:Td,onTilesetLoad:{type:"function",value:function(e){},compare:!1},onTileLoad:{type:"function",value:function(e){},compare:!1},onTileUnload:{type:"function",value:function(e){},compare:!1},onTileError:{type:"function",value:function(e,t,n){},compare:!1},_getMeshColor:{type:"function",value:function(e){return[255,255,255]},compare:!1}},jd=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,Be.Z)((0,me.Z)(e),"state",void 0),e}return(0,ye.Z)(n,[{key:"initializeState",value:function(){"onTileLoadFail"in this.props&&z.Z.removed("onTileLoadFail","onTileError")(),this.state={layerMap:{},tileset3d:null,activeViewports:{},lastUpdatedViewports:null}}},{key:"isLoaded",get:function(){var e=this.state.tileset3d;return null!==e&&e.isLoaded()}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags;if(t.data&&t.data!==n.data&&this._loadTileset(t.data),r.viewportChanged){var i=this.state.activeViewports;Object.keys(i).length&&(this._updateTileset(i),this.state.lastUpdatedViewports=i,this.state.activeViewports={})}if(r.propsChanged){var o=this.state.layerMap;for(var a in o)o[a].needsUpdate=!0}}},{key:"activateViewport",value:function(e){var t=this.state,n=t.activeViewports,r=t.lastUpdatedViewports;this.internalState.viewport=e,n[e.id]=e;var i=null===r||void 0===r?void 0:r[e.id];i&&e.equals(i)||(this.setChangeFlags({viewportChanged:!0}),this.setNeedsUpdate())}},{key:"getPickingInfo",value:function(e){var t=e.info,n=e.sourceLayer,r=this.state.layerMap,i=n&&n.id;if(i){var o=i.substring(this.id.length+1),a=o.substring(o.indexOf("-")+1);t.object=r[a]&&r[a].tile}return t}},{key:"filterSubLayer",value:function(e){var t=e.layer,n=e.viewport,r=t.props.tile,i=n.id;return r.selected&&r.viewportIds.includes(i)}},{key:"_updateAutoHighlight",value:function(e){e.sourceLayer&&e.sourceLayer.updateAutoHighlight(e)}},{key:"_loadTileset",value:function(){var e=(0,ji.Z)((0,Ui.Z)().mark((function e(t){var n,r,i,o,a,s,u;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.loadOptions,r=void 0===n?{}:n,i=this.props.loader||this.props.loaders,Array.isArray(i)&&(i=i[0]),o={loadOptions:(0,Ce.Z)({},r)},!i.preload){e.next=10;break}return e.next=7,i.preload(t,r);case 7:(a=e.sent).headers&&(o.loadOptions.fetch=(0,Ce.Z)((0,Ce.Z)({},o.loadOptions.fetch),{},{headers:a.headers})),Object.assign(o,a);case 10:return e.next=12,(0,sf.z)(t,i,o.loadOptions);case 12:s=e.sent,u=new Kh(s,(0,Ce.Z)({onTileLoad:this._onTileLoad.bind(this),onTileUnload:this._onTileUnload.bind(this),onTileError:this.props.onTileError},o)),this.setState({tileset3d:u,layerMap:{}}),this._updateTileset(this.state.activeViewports),this.props.onTilesetLoad(u);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onTileLoad",value:function(e){var t=this.state.lastUpdatedViewports;this.props.onTileLoad(e),this._updateTileset(t),this.setNeedsUpdate()}},{key:"_onTileUnload",value:function(e){delete this.state.layerMap[e.id],this.props.onTileUnload(e)}},{key:"_updateTileset",value:function(e){var t=this;if(e){var n=this.state.tileset3d,r=this.context.timeline,i=Object.keys(e).length;r&&i&&n&&n.selectTiles(Object.values(e)).then((function(e){t.state.frameNumber!==e&&t.setState({frameNumber:e})}))}}},{key:"_getSubLayer",value:function(e,t){if(!e.content)return null;switch(e.type){case ih:return this._makePointCloudLayer(e,t);case rh:return this._make3DModelLayer(e);case oh:return this._makeSimpleMeshLayer(e,t);default:throw new Error("Tile3DLayer: Failed to render layer of type ".concat(e.content.type))}}},{key:"_makePointCloudLayer",value:function(e,t){var n=e.content,r=n.attributes,i=n.pointCount,o=n.constantRGBA,a=n.cartographicOrigin,s=n.modelMatrix,u=r.positions,l=r.normals,c=r.colors;if(!u)return null;var A=t&&t.props.data||{header:{vertexCount:i},attributes:{POSITION:u,NORMAL:l,COLOR_0:c}},h=this.props,p=h.pointSize,d=h.getPointColor;return new(this.getSubLayerClass("pointcloud",se.Z))({pointSize:p},this.getSubLayerProps({id:"pointcloud"}),{id:"".concat(this.id,"-pointcloud-").concat(e.id),tile:e,data:A,coordinateSystem:f.Df.METER_OFFSETS,coordinateOrigin:a,modelMatrix:s,getColor:o||d,_offset:0})}},{key:"_make3DModelLayer",value:function(e){var t=e.content,n=t.gltf,r=t.instances,i=t.cartographicOrigin,o=t.modelMatrix;return new(this.getSubLayerClass("scenegraph",ef))({_lighting:"pbr"},this.getSubLayerProps({id:"scenegraph"}),{id:"".concat(this.id,"-scenegraph-").concat(e.id),tile:e,data:r||Zd,scenegraph:n,coordinateSystem:f.Df.METER_OFFSETS,coordinateOrigin:i,modelMatrix:o,getTransformMatrix:function(e){return e.modelMatrix},getPosition:[0,0,0],_offset:0})}},{key:"_makeSimpleMeshLayer",value:function(e,t){var n=e.content,r=n.attributes,i=n.indices,o=n.modelMatrix,a=n.cartographicOrigin,s=n.coordinateSystem,u=void 0===s?f.Df.METER_OFFSETS:s,l=n.material,c=n.featureIds,A=this.props._getMeshColor,h=t&&t.props.mesh||new st.Z({drawMode:4,attributes:Nd(r),indices:i});return new(this.getSubLayerClass("mesh",af))(this.getSubLayerProps({id:"mesh"}),{id:"".concat(this.id,"-mesh-").concat(e.id),tile:e,mesh:h,data:Zd,getColor:A(e),pbrMaterial:l,modelMatrix:o,coordinateOrigin:a,coordinateSystem:u,featureIds:c,_offset:0})}},{key:"renderLayers",value:function(){var e=this,t=this.state,n=t.tileset3d,r=t.layerMap;return n?n.tiles.map((function(t){var n=r[t.id]=r[t.id]||{tile:t},i=n.layer;return t.selected&&(i?n.needsUpdate&&(i=e._getSubLayer(t,i),n.needsUpdate=!1):i=e._getSubLayer(t)),n.layer=i,i})).filter(Boolean):null}}]),n}(d.Z);function Nd(e){var t={};return t.positions=(0,Ce.Z)((0,Ce.Z)({},e.positions),{},{value:new Float32Array(e.positions.value)}),e.normals&&(t.normals=e.normals),e.texCoords&&(t.texCoords=e.texCoords),e.colors&&(t.colors=e.colors),e.uvRegions&&(t.uvRegions=e.uvRegions),t}(0,Be.Z)(jd,"defaultProps",Ud),(0,Be.Z)(jd,"layerName","Tile3DLayer");var zd={name:"Terrain",id:"terrain",module:"terrain",version:"3.2.9",worker:!0,extensions:["png","pngraw","jpg","jpeg","gif","webp","bmp"],mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp"],options:{terrain:{tesselator:"auto",bounds:null,meshMaxError:10,elevationDecoder:{rScaler:1,gScaler:0,bScaler:0,offset:0},skirtHeight:null}}},Qd=[1],Hd=(0,Ce.Z)((0,Ce.Z)({},cs.defaultProps),{},{elevationData:Ra,texture:(0,Ce.Z)((0,Ce.Z)({},Ra),{},{optional:!0}),meshMaxError:{type:"number",value:4},bounds:{type:"array",value:null,optional:!0,compare:!0},color:{type:"color",value:[255,255,255]},elevationDecoder:{type:"object",value:{rScaler:1,gScaler:0,bScaler:0,offset:0}},workerUrl:{type:"string",value:null},wireframe:!1,material:!0,loaders:[zd]});function Vd(e){return Array.isArray(e)?e.join(";"):e||""}var Gd=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){var e;(0,ve.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,Be.Z)((0,me.Z)(e),"state",void 0),e}return(0,ye.Z)(n,[{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=t.elevationData!==n.elevationData;if(r){var i=t.elevationData,o=i&&(Array.isArray(i)||i.includes("{x}")&&i.includes("{y}"));this.setState({isTiled:o})}var a=r||t.meshMaxError!==n.meshMaxError||t.elevationDecoder!==n.elevationDecoder||t.bounds!==n.bounds;if(!this.state.isTiled&&a){var s=this.loadTerrain(t);this.setState({terrain:s})}t.workerUrl&&z.Z.removed("workerUrl","loadOptions.terrain.workerUrl")()}},{key:"loadTerrain",value:function(e){var t,n=e.elevationData,r=e.bounds,i=e.elevationDecoder,o=e.meshMaxError,a=e.signal;if(!n)return null;var s=this.getLoadOptions();return s=(0,Ce.Z)((0,Ce.Z)({},s),{},{terrain:(0,Ce.Z)((0,Ce.Z)({skirtHeight:this.state.isTiled?2*o:0},null===(t=s)||void 0===t?void 0:t.terrain),{},{bounds:r,meshMaxError:o,elevationDecoder:i})}),(0,this.props.fetch)(n,{propName:"elevationData",layer:this,loadOptions:s,signal:a})}},{key:"getTiledTerrainData",value:function(e){var t=this.props,n=t.elevationData,r=t.fetch,i=t.texture,o=t.elevationDecoder,a=t.meshMaxError,s=this.context.viewport,u=Za(n,e),l=i&&Za(i,e),c=e.signal,A=[0,0],f=[0,0];if(s.isGeospatial){var h=e.bbox;A=s.projectFlat([h.west,h.south]),f=s.projectFlat([h.east,h.north])}else{var p=e.bbox;A=[p.left,p.bottom],f=[p.right,p.top]}var d=[A[0],A[1],f[0],f[1]],g=this.loadTerrain({elevationData:u,bounds:d,elevationDecoder:o,meshMaxError:a,signal:c}),v=l?r(l,{propName:"texture",layer:this,loaders:[],signal:c}).catch((function(e){return null})):Promise.resolve(null);return Promise.all([g,v])}},{key:"renderSubLayers",value:function(e){var t=this.getSubLayerClass("mesh",of),n=this.props,r=n.color,i=n.wireframe,o=n.material,a=e.data;if(!a)return null;var s=(0,mt.Z)(a,2),u=s[0],l=s[1];return new t(e,{data:Qd,mesh:u,texture:l,_instanced:!1,coordinateSystem:f.Df.CARTESIAN,getPosition:function(e){return[0,0,0]},getColor:r,wireframe:i,material:o})}},{key:"onViewportLoad",value:function(e){if(e){var t=this.state.zRange,n=e.map((function(e){return e.content})).filter(Boolean).map((function(e){return e[0].header.boundingBox.map((function(e){return e[2]}))}));if(0!==n.length){var r=Math.min.apply(Math,(0,zi.Z)(n.map((function(e){return e[0]})))),i=Math.max.apply(Math,(0,zi.Z)(n.map((function(e){return e[1]}))));(!t||r<t[0]||i>t[1])&&this.setState({zRange:[r,i]})}}}},{key:"renderLayers",value:function(){var e=this.props,t=e.color,n=e.material,r=e.elevationData,i=e.texture,o=e.wireframe,a=e.meshMaxError,s=e.elevationDecoder,u=e.tileSize,l=e.maxZoom,c=e.minZoom,A=e.extent,f=e.maxRequests,h=e.onTileLoad,p=e.onTileUnload,d=e.onTileError,g=e.maxCacheSize,v=e.maxCacheByteSize,y=e.refinementStrategy;return this.state.isTiled?new cs(this.getSubLayerProps({id:"tiles"}),{getTileData:this.getTiledTerrainData.bind(this),renderSubLayers:this.renderSubLayers.bind(this),updateTriggers:{getTileData:{elevationData:Vd(r),texture:Vd(i),meshMaxError:a,elevationDecoder:s}},onViewportLoad:this.onViewportLoad.bind(this),zRange:this.state.zRange||null,tileSize:u,maxZoom:l,minZoom:c,extent:A,maxRequests:f,onTileLoad:h,onTileUnload:p,onTileError:d,maxCacheSize:g,maxCacheByteSize:v,refinementStrategy:y}):new(this.getSubLayerClass("mesh",of))(this.getSubLayerProps({id:"mesh"}),{data:Qd,mesh:this.state.terrain,texture:i,_instanced:!1,getPosition:function(e){return[0,0,0]},getColor:t,material:n,wireframe:o})}}]),n}(d.Z);(0,Be.Z)(Gd,"defaultProps",Hd),(0,Be.Z)(Gd,"layerName","TerrainLayer");var Wd=n(9113);function Kd(e,t,n){var r=qd(e),i=Object.keys(r).filter((function(e){return r[e]!==Array}));return function(e,t,n){for(var r=t.pointPositionsCount,i=t.pointFeaturesCount,o=t.linePositionsCount,a=t.linePathsCount,s=t.lineFeaturesCount,u=t.polygonPositionsCount,l=t.polygonObjectsCount,c=t.polygonRingsCount,A=t.polygonFeaturesCount,f=t.propArrayTypes,h=t.coordLength,p=n.numericPropKeys,d=void 0===p?[]:p,g=n.PositionDataType,v=void 0===g?Float32Array:g,y=(e[0]&&"id"in e[0]),m=e.length>65535?Uint32Array:Uint16Array,b={type:"Point",positions:new v(r*h),globalFeatureIds:new m(r),featureIds:i>65535?new Uint32Array(r):new Uint16Array(r),numericProps:{},properties:[],fields:[]},_={type:"LineString",pathIndices:o>65535?new Uint32Array(a+1):new Uint16Array(a+1),positions:new v(o*h),globalFeatureIds:new m(o),featureIds:s>65535?new Uint32Array(o):new Uint16Array(o),numericProps:{},properties:[],fields:[]},w={type:"Polygon",polygonIndices:u>65535?new Uint32Array(l+1):new Uint16Array(l+1),primitivePolygonIndices:u>65535?new Uint32Array(c+1):new Uint16Array(c+1),positions:new v(u*h),triangles:[],globalFeatureIds:new m(u),featureIds:A>65535?new Uint32Array(u):new Uint16Array(u),numericProps:{},properties:[],fields:[]},x=0,C=[b,_,w];x<C.length;x++){var B,E=C[x],S=(0,Ee.Z)(d);try{for(S.s();!(B=S.n()).done;){var k=B.value,O=f[k];E.numericProps[k]=new O(E.positions.length/h)}}catch(R){S.e(R)}finally{S.f()}}_.pathIndices[a]=o,w.polygonIndices[l]=u,w.primitivePolygonIndices[c]=u;var T,P={pointPosition:0,pointFeature:0,linePosition:0,linePath:0,lineFeature:0,polygonPosition:0,polygonObject:0,polygonRing:0,polygonFeature:0,feature:0},M=(0,Ee.Z)(e);try{for(M.s();!(T=M.n()).done;){var F=T.value,I=F.geometry,L=F.properties||{};switch(I.type){case"Point":Xd(I,b,P,h,L),b.properties.push(ng(L,d)),y&&b.fields.push({id:F.id}),P.pointFeature++;break;case"LineString":Yd(I,_,P,h,L),_.properties.push(ng(L,d)),y&&_.fields.push({id:F.id}),P.lineFeature++;break;case"Polygon":Jd(I,w,P,h,L),w.properties.push(ng(L,d)),y&&w.fields.push({id:F.id}),P.polygonFeature++;break;default:throw new Error("Invalid geometry type")}P.feature++}}catch(R){M.e(R)}finally{M.f()}return function(e,t,n,r){return{points:(0,Ce.Z)((0,Ce.Z)({},e),{},{positions:{value:e.positions,size:r},globalFeatureIds:{value:e.globalFeatureIds,size:1},featureIds:{value:e.featureIds,size:1},numericProps:eg(e.numericProps,1)}),lines:(0,Ce.Z)((0,Ce.Z)({},t),{},{positions:{value:t.positions,size:r},pathIndices:{value:t.pathIndices,size:1},globalFeatureIds:{value:t.globalFeatureIds,size:1},featureIds:{value:t.featureIds,size:1},numericProps:eg(t.numericProps,1)}),polygons:(0,Ce.Z)((0,Ce.Z)({},n),{},{positions:{value:n.positions,size:r},polygonIndices:{value:n.polygonIndices,size:1},primitivePolygonIndices:{value:n.primitivePolygonIndices,size:1},triangles:{value:new Uint32Array(n.triangles),size:1},globalFeatureIds:{value:n.globalFeatureIds,size:1},featureIds:{value:n.featureIds,size:1},numericProps:eg(n.numericProps,1)})}}(b,_,w,h)}(e,(0,Ce.Z)({propArrayTypes:r},t),{numericPropKeys:n&&n.numericPropKeys||i,PositionDataType:n?n.PositionDataType:Float32Array})}function qd(e){var t,n={},r=(0,Ee.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.properties)for(var o in i.properties){var a=i.properties[o];n[o]=rg(a,n[o])}}}catch(s){r.e(s)}finally{r.f()}return n}function Xd(e,t,n,r,i){t.positions.set(e.data,n.pointPosition*r);var o=e.data.length/r;tg(t,i,n.pointPosition,o),t.globalFeatureIds.fill(n.feature,n.pointPosition,n.pointPosition+o),t.featureIds.fill(n.pointFeature,n.pointPosition,n.pointPosition+o),n.pointPosition+=o}function Yd(e,t,n,r,i){t.positions.set(e.data,n.linePosition*r);var o=e.data.length/r;tg(t,i,n.linePosition,o),t.globalFeatureIds.fill(n.feature,n.linePosition,n.linePosition+o),t.featureIds.fill(n.lineFeature,n.linePosition,n.linePosition+o);for(var a=0,s=e.indices.length;a<s;++a){var u=e.indices[a],l=a===s-1?e.data.length:e.indices[a+1];t.pathIndices[n.linePath++]=n.linePosition,n.linePosition+=(l-u)/r}}function Jd(e,t,n,r,i){t.positions.set(e.data,n.polygonPosition*r);var o=e.data.length/r;tg(t,i,n.polygonPosition,o),t.globalFeatureIds.fill(n.feature,n.polygonPosition,n.polygonPosition+o),t.featureIds.fill(n.polygonFeature,n.polygonPosition,n.polygonPosition+o);for(var a=0,s=e.indices.length;a<s;++a){var u=n.polygonPosition;t.polygonIndices[n.polygonObject++]=u;for(var l=e.areas[a],c=e.indices[a],A=e.indices[a+1],f=0,h=c.length;f<h;++f){var p=c[f],d=f===h-1?void 0===A?e.data.length:A[0]:c[f+1];t.primitivePolygonIndices[n.polygonRing++]=n.polygonPosition,n.polygonPosition+=(d-p)/r}$d(t,l,c,{startPosition:u,endPosition:n.polygonPosition,coordLength:r})}}function $d(e,t,n,r){for(var i=r.startPosition,o=r.endPosition,a=r.coordLength,s=i*a,u=o*a,l=e.positions.subarray(s,u),c=n[0],A=n.slice(1).map((function(e){return(e-c)/a})),f=(0,Wd.OT)(l,A,a,t),h=0,p=f.length;h<p;++h)e.triangles.push(i+f[h])}function eg(e,t){var n={};for(var r in e)n[r]={value:e[r],size:t};return n}function tg(e,t,n,r){for(var i in e.numericProps)if(i in t){var o=t[i];e.numericProps[i].fill(o,n,n+r)}}function ng(e,t){var n={};for(var r in e)t.includes(r)||(n[r]=e[r]);return n}function rg(e,t){return t!==Array&&Number.isFinite(e)?t===Float64Array||Math.fround(e)!==e?Float64Array:Float32Array:Array}var ig=n(9453),og=n.n(ig);function ag(e){for(var t,n,r=0,i=0,o=e.length-1;i<e.length;o=i++)t=e[i],r+=((n=e[o])[0]-t[0])*(t[1]+n[1]);return r}function sg(e,t,n){t&&n&&(1===e?t.id=n.readVarint():2===e?function(e,t){var n=e.readVarint()+e.pos;for(;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3===e?t.type=n.readVarint():4===e&&(t._geometry=n.pos))}var ug=function(){function e(t,n,r,i,o){(0,ve.Z)(this,e),(0,Be.Z)(this,"properties",void 0),(0,Be.Z)(this,"extent",void 0),(0,Be.Z)(this,"type",void 0),(0,Be.Z)(this,"id",void 0),(0,Be.Z)(this,"_pbf",void 0),(0,Be.Z)(this,"_geometry",void 0),(0,Be.Z)(this,"_keys",void 0),(0,Be.Z)(this,"_values",void 0),this.properties={},this.extent=r,this.type=0,this.id=null,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,t.readFields(sg,this,n)}return(0,ye.Z)(e,[{key:"loadGeometry",value:function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,a=0,s=[];e.pos<n;){if(i<=0){var u=e.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)o+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t&&t.push([o,a]);else{if(7!==r)throw new Error("unknown command ".concat(r));t&&t.push(t[0].slice())}}return t&&s.push(t),s}},{key:"bbox",value:function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command ".concat(n))}return[a,u,s,l]}},{key:"_toGeoJSON",value:function(t){var n,r,i=this.loadGeometry(),o=e.types[this.type];switch(this.type){case 1:var a=[];for(n=0;n<i.length;n++)a[n]=i[n][0];t(i=a,this);break;case 2:for(n=0;n<i.length;n++)t(i[n],this);break;case 3:for(i=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=ag(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n&&n.push(e[o]))}return n&&i.push(n),i}(i),n=0;n<i.length;n++)for(r=0;r<i[n].length;r++)t(i[n][r],this)}1===i.length?i=i[0]:o="Multi".concat(o);var s={type:"Feature",geometry:{type:o,coordinates:i},properties:this.properties};return null!==this.id&&(s.id=this.id),s}},{key:"toGeoJSON",value:function(e){if("function"===typeof e)return this._toGeoJSON(e);var t=e.x,n=e.y,r=e.z,i=this.extent*Math.pow(2,r),o=this.extent*t,a=this.extent*n;return this._toGeoJSON((function(e){for(var t=0;t<e.length;t++){var n=e[t];n[0]=360*(n[0]+o)/i-180;var r=180-360*(n[1]+a)/i;n[1]=360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90}}))}}],[{key:"types",get:function(){return["Unknown","Point","LineString","Polygon"]}}]),e}(),lg=function(){function e(t,n){(0,ve.Z)(this,e),(0,Be.Z)(this,"version",void 0),(0,Be.Z)(this,"name",void 0),(0,Be.Z)(this,"extent",void 0),(0,Be.Z)(this,"length",void 0),(0,Be.Z)(this,"_pbf",void 0),(0,Be.Z)(this,"_keys",void 0),(0,Be.Z)(this,"_values",void 0),(0,Be.Z)(this,"_features",void 0),this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(cg,this,n),this.length=this._features.length}return(0,ye.Z)(e,[{key:"feature",value:function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new ug(this._pbf,t,this.extent,this._keys,this._values)}}]),e}();function cg(e,t,n){t&&n&&(15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){var t=null,n=e.readVarint()+e.pos;for(;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n)))}var Ag,fg,hg,pg,dg,gg,vg,yg=(0,ye.Z)((function e(t,n){(0,ve.Z)(this,e),(0,Be.Z)(this,"layers",void 0),this.layers=t.readFields(mg,{},n)}));function mg(e,t,n){if(3===e&&n){var r=new lg(n,n.readVarint()+n.pos);r.length&&t&&(t[r.name]=r)}}function bg(e){var t=e.indices.length,n="Polygon";if(t<=1)return{type:n,data:e.data,areas:[[(0,Wd.ap)(e.data)]],indices:[e.indices]};for(var r,i,o,a=[],s=[],u=[],l=[],c=0,A=0;A<t;A++){o=e.indices[A]-c,i=e.indices[A+1]-c||e.data.length;var f=e.data.slice(o,i),h=(0,Wd.ap)(f);if(0!==h)void 0===r&&(r=h<0),r===h<0?(l.length&&(a.push(u),s.push(l)),l=[o],u=[h]):(u.push(h),l.push(o));else{var p=e.data.slice(0,o),d=e.data.slice(i);e.data=p.concat(d),c+=i-o}}return u&&a.push(u),l.length&&s.push(l),{type:n,areas:a,indices:s,data:e.data}}function _g(e,t,n){t&&n&&(1===e?t.id=n.readVarint():2===e?function(e,t){var n=e.readVarint()+e.pos;for(;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3===e?t.type=n.readVarint():4===e&&(t._geometry=n.pos))}var wg=function(){function e(t,n,r,i,o,a){(0,ve.Z)(this,e),(0,Be.Z)(this,"properties",void 0),(0,Be.Z)(this,"extent",void 0),(0,Be.Z)(this,"type",void 0),(0,Be.Z)(this,"id",void 0),(0,Be.Z)(this,"_pbf",void 0),(0,Be.Z)(this,"_geometry",void 0),(0,Be.Z)(this,"_keys",void 0),(0,Be.Z)(this,"_values",void 0),(0,Be.Z)(this,"_geometryInfo",void 0),this.properties={},this.extent=r,this.type=0,this.id=null,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,this._geometryInfo=a,t.readFields(_g,this,n)}return(0,ye.Z)(e,[{key:"loadGeometry",value:function(){var e=this._pbf;e.pos=this._geometry,Ag=e.readVarint()+e.pos,fg=1,pg=0,dg=0,gg=0,vg=0;for(var t=[],n=[];e.pos<Ag;)if(pg<=0&&(hg=e.readVarint(),fg=7&hg,pg=hg>>3),pg--,1===fg||2===fg)dg+=e.readSVarint(),gg+=e.readSVarint(),1===fg&&t.push(vg),n.push(dg,gg),vg+=2;else{if(7!==fg)throw new Error("unknown command ".concat(fg));if(vg>0){var r=t[t.length-1];n.push(n[r],n[r+1]),vg+=2}}return{data:n,indices:t}}},{key:"_toBinaryCoordinates",value:function(e){var t,n=this.loadGeometry();e(n.data,this);switch(this.type){case 1:this._geometryInfo.pointFeaturesCount++,this._geometryInfo.pointPositionsCount+=n.indices.length,t=(0,Ce.Z)({type:"Point"},n);break;case 2:this._geometryInfo.lineFeaturesCount++,this._geometryInfo.linePathsCount+=n.indices.length,this._geometryInfo.linePositionsCount+=n.data.length/2,t=(0,Ce.Z)({type:"LineString"},n);break;case 3:t=bg(n),this._geometryInfo.polygonFeaturesCount++,this._geometryInfo.polygonObjectsCount+=t.indices.length;var r,i=(0,Ee.Z)(t.indices);try{for(i.s();!(r=i.n()).done;){var o=r.value;this._geometryInfo.polygonRingsCount+=o.length}}catch(s){i.e(s)}finally{i.f()}this._geometryInfo.polygonPositionsCount+=t.data.length/2;break;default:throw new Error("Invalid geometry type: ".concat(this.type))}var a={type:"Feature",geometry:t,properties:this.properties};return null!==this.id&&(a.id=this.id),a}},{key:"toBinaryCoordinates",value:function(e){if("function"===typeof e)return this._toBinaryCoordinates(e);var t=e.x,n=e.y,r=e.z,i=this.extent*Math.pow(2,r),o=this.extent*t,a=this.extent*n;return this._toBinaryCoordinates((function(e){return function(e,t,n,r){for(var i=0,o=e.length;i<o;i+=2){e[i]=360*(e[i]+t)/r-180;var a=180-360*(e[i+1]+n)/r;e[i+1]=360/Math.PI*Math.atan(Math.exp(a*Math.PI/180))-90}}(e,o,a,i)}))}}]),e}(),xg=function(){function e(t,n){(0,ve.Z)(this,e),(0,Be.Z)(this,"version",void 0),(0,Be.Z)(this,"name",void 0),(0,Be.Z)(this,"extent",void 0),(0,Be.Z)(this,"length",void 0),(0,Be.Z)(this,"_pbf",void 0),(0,Be.Z)(this,"_keys",void 0),(0,Be.Z)(this,"_values",void 0),(0,Be.Z)(this,"_features",void 0),this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Cg,this,n),this.length=this._features.length}return(0,ye.Z)(e,[{key:"feature",value:function(e,t){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var n=this._pbf.readVarint()+this._pbf.pos;return new wg(this._pbf,n,this.extent,this._keys,this._values,t)}}]),e}();function Cg(e,t,n){t&&n&&(15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){var t=null,n=e.readVarint()+e.pos;for(;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n)))}var Bg=(0,ye.Z)((function e(t,n){(0,ve.Z)(this,e),(0,Be.Z)(this,"layers",void 0),this.layers=t.readFields(Eg,{},n)}));function Eg(e,t,n){if(3===e&&n){var r=new xg(n,n.readVarint()+n.pos);r.length&&t&&(t[r.name]=r)}}function Sg(e,t){var n,r,i=function(e){var t;if(null===e||void 0===e||!e.mvt)throw new Error("mvt options required");var n="wgs84"===(null===(t=e.mvt)||void 0===t?void 0:t.coordinates),r=e.mvt.tileIndex,i=r&&Number.isFinite(r.x)&&Number.isFinite(r.y)&&Number.isFinite(r.z);if(n&&!i)throw new Error("MVT Loader: WGS84 coordinates need tileIndex property");return e.mvt}(t),o=(null===t||void 0===t||null===(n=t.gis)||void 0===n?void 0:n.format)||(null===t||void 0===t||null===(r=t.mvt)||void 0===r?void 0:r.shape);switch(o){case"columnar-table":return{shape:"columnar-table",data:kg(e,i)};case"geojson-row-table":return{shape:"geojson-row-table",data:Og(e,i)};case"geojson":return Og(e,i);case"binary-geometry":case"binary":return kg(e,i);default:throw new Error(o)}}function kg(e,t){var n=function(e,t){var n=[],r={coordLength:2,pointPositionsCount:0,pointFeaturesCount:0,linePositionsCount:0,linePathsCount:0,lineFeaturesCount:0,polygonPositionsCount:0,polygonObjectsCount:0,polygonRingsCount:0,polygonFeaturesCount:0};if(e.byteLength<=0)return[n,r];var i=new Bg(new(og())(e));return(t&&Array.isArray(t.layers)?t.layers:Object.keys(i.layers)).forEach((function(e){var o=i.layers[e];if(o)for(var a=0;a<o.length;a++){var s=Pg(o.feature(a,r),t,e);n.push(s)}})),[n,r]}(e,t),r=(0,mt.Z)(n,2),i=Kd(r[0],r[1]);return i.byteLength=e.byteLength,i}function Og(e,t){if(e.byteLength<=0)return[];var n=[],r=new yg(new(og())(e));return(Array.isArray(t.layers)?t.layers:Object.keys(r.layers)).forEach((function(e){var i=r.layers[e];if(i)for(var o=0;o<i.length;o++){var a=Tg(i.feature(o),t,e);n.push(a)}})),n}function Tg(e,t,n){var r=e.toGeoJSON("wgs84"===t.coordinates?t.tileIndex:Mg);return t.layerProperty&&(r.properties[t.layerProperty]=n),r}function Pg(e,t,n){var r=e.toBinaryCoordinates("wgs84"===t.coordinates?t.tileIndex:Fg);return t.layerProperty&&r.properties&&(r.properties[t.layerProperty]=n),r}function Mg(e,t){for(var n=t.extent,r=0;r<e.length;r++){var i=e[r];i[0]/=n,i[1]/=n}}function Fg(e,t){for(var n=t.extent,r=0,i=e.length;r<i;++r)e[r]/=n}var Ig={name:"Mapbox Vector Tile",id:"mvt",module:"mvt",version:"3.2.9",extensions:["mvt","pbf"],mimeTypes:["application/vnd.mapbox-vector-tile","application/x-protobuf"],worker:!0,category:"geometry",options:{mvt:{shape:"geojson",coordinates:"local",layerProperty:"layerName",layers:void 0,tileIndex:null}}};(0,Ce.Z)((0,Ce.Z)({},Ig),{},{parse:function(){var e=(0,ji.Z)((0,Ui.Z)().mark((function e(t,n){return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sg(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),parseSync:Sg,binary:!0});function Lg(e,t){var n=null===t||void 0===t?void 0:t.globalFeatureId;return void 0!==n?function(e,t){var n,r=Zg(e),i=(0,Ee.Z)(r);try{for(i.s();!(n=i.n()).done;){for(var o=n.value,a=0,s=o.featureIds.value[0],u=0;u<o.featureIds.value.length;u++){var l=o.featureIds.value[u];if(l!==s){if(t===o.globalFeatureIds.value[a])return Ug(o,a,u);a=u,s=l}}if(t===o.globalFeatureIds.value[a])return Ug(o,a,o.featureIds.value.length)}}catch(c){i.e(c)}finally{i.f()}throw new Error("featureId:".concat(t," not found"))}(e,n):Rg(e,null===t||void 0===t?void 0:t.type)}function Rg(e,t){return function(e){var t,n=[],r=(0,Ee.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(0!==i.featureIds.value.length){for(var o=0,a=i.featureIds.value[0],s=0;s<i.featureIds.value.length;s++){var u=i.featureIds.value[s];u!==a&&(n.push(Ug(i,o,s)),o=s,a=u)}n.push(Ug(i,o,i.featureIds.value.length))}}}catch(l){r.e(l)}finally{r.f()}return n}(Zg(e,t))}function Dg(e,t,n){switch(e.type){case"Point":return function(e,t,n){var r=Ng(e.positions,t,n);if(r.length>1)return{type:"MultiPoint",coordinates:r};return{type:"Point",coordinates:r[0]}}(e,t,n);case"LineString":return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=e.positions,i=e.pathIndices.value.filter((function(e){return e>=t&&e<=n}));if(!(i.length>2)){return{type:"LineString",coordinates:Ng(r,i[0],i[1])}}for(var o=[],a=0;a<i.length-1;a++){var s=Ng(r,i[a],i[a+1]);o.push(s)}return{type:"MultiLineString",coordinates:o}}(e,t,n);case"Polygon":return jg(e,t,n);default:throw new Error("Unsupported geometry type: ".concat(null===e||void 0===e?void 0:e.type))}}function Zg(e,t){if(!Boolean(e.points||e.lines||e.polygons))return e.type=t||function(e){if(e.pathIndices)return"LineString";if(e.polygonIndices)return"Polygon";return"Point"}(e),[e];var n=[];return e.points&&(e.points.type="Point",n.push(e.points)),e.lines&&(e.lines.type="LineString",n.push(e.lines)),e.polygons&&(e.polygons.type="Polygon",n.push(e.polygons)),n}function Ug(e,t,n){var r=Dg(e,t,n),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object.assign({},e.properties[e.featureIds.value[t]]);for(var r in e.numericProps)n[r]=e.numericProps[r].value[t];return n}(e,t,n),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.fields&&e.fields[e.featureIds.value[t]]}(e,t,n);return(0,Ce.Z)({type:"Feature",geometry:r,properties:i},o)}function jg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=e.positions,i=e.polygonIndices.value.filter((function(e){return e>=t&&e<=n})),o=e.primitivePolygonIndices.value.filter((function(e){return e>=t&&e<=n})),a=i.length>2;if(!a){for(var s=[],u=0;u<o.length-1;u++){var l=o[u],c=o[u+1],A=Ng(r,l,c);s.push(A)}return{type:"Polygon",coordinates:s}}for(var f=[],h=0;h<i.length-1;h++){var p=i[h],d=i[h+1],g=jg(e,p,d).coordinates;f.push(g)}return{type:"MultiPolygon",coordinates:f}}function Ng(e,t,n){t=t||0,n=n||e.value.length/e.size;for(var r=[],i=t;i<n;i++){for(var o=Array(),a=i*e.size;a<(i+1)*e.size;a++)o.push(Number(e.value[a]));r.push(o)}return r}var zg={clipBounds:[0,0,1,1]},Qg="\nuniform vec4 clip_bounds;\n\nbool clip_isInBounds(vec2 position) {\n  return position.x >= clip_bounds[0] && position.y >= clip_bounds[1] && position.x < clip_bounds[2] && position.y < clip_bounds[3];\n}\n",Hg={name:"clip-vs",vs:Qg},Vg={"vs:#decl":"\nvarying float clip_isVisible;\n","vs:DECKGL_FILTER_GL_POSITION":"\n  clip_isVisible = float(clip_isInBounds(geometry.worldPosition.xy));\n","fs:#decl":"\nvarying float clip_isVisible;\n","fs:DECKGL_FILTER_COLOR":"\n  if (clip_isVisible < 0.5) discard;\n"},Gg={name:"clip-fs",fs:Qg},Wg={"vs:#decl":"\nvarying vec2 clip_commonPosition;\n","vs:DECKGL_FILTER_GL_POSITION":"\n  clip_commonPosition = geometry.position.xy;\n","fs:#decl":"\nvarying vec2 clip_commonPosition;\n","fs:DECKGL_FILTER_COLOR":"\n  if (!clip_isInBounds(clip_commonPosition)) discard;\n"},Kg=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"getShaders",value:function(){var e="instancePositions"in this.getAttributeManager().attributes;return"clipByInstance"in this.props&&(e=this.props.clipByInstance),this.state.clipByInstance=e,e?{modules:[Hg],inject:Vg}:{modules:[Gg],inject:Wg}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props.clipBounds,r=void 0===n?zg.clipBounds:n;if(this.state.clipByInstance)t.clip_bounds=r;else{var i=this.projectPosition([r[0],r[1],0]),o=this.projectPosition([r[2],r[3],0]);t.clip_bounds=[Math.min(i[0],o[0]),Math.min(i[1],o[1]),Math.max(i[0],o[0]),Math.max(i[1],o[1])]}}}]),n}($.Z);(0,Be.Z)(Kg,"defaultProps",zg),(0,Be.Z)(Kg,"extensionName","ClipExtension");var qg={Point:Xg,MultiPoint:function(e,t,n){return Yg(e,t,n)},LineString:Jg,MultiLineString:function(e,t,n){return e.map((function(e){return Jg(e,t,n)}))},Polygon:$g,MultiPolygon:function(e,t,n){return e.map((function(e){return $g(e,t,n)}))}};function Xg(e,t,n){var r=(0,mt.Z)(e,2),i=r[0],o=r[1],a=(0,mt.Z)(t,2),s=a[0],u=a[1],l=(0,Ti.t7)(s[0],u[0],i),c=(0,Ti.t7)(s[1],u[1],o);return n.unprojectFlat([l,c])}function Yg(e,t,n){return e.map((function(e){return Xg(e,t,n)}))}function Jg(e,t,n){return Yg(e,t,n)}function $g(e,t,n){return e.map((function(e){return Yg(e,t,n)}))}var ev=["points","lines","polygons"];function tv(e,t,n,r){var i=e.featureIds.value;if(!i.length)return-1;var o=0,a=i[i.length-1]+1;if(r){var s=function(e,t){if(!e.__layers){for(var n={},r=e.properties,i=0;i<r.length;i++){var o=r[i].layerName;o&&(n[o]?n[o][1]=i:n[o]=[i,i])}e.__layers=n}return e.__layers[t]}(e,r);if(!s)return-1;o=s[0],a=s[1]+1}var u=-1;if(t in e.numericProps){var l=e.numericProps[t].value.findIndex((function(e,t){return e===n&&i[t]>=o&&i[t]<a}));return l>=0?e.globalFeatureIds.value[l]:-1}return t?u=nv(e.properties,(function(e){return e[t]===n}),o,a):e.fields&&(u=nv(e.fields,(function(e){return e.id===n}),o,a)),u>=0?function(e,t){if(!e.__ids){for(var n=[],r=e.featureIds.value,i=e.globalFeatureIds.value,o=0;o<r.length;o++)n[r[o]]=i[o];e.__ids=n}return e.__ids[t]}(e,u):-1}function nv(e,t,n,r){for(var i=n;i<r;i++)if(t(e[i],i))return i;return-1}var rv=(0,Ce.Z)((0,Ce.Z)({},pe.Z.defaultProps),{},{onDataLoad:{type:"function",value:null,optional:!0,compare:!1},uniqueIdProperty:"",highlightedFeatureId:null,loaders:[Ig],binary:!0}),iv=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"initializeState",value:function(){(0,be.Z)((0,_e.Z)(n.prototype),"initializeState",this).call(this);var e=void 0===this.context.viewport.resolution&&this.props.binary;this.setState({binary:e,data:null,tileJSON:null})}},{key:"isLoaded",get:function(){return this.state&&this.state.data&&this.state.tileset&&(0,be.Z)((0,_e.Z)(n.prototype),"isLoaded",this)}},{key:"updateState",value:function(e){var t,r=e.props,i=e.oldProps,o=e.context,a=e.changeFlags;a.dataChanged&&this._updateTileData(),null!==(t=this.state)&&void 0!==t&&t.data&&((0,be.Z)((0,_e.Z)(n.prototype),"updateState",this).call(this,{props:r,oldProps:i,context:o,changeFlags:a}),this._setWGS84PropertyForTiles());var s=r.highlightColor;s!==i.highlightColor&&Array.isArray(s)&&this.setState({highlightColor:s})}},{key:"_updateTileData",value:function(){var e=(0,ji.Z)((0,Ui.Z)().mark((function e(){var t,n,r,i,o;return(0,Ui.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.data,n=null,"string"!==typeof t||Ga(t)){e.next=18;break}return r=this.props,i=r.onDataLoad,o=r.fetch,this.setState({data:null,tileJSON:null}),e.prev=5,e.next=8,o(t,{propName:"data",layer:this,loaders:[]});case 8:n=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),this.raiseError(e.t0,"loading TileJSON"),t=null;case 15:i&&i(n,{propName:"data",layer:this}),e.next=19;break;case 18:t.tilejson&&(n=t);case 19:n&&(t=n.tiles),this.setState({data:t,tileJSON:n});case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"_getTilesetOptions",value:function(){var e=(0,be.Z)((0,_e.Z)(n.prototype),"_getTilesetOptions",this).call(this),t=this.state.tileJSON,r=this.props,i=r.minZoom,o=r.maxZoom;return t&&(Number.isFinite(t.minzoom)&&t.minzoom>i&&(e.minZoom=t.minzoom),Number.isFinite(t.maxzoom)&&(!Number.isFinite(o)||t.maxzoom<o)&&(e.maxZoom=t.maxzoom)),e}},{key:"renderLayers",value:function(){var e;return null!==(e=this.state)&&void 0!==e&&e.data?(0,be.Z)((0,_e.Z)(n.prototype),"renderLayers",this).call(this):null}},{key:"getTileData",value:function(e){var t,n=this.state,r=n.data,i=n.binary,o=e.index,a=e.signal,s=Za(r,e);if(!s)return Promise.reject("Invalid URL");var u=this.getLoadOptions();return(0,this.props.fetch)(s,{propName:"data",layer:this,loadOptions:u=(0,Ce.Z)((0,Ce.Z)({},u),{},{mimeType:"application/x-protobuf",mvt:(0,Ce.Z)((0,Ce.Z)({},null===(t=u)||void 0===t?void 0:t.mvt),{},{coordinates:this.context.viewport.resolution?"wgs84":"local",tileIndex:o}),gis:i?{format:"binary"}:{}}),signal:a})}},{key:"renderSubLayers",value:function(e){var t=e.tile.index,r=t.x,i=t.y,o=t.z,a=Math.pow(2,o),s=512/a,u=-s,l=512*r/a,c=512*(1-i/a),A=(new ns.Z).scale([s,u,1]);e.autoHighlight=!1,this.context.viewport.resolution||(e.modelMatrix=A,e.coordinateOrigin=[l,c,0],e.coordinateSystem=f.Df.CARTESIAN,e.extensions=[].concat((0,zi.Z)(e.extensions||[]),[new Kg]));var h=(0,be.Z)((0,_e.Z)(n.prototype),"renderSubLayers",this).call(this,e);return!this.state.binary||h instanceof pe.Z||z.Z.warn("renderSubLayers() must return GeoJsonLayer when using binary:true")(),h}},{key:"_updateAutoHighlight",value:function(e){var t,n,r=this.props.uniqueIdProperty,i=this.state,o=i.hoveredFeatureId,a=i.hoveredFeatureLayerName,s=e.object;s&&(t=ov(s,r),n=av(s));var u=this.props.highlightColor;"function"===typeof u&&(u=u(e)),o===t&&a===n||this.setState({highlightColor:u,hoveredFeatureId:t,hoveredFeatureLayerName:n})}},{key:"getPickingInfo",value:function(e){var t=(0,be.Z)((0,_e.Z)(n.prototype),"getPickingInfo",this).call(this,e),r=Boolean(this.context.viewport.resolution);if(this.state.binary&&-1!==t.index){var i=e.sourceLayer.props.data;t.object=Lg(i,{globalFeatureId:t.index})}return t.object&&!r&&(t.object=uv(t.object,t.tile.bbox,this.context.viewport)),t}},{key:"getSubLayerPropsByTile",value:function(e){return{highlightedObjectIndex:this.getHighlightedObjectIndex(e),highlightColor:this.state.highlightColor}}},{key:"getHighlightedObjectIndex",value:function(e){var t=this.state,n=t.hoveredFeatureId,r=t.hoveredFeatureLayerName,i=t.binary,o=this.props,a=o.uniqueIdProperty,s=o.highlightedFeatureId,u=e.content,l=sv(s);if(!(sv(n)||l))return-1;var c=l?s:n;return Array.isArray(u)?u.findIndex((function(e){var t=ov(e,a)===c,n=l||av(e)===r;return t&&n})):u&&i?function(e,t,n,r){var i,o=(0,Ee.Z)(ev);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=e[a]&&tv(e[a],t,n,r);if(s>=0)return s}}catch(u){o.e(u)}finally{o.f()}return-1}(u,a,c,l?"":r):-1}},{key:"_pickObjects",value:function(e){var t=this.context,n=t.deck,r=t.viewport,i=r.width,o=r.height,a=r.x,s=r.y,u=[this.id];return n.pickObjects({x:a,y:s,width:i,height:o,layerIds:u,maxObjects:e})}},{key:"getRenderedFeatures",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this._pickObjects(t),r=new Set,i=[],o=(0,Ee.Z)(n);try{for(o.s();!(e=o.n()).done;){var a=e.value,s=ov(a.object,this.props.uniqueIdProperty);void 0===s?i.push(a.object):r.has(s)||(r.add(s),i.push(a.object))}}catch(u){o.e(u)}finally{o.f()}return i}},{key:"_setWGS84PropertyForTiles",value:function(){var e=this,t="dataInWGS84";this.state.tileset.selectedTiles.forEach((function(n){n.hasOwnProperty(t)||Object.defineProperty(n,t,{get:function(){if(!n.content)return null;if(e.state.binary&&Array.isArray(n.content)&&!n.content.length)return[];var t,r=n.bbox;if(void 0===n._contentWGS84&&(t=r,Number.isFinite(t.west)&&Number.isFinite(t.north)&&Number.isFinite(t.east)&&Number.isFinite(t.south))){var i=e.state.binary?Lg(n.content):n.content;n._contentWGS84=i.map((function(t){return uv(t,r,e.context.viewport)}))}return n._contentWGS84}})}))}}]),n}(cs);function ov(e,t){return e.properties&&t?e.properties[t]:"id"in e?e.id:void 0}function av(e){var t;return(null===(t=e.properties)||void 0===t?void 0:t.layerName)||null}function sv(e){return void 0!==e&&null!==e&&""!==e}function uv(e,t,n){var r=(0,Ce.Z)((0,Ce.Z)({},e),{},{geometry:{type:e.geometry.type}});return Object.defineProperty(r.geometry,"coordinates",{get:function(){var r=function(e,t,n){var r=[n.projectFlat([t.west,t.north]),n.projectFlat([t.east,t.south])];return(0,Ce.Z)((0,Ce.Z)({},e),{},{coordinates:qg[e.type](e.coordinates,r,n)})}(e.geometry,t,n);return r.coordinates}}),r}(0,Be.Z)(iv,"layerName","MVTLayer"),(0,Be.Z)(iv,"defaultProps",rv);for(var lv="0123456789bcdefghjkmnpqrstuvwxyz",cv={},Av=0;Av<lv.length;Av++)cv[lv.charAt(Av)]=Av;function fv(e){var t=function(e){for(var t,n=!0,r=90,i=-90,o=180,a=-180,s=0,u=0,l=e.length;u<l;u++){var c=e[u].toLowerCase();s=cv[c];for(var A=4;A>=0;A--){var f=s>>A&1;n?(t=(o+a)/2,1===f?a=t:o=t):(t=(r+i)/2,1===f?i=t:r=t),n=!n}}return[i,a,r,o]}(e),n=(0,mt.Z)(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return[a,o,a,r,i,r,i,o,a,o]}var hv=function(e){(0,we.Z)(n,e);var t=(0,xe.Z)(n);function n(){return(0,ve.Z)(this,n),t.apply(this,arguments)}return(0,ye.Z)(n,[{key:"indexToBounds",value:function(){var e=this.props,t=e.data,n=e.getGeohash;return{data:t,_normalize:!1,positionFormat:"XY",getPolygon:function(e,t){return fv(n(e,t))}}}}]),n}(Dr);(0,Be.Z)(hv,"layerName","GeohashLayer"),(0,Be.Z)(hv,"defaultProps",{getGeohash:{type:"accessor",value:function(e){return e.geohash}}});var pv=n(2791),dv="undefined"!==typeof window?pv.useLayoutEffect:pv.useEffect;function gv(e,t){for(;e;){if(e===t)return!0;e=Object.getPrototypeOf(e)}return!1}var vv={position:"absolute",zIndex:-1};function yv(e,t){if("function"===typeof e)return e(t);if(Array.isArray(e))return e.map((function(e){return yv(e,t)}));if(mv(e)){if(function(e){var t=e.type,n=t&&t.defaultProps;return n&&n.mapStyle}(e))return t.style=vv,(0,pv.cloneElement)(e,t);if(function(e){var t=e.type;return t&&t.deckGLViewProps}(e))return(0,pv.cloneElement)(e,t)}return e}function mv(e){return e&&"object"===typeof e&&"type"in e||!1}function bv(e){if("function"===typeof e)return(0,pv.createElement)(g.Z,{},e);if(Array.isArray(e))return e.map(bv);if(mv(e)){if(e.type===pv.Fragment)return bv(e.props.children);if(gv(e.type,g.Z))return e}return e}var _v={mixBlendMode:null};function wv(e){e.redrawReason&&(e.deck._drawLayers(e.redrawReason),e.redrawReason=null)}var xv=(0,pv.forwardRef)((function(e,t){var n=(0,pv.useState)(0),r=(0,mt.Z)(n,2),i=r[0],o=r[1],a=(0,pv.useRef)({control:null,version:i,forceUpdate:function(){return o((function(e){return e+1}))}}).current,s=(0,pv.useRef)(null),u=(0,pv.useRef)(null),l=(0,pv.useMemo)((function(){return function(e){var t=e.children,n=e.layers,r=void 0===n?[]:n,i=e.views,o=void 0===i?null:i,a=[],s=[],u={};return pv.Children.forEach(bv(t),(function(e){if(mv(e)){var t=e.type;if(gv(t,p.Z)){var n=function(e,t){var n={},r=e.defaultProps||{};for(var i in t)r[i]!==t[i]&&(n[i]=t[i]);return new e(n)}(t,e.props);s.push(n)}else a.push(e);if(gv(t,g.Z)&&t!==g.Z&&e.props.id){var r=new t(e.props);u[r.id]=r}}else e&&a.push(e)})),Object.keys(u).length>0&&(Array.isArray(o)?o.forEach((function(e){u[e.id]=e})):o&&(u[o.id]=o),o=Object.values(u)),{layers:r=s.length>0?[].concat(s,(0,zi.Z)(r)):r,children:a,views:o}}(e)}),[e.layers,e.views,e.children]),c=!0,A=function(t){var n;return c&&e.viewState?(a.viewStateUpdateRequested=t,null):(a.viewStateUpdateRequested=null,null===(n=e.onViewStateChange)||void 0===n?void 0:n.call(e,t))},f=function(t){var n;c?a.interactionStateUpdateRequested=t:(a.interactionStateUpdateRequested=null,null===(n=e.onInteractionStateChange)||void 0===n||n.call(e,t))},d=(0,pv.useMemo)((function(){var t=(0,Ce.Z)((0,Ce.Z)({},e),{},{style:null,width:"100%",height:"100%",parent:s.current,canvas:u.current,layers:l.layers,views:l.views,onViewStateChange:A,onInteractionStateChange:f});return delete t._customRender,a.deck&&a.deck.setProps(t),t}),[e]);(0,pv.useEffect)((function(){var t=e.Deck||h.Z;return a.deck=function(e,t,n){var r=new t((0,Ce.Z)((0,Ce.Z)({},n),{},{_customRender:function(t){e.redrawReason=t;var n=r.getViewports();e.lastRenderedViewports!==n?e.forceUpdate():wv(e)}}));return r}(a,t,(0,Ce.Z)((0,Ce.Z)({},d),{},{parent:s.current,canvas:u.current})),function(){var e;return null===(e=a.deck)||void 0===e?void 0:e.finalize()}}),[]),dv((function(){wv(a);var e=a.viewStateUpdateRequested,t=a.interactionStateUpdateRequested;e&&A(e),t&&f(t)})),(0,pv.useImperativeHandle)(t,(function(){return function(e){return{get deck(){return e.deck},pickObject:function(t){return e.deck.pickObject(t)},pickMultipleObjects:function(t){return e.deck.pickMultipleObjects(t)},pickObjects:function(t){return e.deck.pickObjects(t)}}}(a)}),[]);var v=a.deck&&a.deck.isInitialized?a.deck.getViewports():void 0,y=e.ContextProvider,m=e.width,b=e.height,_=e.id,w=e.style,x=(0,pv.useMemo)((function(){return function(e){var t=e.width,n=e.height,r=e.style,i={position:"absolute",zIndex:0,left:0,top:0,width:t,height:n},o={left:0,top:0};if(r)for(var a in r)a in _v?o[a]=r[a]:i[a]=r[a];return{containerStyle:i,canvasStyle:o}}({width:m,height:b,style:w})}),[m,b,w]),C=x.containerStyle,B=x.canvasStyle;if(!a.viewStateUpdateRequested&&a.lastRenderedViewports===v||a.version!==i){a.lastRenderedViewports=v,a.version=i;var E=function(e){var t=e.children,n=e.deck,r=e.ContextProvider,i=(n||{}).viewManager;if(!i||!i.views.length)return[];var o,a={},s=i.views[0].id,u=(0,Ee.Z)(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=s,A=l;mv(l)&&gv(l.type,g.Z)&&(c=l.props.id||s,A=l.props.children);var f=i.getViewport(c),h=i.getViewState(c);f&&(A=yv(A,{x:f.x,y:f.y,width:f.width,height:f.height,viewport:f,viewState:h}),a[c]||(a[c]={viewport:f,children:[]}),a[c].children.push(A))}}catch(p){u.e(p)}finally{u.f()}return Object.keys(a).map((function(e){var t=a[e],i=t.viewport,o=t.children,s={position:"absolute",left:i.x,top:i.y,width:i.width,height:i.height},u="view-".concat(e),l=pv.createElement.apply(void 0,["div",{key:u,id:u,style:s}].concat((0,zi.Z)(o)));if(r){var c={viewport:i,container:n.canvas.offsetParent,eventManager:n.eventManager,onViewStateChange:function(t){t.viewId=e,n._onViewStateChange(t)}};return(0,pv.createElement)(r,{key:u,value:c},l)}return l}))}({children:l.children,deck:a.deck,ContextProvider:y}),S=(0,pv.createElement)("canvas",{key:"canvas",id:_||"deckgl-overlay",ref:u,style:B});a.control=(0,pv.createElement)("div",{id:"".concat(_||"deckgl","-wrapper"),ref:s,style:C},[S,E])}return c=!1,a.control}));xv.defaultProps=h.Z.defaultProps;var Cv=xv},358:function(e,t,n){var r=n(3323),i=n(9357),o=n(7557),a=n(8372),s=n(996),u=n(720),l=Date.prototype.getTime;function c(e,t,n){var h=n||{};return!!(h.strict?o(e,t):e===t)||(!e||!t||"object"!==typeof e&&"object"!==typeof t?h.strict?o(e,t):e==t:function(e,t,n){var o,h;if(typeof e!==typeof t)return!1;if(A(e)||A(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e)!==i(t))return!1;var p=a(e),d=a(t);if(p!==d)return!1;if(p||d)return e.source===t.source&&s(e)===s(t);if(u(e)&&u(t))return l.call(e)===l.call(t);var g=f(e),v=f(t);if(g!==v)return!1;if(g||v){if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}if(typeof e!==typeof t)return!1;try{var y=r(e),m=r(t)}catch(b){return!1}if(y.length!==m.length)return!1;for(y.sort(),m.sort(),o=y.length-1;o>=0;o--)if(y[o]!=m[o])return!1;for(o=y.length-1;o>=0;o--)if(!c(e[h=y[o]],t[h],n))return!1;return!0}(e,t,h))}function A(e){return null===e||void 0===e}function f(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}e.exports=c},3109:function(e,t,n){"use strict";var r=n(3323),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=n(981)(),l=s&&u,c=function(e,t,n,r){var i;(!(t in e)||"function"===typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(l?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},A=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)c(e,o[s],t[o[s]],n[o[s]])};A.supportsDescriptors=!!l,e.exports=A},4217:function(e){"use strict";function t(e,t,r){r=r||2;var o,a,s,u,A,f,p,d=t&&t.length,g=d?t[0]*r:e.length,v=n(e,0,g,r,!0),y=[];if(!v||v.next===v.prev)return y;if(d&&(v=function(e,t,r,i){var o,a,s,u=[];for(o=0,a=t.length;o<a;o++)(s=n(e,t[o]*i,o<a-1?t[o+1]*i:e.length,i,!1))===s.next&&(s.steiner=!0),u.push(h(s));for(u.sort(l),o=0;o<u.length;o++)r=c(u[o],r);return r}(e,t,v,r)),e.length>80*r){o=s=e[0],a=u=e[1];for(var m=r;m<g;m+=r)(A=e[m])<o&&(o=A),(f=e[m+1])<a&&(a=f),A>s&&(s=A),f>u&&(u=f);p=0!==(p=Math.max(s-o,u-a))?32767/p:0}return i(v,y,r,o,a,p,0),y}function n(e,t,n,r,i){var o,a;if(i===E(e,t,n,r)>0)for(o=t;o<n;o+=r)a=x(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=x(o,e[o],e[o+1],a);return a&&v(a,a.next)&&(C(a),a=a.next),a}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!v(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(C(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function i(e,t,n,l,c,A,h){if(e){!h&&A&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=f(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,l,c,A);for(var p,d,g=e;e.prev!==e.next;)if(p=e.prev,d=e.next,A?a(e,l,c,A):o(e))t.push(p.i/n|0),t.push(e.i/n|0),t.push(d.i/n|0),C(e),e=d.next,g=d.next;else if((e=d)===g){h?1===h?i(e=s(r(e),t,n),t,n,l,c,A,2):2===h&&u(e,t,n,l,c,A):i(r(e),t,n,l,c,A,1);break}}}function o(e){var t=e.prev,n=e,r=e.next;if(g(t,n,r)>=0)return!1;for(var i=t.x,o=n.x,a=r.x,s=t.y,u=n.y,l=r.y,c=i<o?i<a?i:a:o<a?o:a,A=s<u?s<l?s:l:u<l?u:l,f=i>o?i>a?i:a:o>a?o:a,h=s>u?s>l?s:l:u>l?u:l,d=r.next;d!==t;){if(d.x>=c&&d.x<=f&&d.y>=A&&d.y<=h&&p(i,s,o,u,a,l,d.x,d.y)&&g(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function a(e,t,n,r){var i=e.prev,o=e,a=e.next;if(g(i,o,a)>=0)return!1;for(var s=i.x,u=o.x,l=a.x,c=i.y,A=o.y,h=a.y,d=s<u?s<l?s:l:u<l?u:l,v=c<A?c<h?c:h:A<h?A:h,y=s>u?s>l?s:l:u>l?u:l,m=c>A?c>h?c:h:A>h?A:h,b=f(d,v,t,n,r),_=f(y,m,t,n,r),w=e.prevZ,x=e.nextZ;w&&w.z>=b&&x&&x.z<=_;){if(w.x>=d&&w.x<=y&&w.y>=v&&w.y<=m&&w!==i&&w!==a&&p(s,c,u,A,l,h,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,x.x>=d&&x.x<=y&&x.y>=v&&x.y<=m&&x!==i&&x!==a&&p(s,c,u,A,l,h,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;w&&w.z>=b;){if(w.x>=d&&w.x<=y&&w.y>=v&&w.y<=m&&w!==i&&w!==a&&p(s,c,u,A,l,h,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;x&&x.z<=_;){if(x.x>=d&&x.x<=y&&x.y>=v&&x.y<=m&&x!==i&&x!==a&&p(s,c,u,A,l,h,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function s(e,t,n){var i=e;do{var o=i.prev,a=i.next.next;!v(o,a)&&y(o,i,i.next,a)&&_(o,a)&&_(a,o)&&(t.push(o.i/n|0),t.push(i.i/n|0),t.push(a.i/n|0),C(i),C(i.next),i=e=a),i=i.next}while(i!==e);return r(i)}function u(e,t,n,o,a,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&d(u,l)){var c=w(u,l);return u=r(u,u.next),c=r(c,c.next),i(u,t,n,o,a,s,0),void i(c,t,n,o,a,s,0)}l=l.next}u=u.next}while(u!==e)}function l(e,t){return e.x-t.x}function c(e,t){var n=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var u,l=n,c=n.x,f=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&p(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),_(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&A(n,r)))&&(n=r,h=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var i=w(n,e);return r(i,i.next),r(n,n.next)}function A(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function f(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function h(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function p(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function d(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&y(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(_(e,t)&&_(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||v(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function v(e,t){return e.x===t.x&&e.y===t.y}function y(e,t,n,r){var i=b(g(e,t,n)),o=b(g(e,t,r)),a=b(g(n,r,e)),s=b(g(n,r,t));return i!==o&&a!==s||(!(0!==i||!m(e,n,t))||(!(0!==o||!m(e,r,t))||(!(0!==a||!m(n,e,r))||!(0!==s||!m(n,t,r)))))}function m(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function b(e){return e>0?1:e<0?-1:0}function _(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function w(e,t){var n=new B(e.i,e.x,e.y),r=new B(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function x(e,t,n,r){var i=new B(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function C(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function B(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function E(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(E(e,0,o,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;a-=Math.abs(E(e,l,c,n))}var A=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,h=r[s+1]*n,p=r[s+2]*n;A+=Math.abs((e[f]-e[p])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[p+1]-e[f+1]))}return 0===a&&0===A?0:Math.abs((A-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},27:function(e,t,n){"use strict";n.d(t,{GV:function(){return a},Gv:function(){return o},Sk:function(){return r},WQ:function(){return s},ZO:function(){return i}});var r="data-focus-lock",i="data-focus-lock-disabled",o="data-no-focus-lock",a="data-autofocus-inside",s="data-no-autofocus"},9084:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!==typeof o||r.call(o)!==i)throw new TypeError(t+o);for(var a,s=n.call(arguments,1),u=function(){if(this instanceof a){var t=o.apply(this,s.concat(n.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(n.call(arguments)))},l=Math.max(0,o.length-s.length),c=[],A=0;A<l;A++)c.push("$"+A);if(a=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var f=function(){};f.prototype=o.prototype,a.prototype=new f,f.prototype=null}return a}},485:function(e,t,n){"use strict";var r=n(9084);e.exports=Function.prototype.bind||r},4763:function(e){"use strict";var t=function(){return"string"===typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(i){n=null}t.functionsHaveConfigurableNames=function(){if(!t()||!n)return!1;var e=n((function(){}),"name");return!!e&&!!e.configurable};var r=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"===typeof r&&""!==function(){}.bind().name},e.exports=t},598:function(e,t,n){"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(O){u=null}var l=function(){throw new a},c=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(t){return l}}}():l,A=n(154)(),f=Object.getPrototypeOf||function(e){return e.__proto__},h={},p="undefined"===typeof Uint8Array?r:f(Uint8Array),d={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":A?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A?f(f([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&A?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&A?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A?f(""[Symbol.iterator]()):r,"%Symbol%":A?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=f(i.prototype))}return d[t]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(485),m=n(8335),b=y.call(Function.call,Array.prototype.concat),_=y.call(Function.apply,Array.prototype.splice),w=y.call(Function.call,String.prototype.replace),x=y.call(Function.call,String.prototype.slice),C=y.call(Function.call,RegExp.prototype.exec),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,S=function(e){var t=x(e,0,1),n=x(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return w(e,B,(function(e,t,n,i){r[r.length]=n?w(i,E,"$1"):t||e})),r},k=function(e,t){var n,r=e;if(m(v,r)&&(r="%"+(n=v[r])[0]+"%"),m(d,r)){var o=d[r];if(o===h&&(o=g(r)),"undefined"===typeof o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=S(e),r=n.length>0?n[0]:"",o=k("%"+r+"%",t),s=o.name,l=o.value,c=!1,A=o.alias;A&&(r=A[0],_(n,b([0,1],A)));for(var f=1,h=!0;f<n.length;f+=1){var p=n[f],g=x(p,0,1),v=x(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&h||(c=!0),m(d,s="%"+(r+="."+p)+"%"))l=d[s];else if(null!=l){if(!(p in l)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&f+1>=n.length){var y=u(l,p);l=(h=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:l[p]}else h=m(l,p),l=l[p];h&&!c&&(d[s]=l)}}return l}},4231:function(e,t,n){"use strict";n.d(t,{Ib:function(){return r},WT:function(){return i}});var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},71:function(e,t,n){"use strict";n.d(t,{G3:function(){return v},GH:function(){return a},Iu:function(){return u},Jp:function(){return s},M5:function(){return y},Q$:function(){return p},U1:function(){return c},U_:function(){return o},bA:function(){return l},en:function(){return d},fS:function(){return b},jI:function(){return h},lM:function(){return A},oy:function(){return g},p4:function(){return i},uD:function(){return f},zB:function(){return m}});var r=n(4231);function i(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function o(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],A=t[9],f=t[10],h=t[11],p=t[12],d=t[13],g=t[14],v=t[15],y=n*s-r*a,m=n*u-i*a,b=n*l-o*a,_=r*u-i*s,w=r*l-o*s,x=i*l-o*u,C=c*d-A*p,B=c*g-f*p,E=c*v-h*p,S=A*g-f*d,k=A*v-h*d,O=f*v-h*g,T=y*O-m*k+b*S+_*E-w*B+x*C;return T?(T=1/T,e[0]=(s*O-u*k+l*S)*T,e[1]=(i*k-r*O-o*S)*T,e[2]=(d*x-g*w+v*_)*T,e[3]=(f*w-A*x-h*_)*T,e[4]=(u*E-a*O-l*B)*T,e[5]=(n*O-i*E+o*B)*T,e[6]=(g*b-p*x-v*m)*T,e[7]=(c*x-f*b+h*m)*T,e[8]=(a*k-s*E+l*C)*T,e[9]=(r*E-n*k-o*C)*T,e[10]=(p*w-d*b+v*y)*T,e[11]=(A*b-c*w-h*y)*T,e[12]=(s*B-a*S-u*C)*T,e[13]=(n*S-r*B+i*C)*T,e[14]=(d*m-p*_-g*y)*T,e[15]=(c*_-A*m+f*y)*T,e):null}function a(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],A=e[10],f=e[11],h=e[12],p=e[13],d=e[14],g=e[15];return(t*a-n*o)*(A*g-f*d)-(t*s-r*o)*(c*g-f*p)+(t*u-i*o)*(c*d-A*p)+(n*s-r*a)*(l*g-f*h)-(n*u-i*a)*(l*d-A*h)+(r*u-i*s)*(l*p-c*h)}function s(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],A=t[8],f=t[9],h=t[10],p=t[11],d=t[12],g=t[13],v=t[14],y=t[15],m=n[0],b=n[1],_=n[2],w=n[3];return e[0]=m*r+b*s+_*A+w*d,e[1]=m*i+b*u+_*f+w*g,e[2]=m*o+b*l+_*h+w*v,e[3]=m*a+b*c+_*p+w*y,m=n[4],b=n[5],_=n[6],w=n[7],e[4]=m*r+b*s+_*A+w*d,e[5]=m*i+b*u+_*f+w*g,e[6]=m*o+b*l+_*h+w*v,e[7]=m*a+b*c+_*p+w*y,m=n[8],b=n[9],_=n[10],w=n[11],e[8]=m*r+b*s+_*A+w*d,e[9]=m*i+b*u+_*f+w*g,e[10]=m*o+b*l+_*h+w*v,e[11]=m*a+b*c+_*p+w*y,m=n[12],b=n[13],_=n[14],w=n[15],e[12]=m*r+b*s+_*A+w*d,e[13]=m*i+b*u+_*f+w*g,e[14]=m*o+b*l+_*h+w*v,e[15]=m*a+b*c+_*p+w*y,e}function u(e,t,n){var r,i,o,a,s,u,l,c,A,f,h,p,d=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*d+t[4]*g+t[8]*v+t[12],e[13]=t[1]*d+t[5]*g+t[9]*v+t[13],e[14]=t[2]*d+t[6]*g+t[10]*v+t[14],e[15]=t[3]*d+t[7]*g+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],A=t[8],f=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=A,e[9]=f,e[10]=h,e[11]=p,e[12]=r*d+s*g+A*v+t[12],e[13]=i*d+u*g+f*v+t[13],e[14]=o*d+l*g+h*v+t[14],e[15]=a*d+c*g+p*v+t[15]),e}function l(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function c(e,t,n,i){var o,a,s,u,l,c,A,f,h,p,d,g,v,y,m,b,_,w,x,C,B,E,S,k,O=i[0],T=i[1],P=i[2],M=Math.hypot(O,T,P);return M<r.Ib?null:(O*=M=1/M,T*=M,P*=M,o=Math.sin(n),s=1-(a=Math.cos(n)),u=t[0],l=t[1],c=t[2],A=t[3],f=t[4],h=t[5],p=t[6],d=t[7],g=t[8],v=t[9],y=t[10],m=t[11],b=O*O*s+a,_=T*O*s+P*o,w=P*O*s-T*o,x=O*T*s-P*o,C=T*T*s+a,B=P*T*s+O*o,E=O*P*s+T*o,S=T*P*s-O*o,k=P*P*s+a,e[0]=u*b+f*_+g*w,e[1]=l*b+h*_+v*w,e[2]=c*b+p*_+y*w,e[3]=A*b+d*_+m*w,e[4]=u*x+f*C+g*B,e[5]=l*x+h*C+v*B,e[6]=c*x+p*C+y*B,e[7]=A*x+d*C+m*B,e[8]=u*E+f*S+g*k,e[9]=l*E+h*S+v*k,e[10]=c*E+p*S+y*k,e[11]=A*E+d*S+m*k,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function A(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],A=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+A*r,e[7]=u*i+f*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=A*i-s*r,e[11]=f*i-u*r,e}function f(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],A=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-l*r,e[1]=a*i-c*r,e[2]=s*i-A*r,e[3]=u*i-f*r,e[8]=o*r+l*i,e[9]=a*r+c*i,e[10]=s*r+A*i,e[11]=u*r+f*i,e}function h(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],A=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*r,e[1]=a*i+c*r,e[2]=s*i+A*r,e[3]=u*i+f*r,e[4]=l*i-o*r,e[5]=c*i-a*r,e[6]=A*i-s*r,e[7]=f*i-u*r,e}function p(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(u,l,c),e}function d(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,A=r*s,f=i*a,h=i*s,p=i*u,d=o*a,g=o*s,v=o*u;return e[0]=1-A-p,e[1]=c+v,e[2]=f-g,e[3]=0,e[4]=c-v,e[5]=1-l-p,e[6]=h+d,e[7]=0,e[8]=f+g,e[9]=h-d,e[10]=1-l-A,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function g(e,t,n,r,i,o,a){var s=1/(n-t),u=1/(i-r),l=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(a+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*l,e[15]=0,e}var v=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e};var y=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e};function m(e,t,n,i){var o,a,s,u,l,c,A,f,h,p,d=t[0],g=t[1],v=t[2],y=i[0],m=i[1],b=i[2],_=n[0],w=n[1],x=n[2];return Math.abs(d-_)<r.Ib&&Math.abs(g-w)<r.Ib&&Math.abs(v-x)<r.Ib?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(A=d-_,f=g-w,h=v-x,o=m*(h*=p=1/Math.hypot(A,f,h))-b*(f*=p),a=b*(A*=p)-y*h,s=y*f-m*A,(p=Math.hypot(o,a,s))?(o*=p=1/p,a*=p,s*=p):(o=0,a=0,s=0),u=f*s-h*a,l=h*o-A*s,c=A*a-f*o,(p=Math.hypot(u,l,c))?(u*=p=1/p,l*=p,c*=p):(u=0,l=0,c=0),e[0]=o,e[1]=u,e[2]=A,e[3]=0,e[4]=a,e[5]=l,e[6]=f,e[7]=0,e[8]=s,e[9]=c,e[10]=h,e[11]=0,e[12]=-(o*d+a*g+s*v),e[13]=-(u*d+l*g+c*v),e[14]=-(A*d+f*g+h*v),e[15]=1,e)}function b(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],A=e[8],f=e[9],h=e[10],p=e[11],d=e[12],g=e[13],v=e[14],y=e[15],m=t[0],b=t[1],_=t[2],w=t[3],x=t[4],C=t[5],B=t[6],E=t[7],S=t[8],k=t[9],O=t[10],T=t[11],P=t[12],M=t[13],F=t[14],I=t[15];return Math.abs(n-m)<=r.Ib*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(i-b)<=r.Ib*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-_)<=r.Ib*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(a-w)<=r.Ib*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-x)<=r.Ib*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(u-C)<=r.Ib*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(l-B)<=r.Ib*Math.max(1,Math.abs(l),Math.abs(B))&&Math.abs(c-E)<=r.Ib*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(A-S)<=r.Ib*Math.max(1,Math.abs(A),Math.abs(S))&&Math.abs(f-k)<=r.Ib*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(h-O)<=r.Ib*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(p-T)<=r.Ib*Math.max(1,Math.abs(p),Math.abs(T))&&Math.abs(d-P)<=r.Ib*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(g-M)<=r.Ib*Math.max(1,Math.abs(g),Math.abs(M))&&Math.abs(v-F)<=r.Ib*Math.max(1,Math.abs(v),Math.abs(F))&&Math.abs(y-I)<=r.Ib*Math.max(1,Math.abs(y),Math.abs(I))}},9233:function(e,t,n){"use strict";n.d(t,{IH:function(){return i},bA:function(){return o},c:function(){return l},fF:function(){return f},iu:function(){return c},kE:function(){return a},kK:function(){return A},lu:function(){return h},t7:function(){return u},tk:function(){return s}});var r=n(4231);function i(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function o(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function a(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function s(e,t){return e[0]=-t[0],e[1]=-t[1],e}function u(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function l(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function c(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function A(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function f(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}var h=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e};!function(){var e=function(){var e=new r.WT(2);return r.WT!=Float32Array&&(e[0]=0,e[1]=0),e}()}()},7206:function(e,t,n){"use strict";n.d(t,{AK:function(){return c},EU:function(){return m},Fv:function(){return l},IH:function(){return s},Ue:function(){return i},VC:function(){return d},Zh:function(){return w},al:function(){return a},dC:function(){return _},fF:function(){return h},jI:function(){return y},kC:function(){return A},kE:function(){return o},kK:function(){return p},lM:function(){return g},lu:function(){return b},t7:function(){return f},tk:function(){return u},uD:function(){return v},x9:function(){return x}});var r=n(4231);function i(){var e=new r.WT(3);return r.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function a(e,t,n){var i=new r.WT(3);return i[0]=e,i[1]=t,i[2]=n,i}function s(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function u(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function l(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function c(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function A(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}function f(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}function h(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function p(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function d(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],u=t[1],l=t[2],c=i*l-o*u,A=o*s-r*l,f=r*u-i*s,h=i*f-o*A,p=o*c-r*f,d=r*A-i*c,g=2*a;return c*=g,A*=g,f*=g,h*=2,p*=2,d*=2,e[0]=s+c+h,e[1]=u+A+p,e[2]=l+f+d,e}function g(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function v(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function y(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function m(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),l=u&&c(e,t)/u;return Math.acos(Math.min(Math.max(l,-1),1))}var b=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},_=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},w=o,x=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};!function(){var e=i()}()},725:function(e,t,n){"use strict";n.d(t,{AK:function(){return h},Fv:function(){return f},I6:function(){return v},IH:function(){return u},JG:function(){return a},VC:function(){return g},al:function(){return o},bA:function(){return l},d9:function(){return i},fF:function(){return d},fS:function(){return y},kE:function(){return c},t7:function(){return p},t8:function(){return s},we:function(){return A}});var r=n(4231);function i(e){var t=new r.WT(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t,n,i){var o=new r.WT(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=i,o}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function u(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function l(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function c(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.hypot(t,n,r,i)}function A(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function f(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e}function h(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function p(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e}function d(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function g(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,A=l*i+u*r-a*o,f=l*o+a*i-s*r,h=-a*r-s*i-u*o;return e[0]=c*l+h*-a+A*-u-f*-s,e[1]=A*l+h*-s+f*-a-c*-u,e[2]=f*l+h*-u+c*-s-A*-a,e[3]=t[3],e}function v(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function y(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=t[0],u=t[1],l=t[2],c=t[3];return Math.abs(n-s)<=r.Ib*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r.Ib*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=r.Ib*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=r.Ib*Math.max(1,Math.abs(a),Math.abs(c))}!function(){var e=function(){var e=new r.WT(4);return r.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}()},6e3:function(e,t,n){var r;r="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},e.exports=r},4600:function(e,t,n){var r;!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),A=Math.round,f=Math.abs,h=Date.now;function p(e,t,n){return setTimeout(_(e,n),t)}function d(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function v(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var y=v((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),m=v((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function b(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function w(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function x(e,t){return e===s?t:e}function C(e,t,n){g(k(t),(function(t){e.addEventListener(t,n,!1)}))}function B(e,t,n){g(k(t),(function(t){e.removeEventListener(t,n,!1)}))}function E(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function S(e,t){return e.indexOf(t)>-1}function k(e){return e.trim().split(/\s+/g)}function O(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function T(e){return Array.prototype.slice.call(e,0)}function P(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];O(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function M(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:t)in e)return r;o++}return s}var F=1;function I(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var L="ontouchstart"in i,R=M(i,"PointerEvent")!==s,D=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Z="touch",U="mouse",j=24,N=["x","y"],z=["clientX","clientY"];function Q(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){w(e.options.enable,[e])&&n.handler(t)},this.init()}function H(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i===0,a=12&t&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=V(t));i>1&&!n.firstMultiple?n.firstMultiple=V(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=t.center=G(r);t.timeStamp=h(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=X(u,l),t.distance=q(u,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=K(t.deltaX,t.deltaY);var c=W(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=f(c.x)>f(c.y)?c.x:c.y,t.scale=a?(A=a.pointers,p=r,q(p[0],p[1],z)/q(A[0],A[1],z)):1,t.rotation=a?function(e,t){return X(t[1],t[0],z)+X(e[1],e[0],z)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(u>25||a.velocity===s)){var l=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,A=W(u,l,c);r=A.x,i=A.y,n=f(A.x)>f(A.y)?A.x:A.y,o=K(l,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var A,p;var d=e.element;E(t.srcEvent.target,d)&&(d=t.srcEvent.target);t.target=d}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function V(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:A(e.pointers[n].clientX),clientY:A(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:G(t),deltaX:e.deltaX,deltaY:e.deltaY}}function G(e){var t=e.length;if(1===t)return{x:A(e[0].clientX),y:A(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:A(n/t),y:A(r/t)}}function W(e,t,n){return{x:t/e||0,y:n/e||0}}function K(e,t){return e===t?1:f(e)>=f(t)?e<0?2:4:t<0?8:16}function q(e,t,n){n||(n=N);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function X(e,t,n){n||(n=N);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}Q.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&B(this.element,this.evEl,this.domHandler),this.evTarget&&B(this.target,this.evTarget,this.domHandler),this.evWin&&B(I(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4},J="mousedown",$="mousemove mouseup";function ee(){this.evEl=J,this.evWin=$,this.pressed=!1,Q.apply(this,arguments)}b(ee,Q,{handler:function(e){var t=Y[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:U,srcEvent:e}))}});var te={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:Z,3:"pen",4:U,5:"kinect"},re="pointerdown",ie="pointermove pointerup pointercancel";function oe(){this.evEl=re,this.evWin=ie,Q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(re="MSPointerDown",ie="MSPointerMove MSPointerUp MSPointerCancel"),b(oe,Q,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=te[r],o=ne[e.pointerType]||e.pointerType,a=o==Z,s=O(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8},se="touchstart",ue="touchstart touchmove touchend touchcancel";function le(){this.evTarget=se,this.evWin=ue,this.started=!1,Q.apply(this,arguments)}function ce(e,t){var n=T(e.touches),r=T(e.changedTouches);return 12&t&&(n=P(n.concat(r),"identifier",!0)),[n,r]}b(le,Q,{handler:function(e){var t=ae[e.type];if(1===t&&(this.started=!0),this.started){var n=ce.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Z,srcEvent:e})}}});var Ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8},fe="touchstart touchmove touchend touchcancel";function he(){this.evTarget=fe,this.targetIds={},Q.apply(this,arguments)}function pe(e,t){var n=T(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=T(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return E(e.target,u)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;return s.length?[P(o.concat(s),"identifier",!0),s]:void 0}b(he,Q,{handler:function(e){var t=Ae[e.type],n=pe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Z,srcEvent:e})}});function de(){Q.apply(this,arguments);var e=_(this.handler,this);this.touch=new he(this.manager,e),this.mouse=new ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ge(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ve.call(this,t)):12&e&&ve.call(this,t)}function ve(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ye(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}b(de,Q,{handler:function(e,t,n){var r=n.pointerType==Z,i=n.pointerType==U;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ge.call(this,t,n);else if(i&&ye.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var me=M(c.style,"touchAction"),be=me!==s,_e="compute",we="auto",xe="manipulation",Ce="none",Be="pan-x",Ee="pan-y",Se=function(){if(!be)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function ke(e,t){this.manager=e,this.set(t)}ke.prototype={set:function(e){e==_e&&(e=this.compute()),be&&this.manager.element.style&&Se[e]&&(this.manager.element.style[me]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){w(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(S(e,Ce))return Ce;var t=S(e,Be),n=S(e,Ee);if(t&&n)return Ce;if(t||n)return t?Be:Ee;if(S(e,xe))return xe;return we}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=S(r,Ce)&&!Se.none,o=S(r,Ee)&&!Se["pan-y"],a=S(r,Be)&&!Se["pan-x"];if(i){var s=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&6&n||a&&n&j?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Oe=32;function Te(e){this.options=u({},this.defaults,e||{}),this.id=F++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Pe(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Me(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Fe(e,t){var n=t.manager;return n?n.get(e):e}function Ie(){Te.apply(this,arguments)}function Le(){Ie.apply(this,arguments),this.pX=null,this.pY=null}function Re(){Ie.apply(this,arguments)}function De(){Te.apply(this,arguments),this._timer=null,this._input=null}function Ze(){Ie.apply(this,arguments)}function Ue(){Ie.apply(this,arguments)}function je(){Te.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ne(e,t){return(t=t||{}).recognizers=x(t.recognizers,Ne.defaults.preset),new ze(e,t)}Te.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(d(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Fe(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return d(e,"dropRecognizeWith",this)||(e=Fe(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(d(e,"requireFailure",this))return this;var t=this.requireFail;return-1===O(t,e=Fe(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(d(e,"dropRequireFailure",this))return this;e=Fe(e,this);var t=O(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Pe(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Pe(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Oe},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!w(this.options.enable,[this,t]))return this.reset(),void(this.state=Oe);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b(Ie,Te,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:Oe}}),b(Le,Ie,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Ee),e&j&&t.push(Be),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return Ie.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Me(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(Re,Ie,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ce]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),b(De,Te,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[we]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return Oe},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),b(Ze,Ie,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ce]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),b(Ue,Ie,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Le.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:n&j&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Me(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b(je,Te,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[xe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||q(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Oe},failTimeout:function(){return this._timer=p((function(){this.state=Oe}),this.options.interval,this),Oe},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ne.VERSION="2.0.7",Ne.defaults={domEvents:!1,touchAction:_e,enable:!0,inputTarget:null,inputClass:null,preset:[[Ze,{enable:!1}],[Re,{enable:!1},["rotate"]],[Ue,{direction:6}],[Le,{direction:6},["swipe"]],[je],[je,{event:"doubletap",taps:2},["tap"]],[De]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ze(e,t){var n;this.options=u({},Ne.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(R?oe:D?he:L?de:ee))(n,H),this.touchAction=new ke(this,this.options.touchAction),Qe(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Qe(e,t){var n,r=e.element;r.style&&(g(e.options.cssProps,(function(i,o){n=M(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}ze.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Te)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(d(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(d(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=O(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return g(k(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return g(k(e),(function(e){t?n[e]&&n[e].splice(O(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Qe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ne,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Oe,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:j,DIRECTION_ALL:30,Manager:ze,Input:Q,TouchAction:ke,TouchInput:he,MouseInput:ee,PointerEventInput:oe,TouchMouseInput:de,SingleTouchInput:le,Recognizer:Te,AttrRecognizer:Ie,Tap:je,Pan:Le,Swipe:Ue,Pinch:Re,Rotate:Ze,Press:De,on:C,off:B,each:g,merge:m,extend:y,assign:u,inherit:b,bindFn:_,prefixed:M}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=Ne,(r=function(){return Ne}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},981:function(e,t,n){"use strict";var r=n(598)("%Object.defineProperty%",!0),i=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},154:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(5690);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},5690:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},4336:function(e,t,n){"use strict";var r=n(5690);e.exports=function(){return r()&&!!Symbol.toStringTag}},8335:function(e,t,n){"use strict";var r=n(485);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},9474:function(e,t,n){"use strict";n.r(t),n.d(t,{createBrowserHistory:function(){return B},createHashHistory:function(){return P},createLocation:function(){return v},createMemoryHistory:function(){return F},createPath:function(){return g},locationsAreEqual:function(){return y},parsePath:function(){return d}});var r=n(4301);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),l=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var A=0,f=a.length;f>=0;f--){var h=a[f];"."===h?o(a,f):".."===h?(o(a,f),A++):A&&(o(a,f),A--)}if(!l)for(;A--;A)a.unshift("..");!l||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},l="Invariant failed";function c(e,t){if(!e)throw new Error(l)}function A(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function d(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var o;"string"===typeof e?(o=d(e)).state=t:(void 0===(o=(0,r.Z)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function y(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function m(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function _(e,t){t(window.confirm(e))}var w="popstate",x="hashchange";function C(){try{return window.history.state||{}}catch(e){return{}}}function B(e){void 0===e&&(e={}),b||c(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,l=void 0===u?_:u,f=o.keyLength,d=void 0===f?6:f,y=e.basename?p(A(e.basename)):"";function B(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return y&&(o=h(o,y)),v(o,r,n)}function E(){return Math.random().toString(36).substr(2,d)}var S=m();function k(e){(0,r.Z)(j,e),j.length=t.length,S.notifyListeners(j.location,j.action)}function O(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||M(B(e.state))}function T(){M(B(C()))}var P=!1;function M(e){if(P)P=!1,k();else{S.confirmTransitionTo(e,"POP",l,(function(t){t?k({action:"POP",location:e}):function(e){var t=j.location,n=I.indexOf(t.key);-1===n&&(n=0);var r=I.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(P=!0,R(i))}(e)}))}}var F=B(C()),I=[F.key];function L(e){return y+g(e)}function R(e){t.go(e)}var D=0;function Z(e){1===(D+=e)&&1===e?(window.addEventListener(w,O),i&&window.addEventListener(x,T)):0===D&&(window.removeEventListener(w,O),i&&window.removeEventListener(x,T))}var U=!1;var j={length:t.length,action:"POP",location:F,createHref:L,push:function(e,r){var i="PUSH",o=v(e,r,E(),j.location);S.confirmTransitionTo(o,i,l,(function(e){if(e){var r=L(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var l=I.indexOf(j.location.key),c=I.slice(0,l+1);c.push(o.key),I=c,k({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=v(e,r,E(),j.location);S.confirmTransitionTo(o,i,l,(function(e){if(e){var r=L(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var l=I.indexOf(j.location.key);-1!==l&&(I[l]=o.key),k({action:i,location:o})}else window.location.replace(r)}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return U||(Z(1),U=!0),function(){return U&&(U=!1,Z(-1)),t()}},listen:function(e){var t=S.appendListener(e);return Z(1),function(){Z(-1),t()}}};return j}var E="hashchange",S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:A},slash:{encodePath:A,decodePath:A}};function k(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function O(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function T(e){window.location.replace(k(window.location.href)+"#"+e)}function P(e){void 0===e&&(e={}),b||c(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?_:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?p(A(e.basename)):"",l=S[s],f=l.encodePath,d=l.decodePath;function y(){var e=d(O());return u&&(e=h(e,u)),v(e)}var w=m();function x(e){(0,r.Z)(j,e),j.length=t.length,w.notifyListeners(j.location,j.action)}var C=!1,B=null;function P(){var e,t,n=O(),r=f(n);if(n!==r)T(r);else{var i=y(),a=j.location;if(!C&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(B===g(i))return;B=null,function(e){if(C)C=!1,x();else{var t="POP";w.confirmTransitionTo(e,t,o,(function(n){n?x({action:t,location:e}):function(e){var t=j.location,n=L.lastIndexOf(g(t));-1===n&&(n=0);var r=L.lastIndexOf(g(e));-1===r&&(r=0);var i=n-r;i&&(C=!0,R(i))}(e)}))}}(i)}}var M=O(),F=f(M);M!==F&&T(F);var I=y(),L=[g(I)];function R(e){t.go(e)}var D=0;function Z(e){1===(D+=e)&&1===e?window.addEventListener(E,P):0===D&&window.removeEventListener(E,P)}var U=!1;var j={length:t.length,action:"POP",location:I,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=k(window.location.href)),n+"#"+f(u+g(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,j.location);w.confirmTransitionTo(r,n,o,(function(e){if(e){var t=g(r),i=f(u+t);if(O()!==i){B=t,function(e){window.location.hash=e}(i);var o=L.lastIndexOf(g(j.location)),a=L.slice(0,o+1);a.push(t),L=a,x({action:n,location:r})}else x()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,j.location);w.confirmTransitionTo(r,n,o,(function(e){if(e){var t=g(r),i=f(u+t);O()!==i&&(B=t,T(i));var o=L.indexOf(g(j.location));-1!==o&&(L[o]=t),x({action:n,location:r})}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return U||(Z(1),U=!0),function(){return U&&(U=!1,Z(-1)),t()}},listen:function(e){var t=w.appendListener(e);return Z(1),function(){Z(-1),t()}}};return j}function M(e,t,n){return Math.min(Math.max(e,t),n)}function F(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,l=void 0===u?6:u,c=m();function A(e){(0,r.Z)(b,e),b.length=b.entries.length,c.notifyListeners(b.location,b.action)}function f(){return Math.random().toString(36).substr(2,l)}var h=M(s,0,o.length-1),p=o.map((function(e){return v(e,void 0,"string"===typeof e?f():e.key||f())})),d=g;function y(e){var t=M(b.index+e,0,b.entries.length-1),r=b.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?A({action:"POP",location:r,index:t}):A()}))}var b={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:d,push:function(e,t){var r="PUSH",i=v(e,t,f(),b.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),A({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=v(e,t,f(),b.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(b.entries[b.index]=i,A({action:r,location:i}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return b}},7313:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{u(r.next(e))}catch(Dt){o(Dt)}}function s(e){try{u(r.throw(e))}catch(Dt){o(Dt)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Dt){o=[6,Dt],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var a=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s=function(e,t){return a.fromClientRect(e,t.getBoundingClientRect())},u=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new a(0,0,r,i)},l=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320===(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<A.length;h++)f[A.charCodeAt(h)]=h;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<p.length;g++)d[p.charCodeAt(g)]=g;for(var v=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<s;t+=4)n=d[e.charCodeAt(t)],r=d[e.charCodeAt(t+1)],i=d[e.charCodeAt(t+2)],o=d[e.charCodeAt(t+3)],c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|i>>2,c[u++]=(3&i)<<6|63&o;return l},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},m=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},b=5,_=11,w=2,x=65536>>b,C=(1<<b)-1,B=x+(1024>>b)+32,E=65536>>_,S=(1<<_-b)-1,k=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},O=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},T=function(e,t){var n=v(e),r=Array.isArray(n)?m(n):new Uint32Array(n),i=Array.isArray(n)?y(n):new Uint16Array(n),o=24,a=k(i,o/2,r[4]/2),s=2===r[5]?k(i,(o+r[4])/2):O(r,Math.ceil((o+r[4])/4));return new P(r[0],r[1],r[2],r[3],a,s)},P=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>b])<<w)+(e&C),this.data[t];if(e<=65535)return t=((t=this.index[x+(e-55296>>b)])<<w)+(e&C),this.data[t];if(e<this.highStart)return t=B-E+(e>>_),t=this.index[t],t+=e>>b&S,t=((t=this.index[t])<<w)+(e&C),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F="undefined"===typeof Uint8Array?[]:new Uint8Array(256),I=0;I<M.length;I++)F[M.charCodeAt(I)]=I;var L=50,R=1,D=2,Z=3,U=4,j=5,N=7,z=8,Q=9,H=10,V=11,G=12,W=13,K=14,q=15,X=16,Y=17,J=18,$=19,ee=20,te=21,ne=22,re=23,ie=24,oe=25,ae=26,se=27,ue=28,le=29,ce=30,Ae=31,fe=32,he=33,pe=34,de=35,ge=36,ve=37,ye=38,me=39,be=40,_e=41,we=42,xe=43,Ce=[9001,65288],Be="!",Ee="\xd7",Se="\xf7",ke=T("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Oe=[ce,ge],Te=[R,D,Z,j],Pe=[H,z],Me=[se,ae],Fe=Te.concat(Pe),Ie=[ye,me,be,pe,de],Le=[q,W],Re=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach((function(e,o){var a=ke.get(e);if(a>L?(i.push(!0),a-=L):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(o),n.push(X);if(a===U||a===V){if(0===o)return r.push(o),n.push(ce);var s=n[o-1];return-1===Fe.indexOf(s)?(r.push(r[o-1]),n.push(s)):(r.push(o),n.push(ce))}return r.push(o),a===Ae?n.push("strict"===t?te:ve):a===we||a===le?n.push(ce):a===xe?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(ve):n.push(ce):void n.push(a)})),[r,n,i]},De=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){if((u=r[++o])===t)return!0;if(u!==H)break}if(i===H)for(o=n;o>0;){var a=r[--o];if(Array.isArray(e)?-1!==e.indexOf(a):e===a)for(var s=n;s<=r.length;){var u;if((u=r[++s])===t)return!0;if(u!==H)break}if(a!==H)break}return!1},Ze=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==H)return r;n--}return 0},Ue=function(e,t,n,r,i){if(0===n[r])return Ee;var o=r-1;if(Array.isArray(i)&&!0===i[o])return Ee;var a=o-1,s=o+1,u=t[o],l=a>=0?t[a]:0,c=t[s];if(u===D&&c===Z)return Ee;if(-1!==Te.indexOf(u))return Be;if(-1!==Te.indexOf(c))return Ee;if(-1!==Pe.indexOf(c))return Ee;if(Ze(o,t)===z)return Se;if(ke.get(e[o])===V)return Ee;if((u===fe||u===he)&&ke.get(e[s])===V)return Ee;if(u===N||c===N)return Ee;if(u===Q)return Ee;if(-1===[H,W,q].indexOf(u)&&c===Q)return Ee;if(-1!==[Y,J,$,ie,ue].indexOf(c))return Ee;if(Ze(o,t)===ne)return Ee;if(De(re,ne,o,t))return Ee;if(De([Y,J],te,o,t))return Ee;if(De(G,G,o,t))return Ee;if(u===H)return Se;if(u===re||c===re)return Ee;if(c===X||u===X)return Se;if(-1!==[W,q,te].indexOf(c)||u===K)return Ee;if(l===ge&&-1!==Le.indexOf(u))return Ee;if(u===ue&&c===ge)return Ee;if(c===ee)return Ee;if(-1!==Oe.indexOf(c)&&u===oe||-1!==Oe.indexOf(u)&&c===oe)return Ee;if(u===se&&-1!==[ve,fe,he].indexOf(c)||-1!==[ve,fe,he].indexOf(u)&&c===ae)return Ee;if(-1!==Oe.indexOf(u)&&-1!==Me.indexOf(c)||-1!==Me.indexOf(u)&&-1!==Oe.indexOf(c))return Ee;if(-1!==[se,ae].indexOf(u)&&(c===oe||-1!==[ne,q].indexOf(c)&&t[s+1]===oe)||-1!==[ne,q].indexOf(u)&&c===oe||u===oe&&-1!==[oe,ue,ie].indexOf(c))return Ee;if(-1!==[oe,ue,ie,Y,J].indexOf(c))for(var A=o;A>=0;){if((f=t[A])===oe)return Ee;if(-1===[ue,ie].indexOf(f))break;A--}if(-1!==[se,ae].indexOf(c))for(A=-1!==[Y,J].indexOf(u)?a:o;A>=0;){var f;if((f=t[A])===oe)return Ee;if(-1===[ue,ie].indexOf(f))break;A--}if(ye===u&&-1!==[ye,me,pe,de].indexOf(c)||-1!==[me,pe].indexOf(u)&&-1!==[me,be].indexOf(c)||-1!==[be,de].indexOf(u)&&c===be)return Ee;if(-1!==Ie.indexOf(u)&&-1!==[ee,ae].indexOf(c)||-1!==Ie.indexOf(c)&&u===se)return Ee;if(-1!==Oe.indexOf(u)&&-1!==Oe.indexOf(c))return Ee;if(u===ie&&-1!==Oe.indexOf(c))return Ee;if(-1!==Oe.concat(oe).indexOf(u)&&c===ne&&-1===Ce.indexOf(e[s])||-1!==Oe.concat(oe).indexOf(c)&&u===J)return Ee;if(u===_e&&c===_e){for(var h=n[o],p=1;h>0&&t[--h]===_e;)p++;if(p%2!==0)return Ee}return u===fe&&c===he?Ee:Se},je=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Re(e,t.lineBreak),r=n[0],i=n[1],o=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[oe,ce,we].indexOf(e)?ve:e})));var a="keep-all"===t.wordBreak?o.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[r,i,a]},Ne=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Be,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),ze=function(e,t){var n=l(e),r=je(n,t),i=r[0],o=r[1],a=r[2],s=n.length,u=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var e=Ee;c<s&&(e=Ue(n,o,i,++c,a))===Ee;);if(e!==Ee||c===s){var t=new Ne(n,e,u,c);return u=c,{value:t,done:!1}}return{done:!0,value:null}}}},Qe=1,He=2,Ve=4,Ge=8,We=10,Ke=47,qe=92,Xe=9,Ye=32,Je=34,$e=61,et=35,tt=36,nt=37,rt=39,it=40,ot=41,at=95,st=45,ut=33,lt=60,ct=62,At=64,ft=91,ht=93,pt=61,dt=123,gt=63,vt=125,yt=124,mt=126,bt=128,_t=65533,wt=42,xt=43,Ct=44,Bt=58,Et=59,St=46,kt=0,Ot=8,Tt=11,Pt=14,Mt=31,Ft=127,It=-1,Lt=48,Rt=97,Dt=101,Zt=102,Ut=117,jt=122,Nt=65,zt=69,Qt=70,Ht=85,Vt=90,Gt=function(e){return e>=Lt&&e<=57},Wt=function(e){return e>=55296&&e<=57343},Kt=function(e){return Gt(e)||e>=Nt&&e<=Qt||e>=Rt&&e<=Zt},qt=function(e){return e>=Rt&&e<=jt},Xt=function(e){return e>=Nt&&e<=Vt},Yt=function(e){return qt(e)||Xt(e)},Jt=function(e){return e>=bt},$t=function(e){return e===We||e===Xe||e===Ye},en=function(e){return Yt(e)||Jt(e)||e===at},tn=function(e){return en(e)||Gt(e)||e===st},nn=function(e){return e>=kt&&e<=Ot||e===Tt||e>=Pt&&e<=Mt||e===Ft},rn=function(e,t){return e===qe&&t!==We},on=function(e,t,n){return e===st?en(t)||rn(t,n):!!en(e)||!(e!==qe||!rn(e,t))},an=function(e,t,n){return e===xt||e===st?!!Gt(t)||t===St&&Gt(n):Gt(e===St?t:e)},sn=function(e){var t=0,n=1;e[t]!==xt&&e[t]!==st||(e[t]===st&&(n=-1),t++);for(var r=[];Gt(e[t]);)r.push(e[t++]);var i=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===St&&t++;for(var o=[];Gt(e[t]);)o.push(e[t++]);var a=o.length,s=a?parseInt(c.apply(void 0,o),10):0;e[t]!==zt&&e[t]!==Dt||t++;var u=1;e[t]!==xt&&e[t]!==st||(e[t]===st&&(u=-1),t++);for(var l=[];Gt(e[t]);)l.push(e[t++]);var A=l.length?parseInt(c.apply(void 0,l),10):0;return n*(i+s*Math.pow(10,-a))*Math.pow(10,u*A)},un={type:2},ln={type:3},cn={type:4},An={type:13},fn={type:8},hn={type:21},pn={type:9},dn={type:10},gn={type:11},vn={type:12},yn={type:14},mn={type:23},bn={type:1},_n={type:25},wn={type:24},xn={type:26},Cn={type:27},Bn={type:28},En={type:29},Sn={type:31},kn={type:32},On=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==kn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Je:return this.consumeStringToken(Je);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var i=on(t,n,r)?He:Qe;return{type:5,value:this.consumeName(),flags:i}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),An;break;case rt:return this.consumeStringToken(rt);case it:return un;case ot:return ln;case wt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),yn;break;case xt:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ct:return cn;case st:var o=e,a=this.peekCodePoint(0),s=this.peekCodePoint(1);if(an(o,a,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(on(o,a,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===st&&s===ct)return this.consumeCodePoint(),this.consumeCodePoint(),wn;break;case St:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ke:if(this.peekCodePoint(0)===wt)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===wt&&(u=this.consumeCodePoint())===Ke)return this.consumeToken();if(u===It)return this.consumeToken()}break;case Bt:return xn;case Et:return Cn;case lt:if(this.peekCodePoint(0)===ut&&this.peekCodePoint(1)===st&&this.peekCodePoint(2)===st)return this.consumeCodePoint(),this.consumeCodePoint(),_n;break;case At:var l=this.peekCodePoint(0),A=this.peekCodePoint(1),f=this.peekCodePoint(2);if(on(l,A,f))return{type:7,value:this.consumeName()};break;case ft:return Bn;case qe:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return En;case pt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),fn;break;case dt:return gn;case vt:return vn;case Ut:case Ht:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h!==xt||!Kt(p)&&p!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case yt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),pn;if(this.peekCodePoint(0)===yt)return this.consumeCodePoint(),hn;break;case mt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),dn;break;case It:return kn}return $t(e)?(this.consumeWhiteSpace(),Sn):Gt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Kt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map((function(e){return e===gt?Lt:e}))),16),end:parseInt(c.apply(void 0,e.map((function(e){return e===gt?Qt:e}))),16)};var r=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===st&&Kt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];Kt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===It)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Je){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===It||this.peekCodePoint(0)===ot)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),mn)}for(;;){var r=this.consumeCodePoint();if(r===It||r===ot)return{type:22,value:c.apply(void 0,e)};if($t(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===It||this.peekCodePoint(0)===ot?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),mn);if(r===Je||r===rt||r===it||nn(r))return this.consumeBadUrlRemnants(),mn;if(r===qe){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),mn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ot||e===It)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===It||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===We)return this._value.splice(0,n),bn;if(r===qe){var i=this._value[n+1];i!==It&&void 0!==i&&(i===We?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,i)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=Ve,n=this.peekCodePoint(0);for(n!==xt&&n!==st||e.push(this.consumeCodePoint());Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===St&&Gt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===zt||n===Dt)&&((r===xt||r===st)&&Gt(i)||Gt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[sn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);return on(r,i,o)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Kt(e)){for(var t=c(e);Kt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Wt(n)||n>1114111?_t:n}return e===It?_t:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),Tn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new On;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Un(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?kn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Pn=function(e){return 15===e.type},Mn=function(e){return 17===e.type},Fn=function(e){return 20===e.type},In=function(e){return 0===e.type},Ln=function(e,t){return Fn(e)&&e.value===t},Rn=function(e){return 31!==e.type},Dn=function(e){return 31!==e.type&&4!==e.type},Zn=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Un=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},jn=function(e){return 17===e.type||15===e.type},Nn=function(e){return 16===e.type||jn(e)},zn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Qn={type:17,number:0,flags:Ve},Hn={type:16,number:50,flags:Ve},Vn={type:16,number:100,flags:Ve},Gn=function(e,t,n){var r=e[0],i=e[1];return[Wn(r,t),Wn("undefined"!==typeof i?i:r,n)]},Wn=function(e,t){if(16===e.type)return e.number/100*t;if(Pn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Kn="deg",qn="grad",Xn="rad",Yn="turn",Jn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Kn:return Math.PI*t.number/180;case qn:return Math.PI/200*t.number;case Xn:return t.number;case Yn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},$n=function(e){return 15===e.type&&(e.unit===Kn||e.unit===qn||e.unit===Xn||e.unit===Yn)},er=function(e){switch(e.filter(Fn).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Qn,Qn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Qn,Vn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vn,Vn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vn,Qn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=cr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);return or(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);var a=t.value.substring(3,4);return or(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(a+a,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),or(parseInt(r,16),parseInt(i,16),parseInt(o,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),a=t.value.substring(6,8),or(parseInt(r,16),parseInt(i,16),parseInt(o,16),parseInt(a,16)/255)}if(20===t.type){var s=fr[t.value.toUpperCase()];if("undefined"!==typeof s)return s}return fr.TRANSPARENT}},rr=function(e){return 0===(255&e)},ir=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},or=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r)<<0)>>>0},ar=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},sr=function(e,t){var n=t.filter(Dn);if(3===n.length){var r=n.map(ar),i=r[0],o=r[1],a=r[2];return or(i,o,a,1)}if(4===n.length){var s=n.map(ar),u=(i=s[0],o=s[1],a=s[2],s[3]);return or(i,o,a,u)}return 0};function ur(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var lr=function(e,t){var n=t.filter(Dn),r=n[0],i=n[1],o=n[2],a=n[3],s=(17===r.type?tr(r.number):Jn.parse(e,r))/(2*Math.PI),u=Nn(i)?i.number/100:0,l=Nn(o)?o.number/100:0,c="undefined"!==typeof a&&Nn(a)?Wn(a,1):1;if(0===u)return or(255*l,255*l,255*l,1);var A=l<=.5?l*(u+1):l+u-l*u,f=2*l-A,h=ur(f,A,s+1/3),p=ur(f,A,s),d=ur(f,A,s-1/3);return or(255*h,255*p,255*d,c)},cr={hsl:lr,hsla:lr,rgb:sr,rgba:sr},Ar=function(e,t){return nr.parse(e,Tn.create(t).parseComponentValue())},fr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Fn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},pr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Nn(r)?{color:n,stop:r}:{color:n,stop:null}},gr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Qn),null===r.stop&&(r.stop=Vn);for(var i=[],o=0,a=0;a<e.length;a++){var s=e[a].stop;if(null!==s){var u=Wn(s,t);u>o?i.push(u):i.push(o),o=u}else i.push(null)}var l=null;for(a=0;a<i.length;a++){var c=i[a];if(null===c)null===l&&(l=a);else if(null!==l){for(var A=a-l,f=(c-i[l-1])/(A+1),h=1;h<=A;h++)i[l+h-1]=f*h;l=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}}))},vr=function(e,t,n){var r=t/2,i=n/2,o=Wn(e[0],t)-r,a=i-Wn(e[1],n);return(Math.atan2(a,o)+2*Math.PI)%(2*Math.PI)},yr=function(e,t,n){var r="number"===typeof e?e:vr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),o=t/2,a=n/2,s=i/2,u=Math.sin(r-Math.PI/2)*s,l=Math.cos(r-Math.PI/2)*s;return[i,o-l,o+l,a-u,a+u]},mr=function(e,t){return Math.sqrt(e*e+t*t)},br=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var o=t[0],a=t[1],s=mr(n-o,r-a);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},_r=function(e,t,n,r,i){var o=0,a=0;switch(e.size){case 0:0===e.shape?o=a=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(o=Math.min(Math.abs(t),Math.abs(t-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)o=a=Math.min(mr(t,n),mr(t,n-i),mr(t-r,n),mr(t-r,n-i));else if(1===e.shape){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),u=br(r,i,t,n,!0),l=u[0],c=u[1];a=s*(o=mr(l-t,(c-n)/s))}break;case 1:0===e.shape?o=a=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(o=Math.max(Math.abs(t),Math.abs(t-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)o=a=Math.max(mr(t,n),mr(t,n-i),mr(t-r,n),mr(t-r,n-i));else if(1===e.shape){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var A=br(r,i,t,n,!1);l=A[0],c=A[1],a=s*(o=mr(l-t,(c-n)/s))}}return Array.isArray(e.size)&&(o=Wn(e.size[0],r),a=2===e.size.length?Wn(e.size[1],i):o),[o,a]},wr=function(e,t){var n=tr(180),r=[];return Zn(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&"to"===o.value)return void(n=er(t));if($n(o))return void(n=Jn.parse(e,o))}var a=dr(e,t);r.push(a)})),{angle:n,stops:r,type:1}},xr=function(e,t){var n=tr(180),r=[];return Zn(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&-1!==["top","left","right","bottom"].indexOf(o.value))return void(n=er(t));if($n(o))return void(n=(Jn.parse(e,o)+tr(270))%tr(360))}var a=dr(e,t);r.push(a)})),{angle:n,stops:r,type:1}},Cr=function(e,t){var n=tr(180),r=[],i=1,o=0,a=3,s=[];return Zn(t).forEach((function(t,n){var o=t[0];if(0===n){if(Fn(o)&&"linear"===o.value)return void(i=1);if(Fn(o)&&"radial"===o.value)return void(i=2)}if(18===o.type)if("from"===o.name){var a=nr.parse(e,o.values[0]);r.push({stop:Qn,color:a})}else if("to"===o.name)a=nr.parse(e,o.values[0]),r.push({stop:Vn,color:a});else if("color-stop"===o.name){var s=o.values.filter(Dn);if(2===s.length){a=nr.parse(e,s[1]);var u=s[0];Mn(u)&&r.push({stop:{type:16,number:100*u.number,flags:u.flags},color:a})}}})),1===i?{angle:(n+tr(180))%tr(360),stops:r,type:i}:{size:a,shape:o,stops:r,position:s,type:i}},Br="closest-side",Er="farthest-side",Sr="closest-corner",kr="farthest-corner",Or="circle",Tr="ellipse",Pr="cover",Mr="contain",Fr=function(e,t){var n=0,r=3,i=[],o=[];return Zn(t).forEach((function(t,a){var s=!0;if(0===a){var u=!1;s=t.reduce((function(e,t){if(u)if(Fn(t))switch(t.value){case"center":return o.push(Hn),e;case"top":case"left":return o.push(Qn),e;case"right":case"bottom":return o.push(Vn),e}else(Nn(t)||jn(t))&&o.push(t);else if(Fn(t))switch(t.value){case Or:return n=0,!1;case Tr:return n=1,!1;case"at":return u=!0,!1;case Br:return r=0,!1;case Pr:case Er:return r=1,!1;case Mr:case Sr:return r=2,!1;case kr:return r=3,!1}else if(jn(t)||Nn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),s)}if(s){var l=dr(e,t);i.push(l)}})),{size:r,shape:n,stops:i,position:o,type:2}},Ir=function(e,t){var n=0,r=3,i=[],o=[];return Zn(t).forEach((function(t,a){var s=!0;if(0===a?s=t.reduce((function(e,t){if(Fn(t))switch(t.value){case"center":return o.push(Hn),!1;case"top":case"left":return o.push(Qn),!1;case"right":case"bottom":return o.push(Vn),!1}else if(Nn(t)||jn(t))return o.push(t),!1;return e}),s):1===a&&(s=t.reduce((function(e,t){if(Fn(t))switch(t.value){case Or:return n=0,!1;case Tr:return n=1,!1;case Mr:case Br:return r=0,!1;case Er:return r=1,!1;case Sr:return r=2,!1;case Pr:case kr:return r=3,!1}else if(jn(t)||Nn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),s)),s){var u=dr(e,t);i.push(u)}})),{size:r,shape:n,stops:i,position:o,type:2}},Lr=function(e){return 1===e.type},Rr=function(e){return 2===e.type},Dr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=jr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Zr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!jr[e.name])}var Ur,jr={"linear-gradient":wr,"-moz-linear-gradient":xr,"-ms-linear-gradient":xr,"-o-linear-gradient":xr,"-webkit-linear-gradient":xr,"radial-gradient":Fr,"-moz-radial-gradient":Ir,"-ms-radial-gradient":Ir,"-o-radial-gradient":Ir,"-webkit-radial-gradient":Ir,"-webkit-gradient":Cr},Nr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Dn(e)&&Zr(e)})).map((function(t){return Dr.parse(e,t)}))}},zr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Fn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Qr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Zn(t).map((function(e){return e.filter(Nn)})).map(zn)}},Hr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Zn(t).map((function(e){return e.filter(Fn).map((function(e){return e.value})).join(" ")})).map(Vr)}},Vr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Ur||(Ur={}));var Gr,Wr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Zn(t).map((function(e){return e.filter(Kr)}))}},Kr=function(e){return Fn(e)||Nn(e)},qr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Xr=qr("top"),Yr=qr("right"),Jr=qr("bottom"),$r=qr("left"),ei=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return zn(t.filter(Nn))}}},ti=ei("top-left"),ni=ei("top-right"),ri=ei("bottom-right"),ii=ei("bottom-left"),oi=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ai=oi("top"),si=oi("right"),ui=oi("bottom"),li=oi("left"),ci=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Pn(t)?t.number:0}}},Ai=ci("top"),fi=ci("right"),hi=ci("bottom"),pi=ci("left"),di={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},vi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).reduce((function(e,t){return e|yi(t.value)}),0)}},yi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},mi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},bi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Gr||(Gr={}));var _i,wi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Gr.STRICT:Gr.NORMAL}},xi={name:"line-height",initialValue:"normal",prefix:!1,type:4},Ci=function(e,t){return Fn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Nn(e)?Wn(e,t):t},Bi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Dr.parse(e,t)}},Ei={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Si={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},ki=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Oi=ki("top"),Ti=ki("right"),Pi=ki("bottom"),Mi=ki("left"),Fi={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Ii={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Li=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ri=Li("top"),Di=Li("right"),Zi=Li("bottom"),Ui=Li("left"),ji={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ni={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},zi={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Ln(t[0],"none")?[]:Zn(t).map((function(t){for(var n={color:fr.TRANSPARENT,offsetX:Qn,offsetY:Qn,blur:Qn},r=0,i=0;i<t.length;i++){var o=t[i];jn(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:n.blur=o,r++):n.color=nr.parse(e,o)}return n}))}},Qi={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Hi={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Vi[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Vi={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var i=t[4],o=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],s=t[13];return t[14],t[15],16===t.length?[n,r,i,o,a,s]:null}},Gi={type:16,number:50,flags:Ve},Wi=[Gi,Gi],Ki={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Nn);return 2!==n.length?Wi:[n[0],n[1]]}},qi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(_i||(_i={}));for(var Xi={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return _i.BREAK_ALL;case"keep-all":return _i.KEEP_ALL;default:return _i.NORMAL}}},Yi={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Mn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Ji={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},$i={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Mn(t)?t.number:1}},eo={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},to={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},no={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},ro={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},io={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Mn(t)?t.number:Fn(t)&&"bold"===t.value?700:400}},oo={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Fn).map((function(e){return e.value}))}},ao={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},so=function(e,t){return 0!==(e&t)},uo={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},lo={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter(Rn),o=0;o<i.length;o++){var a=i[o],s=i[o+1];if(20===a.type){var u=s&&Mn(s)?s.number:1;r.push({counter:a.value,increment:u})}}return r}},co={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Rn),i=0;i<r.length;i++){var o=r[i],a=r[i+1];if(Fn(o)&&"none"!==o.value){var s=a&&Mn(a)?a.number:0;n.push({counter:o.value,reset:s})}}return n}},Ao={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Pn).map((function(t){return Ji.parse(e,t)}))}},fo={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(In);if(i.length%2!==0)return null;for(var o=0;o<i.length;o+=2){var a=i[o].value,s=i[o+1].value;r.push({open:a,close:s})}return r}},ho=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},po={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Ln(t[0],"none")?[]:Zn(t).map((function(t){for(var n={color:255,offsetX:Qn,offsetY:Qn,blur:Qn,spread:Qn,inset:!1},r=0,i=0;i<t.length;i++){var o=t[i];Ln(o,"inset")?n.inset=!0:jn(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:2===r?n.blur=o:n.spread=o,r++):n.color=nr.parse(e,o)}return n}))}},go={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Fn).forEach((function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},vo={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},yo={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Pn(t)?t.number:0}},mo=function(){function e(e,t){var n,r;this.animationDuration=wo(e,Ao,t.animationDuration),this.backgroundClip=wo(e,hr,t.backgroundClip),this.backgroundColor=wo(e,pr,t.backgroundColor),this.backgroundImage=wo(e,Nr,t.backgroundImage),this.backgroundOrigin=wo(e,zr,t.backgroundOrigin),this.backgroundPosition=wo(e,Qr,t.backgroundPosition),this.backgroundRepeat=wo(e,Hr,t.backgroundRepeat),this.backgroundSize=wo(e,Wr,t.backgroundSize),this.borderTopColor=wo(e,Xr,t.borderTopColor),this.borderRightColor=wo(e,Yr,t.borderRightColor),this.borderBottomColor=wo(e,Jr,t.borderBottomColor),this.borderLeftColor=wo(e,$r,t.borderLeftColor),this.borderTopLeftRadius=wo(e,ti,t.borderTopLeftRadius),this.borderTopRightRadius=wo(e,ni,t.borderTopRightRadius),this.borderBottomRightRadius=wo(e,ri,t.borderBottomRightRadius),this.borderBottomLeftRadius=wo(e,ii,t.borderBottomLeftRadius),this.borderTopStyle=wo(e,ai,t.borderTopStyle),this.borderRightStyle=wo(e,si,t.borderRightStyle),this.borderBottomStyle=wo(e,ui,t.borderBottomStyle),this.borderLeftStyle=wo(e,li,t.borderLeftStyle),this.borderTopWidth=wo(e,Ai,t.borderTopWidth),this.borderRightWidth=wo(e,fi,t.borderRightWidth),this.borderBottomWidth=wo(e,hi,t.borderBottomWidth),this.borderLeftWidth=wo(e,pi,t.borderLeftWidth),this.boxShadow=wo(e,po,t.boxShadow),this.color=wo(e,di,t.color),this.direction=wo(e,gi,t.direction),this.display=wo(e,vi,t.display),this.float=wo(e,mi,t.cssFloat),this.fontFamily=wo(e,no,t.fontFamily),this.fontSize=wo(e,ro,t.fontSize),this.fontStyle=wo(e,ao,t.fontStyle),this.fontVariant=wo(e,oo,t.fontVariant),this.fontWeight=wo(e,io,t.fontWeight),this.letterSpacing=wo(e,bi,t.letterSpacing),this.lineBreak=wo(e,wi,t.lineBreak),this.lineHeight=wo(e,xi,t.lineHeight),this.listStyleImage=wo(e,Bi,t.listStyleImage),this.listStylePosition=wo(e,Ei,t.listStylePosition),this.listStyleType=wo(e,Si,t.listStyleType),this.marginTop=wo(e,Oi,t.marginTop),this.marginRight=wo(e,Ti,t.marginRight),this.marginBottom=wo(e,Pi,t.marginBottom),this.marginLeft=wo(e,Mi,t.marginLeft),this.opacity=wo(e,$i,t.opacity);var i=wo(e,Fi,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=wo(e,Ii,t.overflowWrap),this.paddingTop=wo(e,Ri,t.paddingTop),this.paddingRight=wo(e,Di,t.paddingRight),this.paddingBottom=wo(e,Zi,t.paddingBottom),this.paddingLeft=wo(e,Ui,t.paddingLeft),this.paintOrder=wo(e,go,t.paintOrder),this.position=wo(e,Ni,t.position),this.textAlign=wo(e,ji,t.textAlign),this.textDecorationColor=wo(e,eo,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=wo(e,to,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=wo(e,zi,t.textShadow),this.textTransform=wo(e,Qi,t.textTransform),this.transform=wo(e,Hi,t.transform),this.transformOrigin=wo(e,Ki,t.transformOrigin),this.visibility=wo(e,qi,t.visibility),this.webkitTextStrokeColor=wo(e,vo,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=wo(e,yo,t.webkitTextStrokeWidth),this.wordBreak=wo(e,Xi,t.wordBreak),this.zIndex=wo(e,Yi,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return so(this.display,4)||so(this.display,33554432)||so(this.display,268435456)||so(this.display,536870912)||so(this.display,67108864)||so(this.display,134217728)},e}(),bo=function(){function e(e,t){this.content=wo(e,uo,t.content),this.quotes=wo(e,fo,t.quotes)}return e}(),_o=function(){function e(e,t){this.counterIncrement=wo(e,lo,t.counterIncrement),this.counterReset=wo(e,co,t.counterReset)}return e}(),wo=function(e,t,n){var r=new On,i=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(i);var o=new Tn(r.read());switch(t.type){case 2:var a=o.parseComponentValue();return t.parse(e,Fn(a)?a.value:t.initialValue);case 0:return t.parse(e,o.parseComponentValue());case 1:return t.parse(e,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(t.format){case"angle":return Jn.parse(e,o.parseComponentValue());case"color":return nr.parse(e,o.parseComponentValue());case"image":return Dr.parse(e,o.parseComponentValue());case"length":var s=o.parseComponentValue();return jn(s)?s:Qn;case"length-percentage":var u=o.parseComponentValue();return Nn(u)?u:Qn;case"time":return Ji.parse(e,o.parseComponentValue())}}},xo="data-html2canvas-debug",Co=function(e){switch(e.getAttribute(xo)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Bo=function(e,t){var n=Co(e);return 1===n||t===n},Eo=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Bo(t,3),this.styles=new mo(e,window.getComputedStyle(t,null)),hs(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=s(this.context,t),Bo(t,4)&&(this.flags|=16)}return e}(),So="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oo="undefined"===typeof Uint8Array?[]:new Uint8Array(256),To=0;To<ko.length;To++)Oo[ko.charCodeAt(To)]=To;for(var Po=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<s;t+=4)n=Oo[e.charCodeAt(t)],r=Oo[e.charCodeAt(t+1)],i=Oo[e.charCodeAt(t+2)],o=Oo[e.charCodeAt(t+3)],c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|i>>2,c[u++]=(3&i)<<6|63&o;return l},Mo=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Fo=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Io=5,Lo=11,Ro=2,Do=65536>>Io,Zo=(1<<Io)-1,Uo=Do+(1024>>Io)+32,jo=65536>>Lo,No=(1<<Lo-Io)-1,zo=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Qo=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Ho=function(e,t){var n=Po(e),r=Array.isArray(n)?Fo(n):new Uint32Array(n),i=Array.isArray(n)?Mo(n):new Uint16Array(n),o=24,a=zo(i,o/2,r[4]/2),s=2===r[5]?zo(i,(o+r[4])/2):Qo(r,Math.ceil((o+r[4])/4));return new Vo(r[0],r[1],r[2],r[3],a,s)},Vo=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Io])<<Ro)+(e&Zo),this.data[t];if(e<=65535)return t=((t=this.index[Do+(e-55296>>Io)])<<Ro)+(e&Zo),this.data[t];if(e<this.highStart)return t=Uo-jo+(e>>Lo),t=this.index[t],t+=e>>Io&No,t=((t=this.index[t])<<Ro)+(e&Zo),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wo="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ko=0;Ko<Go.length;Ko++)Wo[Go.charCodeAt(Ko)]=Ko;var qo,Xo=1,Yo=2,Jo=3,$o=4,ea=5,ta=7,na=8,ra=9,ia=10,oa=11,aa=12,sa=13,ua=14,la=15,ca=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320===(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},Aa=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},fa=Ho(So),ha="\xd7",pa="\xf7",da=function(e){return fa.get(e)},ga=function(e,t,n){var r=n-2,i=t[r],o=t[n-1],a=t[n];if(o===Yo&&a===Jo)return ha;if(o===Yo||o===Jo||o===$o)return pa;if(a===Yo||a===Jo||a===$o)return pa;if(o===na&&-1!==[na,ra,oa,aa].indexOf(a))return ha;if((o===oa||o===ra)&&(a===ra||a===ia))return ha;if((o===aa||o===ia)&&a===ia)return ha;if(a===sa||a===ea)return ha;if(a===ta)return ha;if(o===Xo)return ha;if(o===sa&&a===ua){for(;i===ea;)i=t[--r];if(i===ua)return ha}if(o===la&&a===la){for(var s=0;i===la;)s++,i=t[--r];if(s%2===0)return ha}return pa},va=function(e){var t=ca(e),n=t.length,r=0,i=0,o=t.map(da);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=ha;r<n&&(e=ga(t,o,++r))===ha;);if(e!==ha||r===n){var a=Aa.apply(null,t.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},ya=function(e){for(var t,n=va(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},ma=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),o=Math.round(i.height);if(e.body.removeChild(r),o===t)return!0}}return!1},ba=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=l(r.data).map((function(e){return c(e)})),o=0,a={},s=i.every((function(e,t){n.setStart(r,o),n.setEnd(r,o+e.length);var i=n.getBoundingClientRect();o+=e.length;var s=i.x>a.x||i.y>a.y;return a=i,0===t||s}));return e.body.removeChild(t),s},_a=function(){return"undefined"!==typeof(new Image).crossOrigin},wa=function(){return"string"===typeof(new XMLHttpRequest).responseType},xa=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Dt){return!1}return!0},Ca=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Ba=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,o=t.toDataURL();i.src=o;var a=Ea(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Sa(a).then((function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var a=e.createElement("div");return a.style.backgroundImage="url("+o+")",a.style.height=n+"px",Ca(i)?Sa(Ea(n,n,0,0,a)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),Ca(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},Ea=function(e,t,n,r,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(i),a},Sa=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},ka={get SUPPORT_RANGE_BOUNDS(){var e=ma(document);return Object.defineProperty(ka,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ka.SUPPORT_RANGE_BOUNDS&&ba(document);return Object.defineProperty(ka,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=xa(document);return Object.defineProperty(ka,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?Ba(document):Promise.resolve(!1);return Object.defineProperty(ka,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=_a();return Object.defineProperty(ka,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=wa();return Object.defineProperty(ka,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ka,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(ka,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Oa=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Ta=function(e,t,n,r){var i=La(t,n),o=[],s=0;return i.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(ka.SUPPORT_RANGE_BOUNDS){var i=Ma(r,s,t.length).getClientRects();if(i.length>1){var u=Fa(t),l=0;u.forEach((function(t){o.push(new Oa(t,a.fromDOMRectList(e,Ma(r,l+s,t.length).getClientRects()))),l+=t.length}))}else o.push(new Oa(t,a.fromDOMRectList(e,i)))}else{var c=r.splitText(t.length);o.push(new Oa(t,Pa(e,r))),r=c}else ka.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));s+=t.length})),o},Pa=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var o=s(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),o}}return a.EMPTY},Ma=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Fa=function(e){if(ka.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return ya(e)},Ia=function(e,t){if(ka.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return Da(e,t)},La=function(e,t){return 0!==t.letterSpacing?Fa(e):Ia(e,t)},Ra=[32,160,4961,65792,65793,4153,4241],Da=function(e,t){for(var n,r=ze(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],o=function(){if(n.value){var e=n.value.slice(),t=l(e),r="";t.forEach((function(e){-1===Ra.indexOf(e)?r+=c(e):(r.length&&i.push(r),i.push(c(e)),r="")})),r.length&&i.push(r)}};!(n=r.next()).done;)o();return i},Za=function(){function e(e,t,n){this.text=Ua(t.data,n.textTransform),this.textBounds=Ta(e,this.text,n,t)}return e}(),Ua=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(ja,Na);case 2:return e.toUpperCase();default:return e}},ja=/(^|\s|:|-|\(|\))([a-z])/g,Na=function(e,t,n){return e.length>0?t+n.toUpperCase():e},za=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(Eo),Qa=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(Eo),Ha=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,o=s(t,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(Eo),Va=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(Eo),Ga=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(Eo),Wa=[{type:15,flags:0,unit:"px",number:3}],Ka=[{type:16,flags:0,number:50}],qa=function(e){return e.width>e.height?new a(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new a(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Xa=function(e){var t=e.type===$a?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Ya="checkbox",Ja="radio",$a="password",es=707406591,ts=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Xa(n),r.type!==Ya&&r.type!==Ja||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=qa(r.bounds)),r.type){case Ya:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Wa;break;case Ja:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ka}return r}return t(n,e),n}(Eo),ns=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(Eo),rs=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(Eo),is=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=us(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Ar(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):fr.TRANSPARENT,o=n.contentWindow.document.body?Ar(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):fr.TRANSPARENT;r.backgroundColor=rr(i)?rr(o)?r.styles.backgroundColor:o:i}}catch(Dt){}return r}return t(n,e),n}(Eo),os=["OL","UL","MENU"],as=function e(t,n,r,i){for(var o=n.firstChild,a=void 0;o;o=a)if(a=o.nextSibling,As(o)&&o.data.trim().length>0)r.textNodes.push(new Za(t,o,r.styles));else if(fs(o))if(Os(o)&&o.assignedNodes)o.assignedNodes().forEach((function(n){return e(t,n,r,i)}));else{var s=ss(t,o);s.styles.isVisible()&&(ls(o,s,i)?s.flags|=4:cs(s.styles)&&(s.flags|=2),-1!==os.indexOf(o.tagName)&&(s.flags|=8),r.elements.push(s),o.slot,o.shadowRoot?e(t,o.shadowRoot,s,i):Ss(o)||ms(o)||ks(o)||e(t,o,s,i))}},ss=function(e,t){return xs(t)?new za(e,t):_s(t)?new Qa(e,t):ms(t)?new Ha(e,t):ds(t)?new Va(e,t):gs(t)?new Ga(e,t):vs(t)?new ts(e,t):ks(t)?new ns(e,t):Ss(t)?new rs(e,t):Cs(t)?new is(e,t):new Eo(e,t)},us=function(e,t){var n=ss(e,t);return n.flags|=4,as(e,t,n,n),n},ls=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||bs(e)&&n.styles.isTransparent()},cs=function(e){return e.isPositioned()||e.isFloating()},As=function(e){return e.nodeType===Node.TEXT_NODE},fs=function(e){return e.nodeType===Node.ELEMENT_NODE},hs=function(e){return fs(e)&&"undefined"!==typeof e.style&&!ps(e)},ps=function(e){return"object"===typeof e.className},ds=function(e){return"LI"===e.tagName},gs=function(e){return"OL"===e.tagName},vs=function(e){return"INPUT"===e.tagName},ys=function(e){return"HTML"===e.tagName},ms=function(e){return"svg"===e.tagName},bs=function(e){return"BODY"===e.tagName},_s=function(e){return"CANVAS"===e.tagName},ws=function(e){return"VIDEO"===e.tagName},xs=function(e){return"IMG"===e.tagName},Cs=function(e){return"IFRAME"===e.tagName},Bs=function(e){return"STYLE"===e.tagName},Es=function(e){return"SCRIPT"===e.tagName},Ss=function(e){return"TEXTAREA"===e.tagName},ks=function(e){return"SELECT"===e.tagName},Os=function(e){return"SLOT"===e.tagName},Ts=function(e){return e.tagName.indexOf("-")>0},Ps=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var o=[];return i&&r.forEach((function(e){var n=t.counters[e.counter];o.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),o},e}(),Ms={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Fs={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Is={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Ls={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Rs=function(e,t,n,r,i,o){return e<t||e>n?qs(e,i,o.length>0):r.integers.reduce((function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t}),"")+o},Ds=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},Zs=function(e,t,n,r,i){var o=n-t+1;return(e<0?"-":"")+(Ds(Math.abs(e),o,r,(function(e){return c(Math.floor(e%o)+t)}))+i)},Us=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Ds(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},js=1,Ns=2,zs=4,Qs=8,Hs=function(e,t,n,r,i,o){if(e<-9999||e>9999)return qs(e,4,i.length>0);var a=Math.abs(e),s=i;if(0===a)return t[0]+s;for(var u=0;a>0&&u<=4;u++){var l=a%10;0===l&&so(o,js)&&""!==s?s=t[l]+s:l>1||1===l&&0===u||1===l&&1===u&&so(o,Ns)||1===l&&1===u&&so(o,zs)&&e>100||1===l&&u>1&&so(o,Qs)?s=t[l]+(u>0?n[u-1]:"")+s:1===l&&u>0&&(s=n[u-1]+s),a=Math.floor(a/10)}return(e<0?r:"")+s},Vs="\u5341\u767e\u5343\u842c",Gs="\u62fe\u4f70\u4edf\u842c",Ws="\u30de\u30a4\u30ca\u30b9",Ks="\ub9c8\uc774\ub108\uc2a4",qs=function(e,t,n){var r=n?". ":"",i=n?"\u3001":"",o=n?", ":"",a=n?" ":"";switch(t){case 0:return"\u2022"+a;case 1:return"\u25e6"+a;case 2:return"\u25fe"+a;case 5:var s=Zs(e,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return Us(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case 6:return Rs(e,1,3999,Ms,3,r).toLowerCase();case 7:return Rs(e,1,3999,Ms,3,r);case 8:return Zs(e,945,969,!1,r);case 9:return Zs(e,97,122,!1,r);case 10:return Zs(e,65,90,!1,r);case 11:return Zs(e,1632,1641,!0,r);case 12:case 49:return Rs(e,1,9999,Fs,3,r);case 35:return Rs(e,1,9999,Fs,3,r).toLowerCase();case 13:return Zs(e,2534,2543,!0,r);case 14:case 30:return Zs(e,6112,6121,!0,r);case 15:return Us(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case 16:return Us(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case 17:case 48:return Hs(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Vs,"\u8ca0",i,Ns|zs|Qs);case 47:return Hs(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Gs,"\u8ca0",i,js|Ns|zs|Qs);case 42:return Hs(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Vs,"\u8d1f",i,Ns|zs|Qs);case 41:return Hs(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Gs,"\u8d1f",i,js|Ns|zs|Qs);case 26:return Hs(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Ws,i,0);case 25:return Hs(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Ws,i,js|Ns|zs);case 31:return Hs(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Ks,o,js|Ns|zs);case 33:return Hs(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Ks,o,0);case 32:return Hs(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Ks,o,js|Ns|zs);case 18:return Zs(e,2406,2415,!0,r);case 20:return Rs(e,1,19999,Ls,3,r);case 21:return Zs(e,2790,2799,!0,r);case 22:return Zs(e,2662,2671,!0,r);case 22:return Rs(e,1,10999,Is,3,r);case 23:return Us(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Us(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Zs(e,3302,3311,!0,r);case 28:return Us(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case 29:return Us(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case 34:return Zs(e,3792,3801,!0,r);case 37:return Zs(e,6160,6169,!0,r);case 38:return Zs(e,4160,4169,!0,r);case 39:return Zs(e,2918,2927,!0,r);case 40:return Zs(e,1776,1785,!0,r);case 43:return Zs(e,3046,3055,!0,r);case 44:return Zs(e,3174,3183,!0,r);case 45:return Zs(e,3664,3673,!0,r);case 46:return Zs(e,3872,3881,!0,r);default:return Zs(e,48,57,!0,r)}},Xs="data-html2canvas-ignore",Ys=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Ps,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,o=$s(e,t);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,u=o.contentWindow,l=u.document,c=nu(o).then((function(){return r(n,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(su),u&&(u.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||u.scrollY===t.top&&u.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(u.scrollX-t.left,u.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,tu(l)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(l,n)})).then((function(){return o}))]:[2,o]}}))}))}));return l.open(),l.write(ou(document.doctype)+"<html></html>"),au(this.referenceElement.ownerDocument,a,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(e){if(Bo(e,2),_s(e))return this.createCanvasClone(e);if(ws(e))return this.createVideoClone(e);if(Bs(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return xs(t)&&(xs(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Ts(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return iu(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Dt){if(this.context.logger.error("Unable to access cssRules property",Dt),"SecurityError"!==Dt.name)throw Dt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Dt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),o=r.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(a){var s=a.getContextAttributes();!1===(null===s||void 0===s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return r}catch(Dt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Dt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){fs(t)&&(Es(t)||t.hasAttribute(Xs)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&fs(t)&&Bs(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(fs(i)&&Os(i)&&"function"===typeof i.assignedNodes){var o=i.assignedNodes();o.length&&o.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(As(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&fs(e)&&(hs(e)||ps(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&hs(r)&&(this.clonedReferenceElement=r),bs(r)&&hu(r);var s=this.counters.parse(new _o(this.context,i)),u=this.resolvePseudoContent(e,r,o,qo.BEFORE);Ts(e)&&(t=!0),ws(e)||this.cloneChildNodes(e,r,t),u&&r.insertBefore(u,r.firstChild);var l=this.resolvePseudoContent(e,r,a,qo.AFTER);return l&&r.appendChild(l),this.counters.pop(s),(i&&(this.options.copyStyles||ps(e))&&!Cs(e)||t)&&iu(i,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Ss(e)||ks(e))&&(Ss(r)||ks(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var o=n.content,a=t.ownerDocument;if(a&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new _o(this.context,n));var s=new bo(this.context,n),u=a.createElement("html2canvaspseudoelement");iu(n,u),s.content.forEach((function(t){if(0===t.type)u.appendChild(a.createTextNode(t.value));else if(22===t.type){var n=a.createElement("img");n.src=t.value,n.style.opacity="1",u.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Fn);r.length&&u.appendChild(a.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var o=t.values.filter(Dn),l=o[0],c=o[1];if(l&&Fn(l)){var A=i.counters.getCounterValue(l.value),f=c&&Fn(c)?Si.parse(i.context,c.value):3;u.appendChild(a.createTextNode(qs(A,f,!1)))}}else if("counters"===t.name){var h=t.values.filter(Dn),p=(l=h[0],h[1]);if(c=h[2],l&&Fn(l)){var d=i.counters.getCounterValues(l.value),g=c&&Fn(c)?Si.parse(i.context,c.value):3,v=p&&0===p.type?p.value:"",y=d.map((function(e){return qs(e,g,!1)})).join(v);u.appendChild(a.createTextNode(y))}}}else if(20===t.type)switch(t.value){case"open-quote":u.appendChild(a.createTextNode(ho(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(a.createTextNode(ho(s.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(a.createTextNode(t.value))}})),u.className=cu+" "+Au;var l=r===qo.BEFORE?" "+cu:" "+Au;return ps(t)?t.className.baseValue+=l:t.className+=l,u}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(qo||(qo={}));var Js,$s=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Xs,"true"),e.body.appendChild(n),n},eu=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},tu=function(e){return Promise.all([].slice.call(e.images,0).map(eu))},nu=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))}),50)}}))},ru=["all","d","content"],iu=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===ru.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},ou=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},au=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},su=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},uu=":before",lu=":after",cu="___html2canvas___pseudoelement_before",Au="___html2canvas___pseudoelement_after",fu='{\n    content: "" !important;\n    display: none !important;\n}',hu=function(e){pu(e,"."+cu+uu+fu+"\n         ."+Au+lu+fu)},pu=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},du=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),gu=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:xu(e)||bu(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a=this;return i(this,(function(i){switch(i.label){case 0:return t=du.isSameOrigin(e),n=!_u(e)&&!0===this._options.useCORS&&ka.SUPPORT_CORS_IMAGES&&!t,r=!_u(e)&&!t&&!xu(e)&&"string"===typeof this._options.proxy&&ka.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||_u(e)||xu(e)||r||n?(o=e,r?[4,this.proxy(o)]:[3,2]):[2];case 1:o=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(wu(o)||n)&&(r.crossOrigin="anonymous"),r.src=o,!0===r.complete&&setTimeout((function(){return e(r)}),500),a._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+a._options.imageTimeout+"ms) loading image")}),a._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(i,o){var a=ka.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===a)i(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return o(e)}),!1),e.readAsDataURL(s.response)}else o("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),t._options.imageTimeout){var l=t._options.imageTimeout;s.timeout=l,s.ontimeout=function(){return o("Timed out ("+l+"ms) proxying "+r)}}s.send()}))},e}(),vu=/^data:image\/svg\+xml/i,yu=/^data:image\/.*;base64,/i,mu=/^data:image\/.*/i,bu=function(e){return ka.SUPPORT_SVG_DRAWING||!Cu(e)},_u=function(e){return mu.test(e)},wu=function(e){return yu.test(e)},xu=function(e){return"blob"===e.substr(0,4)},Cu=function(e){return"svg"===e.substr(-3).toLowerCase()||vu.test(e)},Bu=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Eu=function(e,t,n){return new Bu(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Su=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Eu(this.start,this.startControl,t),i=Eu(this.startControl,this.endControl,t),o=Eu(this.endControl,this.end,t),a=Eu(r,i,t),s=Eu(i,o,t),u=Eu(a,s,t);return n?new e(this.start,r,a,u):new e(u,s,o,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),ku=function(e){return 1===e.type},Ou=function(){function e(e){var t=e.styles,n=e.bounds,r=Gn(t.borderTopLeftRadius,n.width,n.height),i=r[0],o=r[1],a=Gn(t.borderTopRightRadius,n.width,n.height),s=a[0],u=a[1],l=Gn(t.borderBottomRightRadius,n.width,n.height),c=l[0],A=l[1],f=Gn(t.borderBottomLeftRadius,n.width,n.height),h=f[0],p=f[1],d=[];d.push((i+s)/n.width),d.push((h+c)/n.width),d.push((o+p)/n.height),d.push((u+A)/n.height);var g=Math.max.apply(Math,d);g>1&&(i/=g,o/=g,s/=g,u/=g,c/=g,A/=g,h/=g,p/=g);var v=n.width-s,y=n.height-A,m=n.width-c,b=n.height-p,_=t.borderTopWidth,w=t.borderRightWidth,x=t.borderBottomWidth,C=t.borderLeftWidth,B=Wn(t.paddingTop,e.bounds.width),E=Wn(t.paddingRight,e.bounds.width),S=Wn(t.paddingBottom,e.bounds.width),k=Wn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Tu(n.left+C/3,n.top+_/3,i-C/3,o-_/3,Js.TOP_LEFT):new Bu(n.left+C/3,n.top+_/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Tu(n.left+v,n.top+_/3,s-w/3,u-_/3,Js.TOP_RIGHT):new Bu(n.left+n.width-w/3,n.top+_/3),this.bottomRightBorderDoubleOuterBox=c>0||A>0?Tu(n.left+m,n.top+y,c-w/3,A-x/3,Js.BOTTOM_RIGHT):new Bu(n.left+n.width-w/3,n.top+n.height-x/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?Tu(n.left+C/3,n.top+b,h-C/3,p-x/3,Js.BOTTOM_LEFT):new Bu(n.left+C/3,n.top+n.height-x/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Tu(n.left+2*C/3,n.top+2*_/3,i-2*C/3,o-2*_/3,Js.TOP_LEFT):new Bu(n.left+2*C/3,n.top+2*_/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Tu(n.left+v,n.top+2*_/3,s-2*w/3,u-2*_/3,Js.TOP_RIGHT):new Bu(n.left+n.width-2*w/3,n.top+2*_/3),this.bottomRightBorderDoubleInnerBox=c>0||A>0?Tu(n.left+m,n.top+y,c-2*w/3,A-2*x/3,Js.BOTTOM_RIGHT):new Bu(n.left+n.width-2*w/3,n.top+n.height-2*x/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?Tu(n.left+2*C/3,n.top+b,h-2*C/3,p-2*x/3,Js.BOTTOM_LEFT):new Bu(n.left+2*C/3,n.top+n.height-2*x/3),this.topLeftBorderStroke=i>0||o>0?Tu(n.left+C/2,n.top+_/2,i-C/2,o-_/2,Js.TOP_LEFT):new Bu(n.left+C/2,n.top+_/2),this.topRightBorderStroke=i>0||o>0?Tu(n.left+v,n.top+_/2,s-w/2,u-_/2,Js.TOP_RIGHT):new Bu(n.left+n.width-w/2,n.top+_/2),this.bottomRightBorderStroke=c>0||A>0?Tu(n.left+m,n.top+y,c-w/2,A-x/2,Js.BOTTOM_RIGHT):new Bu(n.left+n.width-w/2,n.top+n.height-x/2),this.bottomLeftBorderStroke=h>0||p>0?Tu(n.left+C/2,n.top+b,h-C/2,p-x/2,Js.BOTTOM_LEFT):new Bu(n.left+C/2,n.top+n.height-x/2),this.topLeftBorderBox=i>0||o>0?Tu(n.left,n.top,i,o,Js.TOP_LEFT):new Bu(n.left,n.top),this.topRightBorderBox=s>0||u>0?Tu(n.left+v,n.top,s,u,Js.TOP_RIGHT):new Bu(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||A>0?Tu(n.left+m,n.top+y,c,A,Js.BOTTOM_RIGHT):new Bu(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||p>0?Tu(n.left,n.top+b,h,p,Js.BOTTOM_LEFT):new Bu(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?Tu(n.left+C,n.top+_,Math.max(0,i-C),Math.max(0,o-_),Js.TOP_LEFT):new Bu(n.left+C,n.top+_),this.topRightPaddingBox=s>0||u>0?Tu(n.left+Math.min(v,n.width-w),n.top+_,v>n.width+w?0:Math.max(0,s-w),Math.max(0,u-_),Js.TOP_RIGHT):new Bu(n.left+n.width-w,n.top+_),this.bottomRightPaddingBox=c>0||A>0?Tu(n.left+Math.min(m,n.width-C),n.top+Math.min(y,n.height-x),Math.max(0,c-w),Math.max(0,A-x),Js.BOTTOM_RIGHT):new Bu(n.left+n.width-w,n.top+n.height-x),this.bottomLeftPaddingBox=h>0||p>0?Tu(n.left+C,n.top+Math.min(b,n.height-x),Math.max(0,h-C),Math.max(0,p-x),Js.BOTTOM_LEFT):new Bu(n.left+C,n.top+n.height-x),this.topLeftContentBox=i>0||o>0?Tu(n.left+C+k,n.top+_+B,Math.max(0,i-(C+k)),Math.max(0,o-(_+B)),Js.TOP_LEFT):new Bu(n.left+C+k,n.top+_+B),this.topRightContentBox=s>0||u>0?Tu(n.left+Math.min(v,n.width+C+k),n.top+_+B,v>n.width+C+k?0:s-C+k,u-(_+B),Js.TOP_RIGHT):new Bu(n.left+n.width-(w+E),n.top+_+B),this.bottomRightContentBox=c>0||A>0?Tu(n.left+Math.min(m,n.width-(C+k)),n.top+Math.min(y,n.height+_+B),Math.max(0,c-(w+E)),A-(x+S),Js.BOTTOM_RIGHT):new Bu(n.left+n.width-(w+E),n.top+n.height-(x+S)),this.bottomLeftContentBox=h>0||p>0?Tu(n.left+C+k,n.top+b,Math.max(0,h-(C+k)),p-(x+S),Js.BOTTOM_LEFT):new Bu(n.left+C+k,n.top+n.height-(x+S))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Js||(Js={}));var Tu=function(e,t,n,r,i){var o=(Math.sqrt(2)-1)/3*4,a=n*o,s=r*o,u=e+n,l=t+r;switch(i){case Js.TOP_LEFT:return new Su(new Bu(e,l),new Bu(e,l-s),new Bu(u-a,t),new Bu(u,t));case Js.TOP_RIGHT:return new Su(new Bu(e,t),new Bu(e+a,t),new Bu(u,l-s),new Bu(u,l));case Js.BOTTOM_RIGHT:return new Su(new Bu(u,t),new Bu(u,t+s),new Bu(e+a,l),new Bu(e,l));case Js.BOTTOM_LEFT:default:return new Su(new Bu(u,l),new Bu(u-a,l),new Bu(e,t+s),new Bu(e,t))}},Pu=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Mu=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Fu=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Iu=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Lu=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Ru=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Du=function(e){return 0===e.type},Zu=function(e){return 1===e.type},Uu=function(e){return 2===e.type},ju=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Nu=function(e,t,n,r,i){return e.map((function(e,o){switch(o){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e}))},zu=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Qu=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Ou(this.container),this.container.styles.opacity<1&&this.effects.push(new Ru(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Iu(n,r,i))}if(0!==this.container.styles.overflowX){var o=Pu(this.curves),a=Fu(this.curves);ju(o,a)?this.effects.push(new Lu(o,6)):(this.effects.push(new Lu(o,2)),this.effects.push(new Lu(a,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter((function(e){return!Zu(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var o=Pu(n.curves),a=Fu(n.curves);ju(o,a)||r.unshift(new Lu(a,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(t){return so(t.target,e)}))},e}(),Hu=function e(t,n,r,i){t.container.elements.forEach((function(o){var a=so(o.flags,4),s=so(o.flags,2),u=new Qu(o,t);so(o.styles.display,2048)&&i.push(u);var l=so(o.flags,8)?[]:i;if(a||s){var c=a||o.styles.isPositioned()?r:n,A=new zu(u);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var f=o.styles.zIndex.order;if(f<0){var h=0;c.negativeZIndex.some((function(e,t){return f>e.element.container.styles.zIndex.order?(h=t,!1):h>0})),c.negativeZIndex.splice(h,0,A)}else if(f>0){var p=0;c.positiveZIndex.some((function(e,t){return f>=e.element.container.styles.zIndex.order?(p=t+1,!1):p>0})),c.positiveZIndex.splice(p,0,A)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else o.styles.isFloating()?c.nonPositionedFloats.push(A):c.nonPositionedInlineLevel.push(A);e(u,A,a?A:r,l)}else o.styles.isInlineLevel()?n.inlineLevel.push(u):n.nonInlineLevel.push(u),e(u,n,r,l);so(o.flags,8)&&Vu(o,l)}))},Vu=function(e,t){for(var n=e instanceof Ga?e.start:1,r=e instanceof Ga&&e.reversed,i=0;i<t.length;i++){var o=t[i];o.container instanceof Va&&"number"===typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=qs(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},Gu=function(e){var t=new Qu(e,null),n=new zu(t),r=[];return Hu(t,n,n,r),Vu(t.container,r),n},Wu=function(e,t){switch(t){case 0:return Ju(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ju(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ju(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Ju(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Ku=function(e,t){switch(t){case 0:return Ju(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ju(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ju(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Ju(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},qu=function(e,t){switch(t){case 0:return Ju(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ju(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ju(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Ju(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Xu=function(e,t){switch(t){case 0:return Yu(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Yu(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Yu(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Yu(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Yu=function(e,t){var n=[];return ku(e)?n.push(e.subdivide(.5,!1)):n.push(e),ku(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Ju=function(e,t,n,r){var i=[];return ku(e)?i.push(e.subdivide(.5,!1)):i.push(e),ku(n)?i.push(n.subdivide(.5,!0)):i.push(n),ku(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),ku(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},$u=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},el=function(e){var t=e.styles,n=e.bounds,r=Wn(t.paddingLeft,n.width),i=Wn(t.paddingRight,n.width),o=Wn(t.paddingTop,n.width),a=Wn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+o+a))},tl=function(e,t){return 0===e?t.bounds:2===e?el(t):$u(t)},nl=function(e,t){return 0===e?t.bounds:2===e?el(t):$u(t)},rl=function(e,t,n){var r=tl(sl(e.styles.backgroundOrigin,t),e),i=nl(sl(e.styles.backgroundClip,t),e),o=al(sl(e.styles.backgroundSize,t),n,r),a=o[0],s=o[1],u=Gn(sl(e.styles.backgroundPosition,t),r.width-a,r.height-s);return[ul(sl(e.styles.backgroundRepeat,t),u,o,r,i),Math.round(r.left+u[0]),Math.round(r.top+u[1]),a,s]},il=function(e){return Fn(e)&&e.value===Ur.AUTO},ol=function(e){return"number"===typeof e},al=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1];if(!a)return[0,0];if(Nn(a)&&s&&Nn(s))return[Wn(a,n.width),Wn(s,n.height)];var u=ol(o);if(Fn(a)&&(a.value===Ur.CONTAIN||a.value===Ur.COVER))return ol(o)?n.width/n.height<o!==(a.value===Ur.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var l=ol(r),c=ol(i),A=l||c;if(il(a)&&(!s||il(s)))return l&&c?[r,i]:u||A?A&&u?[l?r:i*o,c?i:r/o]:[l?r:n.width,c?i:n.height]:[n.width,n.height];if(u){var f=0,h=0;return Nn(a)?f=Wn(a,n.width):Nn(s)&&(h=Wn(s,n.height)),il(a)?f=h*o:s&&!il(s)||(h=f/o),[f,h]}var p=null,d=null;if(Nn(a)?p=Wn(a,n.width):s&&Nn(s)&&(d=Wn(s,n.height)),null===p||s&&!il(s)||(d=l&&c?p/r*i:n.height),null!==d&&il(a)&&(p=l&&c?d/i*r:n.width),null!==p&&null!==d)return[p,d];throw new Error("Unable to calculate background-size for element")},sl=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},ul=function(e,t,n,r,i){var o=t[0],a=t[1],s=n[0],u=n[1];switch(e){case 2:return[new Bu(Math.round(r.left),Math.round(r.top+a)),new Bu(Math.round(r.left+r.width),Math.round(r.top+a)),new Bu(Math.round(r.left+r.width),Math.round(u+r.top+a)),new Bu(Math.round(r.left),Math.round(u+r.top+a))];case 3:return[new Bu(Math.round(r.left+o),Math.round(r.top)),new Bu(Math.round(r.left+o+s),Math.round(r.top)),new Bu(Math.round(r.left+o+s),Math.round(r.height+r.top)),new Bu(Math.round(r.left+o),Math.round(r.height+r.top))];case 1:return[new Bu(Math.round(r.left+o),Math.round(r.top+a)),new Bu(Math.round(r.left+o+s),Math.round(r.top+a)),new Bu(Math.round(r.left+o+s),Math.round(r.top+a+u)),new Bu(Math.round(r.left+o),Math.round(r.top+a+u))];default:return[new Bu(Math.round(i.left),Math.round(i.top)),new Bu(Math.round(i.left+i.width),Math.round(i.top)),new Bu(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Bu(Math.round(i.left),Math.round(i.height+i.top))]}},ll="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",cl="Hidden Text",Al=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),r.src=ll,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(cl)),n.appendChild(i),n.appendChild(r);var a=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(cl)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),fl=function(){function e(e,t){this.context=e,this.options=t}return e}(),hl=1e4,pl=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new Al(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),Uu(e)&&(this.ctx.globalAlpha=e.opacity),Du(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Zu(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return so(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Fa(e.text).reduce((function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=ml(e.fontFamily).join(", "),r=Pn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,o,a,s,u,l,c,A=this;return i(this,(function(i){return n=this.createFontStyle(t),r=n[0],o=n[1],a=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(o,a),u=s.baseline,l=s.middle,c=t.paintOrder,e.textBounds.forEach((function(e){c.forEach((function(n){switch(n){case 0:A.ctx.fillStyle=ir(t.color),A.renderTextWithLetterSpacing(e,t.letterSpacing,u);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){A.ctx.shadowColor=ir(n.color),A.ctx.shadowOffsetX=n.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=n.offsetY.number*A.options.scale,A.ctx.shadowBlur=n.blur.number,A.renderTextWithLetterSpacing(e,t.letterSpacing,u)})),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),t.textDecorationLine.length&&(A.ctx.fillStyle=ir(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:A.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+u),e.bounds.width,1);break;case 2:A.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:A.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(A.ctx.strokeStyle=ir(t.webkitTextStrokeColor),A.ctx.lineWidth=t.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+u)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=el(e),i=Fu(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,o,s,u,l,c,A,f,h,p,d,g,v,y,m,b,_;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,o=t.styles,s=0,u=t.textNodes,i.label=1;case 1:return s<u.length?(l=u[s],[4,this.renderTextNode(l,o)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof za))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return y=i.sent(),this.renderReplacedElement(t,r,y),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Qa&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Ha))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return y=i.sent(),this.renderReplacedElement(t,r,y),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof is&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=i.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof ts&&(A=Math.min(t.bounds.width,t.bounds.height),t.type===Ya?t.checked&&(this.ctx.save(),this.path([new Bu(t.bounds.left+.39363*A,t.bounds.top+.79*A),new Bu(t.bounds.left+.16*A,t.bounds.top+.5549*A),new Bu(t.bounds.left+.27347*A,t.bounds.top+.44071*A),new Bu(t.bounds.left+.39694*A,t.bounds.top+.5649*A),new Bu(t.bounds.left+.72983*A,t.bounds.top+.23*A),new Bu(t.bounds.left+.84*A,t.bounds.top+.34085*A),new Bu(t.bounds.left+.39363*A,t.bounds.top+.79*A)]),this.ctx.fillStyle=ir(es),this.ctx.fill(),this.ctx.restore()):t.type===Ja&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+A/2,t.bounds.top+A/2,A/4,0,2*Math.PI,!0),this.ctx.fillStyle=ir(es),this.ctx.fill(),this.ctx.restore())),dl(t)&&t.value.length){switch(f=this.createFontStyle(o),b=f[0],h=f[1],p=this.fontMetrics.getMetrics(b,h).baseline,this.ctx.font=b,this.ctx.fillStyle=ir(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=vl(t.styles.textAlign),_=el(t),d=0,t.styles.textAlign){case 1:d+=_.width/2;break;case 2:d+=_.width}g=_.add(d,0,0,-_.height/2+1),this.ctx.save(),this.path([new Bu(_.left,_.top),new Bu(_.left+_.width,_.top),new Bu(_.left+_.width,_.top+_.height),new Bu(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Oa(t.value,g),o.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!so(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(v=t.styles.listStyleImage).type)return[3,18];y=void 0,m=v.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(m)];case 16:return y=i.sent(),this.ctx.drawImage(y,t.bounds.left-(y.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+m),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(b=this.createFontStyle(o)[0],this.ctx.font=b,this.ctx.fillStyle=ir(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new a(t.bounds.left,t.bounds.top+Wn(t.styles.paddingTop,t.bounds.width),t.bounds.width,Ci(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Oa(e.listValue,_),o.letterSpacing,Ci(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s,u,l,c,A,f,h,p,d,g;return i(this,(function(i){switch(i.label){case 0:return so(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,o=e.nonInlineLevel,i.label=7;case 7:return r<o.length?(g=o[r],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:a=0,s=e.nonPositionedFloats,i.label=11;case 11:return a<s.length?(g=s[a],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return a++,[3,11];case 14:u=0,l=e.nonPositionedInlineLevel,i.label=15;case 15:return u<l.length?(g=l[u],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return u++,[3,15];case 18:c=0,A=e.inlineLevel,i.label=19;case 19:return c<A.length?(g=A[c],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return c++,[3,19];case 22:f=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return f<h.length?(g=h[f],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return f++,[3,23];case 26:p=0,d=e.positiveZIndex,i.label=27;case 27:return p<d.length?(g=d[p],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=ku(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),ku(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s;return i(this,(function(u){switch(u.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var o,a,s,u,l,c,A,f,h,p,d,g,v,y,m,b,_,w,x,C,B,E,S,k,O,T,P,M,F,I,L;return i(this,(function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];o=void 0,a=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(a)];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+a),[3,4];case 4:return o&&(s=rl(e,t,[o.width,o.height,o.width/o.height]),b=s[0],E=s[1],S=s[2],x=s[3],C=s[4],y=r.ctx.createPattern(r.resizeImage(o,x,C),"repeat"),r.renderRepeat(b,y,E,S)),[3,6];case 5:Lr(n)?(u=rl(e,t,[null,null,null]),b=u[0],E=u[1],S=u[2],x=u[3],C=u[4],l=yr(n.angle,x,C),c=l[0],A=l[1],f=l[2],h=l[3],p=l[4],(d=document.createElement("canvas")).width=x,d.height=C,g=d.getContext("2d"),v=g.createLinearGradient(A,h,f,p),gr(n.stops,c).forEach((function(e){return v.addColorStop(e.stop,ir(e.color))})),g.fillStyle=v,g.fillRect(0,0,x,C),x>0&&C>0&&(y=r.ctx.createPattern(d,"repeat"),r.renderRepeat(b,y,E,S))):Rr(n)&&(m=rl(e,t,[null,null,null]),b=m[0],_=m[1],w=m[2],x=m[3],C=m[4],B=0===n.position.length?[Hn]:n.position,E=Wn(B[0],x),S=Wn(B[B.length-1],C),k=_r(n,E,S,x,C),O=k[0],T=k[1],O>0&&T>0&&(P=r.ctx.createRadialGradient(_+E,w+S,0,_+E,w+S,O),gr(n.stops,2*O).forEach((function(e){return P.addColorStop(e.stop,ir(e.color))})),r.path(b),r.ctx.fillStyle=P,O!==T?(M=e.bounds.left+.5*e.bounds.width,F=e.bounds.top+.5*e.bounds.height,L=1/(I=T/O),r.ctx.save(),r.ctx.translate(M,F),r.ctx.transform(1,0,0,I,0,0),r.ctx.translate(-M,-F),r.ctx.fillRect(_,L*(w-F)+F,x,C*L),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},r=this,o=0,a=e.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<a.length?(s=a[o],[5,n(s)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(Wu(n,t)),this.ctx.fillStyle=ir(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,o){return r(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,o)]:[3,2];case 1:return i.sent(),[2];case 2:return r=Ku(o,n),this.path(r),this.ctx.fillStyle=ir(e),this.ctx.fill(),a=qu(o,n),this.path(a),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s,u,l,c=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],o=gl(sl(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=ir(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){c.ctx.save();var n=Pu(e.curves),r=t.inset?0:hl,i=Nu(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(i)):(c.mask(n),c.ctx.clip(),c.path(i)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=ir(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?ir(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),i.label=2;case 2:a=0,s=0,u=r,i.label=3;case 3:return s<u.length?0!==(l=u[s]).style&&!rr(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,a,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,a,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,a,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,a,e.curves)];case 10:i.sent(),i.label=11;case 11:a++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,o,a){return r(this,void 0,void 0,(function(){var r,s,u,l,c,A,f,h,p,d,g,v,y,m,b,_;return i(this,(function(i){return this.ctx.save(),r=Xu(o,n),s=Wu(o,n),2===a&&(this.path(s),this.ctx.clip()),ku(s[0])?(u=s[0].start.x,l=s[0].start.y):(u=s[0].x,l=s[0].y),ku(s[1])?(c=s[1].end.x,A=s[1].end.y):(c=s[1].x,A=s[1].y),f=0===n||2===n?Math.abs(u-c):Math.abs(l-A),this.ctx.beginPath(),3===a?this.formatPath(r):this.formatPath(s.slice(0,2)),h=t<3?3*t:2*t,p=t<3?2*t:t,3===a&&(h=t,p=t),d=!0,f<=2*h?d=!1:f<=2*h+p?(h*=g=f/(2*h+p),p*=g):(v=Math.floor((f+p)/(h+p)),y=(f-v*h)/(v-1),p=(m=(f-(v+1)*h)/v)<=0||Math.abs(p-y)<Math.abs(p-m)?y:m),d&&(3===a?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),3===a?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ir(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===a&&(ku(s[0])&&(b=s[3],_=s[0],this.ctx.beginPath(),this.formatPath([new Bu(b.end.x,b.end.y),new Bu(_.start.x,_.start.y)]),this.ctx.stroke()),ku(s[1])&&(b=s[1],_=s[2],this.ctx.beginPath(),this.formatPath([new Bu(b.end.x,b.end.y),new Bu(_.start.x,_.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Gu(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(fl),dl=function(e){return e instanceof rs||e instanceof ns||e instanceof ts&&e.type!==Ja&&e.type!==Ya},gl=function(e,t){switch(e){case 0:return Pu(t);case 2:return Mu(t);default:return Fu(t)}},vl=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},yl=["-apple-system","system-ui"],ml=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===yl.indexOf(e)})):e},bl=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=Ea(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,_l(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(fl),_l=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},wl=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,o([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),xl=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new wl({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new gu(this,t)}return e.instanceCount=1,e}(),Cl=function(e,t){return void 0===t&&(t={}),Bl(e,t)};"undefined"!==typeof window&&du.setContext(window);var Bl=function(e,t){return r(void 0,void 0,void 0,(function(){var r,o,l,c,A,f,h,p,d,g,v,y,m,b,_,w,x,C,B,E,S,k,O,T,P,M,F,I,L,R,D,Z,U,j,N,z,Q,H;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(o=r.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(k=t.allowTaint)&&void 0!==k&&k,imageTimeout:null!==(O=t.imageTimeout)&&void 0!==O?O:15e3,proxy:t.proxy,useCORS:null!==(T=t.useCORS)&&void 0!==T&&T},c=n({logging:null===(P=t.logging)||void 0===P||P,cache:t.cache},l),A={windowWidth:null!==(M=t.windowWidth)&&void 0!==M?M:o.innerWidth,windowHeight:null!==(F=t.windowHeight)&&void 0!==F?F:o.innerHeight,scrollX:null!==(I=t.scrollX)&&void 0!==I?I:o.pageXOffset,scrollY:null!==(L=t.scrollY)&&void 0!==L?L:o.pageYOffset},f=new a(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),h=new xl(c,f),p=null!==(R=t.foreignObjectRendering)&&void 0!==R&&R,d={allowTaint:null!==(D=t.allowTaint)&&void 0!==D&&D,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},h.logger.debug("Starting document clone with size "+f.width+"x"+f.height+" scrolled to "+-f.left+","+-f.top),g=new Ys(h,e,d),(v=g.clonedReferenceElement)?[4,g.toIFrame(r,f)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=i.sent(),m=bs(v)||ys(v)?u(v.ownerDocument):s(h,v),b=m.width,_=m.height,w=m.left,x=m.top,C=El(h,v,t.backgroundColor),B={canvas:t.canvas,backgroundColor:C,scale:null!==(U=null!==(Z=t.scale)&&void 0!==Z?Z:o.devicePixelRatio)&&void 0!==U?U:1,x:(null!==(j=t.x)&&void 0!==j?j:0)+w,y:(null!==(N=t.y)&&void 0!==N?N:0)+x,width:null!==(z=t.width)&&void 0!==z?z:Math.ceil(b),height:null!==(Q=t.height)&&void 0!==Q?Q:Math.ceil(_)},p?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new bl(h,B).render(v)]):[3,3];case 2:return E=i.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+w+","+x+" with size "+b+"x"+_+" using computed rendering"),h.logger.debug("Starting DOM parsing"),S=us(h,v),C===S.styles.backgroundColor&&(S.styles.backgroundColor=fr.TRANSPARENT),h.logger.debug("Starting renderer for element at "+B.x+","+B.y+" with size "+B.width+"x"+B.height),[4,new pl(h,B).render(S)];case 4:E=i.sent(),i.label=5;case 5:return(null===(H=t.removeContainer)||void 0===H||H)&&(Ys.destroy(y)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,E]}}))}))},El=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?Ar(e,getComputedStyle(r.documentElement).backgroundColor):fr.TRANSPARENT,o=r.body?Ar(e,getComputedStyle(r.body).backgroundColor):fr.TRANSPARENT,a="string"===typeof n?Ar(e,n):null===n?fr.TRANSPARENT:4294967295;return t===r.documentElement?rr(i)?rr(o)?a:o:i:a};return Cl}()},8619:function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,i=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}t.default=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(r,a);return o[e]=i.test(t)?"-"+t:t}},7159:function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,A=n?i-1:0,f=n?-1:1,h=e[t+A];for(A+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+A],A+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+A],A+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,A=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+A>=1?f/u:f*Math.pow(2,1-A))*u>=2&&(a++,u/=2),a+A>=c?(s=0,a=c):a+A>=1?(s=(t*u-1)*Math.pow(2,i),a+=A):(s=t*Math.pow(2,A-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*d}},9357:function(e,t,n){"use strict";var r=n(4336)(),i=n(4134)("Object.prototype.toString"),o=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},720:function(e,t,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o=n(4336)();e.exports=function(e){return"object"===typeof e&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===i.call(e))}},8372:function(e,t,n){"use strict";var r,i,o,a,s=n(4134),u=n(4336)();if(u){r=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),o={};var l=function(){throw o};a={toString:l,valueOf:l},"symbol"===typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=l)}var c=s("Object.prototype.toString"),A=Object.getOwnPropertyDescriptor;e.exports=u?function(e){if(!e||"object"!==typeof e)return!1;var t=A(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{i(e,a)}catch(n){return n===o}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===c(e)}},5033:function(e){function t(e){return Array.isArray(e)||"[object Object]"=={}.toString.call(e)}function n(e){return!e||"object"!=typeof e&&"function"!=typeof e}e.exports=function e(){var r=[].slice.call(arguments),i=!1;"boolean"==typeof r[0]&&(i=r.shift());var o=r[0];if(n(o))throw new Error("extendee must be an object");for(var a=r.slice(1),s=a.length,u=0;u<s;u++){var l=a[u];for(var c in l)if(Object.prototype.hasOwnProperty.call(l,c)){var A=l[c];if(i&&t(A)){var f=Array.isArray(A)?[]:{};o[c]=e(!0,Object.prototype.hasOwnProperty.call(o,c)&&!n(o[c])?o[c]:f,A)}else o[c]=A}}return o}},6120:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,A=128,f=256,h=1/0,p=9007199254740991,d=NaN,g=4294967295,v=[["ary",A],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",f]],y="[object Arguments]",m="[object Array]",b="[object Boolean]",_="[object Date]",w="[object Error]",x="[object Function]",C="[object GeneratorFunction]",B="[object Map]",E="[object Number]",S="[object Object]",k="[object Promise]",O="[object RegExp]",T="[object Set]",P="[object String]",M="[object Symbol]",F="[object WeakMap]",I="[object ArrayBuffer]",L="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",Z="[object Int8Array]",U="[object Int16Array]",j="[object Int32Array]",N="[object Uint8Array]",z="[object Uint8ClampedArray]",Q="[object Uint16Array]",H="[object Uint32Array]",V=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,X=RegExp(K.source),Y=RegExp(q.source),J=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,Ae=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Be="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="['\u2019]",Pe="[\\ud800-\\udfff]",Me="["+Oe+"]",Fe="["+Ce+"]",Ie="\\d+",Le="[\\u2700-\\u27bf]",Re="["+Ee+"]",De="[^\\ud800-\\udfff"+Oe+Ie+Be+Ee+Se+"]",Ze="\\ud83c[\\udffb-\\udfff]",Ue="[^\\ud800-\\udfff]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Se+"]",Qe="(?:"+Re+"|"+De+")",He="(?:"+ze+"|"+De+")",Ve="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",We="(?:"+Fe+"|"+Ze+")"+"?",Ke="[\\ufe0e\\ufe0f]?",qe=Ke+We+("(?:\\u200d(?:"+[Ue,je,Ne].join("|")+")"+Ke+We+")*"),Xe="(?:"+[Le,je,Ne].join("|")+")"+qe,Ye="(?:"+[Ue+Fe+"?",Fe,je,Ne,Pe].join("|")+")",Je=RegExp(Te,"g"),$e=RegExp(Fe,"g"),et=RegExp(Ze+"(?="+Ze+")|"+Ye+qe,"g"),tt=RegExp([ze+"?"+Re+"+"+Ve+"(?="+[Me,ze,"$"].join("|")+")",He+"+"+Ge+"(?="+[Me,ze+Qe,"$"].join("|")+")",ze+"?"+Qe+"+"+Ve,ze+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie,Xe].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Ce+ke+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,at={};at[R]=at[D]=at[Z]=at[U]=at[j]=at[N]=at[z]=at[Q]=at[H]=!0,at[y]=at[m]=at[I]=at[b]=at[L]=at[_]=at[w]=at[x]=at[B]=at[E]=at[S]=at[O]=at[T]=at[P]=at[F]=!1;var st={};st[y]=st[m]=st[I]=st[L]=st[b]=st[_]=st[R]=st[D]=st[Z]=st[U]=st[j]=st[B]=st[E]=st[S]=st[O]=st[T]=st[P]=st[M]=st[N]=st[z]=st[Q]=st[H]=!0,st[w]=st[x]=st[F]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,At="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ft="object"==typeof self&&self&&self.Object===Object&&self,ht=At||ft||Function("return this")(),pt=t&&!t.nodeType&&t,dt=pt&&e&&!e.nodeType&&e,gt=dt&&dt.exports===pt,vt=gt&&At.process,yt=function(){try{var e=dt&&dt.require&&dt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),mt=yt&&yt.isArrayBuffer,bt=yt&&yt.isDate,_t=yt&&yt.isMap,wt=yt&&yt.isRegExp,xt=yt&&yt.isSet,Ct=yt&&yt.isTypedArray;function Bt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Tt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Pt(e,t){return!!(null==e?0:e.length)&&Nt(e,t,0)>-1}function Mt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ft(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function It(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Rt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Zt=Vt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function jt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Nt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,Qt,n)}function zt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Qt(e){return e!==e}function Ht(e,t){var n=null==e?0:e.length;return n?Kt(e,t)/n:d}function Vt(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Wt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Kt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function qt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,dn(e)+1).replace(ae,""):e}function Yt(e){return function(t){return e(t)}}function Jt(e,t){return Ft(t,(function(t){return e[t]}))}function $t(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Nt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Nt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Gt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function sn(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function An(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Zt(e)}function pn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function dn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n=(t=null==t?ht:vn.defaults(ht.Object(),t,vn.pick(ht,it))).Array,r=t.Date,se=t.Error,Ce=t.Function,Be=t.Math,Ee=t.Object,Se=t.RegExp,ke=t.String,Oe=t.TypeError,Te=n.prototype,Pe=Ce.prototype,Me=Ee.prototype,Fe=t["__core-js_shared__"],Ie=Pe.toString,Le=Me.hasOwnProperty,Re=0,De=function(){var e=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ze=Me.toString,Ue=Ie.call(Ee),je=ht._,Ne=Se("^"+Ie.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=gt?t.Buffer:i,Qe=t.Symbol,He=t.Uint8Array,Ve=ze?ze.allocUnsafe:i,Ge=ln(Ee.getPrototypeOf,Ee),We=Ee.create,Ke=Me.propertyIsEnumerable,qe=Te.splice,Xe=Qe?Qe.isConcatSpreadable:i,Ye=Qe?Qe.iterator:i,et=Qe?Qe.toStringTag:i,nt=function(){try{var e=fo(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,At=r&&r.now!==ht.Date.now&&r.now,ft=t.setTimeout!==ht.setTimeout&&t.setTimeout,pt=Be.ceil,dt=Be.floor,vt=Ee.getOwnPropertySymbols,yt=ze?ze.isBuffer:i,Zt=t.isFinite,Gt=Te.join,yn=ln(Ee.keys,Ee),mn=Be.max,bn=Be.min,_n=r.now,wn=t.parseInt,xn=Be.random,Cn=Te.reverse,Bn=fo(t,"DataView"),En=fo(t,"Map"),Sn=fo(t,"Promise"),kn=fo(t,"Set"),On=fo(t,"WeakMap"),Tn=fo(Ee,"create"),Pn=On&&new On,Mn={},Fn=jo(Bn),In=jo(En),Ln=jo(Sn),Rn=jo(kn),Dn=jo(On),Zn=Qe?Qe.prototype:i,Un=Zn?Zn.valueOf:i,jn=Zn?Zn.toString:i;function Nn(e){if(rs(e)&&!Ga(e)&&!(e instanceof Vn)){if(e instanceof Hn)return e;if(Le.call(e,"__wrapped__"))return No(e)}return new Hn(e)}var zn=function(){function e(){}return function(t){if(!ns(t))return{};if(We)return We(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Qn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Xn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Yn(e,t){var n=Ga(e),r=!n&&Va(e),i=!n&&!r&&Xa(e),o=!n&&!r&&!i&&As(e),a=n||r||i||o,s=a?qt(e.length,ke):[],u=s.length;for(var l in e)!t&&!Le.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bo(l,u))||s.push(l);return s}function Jn(e){var t=e.length;return t?e[qr(0,t-1)]:i}function $n(e,t){return Do(Ti(e),ur(t,0,e.length))}function er(e){return Do(Ti(e))}function tr(e,t,n){(n!==i&&!za(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Le.call(e,t)&&za(r,n)&&(n!==i||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(za(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Pi(t,Fs(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:ks(e,t[r]);return a}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,a){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ns(e))return e;var A=Ga(e);if(A){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Ti(e,s)}else{var f=go(e),h=f==x||f==C;if(Xa(e))return Ci(e,u);if(f==S||f==y||h&&!o){if(s=l||h?{}:yo(e),!u)return l?function(e,t){return Pi(e,po(e),t)}(e,function(e,t){return e&&Pi(t,Is(t),e)}(s,e)):function(e,t){return Pi(e,ho(e),t)}(e,or(s,e))}else{if(!st[f])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case I:return Bi(e);case b:case _:return new r(+e);case L:return function(e,t){var n=t?Bi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case D:case Z:case U:case j:case N:case z:case Q:case H:return Ei(e,n);case B:return new r;case E:case P:return new r(e);case O:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new r;case M:return i=e,Un?Ee(Un.call(i)):{}}var i}(e,f,u)}}a||(a=new Xn);var p=a.get(e);if(p)return p;a.set(e,s),us(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,a))})):is(e)&&e.forEach((function(r,i){s.set(i,lr(r,t,n,i,e,a))}));var d=A?i:(c?l?oo:io:l?Is:Fs)(e);return St(d||e,(function(r,i){d&&(r=e[i=r]),nr(s,i,lr(r,t,n,i,e,a))})),s}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function Ar(e,t,n){if("function"!=typeof e)throw new Oe(o);return Fo((function(){e.apply(i,n)}),t)}function fr(e,t,n,r){var i=-1,o=Pt,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Ft(t,Yt(n))),r?(o=Mt,a=!1):t.length>=200&&(o=$t,a=!1,t=new qn(t));e:for(;++i<s;){var c=e[i],A=null==n?c:n(c);if(c=r||0!==c?c:0,a&&A===A){for(var f=l;f--;)if(t[f]===A)continue e;u.push(c)}else o(t,A,r)||u.push(c)}return u}Nn.templateSettings={escape:J,evaluate:$,interpolate:ee,variable:"",imports:{_:Nn}},Nn.prototype=Qn.prototype,Nn.prototype.constructor=Nn,Hn.prototype=zn(Qn.prototype),Hn.prototype.constructor=Hn,Vn.prototype=zn(Qn.prototype),Vn.prototype.constructor=Vn,Gn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Tn){var n=t[e];return n===a?i:n}return Le.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return Tn?t[e]!==i:Le.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Tn&&t===i?a:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():qe.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Wn.prototype.has=function(e){return rr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(En||Wn),string:new Gn}},Kn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return co(this,e).get(e)},Kn.prototype.has=function(e){return co(this,e).has(e)},Kn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,a),this},qn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xn.prototype.get=function(e){return this.__data__.get(e)},Xn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ii(_r),pr=Ii(wr,!0);function dr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s===s&&!cs(s):n(s,u)))var u=s,l=a}return l}function vr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=mo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?yr(s,t-1,n,r,i):It(i,s):r||(i[i.length]=s)}return i}var mr=Li(),br=Li(!0);function _r(e,t){return e&&mr(e,t,Fs)}function wr(e,t){return e&&br(e,t,Fs)}function xr(e,t){return Tt(t,(function(t){return $a(e[t])}))}function Cr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Uo(t[n++])];return n&&n==r?e:i}function Br(e,t,n){var r=t(e);return Ga(e)?r:It(r,n(e))}function Er(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Ee(e)?function(e){var t=Le.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(a){}var o=Ze.call(e);r&&(t?e[et]=n:delete e[et]);return o}(e):function(e){return Ze.call(e)}(e)}function Sr(e,t){return e>t}function kr(e,t){return null!=e&&Le.call(e,t)}function Or(e,t){return null!=e&&t in Ee(e)}function Tr(e,t,r){for(var o=r?Mt:Pt,a=e[0].length,s=e.length,u=s,l=n(s),c=1/0,A=[];u--;){var f=e[u];u&&t&&(f=Ft(f,Yt(t))),c=bn(f.length,c),l[u]=!r&&(t||a>=120&&f.length>=120)?new qn(u&&f):i}f=e[0];var h=-1,p=l[0];e:for(;++h<a&&A.length<c;){var d=f[h],g=t?t(d):d;if(d=r||0!==d?d:0,!(p?$t(p,g):o(A,g,r))){for(u=s;--u;){var v=l[u];if(!(v?$t(v,g):o(e[u],g,r)))continue e}p&&p.push(g),A.push(d)}}return A}function Pr(e,t,n){var r=null==(e=Oo(e,t=bi(t,e)))?e:e[Uo(Jo(t))];return null==r?i:Bt(r,e,n)}function Mr(e){return rs(e)&&Er(e)==y}function Fr(e,t,n,r,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,n,r,o,a){var s=Ga(e),u=Ga(t),l=s?m:go(e),c=u?m:go(t),A=(l=l==y?S:l)==S,f=(c=c==y?S:c)==S,h=l==c;if(h&&Xa(e)){if(!Xa(t))return!1;s=!0,A=!1}if(h&&!A)return a||(a=new Xn),s||As(e)?no(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!o(new He(e),new He(t)));case b:case _:case E:return za(+e,+t);case w:return e.name==t.name&&e.message==t.message;case O:case P:return e==t+"";case B:var s=un;case T:var u=1&r;if(s||(s=An),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=no(s(e),s(t),r,i,o,a);return a.delete(e),c;case M:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,l,n,r,o,a);if(!(1&n)){var p=A&&Le.call(e,"__wrapped__"),d=f&&Le.call(t,"__wrapped__");if(p||d){var g=p?e.value():e,v=d?t.value():t;return a||(a=new Xn),o(g,v,n,r,a)}}if(!h)return!1;return a||(a=new Xn),function(e,t,n,r,o,a){var s=1&n,u=io(e),l=u.length,c=io(t).length;if(l!=c&&!s)return!1;var A=l;for(;A--;){var f=u[A];if(!(s?f in t:Le.call(t,f)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var d=!0;a.set(e,t),a.set(t,e);var g=s;for(;++A<l;){var v=e[f=u[A]],y=t[f];if(r)var m=s?r(y,v,f,t,e,a):r(v,y,f,e,t,a);if(!(m===i?v===y||o(v,y,n,r,a):m)){d=!1;break}g||(g="constructor"==f)}if(d&&!g){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(d=!1)}return a.delete(e),a.delete(t),d}(e,t,n,r,o,a)}(e,t,n,r,Fr,o))}function Ir(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Ee(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var l=(u=n[o])[0],c=e[l],A=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var f=new Xn;if(r)var h=r(c,A,l,e,t,f);if(!(h===i?Fr(A,c,3,r,f):h))return!1}}return!0}function Lr(e){return!(!ns(e)||(t=e,De&&De in t))&&($a(e)?Ne:ye).test(jo(e));var t}function Rr(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?Ga(e)?zr(e[0],e[1]):Nr(e):pu(e)}function Dr(e){if(!Bo(e))return yn(e);var t=[];for(var n in Ee(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Zr(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=Bo(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function jr(e,t){var r=-1,i=Ka(e)?n(e.length):[];return hr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Nr(e){var t=Ao(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(n){return n===e||Ir(n,e,t)}}function zr(e,t){return wo(e)&&Eo(t)?So(Uo(e),t):function(n){var r=ks(n,e);return r===i&&r===t?Os(n,e):Fr(t,r,3)}}function Qr(e,t,n,r,o){e!==t&&mr(t,(function(a,s){if(o||(o=new Xn),ns(a))!function(e,t,n,r,o,a,s){var u=Po(e,n),l=Po(t,n),c=s.get(l);if(c)return void tr(e,n,c);var A=a?a(u,l,n+"",e,t,s):i,f=A===i;if(f){var h=Ga(l),p=!h&&Xa(l),d=!h&&!p&&As(l);A=l,h||p||d?Ga(u)?A=u:qa(u)?A=Ti(u):p?(f=!1,A=Ci(l,!0)):d?(f=!1,A=Ei(l,!0)):A=[]:as(l)||Va(l)?(A=u,Va(u)?A=ms(u):ns(u)&&!$a(u)||(A=yo(l))):f=!1}f&&(s.set(l,A),o(A,l,r,a,s),s.delete(l));tr(e,n,A)}(e,t,s,n,Qr,r,o);else{var u=r?r(Po(e,s),a,s+"",e,t,o):i;u===i&&(u=a),tr(e,s,u)}}),Is)}function Hr(e,t){var n=e.length;if(n)return bo(t+=t<0?n:0,n)?e[t]:i}function Vr(e,t,n){t=t.length?Ft(t,(function(e){return Ga(e)?function(t){return Cr(t,1===e.length?e[0]:e)}:e})):[ou];var r=-1;t=Ft(t,Yt(lo()));var i=jr(e,(function(e,n,i){var o=Ft(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Si(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Cr(e,a);n(s,a)&&ei(o,bi(a,e),s)}return o}function Wr(e,t,n,r){var i=r?zt:Nt,o=-1,a=t.length,s=e;for(e===t&&(t=Ti(t)),n&&(s=Ft(e,Yt(n)));++o<a;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&qe.call(s,u,1),qe.call(e,u,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?qe.call(e,i,1):fi(e,i)}}return e}function qr(e,t){return e+dt(xn()*(t-e+1))}function Xr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=dt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Io(ko(e,t,ou),e+"")}function Jr(e){return Jn(zs(e))}function $r(e,t){var n=zs(e);return Do(n,ur(t,0,n.length))}function ei(e,t,n,r){if(!ns(e))return e;for(var o=-1,a=(t=bi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var l=Uo(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var A=u[l];(c=r?r(A,l,u):i)===i&&(c=ns(A)?A:bo(t[o+1])?[]:{})}nr(u,l,c),u=u[l]}return e}var ti=Pn?function(e,t){return Pn.set(e,t),e}:ou,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:ou;function ri(e){return Do(zs(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!cs(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,ou,n)}function si(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,l=cs(t),c=t===i;o<a;){var A=dt((o+a)/2),f=n(e[A]),h=f!==i,p=null===f,d=f===f,g=cs(f);if(s)var v=r||d;else v=c?d&&(r||h):u?d&&h&&(r||!p):l?d&&h&&!p&&(r||!g):!p&&!g&&(r?f<=t:f<t);v?o=A+1:a=A}return bn(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!za(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:cs(e)?d:+e}function ci(e){if("string"==typeof e)return e;if(Ga(e))return Ft(e,ci)+"";if(cs(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ai(e,t,n){var r=-1,i=Pt,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Mt;else if(o>=200){var l=t?null:Xi(e);if(l)return An(l);a=!1,i=$t,u=new qn}else u=t?[]:s;e:for(;++r<o;){var c=e[r],A=t?t(c):c;if(c=n||0!==c?c:0,a&&A===A){for(var f=u.length;f--;)if(u[f]===A)continue e;t&&u.push(A),s.push(c)}else i(u,A,n)||(u!==s&&u.push(A),s.push(c))}return s}function fi(e,t){return null==(e=Oo(e,t=bi(t,e)))||delete e[Uo(Jo(t))]}function hi(e,t,n,r){return ei(e,t,n(Cr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function di(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),n)}function gi(e,t,r){var i=e.length;if(i<2)return i?Ai(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=fr(a[o]||s,e[u],t,r));return Ai(yr(a,1),t,r)}function vi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function yi(e){return qa(e)?e:[]}function mi(e){return"function"==typeof e?e:ou}function bi(e,t){return Ga(e)?e:wo(e,t)?[e]:Zo(bs(e))}var _i=Yr;function wi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var xi=ut||function(e){return ht.clearTimeout(e)};function Ci(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function Bi(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Ei(e,t){var n=t?Bi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=cs(e),s=t!==i,u=null===t,l=t===t,c=cs(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!c&&e<t||c&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}function ki(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,l=t.length,c=mn(a-s,0),A=n(l+c),f=!i;++u<l;)A[u]=t[u];for(;++o<s;)(f||o<a)&&(A[r[o]]=e[o]);for(;c--;)A[u++]=e[o++];return A}function Oi(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,l=-1,c=t.length,A=mn(a-u,0),f=n(A+c),h=!i;++o<A;)f[o]=e[o];for(var p=o;++l<c;)f[p+l]=t[l];for(;++s<u;)(h||o<a)&&(f[p+r[s]]=e[o++]);return f}function Ti(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Pi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),o?ar(n,u,l):nr(n,u,l)}return n}function Mi(e,t){return function(n,r){var i=Ga(n)?Et:ir,o=t?t():{};return i(n,e,lo(r,2),o)}}function Fi(e){return Yr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&_o(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Ee(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Ii(e,t){return function(n,r){if(null==n)return n;if(!Ka(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ee(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Li(e){return function(t,n,r){for(var i=-1,o=Ee(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Ri(e){return function(t){var n=sn(t=bs(t))?pn(t):i,r=n?n[0]:t.charAt(0),o=n?wi(n,1).join(""):t.slice(1);return r[e]()+o}}function Di(e){return function(t){return Lt($s(Vs(t).replace(Je,"")),e,"")}}function Zi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function Ui(e){return function(t,n,r){var o=Ee(t);if(!Ka(t)){var a=lo(n,3);t=Fs(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function ji(e){return ro((function(t){var n=t.length,r=n,a=Hn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Oe(o);if(a&&!u&&"wrapper"==so(s))var u=new Hn([],!0)}for(r=u?r:n;++r<n;){var l=so(s=t[r]),c="wrapper"==l?ao(s):i;u=c&&xo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[so(c[0])].apply(u,c[3]):1==s.length&&xo(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ga(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ni(e,t,r,o,a,s,u,l,c,f){var h=t&A,p=1&t,d=2&t,g=24&t,v=512&t,y=d?i:Zi(e);return function i(){for(var A=arguments.length,m=n(A),b=A;b--;)m[b]=arguments[b];if(g)var _=uo(i),w=nn(m,_);if(o&&(m=ki(m,o,a,g)),s&&(m=Oi(m,s,u,g)),A-=w,g&&A<f){var x=cn(m,_);return Ki(e,t,Ni,i.placeholder,r,m,x,l,c,f-A)}var C=p?r:this,B=d?C[e]:e;return A=m.length,l?m=To(m,l):v&&A>1&&m.reverse(),h&&c<A&&(m.length=c),this&&this!==ht&&this instanceof i&&(B=y||Zi(B)),B.apply(C,m)}}function zi(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Qi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),o=e(n,r)}return o}}function Hi(e){return ro((function(t){return t=Ft(t,Yt(lo())),Yr((function(n){var r=this;return e(t,(function(e){return Bt(e,r,n)}))}))}))}function Vi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Xr(t,e):t;var r=Xr(t,pt(e/hn(t)));return sn(t)?wi(pn(r),0,e).join(""):r.slice(0,e)}function Gi(e){return function(t,r,o){return o&&"number"!=typeof o&&_o(t,r,o)&&(r=o=i),t=ds(t),r===i?(r=t,t=0):r=ds(r),function(e,t,r,i){for(var o=-1,a=mn(pt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:ds(o),e)}}function Wi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Ki(e,t,n,r,o,a,s,u,A,f){var h=8&t;t|=h?l:c,4&(t&=~(h?c:l))||(t&=-4);var p=[e,t,o,h?a:i,h?s:i,h?i:a,h?i:s,u,A,f],d=n.apply(i,p);return xo(e)&&Mo(d,p),d.placeholder=r,Lo(d,e,t)}function qi(e){var t=Be[e];return function(e,n){if(e=ys(e),(n=null==n?0:bn(gs(n),292))&&Zt(e)){var r=(bs(e)+"e").split("e");return+((r=(bs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Xi=kn&&1/An(new kn([,-0]))[1]==h?function(e){return new kn(e)}:cu;function Yi(e){return function(t){var n=go(t);return n==B?un(t):n==T?fn(t):function(e,t){return Ft(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,a,h,p,d,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Oe(o);var y=a?a.length:0;if(y||(t&=-97,a=h=i),d=d===i?d:mn(gs(d),0),g=g===i?g:gs(g),y-=h?h.length:0,t&c){var m=a,b=h;a=h=i}var _=v?i:ao(e),w=[e,t,r,a,h,m,b,p,d,g];if(_&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==A&&8==n||r==A&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?ki(l,u,t[4]):u,e[4]=l?cn(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Oi(l,u,t[6]):u,e[6]=l?cn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&A&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(w,_),e=w[0],t=w[1],r=w[2],a=w[3],h=w[4],!(g=w[9]=w[9]===i?v?0:e.length:mn(w[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==u?function(e,t,r){var o=Zi(e);return function a(){for(var s=arguments.length,u=n(s),l=s,c=uo(a);l--;)u[l]=arguments[l];var A=s<3&&u[0]!==c&&u[s-1]!==c?[]:cn(u,c);return(s-=A.length)<r?Ki(e,t,Ni,a.placeholder,i,u,A,i,i,r-s):Bt(this&&this!==ht&&this instanceof a?o:e,this,u)}}(e,t,g):t!=l&&33!=t||h.length?Ni.apply(i,w):function(e,t,r,i){var o=1&t,a=Zi(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,A=n(c+u),f=this&&this!==ht&&this instanceof t?a:e;++l<c;)A[l]=i[l];for(;u--;)A[l++]=arguments[++s];return Bt(f,o?r:this,A)}}(e,t,r,a);else var x=function(e,t,n){var r=1&t,i=Zi(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Lo((_?ti:Mo)(x,w),e,t)}function $i(e,t,n,r){return e===i||za(e,Me[n])&&!Le.call(r,n)?t:e}function eo(e,t,n,r,o,a){return ns(e)&&ns(t)&&(a.set(t,e),Qr(e,t,i,eo,a),a.delete(t)),e}function to(e){return as(e)?i:e}function no(e,t,n,r,o,a){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),A=a.get(t);if(c&&A)return c==t&&A==e;var f=-1,h=!0,p=2&n?new qn:i;for(a.set(e,t),a.set(t,e);++f<u;){var d=e[f],g=t[f];if(r)var v=s?r(g,d,f,t,e,a):r(d,g,f,e,t,a);if(v!==i){if(v)continue;h=!1;break}if(p){if(!Dt(t,(function(e,t){if(!$t(p,t)&&(d===e||o(d,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(d!==g&&!o(d,g,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function ro(e){return Io(ko(e,i,Wo),e+"")}function io(e){return Br(e,Fs,ho)}function oo(e){return Br(e,Is,po)}var ao=Pn?function(e){return Pn.get(e)}:cu;function so(e){for(var t=e.name+"",n=Mn[t],r=Le.call(Mn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Le.call(Nn,"placeholder")?Nn:e).placeholder}function lo(){var e=Nn.iteratee||au;return e=e===au?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ao(e){for(var t=Fs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Eo(i)]}return t}function fo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var ho=vt?function(e){return null==e?[]:(e=Ee(e),Tt(vt(e),(function(t){return Ke.call(e,t)})))}:vu,po=vt?function(e){for(var t=[];e;)It(t,ho(e)),e=Ge(e);return t}:vu,go=Er;function vo(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var a=Uo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ts(i)&&bo(a,i)&&(Ga(e)||Va(e))}function yo(e){return"function"!=typeof e.constructor||Bo(e)?{}:zn(Ge(e))}function mo(e){return Ga(e)||Va(e)||!!(Xe&&e&&e[Xe])}function bo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function _o(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?Ka(n)&&bo(t,n.length):"string"==r&&t in n)&&za(n[t],e)}function wo(e,t){if(Ga(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cs(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ee(t))}function xo(e){var t=so(e),n=Nn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(Bn&&go(new Bn(new ArrayBuffer(1)))!=L||En&&go(new En)!=B||Sn&&go(Sn.resolve())!=k||kn&&go(new kn)!=T||On&&go(new On)!=F)&&(go=function(e){var t=Er(e),n=t==S?e.constructor:i,r=n?jo(n):"";if(r)switch(r){case Fn:return L;case In:return B;case Ln:return k;case Rn:return T;case Dn:return F}return t});var Co=Fe?$a:yu;function Bo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function Eo(e){return e===e&&!ns(e)}function So(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ee(n)))}}function ko(e,t,r){return t=mn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=mn(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),Bt(e,this,u)}}function Oo(e,t){return t.length<2?e:Cr(e,ii(t,0,-1))}function To(e,t){for(var n=e.length,r=bn(t.length,n),o=Ti(e);r--;){var a=t[r];e[r]=bo(a,n)?o[a]:i}return e}function Po(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Mo=Ro(ti),Fo=ft||function(e,t){return ht.setTimeout(e,t)},Io=Ro(ni);function Lo(e,t,n){var r=t+"";return Io(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return St(v,(function(n){var r="_."+n[0];t&n[1]&&!Pt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Ro(e){var t=0,n=0;return function(){var r=_n(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Do(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=qr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Zo=function(e){var t=Ra(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(he,"$1"):n||e)})),t}));function Uo(e){if("string"==typeof e||cs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jo(e){if(null!=e){try{return Ie.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function No(e){if(e instanceof Vn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=Ti(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zo=Yr((function(e,t){return qa(e)?fr(e,yr(t,1,qa,!0)):[]})),Qo=Yr((function(e,t){var n=Jo(t);return qa(n)&&(n=i),qa(e)?fr(e,yr(t,1,qa,!0),lo(n,2)):[]})),Ho=Yr((function(e,t){var n=Jo(t);return qa(n)&&(n=i),qa(e)?fr(e,yr(t,1,qa,!0),i,n):[]}));function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=mn(r+i,0)),jt(e,lo(t,3),i)}function Go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=gs(n),o=n<0?mn(r+o,0):bn(o,r-1)),jt(e,lo(t,3),o,!0)}function Wo(e){return(null==e?0:e.length)?yr(e,1):[]}function Ko(e){return e&&e.length?e[0]:i}var qo=Yr((function(e){var t=Ft(e,yi);return t.length&&t[0]===e[0]?Tr(t):[]})),Xo=Yr((function(e){var t=Jo(e),n=Ft(e,yi);return t===Jo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Tr(n,lo(t,2)):[]})),Yo=Yr((function(e){var t=Jo(e),n=Ft(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Tr(n,i,t):[]}));function Jo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $o=Yr(ea);function ea(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var ta=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Kr(e,Ft(t,(function(e){return bo(e,n)?+e:e})).sort(Si)),r}));function na(e){return null==e?e:Cn.call(e)}var ra=Yr((function(e){return Ai(yr(e,1,qa,!0))})),ia=Yr((function(e){var t=Jo(e);return qa(t)&&(t=i),Ai(yr(e,1,qa,!0),lo(t,2))})),oa=Yr((function(e){var t=Jo(e);return t="function"==typeof t?t:i,Ai(yr(e,1,qa,!0),i,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=Tt(e,(function(e){if(qa(e))return t=mn(e.length,t),!0})),qt(t,(function(t){return Ft(e,Vt(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:Ft(n,(function(e){return Bt(t,i,e)}))}var ua=Yr((function(e,t){return qa(e)?fr(e,t):[]})),la=Yr((function(e){return gi(Tt(e,qa))})),ca=Yr((function(e){var t=Jo(e);return qa(t)&&(t=i),gi(Tt(e,qa),lo(t,2))})),Aa=Yr((function(e){var t=Jo(e);return t="function"==typeof t?t:i,gi(Tt(e,qa),i,t)})),fa=Yr(aa);var ha=Yr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,sa(e,n)}));function pa(e){var t=Nn(e);return t.__chain__=!0,t}function da(e,t){return t(e)}var ga=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&bo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:da,args:[o],thisArg:i}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var va=Mi((function(e,t,n){Le.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Ui(Vo),ma=Ui(Go);function ba(e,t){return(Ga(e)?St:hr)(e,lo(t,3))}function _a(e,t){return(Ga(e)?kt:pr)(e,lo(t,3))}var wa=Mi((function(e,t,n){Le.call(e,n)?e[n].push(t):ar(e,n,[t])}));var xa=Yr((function(e,t,r){var i=-1,o="function"==typeof t,a=Ka(e)?n(e.length):[];return hr(e,(function(e){a[++i]=o?Bt(t,e,r):Pr(e,t,r)})),a})),Ca=Mi((function(e,t,n){ar(e,n,t)}));function Ba(e,t){return(Ga(e)?Ft:jr)(e,lo(t,3))}var Ea=Mi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Sa=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_o(e,t[0],t[1])?t=[]:n>2&&_o(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,yr(t,1),[])})),ka=At||function(){return ht.Date.now()};function Oa(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,A,i,i,i,i,t)}function Ta(e,t){var n;if("function"!=typeof t)throw new Oe(o);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Pa=Yr((function(e,t,n){var r=1;if(n.length){var i=cn(n,uo(Pa));r|=l}return Ji(e,r,t,n,i)})),Ma=Yr((function(e,t,n){var r=3;if(n.length){var i=cn(n,uo(Ma));r|=l}return Ji(t,r,e,n,i)}));function Fa(e,t,n){var r,a,s,u,l,c,A=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Oe(o);function d(t){var n=r,o=a;return r=a=i,A=t,u=e.apply(o,n)}function g(e){return A=e,l=Fo(y,t),f?d(e):u}function v(e){var n=e-c;return c===i||n>=t||n<0||h&&e-A>=s}function y(){var e=ka();if(v(e))return m(e);l=Fo(y,function(e){var n=t-(e-c);return h?bn(n,s-(e-A)):n}(e))}function m(e){return l=i,p&&r?d(e):(r=a=i,u)}function b(){var e=ka(),n=v(e);if(r=arguments,a=this,c=e,n){if(l===i)return g(c);if(h)return xi(l),l=Fo(y,t),d(c)}return l===i&&(l=Fo(y,t)),u}return t=ys(t)||0,ns(n)&&(f=!!n.leading,s=(h="maxWait"in n)?mn(ys(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==i&&xi(l),A=0,r=c=a=l=i},b.flush=function(){return l===i?u:m(ka())},b}var Ia=Yr((function(e,t){return Ar(e,1,t)})),La=Yr((function(e,t,n){return Ar(e,ys(t)||0,n)}));function Ra(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(o);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ra.Cache||Kn),n}function Da(e){if("function"!=typeof e)throw new Oe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ra.Cache=Kn;var Za=_i((function(e,t){var n=(t=1==t.length&&Ga(t[0])?Ft(t[0],Yt(lo())):Ft(yr(t,1),Yt(lo()))).length;return Yr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Bt(e,this,r)}))})),Ua=Yr((function(e,t){var n=cn(t,uo(Ua));return Ji(e,l,i,t,n)})),ja=Yr((function(e,t){var n=cn(t,uo(ja));return Ji(e,c,i,t,n)})),Na=ro((function(e,t){return Ji(e,f,i,i,i,t)}));function za(e,t){return e===t||e!==e&&t!==t}var Qa=Wi(Sr),Ha=Wi((function(e,t){return e>=t})),Va=Mr(function(){return arguments}())?Mr:function(e){return rs(e)&&Le.call(e,"callee")&&!Ke.call(e,"callee")},Ga=n.isArray,Wa=mt?Yt(mt):function(e){return rs(e)&&Er(e)==I};function Ka(e){return null!=e&&ts(e.length)&&!$a(e)}function qa(e){return rs(e)&&Ka(e)}var Xa=yt||yu,Ya=bt?Yt(bt):function(e){return rs(e)&&Er(e)==_};function Ja(e){if(!rs(e))return!1;var t=Er(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function $a(e){if(!ns(e))return!1;var t=Er(e);return t==x||t==C||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==gs(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var is=_t?Yt(_t):function(e){return rs(e)&&go(e)==B};function os(e){return"number"==typeof e||rs(e)&&Er(e)==E}function as(e){if(!rs(e)||Er(e)!=S)return!1;var t=Ge(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ie.call(n)==Ue}var ss=wt?Yt(wt):function(e){return rs(e)&&Er(e)==O};var us=xt?Yt(xt):function(e){return rs(e)&&go(e)==T};function ls(e){return"string"==typeof e||!Ga(e)&&rs(e)&&Er(e)==P}function cs(e){return"symbol"==typeof e||rs(e)&&Er(e)==M}var As=Ct?Yt(Ct):function(e){return rs(e)&&ts(e.length)&&!!at[Er(e)]};var fs=Wi(Ur),hs=Wi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Ka(e))return ls(e)?pn(e):Ti(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=go(e);return(t==B?un:t==T?An:zs)(e)}function ds(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function gs(e){var t=ds(e),n=t%1;return t===t?n?t-n:t:0}function vs(e){return e?ur(gs(e),0,g):0}function ys(e){if("number"==typeof e)return e;if(cs(e))return d;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ve.test(e);return n||me.test(e)?ct(e.slice(2),n?2:8):ge.test(e)?d:+e}function ms(e){return Pi(e,Is(e))}function bs(e){return null==e?"":ci(e)}var _s=Fi((function(e,t){if(Bo(t)||Ka(t))Pi(t,Fs(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),ws=Fi((function(e,t){Pi(t,Is(t),e)})),xs=Fi((function(e,t,n,r){Pi(t,Is(t),e,r)})),Cs=Fi((function(e,t,n,r){Pi(t,Fs(t),e,r)})),Bs=ro(sr);var Es=Yr((function(e,t){e=Ee(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&_o(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Is(a),u=-1,l=s.length;++u<l;){var c=s[u],A=e[c];(A===i||za(A,Me[c])&&!Le.call(e,c))&&(e[c]=a[c])}return e})),Ss=Yr((function(e){return e.push(i,eo),Bt(Rs,i,e)}));function ks(e,t,n){var r=null==e?i:Cr(e,t);return r===i?n:r}function Os(e,t){return null!=e&&vo(e,t,Or)}var Ts=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ze.call(t)),e[t]=n}),nu(ou)),Ps=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ze.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),lo),Ms=Yr(Pr);function Fs(e){return Ka(e)?Yn(e):Dr(e)}function Is(e){return Ka(e)?Yn(e,!0):Zr(e)}var Ls=Fi((function(e,t,n){Qr(e,t,n)})),Rs=Fi((function(e,t,n,r){Qr(e,t,n,r)})),Ds=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ft(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Pi(e,oo(e),n),r&&(n=lr(n,7,to));for(var i=t.length;i--;)fi(n,t[i]);return n}));var Zs=ro((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Os(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=Ft(oo(e),(function(e){return[e]}));return t=lo(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var js=Yi(Fs),Ns=Yi(Is);function zs(e){return null==e?[]:Jt(e,Fs(e))}var Qs=Di((function(e,t,n){return t=t.toLowerCase(),e+(n?Hs(t):t)}));function Hs(e){return Js(bs(e).toLowerCase())}function Vs(e){return(e=bs(e))&&e.replace(_e,rn).replace($e,"")}var Gs=Di((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ws=Di((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ks=Ri("toLowerCase");var qs=Di((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Xs=Di((function(e,t,n){return e+(n?" ":"")+Js(t)}));var Ys=Di((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Js=Ri("toUpperCase");function $s(e,t,n){return e=bs(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(Ae)||[]}(e):e.match(t)||[]}var eu=Yr((function(e,t){try{return Bt(e,i,t)}catch(n){return Ja(n)?n:new se(n)}})),tu=ro((function(e,t){return St(t,(function(t){t=Uo(t),ar(e,t,Pa(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=ji(),iu=ji(!0);function ou(e){return e}function au(e){return Rr("function"==typeof e?e:lr(e,1))}var su=Yr((function(e,t){return function(n){return Pr(n,e,t)}})),uu=Yr((function(e,t){return function(n){return Pr(e,n,t)}}));function lu(e,t,n){var r=Fs(t),i=xr(t,r);null!=n||ns(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=xr(t,Fs(t)));var o=!(ns(n)&&"chain"in n)||!!n.chain,a=$a(e);return St(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ti(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,It([this.value()],arguments))})})),e}function cu(){}var Au=Hi(Ft),fu=Hi(Ot),hu=Hi(Dt);function pu(e){return wo(e)?Vt(Uo(e)):function(e){return function(t){return Cr(t,e)}}(e)}var du=Gi(),gu=Gi(!0);function vu(){return[]}function yu(){return!1}var mu=Qi((function(e,t){return e+t}),0),bu=qi("ceil"),_u=Qi((function(e,t){return e/t}),1),wu=qi("floor");var xu=Qi((function(e,t){return e*t}),1),Cu=qi("round"),Bu=Qi((function(e,t){return e-t}),0);return Nn.after=function(e,t){if("function"!=typeof t)throw new Oe(o);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},Nn.ary=Oa,Nn.assign=_s,Nn.assignIn=ws,Nn.assignInWith=xs,Nn.assignWith=Cs,Nn.at=Bs,Nn.before=Ta,Nn.bind=Pa,Nn.bindAll=tu,Nn.bindKey=Ma,Nn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ga(e)?e:[e]},Nn.chain=pa,Nn.chunk=function(e,t,r){t=(r?_o(e,t,r):t===i)?1:mn(gs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=n(pt(o/t));a<o;)u[s++]=ii(e,a,a+=t);return u},Nn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Nn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return It(Ga(r)?Ti(r):[r],yr(t,1))},Nn.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?Ft(e,(function(e){if("function"!=typeof e[1])throw new Oe(o);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Bt(i[0],this,n))return Bt(i[1],this,n)}}))},Nn.conforms=function(e){return function(e){var t=Fs(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Nn.constant=nu,Nn.countBy=va,Nn.create=function(e,t){var n=zn(e);return null==t?n:or(n,t)},Nn.curry=function e(t,n,r){var o=Ji(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Nn.curryRight=function e(t,n,r){var o=Ji(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Nn.debounce=Fa,Nn.defaults=Es,Nn.defaultsDeep=Ss,Nn.defer=Ia,Nn.delay=La,Nn.difference=zo,Nn.differenceBy=Qo,Nn.differenceWith=Ho,Nn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:gs(t))<0?0:t,r):[]},Nn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:gs(t)))<0?0:t):[]},Nn.dropRightWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!0,!0):[]},Nn.dropWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!0):[]},Nn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&_o(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=gs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:gs(r))<0&&(r+=o),r=n>r?0:vs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Nn.filter=function(e,t){return(Ga(e)?Tt:vr)(e,lo(t,3))},Nn.flatMap=function(e,t){return yr(Ba(e,t),1)},Nn.flatMapDeep=function(e,t){return yr(Ba(e,t),h)},Nn.flatMapDepth=function(e,t,n){return n=n===i?1:gs(n),yr(Ba(e,t),n)},Nn.flatten=Wo,Nn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,h):[]},Nn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:gs(t)):[]},Nn.flip=function(e){return Ji(e,512)},Nn.flow=ru,Nn.flowRight=iu,Nn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Nn.functions=function(e){return null==e?[]:xr(e,Fs(e))},Nn.functionsIn=function(e){return null==e?[]:xr(e,Is(e))},Nn.groupBy=wa,Nn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Nn.intersection=qo,Nn.intersectionBy=Xo,Nn.intersectionWith=Yo,Nn.invert=Ts,Nn.invertBy=Ps,Nn.invokeMap=xa,Nn.iteratee=au,Nn.keyBy=Ca,Nn.keys=Fs,Nn.keysIn=Is,Nn.map=Ba,Nn.mapKeys=function(e,t){var n={};return t=lo(t,3),_r(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Nn.mapValues=function(e,t){var n={};return t=lo(t,3),_r(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Nn.matches=function(e){return Nr(lr(e,1))},Nn.matchesProperty=function(e,t){return zr(e,lr(t,1))},Nn.memoize=Ra,Nn.merge=Ls,Nn.mergeWith=Rs,Nn.method=su,Nn.methodOf=uu,Nn.mixin=lu,Nn.negate=Da,Nn.nthArg=function(e){return e=gs(e),Yr((function(t){return Hr(t,e)}))},Nn.omit=Ds,Nn.omitBy=function(e,t){return Us(e,Da(lo(t)))},Nn.once=function(e){return Ta(2,e)},Nn.orderBy=function(e,t,n,r){return null==e?[]:(Ga(t)||(t=null==t?[]:[t]),Ga(n=r?i:n)||(n=null==n?[]:[n]),Vr(e,t,n))},Nn.over=Au,Nn.overArgs=Za,Nn.overEvery=fu,Nn.overSome=hu,Nn.partial=Ua,Nn.partialRight=ja,Nn.partition=Ea,Nn.pick=Zs,Nn.pickBy=Us,Nn.property=pu,Nn.propertyOf=function(e){return function(t){return null==e?i:Cr(e,t)}},Nn.pull=$o,Nn.pullAll=ea,Nn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,lo(n,2)):e},Nn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,i,n):e},Nn.pullAt=ta,Nn.range=du,Nn.rangeRight=gu,Nn.rearg=Na,Nn.reject=function(e,t){return(Ga(e)?Tt:vr)(e,Da(lo(t,3)))},Nn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=lo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Kr(e,i),n},Nn.rest=function(e,t){if("function"!=typeof e)throw new Oe(o);return Yr(e,t=t===i?t:gs(t))},Nn.reverse=na,Nn.sampleSize=function(e,t,n){return t=(n?_o(e,t,n):t===i)?1:gs(t),(Ga(e)?$n:$r)(e,t)},Nn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Nn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Nn.shuffle=function(e){return(Ga(e)?er:ri)(e)},Nn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&_o(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===i?r:gs(n)),ii(e,t,n)):[]},Nn.sortBy=Sa,Nn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Nn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,lo(t,2)):[]},Nn.split=function(e,t,n){return n&&"number"!=typeof n&&_o(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=ci(t))&&sn(e)?wi(pn(e),0,n):e.split(t,n):[]},Nn.spread=function(e,t){if("function"!=typeof e)throw new Oe(o);return t=null==t?0:mn(gs(t),0),Yr((function(n){var r=n[t],i=wi(n,0,t);return r&&It(i,r),Bt(e,this,i)}))},Nn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Nn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:gs(t))<0?0:t):[]},Nn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:gs(t)))<0?0:t,r):[]},Nn.takeRightWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!1,!0):[]},Nn.takeWhile=function(e,t){return e&&e.length?pi(e,lo(t,3)):[]},Nn.tap=function(e,t){return t(e),e},Nn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Oe(o);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Fa(e,t,{leading:r,maxWait:t,trailing:i})},Nn.thru=da,Nn.toArray=ps,Nn.toPairs=js,Nn.toPairsIn=Ns,Nn.toPath=function(e){return Ga(e)?Ft(e,Uo):cs(e)?[e]:Ti(Zo(bs(e)))},Nn.toPlainObject=ms,Nn.transform=function(e,t,n){var r=Ga(e),i=r||Xa(e)||As(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ns(e)&&$a(o)?zn(Ge(e)):{}}return(i?St:_r)(e,(function(e,r,i){return t(n,e,r,i)})),n},Nn.unary=function(e){return Oa(e,1)},Nn.union=ra,Nn.unionBy=ia,Nn.unionWith=oa,Nn.uniq=function(e){return e&&e.length?Ai(e):[]},Nn.uniqBy=function(e,t){return e&&e.length?Ai(e,lo(t,2)):[]},Nn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?Ai(e,i,t):[]},Nn.unset=function(e,t){return null==e||fi(e,t)},Nn.unzip=aa,Nn.unzipWith=sa,Nn.update=function(e,t,n){return null==e?e:hi(e,t,mi(n))},Nn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,mi(n),r)},Nn.values=zs,Nn.valuesIn=function(e){return null==e?[]:Jt(e,Is(e))},Nn.without=ua,Nn.words=$s,Nn.wrap=function(e,t){return Ua(mi(t),e)},Nn.xor=la,Nn.xorBy=ca,Nn.xorWith=Aa,Nn.zip=fa,Nn.zipObject=function(e,t){return vi(e||[],t||[],nr)},Nn.zipObjectDeep=function(e,t){return vi(e||[],t||[],ei)},Nn.zipWith=ha,Nn.entries=js,Nn.entriesIn=Ns,Nn.extend=ws,Nn.extendWith=xs,lu(Nn,Nn),Nn.add=mu,Nn.attempt=eu,Nn.camelCase=Qs,Nn.capitalize=Hs,Nn.ceil=bu,Nn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ys(n))===n?n:0),t!==i&&(t=(t=ys(t))===t?t:0),ur(ys(e),t,n)},Nn.clone=function(e){return lr(e,4)},Nn.cloneDeep=function(e){return lr(e,5)},Nn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Nn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Nn.conformsTo=function(e,t){return null==t||cr(e,t,Fs(t))},Nn.deburr=Vs,Nn.defaultTo=function(e,t){return null==e||e!==e?t:e},Nn.divide=_u,Nn.endsWith=function(e,t,n){e=bs(e),t=ci(t);var r=e.length,o=n=n===i?r:ur(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Nn.eq=za,Nn.escape=function(e){return(e=bs(e))&&Y.test(e)?e.replace(q,on):e},Nn.escapeRegExp=function(e){return(e=bs(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Nn.every=function(e,t,n){var r=Ga(e)?Ot:dr;return n&&_o(e,t,n)&&(t=i),r(e,lo(t,3))},Nn.find=ya,Nn.findIndex=Vo,Nn.findKey=function(e,t){return Ut(e,lo(t,3),_r)},Nn.findLast=ma,Nn.findLastIndex=Go,Nn.findLastKey=function(e,t){return Ut(e,lo(t,3),wr)},Nn.floor=wu,Nn.forEach=ba,Nn.forEachRight=_a,Nn.forIn=function(e,t){return null==e?e:mr(e,lo(t,3),Is)},Nn.forInRight=function(e,t){return null==e?e:br(e,lo(t,3),Is)},Nn.forOwn=function(e,t){return e&&_r(e,lo(t,3))},Nn.forOwnRight=function(e,t){return e&&wr(e,lo(t,3))},Nn.get=ks,Nn.gt=Qa,Nn.gte=Ha,Nn.has=function(e,t){return null!=e&&vo(e,t,kr)},Nn.hasIn=Os,Nn.head=Ko,Nn.identity=ou,Nn.includes=function(e,t,n,r){e=Ka(e)?e:zs(e),n=n&&!r?gs(n):0;var i=e.length;return n<0&&(n=mn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Nt(e,t,n)>-1},Nn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=mn(r+i,0)),Nt(e,t,i)},Nn.inRange=function(e,t,n){return t=ds(t),n===i?(n=t,t=0):n=ds(n),function(e,t,n){return e>=bn(t,n)&&e<mn(t,n)}(e=ys(e),t,n)},Nn.invoke=Ms,Nn.isArguments=Va,Nn.isArray=Ga,Nn.isArrayBuffer=Wa,Nn.isArrayLike=Ka,Nn.isArrayLikeObject=qa,Nn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Er(e)==b},Nn.isBuffer=Xa,Nn.isDate=Ya,Nn.isElement=function(e){return rs(e)&&1===e.nodeType&&!as(e)},Nn.isEmpty=function(e){if(null==e)return!0;if(Ka(e)&&(Ga(e)||"string"==typeof e||"function"==typeof e.splice||Xa(e)||As(e)||Va(e)))return!e.length;var t=go(e);if(t==B||t==T)return!e.size;if(Bo(e))return!Dr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Nn.isEqual=function(e,t){return Fr(e,t)},Nn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Fr(e,t,i,n):!!r},Nn.isError=Ja,Nn.isFinite=function(e){return"number"==typeof e&&Zt(e)},Nn.isFunction=$a,Nn.isInteger=es,Nn.isLength=ts,Nn.isMap=is,Nn.isMatch=function(e,t){return e===t||Ir(e,t,Ao(t))},Nn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Ir(e,t,Ao(t),n)},Nn.isNaN=function(e){return os(e)&&e!=+e},Nn.isNative=function(e){if(Co(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Nn.isNil=function(e){return null==e},Nn.isNull=function(e){return null===e},Nn.isNumber=os,Nn.isObject=ns,Nn.isObjectLike=rs,Nn.isPlainObject=as,Nn.isRegExp=ss,Nn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=p},Nn.isSet=us,Nn.isString=ls,Nn.isSymbol=cs,Nn.isTypedArray=As,Nn.isUndefined=function(e){return e===i},Nn.isWeakMap=function(e){return rs(e)&&go(e)==F},Nn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Er(e)},Nn.join=function(e,t){return null==e?"":Gt.call(e,t)},Nn.kebabCase=Gs,Nn.last=Jo,Nn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=gs(n))<0?mn(r+o,0):bn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):jt(e,Qt,o,!0)},Nn.lowerCase=Ws,Nn.lowerFirst=Ks,Nn.lt=fs,Nn.lte=hs,Nn.max=function(e){return e&&e.length?gr(e,ou,Sr):i},Nn.maxBy=function(e,t){return e&&e.length?gr(e,lo(t,2),Sr):i},Nn.mean=function(e){return Ht(e,ou)},Nn.meanBy=function(e,t){return Ht(e,lo(t,2))},Nn.min=function(e){return e&&e.length?gr(e,ou,Ur):i},Nn.minBy=function(e,t){return e&&e.length?gr(e,lo(t,2),Ur):i},Nn.stubArray=vu,Nn.stubFalse=yu,Nn.stubObject=function(){return{}},Nn.stubString=function(){return""},Nn.stubTrue=function(){return!0},Nn.multiply=xu,Nn.nth=function(e,t){return e&&e.length?Hr(e,gs(t)):i},Nn.noConflict=function(){return ht._===this&&(ht._=je),this},Nn.noop=cu,Nn.now=ka,Nn.pad=function(e,t,n){e=bs(e);var r=(t=gs(t))?hn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Vi(dt(i),n)+e+Vi(pt(i),n)},Nn.padEnd=function(e,t,n){e=bs(e);var r=(t=gs(t))?hn(e):0;return t&&r<t?e+Vi(t-r,n):e},Nn.padStart=function(e,t,n){e=bs(e);var r=(t=gs(t))?hn(e):0;return t&&r<t?Vi(t-r,n)+e:e},Nn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(bs(e).replace(ae,""),t||0)},Nn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&_o(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ds(e),t===i?(t=e,e=0):t=ds(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=xn();return bn(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return qr(e,t)},Nn.reduce=function(e,t,n){var r=Ga(e)?Lt:Wt,i=arguments.length<3;return r(e,lo(t,4),n,i,hr)},Nn.reduceRight=function(e,t,n){var r=Ga(e)?Rt:Wt,i=arguments.length<3;return r(e,lo(t,4),n,i,pr)},Nn.repeat=function(e,t,n){return t=(n?_o(e,t,n):t===i)?1:gs(t),Xr(bs(e),t)},Nn.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Nn.result=function(e,t,n){var r=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Uo(t[r])];a===i&&(r=o,a=n),e=$a(a)?a.call(e):a}return e},Nn.round=Cu,Nn.runInContext=e,Nn.sample=function(e){return(Ga(e)?Jn:Jr)(e)},Nn.size=function(e){if(null==e)return 0;if(Ka(e))return ls(e)?hn(e):e.length;var t=go(e);return t==B||t==T?e.size:Dr(e).length},Nn.snakeCase=qs,Nn.some=function(e,t,n){var r=Ga(e)?Dt:oi;return n&&_o(e,t,n)&&(t=i),r(e,lo(t,3))},Nn.sortedIndex=function(e,t){return ai(e,t)},Nn.sortedIndexBy=function(e,t,n){return si(e,t,lo(n,2))},Nn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&za(e[r],t))return r}return-1},Nn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Nn.sortedLastIndexBy=function(e,t,n){return si(e,t,lo(n,2),!0)},Nn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(za(e[n],t))return n}return-1},Nn.startCase=Xs,Nn.startsWith=function(e,t,n){return e=bs(e),n=null==n?0:ur(gs(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Nn.subtract=Bu,Nn.sum=function(e){return e&&e.length?Kt(e,ou):0},Nn.sumBy=function(e,t){return e&&e.length?Kt(e,lo(t,2)):0},Nn.template=function(e,t,n){var r=Nn.templateSettings;n&&_o(e,t,n)&&(t=i),e=bs(e),t=xs({},t,r,$i);var o,a,s=xs({},t.imports,r.imports,$i),u=Fs(s),l=Jt(s,u),c=0,A=t.interpolate||we,f="__p += '",h=Se((t.escape||we).source+"|"+A.source+"|"+(A===ee?pe:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(h,(function(t,n,r,i,s,u){return r||(r=i),f+=e.slice(c,u).replace(xe,an),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var d=Le.call(t,"variable")&&t.variable;if(d){if(fe.test(d))throw new se("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(V,""):f).replace(G,"$1").replace(W,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=eu((function(){return Ce(u,p+"return "+f).apply(i,l)}));if(g.source=f,Ja(g))throw g;return g},Nn.times=function(e,t){if((e=gs(e))<1||e>p)return[];var n=g,r=bn(e,g);t=lo(t),e-=g;for(var i=qt(r,t);++n<e;)t(n);return i},Nn.toFinite=ds,Nn.toInteger=gs,Nn.toLength=vs,Nn.toLower=function(e){return bs(e).toLowerCase()},Nn.toNumber=ys,Nn.toSafeInteger=function(e){return e?ur(gs(e),-9007199254740991,p):0===e?e:0},Nn.toString=bs,Nn.toUpper=function(e){return bs(e).toUpperCase()},Nn.trim=function(e,t,n){if((e=bs(e))&&(n||t===i))return Xt(e);if(!e||!(t=ci(t)))return e;var r=pn(e),o=pn(t);return wi(r,en(r,o),tn(r,o)+1).join("")},Nn.trimEnd=function(e,t,n){if((e=bs(e))&&(n||t===i))return e.slice(0,dn(e)+1);if(!e||!(t=ci(t)))return e;var r=pn(e);return wi(r,0,tn(r,pn(t))+1).join("")},Nn.trimStart=function(e,t,n){if((e=bs(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var r=pn(e);return wi(r,en(r,pn(t))).join("")},Nn.truncate=function(e,t){var n=30,r="...";if(ns(t)){var o="separator"in t?t.separator:o;n="length"in t?gs(t.length):n,r="omission"in t?ci(t.omission):r}var a=(e=bs(e)).length;if(sn(e)){var s=pn(e);a=s.length}if(n>=a)return e;var u=n-hn(r);if(u<1)return r;var l=s?wi(s,0,u).join(""):e.slice(0,u);if(o===i)return l+r;if(s&&(u+=l.length-u),ss(o)){if(e.slice(u).search(o)){var c,A=l;for(o.global||(o=Se(o.source,bs(de.exec(o))+"g")),o.lastIndex=0;c=o.exec(A);)var f=c.index;l=l.slice(0,f===i?u:f)}}else if(e.indexOf(ci(o),u)!=u){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+r},Nn.unescape=function(e){return(e=bs(e))&&X.test(e)?e.replace(K,gn):e},Nn.uniqueId=function(e){var t=++Re;return bs(e)+t},Nn.upperCase=Ys,Nn.upperFirst=Js,Nn.each=ba,Nn.eachRight=_a,Nn.first=Ko,lu(Nn,function(){var e={};return _r(Nn,(function(t,n){Le.call(Nn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Nn.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Nn[e].placeholder=Nn})),St(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===i?1:mn(gs(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),St(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),St(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),St(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(ou)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Pr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Da(lo(e)))},Vn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(g)},_r(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Nn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Nn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Vn,l=s[0],c=u||Ga(t),A=function(e){var t=o.apply(Nn,It([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,d=u&&!h;if(!a&&c){t=d?t:new Vn(this);var g=e.apply(t,s);return g.__actions__.push({func:da,args:[A],thisArg:i}),new Hn(g,f)}return p&&d?e.apply(this,s):(g=this.thru(A),p?r?g.value()[0]:g.value():g)})})),St(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Te[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Nn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ga(i)?i:[],e)}return this[n]((function(n){return t.apply(Ga(n)?n:[],e)}))}})),_r(Vn.prototype,(function(e,t){var n=Nn[t];if(n){var r=n.name+"";Le.call(Mn,r)||(Mn[r]=[]),Mn[r].push({name:t,func:n})}})),Mn[Ni(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Ti(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ti(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ti(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ga(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=mn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,A=c.length,f=0,h=bn(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return di(e,this.__actions__);var p=[];e:for(;u--&&f<h;){for(var d=-1,g=e[l+=t];++d<A;){var v=c[d],y=v.iteratee,m=v.type,b=y(g);if(2==m)g=b;else if(!b){if(1==m)continue e;break e}}p[f++]=g}return p},Nn.prototype.at=ga,Nn.prototype.chain=function(){return pa(this)},Nn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Nn.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Nn.prototype.plant=function(e){for(var t,n=this;n instanceof Qn;){var r=No(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Nn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:da,args:[na],thisArg:i}),new Hn(t,this.__chain__)}return this.thru(na)},Nn.prototype.toJSON=Nn.prototype.valueOf=Nn.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},Nn.prototype.first=Nn.prototype.head,Ye&&(Nn.prototype[Ye]=function(){return this}),Nn}();ht._=vn,(r=function(){return vn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},1277:function(e,t){var n,r,i;r=[],void 0===(i="function"===typeof(n=function(){"use strict";function e(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var n={},r={};function i(e,t){var i,o,s;return t?(s=0<=(e>>>=0)&&e<256)&&(o=r[e])?o:(i=a(e,(0|e)<0?-1:0,!0),s&&(r[e]=i),i):(s=-128<=(e|=0)&&e<128)&&(o=n[e])?o:(i=a(e,e<0?-1:0,!1),s&&(n[e]=i),i)}function o(e,t){if(isNaN(e)||!isFinite(e))return t?g:d;if(t){if(e<0)return g;if(e>=f)return _}else{if(e<=-h)return w;if(e+1>=h)return b}return e<0?o(-e,t).neg():a(e%A|0,e/A|0,t)}function a(t,n,r){return new e(t,n,r)}e.fromInt=i,e.fromNumber=o,e.fromBits=a;var s=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return d;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var i=o(s(n,8)),a=d,l=0;l<e.length;l+=8){var c=Math.min(8,e.length-l),A=parseInt(e.substring(l,l+c),n);if(c<8){var f=o(s(n,c));a=a.mul(f).add(o(A))}else a=(a=a.mul(i)).add(o(A))}return a.unsigned=t,a}function l(t){return t instanceof e?t:"number"===typeof t?o(t):"string"===typeof t?u(t):a(t.low,t.high,t.unsigned)}e.fromString=u,e.fromValue=l;var c=65536,A=c*c,f=A*A,h=f/2,p=i(1<<24),d=i(0);e.ZERO=d;var g=i(0,!0);e.UZERO=g;var v=i(1);e.ONE=v;var y=i(1,!0);e.UONE=y;var m=i(-1);e.NEG_ONE=m;var b=a(-1,2147483647,!1);e.MAX_VALUE=b;var _=a(-1,-1,!0);e.MAX_UNSIGNED_VALUE=_;var w=a(0,-2147483648,!1);e.MIN_VALUE=w;var x=e.prototype;return x.toInt=function(){return this.unsigned?this.low>>>0:this.low},x.toNumber=function(){return this.unsigned?(this.high>>>0)*A+(this.low>>>0):this.high*A+(this.low>>>0)},x.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(w)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=o(s(e,6),this.unsigned),a=this,u="";;){var l=a.div(i),c=(a.sub(l.mul(i)).toInt()>>>0).toString(e);if((a=l).isZero())return c+u;for(;c.length<6;)c="0"+c;u=""+c+u}},x.getHighBits=function(){return this.high},x.getHighBitsUnsigned=function(){return this.high>>>0},x.getLowBits=function(){return this.low},x.getLowBitsUnsigned=function(){return this.low>>>0},x.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},x.isZero=function(){return 0===this.high&&0===this.low},x.isNegative=function(){return!this.unsigned&&this.high<0},x.isPositive=function(){return this.unsigned||this.high>=0},x.isOdd=function(){return 1===(1&this.low)},x.isEven=function(){return 0===(1&this.low)},x.equals=function(e){return t(e)||(e=l(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&this.high===e.high&&this.low===e.low},x.eq=x.equals,x.notEquals=function(e){return!this.eq(e)},x.neq=x.notEquals,x.lessThan=function(e){return this.comp(e)<0},x.lt=x.lessThan,x.lessThanOrEqual=function(e){return this.comp(e)<=0},x.lte=x.lessThanOrEqual,x.greaterThan=function(e){return this.comp(e)>0},x.gt=x.greaterThan,x.greaterThanOrEqual=function(e){return this.comp(e)>=0},x.gte=x.greaterThanOrEqual,x.compare=function(e){if(t(e)||(e=l(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},x.comp=x.compare,x.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(v)},x.neg=x.negate,x.add=function(e){t(e)||(e=l(e));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,u=65535&e.high,c=e.low>>>16,A=0,f=0,h=0,p=0;return h+=(p+=o+(65535&e.low))>>>16,f+=(h+=i+c)>>>16,A+=(f+=r+u)>>>16,A+=n+s,a((h&=65535)<<16|(p&=65535),(A&=65535)<<16|(f&=65535),this.unsigned)},x.subtract=function(e){return t(e)||(e=l(e)),this.add(e.neg())},x.sub=x.subtract,x.multiply=function(e){if(this.isZero())return d;if(t(e)||(e=l(e)),e.isZero())return d;if(this.eq(w))return e.isOdd()?w:d;if(e.eq(w))return this.isOdd()?w:d;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(p)&&e.lt(p))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,s=65535&this.low,u=e.high>>>16,c=65535&e.high,A=e.low>>>16,f=65535&e.low,h=0,g=0,v=0,y=0;return v+=(y+=s*f)>>>16,g+=(v+=i*f)>>>16,v&=65535,g+=(v+=s*A)>>>16,h+=(g+=r*f)>>>16,g&=65535,h+=(g+=i*A)>>>16,g&=65535,h+=(g+=s*c)>>>16,h+=n*f+r*A+i*c+s*u,a((v&=65535)<<16|(y&=65535),(h&=65535)<<16|(g&=65535),this.unsigned)},x.mul=x.multiply,x.divide=function(e){if(t(e)||(e=l(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:d;var n,r,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return y;i=g}else{if(this.eq(w))return e.eq(v)||e.eq(m)?w:e.eq(w)?v:(n=this.shr(1).div(e).shl(1)).eq(d)?e.isNegative()?v:m:(r=this.sub(e.mul(n)),i=n.add(r.div(e)));if(e.eq(w))return this.unsigned?g:d;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=d}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),u=a<=48?1:s(2,a-48),c=o(n),A=c.mul(e);A.isNegative()||A.gt(r);)A=(c=o(n-=u,this.unsigned)).mul(e);c.isZero()&&(c=v),i=i.add(c),r=r.sub(A)}return i},x.div=x.divide,x.modulo=function(e){return t(e)||(e=l(e)),this.sub(this.div(e).mul(e))},x.mod=x.modulo,x.not=function(){return a(~this.low,~this.high,this.unsigned)},x.and=function(e){return t(e)||(e=l(e)),a(this.low&e.low,this.high&e.high,this.unsigned)},x.or=function(e){return t(e)||(e=l(e)),a(this.low|e.low,this.high|e.high,this.unsigned)},x.xor=function(e){return t(e)||(e=l(e)),a(this.low^e.low,this.high^e.high,this.unsigned)},x.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?a(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):a(0,this.low<<e-32,this.unsigned)},x.shl=x.shiftLeft,x.shiftRight=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?a(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):a(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},x.shr=x.shiftRight,x.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0===(e&=63))return this;var n=this.high;return e<32?a(this.low>>>e|n<<32-e,n>>>e,this.unsigned):a(32===e?n:n>>>e-32,0,this.unsigned)},x.shru=x.shiftRightUnsigned,x.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},x.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},x.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},x.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},x.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e})?n.apply(t,r):n)||(e.exports=i)},6809:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return u=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i},u.apply(null,arguments)}function l(e){var t="function"===typeof Map?new Map:void 0;return l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,o(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)},l(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=0;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(l(Error)),h=function(e){function t(t){return e.call(this,"Invalid DateTime: "+t.toMessage())||this}return i(t,e),t}(f),p=function(e){function t(t){return e.call(this,"Invalid Interval: "+t.toMessage())||this}return i(t,e),t}(f),d=function(e){function t(t){return e.call(this,"Invalid Duration: "+t.toMessage())||this}return i(t,e),t}(f),g=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(f),v=function(e){function t(t){return e.call(this,"Invalid unit "+t)||this}return i(t,e),t}(f),y=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(f),m=function(e){function t(){return e.call(this,"Zone is an abstract class")||this}return i(t,e),t}(f),b="numeric",_="short",w="long",x={year:b,month:b,day:b},C={year:b,month:_,day:b},B={year:b,month:_,day:b,weekday:_},E={year:b,month:w,day:b},S={year:b,month:w,day:b,weekday:w},k={hour:b,minute:b},O={hour:b,minute:b,second:b},T={hour:b,minute:b,second:b,timeZoneName:_},P={hour:b,minute:b,second:b,timeZoneName:w},M={hour:b,minute:b,hour12:!1},F={hour:b,minute:b,second:b,hour12:!1},I={hour:b,minute:b,second:b,hour12:!1,timeZoneName:_},L={hour:b,minute:b,second:b,hour12:!1,timeZoneName:w},R={year:b,month:b,day:b,hour:b,minute:b},D={year:b,month:b,day:b,hour:b,minute:b,second:b},Z={year:b,month:_,day:b,hour:b,minute:b},U={year:b,month:_,day:b,hour:b,minute:b,second:b},j={year:b,month:_,day:b,weekday:_,hour:b,minute:b},N={year:b,month:w,day:b,hour:b,minute:b,timeZoneName:_},z={year:b,month:w,day:b,hour:b,minute:b,second:b,timeZoneName:_},Q={year:b,month:w,day:b,weekday:w,hour:b,minute:b,timeZoneName:w},H={year:b,month:w,day:b,weekday:w,hour:b,minute:b,second:b,timeZoneName:w};function V(e){return"undefined"===typeof e}function G(e){return"number"===typeof e}function W(e){return"number"===typeof e&&e%1===0}function K(){try{return"undefined"!==typeof Intl&&Intl.DateTimeFormat}catch(e){return!1}}function q(){return!V(Intl.DateTimeFormat.prototype.formatToParts)}function X(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Y(e,t,n){if(0!==e.length)return e.reduce((function(e,r){var i=[t(r),r];return e&&n(e[0],i[0])===e[0]?e:i}),null)[1]}function J(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})}function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ee(e,t,n){return W(e)&&e>=t&&e<=n}function te(e,t){void 0===t&&(t=2);var n=e<0?"-":"",r=n?-1*e:e;return""+n+(r.toString().length<t?("0".repeat(t)+r).slice(-t):r.toString())}function ne(e){return V(e)||null===e||""===e?void 0:parseInt(e,10)}function re(e){if(!V(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function ie(e,t,n){void 0===n&&(n=!1);var r=Math.pow(10,t);return(n?Math.trunc:Math.round)(e*r)/r}function oe(e){return e%4===0&&(e%100!==0||e%400===0)}function ae(e){return oe(e)?366:365}function se(e,t){var n=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===n?oe(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function ue(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(t.getUTCFullYear()-1900),+t}function le(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===t||3===r?53:52}function ce(e){return e>99?e:e>60?1900+e:2e3+e}function Ae(e,t,n,r){void 0===r&&(r=null);var i=new Date(e),o={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);var a=Object.assign({timeZoneName:t},o),s=K();if(s&&q()){var u=new Intl.DateTimeFormat(n,a).formatToParts(i).find((function(e){return"timezonename"===e.type.toLowerCase()}));return u?u.value:null}if(s){var l=new Intl.DateTimeFormat(n,o).format(i);return new Intl.DateTimeFormat(n,a).format(i).substring(l.length).replace(/^[, \u200e]+/,"")}return null}function fe(e,t){var n=parseInt(e,10);Number.isNaN(n)&&(n=0);var r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function he(e){var t=Number(e);if("boolean"===typeof e||""===e||Number.isNaN(t))throw new y("Invalid unit value "+e);return t}function pe(e,t,n){var r={};for(var i in e)if($(e,i)){if(n.indexOf(i)>=0)continue;var o=e[i];if(void 0===o||null===o)continue;r[t(i)]=he(o)}return r}function de(e,t){var n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return""+i+te(n,2)+":"+te(r,2);case"narrow":return""+i+n+(r>0?":"+r:"");case"techie":return""+i+te(n,2)+te(r,2);default:throw new RangeError("Value format "+t+" is out of range for property format")}}function ge(e){return J(e,["hour","minute","second","millisecond"])}var ve=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function ye(e){return JSON.stringify(e,Object.keys(e).sort())}var me=["January","February","March","April","May","June","July","August","September","October","November","December"],be=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_e=["J","F","M","A","M","J","J","A","S","O","N","D"];function we(e){switch(e){case"narrow":return[].concat(_e);case"short":return[].concat(be);case"long":return[].concat(me);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var xe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ce=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Be=["M","T","W","T","F","S","S"];function Ee(e){switch(e){case"narrow":return[].concat(Be);case"short":return[].concat(Ce);case"long":return[].concat(xe);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Se=["AM","PM"],ke=["Before Christ","Anno Domini"],Oe=["BC","AD"],Te=["B","A"];function Pe(e){switch(e){case"narrow":return[].concat(Te);case"short":return[].concat(Oe);case"long":return[].concat(ke);default:return null}}function Me(e,t){for(var n,r="",i=A(e);!(n=i()).done;){var o=n.value;o.literal?r+=o.val:r+=t(o.val)}return r}var Fe={D:x,DD:C,DDD:E,DDDD:S,t:k,tt:O,ttt:T,tttt:P,T:M,TT:F,TTT:I,TTTT:L,f:R,ff:Z,fff:N,ffff:Q,F:D,FF:U,FFF:z,FFFF:H},Ie=function(){function e(e,t){this.opts=t,this.loc=e,this.systemLoc=null}e.create=function(t,n){return void 0===n&&(n={}),new e(t,n)},e.parseFormat=function(e){for(var t=null,n="",r=!1,i=[],o=0;o<e.length;o++){var a=e.charAt(o);"'"===a?(n.length>0&&i.push({literal:r,val:n}),t=null,n="",r=!r):r||a===t?n+=a:(n.length>0&&i.push({literal:!1,val:n}),n=a,t=a)}return n.length>0&&i.push({literal:r,val:n}),i},e.macroTokenToFormatOpts=function(e){return Fe[e]};var t=e.prototype;return t.formatWithSystemDefault=function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,Object.assign({},this.opts,t)).format()},t.formatDateTime=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,Object.assign({},this.opts,t)).format()},t.formatDateTimeParts=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,Object.assign({},this.opts,t)).formatToParts()},t.resolvedOptions=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,Object.assign({},this.opts,t)).resolvedOptions()},t.num=function(e,t){if(void 0===t&&(t=0),this.opts.forceSimple)return te(e,t);var n=Object.assign({},this.opts);return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)},t.formatDateTimeFromString=function(t,n){var r=this,i="en"===this.loc.listingMode(),o=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&q(),a=function(e,n){return r.loc.extract(t,e,n)},s=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},u=function(){return i?function(e){return Se[e.hour<12?0:1]}(t):a({hour:"numeric",hour12:!0},"dayperiod")},l=function(e,n){return i?function(e,t){return we(t)[e.month-1]}(t,e):a(n?{month:e}:{month:e,day:"numeric"},"month")},c=function(e,n){return i?function(e,t){return Ee(t)[e.weekday-1]}(t,e):a(n?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},A=function(e){return i?function(e,t){return Pe(t)[e.year<0?0:1]}(t,e):a({era:e},"era")};return Me(e.parseFormat(n),(function(n){switch(n){case"S":return r.num(t.millisecond);case"u":case"SSS":return r.num(t.millisecond,3);case"s":return r.num(t.second);case"ss":return r.num(t.second,2);case"m":return r.num(t.minute);case"mm":return r.num(t.minute,2);case"h":return r.num(t.hour%12===0?12:t.hour%12);case"hh":return r.num(t.hour%12===0?12:t.hour%12,2);case"H":return r.num(t.hour);case"HH":return r.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:r.opts.allowZ});case"ZZ":return s({format:"short",allowZ:r.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:r.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:r.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:r.loc.locale});case"z":return t.zoneName;case"a":return u();case"d":return o?a({day:"numeric"},"day"):r.num(t.day);case"dd":return o?a({day:"2-digit"},"day"):r.num(t.day,2);case"c":case"E":return r.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return o?a({month:"numeric",day:"numeric"},"month"):r.num(t.month);case"LL":return o?a({month:"2-digit",day:"numeric"},"month"):r.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return o?a({month:"numeric"},"month"):r.num(t.month);case"MM":return o?a({month:"2-digit"},"month"):r.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return o?a({year:"numeric"},"year"):r.num(t.year);case"yy":return o?a({year:"2-digit"},"year"):r.num(t.year.toString().slice(-2),2);case"yyyy":return o?a({year:"numeric"},"year"):r.num(t.year,4);case"yyyyyy":return o?a({year:"numeric"},"year"):r.num(t.year,6);case"G":return A("short");case"GG":return A("long");case"GGGGG":return A("narrow");case"kk":return r.num(t.weekYear.toString().slice(-2),2);case"kkkk":return r.num(t.weekYear,4);case"W":return r.num(t.weekNumber);case"WW":return r.num(t.weekNumber,2);case"o":return r.num(t.ordinal);case"ooo":return r.num(t.ordinal,3);case"q":return r.num(t.quarter);case"qq":return r.num(t.quarter,2);case"X":return r.num(Math.floor(t.ts/1e3));case"x":return r.num(t.ts);default:return function(n){var i=e.macroTokenToFormatOpts(n);return i?r.formatWithSystemDefault(t,i):n}(n)}}))},t.formatDurationFromString=function(t,n){var r,i=this,o=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},a=e.parseFormat(n),s=a.reduce((function(e,t){var n=t.literal,r=t.val;return n?e:e.concat(r)}),[]),u=t.shiftTo.apply(t,s.map(o).filter((function(e){return e})));return Me(a,(r=u,function(e){var t=o(e);return t?i.num(r.get(t),e.length):e}))},e}(),Le=function(){function e(e,t){this.reason=e,this.explanation=t}return e.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},e}(),Re=function(){function e(){}var t=e.prototype;return t.offsetName=function(e,t){throw new m},t.formatOffset=function(e,t){throw new m},t.offset=function(e){throw new m},t.equals=function(e){throw new m},r(e,[{key:"type",get:function(){throw new m}},{key:"name",get:function(){throw new m}},{key:"universal",get:function(){throw new m}},{key:"isValid",get:function(){throw new m}}]),e}(),De=null,Ze=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.offsetName=function(e,t){return Ae(e,t.format,t.locale)},n.formatOffset=function(e,t){return de(this.offset(e),t)},n.offset=function(e){return-new Date(e).getTimezoneOffset()},n.equals=function(e){return"local"===e.type},r(t,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return K()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===De&&(De=new t),De}}]),t}(Re),Ue=RegExp("^"+ve.source+"$"),je={};var Ne={year:0,month:1,day:2,hour:3,minute:4,second:5};var ze={},Qe=function(e){function t(n){var r;return(r=e.call(this)||this).zoneName=n,r.valid=t.isValidZone(n),r}i(t,e),t.create=function(e){return ze[e]||(ze[e]=new t(e)),ze[e]},t.resetCache=function(){ze={},je={}},t.isValidSpecifier=function(e){return!(!e||!e.match(Ue))},t.isValidZone=function(e){try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}},t.parseGMTOffset=function(e){if(e){var t=e.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(t)return-60*parseInt(t[1])}return null};var n=t.prototype;return n.offsetName=function(e,t){return Ae(e,t.format,t.locale,this.name)},n.formatOffset=function(e,t){return de(this.offset(e),t)},n.offset=function(e){var t=new Date(e);if(isNaN(t))return NaN;var n,r=(n=this.name,je[n]||(je[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),je[n]),i=r.formatToParts?function(e,t){for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var o=n[i],a=o.type,s=o.value,u=Ne[a];V(u)||(r[u]=parseInt(s,10))}return r}(r,t):function(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n),i=r[1],o=r[2];return[r[3],i,o,r[4],r[5],r[6]]}(r,t),o=i[0],a=i[1],s=i[2],u=i[3],l=+t,c=l%1e3;return(ue({year:o,month:a,day:s,hour:24===u?0:u,minute:i[4],second:i[5],millisecond:0})-(l-=c>=0?c:1e3+c))/6e4},n.equals=function(e){return"iana"===e.type&&e.name===this.name},r(t,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),t}(Re),He=null,Ve=function(e){function t(t){var n;return(n=e.call(this)||this).fixed=t,n}i(t,e),t.instance=function(e){return 0===e?t.utcInstance:new t(e)},t.parseSpecifier=function(e){if(e){var n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new t(fe(n[1],n[2]))}return null},r(t,null,[{key:"utcInstance",get:function(){return null===He&&(He=new t(0)),He}}]);var n=t.prototype;return n.offsetName=function(){return this.name},n.formatOffset=function(e,t){return de(this.fixed,t)},n.offset=function(){return this.fixed},n.equals=function(e){return"fixed"===e.type&&e.fixed===this.fixed},r(t,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+de(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),t}(Re),Ge=function(e){function t(t){var n;return(n=e.call(this)||this).zoneName=t,n}i(t,e);var n=t.prototype;return n.offsetName=function(){return null},n.formatOffset=function(){return""},n.offset=function(){return NaN},n.equals=function(){return!1},r(t,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),t}(Re);function We(e,t){var n;if(V(e)||null===e)return t;if(e instanceof Re)return e;if("string"===typeof e){var r=e.toLowerCase();return"local"===r?t:"utc"===r||"gmt"===r?Ve.utcInstance:null!=(n=Qe.parseGMTOffset(e))?Ve.instance(n):Qe.isValidSpecifier(r)?Qe.create(e):Ve.parseSpecifier(r)||new Ge(e)}return G(e)?Ve.instance(e):"object"===typeof e&&e.offset&&"number"===typeof e.offset?e:new Ge(e)}var Ke=function(){return Date.now()},qe=null,Xe=null,Ye=null,Je=null,$e=!1,et=function(){function e(){}return e.resetCaches=function(){At.resetCache(),Qe.resetCache()},r(e,null,[{key:"now",get:function(){return Ke},set:function(e){Ke=e}},{key:"defaultZoneName",get:function(){return e.defaultZone.name},set:function(e){qe=e?We(e):null}},{key:"defaultZone",get:function(){return qe||Ze.instance}},{key:"defaultLocale",get:function(){return Xe},set:function(e){Xe=e}},{key:"defaultNumberingSystem",get:function(){return Ye},set:function(e){Ye=e}},{key:"defaultOutputCalendar",get:function(){return Je},set:function(e){Je=e}},{key:"throwOnInvalid",get:function(){return $e},set:function(e){$e=e}}]),e}(),tt={};function nt(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),r=tt[n];return r||(r=new Intl.DateTimeFormat(e,t),tt[n]=r),r}var rt={};var it={};function ot(e,t){void 0===t&&(t={});var n=t,r=(n.base,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["base"])),i=JSON.stringify([e,r]),o=it[i];return o||(o=new Intl.RelativeTimeFormat(e,t),it[i]=o),o}var at=null;function st(e,t,n,r,i){var o=e.listingMode(n);return"error"===o?null:"en"===o?r(t):i(t)}var ut=function(){function e(e,t,n){if(this.padTo=n.padTo||0,this.floor=n.floor||!1,!t&&K()){var r={useGrouping:!1};n.padTo>0&&(r.minimumIntegerDigits=n.padTo),this.inf=function(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),r=rt[n];return r||(r=new Intl.NumberFormat(e,t),rt[n]=r),r}(e,r)}}return e.prototype.format=function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return te(this.floor?Math.floor(e):ie(e,3),this.padTo)},e}(),lt=function(){function e(e,t,n){var r;if(this.opts=n,this.hasIntl=K(),e.zone.universal&&this.hasIntl){var i=e.offset/60*-1,o=i>=0?"Etc/GMT+"+i:"Etc/GMT"+i,a=Qe.isValidZone(o);0!==e.offset&&a?(r=o,this.dt=e):(r="UTC",n.timeZoneName?this.dt=e:this.dt=0===e.offset?e:hr.fromMillis(e.ts+60*e.offset*1e3))}else"local"===e.zone.type?this.dt=e:(this.dt=e,r=e.zone.name);if(this.hasIntl){var s=Object.assign({},this.opts);r&&(s.timeZone=r),this.dtf=nt(t,s)}}var t=e.prototype;return t.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var e=function(e){var t="EEEE, LLLL d, yyyy, h:mm a";switch(ye(J(e,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]))){case ye(x):return"M/d/yyyy";case ye(C):return"LLL d, yyyy";case ye(B):return"EEE, LLL d, yyyy";case ye(E):return"LLLL d, yyyy";case ye(S):return"EEEE, LLLL d, yyyy";case ye(k):return"h:mm a";case ye(O):return"h:mm:ss a";case ye(T):case ye(P):return"h:mm a";case ye(M):return"HH:mm";case ye(F):return"HH:mm:ss";case ye(I):case ye(L):return"HH:mm";case ye(R):return"M/d/yyyy, h:mm a";case ye(Z):return"LLL d, yyyy, h:mm a";case ye(N):return"LLLL d, yyyy, h:mm a";case ye(Q):return t;case ye(D):return"M/d/yyyy, h:mm:ss a";case ye(U):return"LLL d, yyyy, h:mm:ss a";case ye(j):return"EEE, d LLL yyyy, h:mm a";case ye(z):return"LLLL d, yyyy, h:mm:ss a";case ye(H):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return t}}(this.opts),t=At.create("en-US");return Ie.create(t).formatDateTimeFromString(this.dt,e)},t.formatToParts=function(){return this.hasIntl&&q()?this.dtf.formatToParts(this.dt.toJSDate()):[]},t.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},e}(),ct=function(){function e(e,t,n){this.opts=Object.assign({style:"long"},n),!t&&X()&&(this.rtf=ot(e,n))}var t=e.prototype;return t.format=function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n,r){void 0===n&&(n="always"),void 0===r&&(r=!1);var i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&o){var a="days"===e;switch(t){case 1:return a?"tomorrow":"next "+i[e][0];case-1:return a?"yesterday":"last "+i[e][0];case 0:return a?"today":"this "+i[e][0]}}var s=Object.is(t,-0)||t<0,u=Math.abs(t),l=1===u,c=i[e],A=r?l?c[1]:c[2]||c[1]:l?i[e][0]:e;return s?u+" "+A+" ago":"in "+u+" "+A}(t,e,this.opts.numeric,"long"!==this.opts.style)},t.formatToParts=function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]},e}(),At=function(){function e(e,t,n,r){var i=function(e){var t=e.indexOf("-u-");if(-1===t)return[e];var n,r=e.substring(0,t);try{n=nt(e).resolvedOptions()}catch(o){n=nt(r).resolvedOptions()}var i=n;return[r,i.numberingSystem,i.calendar]}(e),o=i[0],a=i[1],s=i[2];this.locale=o,this.numberingSystem=t||a||null,this.outputCalendar=n||s||null,this.intl=function(e,t,n){return K()?n||t?(e+="-u",n&&(e+="-ca-"+n),t&&(e+="-nu-"+t),e):e:[]}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}e.fromOpts=function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)},e.create=function(t,n,r,i){void 0===i&&(i=!1);var o=t||et.defaultLocale;return new e(o||(i?"en-US":function(){if(at)return at;if(K()){var e=(new Intl.DateTimeFormat).resolvedOptions().locale;return at=e&&"und"!==e?e:"en-US"}return at="en-US"}()),n||et.defaultNumberingSystem,r||et.defaultOutputCalendar,o)},e.resetCache=function(){at=null,tt={},rt={},it={}},e.fromObject=function(t){var n=void 0===t?{}:t,r=n.locale,i=n.numberingSystem,o=n.outputCalendar;return e.create(r,i,o)};var t=e.prototype;return t.listingMode=function(e){void 0===e&&(e=!0);var t=K()&&q(),n=this.isEnglish(),r=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return t||n&&r||e?!t||n&&r?"en":"intl":"error"},t.clone=function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this},t.redefaultToEN=function(e){return void 0===e&&(e={}),this.clone(Object.assign({},e,{defaultToEN:!0}))},t.redefaultToSystem=function(e){return void 0===e&&(e={}),this.clone(Object.assign({},e,{defaultToEN:!1}))},t.months=function(e,t,n){var r=this;return void 0===t&&(t=!1),void 0===n&&(n=!0),st(this,e,n,we,(function(){var n=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";return r.monthsCache[i][e]||(r.monthsCache[i][e]=function(e){for(var t=[],n=1;n<=12;n++){var r=hr.utc(2016,n,1);t.push(e(r))}return t}((function(e){return r.extract(e,n,"month")}))),r.monthsCache[i][e]}))},t.weekdays=function(e,t,n){var r=this;return void 0===t&&(t=!1),void 0===n&&(n=!0),st(this,e,n,Ee,(function(){var n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return r.weekdaysCache[i][e]||(r.weekdaysCache[i][e]=function(e){for(var t=[],n=1;n<=7;n++){var r=hr.utc(2016,11,13+n);t.push(e(r))}return t}((function(e){return r.extract(e,n,"weekday")}))),r.weekdaysCache[i][e]}))},t.meridiems=function(e){var t=this;return void 0===e&&(e=!0),st(this,void 0,e,(function(){return Se}),(function(){if(!t.meridiemCache){var e={hour:"numeric",hour12:!0};t.meridiemCache=[hr.utc(2016,11,13,9),hr.utc(2016,11,13,19)].map((function(n){return t.extract(n,e,"dayperiod")}))}return t.meridiemCache}))},t.eras=function(e,t){var n=this;return void 0===t&&(t=!0),st(this,e,t,Pe,(function(){var t={era:e};return n.eraCache[e]||(n.eraCache[e]=[hr.utc(-40,1,1),hr.utc(2017,1,1)].map((function(e){return n.extract(e,t,"era")}))),n.eraCache[e]}))},t.extract=function(e,t,n){var r=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===n}));return r?r.value:null},t.numberFormatter=function(e){return void 0===e&&(e={}),new ut(this.intl,e.forceSimple||this.fastNumbers,e)},t.dtFormatter=function(e,t){return void 0===t&&(t={}),new lt(e,this.intl,t)},t.relFormatter=function(e){return void 0===e&&(e={}),new ct(this.intl,this.isEnglish(),e)},t.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||K()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},t.equals=function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar},r(e,[{key:"fastNumbers",get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||K()&&"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}}]),e}();function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^"+r+"$")}function ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){var r=t[0],i=t[1],o=t[2],a=n(e,o),s=a[0],u=a[1],l=a[2];return[Object.assign(r,s),i||u,l]}),[{},null,1]).slice(0,2)}}function pt(e){if(null==e)return[null,null];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i],s=a[0],u=a[1],l=s.exec(e);if(l)return u(l)}return[null,null]}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r,i={};for(r=0;r<t.length;r++)i[t[r]]=ne(e[n+r]);return[i,null,n+r]}}var gt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,vt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,yt=RegExp(""+vt.source+gt.source+"?"),mt=RegExp("(?:T"+yt.source+")?"),bt=dt("weekYear","weekNumber","weekDay"),_t=dt("year","ordinal"),wt=RegExp(vt.source+" ?(?:"+gt.source+"|("+ve.source+"))?"),xt=RegExp("(?: "+wt.source+")?");function Ct(e,t,n){var r=e[t];return V(r)?n:ne(r)}function Bt(e,t){return[{year:Ct(e,t),month:Ct(e,t+1,1),day:Ct(e,t+2,1)},null,t+3]}function Et(e,t){return[{hours:Ct(e,t,0),minutes:Ct(e,t+1,0),seconds:Ct(e,t+2,0),milliseconds:re(e[t+3])},null,t+4]}function St(e,t){var n=!e[t]&&!e[t+1],r=fe(e[t+1],e[t+2]);return[{},n?null:Ve.instance(r),t+3]}function kt(e,t){return[{},e[t]?Qe.create(e[t]):null,t+1]}var Ot=RegExp("^T?"+vt.source+"$"),Tt=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Pt(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c="-"===t[0],A=u&&"-"===u[0],f=function(e,t){return void 0===t&&(t=!1),void 0!==e&&(t||e&&c)?-e:e};return[{years:f(ne(n)),months:f(ne(r)),weeks:f(ne(i)),days:f(ne(o)),hours:f(ne(a)),minutes:f(ne(s)),seconds:f(ne(u),"-0"===u),milliseconds:f(re(l),A)}]}var Mt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ft(e,t,n,r,i,o,a){var s={year:2===t.length?ce(ne(t)):ne(t),month:be.indexOf(n)+1,day:ne(r),hour:ne(i),minute:ne(o)};return a&&(s.second=ne(a)),e&&(s.weekday=e.length>3?xe.indexOf(e)+1:Ce.indexOf(e)+1),s}var It=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Lt(e){var t,n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],A=e[10],f=e[11],h=Ft(n,o,i,r,a,s,u);return t=l?Mt[l]:c?0:fe(A,f),[h,new Ve(t)]}var Rt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Dt=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Zt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ut(e){var t=e[1],n=e[2],r=e[3];return[Ft(t,e[4],r,n,e[5],e[6],e[7]),Ve.utcInstance]}function jt(e){var t=e[1],n=e[2],r=e[3],i=e[4],o=e[5],a=e[6];return[Ft(t,e[7],n,r,i,o,a),Ve.utcInstance]}var Nt=ft(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,mt),zt=ft(/(\d{4})-?W(\d\d)(?:-?(\d))?/,mt),Qt=ft(/(\d{4})-?(\d{3})/,mt),Ht=ft(yt),Vt=ht(Bt,Et,St),Gt=ht(bt,Et,St),Wt=ht(_t,Et,St),Kt=ht(Et,St);var qt=ht(Et);var Xt=ft(/(\d{4})-(\d\d)-(\d\d)/,xt),Yt=ft(wt),Jt=ht(Bt,Et,St,kt),$t=ht(Et,St,kt);var en={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},tn=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},en),nn=365.2425,rn=30.436875,on=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:nn,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:rn,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},en),an=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],sn=an.slice(0).reverse();function un(e,t,n){void 0===n&&(n=!1);var r={values:n?t.values:Object.assign({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new cn(r)}function ln(e,t,n,r,i){var o=e[i][n],a=t[n]/o,s=!(Math.sign(a)===Math.sign(r[i]))&&0!==r[i]&&Math.abs(a)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(a):Math.trunc(a);r[i]+=s,t[n]-=s*o}var cn=function(){function e(e){var t="longterm"===e.conversionAccuracy||!1;this.values=e.values,this.loc=e.loc||At.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?on:tn,this.isLuxonDuration=!0}e.fromMillis=function(t,n){return e.fromObject(Object.assign({milliseconds:t},n))},e.fromObject=function(t){if(null==t||"object"!==typeof t)throw new y("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new e({values:pe(t,e.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:At.fromObject(t),conversionAccuracy:t.conversionAccuracy})},e.fromISO=function(t,n){var r=function(e){return pt(e,[Tt,Pt])}(t),i=r[0];if(i){var o=Object.assign(i,n);return e.fromObject(o)}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.fromISOTime=function(t,n){var r=function(e){return pt(e,[Ot,qt])}(t),i=r[0];if(i){var o=Object.assign(i,n);return e.fromObject(o)}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new y("need to specify a reason the Duration is invalid");var r=t instanceof Le?t:new Le(t,n);if(et.throwOnInvalid)throw new d(r);return new e({invalid:r})},e.normalizeUnit=function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new v(e);return t},e.isDuration=function(e){return e&&e.isLuxonDuration||!1};var t=e.prototype;return t.toFormat=function(e,t){void 0===t&&(t={});var n=Object.assign({},t,{floor:!1!==t.round&&!1!==t.floor});return this.isValid?Ie.create(this.loc,n).formatDurationFromString(this,e):"Invalid Duration"},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=Object.assign({},this.values);return e.includeConfig&&(t.conversionAccuracy=this.conversionAccuracy,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toISO=function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=ie(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e},t.toISOTime=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var t=this.toMillis();if(t<0||t>=864e5)return null;e=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);var n=this.shiftTo("hours","minutes","seconds","milliseconds"),r="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(r+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===n.milliseconds||(r+=".SSS"));var i=n.toFormat(r);return e.includePrefix&&(i="T"+i),i},t.toJSON=function(){return this.toISO()},t.toString=function(){return this.toISO()},t.toMillis=function(){return this.as("milliseconds")},t.valueOf=function(){return this.toMillis()},t.plus=function(e){if(!this.isValid)return this;for(var t,n=An(e),r={},i=A(an);!(t=i()).done;){var o=t.value;($(n.values,o)||$(this.values,o))&&(r[o]=n.get(o)+this.get(o))}return un(this,{values:r},!0)},t.minus=function(e){if(!this.isValid)return this;var t=An(e);return this.plus(t.negate())},t.mapUnits=function(e){if(!this.isValid)return this;for(var t={},n=0,r=Object.keys(this.values);n<r.length;n++){var i=r[n];t[i]=he(e(this.values[i],i))}return un(this,{values:t},!0)},t.get=function(t){return this[e.normalizeUnit(t)]},t.set=function(t){return this.isValid?un(this,{values:Object.assign(this.values,pe(t,e.normalizeUnit,[]))}):this},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,r=t.numberingSystem,i=t.conversionAccuracy,o={loc:this.loc.clone({locale:n,numberingSystem:r})};return i&&(o.conversionAccuracy=i),un(this,o)},t.as=function(e){return this.isValid?this.shiftTo(e).get(e):NaN},t.normalize=function(){if(!this.isValid)return this;var e=this.toObject();return function(e,t){sn.reduce((function(n,r){return V(t[r])?n:(n&&ln(e,t,n,t,r),r)}),null)}(this.matrix,e),un(this,{values:e},!0)},t.shiftTo=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!this.isValid)return this;if(0===n.length)return this;n=n.map((function(t){return e.normalizeUnit(t)}));for(var i,o,a={},s={},u=this.toObject(),l=A(an);!(o=l()).done;){var c=o.value;if(n.indexOf(c)>=0){i=c;var f=0;for(var h in s)f+=this.matrix[h][c]*s[h],s[h]=0;G(u[c])&&(f+=u[c]);var p=Math.trunc(f);for(var d in a[c]=p,s[c]=f-p,u)an.indexOf(d)>an.indexOf(c)&&ln(this.matrix,u,d,a,c)}else G(u[c])&&(s[c]=u[c])}for(var g in s)0!==s[g]&&(a[i]+=g===i?s[g]:s[g]/this.matrix[i][g]);return un(this,{values:a},!0).normalize()},t.negate=function(){if(!this.isValid)return this;for(var e={},t=0,n=Object.keys(this.values);t<n.length;t++){var r=n[t];e[r]=-this.values[r]}return un(this,{values:e},!0)},t.equals=function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(var t,n=A(an);!(t=n()).done;){var r=t.value;if(i=this.values[r],o=e.values[r],!(void 0===i||0===i?void 0===o||0===o:i===o))return!1}var i,o;return!0},r(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}();function An(e){if(G(e))return cn.fromMillis(e);if(cn.isDuration(e))return e;if("object"===typeof e)return cn.fromObject(e);throw new y("Unknown duration argument "+e+" of type "+typeof e)}var fn="Invalid Interval";function hn(e,t){return e&&e.isValid?t&&t.isValid?t<e?pn.invalid("end before start","The end of an interval must be after its start, but you had start="+e.toISO()+" and end="+t.toISO()):null:pn.invalid("missing or invalid end"):pn.invalid("missing or invalid start")}var pn=function(){function e(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new y("need to specify a reason the Interval is invalid");var r=t instanceof Le?t:new Le(t,n);if(et.throwOnInvalid)throw new p(r);return new e({invalid:r})},e.fromDateTimes=function(t,n){var r=pr(t),i=pr(n),o=hn(r,i);return null==o?new e({start:r,end:i}):o},e.after=function(t,n){var r=An(n),i=pr(t);return e.fromDateTimes(i,i.plus(r))},e.before=function(t,n){var r=An(n),i=pr(t);return e.fromDateTimes(i.minus(r),i)},e.fromISO=function(t,n){var r=(t||"").split("/",2),i=r[0],o=r[1];if(i&&o){var a,s,u,l;try{s=(a=hr.fromISO(i,n)).isValid}catch(o){s=!1}try{l=(u=hr.fromISO(o,n)).isValid}catch(o){l=!1}if(s&&l)return e.fromDateTimes(a,u);if(s){var c=cn.fromISO(o,n);if(c.isValid)return e.after(a,c)}else if(l){var A=cn.fromISO(i,n);if(A.isValid)return e.before(u,A)}}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.isInterval=function(e){return e&&e.isLuxonInterval||!1};var t=e.prototype;return t.length=function(e){return void 0===e&&(e="milliseconds"),this.isValid?this.toDuration.apply(this,[e]).get(e):NaN},t.count=function(e){if(void 0===e&&(e="milliseconds"),!this.isValid)return NaN;var t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1},t.hasSame=function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))},t.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},t.isAfter=function(e){return!!this.isValid&&this.s>e},t.isBefore=function(e){return!!this.isValid&&this.e<=e},t.contains=function(e){return!!this.isValid&&(this.s<=e&&this.e>e)},t.set=function(t){var n=void 0===t?{}:t,r=n.start,i=n.end;return this.isValid?e.fromDateTimes(r||this.s,i||this.e):this},t.splitAt=function(){var t=this;if(!this.isValid)return[];for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o=r.map(pr).filter((function(e){return t.contains(e)})).sort(),a=[],s=this.s,u=0;s<this.e;){var l=o[u]||this.e,c=+l>+this.e?this.e:l;a.push(e.fromDateTimes(s,c)),s=c,u+=1}return a},t.splitBy=function(t){var n=An(t);if(!this.isValid||!n.isValid||0===n.as("milliseconds"))return[];for(var r,i=this.s,o=1,a=[];i<this.e;){var s=this.start.plus(n.mapUnits((function(e){return e*o})));r=+s>+this.e?this.e:s,a.push(e.fromDateTimes(i,r)),i=r,o+=1}return a},t.divideEqually=function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]},t.overlaps=function(e){return this.e>e.s&&this.s<e.e},t.abutsStart=function(e){return!!this.isValid&&+this.e===+e.s},t.abutsEnd=function(e){return!!this.isValid&&+e.e===+this.s},t.engulfs=function(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)},t.equals=function(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))},t.intersection=function(t){if(!this.isValid)return this;var n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:e.fromDateTimes(n,r)},t.union=function(t){if(!this.isValid)return this;var n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return e.fromDateTimes(n,r)},e.merge=function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var n=e[0],r=e[1];return r?r.overlaps(t)||r.abutsStart(t)?[n,r.union(t)]:[n.concat([r]),t]:[n,t]}),[[],null]),n=t[0],r=t[1];return r&&n.push(r),n},e.xor=function(t){for(var n,r,i=null,o=0,a=[],s=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),u=A((n=Array.prototype).concat.apply(n,s).sort((function(e,t){return e.time-t.time})));!(r=u()).done;){var l=r.value;1===(o+="s"===l.type?1:-1)?i=l.time:(i&&+i!==+l.time&&a.push(e.fromDateTimes(i,l.time)),i=null)}return e.merge(a)},t.difference=function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.xor([this].concat(r)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))},t.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":fn},t.toISO=function(e){return this.isValid?this.s.toISO(e)+"/"+this.e.toISO(e):fn},t.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():fn},t.toISOTime=function(e){return this.isValid?this.s.toISOTime(e)+"/"+this.e.toISOTime(e):fn},t.toFormat=function(e,t){var n=(void 0===t?{}:t).separator,r=void 0===n?" \u2013 ":n;return this.isValid?""+this.s.toFormat(e)+r+this.e.toFormat(e):fn},t.toDuration=function(e,t){return this.isValid?this.e.diff(this.s,e,t):cn.invalid(this.invalidReason)},t.mapEndpoints=function(t){return e.fromDateTimes(t(this.s),t(this.e))},r(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),dn=function(){function e(){}return e.hasDST=function(e){void 0===e&&(e=et.defaultZone);var t=hr.now().setZone(e).set({month:12});return!e.universal&&t.offset!==t.set({month:6}).offset},e.isValidIANAZone=function(e){return Qe.isValidSpecifier(e)&&Qe.isValidZone(e)},e.normalizeZone=function(e){return We(e,et.defaultZone)},e.months=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,o=n.numberingSystem,a=void 0===o?null:o,s=n.locObj,u=void 0===s?null:s,l=n.outputCalendar,c=void 0===l?"gregory":l;return(u||At.create(i,a,c)).months(e)},e.monthsFormat=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,o=n.numberingSystem,a=void 0===o?null:o,s=n.locObj,u=void 0===s?null:s,l=n.outputCalendar,c=void 0===l?"gregory":l;return(u||At.create(i,a,c)).months(e,!0)},e.weekdays=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,o=n.numberingSystem,a=void 0===o?null:o,s=n.locObj;return((void 0===s?null:s)||At.create(i,a,null)).weekdays(e)},e.weekdaysFormat=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,o=n.numberingSystem,a=void 0===o?null:o,s=n.locObj;return((void 0===s?null:s)||At.create(i,a,null)).weekdays(e,!0)},e.meridiems=function(e){var t=(void 0===e?{}:e).locale,n=void 0===t?null:t;return At.create(n).meridiems()},e.eras=function(e,t){void 0===e&&(e="short");var n=(void 0===t?{}:t).locale,r=void 0===n?null:n;return At.create(r,null,"gregory").eras(e)},e.features=function(){var e=!1,t=!1,n=!1,r=!1;if(K()){e=!0,t=q(),r=X();try{n="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch(i){n=!1}}return{intl:e,intlTokens:t,zones:n,relative:r}},e}();function gn(e,t){var n=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=n(t)-n(e);return Math.floor(cn.fromMillis(r).as("days"))}function vn(e,t,n,r){var i=function(e,t,n){for(var r,i,o={},a=0,s=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var n=gn(e,t);return(n-n%7)/7}],["days",gn]];a<s.length;a++){var u=s[a],l=u[0],c=u[1];if(n.indexOf(l)>=0){var A;r=l;var f,h=c(e,t);(i=e.plus(((A={})[l]=h,A)))>t?(e=e.plus(((f={})[l]=h-1,f)),h-=1):e=i,o[l]=h}}return[e,o,i,r]}(e,t,n),o=i[0],a=i[1],s=i[2],u=i[3],l=t-o,c=n.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));if(0===c.length){var A;if(s<t)s=o.plus(((A={})[u]=1,A));s!==o&&(a[u]=(a[u]||0)+l/(s-o))}var f,h=cn.fromObject(Object.assign(a,r));return c.length>0?(f=cn.fromMillis(l,r)).shiftTo.apply(f,c).plus(h):h}var yn={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},mn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},bn=yn.hanidec.replace(/[\[|\]]/g,"").split("");function _n(e,t){var n=e.numberingSystem;return void 0===t&&(t=""),new RegExp(""+yn[n||"latn"]+t)}function wn(e,t){return void 0===t&&(t=function(e){return e}),{regex:e,deser:function(e){var n=e[0];return t(function(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(-1!==e[n].search(yn.hanidec))t+=bn.indexOf(e[n]);else for(var i in mn){var o=mn[i],a=o[0],s=o[1];r>=a&&r<=s&&(t+=r-a)}}return parseInt(t,10)}return t}(n))}}}var xn="( |"+String.fromCharCode(160)+")",Cn=new RegExp(xn,"g");function Bn(e){return e.replace(/\./g,"\\.?").replace(Cn,xn)}function En(e){return e.replace(/\./g,"").replace(Cn," ").toLowerCase()}function Sn(e,t){return null===e?null:{regex:RegExp(e.map(Bn).join("|")),deser:function(n){var r=n[0];return e.findIndex((function(e){return En(r)===En(e)}))+t}}}function kn(e,t){return{regex:e,deser:function(e){return fe(e[1],e[2])},groups:t}}function On(e){return{regex:e,deser:function(e){return e[0]}}}var Tn={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};var Pn=null;function Mn(e,t){if(e.literal)return e;var n=Ie.macroTokenToFormatOpts(e.val);if(!n)return e;var r=Ie.create(t,n).formatDateTimeParts((Pn||(Pn=hr.fromMillis(1555555555555)),Pn)).map((function(e){return function(e,t,n){var r=e.type,i=e.value;if("literal"===r)return{literal:!0,val:i};var o=n[r],a=Tn[r];return"object"===typeof a&&(a=a[o]),a?{literal:!1,val:a}:void 0}(e,0,n)}));return r.includes(void 0)?e:r}function Fn(e,t,n){var r=function(e,t){var n;return(n=Array.prototype).concat.apply(n,e.map((function(e){return Mn(e,t)})))}(Ie.parseFormat(n),e),i=r.map((function(t){return function(e,t){var n=_n(t),r=_n(t,"{2}"),i=_n(t,"{3}"),o=_n(t,"{4}"),a=_n(t,"{6}"),s=_n(t,"{1,2}"),u=_n(t,"{1,3}"),l=_n(t,"{1,6}"),c=_n(t,"{1,9}"),A=_n(t,"{2,4}"),f=_n(t,"{4,6}"),h=function(e){return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:function(e){return e[0]},literal:!0};var t},p=function(p){if(e.literal)return h(p);switch(p.val){case"G":return Sn(t.eras("short",!1),0);case"GG":return Sn(t.eras("long",!1),0);case"y":return wn(l);case"yy":case"kk":return wn(A,ce);case"yyyy":case"kkkk":return wn(o);case"yyyyy":return wn(f);case"yyyyyy":return wn(a);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return wn(s);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return wn(r);case"MMM":return Sn(t.months("short",!0,!1),1);case"MMMM":return Sn(t.months("long",!0,!1),1);case"LLL":return Sn(t.months("short",!1,!1),1);case"LLLL":return Sn(t.months("long",!1,!1),1);case"o":case"S":return wn(u);case"ooo":case"SSS":return wn(i);case"u":return On(c);case"a":return Sn(t.meridiems(),0);case"E":case"c":return wn(n);case"EEE":return Sn(t.weekdays("short",!1,!1),1);case"EEEE":return Sn(t.weekdays("long",!1,!1),1);case"ccc":return Sn(t.weekdays("short",!0,!1),1);case"cccc":return Sn(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return kn(new RegExp("([+-]"+s.source+")(?::("+r.source+"))?"),2);case"ZZZ":return kn(new RegExp("([+-]"+s.source+")("+r.source+")?"),2);case"z":return On(/[a-z_+-/]{1,256}?/i);default:return h(p)}}(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return p.token=e,p}(t,e)})),o=i.find((function(e){return e.invalidReason}));if(o)return{input:t,tokens:r,invalidReason:o.invalidReason};var a=function(e){return["^"+e.map((function(e){return e.regex})).reduce((function(e,t){return e+"("+t.source+")"}),"")+"$",e]}(i),s=a[0],u=a[1],l=RegExp(s,"i"),c=function(e,t,n){var r=e.match(t);if(r){var i={},o=1;for(var a in n)if($(n,a)){var s=n[a],u=s.groups?s.groups+1:1;!s.literal&&s.token&&(i[s.token.val[0]]=s.deser(r.slice(o,o+u))),o+=u}return[r,i]}return[r,{}]}(t,l,u),A=c[0],f=c[1],h=f?function(e){var t;return t=V(e.Z)?V(e.z)?null:Qe.create(e.z):new Ve(e.Z),V(e.q)||(e.M=3*(e.q-1)+1),V(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),V(e.u)||(e.S=re(e.u)),[Object.keys(e).reduce((function(t,n){var r=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(n);return r&&(t[r]=e[n]),t}),{}),t]}(f):[null,null],p=h[0],d=h[1];if($(f,"a")&&$(f,"H"))throw new g("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:l,rawMatches:A,matches:f,result:p,zone:d}}var In=[0,31,59,90,120,151,181,212,243,273,304,334],Ln=[0,31,60,91,121,152,182,213,244,274,305,335];function Rn(e,t){return new Le("unit out of range","you specified "+t+" (of type "+typeof t+") as a "+e+", which is invalid")}function Dn(e,t,n){var r=new Date(Date.UTC(e,t-1,n)).getUTCDay();return 0===r?7:r}function Zn(e,t,n){return n+(oe(e)?Ln:In)[t-1]}function Un(e,t){var n=oe(e)?Ln:In,r=n.findIndex((function(e){return e<t}));return{month:r+1,day:t-n[r]}}function jn(e){var t,n=e.year,r=e.month,i=e.day,o=Zn(n,r,i),a=Dn(n,r,i),s=Math.floor((o-a+10)/7);return s<1?s=le(t=n-1):s>le(n)?(t=n+1,s=1):t=n,Object.assign({weekYear:t,weekNumber:s,weekday:a},ge(e))}function Nn(e){var t,n=e.weekYear,r=e.weekNumber,i=e.weekday,o=Dn(n,1,4),a=ae(n),s=7*r+i-o-3;s<1?s+=ae(t=n-1):s>a?(t=n+1,s-=ae(n)):t=n;var u=Un(t,s),l=u.month,c=u.day;return Object.assign({year:t,month:l,day:c},ge(e))}function zn(e){var t=e.year,n=Zn(t,e.month,e.day);return Object.assign({year:t,ordinal:n},ge(e))}function Qn(e){var t=e.year,n=Un(t,e.ordinal),r=n.month,i=n.day;return Object.assign({year:t,month:r,day:i},ge(e))}function Hn(e){var t=W(e.year),n=ee(e.month,1,12),r=ee(e.day,1,se(e.year,e.month));return t?n?!r&&Rn("day",e.day):Rn("month",e.month):Rn("year",e.year)}function Vn(e){var t=e.hour,n=e.minute,r=e.second,i=e.millisecond,o=ee(t,0,23)||24===t&&0===n&&0===r&&0===i,a=ee(n,0,59),s=ee(r,0,59),u=ee(i,0,999);return o?a?s?!u&&Rn("millisecond",i):Rn("second",r):Rn("minute",n):Rn("hour",t)}var Gn="Invalid DateTime",Wn=864e13;function Kn(e){return new Le("unsupported zone",'the zone "'+e.name+'" is not supported')}function qn(e){return null===e.weekData&&(e.weekData=jn(e.c)),e.weekData}function Xn(e,t){var n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new hr(Object.assign({},n,t,{old:n}))}function Yn(e,t,n){var r=e-60*t*1e3,i=n.offset(r);if(t===i)return[r,t];r-=60*(i-t)*1e3;var o=n.offset(r);return i===o?[r,i]:[e-60*Math.min(i,o)*1e3,Math.max(i,o)]}function Jn(e,t){var n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function $n(e,t,n){return Yn(ue(e),t,n)}function er(e,t){var n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o=Object.assign({},e.c,{year:r,month:i,day:Math.min(e.c.day,se(r,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),a=cn.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=Yn(ue(o),n,e.zone),u=s[0],l=s[1];return 0!==a&&(u+=a,l=e.zone.offset(u)),{ts:u,o:l}}function tr(e,t,n,r,i){var o=n.setZone,a=n.zone;if(e&&0!==Object.keys(e).length){var s=t||a,u=hr.fromObject(Object.assign(e,n,{zone:s,setZone:void 0}));return o?u:u.setZone(a)}return hr.invalid(new Le("unparsable",'the input "'+i+"\" can't be parsed as "+r))}function nr(e,t,n){return void 0===n&&(n=!0),e.isValid?Ie.create(At.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function rr(e,t){var n=t.suppressSeconds,r=void 0!==n&&n,i=t.suppressMilliseconds,o=void 0!==i&&i,a=t.includeOffset,s=t.includePrefix,u=void 0!==s&&s,l=t.includeZone,c=void 0!==l&&l,A=t.spaceZone,f=void 0!==A&&A,h=t.format,p=void 0===h?"extended":h,d="basic"===p?"HHmm":"HH:mm";r&&0===e.second&&0===e.millisecond||(d+="basic"===p?"ss":":ss",o&&0===e.millisecond||(d+=".SSS")),(c||a)&&f&&(d+=" "),c?d+="z":a&&(d+="basic"===p?"ZZZ":"ZZ");var g=nr(e,d);return u&&(g="T"+g),g}var ir={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},or={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ar={ordinal:1,hour:0,minute:0,second:0,millisecond:0},sr=["year","month","day","hour","minute","second","millisecond"],ur=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],lr=["year","ordinal","hour","minute","second","millisecond"];function cr(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new v(e);return t}function Ar(e,t){for(var n,r=A(sr);!(n=r()).done;){var i=n.value;V(e[i])&&(e[i]=ir[i])}var o=Hn(e)||Vn(e);if(o)return hr.invalid(o);var a=et.now(),s=$n(e,t.offset(a),t),u=s[0],l=s[1];return new hr({ts:u,zone:t,o:l})}function fr(e,t,n){var r=!!V(n.round)||n.round,i=function(e,i){return e=ie(e,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(e,i)},o=function(r){return n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r)};if(n.unit)return i(o(n.unit),n.unit);for(var a,s=A(n.units);!(a=s()).done;){var u=a.value,l=o(u);if(Math.abs(l)>=1)return i(l,u)}return i(e>t?-0:0,n.units[n.units.length-1])}var hr=function(){function e(e){var t=e.zone||et.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Le("invalid input"):null)||(t.isValid?null:Kn(t));this.ts=V(e.ts)?et.now():e.ts;var r=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t)){var o=[e.old.c,e.old.o];r=o[0],i=o[1]}else{var a=t.offset(this.ts);r=Jn(this.ts,a),r=(n=Number.isNaN(r.year)?new Le("invalid input"):null)?null:r,i=n?null:a}this._zone=t,this.loc=e.loc||At.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}e.now=function(){return new e({})},e.local=function(t,n,r,i,o,a,s){return V(t)?e.now():Ar({year:t,month:n,day:r,hour:i,minute:o,second:a,millisecond:s},et.defaultZone)},e.utc=function(t,n,r,i,o,a,s){return V(t)?new e({ts:et.now(),zone:Ve.utcInstance}):Ar({year:t,month:n,day:r,hour:i,minute:o,second:a,millisecond:s},Ve.utcInstance)},e.fromJSDate=function(t,n){void 0===n&&(n={});var r,i=(r=t,"[object Date]"===Object.prototype.toString.call(r)?t.valueOf():NaN);if(Number.isNaN(i))return e.invalid("invalid input");var o=We(n.zone,et.defaultZone);return o.isValid?new e({ts:i,zone:o,loc:At.fromObject(n)}):e.invalid(Kn(o))},e.fromMillis=function(t,n){if(void 0===n&&(n={}),G(t))return t<-Wn||t>Wn?e.invalid("Timestamp out of range"):new e({ts:t,zone:We(n.zone,et.defaultZone),loc:At.fromObject(n)});throw new y("fromMillis requires a numerical input, but received a "+typeof t+" with value "+t)},e.fromSeconds=function(t,n){if(void 0===n&&(n={}),G(t))return new e({ts:1e3*t,zone:We(n.zone,et.defaultZone),loc:At.fromObject(n)});throw new y("fromSeconds requires a numerical input")},e.fromObject=function(t){var n=We(t.zone,et.defaultZone);if(!n.isValid)return e.invalid(Kn(n));var r=et.now(),i=n.offset(r),o=pe(t,cr,["zone","locale","outputCalendar","numberingSystem"]),a=!V(o.ordinal),s=!V(o.year),u=!V(o.month)||!V(o.day),l=s||u,c=o.weekYear||o.weekNumber,f=At.fromObject(t);if((l||a)&&c)throw new g("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new g("Can't mix ordinal dates with month/day");var h,p,d=c||o.weekday&&!l,v=Jn(r,i);d?(h=ur,p=or,v=jn(v)):a?(h=lr,p=ar,v=zn(v)):(h=sr,p=ir);for(var y,m=!1,b=A(h);!(y=b()).done;){var _=y.value;V(o[_])?o[_]=m?p[_]:v[_]:m=!0}var w=d?function(e){var t=W(e.weekYear),n=ee(e.weekNumber,1,le(e.weekYear)),r=ee(e.weekday,1,7);return t?n?!r&&Rn("weekday",e.weekday):Rn("week",e.week):Rn("weekYear",e.weekYear)}(o):a?function(e){var t=W(e.year),n=ee(e.ordinal,1,ae(e.year));return t?!n&&Rn("ordinal",e.ordinal):Rn("year",e.year)}(o):Hn(o),x=w||Vn(o);if(x)return e.invalid(x);var C=$n(d?Nn(o):a?Qn(o):o,i,n),B=new e({ts:C[0],zone:n,o:C[1],loc:f});return o.weekday&&l&&t.weekday!==B.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of "+o.weekday+" and a date of "+B.toISO()):B},e.fromISO=function(e,t){void 0===t&&(t={});var n=function(e){return pt(e,[Nt,Vt],[zt,Gt],[Qt,Wt],[Ht,Kt])}(e);return tr(n[0],n[1],t,"ISO 8601",e)},e.fromRFC2822=function(e,t){void 0===t&&(t={});var n=function(e){return pt(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[It,Lt])}(e);return tr(n[0],n[1],t,"RFC 2822",e)},e.fromHTTP=function(e,t){void 0===t&&(t={});var n=function(e){return pt(e,[Rt,Ut],[Dt,Ut],[Zt,jt])}(e);return tr(n[0],n[1],t,"HTTP",t)},e.fromFormat=function(t,n,r){if(void 0===r&&(r={}),V(t)||V(n))throw new y("fromFormat requires an input string and a format");var i=r,o=i.locale,a=void 0===o?null:o,s=i.numberingSystem,u=void 0===s?null:s,l=function(e,t,n){var r=Fn(e,t,n);return[r.result,r.zone,r.invalidReason]}(At.fromOpts({locale:a,numberingSystem:u,defaultToEN:!0}),t,n),c=l[0],A=l[1],f=l[2];return f?e.invalid(f):tr(c,A,r,"format "+n,t)},e.fromString=function(t,n,r){return void 0===r&&(r={}),e.fromFormat(t,n,r)},e.fromSQL=function(e,t){void 0===t&&(t={});var n=function(e){return pt(e,[Xt,Jt],[Yt,$t])}(e);return tr(n[0],n[1],t,"SQL",e)},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new y("need to specify a reason the DateTime is invalid");var r=t instanceof Le?t:new Le(t,n);if(et.throwOnInvalid)throw new h(r);return new e({invalid:r})},e.isDateTime=function(e){return e&&e.isLuxonDateTime||!1};var t=e.prototype;return t.get=function(e){return this[e]},t.resolvedLocaleOpts=function(e){void 0===e&&(e={});var t=Ie.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}},t.toUTC=function(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),this.setZone(Ve.instance(e),t)},t.toLocal=function(){return this.setZone(et.defaultZone)},t.setZone=function(t,n){var r=void 0===n?{}:n,i=r.keepLocalTime,o=void 0!==i&&i,a=r.keepCalendarTime,s=void 0!==a&&a;if((t=We(t,et.defaultZone)).equals(this.zone))return this;if(t.isValid){var u=this.ts;if(o||s){var l=t.offset(this.ts);u=$n(this.toObject(),l,t)[0]}return Xn(this,{ts:u,zone:t})}return e.invalid(Kn(t))},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,r=t.numberingSystem,i=t.outputCalendar;return Xn(this,{loc:this.loc.clone({locale:n,numberingSystem:r,outputCalendar:i})})},t.setLocale=function(e){return this.reconfigure({locale:e})},t.set=function(e){if(!this.isValid)return this;var t,n=pe(e,cr,[]),r=!V(n.weekYear)||!V(n.weekNumber)||!V(n.weekday),i=!V(n.ordinal),o=!V(n.year),a=!V(n.month)||!V(n.day),s=o||a,u=n.weekYear||n.weekNumber;if((s||i)&&u)throw new g("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&i)throw new g("Can't mix ordinal dates with month/day");r?t=Nn(Object.assign(jn(this.c),n)):V(n.ordinal)?(t=Object.assign(this.toObject(),n),V(n.day)&&(t.day=Math.min(se(t.year,t.month),t.day))):t=Qn(Object.assign(zn(this.c),n));var l=$n(t,this.o,this.zone);return Xn(this,{ts:l[0],o:l[1]})},t.plus=function(e){return this.isValid?Xn(this,er(this,An(e))):this},t.minus=function(e){return this.isValid?Xn(this,er(this,An(e).negate())):this},t.startOf=function(e){if(!this.isValid)return this;var t={},n=cn.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===n&&(t.weekday=1),"quarters"===n){var r=Math.ceil(this.month/3);t.month=3*(r-1)+1}return this.set(t)},t.endOf=function(e){var t;return this.isValid?this.plus((t={},t[e]=1,t)).startOf(e).minus(1):this},t.toFormat=function(e,t){return void 0===t&&(t={}),this.isValid?Ie.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Gn},t.toLocaleString=function(e){return void 0===e&&(e=x),this.isValid?Ie.create(this.loc.clone(e),e).formatDateTime(this):Gn},t.toLocaleParts=function(e){return void 0===e&&(e={}),this.isValid?Ie.create(this.loc.clone(e),e).formatDateTimeParts(this):[]},t.toISO=function(e){return void 0===e&&(e={}),this.isValid?this.toISODate(e)+"T"+this.toISOTime(e):null},t.toISODate=function(e){var t=(void 0===e?{}:e).format,n="basic"===(void 0===t?"extended":t)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(n="+"+n),nr(this,n)},t.toISOWeekDate=function(){return nr(this,"kkkk-'W'WW-c")},t.toISOTime=function(e){var t=void 0===e?{}:e,n=t.suppressMilliseconds,r=void 0!==n&&n,i=t.suppressSeconds,o=void 0!==i&&i,a=t.includeOffset,s=void 0===a||a,u=t.includePrefix,l=void 0!==u&&u,c=t.format;return rr(this,{suppressSeconds:o,suppressMilliseconds:r,includeOffset:s,includePrefix:l,format:void 0===c?"extended":c})},t.toRFC2822=function(){return nr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},t.toHTTP=function(){return nr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},t.toSQLDate=function(){return nr(this,"yyyy-MM-dd")},t.toSQLTime=function(e){var t=void 0===e?{}:e,n=t.includeOffset,r=void 0===n||n,i=t.includeZone;return rr(this,{includeOffset:r,includeZone:void 0!==i&&i,spaceZone:!0})},t.toSQL=function(e){return void 0===e&&(e={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(e):null},t.toString=function(){return this.isValid?this.toISO():Gn},t.valueOf=function(){return this.toMillis()},t.toMillis=function(){return this.isValid?this.ts:NaN},t.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},t.toJSON=function(){return this.toISO()},t.toBSON=function(){return this.toJSDate()},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=Object.assign({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},t.diff=function(e,t,n){if(void 0===t&&(t="milliseconds"),void 0===n&&(n={}),!this.isValid||!e.isValid)return cn.invalid(this.invalid||e.invalid,"created by diffing an invalid DateTime");var r,i=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},n),o=(r=t,Array.isArray(r)?r:[r]).map(cn.normalizeUnit),a=e.valueOf()>this.valueOf(),s=vn(a?this:e,a?e:this,o,i);return a?s.negate():s},t.diffNow=function(t,n){return void 0===t&&(t="milliseconds"),void 0===n&&(n={}),this.diff(e.now(),t,n)},t.until=function(e){return this.isValid?pn.fromDateTimes(this,e):this},t.hasSame=function(e,t){if(!this.isValid)return!1;var n=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t)<=n&&n<=r.endOf(t)},t.equals=function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)},t.toRelative=function(t){if(void 0===t&&(t={}),!this.isValid)return null;var n=t.base||e.fromObject({zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0,i=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(i=t.unit,o=void 0),fr(n,this.plus(r),Object.assign(t,{numeric:"always",units:i,unit:o}))},t.toRelativeCalendar=function(t){return void 0===t&&(t={}),this.isValid?fr(t.base||e.fromObject({zone:this.zone}),this,Object.assign(t,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},e.min=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new y("min requires all arguments be DateTimes");return Y(n,(function(e){return e.valueOf()}),Math.min)},e.max=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new y("max requires all arguments be DateTimes");return Y(n,(function(e){return e.valueOf()}),Math.max)},e.fromFormatExplain=function(e,t,n){void 0===n&&(n={});var r=n,i=r.locale,o=void 0===i?null:i,a=r.numberingSystem,s=void 0===a?null:a;return Fn(At.fromOpts({locale:o,numberingSystem:s,defaultToEN:!0}),e,t)},e.fromStringExplain=function(t,n,r){return void 0===r&&(r={}),e.fromFormatExplain(t,n,r)},r(e,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?qn(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?qn(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?qn(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?zn(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?dn.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?dn.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?dn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?dn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return oe(this.year)}},{key:"daysInMonth",get:function(){return se(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?ae(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?le(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return x}},{key:"DATE_MED",get:function(){return C}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return B}},{key:"DATE_FULL",get:function(){return E}},{key:"DATE_HUGE",get:function(){return S}},{key:"TIME_SIMPLE",get:function(){return k}},{key:"TIME_WITH_SECONDS",get:function(){return O}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return T}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return P}},{key:"TIME_24_SIMPLE",get:function(){return M}},{key:"TIME_24_WITH_SECONDS",get:function(){return F}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return I}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return L}},{key:"DATETIME_SHORT",get:function(){return R}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return D}},{key:"DATETIME_MED",get:function(){return Z}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return U}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return j}},{key:"DATETIME_FULL",get:function(){return N}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return z}},{key:"DATETIME_HUGE",get:function(){return Q}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return H}}]),e}();function pr(e){if(hr.isDateTime(e))return e;if(e&&e.valueOf&&G(e.valueOf()))return hr.fromJSDate(e);if(e&&"object"===typeof e)return hr.fromObject(e);throw new y("Unknown datetime argument: "+e+", of type "+typeof e)}t.DateTime=hr,t.Duration=cn,t.FixedOffsetZone=Ve,t.IANAZone=Qe,t.Info=dn,t.Interval=pn,t.InvalidZone=Ge,t.LocalZone=Ze,t.Settings=et,t.VERSION="1.28.0",t.Zone=Re},7545:function(e){e.exports=function(){"use strict";var e,t,n;function r(r,i){if(e)if(t){var o="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),n=i(a),"undefined"!==typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else t=i;else e=i}return r(["exports"],(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r;function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){var n,r,i,o,a;for(void 0===t&&(t=1e-6),i=e,a=0;a<8;a++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var i=o;function o(e,t){this.x=e,this.y=t}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e};var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function u(e,t,r,i){var o=new n(e,t,r,i);return function(e){return o.solve(e)}}var l=u(.25,.1,.25,1);function c(e,t,n){return Math.min(n,Math.max(t,e))}function A(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function f(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var o=i[r];for(var a in o)e[a]=o[a]}return e}var h=1;function p(){return h++}function d(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function g(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function v(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function y(e,t){return-1!==e.indexOf(t,e.length-t.length)}function m(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function b(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function _(e){return Array.isArray(e)?e.map(_):"object"==typeof e&&e?m(e,_):e}var w={};function x(e){w[e]||("undefined"!=typeof console&&console.warn(e),w[e]=!0)}function C(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function B(e){for(var t=0,n=0,r=e.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)t+=((a=e[i]).x-(o=e[n]).x)*(o.y+a.y);return t}function E(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function S(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,r,i){var o=r||i;return t[n]=!o||o.toLowerCase(),""})),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}var k=null;function O(e){if(null==k){var t=e.navigator?e.navigator.userAgent:null;k=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return k}function T(e){try{var t=a[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var P,M,F,I,L=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),R=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,D=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,Z={now:L,frame:function(e){var t=R(e);return{cancel:function(){return D(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var n=a.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return P||(P=a.document.createElement("a")),P.href=e,P.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==M&&(M=a.matchMedia("(prefers-reduced-motion: reduce)")),M.matches)}},U={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},j={supported:!1,testSupport:function(e){!N&&I&&(z?Q(e):F=e)}},N=!1,z=!1;function Q(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,I),e.isContextLost())return;j.supported=!0}catch(e){}e.deleteTexture(t),N=!0}a.document&&((I=a.document.createElement("img")).onload=function(){F&&Q(F),F=null,z=!0},I.onerror=function(){N=!0,F=null},I.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var H="01",V=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function G(e){return 0===e.indexOf("mapbox:")}V.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",H,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},V.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},V.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},V.prototype.normalizeStyleURL=function(e,t){if(!G(e))return e;var n=X(e);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},V.prototype.normalizeGlyphsURL=function(e,t){if(!G(e))return e;var n=X(e);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},V.prototype.normalizeSourceURL=function(e,t){if(!G(e))return e;var n=X(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||t)},V.prototype.normalizeSpriteURL=function(e,t,n,r){var i=X(e);return G(e)?(i.path="/styles/v1"+i.path+"/sprite"+t+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+t+n,Y(i))},V.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!G(e))return e;var n=X(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(Z.devicePixelRatio>=2||512===t?"@2x":"")+(j.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var r=this._customAccessToken||function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||U.ACCESS_TOKEN;return U.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)},V.prototype.canonicalizeTileURL=function(e,t){var n=X(e);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return e;var r="mapbox://tiles/";r+=n.path.replace("/v4/","");var i=n.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(r+="?"+i.join("&")),r},V.prototype.canonicalizeTileset=function(e,t){for(var n=!!t&&G(t),r=[],i=0,o=e.tiles||[];i<o.length;i+=1){var a=o[i];K(a)?r.push(this.canonicalizeTileURL(a,n)):r.push(a)}return r},V.prototype._makeAPIURL=function(e,t){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=X(U.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"http"===e.protocol){var i=e.params.indexOf("secure");i>=0&&e.params.splice(i,1)}if("/"!==r.path&&(e.path=""+r.path+e.path),!U.REQUIRE_ACCESS_TOKEN)return Y(e);if(!(t=t||U.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token="+t),Y(e)};var W=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function K(e){return W.test(e)}var q=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function X(e){var t=e.match(q);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Y(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function J(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var $=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};$.prototype.getStorageKey=function(e){var t,n=J(U.ACCESS_TOKEN);return t=n&&n.u?a.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):U.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+t:"mapbox.eventData:"+t},$.prototype.fetchEventData=function(){var e=T("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{var r=a.localStorage.getItem(t);r&&(this.eventData=JSON.parse(r));var i=a.localStorage.getItem(n);i&&(this.anonId=i)}catch(e){x("Unable to read from LocalStorage")}},$.prototype.saveEventData=function(){var e=T("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{a.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){x("Unable to write to LocalStorage")}},$.prototype.processRequests=function(e){},$.prototype.postEvent=function(e,t,n,r){var i=this;if(U.EVENTS_URL){var o=X(U.EVENTS_URL);o.params.push("access_token="+(r||U.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:H,userId:this.anonId},s=t?f(a,t):a,u={url:Y(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=_e(u,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}},$.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var ee,te,ne=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(e,t,n,r){this.skuToken=n,(U.EVENTS_URL&&r||U.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return G(e)||K(e)})))&&this.queueRequest({id:t,timestamp:Date.now()},r)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=d()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e||r&&(t.success[r]=!0)}),e))}},t}($),re=new(function(e){function t(t){e.call(this,"appUserTurnstile"),this._customAccessToken=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(e,t){U.EVENTS_URL&&U.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return G(e)||K(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=J(U.ACCESS_TOKEN),r=n?n.u:U.ACCESS_TOKEN,i=r!==this.eventData.tokenU;g(this.anonId)||(this.anonId=d(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),u=(o-this.eventData.lastSuccess)/864e5;i=i||u>=1||u<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=o,t.eventData.tokenU=r)}),e)}},t}($)),ie=re.postTurnstileEvent.bind(re),oe=new ne,ae=oe.postMapLoadEvent.bind(oe),se=500,ue=50;function le(){a.caches&&!ee&&(ee=a.caches.open("mapbox-tiles"))}function ce(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var Ae,fe=1/0;function he(){return null==Ae&&(Ae=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),Ae}var pe={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(pe);var de,ge,ve=function(e){function t(t,n,r){401===n&&K(r)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=n,this.url=r,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),ye=E()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},me=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(ye())&&!/^\w+:/.test(n))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(e,t){var n,r=new a.AbortController,i=new a.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ye(),signal:r.signal}),o=!1,s=!1,u=(n=i.url).indexOf("sku=")>0&&K(n);"json"===e.type&&i.headers.set("Accept","application/json");var l=function(n,r,o){if(!s){if(n&&"SecurityError"!==n.message&&x(n),r&&o)return c(r);var l=Date.now();a.fetch(i).then((function(n){if(n.ok){var r=u?n.clone():null;return c(n,r,l)}return t(new ve(n.statusText,n.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},c=function(n,r,u){("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((function(e){s||(r&&u&&function(e,t,n){if(le(),ee){var r={status:t.status,statusText:t.statusText,headers:new a.Headers};t.headers.forEach((function(e,t){return r.headers.set(t,e)}));var i=S(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(e,t){if(void 0===te)try{new Response(new ReadableStream),te=!0}catch(e){te=!1}te?t(e.body):e.blob().then(t)}(t,(function(t){var n=new a.Response(t,r);le(),ee&&ee.then((function(t){return t.put(ce(e.url),n)})).catch((function(e){return x(e.message)}))})))}}(i,r,u),o=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(e){s||t(new Error(e.message))}))};return u?function(e,t){if(le(),!ee)return t(null);var n=ce(e.url);ee.then((function(e){e.match(n).then((function(r){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),n=S(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(r);e.delete(n),i&&e.put(n,r.clone()),t(null,r,i)})).catch(t)})).catch(t)}(i,l):l(null,null),{cancel:function(){s=!0,o||r.abort()}}}(e,t);if(E()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){var n=new a.XMLHttpRequest;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new ve(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},be=function(e,t){return me(f(e,{type:"arrayBuffer"}),t)},_e=function(e,t){return me(f(e,{method:"POST"}),t)},we="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";de=[],ge=0;var xe=function e(t,n){if(j.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),ge>=U.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:t,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return de.push(r),r}ge++;var i=!1,o=function(){if(!i)for(i=!0,ge--;de.length&&ge<U.MAX_PARALLEL_IMAGE_REQUESTS;){var t=de.shift();t.cancelled||(t.cancel=e(t.requestParameters,t.callback).cancel)}},s=be(t,(function(e,t,r,i){o(),e?n(e):t&&(he()?function(e,t){var n=new a.Blob([new Uint8Array(e)],{type:"image/png"});a.createImageBitmap(n).then((function(e){t(null,e)})).catch((function(e){t(new Error("Could not load image because of "+e.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(t,n):function(e,t,n,r){var i=new a.Image,o=a.URL;i.onload=function(){t(null,i),o.revokeObjectURL(i.src),i.onload=null,a.requestAnimationFrame((function(){i.src=we}))},i.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new a.Blob([new Uint8Array(e)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=e.byteLength?o.createObjectURL(s):we}(t,n,r,i))}));return{cancel:function(){s.cancel(),o()}}};function Ce(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function Be(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var Ee=function(e,t){void 0===t&&(t={}),f(this,t),this.type=e},Se=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,"error",f({error:t},n))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Ee),ke=function(){};ke.prototype.on=function(e,t){return this._listeners=this._listeners||{},Ce(e,t,this._listeners),this},ke.prototype.off=function(e,t){return Be(e,t,this._listeners),Be(e,t,this._oneTimeListeners),this},ke.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Ce(e,t,this._oneTimeListeners),this},ke.prototype.fire=function(e,t){"string"==typeof e&&(e=new Ee(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,e);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];Be(n,s,this._oneTimeListeners),s.call(this,e)}var u=this._eventedParent;u&&(f(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(e))}else e instanceof Se&&console.error(e.error);return this},ke.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},ke.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Oe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Te=function(e,t,n,r){this.message=(e?e+": ":"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)};function Pe(e){var t=e.value;return t?[new Te(e.key,t,"constants have been deprecated as of v8")]:[]}function Me(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var o=i[r];for(var a in o)e[a]=o[a]}return e}function Fe(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Ie(e){if(Array.isArray(e))return e.map(Ie);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=Ie(e[n]);return t}return Fe(e)}var Le=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),Re=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};Re.prototype.concat=function(e){return new Re(this,e)},Re.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},Re.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var De={kind:"null"},Ze={kind:"number"},Ue={kind:"string"},je={kind:"boolean"},Ne={kind:"color"},ze={kind:"object"},Qe={kind:"value"},He={kind:"collator"},Ve={kind:"formatted"},Ge={kind:"resolvedImage"};function We(e,t){return{kind:"array",itemType:e,N:t}}function Ke(e){if("array"===e.kind){var t=Ke(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var qe=[De,Ze,Ue,je,Ne,Ve,ze,We(Qe),Ge];function Xe(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Xe(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var n=0,r=qe;n<r.length;n+=1)if(!Xe(r[n],t))return null}return"Expected "+Ke(e)+" but found "+Ke(t)+" instead."}function Ye(e,t){return t.some((function(t){return t.kind===e.kind}))}function Je(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var $e=t((function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function o(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function a(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=s.indexOf("("),l=s.indexOf(")");if(-1!==u&&l+1===s.length){var c=s.substr(0,u),A=s.substr(u+1,l-(u+1)).split(","),f=1;switch(c){case"rgba":if(4!==A.length)return null;f=o(A.pop());case"rgb":return 3!==A.length?null:[i(A[0]),i(A[1]),i(A[2]),f];case"hsla":if(4!==A.length)return null;f=o(A.pop());case"hsl":if(3!==A.length)return null;var h=(parseFloat(A[0])%360+360)%360/360,p=o(A[1]),d=o(A[2]),g=d<=.5?d*(p+1):d+p-d*p,v=2*d-g;return[r(255*a(v,g,h+1/3)),r(255*a(v,g,h)),r(255*a(v,g,h-1/3)),f];default:return null}}return null}}catch(e){}})).parseCSSColor,et=function(e,t,n,r){void 0===r&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r};et.parse=function(e){if(e){if(e instanceof et)return e;if("string"==typeof e){var t=$e(e);if(t)return new et(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},et.prototype.toString=function(){var e=this.toArray(),t=e[1],n=e[2],r=e[3];return"rgba("+Math.round(e[0])+","+Math.round(t)+","+Math.round(n)+","+r+")"},et.prototype.toArray=function(){var e=this.a;return 0===e?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},et.black=new et(0,0,0,1),et.white=new et(1,1,1,1),et.transparent=new et(0,0,0,0),et.red=new et(1,0,0,1);var tt=function(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};tt.prototype.compare=function(e,t){return this.collator.compare(e,t)},tt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var nt=function(e,t,n,r,i){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i},rt=function(e){this.sections=e};rt.fromString=function(e){return new rt([new nt(e,null,null,null,null)])},rt.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},rt.factory=function(e){return e instanceof rt?e:rt.fromString(e)},rt.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},rt.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];if(r.image)e.push(["image",r.image.name]);else{e.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),e.push(i)}}return e};var it=function(e){this.name=e.name,this.available=e.available};function ot(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[e,t,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function at(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof et)return!0;if(e instanceof tt)return!0;if(e instanceof rt)return!0;if(e instanceof it)return!0;if(Array.isArray(e)){for(var t=0,n=e;t<n.length;t+=1)if(!at(n[t]))return!1;return!0}if("object"==typeof e){for(var r in e)if(!at(e[r]))return!1;return!0}return!1}function st(e){if(null===e)return De;if("string"==typeof e)return Ue;if("boolean"==typeof e)return je;if("number"==typeof e)return Ze;if(e instanceof et)return Ne;if(e instanceof tt)return He;if(e instanceof rt)return Ve;if(e instanceof it)return Ge;if(Array.isArray(e)){for(var t,n=e.length,r=0,i=e;r<i.length;r+=1){var o=st(i[r]);if(t){if(t===o)continue;t=Qe;break}t=o}return We(t||Qe,n)}return ze}function ut(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof et||e instanceof rt||e instanceof it?e.toString():JSON.stringify(e)}it.prototype.toString=function(){return this.name},it.fromString=function(e){return e?new it({name:e,available:!1}):null},it.prototype.serialize=function(){return["image",this.name]};var lt=function(e,t){this.type=e,this.value=t};lt.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!at(e[1]))return t.error("invalid value");var n=e[1],r=st(n),i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new lt(r,n)},lt.prototype.evaluate=function(){return this.value},lt.prototype.eachChild=function(){},lt.prototype.outputDefined=function(){return!0},lt.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof et?["rgba"].concat(this.value.toArray()):this.value instanceof rt?this.value.serialize():this.value};var ct=function(e){this.name="ExpressionEvaluationError",this.message=e};ct.prototype.toJSON=function(){return this.message};var At={string:Ue,number:Ze,boolean:je,object:ze},ft=function(e,t){this.type=e,this.args=t};ft.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n,r=1,i=e[0];if("array"===i){var o,a;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in At)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=At[s],r++}else o=Qe;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],r++}n=We(o,a)}else n=At[i];for(var u=[];r<e.length;r++){var l=t.parse(e[r],r,Qe);if(!l)return null;u.push(l)}return new ft(n,u)},ft.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!Xe(this.type,st(n)))return n;if(t===this.args.length-1)throw new ct("Expected value to be of type "+Ke(this.type)+", but found "+Ke(st(n))+" instead.")}return null},ft.prototype.eachChild=function(e){this.args.forEach(e)},ft.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},ft.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var ht=function(e){this.type=Ve,this.sections=e};ht.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");for(var r=[],i=!1,o=1;o<=e.length-1;++o){var a=e[o];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;var s=null;if(a["font-scale"]&&!(s=t.parse(a["font-scale"],1,Ze)))return null;var u=null;if(a["text-font"]&&!(u=t.parse(a["text-font"],1,We(Ue))))return null;var l=null;if(a["text-color"]&&!(l=t.parse(a["text-color"],1,Ne)))return null;var c=r[r.length-1];c.scale=s,c.font=u,c.textColor=l}else{var A=t.parse(e[o],1,Qe);if(!A)return null;var f=A.type.kind;if("string"!==f&&"value"!==f&&"null"!==f&&"resolvedImage"!==f)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:A,scale:null,font:null,textColor:null})}}return new ht(r)},ht.prototype.evaluate=function(e){return new rt(this.sections.map((function(t){var n=t.content.evaluate(e);return st(n)===Ge?new nt("",n,null,null,null):new nt(ut(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},ht.prototype.eachChild=function(e){for(var t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}},ht.prototype.outputDefined=function(){return!1},ht.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),e.push(i)}return e};var pt=function(e){this.type=Ge,this.input=e};pt.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Ue);return n?new pt(n):t.error("No image name provided.")},pt.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=it.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n},pt.prototype.eachChild=function(e){e(this.input)},pt.prototype.outputDefined=function(){return!1},pt.prototype.serialize=function(){return["image",this.input.serialize()]};var dt={"to-boolean":je,"to-color":Ne,"to-number":Ze,"to-string":Ue},gt=function(e,t){this.type=e,this.args=t};gt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");for(var r=dt[n],i=[],o=1;o<e.length;o++){var a=t.parse(e[o],o,Qe);if(!a)return null;i.push(a)}return new gt(r,i)},gt.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(t=i[r].evaluate(e))instanceof et)return t;if("string"==typeof t){var o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":ot(t[0],t[1],t[2],t[3])))return new et(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ct(n||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,u=this.args;s<u.length;s+=1){if(null===(a=u[s].evaluate(e)))return 0;var l=Number(a);if(!isNaN(l))return l}throw new ct("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?rt.fromString(ut(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?it.fromString(ut(this.args[0].evaluate(e))):ut(this.args[0].evaluate(e))},gt.prototype.eachChild=function(e){this.args.forEach(e)},gt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},gt.prototype.serialize=function(){if("formatted"===this.type.kind)return new ht([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new pt(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var vt=["Unknown","Point","LineString","Polygon"],yt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};yt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},yt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?vt[this.feature.type]:this.feature.type:null},yt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},yt.prototype.canonicalID=function(){return this.canonical},yt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},yt.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=et.parse(e)),t};var mt=function(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r};mt.prototype.evaluate=function(e){return this._evaluate(e,this.args)},mt.prototype.eachChild=function(e){this.args.forEach(e)},mt.prototype.outputDefined=function(){return!1},mt.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},mt.parse=function(e,t){var n,r=e[0],i=mt.definitions[r];if(!i)return t.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1})),u=null,l=0,c=s;l<c.length;l+=1){var A=c[l],f=A[0],h=A[1];u=new Nt(t.registry,t.path,null,t.scope);for(var p=[],d=!1,g=1;g<e.length;g++){var v=e[g],y=Array.isArray(f)?f[g-1]:f.type,m=u.parse(v,1+p.length,y);if(!m){d=!0;break}p.push(m)}if(!d)if(Array.isArray(f)&&f.length!==p.length)u.error("Expected "+f.length+" arguments, but found "+p.length+" instead.");else{for(var b=0;b<p.length;b++){var _=Array.isArray(f)?f[b]:f.type,w=p[b];u.concat(b+1).checkSubtype(_,w.type)}if(0===u.errors.length)return new mt(r,o,h,p)}}if(1===s.length)(n=t.errors).push.apply(n,u.errors);else{for(var x=(s.length?s:a).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Ke).join(", ")+")":"("+Ke(t.type)+"...)"})).join(" | "),C=[],B=1;B<e.length;B++){var E=t.parse(e[B],1+C.length);if(!E)return null;C.push(Ke(E.type))}t.error("Expected arguments of type "+x+", but found ("+C.join(", ")+") instead.")}return null},mt.register=function(e,t){for(var n in mt.definitions=t,t)e[n]=mt};var bt=function(e,t,n){this.type=He,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t};function _t(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function wt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function xt(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function Ct(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function Bt(e,t){for(var n,r,i,o,a,s,u,l=!1,c=0,A=t.length;c<A;c++)for(var f=t[c],h=0,p=f.length;h<p-1;h++){if((o=(n=e)[0]-(r=f[h])[0])*(u=n[1]-(i=f[h+1])[1])-(s=n[0]-i[0])*(a=n[1]-r[1])==0&&o*s<=0&&a*u<=0)return!1;Ct(e,f[h],f[h+1])&&(l=!l)}return l}function Et(e,t){for(var n=0;n<t.length;n++)if(Bt(e,t[n]))return!0;return!1}function St(e,t,n,r){var i=r[0]-n[0],o=r[1]-n[1],a=(e[0]-n[0])*o-i*(e[1]-n[1]),s=(t[0]-n[0])*o-i*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function kt(e,t,n){for(var r=0,i=n;r<i.length;r+=1)for(var o=i[r],a=0;a<o.length-1;++a)if(0!=(A=[(c=o[a+1])[0]-(l=o[a])[0],c[1]-l[1]])[0]*(f=[(u=t)[0]-(s=e)[0],u[1]-s[1]])[1]-A[1]*f[0]&&St(s,u,l,c)&&St(l,c,s,u))return!0;var s,u,l,c,A,f;return!1}function Ot(e,t){for(var n=0;n<e.length;++n)if(!Bt(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(kt(e[r],e[r+1],t))return!1;return!0}function Tt(e,t){for(var n=0;n<t.length;n++)if(Ot(e,t[n]))return!0;return!1}function Pt(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var o=[],a=0;a<e[i].length;a++){var s=xt(e[i][a],n);_t(t,s),o.push(s)}r.push(o)}return r}function Mt(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=Pt(e[i],t,n);r.push(o)}return r}function Ft(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=.5*r,o=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;0===o&&(o=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=o}_t(t,e)}function It(e,t,n,r){for(var i=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],a=[],s=0,u=e;s<u.length;s+=1)for(var l=0,c=u[s];l<c.length;l+=1){var A=c[l],f=[A.x+o[0],A.y+o[1]];Ft(f,t,n,i),a.push(f)}return a}function Lt(e,t,n,r){for(var i,o=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],s=[],u=0,l=e;u<l.length;u+=1){for(var c=[],A=0,f=l[u];A<f.length;A+=1){var h=f[A],p=[h.x+a[0],h.y+a[1]];_t(t,p),c.push(p)}s.push(c)}if(t[2]-t[0]<=o/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var d=0,g=s;d<g.length;d+=1)for(var v=0,y=g[d];v<y.length;v+=1)Ft(y[v],t,n,o)}return s}bt.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");var r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,je);if(!r)return null;var i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,je);if(!i)return null;var o=null;return n.locale&&!(o=t.parse(n.locale,1,Ue))?null:new bt(r,i,o)},bt.prototype.evaluate=function(e){return new tt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},bt.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},bt.prototype.outputDefined=function(){return!1},bt.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var Rt=function(e,t){this.type=je,this.geojson=e,this.geometries=t};function Dt(e){if(e instanceof mt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Rt)return!1;var t=!0;return e.eachChild((function(e){t&&!Dt(e)&&(t=!1)})),t}function Zt(e){if(e instanceof mt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Zt(e)&&(t=!1)})),t}function Ut(e,t){if(e instanceof mt&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!Ut(e,t)&&(n=!1)})),n}Rt.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(at(e[1])){var n=e[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Rt(n,n.features[r].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Rt(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Rt(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Rt.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=Pt(t.coordinates,r,i),a=It(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Bt(u[s],o))return!1}if("MultiPolygon"===t.type){var l=Mt(t.coordinates,r,i),c=It(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var A=0,f=c;A<f.length;A+=1)if(!Et(f[A],l))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=Pt(t.coordinates,r,i),a=Lt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Ot(u[s],o))return!1}if("MultiPolygon"===t.type){var l=Mt(t.coordinates,r,i),c=Lt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var A=0,f=c;A<f.length;A+=1)if(!Tt(f[A],l))return!1}return!0}(e,this.geometries)}return!1},Rt.prototype.eachChild=function(){},Rt.prototype.outputDefined=function(){return!0},Rt.prototype.serialize=function(){return["within",this.geojson]};var jt=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};jt.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var n=e[1];return t.scope.has(n)?new jt(n,t.scope.get(n)):t.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},jt.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},jt.prototype.eachChild=function(){},jt.prototype.outputDefined=function(){return!1},jt.prototype.serialize=function(){return["var",this.name]};var Nt=function(e,t,n,r,i){void 0===t&&(t=[]),void 0===r&&(r=new Re),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function zt(e,t){for(var n,r=e.length-1,i=0,o=r,a=0;i<=o;)if((n=e[a=Math.floor((i+o)/2)])<=t){if(a===r||t<e[a+1])return a;i=a+1}else{if(!(n>t))throw new ct("Input is not a number.");o=a-1}return 0}Nt.prototype.parse=function(e,t,n,r,i){return void 0===i&&(i={}),t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)},Nt.prototype._parse=function(e,t){function n(e,t,n){return"assert"===n?new ft(t,[e]):"coerce"===n?new gt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(e,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,t.typeAnnotation||"coerce");else o=n(o,a,t.typeAnnotation||"assert")}if(!(o instanceof lt)&&"resolvedImage"!==o.type.kind&&function e(t){if(t instanceof jt)return e(t.boundExpression);if(t instanceof mt&&"error"===t.name)return!1;if(t instanceof bt)return!1;if(t instanceof Rt)return!1;var n=t instanceof gt||t instanceof ft,r=!0;return t.eachChild((function(t){r=n?r&&e(t):r&&t instanceof lt})),!!r&&Dt(t)&&Ut(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var u=new yt;try{o=new lt(o.type,o.evaluate(u))}catch(e){return this.error(e.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},Nt.prototype.concat=function(e,t,n){var r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new Nt(this.registry,r,t||null,i,this.errors)},Nt.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new Le(r,e))},Nt.prototype.checkSubtype=function(e,t){var n=Xe(e,t);return n&&this.error(n),n};var Qt=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function Ht(e,t,n){return e*(1-n)+t*n}Qt.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var n=t.parse(e[1],1,Ze);if(!n)return null;var r=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var o=1;o<e.length;o+=2){var a=1===o?-1/0:e[o],s=e[o+1],u=o,l=o+1;if("number"!=typeof a)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(r.length&&r[r.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var c=t.parse(s,l,i);if(!c)return null;i=i||c.type,r.push([a,c])}return new Qt(i,n,r)},Qt.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[zt(t,r)].evaluate(e)},Qt.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},Qt.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},Qt.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var Vt=Object.freeze({__proto__:null,number:Ht,color:function(e,t,n){return new et(Ht(e.r,t.r,n),Ht(e.g,t.g,n),Ht(e.b,t.b,n),Ht(e.a,t.a,n))},array:function(e,t,n){return e.map((function(e,r){return Ht(e,t[r],n)}))}}),Gt=6/29*3*(6/29),Wt=Math.PI/180,Kt=180/Math.PI;function qt(e){return e>.008856451679035631?Math.pow(e,1/3):e/Gt+4/29}function Xt(e){return e>6/29?e*e*e:Gt*(e-4/29)}function Yt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Jt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function $t(e){var t=Jt(e.r),n=Jt(e.g),r=Jt(e.b),i=qt((.4124564*t+.3575761*n+.1804375*r)/.95047),o=qt((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-qt((.0193339*t+.119192*n+.9503041*r)/1.08883)),alpha:e.a}}function en(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Xt(t),n=.95047*Xt(n),r=1.08883*Xt(r),new et(Yt(3.2404542*n-1.5371385*t-.4985314*r),Yt(-.969266*n+1.8760108*t+.041556*r),Yt(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function tn(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var nn={forward:$t,reverse:en,interpolate:function(e,t,n){return{l:Ht(e.l,t.l,n),a:Ht(e.a,t.a,n),b:Ht(e.b,t.b,n),alpha:Ht(e.alpha,t.alpha,n)}}},rn={forward:function(e){var t=$t(e),n=t.l,r=t.a,i=t.b,o=Math.atan2(i,r)*Kt;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*Wt,n=e.c;return en({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:tn(e.h,t.h,n),c:Ht(e.c,t.c,n),l:Ht(e.l,t.l,n),alpha:Ht(e.alpha,t.alpha,n)}}},on=Object.freeze({__proto__:null,lab:nn,hcl:rn}),an=function(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],u=s[1];this.labels.push(s[0]),this.outputs.push(u)}};function sn(e,t,n,r){var i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}an.interpolationFactor=function(e,t,r,i){var o=0;if("exponential"===e.name)o=sn(t,e.base,r,i);else if("linear"===e.name)o=sn(t,1,r,i);else if("cubic-bezier"===e.name){var a=e.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(sn(t,1,r,i))}return o},an.parse=function(e,t){var n=e[0],r=e[1],i=e[2],o=e.slice(3);if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return t.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,Ze)))return null;var u=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=Ne:t.expectedType&&"value"!==t.expectedType.kind&&(l=t.expectedType);for(var c=0;c<o.length;c+=2){var A=o[c],f=o[c+1],h=c+3,p=c+4;if("number"!=typeof A)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(u.length&&u[u.length-1][0]>=A)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);var d=t.parse(f,p,l);if(!d)return null;l=l||d.type,u.push([A,d])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new an(l,n,r,i,u):t.error("Type "+Ke(l)+" is not interpolatable.")},an.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);var o=zt(t,r),a=an.interpolationFactor(this.interpolation,r,t[o],t[o+1]),s=n[o].evaluate(e),u=n[o+1].evaluate(e);return"interpolate"===this.operator?Vt[this.type.kind.toLowerCase()](s,u,a):"interpolate-hcl"===this.operator?rn.reverse(rn.interpolate(rn.forward(s),rn.forward(u),a)):nn.reverse(nn.interpolate(nn.forward(s),nn.forward(u),a))},an.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},an.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},an.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t};var un=function(e,t){this.type=e,this.args=t};un.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var n=null,r=t.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=e.slice(1);o<a.length;o+=1){var s=t.parse(a[o],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var u=r&&i.some((function(e){return Xe(r,e.type)}));return new un(u?Qe:n,i)},un.prototype.evaluate=function(e){for(var t,n=null,r=0,i=0,o=this.args;i<o.length&&(r++,(n=o[i].evaluate(e))&&n instanceof it&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null===n);i+=1);return n},un.prototype.eachChild=function(e){this.args.forEach(e)},un.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},un.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var ln=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};ln.prototype.evaluate=function(e){return this.result.evaluate(e)},ln.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1)e(n[t][1]);e(this.result)},ln.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var n=[],r=1;r<e.length-1;r+=2){var i=e[r];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}var a=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return a?new ln(n,a):null},ln.prototype.outputDefined=function(){return this.result.outputDefined()},ln.prototype.serialize=function(){for(var e=["let"],t=0,n=this.bindings;t<n.length;t+=1){var r=n[t];e.push(r[0],r[1].serialize())}return e.push(this.result.serialize()),e};var cn=function(e,t,n){this.type=e,this.index=t,this.input=n};cn.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Ze),r=t.parse(e[2],2,We(t.expectedType||Qe));return n&&r?new cn(r.type.itemType,n,r):null},cn.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new ct("Array index out of bounds: "+t+" < 0.");if(t>=n.length)throw new ct("Array index out of bounds: "+t+" > "+(n.length-1)+".");if(t!==Math.floor(t))throw new ct("Array index must be an integer, but found "+t+" instead.");return n[t]},cn.prototype.eachChild=function(e){e(this.index),e(this.input)},cn.prototype.outputDefined=function(){return!1},cn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var An=function(e,t){this.type=je,this.needle=e,this.haystack=t};An.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Qe),r=t.parse(e[2],2,Qe);return n&&r?Ye(n.type,[je,Ue,Ze,De,Qe])?new An(n,r):t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ke(n.type)+" instead"):null},An.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Je(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found "+Ke(st(t))+" instead.");if(!Je(n,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found "+Ke(st(n))+" instead.");return n.indexOf(t)>=0},An.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},An.prototype.outputDefined=function(){return!0},An.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var fn=function(e,t,n){this.type=Ze,this.needle=e,this.haystack=t,this.fromIndex=n};fn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Qe),r=t.parse(e[2],2,Qe);if(!n||!r)return null;if(!Ye(n.type,[je,Ue,Ze,De,Qe]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ke(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Ze);return i?new fn(n,r,i):null}return new fn(n,r)},fn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Je(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found "+Ke(st(t))+" instead.");if(!Je(n,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found "+Ke(st(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)},fn.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},fn.prototype.outputDefined=function(){return!1},fn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var hn=function(e,t,n,r,i,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};hn.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var i={},o=[],a=2;a<e.length-1;a+=2){var s=e[a],u=e[a+1];Array.isArray(s)||(s=[s]);var l=t.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var c=0,A=s;c<A.length;c+=1){var f=A[c];if("number"!=typeof f&&"string"!=typeof f)return l.error("Branch labels must be numbers or strings.");if("number"==typeof f&&Math.abs(f)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof f&&Math.floor(f)!==f)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,st(f)))return null}else n=st(f);if(void 0!==i[String(f)])return l.error("Branch labels must be unique.");i[String(f)]=o.length}var h=t.parse(u,a,r);if(!h)return null;r=r||h.type,o.push(h)}var p=t.parse(e[1],1,Qe);if(!p)return null;var d=t.parse(e[e.length-1],e.length-1,r);return d?"value"!==p.type.kind&&t.concat(1).checkSubtype(n,p.type)?null:new hn(n,r,p,i,o,d):null},hn.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(st(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},hn.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},hn.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},hn.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(A=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[A][1].push(a)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,l=n;u<l.length;u+=1){var c=l[u],A=c[0],f=c[1];t.push(1===f.length?s(f[0]):f.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var pn=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};pn.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var r=[],i=1;i<e.length-1;i+=2){var o=t.parse(e[i],i,je);if(!o)return null;var a=t.parse(e[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=t.parse(e[e.length-1],e.length-1,n);return s?new pn(n,r,s):null},pn.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];if(r[0].evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},pn.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];e(r[0]),e(i)}e(this.otherwise)},pn.prototype.outputDefined=function(){return this.branches.every((function(e){return e[1].outputDefined()}))&&this.otherwise.outputDefined()},pn.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var dn=function(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r};function gn(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function vn(e,t,n,r){return 0===r.compare(t,n)}function yn(e,t,n){var r="=="!==e&&"!="!==e;return function(){function i(e,t,n){this.type=je,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],o=t.parse(e[1],1,Qe);if(!o)return null;if(!gn(n,o.type))return t.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Ke(o.type)+"'.");var a=t.parse(e[2],2,Qe);if(!a)return null;if(!gn(n,a.type))return t.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Ke(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '"+Ke(o.type)+"' and '"+Ke(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new ft(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new ft(o.type,[a])));var s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,He)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=st(o),u=st(a);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new ct('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var l=st(o),c=st(a);if("string"!==l.kind||"string"!==c.kind)return t(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):t(i,o,a)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}dn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Qe),r=t.parse(e[2],2,Ze);if(!n||!r)return null;if(!Ye(n.type,[We(Qe),Ue,Qe]))return t.error("Expected first argument to be of type array or string, but found "+Ke(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Ze);return i?new dn(n.type,n,r,i):null}return new dn(n.type,n,r)},dn.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Je(t,["string","array"]))throw new ct("Expected first argument to be of type array or string, but found "+Ke(st(t))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)},dn.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},dn.prototype.outputDefined=function(){return!1},dn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var mn=yn("==",(function(e,t,n){return t===n}),vn),bn=yn("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!vn(0,t,n,r)})),_n=yn("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),wn=yn(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),xn=yn("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),Cn=yn(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0})),Bn=function(e,t,n,r,i){this.type=Ue,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};Bn.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Ze);if(!n)return null;var r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=t.parse(r.locale,1,Ue)))return null;var o=null;if(r.currency&&!(o=t.parse(r.currency,1,Ue)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=t.parse(r["min-fraction-digits"],1,Ze)))return null;var s=null;return r["max-fraction-digits"]&&!(s=t.parse(r["max-fraction-digits"],1,Ze))?null:new Bn(n,i,o,a,s)},Bn.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Bn.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Bn.prototype.outputDefined=function(){return!1},Bn.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var En=function(e){this.type=Ze,this.input=e};En.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found "+Ke(n.type)+" instead."):new En(n):null},En.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ct("Expected value to be of type string or array, but found "+Ke(st(t))+" instead.")},En.prototype.eachChild=function(e){e(this.input)},En.prototype.outputDefined=function(){return!1},En.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Sn={"==":mn,"!=":bn,">":wn,"<":_n,">=":Cn,"<=":xn,array:ft,at:cn,boolean:ft,case:pn,coalesce:un,collator:bt,format:ht,image:pt,in:An,"index-of":fn,interpolate:an,"interpolate-hcl":an,"interpolate-lab":an,length:En,let:ln,literal:lt,match:hn,number:ft,"number-format":Bn,object:ft,slice:dn,step:Qt,string:ft,"to-boolean":gt,"to-color":gt,"to-number":gt,"to-string":gt,var:jt,within:Rt};function kn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3];n=n.evaluate(e),r=r.evaluate(e),i=i.evaluate(e);var a=o?o.evaluate(e):1,s=ot(n,r,i,a);if(s)throw new ct(s);return new et(n/255*a,r/255*a,i/255*a,a)}function On(e,t){return e in t}function Tn(e,t){var n=t[e];return void 0===n?null:n}function Pn(e){return{type:e}}function Mn(e){return{result:"success",value:e}}function Fn(e){return{result:"error",value:e}}function In(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Ln(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Rn(e){return!!e.expression&&e.expression.interpolated}function Dn(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Zn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Un(e){return e}function jn(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Nn(e,t,n,r,i){return jn(typeof n===i?r[n]:void 0,e.default,t.default)}function zn(e,t,n){if("number"!==Dn(n))return jn(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=zt(e.stops.map((function(e){return e[0]})),n);return e.stops[i][1]}function Qn(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==Dn(n))return jn(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var o=zt(e.stops.map((function(e){return e[0]})),n),a=function(e,t,n,r){var i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],u=e.stops[o+1][1],l=Vt[t.type]||Un;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=on[e.colorSpace];l=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s.evaluate.apply(void 0,e),r=u.evaluate.apply(void 0,e);if(void 0!==n&&void 0!==r)return l(n,r,a)}}:l(s,u,a)}function Hn(e,t,n){return"color"===t.type?n=et.parse(n):"formatted"===t.type?n=rt.fromString(n.toString()):"resolvedImage"===t.type?n=it.fromString(n.toString()):Dn(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),jn(n,e.default,t.default)}mt.register(Sn,{error:[{kind:"error"},[Ue],function(e,t){throw new ct(t[0].evaluate(e))}],typeof:[Ue,[Qe],function(e,t){return Ke(st(t[0].evaluate(e)))}],"to-rgba":[We(Ze,4),[Ne],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Ne,[Ze,Ze,Ze],kn],rgba:[Ne,[Ze,Ze,Ze,Ze],kn],has:{type:je,overloads:[[[Ue],function(e,t){return On(t[0].evaluate(e),e.properties())}],[[Ue,ze],function(e,t){var n=t[1];return On(t[0].evaluate(e),n.evaluate(e))}]]},get:{type:Qe,overloads:[[[Ue],function(e,t){return Tn(t[0].evaluate(e),e.properties())}],[[Ue,ze],function(e,t){var n=t[1];return Tn(t[0].evaluate(e),n.evaluate(e))}]]},"feature-state":[Qe,[Ue],function(e,t){return Tn(t[0].evaluate(e),e.featureState||{})}],properties:[ze,[],function(e){return e.properties()}],"geometry-type":[Ue,[],function(e){return e.geometryType()}],id:[Qe,[],function(e){return e.id()}],zoom:[Ze,[],function(e){return e.globals.zoom}],"heatmap-density":[Ze,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Ze,[],function(e){return e.globals.lineProgress||0}],accumulated:[Qe,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[Ze,Pn(Ze),function(e,t){for(var n=0,r=0,i=t;r<i.length;r+=1)n+=i[r].evaluate(e);return n}],"*":[Ze,Pn(Ze),function(e,t){for(var n=1,r=0,i=t;r<i.length;r+=1)n*=i[r].evaluate(e);return n}],"-":{type:Ze,overloads:[[[Ze,Ze],function(e,t){var n=t[1];return t[0].evaluate(e)-n.evaluate(e)}],[[Ze],function(e,t){return-t[0].evaluate(e)}]]},"/":[Ze,[Ze,Ze],function(e,t){var n=t[1];return t[0].evaluate(e)/n.evaluate(e)}],"%":[Ze,[Ze,Ze],function(e,t){var n=t[1];return t[0].evaluate(e)%n.evaluate(e)}],ln2:[Ze,[],function(){return Math.LN2}],pi:[Ze,[],function(){return Math.PI}],e:[Ze,[],function(){return Math.E}],"^":[Ze,[Ze,Ze],function(e,t){var n=t[1];return Math.pow(t[0].evaluate(e),n.evaluate(e))}],sqrt:[Ze,[Ze],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[Ze,[Ze],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[Ze,[Ze],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[Ze,[Ze],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[Ze,[Ze],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[Ze,[Ze],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[Ze,[Ze],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[Ze,[Ze],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[Ze,[Ze],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[Ze,[Ze],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[Ze,Pn(Ze),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[Ze,Pn(Ze),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[Ze,[Ze],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[Ze,[Ze],function(e,t){var n=t[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[Ze,[Ze],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[Ze,[Ze],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[je,[Ue,Qe],function(e,t){var n=t[0],r=t[1];return e.properties()[n.value]===r.value}],"filter-id-==":[je,[Qe],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[je,[Ue],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[je,[Ue,Qe],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[je,[Qe],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[je,[Ue,Qe],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[je,[Qe],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[je,[Ue,Qe],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[je,[Qe],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[je,[Ue,Qe],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[je,[Qe],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[je,[Qe],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[je,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[je,[We(Ue)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[je,[We(Qe)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[je,[Ue,We(Qe)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[je,[Ue,We(Qe)],function(e,t){var n=t[0],r=t[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:je,overloads:[[[je,je],function(e,t){var n=t[1];return t[0].evaluate(e)&&n.evaluate(e)}],[Pn(je),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(!r[n].evaluate(e))return!1;return!0}]]},any:{type:je,overloads:[[[je,je],function(e,t){var n=t[1];return t[0].evaluate(e)||n.evaluate(e)}],[Pn(je),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(r[n].evaluate(e))return!0;return!1}]]},"!":[je,[je],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[je,[Ue],function(e,t){var n=e.globals&&e.globals.isSupportedScript;return!n||n(t[0].evaluate(e))}],upcase:[Ue,[Ue],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Ue,[Ue],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Ue,Pn(Qe),function(e,t){return t.map((function(t){return ut(t.evaluate(e))})).join("")}],"resolved-locale":[Ue,[He],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Vn=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new yt,this._defaultValue=t?function(e){return"color"===e.type&&Zn(e.default)?new et(0,0,0,0):"color"===e.type?et.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function Gn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Sn}function Wn(e,t){var n=new Nt(Sn,[],t?function(e){var t={color:Ne,string:Ue,number:Ze,enum:Ue,boolean:je,formatted:Ve,resolvedImage:Ge};return"array"===e.type?We(t[e.value]||Qe,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?Mn(new Vn(r,t)):Fn(n.errors)}Vn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},Vn.prototype.evaluate=function(e,t,n,r,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new ct("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var Kn=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Zt(t.expression)};Kn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)},Kn.prototype.evaluate=function(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)};var qn=function(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Zt(t.expression),this.interpolationType=r};function Xn(e,t){if("error"===(e=Wn(e,t)).result)return e;var n=e.value.expression,r=Dt(n);if(!r&&!In(t))return Fn([new Le("","data expressions not supported")]);var i=Ut(n,["zoom"]);if(!i&&!Ln(t))return Fn([new Le("","zoom expressions not supported")]);var o=function e(t){var n=null;if(t instanceof ln)n=e(t.result);else if(t instanceof un)for(var r=0,i=t.args;r<i.length&&!(n=e(i[r]));r+=1);else(t instanceof Qt||t instanceof an)&&t.input instanceof mt&&"zoom"===t.input.name&&(n=t);return n instanceof Le||t.eachChild((function(t){var r=e(t);r instanceof Le?n=r:!n&&r?n=new Le("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Le("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||i?o instanceof Le?Fn([o]):o instanceof an&&!Rn(t)?Fn([new Le("",'"interpolate" expressions cannot be used with this property')]):Mn(o?new qn(r?"camera":"composite",e.value,o.labels,o instanceof an?o.interpolation:void 0):new Kn(r?"constant":"source",e.value)):Fn([new Le("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}qn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)},qn.prototype.evaluate=function(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)},qn.prototype.interpolationFactor=function(e,t,n){return this.interpolationType?an.interpolationFactor(this.interpolationType,e,t,n):0};var Yn=function(e,t){this._parameters=e,this._specification=t,Me(this,function e(t,n){var r,i,o,a="color"===n.type,s=t.stops&&"object"==typeof t.stops[0][0],u=s||!(s||void 0!==t.property),l=t.type||(Rn(n)?"exponential":"interval");if(a&&((t=Me({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],et.parse(e[1])]}))),t.default=et.parse(t.default?t.default:n.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!on[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===l)r=Qn;else if("interval"===l)r=zn;else if("categorical"===l){r=Nn,i=Object.create(null);for(var c=0,A=t.stops;c<A.length;c+=1){var f=A[c];i[f[0]]=f[1]}o=typeof t.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'+l+'"');r=Hn}if(s){for(var h={},p=[],d=0;d<t.stops.length;d++){var g=t.stops[d],v=g[0].zoom;void 0===h[v]&&(h[v]={zoom:v,type:t.type,property:t.property,default:t.default,stops:[]},p.push(v)),h[v].stops.push([g[0].value,g[1]])}for(var y=[],m=0,b=p;m<b.length;m+=1){var _=b[m];y.push([h[_].zoom,e(h[_],n)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:an.interpolationFactor.bind(void 0,w),zoomStops:y.map((function(e){return e[0]})),evaluate:function(e,r){var i=e.zoom;return Qn({stops:y,base:t.base},n,i).evaluate(i,r)}}}if(u){var x="exponential"===l?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:x,interpolationFactor:an.interpolationFactor.bind(void 0,x),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){return r(t,n,e.zoom,i,o)}}}return{kind:"source",evaluate:function(e,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?jn(t.default,n.default):r(t,n,s,i,o)}}}(this._parameters,this._specification))};function Jn(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=[],u=Dn(n);if("object"!==u)return[new Te(t,n,"object expected, "+u+" found")];for(var l in n){var c=l.split(".")[0],A=r[c]||r["*"],f=void 0;if(i[c])f=i[c];else if(r[c])f=xr;else if(i["*"])f=i["*"];else{if(!r["*"]){s.push(new Te(t,n[l],'unknown property "'+l+'"'));continue}f=xr}s=s.concat(f({key:(t?t+".":t)+l,value:n[l],valueSpec:A,style:o,styleSpec:a,object:n,objectKey:l},n))}for(var h in r)i[h]||r[h].required&&void 0===r[h].default&&void 0===n[h]&&s.push(new Te(t,n,'missing required property "'+h+'"'));return s}function $n(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||xr;if("array"!==Dn(t))return[new Te(o,t,"array expected, "+Dn(t)+" found")];if(n.length&&t.length!==n.length)return[new Te(o,t,"array length "+n.length+" expected, length "+t.length+" found")];if(n["min-length"]&&t.length<n["min-length"])return[new Te(o,t,"array length at least "+n["min-length"]+" expected, length "+t.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===Dn(n.value)&&(s=n.value);for(var u=[],l=0;l<t.length;l++)u=u.concat(a({array:t,arrayIndex:l,value:t[l],valueSpec:s,style:r,styleSpec:i,key:o+"["+l+"]"}));return u}function er(e){var t=e.key,n=e.value,r=e.valueSpec,i=Dn(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new Te(t,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new Te(t,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Te(t,n,n+" is greater than the maximum value "+r.maximum)]:[]}function tr(e){var t,n,r,i=e.valueSpec,o=Fe(e.value.type),a={},s="categorical"!==o&&void 0===e.value.property,u=!s,l="array"===Dn(e.value.stops)&&"array"===Dn(e.value.stops[0])&&"object"===Dn(e.value.stops[0][0]),c=Jn({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===o)return[new Te(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat($n({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:A})),"array"===Dn(n)&&0===n.length&&t.push(new Te(e.key,n,"array must have at least one stop")),t},default:function(e){return xr({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===o&&s&&c.push(new Te(e.key,e.value,'missing required property "property"')),"identity"===o||e.value.stops||c.push(new Te(e.key,e.value,'missing required property "stops"')),"exponential"===o&&e.valueSpec.expression&&!Rn(e.valueSpec)&&c.push(new Te(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(u&&!In(e.valueSpec)?c.push(new Te(e.key,e.value,"property functions not supported")):s&&!Ln(e.valueSpec)&&c.push(new Te(e.key,e.value,"zoom functions not supported"))),"categorical"!==o&&!l||void 0!==e.value.property||c.push(new Te(e.key,e.value,'"property" property is required')),c;function A(e){var t=[],o=e.value,s=e.key;if("array"!==Dn(o))return[new Te(s,o,"array expected, "+Dn(o)+" found")];if(2!==o.length)return[new Te(s,o,"array length 2 expected, length "+o.length+" found")];if(l){if("object"!==Dn(o[0]))return[new Te(s,o,"object expected, "+Dn(o[0])+" found")];if(void 0===o[0].zoom)return[new Te(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Te(s,o,"object stop key must have value")];if(r&&r>Fe(o[0].zoom))return[new Te(s,o[0].zoom,"stop zoom values must appear in ascending order")];Fe(o[0].zoom)!==r&&(r=Fe(o[0].zoom),n=void 0,a={}),t=t.concat(Jn({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:er,value:f}}))}else t=t.concat(f({key:s+"[0]",value:o[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},o));return Gn(Ie(o[1]))?t.concat([new Te(s+"[1]",o[1],"expressions are not allowed in function stops.")]):t.concat(xr({key:s+"[1]",value:o[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function f(e,r){var s=Dn(e.value),u=Fe(e.value),l=null!==e.value?e.value:r;if(t){if(s!==t)return[new Te(e.key,l,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Te(e.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return In(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Te(e.key,l,c)]}return"categorical"!==o||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==o&&"number"===s&&void 0!==n&&u<n?[new Te(e.key,l,"stop domain values must appear in ascending order")]:(n=u,"categorical"===o&&u in a?[new Te(e.key,l,"stop domain values must be unique")]:(a[u]=!0,[])):[new Te(e.key,l,"integer expected, found "+u)]}}function nr(e){var t=("property"===e.expressionContext?Xn:Wn)(Ie(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new Te(""+e.key+t.key,e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new Te(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Zt(n))return[new Te(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Zt(n))return[new Te(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Ut(n,["zoom","feature-state"]))return[new Te(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Dt(n))return[new Te(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rr(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Fe(n))&&i.push(new Te(t,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Fe(n))&&i.push(new Te(t,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function ir(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,n=e.slice(1);t<n.length;t+=1){var r=n[t];if(!ir(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Yn.deserialize=function(e){return new Yn(e._parameters,e._specification)},Yn.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var or={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ar(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};ir(e)||(e=ur(e));var t=Wn(e,or);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return{filter:function(e,n,r){return t.value.evaluate(e,n,{},r)},needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(var n=1;n<t.length;n++)if(e(t[n]))return!0;return!1}(e)}}function sr(e,t){return e<t?-1:e>t?1:0}function ur(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?lr(e[1],e[2],"=="):"!="===n?fr(lr(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?lr(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(ur))):"all"===n?["all"].concat(e.slice(1).map(ur)):"none"===n?["all"].concat(e.slice(1).map(ur).map(fr)):"in"===n?cr(e[1],e.slice(2)):"!in"===n?fr(cr(e[1],e.slice(2))):"has"===n?Ar(e[1]):"!has"===n?fr(Ar(e[1])):"within"!==n||e}function lr(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function cr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(sr)]]:["filter-in-small",e,["literal",t]]}}function Ar(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function fr(e){return["!",e]}function hr(e){return ir(Ie(e.value))?nr(Me({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var n=t.value,r=t.key;if("array"!==Dn(n))return[new Te(r,n,"array expected, "+Dn(n)+" found")];var i,o=t.styleSpec,a=[];if(n.length<1)return[new Te(r,n,"filter array must have at least 1 element")];switch(a=a.concat(rr({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:t.style,styleSpec:t.styleSpec})),Fe(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Fe(n[1])&&a.push(new Te(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Te(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=Dn(n[1]))&&a.push(new Te(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=Dn(n[s]),"$type"===Fe(n[1])?a=a.concat(rr({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Te(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)a=a.concat(e({key:r+"["+u+"]",value:n[u],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=Dn(n[1]),2!==n.length?a.push(new Te(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new Te(r+"[1]",n[1],"string expected, "+i+" found"));break;case"within":i=Dn(n[1]),2!==n.length?a.push(new Te(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==i&&a.push(new Te(r+"[1]",n[1],"object expected, "+i+" found"))}return a}(e)}function pr(e,t){var n=e.key,r=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[t+"_"+e.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===t&&u&&s[u[1]]&&s[u[1]].transition)return xr({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var l,c=e.valueSpec||s[a];if(!c)return[new Te(n,o,'unknown property "'+a+'"')];if("string"===Dn(o)&&In(c)&&!c.tokens&&(l=/^{([^}]+)}$/.exec(o)))return[new Te(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var A=[];return"symbol"===e.layerType&&("text-field"===a&&r&&!r.glyphs&&A.push(new Te(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Zn(Ie(o))&&"identity"===Fe(o.type)&&A.push(new Te(n,o,'"text-font" does not support identity functions'))),A.concat(xr({key:e.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function dr(e){return pr(e,"paint")}function gr(e){return pr(e,"layout")}function vr(e){var t=[],n=e.value,r=e.key,i=e.style,o=e.styleSpec;n.type||n.ref||t.push(new Te(r,n,'either "type" or "ref" is required'));var a,s=Fe(n.type),u=Fe(n.ref);if(n.id)for(var l=Fe(n.id),c=0;c<e.arrayIndex;c++){var A=i.layers[c];Fe(A.id)===l&&t.push(new Te(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+A.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(e){e in n&&t.push(new Te(r,n[e],'"'+e+'" is prohibited for ref layers'))})),i.layers.forEach((function(e){Fe(e.id)===u&&(a=e)})),a?a.ref?t.push(new Te(r,n.ref,"ref cannot reference another ref layer")):s=Fe(a.type):t.push(new Te(r,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var f=i.sources&&i.sources[n.source],h=f&&Fe(f.type);f?"vector"===h&&"raster"===s?t.push(new Te(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===h&&"raster"!==s?t.push(new Te(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==h||n["source-layer"]?"raster-dem"===h&&"hillshade"!==s?t.push(new Te(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===h&&f.lineMetrics||t.push(new Te(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new Te(r,n,'layer "'+n.id+'" must specify a "source-layer"')):t.push(new Te(r,n.source,'source "'+n.source+'" not found'))}else t.push(new Te(r,n,'missing required property "source"'));return t=t.concat(Jn({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return xr({key:r+".type",value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:hr,layout:function(e){return Jn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return gr(Me({layerType:s},e))}}})},paint:function(e){return Jn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return dr(Me({layerType:s},e))}}})}}}))}function yr(e){var t=e.value,n=e.key,r=Dn(t);return"string"!==r?[new Te(n,t,"string expected, "+r+" found")]:[]}var mr={promoteId:function(e){var t=e.key,n=e.value;if("string"===Dn(n))return yr({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,yr({key:t+"."+i,value:n[i]}));return r}};function br(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new Te(n,t,'"type" is required')];var o,a=Fe(t.type);switch(a){case"vector":case"raster":case"raster-dem":return Jn({key:n,value:t,valueSpec:r["source_"+a.replace("-","_")],style:e.style,styleSpec:r,objectElementValidators:mr});case"geojson":if(o=Jn({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:mr}),t.cluster)for(var s in t.clusterProperties){var u=t.clusterProperties[s],l=u[0],c="string"==typeof l?[l,["accumulated"],["get",s]]:l;o.push.apply(o,nr({key:n+"."+s+".map",value:u[1],expressionContext:"cluster-map"})),o.push.apply(o,nr({key:n+"."+s+".reduce",value:c,expressionContext:"cluster-reduce"}))}return o;case"video":return Jn({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Jn({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Te(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rr({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function _r(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,o=[],a=Dn(t);if(void 0===t)return o;if("object"!==a)return o.concat([new Te("light",t,"object expected, "+a+" found")]);for(var s in t){var u=s.match(/^(.*)-transition$/);o=o.concat(u&&r[u[1]]&&r[u[1]].transition?xr({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?xr({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new Te(s,t[s],'unknown property "'+s+'"')])}return o}var wr={"*":function(){return[]},array:$n,boolean:function(e){var t=e.value,n=e.key,r=Dn(t);return"boolean"!==r?[new Te(n,t,"boolean expected, "+r+" found")]:[]},number:er,color:function(e){var t=e.key,n=e.value,r=Dn(n);return"string"!==r?[new Te(t,n,"color expected, "+r+" found")]:null===$e(n)?[new Te(t,n,'color expected, "'+n+'" found')]:[]},constants:Pe,enum:rr,filter:hr,function:tr,layer:vr,object:Jn,source:br,light:_r,string:yr,formatted:function(e){return 0===yr(e).length?[]:nr(e)},resolvedImage:function(e){return 0===yr(e).length?[]:nr(e)}};function xr(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&Zn(Fe(t))?tr(e):n.expression&&Gn(Ie(t))?nr(e):n.type&&wr[n.type]?wr[n.type](e):Jn(Me({},e,{valueSpec:n.type?r[n.type]:n}))}function Cr(e){var t=e.value,n=e.key,r=yr(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new Te(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new Te(n,t,'"glyphs" url must include a "{range}" token'))),r}function Br(e,t){void 0===t&&(t=Oe);var n=[];return n=n.concat(xr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Cr,"*":function(){return[]}}})),e.constants&&(n=n.concat(Pe({key:"constants",value:e.constants,style:e,styleSpec:t}))),Er(n)}function Er(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function Sr(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Er(e.apply(this,t))}}Br.source=Sr(br),Br.light=Sr(_r),Br.layer=Sr(vr),Br.filter=Sr(hr),Br.paintProperty=Sr(dr),Br.layoutProperty=Sr(gr);var kr=Br,Or=kr.light,Tr=kr.paintProperty,Pr=kr.layoutProperty;function Mr(e,t){var n=!1;if(t&&t.length)for(var r=0,i=t;r<i.length;r+=1)e.fire(new Se(new Error(i[r].message))),n=!0;return n}var Fr=Ir;function Ir(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var u=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],u),this.bboxes=i.subarray(u),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var l=0;l<this.d*this.d;l++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var c=n/t*e;this.min=-c,this.max=e+c}Ir.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Ir.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ir.prototype._insertCell=function(e,t,n,r,i,o){this.cells[i].push(o)},Ir.prototype.query=function(e,t,n,r,i){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},Ir.prototype._queryCell=function(e,t,n,r,i,o,a,s){var u=this.cells[i];if(null!==u)for(var l=this.keys,c=this.bboxes,A=0;A<u.length;A++){var f=u[A];if(void 0===a[f]){var h=4*f;(s?s(c[h+0],c[h+1],c[h+2],c[h+3]):e<=c[h+2]&&t<=c[h+3]&&n>=c[h+0]&&r>=c[h+1])?(a[f]=!0,o.push(l[f])):a[f]=!1}}},Ir.prototype._forEachCell=function(e,t,n,r,i,o,a,s){for(var u=this._convertToCellCoord(e),l=this._convertToCellCoord(t),c=this._convertToCellCoord(n),A=this._convertToCellCoord(r),f=u;f<=c;f++)for(var h=l;h<=A;h++){var p=this.d*h+f;if((!s||s(this._convertFromCellCoord(f),this._convertFromCellCoord(h),this._convertFromCellCoord(f+1),this._convertFromCellCoord(h+1)))&&i.call(this,e,t,n,r,p,o,a,s))return}},Ir.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Ir.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Ir.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+e.length]=o,i.set(this.keys,o),i[3+e.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Lr=a.ImageData,Rr=a.ImageBitmap,Dr={};function Zr(e,t,n){void 0===n&&(n={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Dr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var Ur in Zr("Object",Object),Fr.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},Fr.deserialize=function(e){return new Fr(e.buffer)},Zr("Grid",Fr),Zr("Color",et),Zr("Error",Error),Zr("ResolvedImage",it),Zr("StylePropertyFunction",Yn),Zr("StyleExpression",Vn,{omit:["_evaluator"]}),Zr("ZoomDependentExpression",qn),Zr("ZoomConstantExpression",Kn),Zr("CompoundExpression",mt,{omit:["_evaluate"]}),Sn)Sn[Ur]._classRegistryKey||Zr("Expression_"+Ur,Sn[Ur]);function jr(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Nr(e){return Rr&&e instanceof Rr}function zr(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(jr(e)||Nr(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof Lr)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var r=[],i=0,o=e;i<o.length;i+=1)r.push(zr(o[i],t));return r}if("object"==typeof e){var a=e.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var u=a.serialize?a.serialize(e,t):{};if(!a.serialize){for(var l in e)if(e.hasOwnProperty(l)&&!(Dr[s].omit.indexOf(l)>=0)){var c=e[l];u[l]=Dr[s].shallow.indexOf(l)>=0?c:zr(c,t)}e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(u.$name=s),u}throw new Error("can't serialize object of type "+typeof e)}function Qr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||jr(e)||Nr(e)||ArrayBuffer.isView(e)||e instanceof Lr)return e;if(Array.isArray(e))return e.map(Qr);if("object"==typeof e){var t=e.$name||"Object",n=Dr[t].klass;if(!n)throw new Error("can't deserialize unregistered class "+t);if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),i=0,o=Object.keys(e);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=e[a];r[a]=Dr[t].shallow.indexOf(a)>=0?s:Qr(s)}}return r}throw new Error("can't deserialize object of type "+typeof e)}var Hr=function(){this.first=!0};Hr.prototype.update=function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))};var Vr={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function Gr(e){for(var t=0,n=e;t<n.length;t+=1)if(Wr(n[t].charCodeAt(0)))return!0;return!1}function Wr(e){return!(746!==e&&747!==e&&(e<4352||!(Vr["Bopomofo Extended"](e)||Vr.Bopomofo(e)||Vr["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Vr["CJK Compatibility Ideographs"](e)||Vr["CJK Compatibility"](e)||Vr["CJK Radicals Supplement"](e)||Vr["CJK Strokes"](e)||!(!Vr["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Vr["CJK Unified Ideographs Extension A"](e)||Vr["CJK Unified Ideographs"](e)||Vr["Enclosed CJK Letters and Months"](e)||Vr["Hangul Compatibility Jamo"](e)||Vr["Hangul Jamo Extended-A"](e)||Vr["Hangul Jamo Extended-B"](e)||Vr["Hangul Jamo"](e)||Vr["Hangul Syllables"](e)||Vr.Hiragana(e)||Vr["Ideographic Description Characters"](e)||Vr.Kanbun(e)||Vr["Kangxi Radicals"](e)||Vr["Katakana Phonetic Extensions"](e)||Vr.Katakana(e)&&12540!==e||!(!Vr["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Vr["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Vr["Unified Canadian Aboriginal Syllabics"](e)||Vr["Unified Canadian Aboriginal Syllabics Extended"](e)||Vr["Vertical Forms"](e)||Vr["Yijing Hexagram Symbols"](e)||Vr["Yi Syllables"](e)||Vr["Yi Radicals"](e))))}function Kr(e){return!(Wr(e)||function(e){return!!(Vr["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Vr["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Vr["Letterlike Symbols"](e)||Vr["Number Forms"](e)||Vr["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Vr["Control Pictures"](e)&&9251!==e||Vr["Optical Character Recognition"](e)||Vr["Enclosed Alphanumerics"](e)||Vr["Geometric Shapes"](e)||Vr["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Vr["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Vr["CJK Symbols and Punctuation"](e)||Vr.Katakana(e)||Vr["Private Use Area"](e)||Vr["CJK Compatibility Forms"](e)||Vr["Small Form Variants"](e)||Vr["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function qr(e){return e>=1424&&e<=2303||Vr["Arabic Presentation Forms-A"](e)||Vr["Arabic Presentation Forms-B"](e)}function Xr(e,t){return!(!t&&qr(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Vr.Khmer(e))}function Yr(e){for(var t=0,n=e;t<n.length;t+=1)if(qr(n[t].charCodeAt(0)))return!0;return!1}var Jr=null,$r="unavailable",ei=null,ti=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&($r="error"),Jr&&Jr(e)};function ni(){ri.fire(new Ee("pluginStateChange",{pluginStatus:$r,pluginURL:ei}))}var ri=new ke,ii=function(){return $r},oi=function(){if("deferred"!==$r||!ei)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");$r="loading",ni(),ei&&be({url:ei},(function(e){e?ti(e):($r="loaded",ni())}))},ai={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===$r||null!=ai.applyArabicShaping},isLoading:function(){return"loading"===$r},setState:function(e){$r=e.pluginStatus,ei=e.pluginURL},isParsed:function(){return null!=ai.applyArabicShaping&&null!=ai.processBidirectionalText&&null!=ai.processStyledBidirectionalText},getPluginURL:function(){return ei}},si=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Hr,this.transition={})};si.prototype.isSupportedScript=function(e){return function(e,t){for(var n=0,r=e;n<r.length;n+=1)if(!Xr(r[n].charCodeAt(0),t))return!1;return!0}(e,ai.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}};var ui=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Zn(e))return new Yn(e,t);if(Gn(e)){var n=Xn(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return e.key+": "+e.message})).join(", "));return n.value}var r=e;return"string"==typeof e&&"color"===t.type&&(r=et.parse(e)),{kind:"constant",evaluate:function(){return r}}}(void 0===t?e.specification.default:t,e.specification)};ui.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},ui.prototype.possiblyEvaluate=function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)};var li=function(e){this.property=e,this.value=new ui(e,void 0)};li.prototype.transitioned=function(e,t){return new Ai(this.property,this.value,t,f({},e.transition,this.transition),e.now)},li.prototype.untransitioned=function(){return new Ai(this.property,this.value,null,{},0)};var ci=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};ci.prototype.getValue=function(e){return _(this._values[e].value.value)},ci.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new li(this._values[e].property)),this._values[e].value=new ui(this._values[e].property,null===t?void 0:_(t))},ci.prototype.getTransition=function(e){return _(this._values[e].transition)},ci.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new li(this._values[e].property)),this._values[e].transition=_(t)||void 0},ci.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i);var o=this.getTransition(r);void 0!==o&&(e[r+"-transition"]=o)}return e},ci.prototype.transitioned=function(e,t){for(var n=new fi(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(e,t._values[o])}return n},ci.prototype.untransitioned=function(){for(var e=new fi(this._properties),t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e};var Ai=function(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};Ai.prototype.possiblyEvaluate=function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(e,t,n);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),i,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(a))}return i};var fi=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};fi.prototype.possiblyEvaluate=function(e,t,n){for(var r=new di(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(e,t,n)}return r},fi.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var hi=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};hi.prototype.getValue=function(e){return _(this._values[e].value)},hi.prototype.setValue=function(e,t){this._values[e]=new ui(this._values[e].property,null===t?void 0:_(t))},hi.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i)}return e},hi.prototype.possiblyEvaluate=function(e,t,n){for(var r=new di(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(e,t,n)}return r};var pi=function(e,t,n){this.property=e,this.value=t,this.parameters=n};pi.prototype.isConstant=function(){return"constant"===this.value.kind},pi.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},pi.prototype.evaluate=function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)};var di=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};di.prototype.get=function(e){return this._values[e]};var gi=function(e){this.specification=e};gi.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},gi.prototype.interpolate=function(e,t,n){var r=Vt[this.specification.type];return r?r(e,t,n):e};var vi=function(e,t){this.specification=e,this.overrides=t};vi.prototype.possiblyEvaluate=function(e,t,n,r){return new pi(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)},vi.prototype.interpolate=function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new pi(this,{kind:"constant",value:void 0},e.parameters);var r=Vt[this.specification.type];return r?new pi(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e},vi.prototype.evaluate=function(e,t,n,r,i,o){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,o)};var yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0===e.value)return new pi(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new pi(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new pi(this,{kind:"constant",value:s},t)}return new pi(this,e.expression,t)},t.prototype.evaluate=function(e,t,n,r,i,o){if("source"===e.kind){var a=e.evaluate(t,n,r,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value},t.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},t.prototype.interpolate=function(e){return e},t}(vi),mi=function(e){this.specification=e};mi.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new si(Math.floor(t.zoom-1),t)),e.expression.evaluate(new si(Math.floor(t.zoom),t)),e.expression.evaluate(new si(Math.floor(t.zoom+1),t)),t)}},mi.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},mi.prototype.interpolate=function(e){return e};var bi=function(e){this.specification=e};bi.prototype.possiblyEvaluate=function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)},bi.prototype.interpolate=function(){return!1};var _i=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var n=e[t];n.specification.overridable&&this.overridableProperties.push(t);var r=this.defaultPropertyValues[t]=new ui(n,void 0),i=this.defaultTransitionablePropertyValues[t]=new li(n);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}};Zr("DataDrivenProperty",vi),Zr("DataConstantProperty",gi),Zr("CrossFadedDataDrivenProperty",yi),Zr("CrossFadedProperty",mi),Zr("ColorRampProperty",bi);var wi=function(e){function t(t,n){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new hi(n.layout)),n.paint)){for(var r in this._transitionablePaint=new ci(n.paint),t.paint)this.setPaintProperty(r,t.paint[r],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new di(n.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,n){void 0===n&&(n={}),null!=t&&this._validate(Pr,"layers."+this.id+".layout."+e,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)},t.prototype.getPaintProperty=function(e){return y(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,n){if(void 0===n&&(n={}),null!=t&&this._validate(Tr,"layers."+this.id+".paint."+e,e,t,n))return!1;if(y(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var r=this._transitionablePaint._values[e],i="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(e,a,s)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,n){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),b(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Mr(this,e.call(kr,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:Oe,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof pi&&In(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(ke),xi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ci=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Bi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Ei(e,t){void 0===t&&(t=1);var n=0,r=0;return{members:e.map((function(e){var i=xi[e.type].BYTES_PER_ELEMENT,o=n=Si(n,Math.max(t,i)),a=e.components||1;return r=Math.max(r,i),n+=i*a,{name:e.name,type:e.type,components:a,offset:o}})),size:Si(n,Math.max(r,t)),alignment:t}}function Si(e,t){return Math.ceil(e/t)*t}Bi.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Bi.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Bi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Bi.prototype.clear=function(){this.length=0},Bi.prototype.resize=function(e){this.reserve(e),this.length=e},Bi.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Bi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var ki=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e},t}(Bi);ki.prototype.bytesPerElement=4,Zr("StructArrayLayout2i4",ki);var Oi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,e},t}(Bi);Oi.prototype.bytesPerElement=8,Zr("StructArrayLayout4i8",Oi);var Ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(Bi);Ti.prototype.bytesPerElement=12,Zr("StructArrayLayout2i4i12",Ti);var Pi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=4*e,u=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[u+4]=r,this.uint8[u+5]=i,this.uint8[u+6]=o,this.uint8[u+7]=a,e},t}(Bi);Pi.prototype.bytesPerElement=8,Zr("StructArrayLayout2i4ub8",Pi);var Mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e},t}(Bi);Mi.prototype.bytesPerElement=8,Zr("StructArrayLayout2f8",Mi);var Fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,l){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,o,a,s,u,l)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,l,c){var A=10*e;return this.uint16[A+0]=t,this.uint16[A+1]=n,this.uint16[A+2]=r,this.uint16[A+3]=i,this.uint16[A+4]=o,this.uint16[A+5]=a,this.uint16[A+6]=s,this.uint16[A+7]=u,this.uint16[A+8]=l,this.uint16[A+9]=c,e},t}(Bi);Fi.prototype.bytesPerElement=20,Zr("StructArrayLayout10ui20",Fi);var Ii=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,l,c,A){var f=this.length;return this.resize(f+1),this.emplace(f,e,t,n,r,i,o,a,s,u,l,c,A)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,l,c,A,f){var h=12*e;return this.int16[h+0]=t,this.int16[h+1]=n,this.int16[h+2]=r,this.int16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=u,this.int16[h+8]=l,this.int16[h+9]=c,this.int16[h+10]=A,this.int16[h+11]=f,e},t}(Bi);Ii.prototype.bytesPerElement=24,Zr("StructArrayLayout4i4ui4i24",Ii);var Li=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e},t}(Bi);Li.prototype.bytesPerElement=12,Zr("StructArrayLayout3f12",Li);var Ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint32[1*e+0]=t,e},t}(Bi);Ri.prototype.bytesPerElement=4,Zr("StructArrayLayout1ul4",Ri);var Di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,r,i,o,a,s,u)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,l){var c=10*e,A=5*e;return this.int16[c+0]=t,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=i,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[A+3]=s,this.uint16[c+8]=u,this.uint16[c+9]=l,e},t}(Bi);Di.prototype.bytesPerElement=20,Zr("StructArrayLayout6i1ul2ui20",Di);var Zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(Bi);Zi.prototype.bytesPerElement=12,Zr("StructArrayLayout2i2i2i12",Zi);var Ui=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i)},t.prototype.emplace=function(e,t,n,r,i,o){var a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,e},t}(Bi);Ui.prototype.bytesPerElement=16,Zr("StructArrayLayout2f1f2i16",Ui);var ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,e},t}(Bi);ji.prototype.bytesPerElement=12,Zr("StructArrayLayout2ub2f12",ji);var Ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e},t}(Bi);Ni.prototype.bytesPerElement=6,Zr("StructArrayLayout3ui6",Ni);var zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,l,c,A,f,h,p,d,g){var v=this.length;return this.resize(v+1),this.emplace(v,e,t,n,r,i,o,a,s,u,l,c,A,f,h,p,d,g)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,l,c,A,f,h,p,d,g,v){var y=24*e,m=12*e,b=48*e;return this.int16[y+0]=t,this.int16[y+1]=n,this.uint16[y+2]=r,this.uint16[y+3]=i,this.uint32[m+2]=o,this.uint32[m+3]=a,this.uint32[m+4]=s,this.uint16[y+10]=u,this.uint16[y+11]=l,this.uint16[y+12]=c,this.float32[m+7]=A,this.float32[m+8]=f,this.uint8[b+36]=h,this.uint8[b+37]=p,this.uint8[b+38]=d,this.uint32[m+10]=g,this.int16[y+22]=v,e},t}(Bi);zi.prototype.bytesPerElement=48,Zr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",zi);var Qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,l,c,A,f,h,p,d,g,v,y,m,b,_,w,x,C,B,E,S){var k=this.length;return this.resize(k+1),this.emplace(k,e,t,n,r,i,o,a,s,u,l,c,A,f,h,p,d,g,v,y,m,b,_,w,x,C,B,E,S)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,u,l,c,A,f,h,p,d,g,v,y,m,b,_,w,x,C,B,E,S,k){var O=34*e,T=17*e;return this.int16[O+0]=t,this.int16[O+1]=n,this.int16[O+2]=r,this.int16[O+3]=i,this.int16[O+4]=o,this.int16[O+5]=a,this.int16[O+6]=s,this.int16[O+7]=u,this.uint16[O+8]=l,this.uint16[O+9]=c,this.uint16[O+10]=A,this.uint16[O+11]=f,this.uint16[O+12]=h,this.uint16[O+13]=p,this.uint16[O+14]=d,this.uint16[O+15]=g,this.uint16[O+16]=v,this.uint16[O+17]=y,this.uint16[O+18]=m,this.uint16[O+19]=b,this.uint16[O+20]=_,this.uint16[O+21]=w,this.uint16[O+22]=x,this.uint32[T+12]=C,this.float32[T+13]=B,this.float32[T+14]=E,this.float32[T+15]=S,this.float32[T+16]=k,e},t}(Bi);Qi.prototype.bytesPerElement=68,Zr("StructArrayLayout8i15ui1ul4f68",Qi);var Hi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.float32[1*e+0]=t,e},t}(Bi);Hi.prototype.bytesPerElement=4,Zr("StructArrayLayout1f4",Hi);var Vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e},t}(Bi);Vi.prototype.bytesPerElement=6,Zr("StructArrayLayout3i6",Vi);var Gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e},t}(Bi);Gi.prototype.bytesPerElement=8,Zr("StructArrayLayout1ul2ui8",Gi);var Wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e},t}(Bi);Wi.prototype.bytesPerElement=4,Zr("StructArrayLayout2ui4",Wi);var Ki=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint16[1*e+0]=t,e},t}(Bi);Ki.prototype.bytesPerElement=2,Zr("StructArrayLayout1ui2",Ki);var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,e},t}(Bi);qi.prototype.bytesPerElement=16,Zr("StructArrayLayout4f16",qi);var Xi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,n),t}(Ci);Xi.prototype.size=20;var Yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Xi(this,e)},t}(Di);Zr("CollisionBoxArray",Yi);var Ji=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,n),t}(Ci);Ji.prototype.size=48;var $i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Ji(this,e)},t}(zi);Zr("PlacedSymbolArray",$i);var eo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+12]=e},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,n),t}(Ci);eo.prototype.size=68;var to=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new eo(this,e)},t}(Qi);Zr("SymbolInstanceArray",to);var no=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t}(Hi);Zr("GlyphOffsetArray",no);var ro=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t}(Vi);Zr("SymbolLineVertexArray",ro);var io=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,n),t}(Ci);io.prototype.size=8;var oo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new io(this,e)},t}(Gi);Zr("FeatureIndexArray",oo);var ao=Ei([{name:"a_pos",components:2,type:"Int16"}],4).members,so=function(e){void 0===e&&(e=[]),this.segments=e};function uo(e,t){return 256*(e=c(Math.floor(e),0,255))+c(Math.floor(t),0,255)}so.prototype.prepareSegment=function(e,t,n,r){var i=this.segments[this.segments.length-1];return e>so.MAX_VERTEX_ARRAY_LENGTH&&x("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!i||i.vertexLength+e>so.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var n=t[e];for(var r in n.vaos)n.vaos[r].destroy()}},so.simpleSegment=function(e,t,n,r){return new so([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Zr("SegmentVector",so);var lo=Ei([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),co=t((function(e){e.exports=function(e,t){var n,r,i,o,a,s,u,l;for(r=e.length-(n=3&e.length),i=t,a=3432918353,s=461845907,l=0;l<r;)u=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(l+2))<<16;case 2:u^=(255&e.charCodeAt(l+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(l)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),Ao=t((function(e){e.exports=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),fo=co,ho=Ao;fo.murmur3=co,fo.murmur2=ho;var po=function(){this.ids=[],this.positions=[],this.indexed=!1};po.prototype.add=function(e,t,n,r){this.ids.push(vo(e)),this.positions.push(t,n,r)},po.prototype.getPositions=function(e){for(var t=vo(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var o=[];this.ids[n]===t;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o},po.serialize=function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return function e(t,n,r,i){for(;r<i;){for(var o=t[r+i>>1],a=r-1,s=i+1;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;yo(t,a,s),yo(n,3*a,3*s),yo(n,3*a+1,3*s+1),yo(n,3*a+2,3*s+2)}s-r<i-s?(e(t,n,r,s),r=s+1):(e(t,n,s+1,i),i=s)}}(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}},po.deserialize=function(e){var t=new po;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var go=Math.pow(2,53)-1;function vo(e){var t=+e;return!isNaN(t)&&t<=go?t:fo(String(e))}function yo(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Zr("FeaturePositionMap",po);var mo=function(e,t){this.gl=e.gl,this.location=t},bo=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(mo),_o=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(mo),wo=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(mo),xo=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(mo),Co=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(mo),Bo=function(e){function t(t,n){e.call(this,t,n),this.current=et.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(mo),Eo=new Float32Array(16),So=function(e){function t(t,n){e.call(this,t,n),this.current=Eo}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(mo);function ko(e){return[uo(255*e.r,255*e.g),uo(255*e.b,255*e.a)]}var Oo=function(e,t,n){this.value=e,this.uniformNames=t.map((function(e){return"u_"+e})),this.type=n};Oo.prototype.setUniform=function(e,t,n){e.set(n.constantOr(this.value))},Oo.prototype.getBinding=function(e,t,n){return"color"===this.type?new Bo(e,t):new _o(e,t)};var To=function(e,t){this.uniformNames=t.map((function(e){return"u_"+e})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};To.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},To.prototype.setUniform=function(e,t,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&e.set(i)},To.prototype.getBinding=function(e,t,n){return"u_pattern"===n.substr(0,9)?new Co(e,t):new _o(e,t)};var Po=function(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};Po.prototype.populatePaintArray=function(e,t,n,r,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new si(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(o,e,a)},Po.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)},Po.prototype._setPaintValue=function(e,t,n){if("color"===this.type)for(var r=ko(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var o=e;o<t;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},Po.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Po.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Mo=function(e,t,n,r,i,o){this.expression=e,this.uniformNames=t.map((function(e){return"u_"+e+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new o};Mo.prototype.populatePaintArray=function(e,t,n,r,i){var o=this.expression.evaluate(new si(this.zoom),t,{},r,[],i),a=this.expression.evaluate(new si(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,o,a)},Mo.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,o)},Mo.prototype._setPaintValue=function(e,t,n,r){if("color"===this.type)for(var i=ko(n),o=ko(r),a=e;a<t;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},Mo.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Mo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Mo.prototype.setUniform=function(e,t){var n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=c(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)},Mo.prototype.getBinding=function(e,t,n){return new _o(e,t)};var Fo=function(e,t,n,r,i,o){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Fo.prototype.populatePaintArray=function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)},Fo.prototype.updatePaintArray=function(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)},Fo.prototype._setPaintValues=function(e,t,n,r){if(r&&n){var i=r[n.min],o=r[n.mid],a=r[n.max];if(i&&o&&a)for(var s=e;s<t;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],o.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Fo.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,lo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,lo.members,this.expression.isStateDependent))},Fo.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Io=function(e,t,n){this.binders={},this._buffers=[];var r=[];for(var i in e.paint._values)if(n(i)){var o=e.paint.get(i);if(o instanceof pi&&In(o.property.specification)){var a=Ro(i,e.type),s=o.value,u=o.property.specification.type,l=o.property.useIntegerZoom,c=o.property.specification["property-type"],A="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=A?new To(s.value,a):new Oo(s.value,a,u),r.push("/u_"+i);else if("source"===s.kind||A){var f=Do(i,u,"source");this.binders[i]=A?new Fo(s,u,l,t,f,e.id):new Po(s,a,u,f),r.push("/a_"+i)}else{var h=Do(i,u,"composite");this.binders[i]=new Mo(s,a,u,l,t,h),r.push("/z_"+i)}}}this.cacheKey=r.sort().join("")};Io.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof Po||t instanceof Mo?t.maxValue:0},Io.prototype.populatePaintArrays=function(e,t,n,r,i){for(var o in this.binders){var a=this.binders[o];(a instanceof Po||a instanceof Mo||a instanceof Fo)&&a.populatePaintArray(e,t,n,r,i)}},Io.prototype.setConstantPatternPositions=function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof To&&r.setConstantPatternPositions(e,t)}},Io.prototype.updatePaintArrays=function(e,t,n,r,i){var o=!1;for(var a in e)for(var s=0,u=t.getPositions(a);s<u.length;s+=1){var l=u[s],c=n.feature(l.index);for(var A in this.binders){var f=this.binders[A];if((f instanceof Po||f instanceof Mo||f instanceof Fo)&&!0===f.expression.isStateDependent){var h=r.paint.get(A);f.expression=h.value,f.updatePaintArray(l.start,l.end,c,e[a],i),o=!0}}}return o},Io.prototype.defines=function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof Oo||n instanceof To)&&e.push.apply(e,n.uniformNames.map((function(e){return"#define HAS_UNIFORM_"+e})))}return e},Io.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Po||n instanceof Mo)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name);else if(n instanceof Fo)for(var i=0;i<lo.members.length;i++)e.push(lo.members[i].name)}return e},Io.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Oo||n instanceof To||n instanceof Mo)for(var r=0,i=n.uniformNames;r<i.length;r+=1)e.push(i[r])}return e},Io.prototype.getPaintVertexBuffers=function(){return this._buffers},Io.prototype.getUniforms=function(e,t){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof Oo||i instanceof To||i instanceof Mo)for(var o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(t[s]){var u=i.getBinding(e,t[s],s);n.push({name:s,property:r,binding:u})}}}return n},Io.prototype.setUniforms=function(e,t,n,r){for(var i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.name,u=a.property;this.binders[u].setUniform(a.binding,r,n.get(u),s)}},Io.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof Fo){var r=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof Po||n instanceof Mo)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},Io.prototype.upload=function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof Po||n instanceof Mo||n instanceof Fo)&&n.upload(e)}this.updatePaintBuffers()},Io.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Po||t instanceof Mo||t instanceof Fo)&&t.destroy()}};var Lo=function(e,t,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=e;r<i.length;r+=1){var o=i[r];this.programConfigurations[o.id]=new Io(o,t,n)}this.needsUpload=!1,this._featureMap=new po,this._bufferOffset=0};function Ro(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function Do(e,t,n){var r={color:{source:Mi,composite:qi},number:{source:Hi,composite:Mi}},i=function(e){return{"line-pattern":{source:Fi,composite:Fi},"fill-pattern":{source:Fi,composite:Fi},"fill-extrusion-pattern":{source:Fi,composite:Fi}}[e]}(e);return i&&i[n]||r[t][n]}Lo.prototype.populatePaintArrays=function(e,t,n,r,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(e,t,r,i,o);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},Lo.prototype.updatePaintArrays=function(e,t,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(e,this._featureMap,t,a,r)||this.needsUpload}},Lo.prototype.get=function(e){return this.programConfigurations[e]},Lo.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},Lo.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},Zr("ConstantBinder",Oo),Zr("CrossFadedConstantBinder",To),Zr("SourceExpressionBinder",Po),Zr("CrossFadedCompositeBinder",Fo),Zr("CompositeExpressionBinder",Mo),Zr("ProgramConfiguration",Io,{omit:["_buffers"]}),Zr("ProgramConfigurationSet",Lo);var Zo=Math.pow(2,14)-1,Uo=-Zo-1;function jo(e){for(var t=8192/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=Math.round(a.x*t),u=Math.round(a.y*t);a.x=c(s,Uo,Zo),a.y=c(u,Uo,Zo),(s<a.x||s>a.x+1||u<a.y||u>a.y+1)&&x("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function No(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?jo(e):[]}}function zo(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}var Qo=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ki,this.indexArray=new Ni,this.segments=new so,this.programConfigurations=new Lo(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Ho(e,t){for(var n=0;n<e.length;n++)if($o(t,e[n]))return!0;for(var r=0;r<t.length;r++)if($o(e,t[r]))return!0;return!!Ko(e,t)}function Vo(e,t,n){return!!$o(e,t)||!!Xo(t,e,n)}function Go(e,t){if(1===e.length)return Jo(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if($o(e,r[i]))return!0;for(var o=0;o<e.length;o++)if(Jo(t,e[o]))return!0;for(var a=0;a<t.length;a++)if(Ko(e,t[a]))return!0;return!1}function Wo(e,t,n){if(e.length>1){if(Ko(e,t))return!0;for(var r=0;r<t.length;r++)if(Xo(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(Xo(e[i],t,n))return!0;return!1}function Ko(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],o=0;o<t.length-1;o++)if(qo(r,i,t[o],t[o+1]))return!0;return!1}function qo(e,t,n,r){return C(e,n,r)!==C(t,n,r)&&C(e,t,n)!==C(e,t,r)}function Xo(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if(Yo(e,t[i-1],t[i])<r)return!0;return!1}function Yo(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function Jo(e,t){for(var n,r,i,o=!1,a=0;a<e.length;a++)for(var s=0,u=(n=e[a]).length-1;s<n.length;u=s++)(r=n[s]).y>t.y!=(i=n[u]).y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function $o(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var o=e[r],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ea(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var o=C(e,t,n[0]);return o!==C(e,t,n[1])||o!==C(e,t,n[2])||o!==C(e,t,n[3])}function ta(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function na(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ra(e,t,n,r,o){if(!t[0]&&!t[1])return e;var a=i.convert(t)._mult(o);"viewport"===n&&a._rotate(-r);for(var s=[],u=0;u<e.length;u++)s.push(e[u].sub(a));return s}Qo.prototype.populate=function(e,t,n){var r=this.layers[0],i=[],o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));for(var a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.feature,c=u.id,A=u.index,f=u.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,p=No(l,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),p,n)){var d=o?o.evaluate(p,{},n):void 0,g={id:c,properties:l.properties,type:l.type,sourceLayerIndex:f,index:A,geometry:h?p.geometry:jo(l),patterns:{},sortKey:d};i.push(g)}}o&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var v=0,y=i;v<y.length;v+=1){var m=y[v],b=m.geometry,_=m.index,w=m.sourceLayerIndex,x=e[_].feature;this.addFeature(m,b,_,n),t.featureIndex.insert(x,b,_,w,this.index)}},Qo.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Qo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Qo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Qo.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ao),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Qo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Qo.prototype.addFeature=function(e,t,n,r){for(var i=0,o=t;i<o.length;i+=1)for(var a=0,s=o[i];a<s.length;a+=1){var u=s[a],l=u.x,c=u.y;if(!(l<0||l>=8192||c<0||c>=8192)){var A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),f=A.vertexLength;zo(this.layoutVertexArray,l,c,-1,-1),zo(this.layoutVertexArray,l,c,1,-1),zo(this.layoutVertexArray,l,c,1,1),zo(this.layoutVertexArray,l,c,-1,1),this.indexArray.emplaceBack(f,f+1,f+2),this.indexArray.emplaceBack(f,f+3,f+2),A.vertexLength+=4,A.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)},Zr("CircleBucket",Qo,{omit:["layers"]});var ia=new _i({"circle-sort-key":new vi(Oe.layout_circle["circle-sort-key"])}),oa={paint:new _i({"circle-radius":new vi(Oe.paint_circle["circle-radius"]),"circle-color":new vi(Oe.paint_circle["circle-color"]),"circle-blur":new vi(Oe.paint_circle["circle-blur"]),"circle-opacity":new vi(Oe.paint_circle["circle-opacity"]),"circle-translate":new gi(Oe.paint_circle["circle-translate"]),"circle-translate-anchor":new gi(Oe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new gi(Oe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new gi(Oe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new vi(Oe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new vi(Oe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new vi(Oe.paint_circle["circle-stroke-opacity"])}),layout:ia},aa="undefined"!=typeof Float32Array?Float32Array:Array;function sa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ua(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],A=t[8],f=t[9],h=t[10],p=t[11],d=t[12],g=t[13],v=t[14],y=t[15],m=n[0],b=n[1],_=n[2],w=n[3];return e[0]=m*r+b*s+_*A+w*d,e[1]=m*i+b*u+_*f+w*g,e[2]=m*o+b*l+_*h+w*v,e[3]=m*a+b*c+_*p+w*y,e[4]=(m=n[4])*r+(b=n[5])*s+(_=n[6])*A+(w=n[7])*d,e[5]=m*i+b*u+_*f+w*g,e[6]=m*o+b*l+_*h+w*v,e[7]=m*a+b*c+_*p+w*y,e[8]=(m=n[8])*r+(b=n[9])*s+(_=n[10])*A+(w=n[11])*d,e[9]=m*i+b*u+_*f+w*g,e[10]=m*o+b*l+_*h+w*v,e[11]=m*a+b*c+_*p+w*y,e[12]=(m=n[12])*r+(b=n[13])*s+(_=n[14])*A+(w=n[15])*d,e[13]=m*i+b*u+_*f+w*g,e[14]=m*o+b*l+_*h+w*v,e[15]=m*a+b*c+_*p+w*y,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,n=arguments.length;n--;)t+=e[n]*e[n];return Math.sqrt(t)});var la,ca=ua;function Aa(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}la=new aa(3),aa!=Float32Array&&(la[0]=0,la[1]=0,la[2]=0),function(){var e=new aa(4);aa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var fa=(function(){var e=new aa(2);aa!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(t){e.call(this,t,oa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Qo(e)},t.prototype.queryRadius=function(e){var t=e;return ta("circle-radius",this,t)+ta("circle-stroke-width",this,t)+na(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,o,a,s){for(var u=ra(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),l=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),c="map"===this.paint.get("circle-pitch-alignment"),A=c?u:function(e,t){return e.map((function(e){return ha(e,t)}))}(u,s),f=c?l*a:l,h=0,p=r;h<p.length;h+=1)for(var d=0,g=p[h];d<g.length;d+=1){var v=g[d],y=c?v:ha(v,s),m=f,b=Aa([],[v.x,v.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?m*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(m*=o.cameraToCenterDistance/b[3]),Vo(A,y,m))return!0}return!1},t}(wi));function ha(e,t){var n=Aa([],[e.x,e.y,0,1],t);return new i(n[0]/n[3],n[1]/n[3])}var pa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Qo);function da(e,t,n,r){var i=t.width,o=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return e.width=i,e.height=o,e.data=r,e}function ga(e,t,n){var r=t.width,i=t.height;if(r!==e.width||i!==e.height){var o=da({},{width:r,height:i},n);va(e,o,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=o.data}}function va(e,t,n,r,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,u=0;u<i.height;u++)for(var l=((n.y+u)*e.width+n.x)*o,c=((r.y+u)*t.width+r.x)*o,A=0;A<i.width*o;A++)s[c+A]=a[l+A];return t}Zr("HeatmapBucket",pa,{omit:["layers"]});var ya=function(e,t){da(this,e,1,t)};ya.prototype.resize=function(e){ga(this,e,1)},ya.prototype.clone=function(){return new ya({width:this.width,height:this.height},new Uint8Array(this.data))},ya.copy=function(e,t,n,r,i){va(e,t,n,r,i,1)};var ma=function(e,t){da(this,e,4,t)};ma.prototype.resize=function(e){ga(this,e,4)},ma.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},ma.prototype.clone=function(){return new ma({width:this.width,height:this.height},new Uint8Array(this.data))},ma.copy=function(e,t,n,r,i){va(e,t,n,r,i,4)},Zr("AlphaImage",ya),Zr("RGBAImage",ma);var ba={paint:new _i({"heatmap-radius":new vi(Oe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new vi(Oe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new gi(Oe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bi(Oe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new gi(Oe.paint_heatmap["heatmap-opacity"])})};function _a(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new ma({width:n,height:r}),o=function(n,r,o){t[e.evaluationKey]=o;var a=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(e.clips)for(var a=0,s=0;a<r;++a,s+=4*n)for(var u=0,l=0;u<n;u++,l+=4){var c=u/(n-1),A=e.clips[a];o(s,l,A.start*(1-c)+A.end*c)}else for(var f=0,h=0;f<n;f++,h+=4)o(0,h,f/(n-1));return i}var wa=function(e){function t(t){e.call(this,t,ba),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new pa(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=_a({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(wi),xa={paint:new _i({"hillshade-illumination-direction":new gi(Oe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new gi(Oe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new gi(Oe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new gi(Oe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new gi(Oe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new gi(Oe.paint_hillshade["hillshade-accent-color"])})},Ca=function(e){function t(t){e.call(this,t,xa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(wi),Ba=Ei([{name:"a_pos",components:2,type:"Int16"}],4).members,Ea=ka,Sa=ka;function ka(e,t,n){n=n||2;var r,i,o,a,s,u,l,c=t&&t.length,A=c?t[0]*n:e.length,f=Oa(e,0,A,n,!0),h=[];if(!f||f.next===f.prev)return h;if(c&&(f=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Oa(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(ja(a));for(s.sort(Ra),i=0;i<s.length;i++)Da(s[i],n),n=Ta(n,n.next);return n}(e,t,f,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var p=n;p<A;p+=n)(s=e[p])<r&&(r=s),(u=e[p+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);l=0!==(l=Math.max(o-r,a-i))?1/l:0}return Pa(f,h,n,r,i,l),h}function Oa(e,t,n,r,i){var o,a;if(i===$a(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Xa(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Xa(o,e[o],e[o+1],a);return a&&Ha(a,a.next)&&(Ya(a),a=a.next),a}function Ta(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Ha(r,r.next)&&0!==Qa(r.prev,r,r.next))r=r.next;else{if(Ya(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Pa(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Ua(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,r,i,o);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,o?Fa(e,r,i,o):Ma(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),Ya(e),e=u.next,l=u.next;else if((e=u)===l){a?1===a?Pa(e=Ia(Ta(e),t,n),t,n,r,i,o,2):2===a&&La(e,t,n,r,i,o):Pa(Ta(e),t,n,r,i,o,1);break}}}function Ma(e){var t=e.prev,n=e,r=e.next;if(Qa(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Na(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Qa(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Fa(e,t,n,r){var i=e.prev,o=e,a=e.next;if(Qa(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,l=Ua(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,t,n,r),c=Ua(s,u,t,n,r),A=e.prevZ,f=e.nextZ;A&&A.z>=l&&f&&f.z<=c;){if(A!==e.prev&&A!==e.next&&Na(i.x,i.y,o.x,o.y,a.x,a.y,A.x,A.y)&&Qa(A.prev,A,A.next)>=0)return!1;if(A=A.prevZ,f!==e.prev&&f!==e.next&&Na(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Qa(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;A&&A.z>=l;){if(A!==e.prev&&A!==e.next&&Na(i.x,i.y,o.x,o.y,a.x,a.y,A.x,A.y)&&Qa(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;f&&f.z<=c;){if(f!==e.prev&&f!==e.next&&Na(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Qa(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function Ia(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!Ha(i,o)&&Va(i,r,r.next,o)&&Ka(i,o)&&Ka(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),Ya(r),Ya(r.next),r=e=o),r=r.next}while(r!==e);return Ta(r)}function La(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&za(a,s)){var u=qa(a,s);return a=Ta(a,a.next),u=Ta(u,u.next),Pa(a,t,n,r,i,o),void Pa(u,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function Ra(e,t){return e.x-t.x}function Da(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var u,l=n,c=n.x,A=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Na(o<A?i:a,o,c,A,o<A?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),Ka(r,e)&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&Za(n,r)))&&(n=r,f=u)),r=r.next}while(r!==l);return n}(e,t)){var n=qa(t,e);Ta(t,t.next),Ta(n,n.next)}}function Za(e,t){return Qa(e.prev,e,t.prev)<0&&Qa(t.next,e,e.next)<0}function Ua(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ja(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Na(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function za(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Va(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Ka(e,t)&&Ka(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Qa(e.prev,e,t.prev)||Qa(e,t.prev,t))||Ha(e,t)&&Qa(e.prev,e,e.next)>0&&Qa(t.prev,t,t.next)>0)}function Qa(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Ha(e,t){return e.x===t.x&&e.y===t.y}function Va(e,t,n,r){var i=Wa(Qa(e,t,n)),o=Wa(Qa(e,t,r)),a=Wa(Qa(n,r,e)),s=Wa(Qa(n,r,t));return i!==o&&a!==s||!(0!==i||!Ga(e,n,t))||!(0!==o||!Ga(e,r,t))||!(0!==a||!Ga(n,e,r))||!(0!==s||!Ga(n,t,r))}function Ga(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Wa(e){return e>0?1:e<0?-1:0}function Ka(e,t){return Qa(e.prev,e,e.next)<0?Qa(e,t,e.next)>=0&&Qa(e,e.prev,t)>=0:Qa(e,t,e.prev)<0||Qa(e,e.next,t)<0}function qa(e,t){var n=new Ja(e.i,e.x,e.y),r=new Ja(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Xa(e,t,n,r){var i=new Ja(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ya(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ja(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $a(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function es(e,t,n,r,i){!function e(t,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-s*l/a+c)),Math.min(i,Math.floor(n+(a-s)*l/a+c)),o)}var A=t[n],f=r,h=i;for(ts(t,r,n),o(t[i],A)>0&&ts(t,r,i);f<h;){for(ts(t,f,h),f++,h--;o(t[f],A)<0;)f++;for(;o(t[h],A)>0;)h--}0===o(t[r],A)?ts(t,r,h):ts(t,++h,i),h<=n&&(r=h+1),n<=h&&(i=h-1)}}(e,t,n||0,r||e.length-1,i||ns)}function ts(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function ns(e,t){return e<t?-1:e>t?1:0}function rs(e,t){var n=e.length;if(n<=1)return[e];for(var r,i,o=[],a=0;a<n;a++){var s=B(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[e[a]]):r.push(e[a]))}if(r&&o.push(r),t>1)for(var u=0;u<o.length;u++)o[u].length<=t||(es(o[u],t,1,o[u].length-1,is),o[u]=o[u].slice(0,t));return o}function is(e,t){return t.area-e.area}function os(e,t,n){for(var r=n.patternDependencies,i=!1,o=0,a=t;o<a.length;o+=1){var s=a[o].paint.get(e+"-pattern");s.isConstant()||(i=!0);var u=s.constantOr(null);u&&(i=!0,r[u.to]=!0,r[u.from]=!0)}return i}function as(e,t,n,r,i){for(var o=i.patternDependencies,a=0,s=t;a<s.length;a+=1){var u=s[a],l=u.paint.get(e+"-pattern").value;if("constant"!==l.kind){var c=l.evaluate({zoom:r-1},n,{},i.availableImages),A=l.evaluate({zoom:r},n,{},i.availableImages),f=l.evaluate({zoom:r+1},n,{},i.availableImages);A=A&&A.name?A.name:A,f=f&&f.name?f.name:f,o[c=c&&c.name?c.name:c]=!0,o[A]=!0,o[f]=!0,n.patterns[u.id]={min:c,mid:A,max:f}}}return n}ka.deviation=function(e,t,n,r){var i=t&&t.length,o=Math.abs($a(e,0,i?t[0]*n:e.length,n));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs($a(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var u=0;for(a=0;a<r.length;a+=3){var l=r[a]*n,c=r[a+1]*n,A=r[a+2]*n;u+=Math.abs((e[l]-e[A])*(e[c+1]-e[l+1])-(e[l]-e[c])*(e[A+1]-e[l+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},ka.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&n.holes.push(r+=e[i-1].length)}return n},Ea.default=Sa;var ss=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ki,this.indexArray=new Ni,this.indexArray2=new Wi,this.programConfigurations=new Lo(e.layers,e.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};ss.prototype.populate=function(e,t,n){this.hasPattern=os("fill",this.layers,t);for(var r=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],u=s.feature,l=s.id,c=s.index,A=s.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,h=No(u,f);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,n)){var p=r?r.evaluate(h,{},n,t.availableImages):void 0,d={id:l,properties:u.properties,type:u.type,sourceLayerIndex:A,index:c,geometry:f?h.geometry:jo(u),patterns:{},sortKey:p};i.push(d)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var g=0,v=i;g<v.length;g+=1){var y=v[g],m=y.geometry,b=y.index,_=y.sourceLayerIndex;if(this.hasPattern){var w=as("fill",this.layers,y,this.zoom,t);this.patternFeatures.push(w)}else this.addFeature(y,m,b,n,{});t.featureIndex.insert(e[b].feature,m,b,_,this.index)}},ss.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},ss.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ba),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ss.prototype.addFeature=function(e,t,n,r,i){for(var o=0,a=rs(t,500);o<a.length;o+=1){for(var s=a[o],u=0,l=0,c=s;l<c.length;l+=1)u+=c[l].length;for(var A=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray),f=A.vertexLength,h=[],p=[],d=0,g=s;d<g.length;d+=1){var v=g[d];if(0!==v.length){v!==s[0]&&p.push(h.length/2);var y=this.segments2.prepareSegment(v.length,this.layoutVertexArray,this.indexArray2),m=y.vertexLength;this.layoutVertexArray.emplaceBack(v[0].x,v[0].y),this.indexArray2.emplaceBack(m+v.length-1,m),h.push(v[0].x),h.push(v[0].y);for(var b=1;b<v.length;b++)this.layoutVertexArray.emplaceBack(v[b].x,v[b].y),this.indexArray2.emplaceBack(m+b-1,m+b),h.push(v[b].x),h.push(v[b].y);y.vertexLength+=v.length,y.primitiveLength+=v.length}}for(var _=Ea(h,p),w=0;w<_.length;w+=3)this.indexArray.emplaceBack(f+_[w],f+_[w+1],f+_[w+2]);A.vertexLength+=u,A.primitiveLength+=_.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Zr("FillBucket",ss,{omit:["layers","patternFeatures"]});var us=new _i({"fill-sort-key":new vi(Oe.layout_fill["fill-sort-key"])}),ls={paint:new _i({"fill-antialias":new gi(Oe.paint_fill["fill-antialias"]),"fill-opacity":new vi(Oe.paint_fill["fill-opacity"]),"fill-color":new vi(Oe.paint_fill["fill-color"]),"fill-outline-color":new vi(Oe.paint_fill["fill-outline-color"]),"fill-translate":new gi(Oe.paint_fill["fill-translate"]),"fill-translate-anchor":new gi(Oe.paint_fill["fill-translate-anchor"]),"fill-pattern":new yi(Oe.paint_fill["fill-pattern"])}),layout:us},cs=function(e){function t(t){e.call(this,t,ls)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new ss(e)},t.prototype.queryRadius=function(){return na(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,o,a){return Go(ra(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},t.prototype.isTileClipped=function(){return!0},t}(wi),As=Ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,fs=hs;function hs(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(ps,this,t)}function ps(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function ds(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)r+=((n=e[a]).x-(t=e[i]).x)*(t.y+n.y);return r}hs.types=["Unknown","Point","LineString","Polygon"],hs.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,o=0,a=0,s=0,u=[];e.pos<n;){if(o<=0){var l=e.readVarint();r=7&l,o=l>>3}if(o--,1===r||2===r)a+=e.readSVarint(),s+=e.readSVarint(),1===r&&(t&&u.push(t),t=[]),t.push(new i(a,s));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&u.push(t),u},hs.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},hs.prototype.toGeoJSON=function(e,t,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,u=this.loadGeometry(),l=hs.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var A=[];for(r=0;r<u.length;r++)A[r]=u[r][0];c(u=A);break;case 2:for(r=0;r<u.length;r++)c(u[r]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=ds(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)c(u[r][i])}1===u.length?u=u[0]:l="Multi"+l;var f={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(f.id=this.id),f};var gs=vs;function vs(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(ys,this,t),this.length=this._features.length}function ys(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}function ms(e,t,n){if(3===e){var r=new gs(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}vs.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new fs(this._pbf,t,this.extent,this._keys,this._values)};var bs={VectorTile:function(e,t){this.layers=e.readFields(ms,{},t)},VectorTileFeature:fs,VectorTileLayer:gs},_s=bs.VectorTileFeature.types,ws=Math.pow(2,13);function xs(e,t,n,r,i,o,a,s){e.emplaceBack(t,n,2*Math.floor(r*ws)+a,i*ws*2,o*ws*2,Math.round(s))}var Cs=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ti,this.indexArray=new Ni,this.programConfigurations=new Lo(e.layers,e.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Bs(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}Cs.prototype.populate=function(e,t,n){this.features=[],this.hasPattern=os("fill-extrusion",this.layers,t);for(var r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.id,u=o.index,l=o.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,A=No(a,c);if(this.layers[0]._featureFilter.filter(new si(this.zoom),A,n)){var f={id:s,sourceLayerIndex:l,index:u,geometry:c?A.geometry:jo(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(as("fill-extrusion",this.layers,f,this.zoom,t)):this.addFeature(f,f.geometry,u,n,{}),t.featureIndex.insert(a,f.geometry,u,l,this.index,!0)}}},Cs.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.features;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},Cs.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Cs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Cs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Cs.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,As),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Cs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Cs.prototype.addFeature=function(e,t,n,r,i){for(var o=0,a=rs(t,500);o<a.length;o+=1){for(var s=a[o],u=0,l=0,c=s;l<c.length;l+=1)u+=c[l].length;for(var A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),f=0,h=s;f<h.length;f+=1){var p=h[f];if(0!==p.length&&!((M=p).every((function(e){return e.x<0}))||M.every((function(e){return e.x>8192}))||M.every((function(e){return e.y<0}))||M.every((function(e){return e.y>8192}))))for(var d=0,g=0;g<p.length;g++){var v=p[g];if(g>=1){var y=p[g-1];if(!Bs(v,y)){A.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var m=v.sub(y)._perp()._unit(),b=y.dist(v);d+b>32768&&(d=0),xs(this.layoutVertexArray,v.x,v.y,m.x,m.y,0,0,d),xs(this.layoutVertexArray,v.x,v.y,m.x,m.y,0,1,d),xs(this.layoutVertexArray,y.x,y.y,m.x,m.y,0,0,d+=b),xs(this.layoutVertexArray,y.x,y.y,m.x,m.y,0,1,d);var _=A.vertexLength;this.indexArray.emplaceBack(_,_+2,_+1),this.indexArray.emplaceBack(_+1,_+2,_+3),A.vertexLength+=4,A.primitiveLength+=2}}}}if(A.vertexLength+u>so.MAX_VERTEX_ARRAY_LENGTH&&(A=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray)),"Polygon"===_s[e.type]){for(var w=[],x=[],C=A.vertexLength,B=0,E=s;B<E.length;B+=1){var S=E[B];if(0!==S.length){S!==s[0]&&x.push(w.length/2);for(var k=0;k<S.length;k++){var O=S[k];xs(this.layoutVertexArray,O.x,O.y,0,0,1,1,0),w.push(O.x),w.push(O.y)}}}for(var T=Ea(w,x),P=0;P<T.length;P+=3)this.indexArray.emplaceBack(C+T[P],C+T[P+2],C+T[P+1]);A.primitiveLength+=T.length/3,A.vertexLength+=u}}var M;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Zr("FillExtrusionBucket",Cs,{omit:["layers","features"]});var Es={paint:new _i({"fill-extrusion-opacity":new gi(Oe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new vi(Oe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new gi(Oe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new gi(Oe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new yi(Oe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new vi(Oe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new vi(Oe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new gi(Oe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ss=function(e){function t(t){e.call(this,t,Es)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Cs(e)},t.prototype.queryRadius=function(){return na(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,n,r,o,a,s,u){var l=ra(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(t,n),A=this.paint.get("fill-extrusion-base").evaluate(t,n),f=function(e,t,n,r){for(var o=[],a=0,s=e;a<s.length;a+=1){var u=s[a],l=[u.x,u.y,0,1];Aa(l,l,t),o.push(new i(l[0]/l[3],l[1]/l[3]))}return o}(l,u),h=function(e,t,n,r){for(var o=[],a=[],s=r[8]*t,u=r[9]*t,l=r[10]*t,c=r[11]*t,A=r[8]*n,f=r[9]*n,h=r[10]*n,p=r[11]*n,d=0,g=e;d<g.length;d+=1){for(var v=[],y=[],m=0,b=g[d];m<b.length;m+=1){var _=b[m],w=_.x,x=_.y,C=r[0]*w+r[4]*x+r[12],B=r[1]*w+r[5]*x+r[13],E=r[2]*w+r[6]*x+r[14],S=r[3]*w+r[7]*x+r[15],k=E+l,O=S+c,T=C+A,P=B+f,M=E+h,F=S+p,I=new i((C+s)/O,(B+u)/O);I.z=k/O,v.push(I);var L=new i(T/F,P/F);L.z=M/F,y.push(L)}o.push(v),a.push(y)}return[o,a]}(r,A,c,u);return function(e,t,n){var r=1/0;Go(n,t)&&(r=Os(n,t[0]));for(var i=0;i<t.length;i++)for(var o=t[i],a=e[i],s=0;s<o.length-1;s++){var u=o[s],l=[u,o[s+1],a[s+1],a[s],u];Ho(n,l)&&(r=Math.min(r,Os(n,l)))}return r!==1/0&&r}(h[0],h[1],f)},t}(wi);function ks(e,t){return e.x*t.x+e.y*t.y}function Os(e,t){if(1===e.length){for(var n,r=0,i=t[r++];!n||i.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var o=t[r],a=e[0],s=n.sub(i),u=o.sub(i),l=a.sub(i),c=ks(s,s),A=ks(s,u),f=ks(u,u),h=ks(l,s),p=ks(l,u),d=c*f-A*A,g=(f*h-A*p)/d,v=(c*p-A*h)/d,y=i.z*(1-g-v)+n.z*g+o.z*v;if(isFinite(y))return y}return 1/0}for(var m=1/0,b=0,_=t;b<_.length;b+=1)m=Math.min(m,_[b].z);return m}var Ts=Ei([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Ps=Ei([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Ms=bs.VectorTileFeature.types,Fs=Math.cos(Math.PI/180*37.5),Is=Math.pow(2,14)/.5,Ls=function(e){var t=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){t.gradients[e.id]={}})),this.layoutVertexArray=new Pi,this.layoutVertexArray2=new Mi,this.indexArray=new Ni,this.programConfigurations=new Lo(e.layers,e.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};Ls.prototype.populate=function(e,t,n){this.hasPattern=os("line",this.layers,t);for(var r=this.layers[0].layout.get("line-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],u=s.feature,l=s.id,c=s.index,A=s.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,h=No(u,f);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,n)){var p=r?r.evaluate(h,{},n):void 0,d={id:l,properties:u.properties,type:u.type,sourceLayerIndex:A,index:c,geometry:f?h.geometry:jo(u),patterns:{},sortKey:p};i.push(d)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var g=0,v=i;g<v.length;g+=1){var y=v[g],m=y.geometry,b=y.index,_=y.sourceLayerIndex;if(this.hasPattern){var w=as("line",this.layers,y,this.zoom,t);this.patternFeatures.push(w)}else this.addFeature(y,m,b,n,{});t.featureIndex.insert(e[b].feature,m,b,_,this.index)}},Ls.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Ls.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},Ls.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ls.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ls.prototype.upload=function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Ps)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ts),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ls.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ls.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},Ls.prototype.addFeature=function(e,t,n,r,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(e,{}),s=o.get("line-cap"),u=o.get("line-miter-limit"),l=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var c=0,A=t;c<A.length;c+=1)this.addLine(A[c],e,a,s,u,l);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Ls.prototype.addLine=function(e,t,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<e.length-1;a++)this.totalDistance+=e[a].dist(e[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Ms[t.type],u=e.length;u>=2&&e[u-1].equals(e[u-2]);)u--;for(var l=0;l<u-1&&e[l].equals(e[l+1]);)l++;if(!(u<(s?3:2))){"bevel"===n&&(i=1.05);var c,A=this.overscaling<=16?122880/(512*this.overscaling):0,f=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray),h=void 0,p=void 0,d=void 0,g=void 0;this.e1=this.e2=-1,s&&(g=e[l].sub(c=e[u-2])._unit()._perp());for(var v=l;v<u;v++)if(!(p=v===u-1?s?e[l+1]:void 0:e[v+1])||!e[v].equals(p)){g&&(d=g),c&&(h=c),c=e[v],g=p?p.sub(c)._unit()._perp():d;var y=(d=d||g).add(g);0===y.x&&0===y.y||y._unit();var m=d.x*g.x+d.y*g.y,b=y.x*g.x+y.y*g.y,_=0!==b?1/b:1/0,w=2*Math.sqrt(2-2*b),x=b<Fs&&h&&p,C=d.x*g.y-d.y*g.x>0;if(x&&v>l){var B=c.dist(h);if(B>2*A){var E=c.sub(c.sub(h)._mult(A/B)._round());this.updateDistance(h,E),this.addCurrentVertex(E,d,0,0,f),h=E}}var S=h&&p,k=S?n:s?"butt":r;if(S&&"round"===k&&(_<o?k="miter":_<=2&&(k="fakeround")),"miter"===k&&_>i&&(k="bevel"),"bevel"===k&&(_>2&&(k="flipbevel"),_<i&&(k="miter")),h&&this.updateDistance(h,c),"miter"===k)y._mult(_),this.addCurrentVertex(c,y,0,0,f);else if("flipbevel"===k){if(_>100)y=g.mult(-1);else{var O=_*d.add(g).mag()/d.sub(g).mag();y._perp()._mult(O*(C?-1:1))}this.addCurrentVertex(c,y,0,0,f),this.addCurrentVertex(c,y.mult(-1),0,0,f)}else if("bevel"===k||"fakeround"===k){var T=-Math.sqrt(_*_-1),P=C?T:0,M=C?0:T;if(h&&this.addCurrentVertex(c,d,P,M,f),"fakeround"===k)for(var F=Math.round(180*w/Math.PI/20),I=1;I<F;I++){var L=I/F;if(.5!==L){var R=L-.5;L+=L*R*(L-1)*((1.0904+m*(m*(3.55645-1.43519*m)-3.2452))*R*R+(.848013+m*(.215638*m-1.06021)))}var D=g.sub(d)._mult(L)._add(d)._unit()._mult(C?-1:1);this.addHalfVertex(c,D.x,D.y,!1,C,0,f)}p&&this.addCurrentVertex(c,g,-P,-M,f)}else if("butt"===k)this.addCurrentVertex(c,y,0,0,f);else if("square"===k){var Z=h?1:-1;this.addCurrentVertex(c,y,Z,Z,f)}else"round"===k&&(h&&(this.addCurrentVertex(c,d,0,0,f),this.addCurrentVertex(c,d,1,1,f,!0)),p&&(this.addCurrentVertex(c,g,-1,-1,f,!0),this.addCurrentVertex(c,g,0,0,f)));if(x&&v<u-1){var U=c.dist(p);if(U>2*A){var j=c.add(p.sub(c)._mult(A/U)._round());this.updateDistance(c,j),this.addCurrentVertex(j,g,0,0,f),c=j}}}}},Ls.prototype.addCurrentVertex=function(e,t,n,r,i,o){void 0===o&&(o=!1);var a=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,i),this.addHalfVertex(e,a,s,o,!0,-r,i),this.distance>Is/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,n,r,i,o))},Ls.prototype.addHalfVertex=function(e,t,n,r,i,o,a){var s=.5*(this.lineClips?this.scaledDistance*(Is-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(r?1:0),(e.y<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),i?this.e2=u:this.e1=u},Ls.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ls.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},Zr("LineBucket",Ls,{omit:["layers","patternFeatures"]});var Rs=new _i({"line-cap":new gi(Oe.layout_line["line-cap"]),"line-join":new vi(Oe.layout_line["line-join"]),"line-miter-limit":new gi(Oe.layout_line["line-miter-limit"]),"line-round-limit":new gi(Oe.layout_line["line-round-limit"]),"line-sort-key":new vi(Oe.layout_line["line-sort-key"])}),Ds={paint:new _i({"line-opacity":new vi(Oe.paint_line["line-opacity"]),"line-color":new vi(Oe.paint_line["line-color"]),"line-translate":new gi(Oe.paint_line["line-translate"]),"line-translate-anchor":new gi(Oe.paint_line["line-translate-anchor"]),"line-width":new vi(Oe.paint_line["line-width"]),"line-gap-width":new vi(Oe.paint_line["line-gap-width"]),"line-offset":new vi(Oe.paint_line["line-offset"]),"line-blur":new vi(Oe.paint_line["line-blur"]),"line-dasharray":new mi(Oe.paint_line["line-dasharray"]),"line-pattern":new yi(Oe.paint_line["line-pattern"]),"line-gradient":new bi(Oe.paint_line["line-gradient"])}),layout:Rs},Zs=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(t,n){return n=new si(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),e.prototype.possiblyEvaluate.call(this,t,n)},t.prototype.evaluate=function(t,n,r,i){return n=f({},n,{zoom:Math.floor(n.zoom)}),e.prototype.evaluate.call(this,t,n,r,i)},t}(vi))(Ds.paint.properties["line-width"].specification);Zs.useIntegerZoom=!0;var Us=function(e){function t(t){e.call(this,t,Ds),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Qt,this.gradientVersion=(this.gradientVersion+1)%s)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n),this.paint._values["line-floorwidth"]=Zs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Ls(e)},t.prototype.queryRadius=function(e){var t=e,n=js(ta("line-width",this,t),ta("line-gap-width",this,t)),r=ta("line-offset",this,t);return n/2+Math.abs(r)+na(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,o,a,s){var u=ra(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),l=s/2*js(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),c=this.paint.get("line-offset").evaluate(t,n);return c&&(r=function(e,t){for(var n=[],r=new i(0,0),o=0;o<e.length;o++){for(var a=e[o],s=[],u=0;u<a.length;u++){var l=a[u],c=a[u+1],A=0===u?r:l.sub(a[u-1])._unit()._perp(),f=u===a.length-1?r:c.sub(l)._unit()._perp(),h=A._add(f)._unit();h._mult(1/(h.x*f.x+h.y*f.y)),s.push(h._mult(t)._add(l))}n.push(s)}return n}(r,c*s)),function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3)for(var o=0;o<i.length;o++)if($o(e,i[o]))return!0;if(Wo(e,i,n))return!0}return!1}(u,r,l)},t.prototype.isTileClipped=function(){return!0},t}(wi);function js(e,t){return t>0?t+2*e:e}var Ns=Ei([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),zs=Ei([{name:"a_projected_pos",components:3,type:"Float32"}],4),Qs=(Ei([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Ei([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Hs=(Ei([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Vs=Ei([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Gs(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),ai.applyArabicShaping&&(e=ai.applyArabicShaping(e)),e}(e.text,t,n)})),e}Ei([{name:"triangle",components:3,type:"Uint16"}]),Ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ei([{type:"Float32",name:"offsetX"}]),Ei([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Ws={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ks=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,A=n?i-1:0,f=n?-1:1,h=e[t+A];for(A+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+A],A+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+A],A+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},qs=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,A=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+A>=1?f/u:f*Math.pow(2,1-A))*u>=2&&(a++,u/=2),a+A>=c?(s=0,a=c):a+A>=1?(s=(t*u-1)*Math.pow(2,i),a+=A):(s=t*Math.pow(2,A-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*d},Xs=Ys;function Ys(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Ys.Varint=0,Ys.Fixed64=1,Ys.Bytes=2,Ys.Fixed32=5;var Js="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function $s(e){return e.type===Ys.Bytes?e.readVarint()+e.pos:e.pos+1}function eu(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function tu(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function nu(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function ru(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function iu(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function ou(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function au(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function su(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function uu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function lu(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function cu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function Au(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function fu(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function hu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function pu(e,t,n){1===e&&n.readMessage(du,t)}function du(e,t,n){if(3===e){var r=n.readMessage(gu,{}),i=r.width,o=r.height,a=r.left,s=r.top,u=r.advance;t.push({id:r.id,bitmap:new ya({width:i+6,height:o+6},r.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:u}})}}function gu(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function vu(e){for(var t=0,n=0,r=0,i=e;r<i.length;r+=1){var o=i[r];t+=o.w*o.h,n=Math.max(n,o.w)}e.sort((function(e,t){return t.h-e.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}],s=0,u=0,l=0,c=e;l<c.length;l+=1)for(var A=c[l],f=a.length-1;f>=0;f--){var h=a[f];if(!(A.w>h.w||A.h>h.h)){if(A.x=h.x,A.y=h.y,u=Math.max(u,A.y+A.h),s=Math.max(s,A.x+A.w),A.w===h.w&&A.h===h.h){var p=a.pop();f<a.length&&(a[f]=p)}else A.h===h.h?(h.x+=A.w,h.w-=A.w):A.w===h.w?(h.y+=A.h,h.h-=A.h):(a.push({x:h.x+A.w,y:h.y,w:h.w-A.w,h:A.h}),h.y+=A.h,h.h-=A.h);break}}return{w:s,h:u,fill:t/(s*u)||0}}Ys.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Au(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=hu(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Au(this.buf,this.pos)+4294967296*Au(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=Au(this.buf,this.pos)+4294967296*hu(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Ks(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Ks(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return eu(e,r,t);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return eu(e,r,t);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return eu(e,r,t);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return eu(e,r,t);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return eu(e,r,t);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return eu(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Js?function(e,t,n){return Js.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var o,a,s,u=e[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Ys.Bytes)return e.push(this.readVarint(t));var n=$s(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Ys.Bytes)return e.push(this.readSVarint());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Ys.Bytes)return e.push(this.readBoolean());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Ys.Bytes)return e.push(this.readFloat());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Ys.Bytes)return e.push(this.readDouble());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Ys.Bytes)return e.push(this.readFixed32());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Ys.Bytes)return e.push(this.readSFixed32());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Ys.Bytes)return e.push(this.readFixed64());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Ys.Bytes)return e.push(this.readSFixed64());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Ys.Varint)for(;this.buf[this.pos++]>127;);else if(t===Ys.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Ys.Fixed32)this.pos+=4;else{if(t!==Ys.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),fu(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),fu(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),fu(this.buf,-1&e,this.pos),fu(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),fu(this.buf,-1&e,this.pos),fu(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&tu(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),qs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),qs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&tu(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,Ys.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,nu,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,ru,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,au,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,iu,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,ou,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,su,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,uu,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,lu,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,cu,t)},writeBytesField:function(e,t){this.writeTag(e,Ys.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Ys.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Ys.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Ys.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var yu=function(e,t){var n=t.pixelRatio,r=t.version,i=t.stretchX,o=t.stretchY,a=t.content;this.paddedRect=e,this.pixelRatio=n,this.stretchX=i,this.stretchY=o,this.content=a,this.version=r},mu={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};mu.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},mu.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},mu.tlbr.get=function(){return this.tl.concat(this.br)},mu.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(yu.prototype,mu);var bu=function(e,t){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,n,i),this.addImages(t,r,i);var o=vu(i),a=new ma({width:o.w||1,height:o.h||1});for(var s in e){var u=e[s],l=n[s].paddedRect;ma.copy(u.data,a,{x:0,y:0},{x:l.x+1,y:l.y+1},u.data)}for(var c in t){var A=t[c],f=r[c].paddedRect,h=f.x+1,p=f.y+1,d=A.data.width,g=A.data.height;ma.copy(A.data,a,{x:0,y:0},{x:h,y:p},A.data),ma.copy(A.data,a,{x:0,y:g-1},{x:h,y:p-1},{width:d,height:1}),ma.copy(A.data,a,{x:0,y:0},{x:h,y:p+g},{width:d,height:1}),ma.copy(A.data,a,{x:d-1,y:0},{x:h-1,y:p},{width:1,height:g}),ma.copy(A.data,a,{x:0,y:0},{x:h+d,y:p},{width:1,height:g})}this.image=a,this.iconPositions=n,this.patternPositions=r};bu.prototype.addImages=function(e,t,n){for(var r in e){var i=e[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),t[r]=new yu(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},bu.prototype.patchUpdatedImages=function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)},bu.prototype.patchUpdatedImage=function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=e.tl;n.update(t.data,void 0,{x:r[0],y:r[1]})}},Zr("ImagePosition",yu),Zr("ImageAtlas",bu);var _u={horizontal:1,vertical:2,horizontalOnly:3},wu=function(){this.scale=1,this.fontStack="",this.imageName=null};wu.forText=function(e,t){var n=new wu;return n.scale=e||1,n.fontStack=t,n},wu.forImage=function(e){var t=new wu;return t.imageName=e,t};var xu=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Cu(e,t,n,r,i,o,a,s,u,l,c,A,f,h,p,d){var g,v=xu.fromFeature(e,i);A===_u.vertical&&v.verticalizePunctuation();var y=ai.processBidirectionalText,m=ai.processStyledBidirectionalText;if(y&&1===v.sections.length){g=[];for(var b=0,_=y(v.toString(),Pu(v,l,o,t,r,h,p));b<_.length;b+=1){var w=_[b],x=new xu;x.text=w,x.sections=v.sections;for(var C=0;C<w.length;C++)x.sectionIndex.push(0);g.push(x)}}else if(m){g=[];for(var B=0,E=m(v.text,v.sectionIndex,Pu(v,l,o,t,r,h,p));B<E.length;B+=1){var S=E[B],k=new xu;k.text=S[0],k.sectionIndex=S[1],k.sections=v.sections,g.push(k)}}else g=function(e,t){for(var n=[],r=e.text,i=0,o=0,a=t;o<a.length;o+=1){var s=a[o];n.push(e.substring(i,s)),i=s}return i<r.length&&n.push(e.substring(i,r.length)),n}(v,Pu(v,l,o,t,r,h,p));var O=[],T={positionedLines:O,text:v.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:A,iconsInText:!1,verticalizable:!1};return function(e,t,n,r,i,o,a,s,u,l,c,A){for(var f=0,h=-17,p=0,d=0,g="right"===s?1:"left"===s?0:.5,v=0,y=0,m=i;y<m.length;y+=1){var b=m[y];b.trim();var _=b.getMaxScale(),w=24*(_-1),x={positionedGlyphs:[],lineOffset:0};e.positionedLines[v]=x;var C=x.positionedGlyphs,B=0;if(b.length()){for(var E=0;E<b.length();E++){var S=b.getSection(E),k=b.getSectionIndex(E),O=b.getCharCode(E),T=0,P=null,M=null,F=null,I=24,L=!(u===_u.horizontal||!c&&!Wr(O)||c&&(Bu[O]||(H=O,Vr.Arabic(H)||Vr["Arabic Supplement"](H)||Vr["Arabic Extended-A"](H)||Vr["Arabic Presentation Forms-A"](H)||Vr["Arabic Presentation Forms-B"](H))));if(S.imageName){var R=r[S.imageName];if(!R)continue;F=S.imageName,e.iconsInText=e.iconsInText||!0,M=R.paddedRect;var D=R.displaySize;S.scale=24*S.scale/A,T=w+(24-D[1]*S.scale),I=(P={width:D[0],height:D[1],left:1,top:-3,advance:L?D[1]:D[0]}).advance;var Z=L?D[0]*S.scale-24*_:D[1]*S.scale-24*_;Z>0&&Z>B&&(B=Z)}else{var U=n[S.fontStack],j=U&&U[O];if(j&&j.rect)M=j.rect,P=j.metrics;else{var N=t[S.fontStack],z=N&&N[O];if(!z)continue;P=z.metrics}T=24*(_-S.scale)}L?(e.verticalizable=!0,C.push({glyph:O,imageName:F,x:f,y:h+T,vertical:L,scale:S.scale,fontStack:S.fontStack,sectionIndex:k,metrics:P,rect:M}),f+=I*S.scale+l):(C.push({glyph:O,imageName:F,x:f,y:h+T,vertical:L,scale:S.scale,fontStack:S.fontStack,sectionIndex:k,metrics:P,rect:M}),f+=P.advance*S.scale+l)}0!==C.length&&(p=Math.max(f-l,p),Fu(C,0,C.length-1,g,B)),f=0;var Q=o*_+B;x.lineOffset=Math.max(B,w),h+=Q,d=Math.max(Q,d),++v}else h+=o,++v}var H,V=h- -17,G=Mu(a),W=G.horizontalAlign,K=G.verticalAlign;(function(e,t,n,r,i,o,a,s,u){var l,c=(t-n)*i;l=o!==a?-s*r- -17:(-r*u+.5)*a;for(var A=0,f=e;A<f.length;A+=1)for(var h=0,p=f[A].positionedGlyphs;h<p.length;h+=1){var d=p[h];d.x+=c,d.y+=l}})(e.positionedLines,g,W,K,p,d,o,V,i.length),e.top+=-K*V,e.bottom=e.top+V,e.left+=-W*p,e.right=e.left+p}(T,t,n,r,g,a,s,u,A,l,f,d),!function(e){for(var t=0,n=e;t<n.length;t+=1)if(0!==n[t].positionedGlyphs.length)return!1;return!0}(O)&&T}xu.fromFeature=function(e,t){for(var n=new xu,r=0;r<e.sections.length;r++){var i=e.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,t)}return n},xu.prototype.length=function(){return this.text.length},xu.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},xu.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},xu.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},xu.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;t+=r&&Kr(r)&&!Ws[e[n+1]]||i&&Kr(i)&&!Ws[e[n-1]]||!Ws[e[n]]?e[n]:Ws[e[n]]}return t}(this.text)},xu.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Bu[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&Bu[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)},xu.prototype.substring=function(e,t){var n=new xu;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n},xu.prototype.toString=function(){return this.text},xu.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)},xu.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(wu.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)},xu.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(wu.forImage(t)),this.sectionIndex.push(this.sections.length-1)):x("Reached maximum number of images 6401")}else x("Can't add FormattedSection with an empty image.")},xu.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Bu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Eu={};function Su(e,t,n,r,i,o){if(t.imageName){var a=r[t.imageName];return a?a.displaySize[0]*t.scale*24/o+i:0}var s=n[t.fontStack],u=s&&s[e];return u?u.metrics.advance*t.scale+i:0}function ku(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function Ou(e,t,n){var r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Tu(e,t,n,r,i,o){for(var a=null,s=ku(t,n,i,o),u=0,l=r;u<l.length;u+=1){var c=l[u],A=ku(t-c.x,n,i,o)+c.badness;A<=s&&(a=c,s=A)}return{index:e,x:t,priorBreak:a,badness:s}}function Pu(e,t,n,r,i,o,a){if("point"!==o)return[];if(!e)return[];for(var s,u=[],l=function(e,t,n,r,i,o){for(var a=0,s=0;s<e.length();s++){var u=e.getSection(s);a+=Su(e.getCharCode(s),u,r,i,t,o)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,r,i,a),c=e.text.indexOf("\u200b")>=0,A=0,f=0;f<e.length();f++){var h=e.getSection(f),p=e.getCharCode(f);if(Bu[p]||(A+=Su(p,h,r,i,t,a)),f<e.length()-1){var d=!((s=p)<11904||!(Vr["Bopomofo Extended"](s)||Vr.Bopomofo(s)||Vr["CJK Compatibility Forms"](s)||Vr["CJK Compatibility Ideographs"](s)||Vr["CJK Compatibility"](s)||Vr["CJK Radicals Supplement"](s)||Vr["CJK Strokes"](s)||Vr["CJK Symbols and Punctuation"](s)||Vr["CJK Unified Ideographs Extension A"](s)||Vr["CJK Unified Ideographs"](s)||Vr["Enclosed CJK Letters and Months"](s)||Vr["Halfwidth and Fullwidth Forms"](s)||Vr.Hiragana(s)||Vr["Ideographic Description Characters"](s)||Vr["Kangxi Radicals"](s)||Vr["Katakana Phonetic Extensions"](s)||Vr.Katakana(s)||Vr["Vertical Forms"](s)||Vr["Yi Radicals"](s)||Vr["Yi Syllables"](s)));(Eu[p]||d||h.imageName)&&u.push(Tu(f+1,A,l,u,Ou(p,e.getCharCode(f+1),d&&c),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Tu(e.length(),A,l,u,0,!0))}function Mu(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Fu(e,t,n,r,i){if(r||i)for(var o=e[n],a=(e[n].x+o.metrics.advance*o.scale)*r,s=t;s<=n;s++)e[s].x-=a,e[s].y+=i}function Iu(e,t,n,r,i,o){var a,s=e.image;if(s.content){var u=s.content,l=s.pixelRatio||1;a=[u[0]/l,u[1]/l,s.displaySize[0]-u[2]/l,s.displaySize[1]-u[3]/l]}var c,A,f,h,p=t.left*o,d=t.right*o;"width"===n||"both"===n?(h=i[0]+p-r[3],A=i[0]+d+r[1]):A=(h=i[0]+(p+d-s.displaySize[0])/2)+s.displaySize[0];var g=t.top*o,v=t.bottom*o;return"height"===n||"both"===n?(c=i[1]+g-r[0],f=i[1]+v+r[2]):f=(c=i[1]+(g+v-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:A,bottom:f,left:h,collisionPadding:a}}Eu[10]=!0,Eu[32]=!0,Eu[38]=!0,Eu[40]=!0,Eu[41]=!0,Eu[43]=!0,Eu[45]=!0,Eu[47]=!0,Eu[173]=!0,Eu[183]=!0,Eu[8203]=!0,Eu[8208]=!0,Eu[8211]=!0,Eu[8231]=!0;var Lu=function(e){function t(t,n,r,i){e.call(this,t,n),this.angle=r,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(i);function Ru(e,t){var n=t.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new si(e+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=e;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<e+1;)a++;a=Math.min(r.length-1,a);var s=r[o],u=r[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:u,minSize:n.evaluate(new si(s)),maxSize:n.evaluate(new si(u)),interpolationType:i}}function Du(e,t,n){var r=t.uSize,i=n.lowerSize;return"source"===e.kind?i/128:"composite"===e.kind?Ht(i/128,n.upperSize/128,t.uSizeT):r}function Zu(e,t){var n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,o=i?c(an.interpolationFactor(i,t,e.minZoom,e.maxZoom),0,1):0;"camera"===e.kind?r=Ht(e.minSize,e.maxSize,o):n=o}return{uSizeT:n,uSize:r}}Zr("Anchor",Lu);var Uu=Object.freeze({__proto__:null,getSizeData:Ru,evaluateSizeForFeature:Du,evaluateSizeForZoom:Zu,SIZE_PACK_FACTOR:128});function ju(e,t,n,r,i){if(void 0===t.segment)return!0;for(var o=t,a=t.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=e[a],A=e[a+1];if(!A)return!1;var f=e[a-1].angleTo(c)-c.angleTo(A);for(f=Math.abs((f+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:f}),l+=f;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;a++,s+=c.dist(A)}return!0}function Nu(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function zu(e,t,n){return e?.6*t*n:0}function Qu(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Hu(e,t,n,r,i,o){for(var a=zu(n,i,o),s=Qu(n,r)*o,u=0,l=Nu(e)/2,c=0;c<e.length-1;c++){var A=e[c],f=e[c+1],h=A.dist(f);if(u+h>l){var p=(l-u)/h,d=Ht(A.x,f.x,p),g=Ht(A.y,f.y,p),v=new Lu(d,g,f.angleTo(A),c);return v._round(),!a||ju(e,v,s,a,t)?v:void 0}u+=h}}function Vu(e,t,n,r,i,o,a,s,u){var l=zu(r,o,a),c=Qu(r,i),A=c*a,f=0===e[0].x||e[0].x===u||0===e[0].y||e[0].y===u;return t-A<t/4&&(t=A+t/4),function e(t,n,r,i,o,a,s,u,l){for(var c=a/2,A=Nu(t),f=0,h=n-r,p=[],d=0;d<t.length-1;d++){for(var g=t[d],v=t[d+1],y=g.dist(v),m=v.angleTo(g);h+r<f+y;){var b=((h+=r)-f)/y,_=Ht(g.x,v.x,b),w=Ht(g.y,v.y,b);if(_>=0&&_<l&&w>=0&&w<l&&h-c>=0&&h+c<=A){var x=new Lu(_,w,m,d);x._round(),i&&!ju(t,x,a,i,o)||p.push(x)}}f+=y}return u||p.length||s||(p=e(t,f/2,r,i,o,a,s,!0,l)),p}(e,f?t/2*s%t:(c/2+2*o)*a*s%t,t,l,n,A,f,!1,u)}function Gu(e,t,n,r,o){for(var a=[],s=0;s<e.length;s++)for(var u=e[s],l=void 0,c=0;c<u.length-1;c++){var A=u[c],f=u[c+1];A.x<t&&f.x<t||(A.x<t?A=new i(t,A.y+(t-A.x)/(f.x-A.x)*(f.y-A.y))._round():f.x<t&&(f=new i(t,A.y+(t-A.x)/(f.x-A.x)*(f.y-A.y))._round()),A.y<n&&f.y<n||(A.y<n?A=new i(A.x+(n-A.y)/(f.y-A.y)*(f.x-A.x),n)._round():f.y<n&&(f=new i(A.x+(n-A.y)/(f.y-A.y)*(f.x-A.x),n)._round()),A.x>=r&&f.x>=r||(A.x>=r?A=new i(r,A.y+(r-A.x)/(f.x-A.x)*(f.y-A.y))._round():f.x>=r&&(f=new i(r,A.y+(r-A.x)/(f.x-A.x)*(f.y-A.y))._round()),A.y>=o&&f.y>=o||(A.y>=o?A=new i(A.x+(o-A.y)/(f.y-A.y)*(f.x-A.x),o)._round():f.y>=o&&(f=new i(A.x+(o-A.y)/(f.y-A.y)*(f.x-A.x),o)._round()),l&&A.equals(l[l.length-1])||a.push(l=[A]),l.push(f)))))}return a}function Wu(e,t,n,r){var o=[],a=e.image,s=a.pixelRatio,u=a.paddedRect.w-2,l=a.paddedRect.h-2,c=e.right-e.left,A=e.bottom-e.top,f=a.stretchX||[[0,u]],h=a.stretchY||[[0,l]],p=function(e,t){return e+t[1]-t[0]},d=f.reduce(p,0),g=h.reduce(p,0),v=u-d,y=l-g,m=0,b=d,_=0,w=g,x=0,C=v,B=0,E=y;if(a.content&&r){var S=a.content;m=Ku(f,0,S[0]),_=Ku(h,0,S[1]),b=Ku(f,S[0],S[2]),w=Ku(h,S[1],S[3]),x=S[0]-m,B=S[1]-_,C=S[2]-S[0]-b,E=S[3]-S[1]-w}var k=function(r,o,u,l){var f=Xu(r.stretch-m,b,c,e.left),h=Yu(r.fixed-x,C,r.stretch,d),p=Xu(o.stretch-_,w,A,e.top),v=Yu(o.fixed-B,E,o.stretch,g),y=Xu(u.stretch-m,b,c,e.left),S=Yu(u.fixed-x,C,u.stretch,d),k=Xu(l.stretch-_,w,A,e.top),O=Yu(l.fixed-B,E,l.stretch,g),T=new i(f,p),P=new i(y,p),M=new i(y,k),F=new i(f,k),I=new i(h/s,v/s),L=new i(S/s,O/s),R=t*Math.PI/180;if(R){var D=Math.sin(R),Z=Math.cos(R),U=[Z,-D,D,Z];T._matMult(U),P._matMult(U),F._matMult(U),M._matMult(U)}var j=r.stretch+r.fixed,N=o.stretch+o.fixed;return{tl:T,tr:P,bl:F,br:M,tex:{x:a.paddedRect.x+1+j,y:a.paddedRect.y+1+N,w:u.stretch+u.fixed-j,h:l.stretch+l.fixed-N},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:I,pixelOffsetBR:L,minFontScaleX:C/s/c,minFontScaleY:E/s/A,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var O=qu(f,v,d),T=qu(h,y,g),P=0;P<O.length-1;P++)for(var M=O[P],F=O[P+1],I=0;I<T.length-1;I++)o.push(k(M,T[I],F,T[I+1]));else o.push(k({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:l+1}));return o}function Ku(e,t,n){for(var r=0,i=0,o=e;i<o.length;i+=1){var a=o[i];r+=Math.max(t,Math.min(n,a[1]))-Math.max(t,Math.min(n,a[0]))}return r}function qu(e,t,n){for(var r=[{fixed:-1,stretch:0}],i=0,o=e;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1],l=r[r.length-1];r.push({fixed:s-l.stretch,stretch:l.stretch}),r.push({fixed:s-l.stretch,stretch:l.stretch+(u-s)})}return r.push({fixed:t+1,stretch:n}),r}function Xu(e,t,n,r){return e/t*n+r}function Yu(e,t,n,r){return e-t*n/r}var Ju=function(e,t,n,r,o,a,s,u,l,c){if(this.boxStartIndex=e.length,l){var A=a.top,f=a.bottom,h=a.collisionPadding;h&&(A-=h[1],f+=h[3]);var p=f-A;p>0&&(p=Math.max(10,p),this.circleDiameter=p)}else{var d=a.top*s-u,g=a.bottom*s+u,v=a.left*s-u,y=a.right*s+u,m=a.collisionPadding;if(m&&(v-=m[0]*s,d-=m[1]*s,y+=m[2]*s,g+=m[3]*s),c){var b=new i(v,d),_=new i(y,d),w=new i(v,g),x=new i(y,g),C=c*Math.PI/180;b._rotate(C),_._rotate(C),w._rotate(C),x._rotate(C),v=Math.min(b.x,_.x,w.x,x.x),y=Math.max(b.x,_.x,w.x,x.x),d=Math.min(b.y,_.y,w.y,x.y),g=Math.max(b.y,_.y,w.y,x.y)}e.emplaceBack(t.x,t.y,v,d,y,g,n,r,o)}this.boxEndIndex=e.length},$u=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=el),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function el(e,t){return e<t?-1:e>t?1:0}function tl(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);for(var r=1/0,o=1/0,a=-1/0,s=-1/0,u=e[0],l=0;l<u.length;l++){var c=u[l];(!l||c.x<r)&&(r=c.x),(!l||c.y<o)&&(o=c.y),(!l||c.x>a)&&(a=c.x),(!l||c.y>s)&&(s=c.y)}var A=Math.min(a-r,s-o),f=A/2,h=new $u([],nl);if(0===A)return new i(r,o);for(var p=r;p<a;p+=A)for(var d=o;d<s;d+=A)h.push(new rl(p+f,d+f,f,e));for(var g=function(e){for(var t=0,n=0,r=0,i=e[0],o=0,a=i.length,s=a-1;o<a;s=o++){var u=i[o],l=i[s],c=u.x*l.y-l.x*u.y;n+=(u.x+l.x)*c,r+=(u.y+l.y)*c,t+=3*c}return new rl(n/t,r/t,0,e)}(e),v=h.length;h.length;){var y=h.pop();(y.d>g.d||!g.d)&&(g=y,n&&console.log("found best %d after %d probes",Math.round(1e4*y.d)/1e4,v)),y.max-g.d<=t||(h.push(new rl(y.p.x-(f=y.h/2),y.p.y-f,f,e)),h.push(new rl(y.p.x+f,y.p.y-f,f,e)),h.push(new rl(y.p.x-f,y.p.y+f,f,e)),h.push(new rl(y.p.x+f,y.p.y+f,f,e)),v+=4)}return n&&(console.log("num probes: "+v),console.log("best distance: "+g.d)),g.p}function nl(e,t){return t.max-e.max}function rl(e,t,n,r){this.p=new i(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var o=t[i],a=0,s=o.length,u=s-1;a<s;u=a++){var l=o[a],c=o[u];l.y>e.y!=c.y>e.y&&e.x<(c.x-l.x)*(e.y-l.y)/(c.y-l.y)+l.x&&(n=!n),r=Math.min(r,Yo(e,l,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}$u.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},$u.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},$u.prototype.peek=function(){return this.data[0]},$u.prototype._up=function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r},$u.prototype._down=function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var o=1+(e<<1),a=t[o],s=o+1;if(s<this.length&&n(t[s],a)<0&&(o=s,a=t[s]),n(a,i)>=0)break;t[e]=a,e=o}t[e]=i};var il=Number.POSITIVE_INFINITY;function ol(e,t){return t[1]!==il?function(e,t,n){var r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){var n=0,r=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function al(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function sl(e,t,n,r,o,a,s,u,l,c,A,f,h,p,d){var g=function(e,t,n,r,o,a,s,u){for(var l=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,c=[],A=0,f=t.positionedLines;A<f.length;A+=1)for(var h=f[A],p=0,d=h.positionedGlyphs;p<d.length;p+=1){var g=d[p];if(g.rect){var v=g.rect||{},y=4,m=!0,b=1,_=0,w=(o||u)&&g.vertical,x=g.metrics.advance*g.scale/2;if(u&&t.verticalizable&&(_=h.lineOffset/2-(g.imageName?-(24-g.metrics.width*g.scale)/2:24*(g.scale-1))),g.imageName){var C=s[g.imageName];m=C.sdf,y=1/(b=C.pixelRatio)}var B=o?[g.x+x,g.y]:[0,0],E=o?[0,0]:[g.x+x+n[0],g.y+n[1]-_],S=[0,0];w&&(S=E,E=[0,0]);var k=(g.metrics.left-y)*g.scale-x+E[0],O=(-g.metrics.top-y)*g.scale+E[1],T=k+v.w*g.scale/b,P=O+v.h*g.scale/b,M=new i(k,O),F=new i(T,O),I=new i(k,P),L=new i(T,P);if(w){var R=new i(-x,x- -17),D=-Math.PI/2,Z=12-x,U=new i(22-Z,-(g.imageName?Z:0)),j=new(Function.prototype.bind.apply(i,[null].concat(S)));M._rotateAround(D,R)._add(U)._add(j),F._rotateAround(D,R)._add(U)._add(j),I._rotateAround(D,R)._add(U)._add(j),L._rotateAround(D,R)._add(U)._add(j)}if(l){var N=Math.sin(l),z=Math.cos(l),Q=[z,-N,N,z];M._matMult(Q),F._matMult(Q),I._matMult(Q),L._matMult(Q)}var H=new i(0,0),V=new i(0,0);c.push({tl:M,tr:F,bl:I,br:L,tex:v,writingMode:t.writingMode,glyphOffset:B,sectionIndex:g.sectionIndex,isSDF:m,pixelOffsetTL:H,pixelOffsetBR:V,minFontScaleX:0,minFontScaleY:0})}}return c}(0,n,u,o,a,s,r,e.allowVerticalPlacement),v=e.textSizeData,y=null;"source"===v.kind?(y=[128*o.layout.get("text-size").evaluate(s,{})])[0]>32640&&x(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===v.kind&&((y=[128*p.compositeTextSizes[0].evaluate(s,{},d),128*p.compositeTextSizes[1].evaluate(s,{},d)])[0]>32640||y[1]>32640)&&x(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,g,y,u,a,s,c,t,l.lineStartIndex,l.lineLength,h,d);for(var m=0,b=A;m<b.length;m+=1)f[b[m]]=e.text.placedSymbolArray.length-1;return 4*g.length}function ul(e){for(var t in e)return e[t];return null}function ll(e,t,n,r){var i=e.compareText;if(t in i){for(var o=i[t],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[t]=[];return i[t].push(r),!1}var cl=bs.VectorTileFeature.types,Al=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function fl(e,t,n,r,i,o,a,s,u,l,c,A,f){var h=s?Math.min(32640,Math.round(s[0])):0,p=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),o,a,(h<<1)+(u?1:0),p,16*l,16*c,256*A,256*f)}function hl(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function pl(e){for(var t=0,n=e.sections;t<n.length;t+=1)if(Yr(n[t].text))return!0;return!1}var dl=function(e){this.layoutVertexArray=new Ii,this.indexArray=new Ni,this.programConfigurations=e,this.segments=new so,this.dynamicLayoutVertexArray=new Li,this.opacityVertexArray=new Ri,this.placedSymbolArray=new $i};dl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},dl.prototype.upload=function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ns.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,zs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Al,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))},dl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Zr("SymbolBuffers",dl);var gl=function(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new so,this.collisionVertexArray=new ji};gl.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Qs.members,!0)},gl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Zr("CollisionBuffers",gl);var vl=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sa([]),this.placementViewportMatrix=sa([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ru(this.zoom,t["text-size"]),this.iconSizeData=Ru(this.zoom,t["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(e){return _u[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};vl.prototype.createArrays=function(){this.text=new dl(new Lo(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new dl(new Lo(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new no,this.lineVertexArray=new ro,this.symbolInstances=new to},vl.prototype.calculateGlyphDependencies=function(e,t,n,r,i){for(var o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,(n||r)&&i){var a=Ws[e.charAt(o)];a&&(t[a.charCodeAt(0)]=!0)}},vl.prototype.populate=function(e,t,n){var r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),u=("constant"!==a.value.kind||a.value.value instanceof rt&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),l="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],u||l){for(var A=t.iconDependencies,f=t.glyphDependencies,h=t.availableImages,p=new si(this.zoom),d=0,g=e;d<g.length;d+=1){var v=g[d],y=v.feature,m=v.id,b=v.index,_=v.sourceLayerIndex,w=r._featureFilter.needGeometry,x=No(y,w);if(r._featureFilter.filter(p,x,n)){w||(x.geometry=jo(y));var C=void 0;if(u){var B=r.getValueAndResolveTokens("text-field",x,n,h),E=rt.factory(B);pl(E)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ii()||this.hasRTLText&&ai.isParsed())&&(C=Gs(E,r,x))}var S=void 0;if(l){var k=r.getValueAndResolveTokens("icon-image",x,n,h);S=k instanceof it?k:it.fromString(k)}if(C||S){var O=this.sortFeaturesByKey?c.evaluate(x,{},n):void 0;if(this.features.push({id:m,text:C,icon:S,index:b,sourceLayerIndex:_,geometry:x.geometry,properties:y.properties,type:cl[y.type],sortKey:O}),S&&(A[S.name]=!0),C){var T=o.evaluate(x,{},n).join(","),P="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(_u.vertical)>=0;for(var M=0,F=C.sections;M<F.length;M+=1){var I=F[M];if(I.image)A[I.image.name]=!0;else{var L=Gr(C.toString()),R=I.fontStack||T,D=f[R]=f[R]||{};this.calculateGlyphDependencies(I.text,D,P,this.allowVerticalPlacement,L)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],i=0;function o(t){r.push(e[t]),i++}function a(e,t,i){var o=n[e];return delete n[e],n[t]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(e,n,i){var o=t[n];return delete t[n],t[e]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function u(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}for(var l=0;l<e.length;l++){var c=e[l],A=c.geometry,f=c.text?c.text.toString():null;if(f){var h=u(f,A),p=u(f,A,!0);if(h in n&&p in t&&n[h]!==t[p]){var d=s(h,p,A),g=a(h,p,r[d].geometry);delete t[h],delete n[p],n[u(f,r[g].geometry,!0)]=g,r[d].geometry=null}else h in n?a(h,p,A):p in t?s(h,p,A):(o(l),t[h]=i-1,n[p]=i-1)}else o(l)}return r.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},vl.prototype.update=function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))},vl.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},vl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},vl.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},vl.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},vl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},vl.prototype.addToLineVertexArray=function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){for(var r=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),o={},a=e.segment+1;a<t.length;a++)o[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:r},a<t.length-1&&(r+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)o[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var u=0;u<t.length;u++){var l=o[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},vl.prototype.addSymbols=function(e,t,n,r,i,o,a,s,u,l,c,A){for(var f=e.indexArray,h=e.layoutVertexArray,p=e.segments.prepareSegment(4*t.length,h,f,this.canOverlap?o.sortKey:void 0),d=this.glyphOffsetArray.length,g=p.vertexLength,v=this.allowVerticalPlacement&&a===_u.vertical?Math.PI/2:0,y=o.text&&o.text.sections,m=0;m<t.length;m++){var b=t[m],_=b.tl,w=b.tr,x=b.bl,C=b.br,B=b.tex,E=b.pixelOffsetTL,S=b.pixelOffsetBR,k=b.minFontScaleX,O=b.minFontScaleY,T=b.glyphOffset,P=b.isSDF,M=b.sectionIndex,F=p.vertexLength,I=T[1];fl(h,s.x,s.y,_.x,I+_.y,B.x,B.y,n,P,E.x,E.y,k,O),fl(h,s.x,s.y,w.x,I+w.y,B.x+B.w,B.y,n,P,S.x,E.y,k,O),fl(h,s.x,s.y,x.x,I+x.y,B.x,B.y+B.h,n,P,E.x,S.y,k,O),fl(h,s.x,s.y,C.x,I+C.y,B.x+B.w,B.y+B.h,n,P,S.x,S.y,k,O),hl(e.dynamicLayoutVertexArray,s,v),f.emplaceBack(F,F+1,F+2),f.emplaceBack(F+1,F+2,F+3),p.vertexLength+=4,p.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(T[0]),m!==t.length-1&&M===t[m+1].sectionIndex||e.programConfigurations.populatePaintArrays(h.length,o,o.index,{},A,y&&y[M])}e.placedSymbolArray.emplaceBack(s.x,s.y,d,this.glyphOffsetArray.length-d,g,u,l,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,c)},vl.prototype._addCollisionDebugVertex=function(e,t,n,r,i,o){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},vl.prototype.addCollisionDebugVertices=function(e,t,n,r,o,a,s){var u=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),l=u.vertexLength,c=o.layoutVertexArray,A=o.collisionVertexArray,f=s.anchorX,h=s.anchorY;this._addCollisionDebugVertex(c,A,a,f,h,new i(e,t)),this._addCollisionDebugVertex(c,A,a,f,h,new i(n,t)),this._addCollisionDebugVertex(c,A,a,f,h,new i(n,r)),this._addCollisionDebugVertex(c,A,a,f,h,new i(e,r)),u.vertexLength+=4;var p=o.indexArray;p.emplaceBack(l,l+1),p.emplaceBack(l+1,l+2),p.emplaceBack(l+2,l+3),p.emplaceBack(l+3,l),u.primitiveLength+=4},vl.prototype.addDebugCollisionBoxes=function(e,t,n,r){for(var i=e;i<t;i++){var o=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,r?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n)}},vl.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new gl(Zi,Hs.members,Wi),this.iconCollisionBox=new gl(Zi,Hs.members,Wi);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},vl.prototype._deserializeCollisionBoxesForSymbol=function(e,t,n,r,i,o,a,s,u){for(var l={},c=t;c<n;c++){var A=e.get(c);l.textBox={x1:A.x1,y1:A.y1,x2:A.x2,y2:A.y2,anchorPointX:A.anchorPointX,anchorPointY:A.anchorPointY},l.textFeatureIndex=A.featureIndex;break}for(var f=r;f<i;f++){var h=e.get(f);l.verticalTextBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},l.verticalTextFeatureIndex=h.featureIndex;break}for(var p=o;p<a;p++){var d=e.get(p);l.iconBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},l.iconFeatureIndex=d.featureIndex;break}for(var g=s;g<u;g++){var v=e.get(g);l.verticalIconBox={x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,anchorPointX:v.anchorPointX,anchorPointY:v.anchorPointY},l.verticalIconFeatureIndex=v.featureIndex;break}return l},vl.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},vl.prototype.hasTextData=function(){return this.text.segments.get().length>0},vl.prototype.hasIconData=function(){return this.icon.segments.get().length>0},vl.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},vl.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},vl.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},vl.prototype.addIndicesForPlacedSymbol=function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},vl.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);r.push(0|Math.round(t*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(e,t){return r[e]-r[t]||i[t]-i[e]})),o},vl.prototype.addToSortKeyRanges=function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},vl.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Zr("SymbolBucket",vl,{omit:["layers","collisionBoxArray","features","compareText"]}),vl.MAX_GLYPHS=65535,vl.addDynamicAttributes=hl;var yl=new _i({"symbol-placement":new gi(Oe.layout_symbol["symbol-placement"]),"symbol-spacing":new gi(Oe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new gi(Oe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new vi(Oe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new gi(Oe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new gi(Oe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new gi(Oe.layout_symbol["icon-ignore-placement"]),"icon-optional":new gi(Oe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new gi(Oe.layout_symbol["icon-rotation-alignment"]),"icon-size":new vi(Oe.layout_symbol["icon-size"]),"icon-text-fit":new gi(Oe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new gi(Oe.layout_symbol["icon-text-fit-padding"]),"icon-image":new vi(Oe.layout_symbol["icon-image"]),"icon-rotate":new vi(Oe.layout_symbol["icon-rotate"]),"icon-padding":new gi(Oe.layout_symbol["icon-padding"]),"icon-keep-upright":new gi(Oe.layout_symbol["icon-keep-upright"]),"icon-offset":new vi(Oe.layout_symbol["icon-offset"]),"icon-anchor":new vi(Oe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new gi(Oe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new gi(Oe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new gi(Oe.layout_symbol["text-rotation-alignment"]),"text-field":new vi(Oe.layout_symbol["text-field"]),"text-font":new vi(Oe.layout_symbol["text-font"]),"text-size":new vi(Oe.layout_symbol["text-size"]),"text-max-width":new vi(Oe.layout_symbol["text-max-width"]),"text-line-height":new gi(Oe.layout_symbol["text-line-height"]),"text-letter-spacing":new vi(Oe.layout_symbol["text-letter-spacing"]),"text-justify":new vi(Oe.layout_symbol["text-justify"]),"text-radial-offset":new vi(Oe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new gi(Oe.layout_symbol["text-variable-anchor"]),"text-anchor":new vi(Oe.layout_symbol["text-anchor"]),"text-max-angle":new gi(Oe.layout_symbol["text-max-angle"]),"text-writing-mode":new gi(Oe.layout_symbol["text-writing-mode"]),"text-rotate":new vi(Oe.layout_symbol["text-rotate"]),"text-padding":new gi(Oe.layout_symbol["text-padding"]),"text-keep-upright":new gi(Oe.layout_symbol["text-keep-upright"]),"text-transform":new vi(Oe.layout_symbol["text-transform"]),"text-offset":new vi(Oe.layout_symbol["text-offset"]),"text-allow-overlap":new gi(Oe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new gi(Oe.layout_symbol["text-ignore-placement"]),"text-optional":new gi(Oe.layout_symbol["text-optional"])}),ml={paint:new _i({"icon-opacity":new vi(Oe.paint_symbol["icon-opacity"]),"icon-color":new vi(Oe.paint_symbol["icon-color"]),"icon-halo-color":new vi(Oe.paint_symbol["icon-halo-color"]),"icon-halo-width":new vi(Oe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new vi(Oe.paint_symbol["icon-halo-blur"]),"icon-translate":new gi(Oe.paint_symbol["icon-translate"]),"icon-translate-anchor":new gi(Oe.paint_symbol["icon-translate-anchor"]),"text-opacity":new vi(Oe.paint_symbol["text-opacity"]),"text-color":new vi(Oe.paint_symbol["text-color"],{runtimeType:Ne,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new vi(Oe.paint_symbol["text-halo-color"]),"text-halo-width":new vi(Oe.paint_symbol["text-halo-width"]),"text-halo-blur":new vi(Oe.paint_symbol["text-halo-blur"]),"text-translate":new gi(Oe.paint_symbol["text-translate"]),"text-translate-anchor":new gi(Oe.paint_symbol["text-translate-anchor"])}),layout:yl},bl=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:De,this.defaultValue=e};bl.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},bl.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},bl.prototype.outputDefined=function(){return!1},bl.prototype.serialize=function(){return null},Zr("FormatSectionOverride",bl,{omit:["defaultValue"]});var _l=function(e){function t(t){e.call(this,t,ml)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){if(e.prototype.recalculate.call(this,t,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],o=0,a=r;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,n,r){var i=this.layout.get(e).evaluate(t,{},n,r),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Gn(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,n){return n in e?String(e[n]):""}))}(t.properties,i)},t.prototype.createBucket=function(e){return new vl(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,n=ml.paint.overridableProperties;e<n.length;e+=1){var r=n[e];if(t.hasPaintOverride(this.layout,r)){var i,o=this.paint.get(r),a=new bl(o),s=new Vn(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new Kn("source",s):new qn("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[r]=new pi(o.property,i,o.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var n=e.get("text-field"),r=ml.paint.properties[t],i=!1,o=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r.overrides&&r.overrides.hasOverride(n[t]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof rt)o(n.value.value.sections);else if("source"===n.value.kind){var a=function e(t){i||(t instanceof lt&&st(t.value)===Ve?o(t.value.sections):t instanceof ht?o(t.sections):t.eachChild(e))},s=n.value;s._styleExpression&&a(s._styleExpression.expression)}return i},t}(wi),wl={paint:new _i({"background-color":new gi(Oe.paint_background["background-color"]),"background-pattern":new mi(Oe.paint_background["background-pattern"]),"background-opacity":new gi(Oe.paint_background["background-opacity"])})},xl=function(e){function t(t){e.call(this,t,wl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(wi),Cl={paint:new _i({"raster-opacity":new gi(Oe.paint_raster["raster-opacity"]),"raster-hue-rotate":new gi(Oe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new gi(Oe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new gi(Oe.paint_raster["raster-brightness-max"]),"raster-saturation":new gi(Oe.paint_raster["raster-saturation"]),"raster-contrast":new gi(Oe.paint_raster["raster-contrast"]),"raster-resampling":new gi(Oe.paint_raster["raster-resampling"]),"raster-fade-duration":new gi(Oe.paint_raster["raster-fade-duration"])})},Bl=function(e){function t(t){e.call(this,t,Cl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(wi),El=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(wi),Sl={circle:fa,heatmap:wa,hillshade:Ca,fill:cs,"fill-extrusion":Ss,line:Us,symbol:_l,background:xl,raster:Bl},kl=a.HTMLImageElement,Ol=a.HTMLCanvasElement,Tl=a.HTMLVideoElement,Pl=a.ImageData,Ml=a.ImageBitmap,Fl=function(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)};Fl.prototype.update=function(e,t,n){var r=e.width,i=e.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),o)this.size=[r,i],e instanceof kl||e instanceof Ol||e instanceof Tl||e instanceof Pl||Ml&&e instanceof Ml?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var u=n||{x:0,y:0},l=u.x,c=u.y;e instanceof kl||e instanceof Ol||e instanceof Tl||e instanceof Pl||Ml&&e instanceof Ml?s.texSubImage2D(s.TEXTURE_2D,0,l,c,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,l,c,r,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Fl.prototype.bind=function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)},Fl.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Fl.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Il=function(e){var t=this;this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};Il.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},Il.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Ll=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},v(["receive","process"],this),this.invoker=new Il(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=E()?e:a};function Rl(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}Ll.prototype.send=function(e,t,n,r,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=O(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:zr(t,s)},s),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:r,sourceMapId:o.mapId})}}},Ll.prototype.receive=function(e){var t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else E()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)},Ll.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Ll.prototype.processTask=function(e,t){var n=this;if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(Qr(t.error)):r(null,Qr(t.data)))}else{var i=!1,o=O(this.globalScope)?void 0:[],a=t.hasCallback?function(t,r){i=!0,delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:"<response>",sourceMapId:n.mapId,error:t?zr(t):null,data:zr(r,o)},o)}:function(e){i=!0},s=null,u=Qr(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,u,a);else if(this.parent.getWorkerSource){var l=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,l[0],u.source)[l[1]](u,a)}else a(new Error("Could not find function "+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},Ll.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Dl=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};Dl.prototype.setNorthEast=function(e){return this._ne=e instanceof Zl?new Zl(e.lng,e.lat):Zl.convert(e),this},Dl.prototype.setSouthWest=function(e){return this._sw=e instanceof Zl?new Zl(e.lng,e.lat):Zl.convert(e),this},Dl.prototype.extend=function(e){var t,n,r=this._sw,i=this._ne;if(e instanceof Zl)t=e,n=e;else{if(!(e instanceof Dl))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Dl.convert(e)):this.extend(Zl.convert(e)):this;if(n=e._ne,!(t=e._sw)||!n)return this}return r||i?(r.lng=Math.min(t.lng,r.lng),r.lat=Math.min(t.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Zl(t.lng,t.lat),this._ne=new Zl(n.lng,n.lat)),this},Dl.prototype.getCenter=function(){return new Zl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Dl.prototype.getSouthWest=function(){return this._sw},Dl.prototype.getNorthEast=function(){return this._ne},Dl.prototype.getNorthWest=function(){return new Zl(this.getWest(),this.getNorth())},Dl.prototype.getSouthEast=function(){return new Zl(this.getEast(),this.getSouth())},Dl.prototype.getWest=function(){return this._sw.lng},Dl.prototype.getSouth=function(){return this._sw.lat},Dl.prototype.getEast=function(){return this._ne.lng},Dl.prototype.getNorth=function(){return this._ne.lat},Dl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Dl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Dl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Dl.prototype.contains=function(e){var t=Zl.convert(e),n=t.lng,r=t.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},Dl.convert=function(e){return!e||e instanceof Dl?e:new Dl(e)};var Zl=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Zl.prototype.wrap=function(){return new Zl(A(this.lng,-180,180),this.lat)},Zl.prototype.toArray=function(){return[this.lng,this.lat]},Zl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Zl.prototype.distanceTo=function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(i,1))},Zl.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new Dl(new Zl(this.lng-n,this.lat-t),new Zl(this.lng+n,this.lat+t))},Zl.convert=function(e){if(e instanceof Zl)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Zl(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Zl(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Ul=2*Math.PI*6371008.8;function jl(e){return Ul*Math.cos(e*Math.PI/180)}function Nl(e){return(180+e)/360}function zl(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Ql(e,t){return e/jl(t)}function Hl(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var Vl=function(e,t,n){void 0===n&&(n=0),this.x=+e,this.y=+t,this.z=+n};Vl.fromLngLat=function(e,t){void 0===t&&(t=0);var n=Zl.convert(e);return new Vl(Nl(n.lng),zl(n.lat),Ql(t,n.lat))},Vl.prototype.toLngLat=function(){return new Zl(360*this.x-180,Hl(this.y))},Vl.prototype.toAltitude=function(){return this.z*jl(Hl(this.y))},Vl.prototype.meterInMercatorCoordinateUnits=function(){return 1/Ul*(e=Hl(this.y),1/Math.cos(e*Math.PI/180));var e};var Gl=function(e,t,n){this.z=e,this.x=t,this.y=n,this.key=ql(0,e,e,t,n)};Gl.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Gl.prototype.url=function(e,t){var n,r,i,o,a,s=(r=this.y,i=this.z,o=Rl(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=Rl(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),u=function(e,t,n){for(var r,i="",o=e;o>0;o--)i+=(t&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},Gl.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new i(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},Gl.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Wl=function(e,t){this.wrap=e,this.canonical=t,this.key=ql(e,t.z,t.z,t.x,t.y)},Kl=function(e,t,n,r,i){this.overscaledZ=e,this.wrap=t,this.canonical=new Gl(n,+r,+i),this.key=ql(t,e,n,r,i)};function ql(e,t,n,r,i){(e*=2)<0&&(e=-1*e-1);var o=1<<n;return(o*o*e+o*i+r).toString(36)+n.toString(36)+t.toString(36)}Kl.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},Kl.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new Kl(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Kl(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},Kl.prototype.calculateScaledKey=function(e,t){var n=this.canonical.z-e;return e>this.canonical.z?ql(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):ql(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)},Kl.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},Kl.prototype.children=function(e){if(this.overscaledZ>=e)return[new Kl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Kl(t,this.wrap,t,n,r),new Kl(t,this.wrap,t,n+1,r),new Kl(t,this.wrap,t,n,r+1),new Kl(t,this.wrap,t,n+1,r+1)]},Kl.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},Kl.prototype.wrapped=function(){return new Kl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Kl.prototype.unwrapTo=function(e){return new Kl(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},Kl.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Kl.prototype.toUnwrapped=function(){return new Wl(this.wrap,this.canonical)},Kl.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Kl.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new Vl(e.x-this.wrap,e.y))},Zr("CanonicalTileID",Gl),Zr("OverscaledTileID",Kl,{omit:["posMatrix"]});var Xl=function(e,t,n){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return x('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var r=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Xl.prototype.get=function(e,t){var n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Xl.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Xl.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Xl.prototype._unpackMapbox=function(e,t,n){return(256*e*256+256*t+n)/10-1e4},Xl.prototype._unpackTerrarium=function(e,t,n){return 256*e+t+n/256-32768},Xl.prototype.getPixels=function(){return new ma({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Xl.prototype.backfillBorder=function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,i=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-t*this.dim,u=-n*this.dim,l=o;l<a;l++)for(var c=r;c<i;c++)this.data[this._idx(c,l)]=e.data[this._idx(c+s,l+u)]},Zr("DEMData",Xl);var Yl=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}};Yl.prototype.encode=function(e){return this._stringToNumber[e]},Yl.prototype.decode=function(e){return this._numberToString[e]};var Jl=function(e,t,n,r,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=i},$l={geometry:{configurable:!0}};$l.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},$l.geometry.set=function(e){this._geometry=e},Jl.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Jl.prototype,$l);var ec=function(){this.state={},this.stateChanges={},this.deletedStates={}};ec.prototype.updateState=function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},f(this.stateChanges[e][r],n),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==r&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][r])for(var o in this.deletedStates[e][r]={},this.state[e][r])n[o]||(this.deletedStates[e][r][o]=null);else for(var a in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][a]&&delete this.deletedStates[e][r][a]},ec.prototype.removeFeatureState=function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}},ec.prototype.getState=function(e,t){var n=String(t),r=f({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var o in i)delete r[o]}return r},ec.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},ec.prototype.coalesceChanges=function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),f(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var u in this.state[a])s[u]={},this.state[a][u]={};else for(var l in this.deletedStates[a]){if(null===this.deletedStates[a][l])this.state[a][l]={};else for(var c=0,A=Object.keys(this.deletedStates[a][l]);c<A.length;c+=1)delete this.state[a][l][A[c]];s[l]=this.state[a][l]}n[a]=n[a]||{},f(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var h in e)e[h].setFeatureState(n,t)};var tc=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Fr(8192,16,0),this.grid3D=new Fr(8192,16,0),this.featureIndexArray=new oo,this.promoteId=t};function nc(e,t,n,r,i){return m(e,(function(e,o){var a=t instanceof di?t.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function rc(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=e;o<a.length;o+=1){var s=a[o];t=Math.min(t,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:t,minY:n,maxX:r,maxY:i}}function ic(e,t){return t-e}tc.prototype.insert=function(e,t,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=o?this.grid3D:this.grid,u=0;u<t.length;u++){for(var l=t[u],c=[1/0,1/0,-1/0,-1/0],A=0;A<l.length;A++){var f=l[A];c[0]=Math.min(c[0],f.x),c[1]=Math.min(c[1],f.y),c[2]=Math.max(c[2],f.x),c[3]=Math.max(c[3],f.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},tc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new bs.VectorTile(new Xs(this.rawTileData)).layers,this.sourceLayerCoder=new Yl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},tc.prototype.query=function(e,t,n,r){var o=this;this.loadVTLayers();for(var a=e.params||{},s=8192/e.tileSize/e.scale,u=ar(a.filter),l=e.queryGeometry,c=e.queryPadding*s,A=rc(l),f=this.grid.query(A.minX-c,A.minY-c,A.maxX+c,A.maxY+c),h=rc(e.cameraQueryGeometry),p=this.grid3D.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c,(function(t,n,r,o){return function(e,t,n,r,o){for(var a=0,s=e;a<s.length;a+=1){var u=s[a];if(t<=u.x&&n<=u.y&&r>=u.x&&o>=u.y)return!0}var l=[new i(t,n),new i(t,o),new i(r,o),new i(r,n)];if(e.length>2)for(var c=0,A=l;c<A.length;c+=1)if($o(e,A[c]))return!0;for(var f=0;f<e.length-1;f++)if(ea(e[f],e[f+1],l))return!0;return!1}(e.cameraQueryGeometry,t-c,n-c,r+c,o+c)})),d=0,g=p;d<g.length;d+=1)f.push(g[d]);f.sort(ic);for(var v,y={},m=function(i){var c=f[i];if(c!==v){v=c;var A=o.featureIndexArray.get(c),h=null;o.loadMatchingFeature(y,A.bucketIndex,A.sourceLayerIndex,A.featureIndex,u,a.layers,a.availableImages,t,n,r,(function(t,n,r){return h||(h=jo(t)),n.queryIntersectsFeature(l,t,r,h,o.z,e.transform,s,e.pixelPosMatrix)}))}},b=0;b<f.length;b++)m(b);return y},tc.prototype.loadMatchingFeature=function(e,t,n,r,i,o,a,s,u,l,c){var A=this.bucketLayerIDs[t];if(!o||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(o,A)){var h=this.sourceLayerCoder.decode(n),p=this.vtLayers[h].feature(r);if(i.needGeometry){var d=No(p,!0);if(!i.filter(new si(this.tileID.overscaledZ),d,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),p))return;for(var g=this.getId(p,h),v=0;v<A.length;v++){var y=A[v];if(!(o&&o.indexOf(y)<0)){var m=s[y];if(m){var b={};void 0!==g&&l&&(b=l.getState(m.sourceLayer||"_geojsonTileLayer",g));var _=f({},u[y]);_.paint=nc(_.paint,m.paint,p,b,a),_.layout=nc(_.layout,m.layout,p,b,a);var w=!c||c(p,m,b);if(w){var x=new Jl(p,this.z,this.x,this.y,g);x.layer=_;var C=e[y];void 0===C&&(C=e[y]=[]),C.push({featureIndex:r,feature:x,intersectionZ:w})}}}}}},tc.prototype.lookupSymbolFeatures=function(e,t,n,r,i,o,a,s){var u={};this.loadVTLayers();for(var l=ar(i),c=0,A=e;c<A.length;c+=1)this.loadMatchingFeature(u,n,r,A[c],l,o,a,s,t);return u},tc.prototype.hasLayer=function(e){for(var t=0,n=this.bucketLayerIDs;t<n.length;t+=1)for(var r=0,i=n[t];r<i.length;r+=1)if(e===i[r])return!0;return!1},tc.prototype.getId=function(e,t){var n=e.id;return this.promoteId&&"boolean"==typeof(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(n=Number(n)),n},Zr("FeatureIndex",tc,{omit:["rawTileData","sourceLayerCoder"]});var oc=function(e,t){this.tileID=e,this.uid=p(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};oc.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<Z.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},oc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},oc.prototype.loadVectorData=function(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;for(var r=function(){var e=o[i],r=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==r.length){e.layers=r,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return r.filter((function(t){return t.id===e}))[0]})));for(var a=0,s=r;a<s.length;a+=1)n[s[a].id]=e}},i=0,o=e;i<o.length;i+=1)r();return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof vl){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof vl&&a.hasRTLText){this.hasRTLText=!0,ai.isLoading()||ai.isLoaded()||"deferred"!==ii()||oi();break}}for(var s in this.queryPadding=0,this.buckets){var u=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(u))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new Yi},oc.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},oc.prototype.getBucket=function(e){return this.buckets[e.id]},oc.prototype.upload=function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Fl(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Fl(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},oc.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},oc.prototype.queryRenderedFeatures=function(e,t,n,r,i,o,a,s,u,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:l,transform:s,params:a,queryPadding:this.queryPadding*u},e,t,n):{}},oc.prototype.querySourceFeatures=function(e,t){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=t?t.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(o)for(var a=ar(t&&t.filter),s=this.tileID.canonical,u=s.z,l=s.x,c=s.y,A={z:u,x:l,y:c},f=0;f<o.length;f++){var h=o.feature(f);if(a.needGeometry){var p=No(h,!0);if(!a.filter(new si(this.tileID.overscaledZ),p,this.tileID.canonical))continue}else if(!a.filter(new si(this.tileID.overscaledZ),h))continue;var d=n.getId(h,i),g=new Jl(h,u,l,c,d);g.tile=A,e.push(g)}}},oc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},oc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},oc.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=S(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var o=this.expirationTime-t;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},oc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},oc.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(t.style.hasLayer(r)){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=e[o];if(a&&s&&0!==Object.keys(s).length){i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var u=t&&t.style&&t.style.getLayer(r);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(i)))}}}},oc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},oc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Z.now()},oc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},oc.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=Z.now()+e},oc.prototype.setDependencies=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[e]=n},oc.prototype.hasDependency=function(e,t){for(var n=0,r=e;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i)for(var o=0,a=t;o<a.length;o+=1)if(i[a[o]])return!0}return!1};var ac=a.performance,sc=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},ac.mark(this._marks.start)};sc.prototype.finish=function(){ac.mark(this._marks.end);var e=ac.getEntriesByName(this._marks.measure);return 0===e.length&&(ac.measure(this._marks.measure,this._marks.start,this._marks.end),e=ac.getEntriesByName(this._marks.measure),ac.clearMarks(this._marks.start),ac.clearMarks(this._marks.end),ac.clearMeasures(this._marks.measure)),e},e.Actor=Ll,e.AlphaImage=ya,e.CanonicalTileID=Gl,e.CollisionBoxArray=Yi,e.Color=et,e.DEMData=Xl,e.DataConstantProperty=gi,e.DictionaryCoder=Yl,e.EXTENT=8192,e.ErrorEvent=Se,e.EvaluationParameters=si,e.Event=Ee,e.Evented=ke,e.FeatureIndex=tc,e.FillBucket=ss,e.FillExtrusionBucket=Cs,e.ImageAtlas=bu,e.ImagePosition=yu,e.LineBucket=Ls,e.LngLat=Zl,e.LngLatBounds=Dl,e.MercatorCoordinate=Vl,e.ONE_EM=24,e.OverscaledTileID=Kl,e.Point=i,e.Point$1=i,e.Properties=_i,e.Protobuf=Xs,e.RGBAImage=ma,e.RequestManager=V,e.RequestPerformance=sc,e.ResourceType=pe,e.SegmentVector=so,e.SourceFeatureState=ec,e.StructArrayLayout1ui2=Ki,e.StructArrayLayout2f1f2i16=Ui,e.StructArrayLayout2i4=ki,e.StructArrayLayout3ui6=Ni,e.StructArrayLayout4i8=Oi,e.SymbolBucket=vl,e.Texture=Fl,e.Tile=oc,e.Transitionable=ci,e.Uniform1f=_o,e.Uniform1i=bo,e.Uniform2f=wo,e.Uniform3f=xo,e.Uniform4f=Co,e.UniformColor=Bo,e.UniformMatrix4f=So,e.UnwrappedTileID=Wl,e.ValidationError=Te,e.WritingMode=_u,e.ZoomHistory=Hr,e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},e.addDynamicAttributes=hl,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),o=null;e.forEach((function(e,a){t(e,(function(e,t){e&&(o=e),i[a]=t,0==--r&&n(o,i)}))}))},e.bezier=u,e.bindAll=v,e.browser=Z,e.cacheEntryPossiblyAdded=function(e){++fe>ue&&(e.getActor().send("enforceCacheSizeLimit",se),fe=0)},e.clamp=c,e.clearTileCache=function(e){var t=a.caches.delete("mapbox-tiles");e&&t.catch(e).then((function(){return e()}))},e.clipLine=Gu,e.clone=function(e){var t=new aa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=_,e.clone$2=function(e){var t=new aa(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=Vs,e.config=U,e.create=function(){var e=new aa(16);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new aa(9);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new aa(4);return aa!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=Wn,e.createLayout=Ei,e.createStyleLayer=function(e){return"custom"===e.type?new El(e):new Sl[e.type](e)},e.cross=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e},e.deepEqual=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!e(t[i],n[i]))return!1;return!0}return t===n},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=l,e.emitValidationErrors=Mr,e.endsWith=y,e.enforceCacheSizeLimit=function(e){le(),ee&&ee.then((function(t){t.keys().then((function(n){for(var r=0;r<n.length-e;r++)t.delete(n[r])}))}))},e.evaluateSizeForFeature=Du,e.evaluateSizeForZoom=Zu,e.evaluateVariableOffset=ol,e.evented=ri,e.extend=f,e.featureFilter=ar,e.filterObject=b,e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Mu,e.getAnchorJustification=al,e.getArrayBuffer=be,e.getImage=xe,e.getJSON=function(e,t){return me(f(e,{type:"json"}),t)},e.getRTLTextPluginStatus=ii,e.getReferrer=ye,e.getVideo=function(e,t){var n,r,i=a.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(var o=0;o<e.length;o++){var s=a.document.createElement("source");n=e[o],r=void 0,(r=a.document.createElement("a")).href=n,(r.protocol!==a.document.location.protocol||r.host!==a.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=e[o],i.appendChild(s)}return{cancel:function(){}}},e.identity=sa,e.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],A=t[9],f=t[10],h=t[11],p=t[12],d=t[13],g=t[14],v=t[15],y=n*s-r*a,m=n*u-i*a,b=n*l-o*a,_=r*u-i*s,w=r*l-o*s,x=i*l-o*u,C=c*d-A*p,B=c*g-f*p,E=c*v-h*p,S=A*g-f*d,k=A*v-h*d,O=f*v-h*g,T=y*O-m*k+b*S+_*E-w*B+x*C;return T?(e[0]=(s*O-u*k+l*S)*(T=1/T),e[1]=(i*k-r*O-o*S)*T,e[2]=(d*x-g*w+v*_)*T,e[3]=(f*w-A*x-h*_)*T,e[4]=(u*E-a*O-l*B)*T,e[5]=(n*O-i*E+o*B)*T,e[6]=(g*b-p*x-v*m)*T,e[7]=(c*x-f*b+h*m)*T,e[8]=(a*k-s*E+l*C)*T,e[9]=(r*E-n*k-o*C)*T,e[10]=(p*w-d*b+v*y)*T,e[11]=(A*b-c*w-h*y)*T,e[12]=(s*B-a*S-u*C)*T,e[13]=(n*S-r*B+i*C)*T,e[14]=(d*m-p*_-g*y)*T,e[15]=(c*_-A*m+f*y)*T,e):null},e.isChar=Vr,e.isMapboxURL=G,e.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},e.makeRequest=me,e.mapObject=m,e.mercatorXfromLng=Nl,e.mercatorYfromLat=zl,e.mercatorZfromAltitude=Ql,e.mul=ca,e.multiply=ua,e.mvt=bs,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},e.number=Ht,e.offscreenCanvasSupported=he,e.ortho=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e},e.parseGlyphPBF=function(e){return new Xs(e).readFields(pu,[])},e.pbf=Xs,e.performSymbolLayout=function(e,t,n,r,i,o,a){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,u=e.layers[0]._unevaluatedLayout._values,l={};if("composite"===e.textSizeData.kind){var c=e.textSizeData,A=c.maxZoom;l.compositeTextSizes=[u["text-size"].possiblyEvaluate(new si(c.minZoom),a),u["text-size"].possiblyEvaluate(new si(A),a)]}if("composite"===e.iconSizeData.kind){var f=e.iconSizeData,h=f.maxZoom;l.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new si(f.minZoom),a),u["icon-size"].possiblyEvaluate(new si(h),a)]}l.layoutTextSize=u["text-size"].possiblyEvaluate(new si(e.zoom+1),a),l.layoutIconSize=u["icon-size"].possiblyEvaluate(new si(e.zoom+1),a),l.textMaxSize=u["text-size"].possiblyEvaluate(new si(18));for(var p=24*s.get("text-line-height"),d="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),g=s.get("text-keep-upright"),v=s.get("text-size"),y=function(){var o=b[m],u=s.get("text-font").evaluate(o,{},a).join(","),c=v.evaluate(o,{},a),A=l.layoutTextSize.evaluate(o,{},a),f=l.layoutIconSize.evaluate(o,{},a),h={horizontal:{},vertical:void 0},y=o.text,_=[0,0];if(y){var w=y.toString(),C=24*s.get("text-letter-spacing").evaluate(o,{},a),B=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r=n[t].charCodeAt(0),Vr.Arabic(r)||Vr["Arabic Supplement"](r)||Vr["Arabic Extended-A"](r)||Vr["Arabic Presentation Forms-A"](r)||Vr["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(w)?C:0,E=s.get("text-anchor").evaluate(o,{},a),S=s.get("text-variable-anchor");if(!S){var k=s.get("text-radial-offset").evaluate(o,{},a);_=k?ol(E,[24*k,il]):s.get("text-offset").evaluate(o,{},a).map((function(e){return 24*e}))}var O=d?"center":s.get("text-justify").evaluate(o,{},a),T=s.get("symbol-placement"),P="point"===T?24*s.get("text-max-width").evaluate(o,{},a):0,M=function(){e.allowVerticalPlacement&&Gr(w)&&(h.vertical=Cu(y,t,n,i,u,P,p,E,"left",B,_,_u.vertical,!0,T,A,c))};if(!d&&S){for(var F="auto"===O?S.map((function(e){return al(e)})):[O],I=!1,L=0;L<F.length;L++){var R=F[L];if(!h.horizontal[R])if(I)h.horizontal[R]=h.horizontal[0];else{var D=Cu(y,t,n,i,u,P,p,"center",R,B,_,_u.horizontal,!1,T,A,c);D&&(h.horizontal[R]=D,I=1===D.positionedLines.length)}}M()}else{"auto"===O&&(O=al(E));var Z=Cu(y,t,n,i,u,P,p,E,O,B,_,_u.horizontal,!1,T,A,c);Z&&(h.horizontal[O]=Z),M(),Gr(w)&&d&&g&&(h.vertical=Cu(y,t,n,i,u,P,p,E,O,B,_,_u.vertical,!1,T,A,c))}}var U=void 0,j=!1;if(o.icon&&o.icon.name){var N=r[o.icon.name];N&&(U=function(e,t,n){var r=Mu(n),i=t[0]-e.displaySize[0]*r.horizontalAlign,o=t[1]-e.displaySize[1]*r.verticalAlign;return{image:e,top:o,bottom:o+e.displaySize[1],left:i,right:i+e.displaySize[0]}}(i[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),j=N.sdf,void 0===e.sdfIcons?e.sdfIcons=N.sdf:e.sdfIcons!==N.sdf&&x("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(N.pixelRatio!==e.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var z=ul(h.horizontal)||h.vertical;e.iconsInText=!!z&&z.iconsInText,(z||U)&&function(e,t,n,r,i,o,a,s,u,l,c){var A=o.textMaxSize.evaluate(t,{});void 0===A&&(A=a);var f,h=e.layers[0].layout,p=h.get("icon-offset").evaluate(t,{},c),d=ul(n.horizontal),g=a/24,v=e.tilePixelRatio*g,y=e.tilePixelRatio*A/24,m=e.tilePixelRatio*s,b=e.tilePixelRatio*h.get("symbol-spacing"),_=h.get("text-padding")*e.tilePixelRatio,w=h.get("icon-padding")*e.tilePixelRatio,C=h.get("text-max-angle")/180*Math.PI,B="map"===h.get("text-rotation-alignment")&&"point"!==h.get("symbol-placement"),E="map"===h.get("icon-rotation-alignment")&&"point"!==h.get("symbol-placement"),S=h.get("symbol-placement"),k=b/2,O=h.get("icon-text-fit");r&&"none"!==O&&(e.allowVerticalPlacement&&n.vertical&&(f=Iu(r,n.vertical,O,h.get("icon-text-fit-padding"),p,g)),d&&(r=Iu(r,d,O,h.get("icon-text-fit-padding"),p,g)));var T=function(s,A){A.x<0||A.x>=8192||A.y<0||A.y>=8192||function(e,t,n,r,i,o,a,s,u,l,c,A,f,h,p,d,g,v,y,m,b,_,w,C,B){var E,S,k,O,T,P=e.addToLineVertexArray(t,n),M=0,F=0,I=0,L=0,R=-1,D=-1,Z={},U=fo(""),j=0,N=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(j=(E=s.layout.get("text-offset").evaluate(b,{},C).map((function(e){return 24*e})))[0],N=E[1]):(j=24*s.layout.get("text-radial-offset").evaluate(b,{},C),N=il),e.allowVerticalPlacement&&r.vertical){var z=s.layout.get("text-rotate").evaluate(b,{},C)+90;O=new Ju(u,t,l,c,A,r.vertical,f,h,p,z),a&&(T=new Ju(u,t,l,c,A,a,g,v,p,z))}if(i){var Q=s.layout.get("icon-rotate").evaluate(b,{}),H="none"!==s.layout.get("icon-text-fit"),V=Wu(i,Q,w,H),G=a?Wu(a,Q,w,H):void 0;k=new Ju(u,t,l,c,A,i,g,v,!1,Q),M=4*V.length;var W=e.iconSizeData,K=null;"source"===W.kind?(K=[128*s.layout.get("icon-size").evaluate(b,{})])[0]>32640&&x(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===W.kind&&((K=[128*_.compositeIconSizes[0].evaluate(b,{},C),128*_.compositeIconSizes[1].evaluate(b,{},C)])[0]>32640||K[1]>32640)&&x(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),e.addSymbols(e.icon,V,K,m,y,b,!1,t,P.lineStartIndex,P.lineLength,-1,C),R=e.icon.placedSymbolArray.length-1,G&&(F=4*G.length,e.addSymbols(e.icon,G,K,m,y,b,_u.vertical,t,P.lineStartIndex,P.lineLength,-1,C),D=e.icon.placedSymbolArray.length-1)}for(var q in r.horizontal){var X=r.horizontal[q];if(!S){U=fo(X.text);var Y=s.layout.get("text-rotate").evaluate(b,{},C);S=new Ju(u,t,l,c,A,X,f,h,p,Y)}var J=1===X.positionedLines.length;if(I+=sl(e,t,X,o,s,p,b,d,P,r.vertical?_u.horizontal:_u.horizontalOnly,J?Object.keys(r.horizontal):[q],Z,R,_,C),J)break}r.vertical&&(L+=sl(e,t,r.vertical,o,s,p,b,d,P,_u.vertical,["vertical"],Z,D,_,C));var $=S?S.boxStartIndex:e.collisionBoxArray.length,ee=S?S.boxEndIndex:e.collisionBoxArray.length,te=O?O.boxStartIndex:e.collisionBoxArray.length,ne=O?O.boxEndIndex:e.collisionBoxArray.length,re=k?k.boxStartIndex:e.collisionBoxArray.length,ie=k?k.boxEndIndex:e.collisionBoxArray.length,oe=T?T.boxStartIndex:e.collisionBoxArray.length,ae=T?T.boxEndIndex:e.collisionBoxArray.length,se=-1,ue=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};se=ue(S,se),se=ue(O,se),se=ue(k,se);var le=(se=ue(T,se))>-1?1:0;le&&(se*=B/24),e.glyphOffsetArray.length>=vl.MAX_GLYPHS&&x("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==b.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,b.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,Z.right>=0?Z.right:-1,Z.center>=0?Z.center:-1,Z.left>=0?Z.left:-1,Z.vertical||-1,R,D,U,$,ee,te,ne,re,ie,oe,ae,l,I,L,M,F,le,0,f,j,N,se)}(e,A,s,n,r,i,f,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,v,_,B,u,m,w,E,p,t,o,l,c,a)};if("line"===S)for(var P=0,M=Gu(t.geometry,0,0,8192,8192);P<M.length;P+=1)for(var F=M[P],I=0,L=Vu(F,b,C,n.vertical||d,r,24,y,e.overscaling,8192);I<L.length;I+=1){var R=L[I];d&&ll(e,d.text,k,R)||T(F,R)}else if("line-center"===S)for(var D=0,Z=t.geometry;D<Z.length;D+=1){var U=Z[D];if(U.length>1){var j=Hu(U,C,n.vertical||d,r,24,y);j&&T(U,j)}}else if("Polygon"===t.type)for(var N=0,z=rs(t.geometry,0);N<z.length;N+=1){var Q=z[N],H=tl(Q,16);T(Q[0],new Lu(H.x,H.y,0))}else if("LineString"===t.type)for(var V=0,G=t.geometry;V<G.length;V+=1){var W=G[V];T(W,new Lu(W[0].x,W[0].y,0))}else if("Point"===t.type)for(var K=0,q=t.geometry;K<q.length;K+=1)for(var X=0,Y=q[K];X<Y.length;X+=1){var J=Y[X];T([J],new Lu(J.x,J.y,0))}}(e,o,h,U,r,l,A,f,_,j,a)},m=0,b=e.features;m<b.length;m+=1)y();o&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(o=1/(r-i)),e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=ai,e.polygonIntersectsPolygon=Ho,e.postMapLoadEvent=ae,e.postTurnstileEvent=ie,e.potpack=vu,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=Zr,e.registerForPluginStateChange=function(e){return e({pluginStatus:$r,pluginURL:ei}),ri.on("pluginStateChange",e),e},e.renderColorRamp=_a,e.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=i*u+a*s,e[2]=r*-s+o*u,e[3]=i*-s+a*u,e},e.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],A=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+A*r,e[7]=u*i+f*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=A*i-s*r,e[11]=f*i-u*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],A=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*r,e[1]=a*i+c*r,e[2]=s*i+A*r,e[3]=u*i+f*r,e[4]=l*i-o*r,e[5]=c*i-a*r,e[6]=A*i-s*r,e[7]=f*i-u*r,e},e.scale=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},e.scale$2=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},e.setCacheLimits=function(e,t){se=e,ue=t},e.setRTLTextPlugin=function(e,t,n){if(void 0===n&&(n=!1),"deferred"===$r||"loading"===$r||"loaded"===$r)throw new Error("setRTLTextPlugin cannot be called multiple times.");ei=Z.resolveURL(e),$r="deferred",Jr=t,ni(),n||oi()},e.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(r),y:t*Math.sin(n)*Math.sin(r),z:t*Math.cos(r)}},e.sqrLen=function(e){var t=e[0],n=e[1];return t*t+n*n},e.styleSpec=Oe,e.sub=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},e.symbolSize=Uu,e.transformMat3=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e},e.transformMat4=Aa,e.translate=function(e,t,n){var r,i,o,a,s,u,l,c,A,f,h,p,d=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*d+t[4]*g+t[8]*v+t[12],e[13]=t[1]*d+t[5]*g+t[9]*v+t[13],e[14]=t[2]*d+t[6]*g+t[10]*v+t[14],e[15]=t[3]*d+t[7]*g+t[11]*v+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],A=t[8],f=t[9],h=t[10],p=t[11],e[0]=r=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=A,e[9]=f,e[10]=h,e[11]=p,e[12]=r*d+s*g+A*v+t[12],e[13]=i*d+u*g+f*v+t[13],e[14]=o*d+l*g+h*v+t[14],e[15]=a*d+c*g+p*v+t[15]),e},e.triggerPluginCompletionEvent=ti,e.uniqueId=p,e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers."+n+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+n+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=Or,e.validateStyle=kr,e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.vectorTile=bs,e.version="1.13.2",e.warnOnce=x,e.webpSupported=j,e.window=a,e.wrap=A})),r(["./shared"],(function(e){function t(e){var n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var r="[",i=0,o=e;i<o.length;i+=1)r+=t(o[i])+",";return r+"]"}for(var a=Object.keys(e).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+t(e[a[u]])+",";return s+"}"}function n(n){for(var r="",i=0,o=e.refProperties;i<o.length;i+=1)r+="/"+t(n[o[i]]);return r}var r=function(e){this.keyCache={},e&&this.replace(e)};r.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},r.prototype.update=function(t,r){for(var i=this,o=0,a=t;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=e.createStyleLayer(s);u._featureFilter=e.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var l=0,c=r;l<c.length;l+=1){var A=c[l];delete this.keyCache[A],delete this._layerConfigs[A],delete this._layers[A]}this.familiesBySource={};for(var f=0,h=function(e,t){for(var r={},i=0;i<e.length;i++){var o=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=o);var a=r[o];a||(a=r[o]=[]),a.push(e[i])}var s=[];for(var u in r)s.push(r[u]);return s}(e.values(this._layerConfigs),this.keyCache);f<h.length;f+=1){var p=h[f].map((function(e){return i._layers[e.id]})),d=p[0];if("none"!==d.visibility){var g=d.source||"",v=this.familiesBySource[g];v||(v=this.familiesBySource[g]={});var y=d.sourceLayer||"_geojsonTileLayer",m=v[y];m||(m=v[y]=[]),m.push(p)}}};var i=function(t){var n={},r=[];for(var i in t){var o=t[i],a=n[i]={};for(var s in o){var u=o[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var l={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};r.push(l),a[s]={rect:l,metrics:u.metrics}}}}var c=e.potpack(r),A=new e.AlphaImage({width:c.w||1,height:c.h||1});for(var f in t){var h=t[f];for(var p in h){var d=h[+p];if(d&&0!==d.bitmap.width&&0!==d.bitmap.height){var g=n[f][p].rect;e.AlphaImage.copy(d.bitmap,A,{x:0,y:0},{x:g.x+1,y:g.y+1},d.bitmap)}}}this.image=A,this.positions=n};e.register("GlyphAtlas",i);var o=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId};function a(t,n,r){for(var i=new e.EvaluationParameters(n),o=0,a=t;o<a.length;o+=1)a[o].recalculate(i,r)}function s(t,n){var r=e.getArrayBuffer(t.request,(function(t,r,i,o){t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:i,expires:o})}));return function(){r.cancel(),n()}}o.prototype.parse=function(t,n,r,o,s){var u=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var l=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var A,f,h,p,d={},g={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},v=n.familiesBySource[this.source];for(var y in v){var m=t.layers[y];if(m){1===m.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+y+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=l.encode(y),_=[],w=0;w<m.length;w++){var x=m.feature(w),C=c.getId(x,y);_.push({feature:x,id:C,index:w,sourceLayerIndex:b})}for(var B=0,E=v[y];B<E.length;B+=1){var S=E[B],k=S[0];k.minzoom&&this.zoom<Math.floor(k.minzoom)||k.maxzoom&&this.zoom>=k.maxzoom||"none"!==k.visibility&&(a(S,this.zoom,r),(d[k.id]=k.createBucket({index:c.bucketLayerIDs.length,layers:S,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(_,g,this.tileID.canonical),c.bucketLayerIDs.push(S.map((function(e){return e.id}))))}}}var O=e.mapObject(g.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(O).length?o.send("getGlyphs",{uid:this.uid,stacks:O},(function(e,t){A||(A=e,f=t,M.call(u))})):f={};var T=Object.keys(g.iconDependencies);T.length?o.send("getImages",{icons:T,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){A||(A=e,h=t,M.call(u))})):h={};var P=Object.keys(g.patternDependencies);function M(){if(A)return s(A);if(f&&h&&p){var t=new i(f),n=new e.ImageAtlas(h,p);for(var o in d){var u=d[o];u instanceof e.SymbolBucket?(a(u.layers,this.zoom,r),e.performSymbolLayout(u,f,t.positions,h,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):u.hasPattern&&(u instanceof e.LineBucket||u instanceof e.FillBucket||u instanceof e.FillExtrusionBucket)&&(a(u.layers,this.zoom,r),u.addFeatures(g,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:e.values(d).filter((function(e){return!e.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?f:null,iconMap:this.returnDependencies?h:null,glyphPositions:this.returnDependencies?t.positions:null})}}P.length?o.send("getImages",{icons:P,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){A||(A=e,p=t,M.call(u))})):p={},M.call(this)};var u=function(e,t,n,r){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}};u.prototype.loadTile=function(t,n){var r=this,i=t.uid;this.loading||(this.loading={});var a=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),s=this.loading[i]=new o(t);s.abort=this.loadVectorData(t,(function(t,o){if(delete r.loading[i],t||!o)return s.status="done",r.loaded[i]=s,n(t);var u=o.rawData,l={};o.expires&&(l.expires=o.expires),o.cacheControl&&(l.cacheControl=o.cacheControl);var c={};if(a){var A=a.finish();A&&(c.resourceTiming=JSON.parse(JSON.stringify(A)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(t,r){if(t||!r)return n(t);n(null,e.extend({rawTileData:u.slice(0)},r,l,c))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},u.prototype.reloadTile=function(e,t){var n=this,r=this.loaded,i=e.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),t(e,r)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},u.prototype.abortTile=function(e,t){var n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()},u.prototype.removeTile=function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()};var l=e.window.ImageBitmap,c=function(){this.loaded={}};function A(e,t){if(0!==e.length){f(e[0],t);for(var n=1;n<e.length;n++)f(e[n],!t)}}function f(e,t){for(var n=0,r=0,i=e.length,o=i-1;r<i;o=r++)n+=(e[r][0]-e[o][0])*(e[o][1]+e[r][1]);n>=0!=!!t&&e.reverse()}c.prototype.loadTile=function(t,n){var r=t.uid,i=t.encoding,o=t.rawImageData,a=l&&o instanceof l?this.getImageData(o):o,s=new e.DEMData(r,a,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)},c.prototype.getImageData=function(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)},c.prototype.removeTile=function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]};var h=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,p=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};p.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];t.push([new e.Point$1(i[0],i[1])])}return t}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],l=0,c=s[a];l<c.length;l+=1){var A=c[l];u.push(new e.Point$1(A[0],A[1]))}o.push(u)}return o},p.prototype.toGeoJSON=function(e,t,n){return h.call(this,e,t,n)};var d=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};d.prototype.feature=function(e){return new p(this._features[e])};var g=e.vectorTile.VectorTileFeature,v=y;function y(e,t){this.options=t||{},this.features=e,this.length=e.length}function m(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}y.prototype.feature=function(e){return new m(this.features[e],this.options.extent)},m.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var r=t[n],i=[],o=0;o<r.length;o++)i.push(new e.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},m.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var u=a[s];t=Math.min(t,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[t,r,n,i]},m.prototype.toGeoJSON=g.prototype.toGeoJSON;var b=w,_=v;function w(t){var n=new e.pbf;return function(e,t){for(var n in e.layers)t.writeMessage(3,x,e.layers[n])}(t,n),n.finish()}function x(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,C,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)t.writeMessage(4,O,o[n])}function C(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,B,e),t.writeVarintField(3,n.type),t.writeMessage(4,k,n)}function B(e,t){var n=e.feature,r=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(r.push(s),o[s]=u=r.length-1),t.writeVarint(u);var l=n.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var A=c+":"+l,f=a[A];void 0===f&&(i.push(l),a[A]=f=i.length-1),t.writeVarint(f)}}function E(e,t){return(t<<3)+(7&e)}function S(e){return e<<1^e>>31}function k(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,o=0,a=n.length,s=0;s<a;s++){var u=n[s],l=1;1===r&&(l=u.length),t.writeVarint(E(1,l));for(var c=3===r?u.length-1:u.length,A=0;A<c;A++){1===A&&1!==r&&t.writeVarint(E(2,c-1));var f=u[A].x-i,h=u[A].y-o;t.writeVarint(S(f)),t.writeVarint(S(h)),i+=f,o+=h}3===r&&t.writeVarint(E(7,1))}}function O(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function T(e,t,n,r){P(e,n,r),P(t,2*n,2*r),P(t,2*n+1,2*r+1)}function P(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function M(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}b.fromVectorTileJs=w,b.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new v(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return w({layers:n})},b.GeoJSONWrapper=_;var F=function(e){return e[0]},I=function(e){return e[1]},L=function(e,t,n,r,i){void 0===t&&(t=F),void 0===n&&(n=I),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=e;for(var o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new i(2*e.length),u=0;u<e.length;u++)a[u]=u,s[2*u]=t(e[u]),s[2*u+1]=n(e[u]);!function e(t,n,r,i,o,a){if(!(o-i<=r)){var s=i+o>>1;!function e(t,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),A=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);e(t,n,r,Math.max(i,Math.floor(r-u*c/s+A)),Math.min(o,Math.floor(r+(s-u)*c/s+A)),a)}var f=n[2*r+a],h=i,p=o;for(T(t,n,i,r),n[2*o+a]>f&&T(t,n,i,o);h<p;){for(T(t,n,h,p),h++,p--;n[2*h+a]<f;)h++;for(;n[2*p+a]>f;)p--}n[2*i+a]===f?T(t,n,i,p):T(t,n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}(t,n,s,i,o,a%2),e(t,n,r,i,s-1,a+1),e(t,n,r,s+1,o,a+1)}}(a,s,r,0,a.length-1,0)};L.prototype.range=function(e,t,n,r){return function(e,t,n,r,i,o,a){for(var s,u,l=[0,e.length-1,0],c=[];l.length;){var A=l.pop(),f=l.pop(),h=l.pop();if(f-h<=a)for(var p=h;p<=f;p++)u=t[2*p+1],(s=t[2*p])>=n&&s<=i&&u>=r&&u<=o&&c.push(e[p]);else{var d=Math.floor((h+f)/2);u=t[2*d+1],(s=t[2*d])>=n&&s<=i&&u>=r&&u<=o&&c.push(e[d]);var g=(A+1)%2;(0===A?n<=s:r<=u)&&(l.push(h),l.push(d-1),l.push(g)),(0===A?i>=s:o>=u)&&(l.push(d+1),l.push(f),l.push(g))}}return c}(this.ids,this.coords,e,t,n,r,this.nodeSize)},L.prototype.within=function(e,t,n){return function(e,t,n,r,i,o){for(var a=[0,e.length-1,0],s=[],u=i*i;a.length;){var l=a.pop(),c=a.pop(),A=a.pop();if(c-A<=o)for(var f=A;f<=c;f++)M(t[2*f],t[2*f+1],n,r)<=u&&s.push(e[f]);else{var h=Math.floor((A+c)/2),p=t[2*h],d=t[2*h+1];M(p,d,n,r)<=u&&s.push(e[h]);var g=(l+1)%2;(0===l?n-i<=p:r-i<=d)&&(a.push(A),a.push(h-1),a.push(g)),(0===l?n+i>=p:r+i>=d)&&(a.push(h+1),a.push(c),a.push(g))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)};var R={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},D=function(e){this.options=H(Object.create(R),e),this.trees=new Array(this.options.maxZoom+1)};function Z(e,t,n,r,i){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function U(e,t){var n=e.geometry.coordinates,r=n[1];return{x:z(n[0]),y:Q(r),zoom:1/0,index:t,parentId:-1}}function j(e){return{type:"Feature",id:e.id,properties:N(e),geometry:{type:"Point",coordinates:[(r=e.x,360*(r-.5)),(t=e.y,n=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var t,n,r}function N(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return H(H({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function z(e){return e/360+.5}function Q(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function H(e,t){for(var n in t)e[n]=t[n];return e}function V(e){return e.x}function G(e){return e.y}function W(e,t,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((e-n)*a+(t-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return(a=e-n)*a+(s=t-r)*s}function K(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)q(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)q(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)q(e,t[r][i])}(i),i}function q(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function X(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],u=t.id;if(n.promoteId?u=t.properties[n.promoteId]:n.generateId&&(u=r||0),"Point"===o)Y(i,s);else if("MultiPoint"===o)for(var l=0;l<i.length;l++)Y(i[l],s);else if("LineString"===o)J(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(l=0;l<i.length;l++)J(i[l],s=[],a,!1),e.push(K(u,"LineString",s,t.properties));return}$(i,s,a,!1)}else if("Polygon"===o)$(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(l=0;l<t.geometry.geometries.length;l++)X(e,{id:u,geometry:t.geometry.geometries[l],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<i.length;l++){var c=[];$(i[l],c,a,!0),s.push(c)}}e.push(K(u,o,s,t.properties))}}function Y(e,t){t.push(ee(e[0])),t.push(te(e[1])),t.push(0)}function J(e,t,n,r){for(var i,o,a=0,s=0;s<e.length;s++){var u=ee(e[s][0]),l=te(e[s][1]);t.push(u),t.push(l),t.push(0),s>0&&(a+=r?(i*l-u*o)/2:Math.sqrt(Math.pow(u-i,2)+Math.pow(l-o,2))),i=u,o=l}var c=t.length-3;t[2]=1,function e(t,n,r,i){for(var o,a=i,s=r-n>>1,u=r-n,l=t[n],c=t[n+1],A=t[r],f=t[r+1],h=n+3;h<r;h+=3){var p=W(t[h],t[h+1],l,c,A,f);if(p>a)o=h,a=p;else if(p===a){var d=Math.abs(h-s);d<u&&(o=h,u=d)}}a>i&&(o-n>3&&e(t,n,o,i),t[o+2]=a,r-o>3&&e(t,o,r,i))}(t,0,c,n),t[c+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function $(e,t,n,r){for(var i=0;i<e.length;i++){var o=[];J(e[i],o,n,r),t.push(o)}}function ee(e){return e/360+.5}function te(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ne(e,t,n,r,i,o,a,s){if(r/=t,o>=(n/=t)&&a<r)return e;if(a<n||o>=r)return null;for(var u=[],l=0;l<e.length;l++){var c=e[l],A=c.geometry,f=c.type,h=0===i?c.minX:c.minY,p=0===i?c.maxX:c.maxY;if(h>=n&&p<r)u.push(c);else if(!(p<n||h>=r)){var d=[];if("Point"===f||"MultiPoint"===f)re(A,d,n,r,i);else if("LineString"===f)ie(A,d,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===f)ae(A,d,n,r,i,!1);else if("Polygon"===f)ae(A,d,n,r,i,!0);else if("MultiPolygon"===f)for(var g=0;g<A.length;g++){var v=[];ae(A[g],v,n,r,i,!0),v.length&&d.push(v)}if(d.length){if(s.lineMetrics&&"LineString"===f){for(g=0;g<d.length;g++)u.push(K(c.id,f,d[g],c.tags));continue}"LineString"!==f&&"MultiLineString"!==f||(1===d.length?(f="LineString",d=d[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===d.length?"Point":"MultiPoint"),u.push(K(c.id,f,d,c.tags))}}}return u.length?u:null}function re(e,t,n,r,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=n&&a<=r&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function ie(e,t,n,r,i,o,a){for(var s,u,l=oe(e),c=0===i?ue:le,A=e.start,f=0;f<e.length-3;f+=3){var h=e[f],p=e[f+1],d=e[f+2],g=e[f+3],v=e[f+4],y=0===i?h:p,m=0===i?g:v,b=!1;a&&(s=Math.sqrt(Math.pow(h-g,2)+Math.pow(p-v,2))),y<n?m>n&&(u=c(l,h,p,g,v,n),a&&(l.start=A+s*u)):y>r?m<r&&(u=c(l,h,p,g,v,r),a&&(l.start=A+s*u)):se(l,h,p,d),m<n&&y>=n&&(u=c(l,h,p,g,v,n),b=!0),m>r&&y<=r&&(u=c(l,h,p,g,v,r),b=!0),!o&&b&&(a&&(l.end=A+s*u),t.push(l),l=oe(e)),a&&(A+=s)}var _=e.length-3;h=e[_],p=e[_+1],d=e[_+2],(y=0===i?h:p)>=n&&y<=r&&se(l,h,p,d),_=l.length-3,o&&_>=3&&(l[_]!==l[0]||l[_+1]!==l[1])&&se(l,l[0],l[1],l[2]),l.length&&t.push(l)}function oe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ae(e,t,n,r,i,o){for(var a=0;a<e.length;a++)ie(e[a],t,n,r,i,o,!1)}function se(e,t,n,r){e.push(t),e.push(n),e.push(r)}function ue(e,t,n,r,i,o){var a=(o-t)/(r-t);return e.push(o),e.push(n+(i-n)*a),e.push(1),a}function le(e,t,n,r,i,o){var a=(o-n)/(i-n);return e.push(t+(r-t)*a),e.push(o),e.push(1),a}function ce(e,t){for(var n=[],r=0;r<e.length;r++){var i,o=e[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=Ae(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(Ae(o.geometry[s],t))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var u=[],l=0;l<o.geometry[s].length;l++)u.push(Ae(o.geometry[s][l],t));i.push(u)}n.push(K(o.id,a,i,o.tags))}return n}function Ae(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function fe(e,t){if(e.transformed)return e;var n,r,i,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var u=e.features[n],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(r=0;r<l.length;r+=2)u.geometry.push(he(l[r],l[r+1],t,o,a,s));else for(r=0;r<l.length;r++){var A=[];for(i=0;i<l[r].length;i+=2)A.push(he(l[r][i],l[r][i+1],t,o,a,s));u.geometry.push(A)}}return e.transformed=!0,e}function he(e,t,n,r,i,o){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-o))]}function pe(e,t,n,r,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,de(a,e[s],o,i);var u=e[s].minX,l=e[s].minY,c=e[s].maxX,A=e[s].maxY;u<a.minX&&(a.minX=u),l<a.minY&&(a.minY=l),c>a.maxX&&(a.maxX=c),A>a.maxY&&(a.maxY=A)}return a}function de(e,t,n,r){var i=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)ge(a,i,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)ge(a,i[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var u=0;u<i.length;u++){var l=i[u];for(s=0;s<l.length;s++)ge(a,l[s],e,n,!0,0===s)}if(a.length){var c=t.tags||null;if("LineString"===o&&r.lineMetrics){for(var A in c={},t.tags)c[A]=t.tags[A];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var f={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==t.id&&(f.id=t.id),e.features.push(f)}}function ge(e,t,n,r,i,o){var a=r*r;if(r>0&&t.size<(i?a:r))n.numPoints+=t.length/3;else{for(var s=[],u=0;u<t.length;u+=3)(0===r||t[u+2]>a)&&(n.numSimplified++,s.push(t[u]),s.push(t[u+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,o=i-2;r<i;o=r,r+=2)n+=(e[r]-e[o])*(e[r+1]+e[o+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var a=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=a,e[i-1-r]=s}}(s,o),e.push(s)}}function ve(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)X(n,e.features[r],t,r);else X(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(e,t){var n=t.buffer/t.extent,r=e,i=ne(e,1,-1-n,n,0,-1,2,t),o=ne(e,1,1-n,2+n,0,-1,2,t);return(i||o)&&(r=ne(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=ce(i,1).concat(r)),o&&(r=r.concat(ce(o,-1)))),r}(r,t)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ye(e,t,n){return 32*((1<<e)*n+t)+e}function me(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var i=new d(r.features),o=b(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:i,rawData:o.buffer})}D.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var a="prepare "+e.length+" points";n&&console.time(a),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(U(e[u],u));this.trees[i+1]=new L(s,V,G,o,Float32Array),n&&console.timeEnd(a);for(var l=i;l>=r;l--){var c=+Date.now();s=this._cluster(s,l),this.trees[l]=new L(s,V,G,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},D.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],t),s=this.getClusters([-180,r,i,o],t);return a.concat(s)}for(var u=this.trees[this._limitZoom(t)],l=[],c=0,A=u.range(z(n),Q(o),z(i),Q(r));c<A.length;c+=1){var f=u.points[A[c]];l.push(f.numPoints?j(f):this.points[f.index])}return l},D.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[t];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],u=0,l=i.within(o.x,o.y,a);u<l.length;u+=1){var c=i.points[l[u]];c.parentId===e&&s.push(c.numPoints?j(c):this.points[c.index])}if(0===s.length)throw new Error(r);return s},D.prototype.getLeaves=function(e,t,n){var r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r},D.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.radius/o.extent,s=(n-a)/i,u=(n+1+a)/i,l={features:[]};return this._addTileFeatures(r.range((t-a)/i,s,(t+1+a)/i,u),r.points,t,n,i,l),0===t&&this._addTileFeatures(r.range(1-a/i,s,1,u),r.points,i,n,i,l),t===i-1&&this._addTileFeatures(r.range(0,s,a/i,u),r.points,-1,n,i,l),l.features.length?l:null},D.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},D.prototype._appendLeaves=function(e,t,n,r,i){for(var o=0,a=this.getChildren(t);o<a.length;o+=1){var s=a[o],u=s.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}return i},D.prototype._addTileFeatures=function(e,t,n,r,i,o){for(var a=0,s=e;a<s.length;a+=1){var u=t[s[a]],l=u.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(u.x*i-n)),Math.round(this.options.extent*(u.y*i-r))]],tags:l?N(u):this.points[u.index].properties},A=void 0;l?A=u.id:this.options.generateId?A=u.index:this.points[u.index].id&&(A=this.points[u.index].id),void 0!==A&&(c.id=A),o.features.push(c)}},D.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},D.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.reduce,o=r.minPoints,a=r.radius/(r.extent*Math.pow(2,t)),s=0;s<e.length;s++){var u=e[s];if(!(u.zoom<=t)){u.zoom=t;for(var l=this.trees[t+1],c=l.within(u.x,u.y,a),A=u.numPoints||1,f=A,h=0,p=c;h<p.length;h+=1){var d=l.points[p[h]];d.zoom>t&&(f+=d.numPoints||1)}if(f>=o){for(var g=u.x*A,v=u.y*A,y=i&&A>1?this._map(u,!0):null,m=(s<<5)+(t+1)+this.points.length,b=0,_=c;b<_.length;b+=1){var w=l.points[_[b]];if(!(w.zoom<=t)){w.zoom=t;var x=w.numPoints||1;g+=w.x*x,v+=w.y*x,w.parentId=m,i&&(y||(y=this._map(u,!0)),i(y,this._map(w)))}}u.parentId=m,n.push(Z(g/f,v/f,m,f,y))}else if(n.push(u),f>1)for(var C=0,B=c;C<B.length;C+=1){var E=l.points[B[C]];E.zoom<=t||(E.zoom=t,n.push(E))}}}return n},D.prototype._getOriginId=function(e){return e-this.points.length>>5},D.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},D.prototype._map=function(e,t){if(e.numPoints)return t?H({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?H({},r):r},ve.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ve.prototype.splitTile=function(e,t,n,r,i,o,a){for(var s=[e,t,n,r],u=this.options,l=u.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,A=ye(t,n,r),f=this.tiles[A];if(!f&&(l>1&&console.time("creation"),f=this.tiles[A]=pe(e,t,n,r,u),this.tileCoords.push({z:t,x:n,y:r}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(f.source=e,i){if(t===u.maxZoom||t===i)continue;var p=1<<i-t;if(n!==Math.floor(o/p)||r!==Math.floor(a/p))continue}else if(t===u.indexMaxZoom||f.numPoints<=u.indexMaxPoints)continue;if(f.source=null,0!==e.length){l>1&&console.time("clipping");var d,g,v,y,m,b,_=.5*u.buffer/u.extent,w=.5-_,x=.5+_,C=1+_;d=g=v=y=null,m=ne(e,c,n-_,n+x,0,f.minX,f.maxX,u),b=ne(e,c,n+w,n+C,0,f.minX,f.maxX,u),e=null,m&&(d=ne(m,c,r-_,r+x,1,f.minY,f.maxY,u),g=ne(m,c,r+w,r+C,1,f.minY,f.maxY,u),m=null),b&&(v=ne(b,c,r-_,r+x,1,f.minY,f.maxY,u),y=ne(b,c,r+w,r+C,1,f.minY,f.maxY,u),b=null),l>1&&console.timeEnd("clipping"),s.push(d||[],t+1,2*n,2*r),s.push(g||[],t+1,2*n,2*r+1),s.push(v||[],t+1,2*n+1,2*r),s.push(y||[],t+1,2*n+1,2*r+1)}}},ve.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,o=r.debug;if(e<0||e>24)return null;var a=1<<e,s=ye(e,t=(t%a+a)%a,n);if(this.tiles[s])return fe(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var u,l=e,c=t,A=n;!u&&l>0;)l--,c=Math.floor(c/2),A=Math.floor(A/2),u=this.tiles[ye(l,c,A)];return u&&u.source?(o>1&&console.log("found parent tile z%d-%d-%d",l,c,A),o>1&&console.time("drilling down"),this.splitTile(u.source,l,c,A,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?fe(this.tiles[s],i):null):null};var be=function(t){function n(e,n,r,i){t.call(this,e,n,r,me),i&&(this.loadGeoJSON=i)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new e.RequestPerformance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function e(t,n){var r,i=t&&t.type;if("FeatureCollection"===i)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===i)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===i)e(t.geometry,n);else if("Polygon"===i)A(t.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<t.coordinates.length;r++)A(t.coordinates[r],n);return t}(a,!0);try{if(r.filter){var s=e.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(e){return e.key+": "+e.message})).join(", "));var u=a.features.filter((function(e){return s.value.evaluate({zoom:0},e)}));a={type:"FeatureCollection",features:u}}t._geoJSONIndex=r.cluster?new D(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},u=Object.keys(r),l=0,c=u;l<c.length;l+=1){var A=c[l],f=r[A],h=f[0],p=e.createExpression(f[1]),d=e.createExpression("string"==typeof h?[h,["accumulated"],["get",A]]:h);i[A]=p.value,o[A]=d.value}return n.map=function(e){s.properties=e;for(var t={},n=0,r=u;n<r.length;n+=1){var o=r[n];t[o]=i[o].evaluate(a,s)}return t},n.reduce=function(e,t){s.properties=t;for(var n=0,r=u;n<r.length;n+=1){var i=r[n];a.accumulated=e[i],e[i]=o[i].evaluate(a,s)}},n}(r)).load(a.features):function(e,t){return new ve(e,t)}(a,r.geojsonVtOptions)}catch(o){return n(o)}t.loaded={};var l={};if(i){var c=i.finish();c&&(l.resourceTiming={},l.resourceTiming[r.source]=JSON.parse(JSON.stringify(c)))}n(null,l)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(e,n){var r=this.loaded;return r&&r[e.uid]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},n.prototype.loadGeoJSON=function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},n.prototype.getClusterExpansionZoom=function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterChildren=function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterLeaves=function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}},n}(u),_e=function(t){var n=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:be},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return _e.prototype.setReferrer=function(e,t){this.referrer=t},_e.prototype.setImages=function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][r];for(var o in i)i[o].availableImages=t}n()},_e.prototype.setLayers=function(e,t,n){this.getLayerIndex(e).replace(t),n()},_e.prototype.updateLayers=function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()},_e.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)},_e.prototype.loadDEMTile=function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)},_e.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)},_e.prototype.abortTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)},_e.prototype.removeTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)},_e.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},_e.prototype.removeSource=function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}},_e.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}},_e.prototype.syncRTLPluginState=function(t,n,r){try{e.plugin.setState(n);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=e.plugin.isParsed();r(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),o)}}catch(e){r(e.toString())}},_e.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||(t=[]),t},_e.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t},_e.prototype.getWorkerSource=function(e,t,n){var r=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][n]||(this.workerSources[e][t][n]=new this.workerSourceTypes[t]({send:function(t,n,i){r.actor.send(t,n,i,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][n]},_e.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new c),this.demWorkerSources[e][t]},_e.prototype.enforceCacheSizeLimit=function(t,n){e.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new _e(self)),_e})),r(["./shared"],(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!n(e)}function n(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[n=e&&e.failIfMajorPerformanceCaveat]&&(r[n]=function(e){var n=function(e){var n=document.createElement("canvas"),r=Object.create(t.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(e);if(!n)return!1;var r=n.createShader(n.VERTEX_SHADER);return!(!r||n.isContextLost())&&(n.shaderSource(r,"void main() {}"),n.compileShader(r),!0===n.getShaderParameter(r,n.COMPILE_STATUS))}(n)),r[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t,window.mapboxgl.notSupportedReason=n);var r={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(t,n,r){var i=e.window.document.createElement(t);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(t,n){return e.window.document.createElementNS(t,n)}},r=e.window.document&&e.window.document.documentElement.style;function i(e){if(!r)return e[0];for(var t=0;t<e.length;t++)if(e[t]in r)return e[t];return e[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&a&&(o=r[a],r[a]="none")},n.enableDrag=function(){r&&a&&(r[a]=o)};var s=i(["transform","WebkitTransform"]);n.setTransform=function(e,t){e.style[s]=t};var u=!1;try{var l=Object.defineProperty({},"passive",{get:function(){u=!0}});e.window.addEventListener("test",l,l),e.window.removeEventListener("test",l,l)}catch(e){u=!1}n.addEventListener=function(e,t,n,r){void 0===r&&(r={}),e.addEventListener(t,n,"passive"in r&&u?r:r.capture)},n.removeEventListener=function(e,t,n,r){void 0===r&&(r={}),e.removeEventListener(t,n,"passive"in r&&u?r:r.capture)};var c=function t(n){n.preventDefault(),n.stopPropagation(),e.window.removeEventListener("click",t,!0)};function A(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}n.suppressClick=function(){e.window.addEventListener("click",c,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",c,!0)}),0)},n.mousePos=function(t,n){var r=t.getBoundingClientRect();return new e.Point(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)},n.touchPos=function(t,n){for(var r=t.getBoundingClientRect(),i=[],o=0;o<n.length;o++)i.push(new e.Point(n[o].clientX-r.left-t.clientLeft,n[o].clientY-r.top-t.clientTop));return i},n.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var f=function(t){function n(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,n=this.requestors;t<n.length;t+=1){var r=n[t];this._notify(r.ids,r.callback)}this.requestors=[]}},n.prototype.getImage=function(e){return this.images[e]},n.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},n.prototype._validate=function(t,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchX" value'))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchY" value'))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "content" value'))),r=!1),r},n.prototype._validateStretch=function(e,t){if(!e)return!0;for(var n=0,r=0,i=e;r<i.length;r+=1){var o=i[r];if(o[0]<n||o[1]<o[0]||t<o[1])return!1;n=o[1]}return!0},n.prototype._validateContent=function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))},n.prototype.updateImage=function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0},n.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(e,t){var n=!0;if(!this.isLoaded())for(var r=0,i=e;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})},n.prototype._notify=function(t,n){for(var r={},i=0,o=t;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new e.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},n.prototype.getPattern=function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new e.ImagePosition(i,r);this.patterns[t]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[t].position},n.prototype.bind=function(t){var n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var u=this.patterns[s].bin,l=u.x+1,c=u.y+1,A=this.images[s].data,f=A.width,h=A.height;e.RGBAImage.copy(A,a,{x:0,y:0},{x:l,y:c},{width:f,height:h}),e.RGBAImage.copy(A,a,{x:0,y:h-1},{x:l,y:c-1},{width:f,height:1}),e.RGBAImage.copy(A,a,{x:0,y:0},{x:l,y:c+h},{width:f,height:1}),e.RGBAImage.copy(A,a,{x:f-1,y:0},{x:l-1,y:c},{width:1,height:h}),e.RGBAImage.copy(A,a,{x:0,y:0},{x:l+f,y:c},{width:1,height:h})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];A(i)&&this.updateImage(r,i)}}},n}(e.Evented),h=g,p=g,d=1e20;function g(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function v(e,t,n,r,i,o,a){for(var s=0;s<t;s++){for(var u=0;u<n;u++)r[u]=e[u*t+s];for(y(r,i,o,a,n),u=0;u<n;u++)e[u*t+s]=i[u]}for(u=0;u<n;u++){for(s=0;s<t;s++)r[s]=e[u*t+s];for(y(r,i,o,a,t),s=0;s<t;s++)e[u*t+s]=Math.sqrt(i[s])}}function y(e,t,n,r,i){n[0]=0,r[0]=-d,r[1]=+d;for(var o=1,a=0;o<i;o++){for(var s=(e[o]+o*o-(e[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(e[o]+o*o-(e[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+d}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;t[o]=(o-n[a])*(o-n[a])+e[n[a]]}}g.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=t.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?d:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?d:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(v(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),v(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},h.default=p;var m=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};m.prototype.setURL=function(e){this.url=e},m.prototype.getGlyphs=function(t,n){var r=this,i=[];for(var o in t)for(var a=0,s=t[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});e.asyncAll(i,(function(e,t){var n=e.stack,i=e.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[i];if(void 0===a){if(a=r._tinySDF(o,n,i))return o.glyphs[i]=a,void t(null,{stack:n,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])t(null,{stack:n,id:i,glyph:a});else{var u=o.requests[s];u||(u=o.requests[s]=[],m.loadGlyphRange(n,s,r.url,r.requestManager,(function(e,t){if(t){for(var n in t)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=t[+n]);o.ranges[s]=!0}for(var i=0,a=u;i<a.length;i+=1)(0,a[i])(e,t);delete o.requests[s]}))),u.push((function(e,r){e?t(e):r&&t(null,{stack:n,id:i,glyph:r[i]||null})}))}}else t(null,{stack:n,id:i,glyph:a})}),(function(e,t){if(e)n(e);else if(t){for(var r={},i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.stack,u=a.id,l=a.glyph;(r[s]||(r[s]={}))[u]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}n(null,r)}}))},m.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},m.prototype._tinySDF=function(t,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var o=t.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=t.tinySDF=new m.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new e.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},m.loadGlyphRange=function(t,n,r,i,o){var a=256*n,s=a+255,u=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",t).replace("{range}",a+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(u,(function(t,n){if(t)o(t);else if(n){for(var r={},i=0,a=e.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},m.TinySDF=h;var b=function(){this.specification=e.styleSpec.light.position};b.prototype.possiblyEvaluate=function(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))},b.prototype.interpolate=function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}};var _=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new b,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),w=function(t){function n(n){t.call(this),this._transitionable=new e.Transitionable(_),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(t,n){if(void 0===n&&(n={}),!this._validate(e.validateLight,t,n))for(var r in t){var i=t[r];e.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},n.prototype._validate=function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},n}(e.Evented),x=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};x.prototype.getDash=function(e,t){var n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]},x.prototype.getDashRanges=function(e,t,n){var r=[],i=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});for(var s=e[0],u=1;u<e.length;u++){var l=e[u];r.push({left:i=s*n,right:o=(s+=l)*n,isDash:a=!a,zeroLength:0===l})}return r},x.prototype.addRoundDash=function(e,t,n){for(var r=t/2,i=-n;i<=n;i++)for(var o=this.width*(this.nextRow+n+i),a=0,s=e[a],u=0;u<this.width;u++){u/s.right>1&&(s=e[++a]);var l=Math.abs(u-s.left),c=Math.abs(u-s.right),A=Math.min(l,c),f=void 0,h=i/n*(r+1);if(s.isDash){var p=r-Math.abs(h);f=Math.sqrt(A*A+p*p)}else f=r-Math.sqrt(A*A+h*h);this.data[o+u]=Math.max(0,Math.min(255,f+128))}},x.prototype.addRegularDash=function(e){for(var t=e.length-1;t>=0;--t){var n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}var i=e[0],o=e[e.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,s=0,u=e[s],l=0;l<this.width;l++){l/u.right>1&&(u=e[++s]);var c=Math.abs(l-u.left),A=Math.abs(l-u.right),f=Math.min(c,A);this.data[a+l]=Math.max(0,Math.min(255,(u.isDash?f:-f)+128))}},x.prototype.addDash=function(t,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<t.length;a++)o+=t[a];if(0!==o){var s=this.width/o,u=this.getDashRanges(t,this.width,s);n?this.addRoundDash(u,s,r):this.addRegularDash(u)}var l={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,l},x.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))};var C=function t(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new t.Actor(i[o],r,this.id);a.name="Worker "+o,this.actors.push(a)}};function B(t,n,r){var i=function(i,o){if(i)return r(i);if(o){var a=e.pick(e.extend(o,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(e){return e.id}))),a.tiles=n.canonicalizeTileset(a,t.url),r(null,a)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.browser.frame((function(){return i(null,t)}))}C.prototype.broadcast=function(t,n,r){e.asyncAll(this.actors,(function(e,r){e.send(t,n,r)}),r=r||function(){})},C.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},C.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},C.Actor=e.Actor;var E=function(t,n,r){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=r||24};E.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},E.prototype.contains=function(t){var n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<o&&t.y>=i&&t.y<a};var S=function(t){function n(n,r,i,o){if(t.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(r,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new E(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setSourceProperty=function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this},n.prototype.setUrl=function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(r,i){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",i,o.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,o.bind(this)))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(e.Evented),k=function(t){function n(n,r,i,o){t.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},r),e.extend(this,e.pick(r,["url","scheme","tileSize"]))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new E(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.loadTile=function(t,n){var r=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(function(i,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;t.texture=r.map.painter.getTileTexture(o.width),t.texture?t.texture.update(o,{useMipmap:!0}):(t.texture=new e.Texture(a,o,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},n.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},n.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},n.prototype.hasTransition=function(){return!1},n}(e.Evented),O=function(t){function n(n,r,i,o){t.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported()?o:e.browser.getImageData(o,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:a,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},n.prototype._getNeighboringTiles=function(t){var n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,u={};return u[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(u[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(u[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),u},n.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})},n}(k),T=function(t){function n(n,r,i,o){t.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:e.EXTENT,radius:(r.clusterRadius||50)*a,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)t.fire(new e.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(r.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",r))}}))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setData=function(t){var n=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)n.fire(new e.ErrorEvent(t));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new e.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this},n.prototype.getClusterChildren=function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this},n.prototype.getClusterLeaves=function(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this},n.prototype._updateWorkerData=function(t){var n=this;this._loaded=!1;var r=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(e.browser.resolveURL(i),e.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(e,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),t(e))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(t,n){var r=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,o){return delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},n.prototype.unloadTile=function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(e.Evented),P=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),M=function(t){function n(e,n,r,i){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(t,n){var r=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new e.ErrorEvent(i)):o&&(r.image=o,t&&(r.coordinates=t),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setCoordinates=function(t){var n=this;this.coordinates=t;var r=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=t;a<s.length;a+=1){var u=s[a];n=Math.min(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.x),o=Math.max(o,u.y)}var l=Math.max(i-n,o-r),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2)),A=Math.pow(2,c);return new e.CanonicalTileID(c,Math.floor((n+i)/2*A),Math.floor((r+o)/2*A))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(e){return n.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(e.Evented),F=function(t){function n(e,n,r,i){t.call(this,e,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],e.ResourceType.Source).url);e.getVideo(this.urls,(function(n,r){t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=t}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(M),I=function(t){function n(n,r,i,o){t.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1},n}(M),L={vector:S,raster:k,"raster-dem":O,geojson:T,video:F,image:M,canvas:I};function R(t,n){var r=e.identity([]);return e.translate(r,r,[1,1,0]),e.scale(r,r,[.5*t.width,.5*t.height,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function D(e,t,n,r,i,o){var a=function(e,t,n){if(e)for(var r=0,i=e;r<i.length;r+=1){var o=t[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in t){var s=t[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,t,e.id),s=o.maxPitchScaleFactor(),u=e.tilesIn(r,s,a);u.sort(Z);for(var l=[],c=0,A=u;c<A.length;c+=1){var f=A[c];l.push({wrappedTileID:f.tileID.wrapped().key,queryResults:f.tile.queryRenderedFeatures(t,n,e._state,f.queryGeometry,f.cameraQueryGeometry,f.scale,i,o,s,R(e.transform,f.tileID))})}var h=function(e){for(var t={},n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,u=n[s]=n[s]||{};for(var l in a)for(var c=a[l],A=u[l]=u[l]||{},f=t[l]=t[l]||[],h=0,p=c;h<p.length;h+=1){var d=p[h];A[d.featureIndex]||(A[d.featureIndex]=!0,f.push(d))}}return t}(l);for(var p in h)h[p].forEach((function(t){var n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return h}function Z(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var U=function(e,t){this.max=e,this.onRemove=t,this.reset()};U.prototype.reset=function(){for(var e in this.data)for(var t=0,n=this.data[e];t<n.length;t+=1){var r=n[t];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},U.prototype.add=function(e,t,n){var r=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:t,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(e,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},U.prototype.has=function(e){return e.wrapped().key in this.data},U.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},U.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},U.prototype.getByKey=function(e){var t=this.data[e];return t?t[0].value:null},U.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},U.prototype.remove=function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},U.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},U.prototype.filter=function(e){var t=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var o=i[r];e(o.value)||t.push(o)}for(var a=0,s=t;a<s.length;a+=1){var u=s[a];this.remove(u.value.tileID,u)}};var j=function(e,t,n){this.context=e;var r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};j.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},j.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},j.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var N={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},z=function(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};z.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},z.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},z.prototype.enableAttributes=function(e,t){for(var n=0;n<this.attributes.length;n++){var r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}},z.prototype.setVertexAttribPointers=function(e,t,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[N[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},z.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Q=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Q.prototype.get=function(){return this.current},Q.prototype.set=function(e){},Q.prototype.getDefault=function(){return this.default},Q.prototype.setDefault=function(){this.set(this.default)};var H=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(Q),V=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(Q),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(Q),W=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(Q),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(Q),q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(Q),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(Q),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(Q),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(Q),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(Q),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(Q),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(Q),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(Q),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(Q),ie=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(Q),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(Q),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(Q),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(Q),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(Q),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(Q),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(Q),Ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(Q),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(Q),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(Q),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(Q),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(Q),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(Q),ve=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(Q),ye=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(Q),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(Q),be=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(Q),_e=function(e){function t(t,n){e.call(this,t),this.context=t,this.parent=n}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t}(Q),we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(_e),xe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(_e),Ce=function(e,t,n,r){this.context=e,this.width=t,this.height=n;var i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,i),r&&(this.depthAttachment=new xe(e,i))};Ce.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)};var Be=function(e,t,n){this.func=e,this.mask=t,this.range=n};Be.ReadOnly=!1,Be.ReadWrite=!0,Be.disabled=new Be(519,Be.ReadOnly,[0,1]);var Ee=function(e,t,n,r,i,o){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};Ee.disabled=new Ee({func:519,mask:0},0,0,7680,7680,7680);var Se=function(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n};Se.disabled=new Se(Se.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Se.unblended=new Se(Se.Replace,e.Color.transparent,[!0,!0,!0,!0]),Se.alphaBlended=new Se([1,771],e.Color.transparent,[!0,!0,!0,!0]);var ke=function(e,t,n){this.enable=e,this.mode=t,this.frontFace=n};ke.disabled=new ke(!1,1029,2305),ke.backCCW=new ke(!0,1029,2305);var Oe=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new H(this),this.clearDepth=new V(this),this.clearStencil=new G(this),this.colorMask=new W(this),this.depthMask=new K(this),this.stencilMask=new q(this),this.stencilFunc=new X(this),this.stencilOp=new Y(this),this.stencilTest=new J(this),this.depthRange=new $(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ne(this),this.blendFunc=new re(this),this.blendColor=new ie(this),this.blendEquation=new oe(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new ue(this),this.program=new le(this),this.activeTexture=new ce(this),this.viewport=new Ae(this),this.bindFramebuffer=new fe(this),this.bindRenderbuffer=new he(this),this.bindTexture=new pe(this),this.bindVertexBuffer=new de(this),this.bindElementBuffer=new ge(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ve(this),this.pixelStoreUnpack=new ye(this),this.pixelStoreUnpackPremultiplyAlpha=new me(this),this.pixelStoreUnpackFlipY=new be(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)};Oe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Oe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Oe.prototype.createIndexBuffer=function(e,t){return new j(this,e,t)},Oe.prototype.createVertexBuffer=function(e,t,n){return new z(this,e,t,n)},Oe.prototype.createRenderbuffer=function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i},Oe.prototype.createFramebuffer=function(e,t,n){return new Ce(this,e,t,n)},Oe.prototype.clear=function(e){var t=e.color,n=e.depth,r=this.gl,i=0;t&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Oe.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Oe.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Oe.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Oe.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Se.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Oe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Te=function(t){function n(n,r,i){var o=this;t.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(t,n,r,i){var o=new L[n.type](t,n,r,i);if(o.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+o.id);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,r,i,this),this._tiles={},this._cache=new U(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},n.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},n.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},n.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return e.values(this._tiles).map((function(e){return e.tileID})).sort(Pe).map((function(e){return e.key}))},n.prototype.getRenderableIds=function(t){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,t)&&r.push(this._tiles[i]);return t?r.sort((function(t,r){var i=t.tileID,o=r.tileID,a=new e.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new e.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})).map((function(e){return e.tileID.key})):r.map((function(e){return e.tileID})).sort(Pe).map((function(e){return e.key}))},n.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},n.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},n.prototype._reloadTile=function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))},n.prototype._tileLoaded=function(t,n,r,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},n.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var i=this.getTileByID(r);o(e,i),o(i,e)}}function o(e,t){e.needsHillshadePrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(e){return this.getTileByID(e.key)},n.prototype.getTileByID=function(e){return this._tiles[e]},n.prototype._retainLoadedChildren=function(e,t,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>t+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var u=a;u.overscaledZ>t;)if(e[(u=u.scaledTo(u.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var i=e.scaledTo(r),o=this._getLoadedTile(i);if(o)return o}},n.prototype._getLoadedTile=function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)},n.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,n=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(t*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(t){var r=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(e){return r._source.hasTile(e)})))):i=[];var o=t.coveringZoomLevel(this._source),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(i,o);if(Me(this._source.type)){for(var l={},c={},A=0,f=Object.keys(u);A<f.length;A+=1){var h=f[A],p=u[h],d=this._tiles[h];if(d&&!(d.fadeEndTime&&d.fadeEndTime<=e.browser.now())){var g=this.findLoadedParent(p,a);g&&(this._addTile(g.tileID),l[g.tileID.key]=g.tileID),c[h]=p}}for(var v in this._retainLoadedChildren(c,o,s,u),l)u[v]||(this._coveredTiles[v]=!0,u[v]=l[v])}for(var y in u)this._tiles[y].clearFadeHold();for(var m=0,b=e.keysDifference(this._tiles,u);m<b.length;m+=1){var _=b[m],w=this._tiles[_];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(_)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},n.prototype._updateRetainedTiles=function(e,t){for(var r={},i={},o=Math.max(t-n.maxOverzooming,this._source.minzoom),a=Math.max(t+n.maxUnderzooming,this._source.minzoom),s={},u=0,l=e;u<l.length;u+=1){var c=l[u],A=this._addTile(c);r[c.key]=c,A.hasData()||t<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,t,a,r);for(var f=0,h=e;f<h.length;f+=1){var p=h[f],d=this._tiles[p.key];if(!d.hasData()){if(t+1>this._source.maxzoom){var g=p.children(this._source.maxzoom)[0],v=this.getTile(g);if(v&&v.hasData()){r[g.key]=g;continue}}else{var y=p.children(this._source.maxzoom);if(r[y[0].key]&&r[y[1].key]&&r[y[2].key]&&r[y[3].key])continue}for(var m=d.wasRequested(),b=p.overscaledZ-1;b>=o;--b){var _=p.scaledTo(b);if(i[_.key])break;if(i[_.key]=!0,!(d=this.getTile(_))&&m&&(d=this._addTile(_)),d&&(r[_.key]=_,m=d.wasRequested(),d.hasData()))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var o=0,a=t;o<a.length;o+=1)this._loadedParentTiles[a[o]]=n}},n.prototype._addTile=function(t){var n=this._tiles[t.key];if(n)return n;(n=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));var r=Boolean(n);return r||(n=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n?(n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout((function(){n._reloadTile(e,"expired"),delete n._timers[e]}),r))},n.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},n.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},n.prototype.tilesIn=function(t,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=r?a.getCameraQueryGeometry(t):t,u=t.map((function(e){return a.pointCoordinate(e)})),l=s.map((function(e){return a.pointCoordinate(e)})),c=this.getIds(),A=1/0,f=1/0,h=-1/0,p=-1/0,d=0,g=l;d<g.length;d+=1){var v=g[d];A=Math.min(A,v.x),f=Math.min(f,v.y),h=Math.max(h,v.x),p=Math.max(p,v.y)}for(var y=function(t){var r=i._tiles[c[t]];if(!r.holdingForFade()){var s=r.tileID,d=Math.pow(2,a.zoom-r.tileID.overscaledZ),g=n*r.queryPadding*e.EXTENT/r.tileSize/d,v=[s.getTilePoint(new e.MercatorCoordinate(A,f)),s.getTilePoint(new e.MercatorCoordinate(h,p))];if(v[0].x-g<e.EXTENT&&v[0].y-g<e.EXTENT&&v[1].x+g>=0&&v[1].y+g>=0){var y=u.map((function(e){return s.getTilePoint(e)})),m=l.map((function(e){return s.getTilePoint(e)}));o.push({tile:r,tileID:s,queryGeometry:y,cameraQueryGeometry:m,scale:d})}}},m=0;m<c.length;m++)y(m);return o},n.prototype.getVisibleCoordinates=function(e){for(var t=this,n=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Me(this._source.type))for(var t in this._tiles){var n=this._tiles[t];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=e.browser.now())return!0}return!1},n.prototype.setFeatureState=function(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)},n.prototype.removeFeatureState=function(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)},n.prototype.getFeatureState=function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)},n.prototype.setDependencies=function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)},n.prototype.reloadTilesForDependencies=function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(e,t)}))},n}(e.Evented);function Pe(e,t){var n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Me(e){return"raster"===e||"image"===e||"video"===e}function Fe(){return new e.window.Worker(qi.workerUrl)}Te.maxOverzooming=10,Te.maxUnderzooming=3;var Ie="mapboxgl_preloaded_worker_pool",Le=function(){this.active={}};Le.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<Le.workerCount;)this.workers.push(new Fe);return this.active[e]=!0,this.workers.slice()},Le.prototype.release=function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)},Le.prototype.isPreloaded=function(){return!!this.active[Ie]},Le.prototype.numActive=function(){return Object.keys(this.active).length};var Re,De=Math.floor(e.browser.hardwareConcurrency/2);function Ze(){return Re||(Re=new Le),Re}function Ue(t,n){var r={};for(var i in t)"ref"!==i&&(r[i]=t[i]);return e.refProperties.forEach((function(e){e in n&&(r[e]=n[e])})),r}function je(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=Ue(e[r],t[e[r].ref]));return e}Le.workerCount=Math.max(Math.min(De,6),1);var Ne={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ze(e,t,n){n.push({command:Ne.addSource,args:[e,t[e]]})}function Qe(e,t,n){t.push({command:Ne.removeSource,args:[e]}),n[e]=!0}function He(e,t,n,r){Qe(e,n,r),ze(e,t,n)}function Ve(t,n,r){var i;for(i in t[r])if(t[r].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[r][i],n[r][i]))return!1;return!0}function Ge(t,n,r,i,o,a){var s;for(s in n=n||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function We(e){return e.id}function Ke(e,t){return e[t.id]=t,e}var qe=function(e,t){this.reset(e,t)};qe.prototype.reset=function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding},qe.prototype.lerp=function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var n=1,r=this._distances[n],i=t*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var o=n-1,a=this._distances[o],s=r-a,u=s>0?(i-a)/s:0;return this.points[o].mult(1-u).add(this.points[n].mult(u))};var Xe=function(e,t,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function Ye(t,n,r,i,o){var a=e.create();return n?(e.scale(a,a,[1/o,1/o,1]),r||e.rotateZ(a,a,i.angle)):e.multiply(a,i.labelPlaneMatrix,t),a}function Je(t,n,r,i,o){if(n){var a=e.clone(t);return e.scale(a,a,[o,o,1]),r||e.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function $e(t,n){var r=[t.x,t.y,0,1];ct(r,r,n);var i=r[3];return{point:new e.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function et(e,t){return.5+e/t*.5}function tt(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function nt(t,n,r,i,o,a,s,u){var l=i?t.textSizeData:t.iconSizeData,c=e.evaluateSizeForZoom(l,r.transform.zoom),A=[256/r.width*2+1,256/r.height*2+1],f=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;f.clear();for(var h=t.lineVertexArray,p=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,d=r.transform.width/r.transform.height,g=!1,v=0;v<p.length;v++){var y=p.get(v);if(y.hidden||y.writingMode===e.WritingMode.vertical&&!g)lt(y.numGlyphs,f);else{g=!1;var m=[y.anchorX,y.anchorY,0,1];if(e.transformMat4(m,m,n),tt(m,A)){var b=et(r.transform.cameraToCenterDistance,m[3]),_=e.evaluateSizeForFeature(l,c,y),w=s?_/b:_*b,x=new e.Point(y.anchorX,y.anchorY),C=$e(x,o).point,B={},E=ot(y,w,!1,u,n,o,a,t.glyphOffsetArray,h,f,C,x,B,d);g=E.useVertical,(E.notEnoughRoom||g||E.needsFlipping&&ot(y,w,!0,u,n,o,a,t.glyphOffsetArray,h,f,C,x,B,d).notEnoughRoom)&&lt(y.numGlyphs,f)}else lt(y.numGlyphs,f)}}i?t.text.dynamicLayoutVertexBuffer.updateData(f):t.icon.dynamicLayoutVertexBuffer.updateData(f)}function rt(e,t,n,r,i,o,a,s,u,l,c){var A=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,h=s.lineStartIndex+s.lineLength,p=t.getoffsetX(s.glyphStartIndex),d=t.getoffsetX(A-1),g=st(e*p,n,r,i,o,a,s.segment,f,h,u,l,c);if(!g)return null;var v=st(e*d,n,r,i,o,a,s.segment,f,h,u,l,c);return v?{first:g,last:v}:null}function it(t,n,r,i){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function ot(t,n,r,i,o,a,s,u,l,c,A,f,h,p){var d,g=n/24,v=t.lineOffsetX*g,y=t.lineOffsetY*g;if(t.numGlyphs>1){var m=t.glyphStartIndex+t.numGlyphs,b=t.lineStartIndex,_=t.lineStartIndex+t.lineLength,w=rt(g,u,v,y,r,A,f,t,l,a,h);if(!w)return{notEnoughRoom:!0};var x=$e(w.first.point,s).point,C=$e(w.last.point,s).point;if(i&&!r){var B=it(t.writingMode,x,C,p);if(B)return B}d=[w.first];for(var E=t.glyphStartIndex+1;E<m-1;E++)d.push(st(g*u.getoffsetX(E),v,y,r,A,f,t.segment,b,_,l,a,h));d.push(w.last)}else{if(i&&!r){var S=$e(f,o).point,k=t.lineStartIndex+t.segment+1,O=new e.Point(l.getx(k),l.gety(k)),T=$e(O,o),P=T.signedDistanceFromCamera>0?T.point:at(f,O,S,1,o),M=it(t.writingMode,S,P,p);if(M)return M}var F=st(g*u.getoffsetX(t.glyphStartIndex),v,y,r,A,f,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,l,a,h);if(!F)return{notEnoughRoom:!0};d=[F]}for(var I=0,L=d;I<L.length;I+=1){var R=L[I];e.addDynamicAttributes(c,R.point,R.angle)}return{}}function at(e,t,n,r,i){var o=$e(e.add(e.sub(t)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function st(t,n,r,i,o,a,s,u,l,c,A,f){var h=i?t-n:t+n,p=h>0?1:-1,d=0;i&&(p*=-1,d=Math.PI),p<0&&(d+=Math.PI);for(var g=p>0?u+s:u+s+1,v=o,y=o,m=0,b=0,_=Math.abs(h),w=[];m+b<=_;){if((g+=p)<u||g>=l)return null;if(y=v,w.push(v),void 0===(v=f[g])){var x=new e.Point(c.getx(g),c.gety(g)),C=$e(x,A);if(C.signedDistanceFromCamera>0)v=f[g]=C.point;else{var B=g-p;v=at(0===m?a:new e.Point(c.getx(B),c.gety(B)),x,y,_-m+1,A)}}m+=b,b=y.dist(v)}var E=(_-m)/b,S=v.sub(y),k=S.mult(E)._add(y);k._add(S._unit()._perp()._mult(r*p));var O=d+Math.atan2(v.y-y.y,v.x-y.x);return w.push(k),{point:k,angle:O,path:w}}Xe.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Xe.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Xe.prototype.insertCircle=function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)},Xe.prototype._insertBoxCell=function(e,t,n,r,i,o){this.boxCells[i].push(o)},Xe.prototype._insertCircleCell=function(e,t,n,r,i,o){this.circleCells[i].push(o)},Xe.prototype._query=function(e,t,n,r,i,o){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var l=this.circles[3*u],c=this.circles[3*u+1],A=this.circles[3*u+2];a.push({key:this.circleKeys[u],x1:l-A,y1:c-A,x2:l+A,y2:c+A})}return o?a.filter(o):a}return this._forEachCell(e,t,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Xe.prototype._queryCircle=function(e,t,n,r,i){var o=e-n,a=e+n,s=t-n,u=t+n;if(a<0||o>this.width||u<0||s>this.height)return!r&&[];var l=[];return this._forEachCell(o,s,a,u,this._queryCellCircle,l,{hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),r?l.length>0:l},Xe.prototype.query=function(e,t,n,r,i){return this._query(e,t,n,r,!1,i)},Xe.prototype.hitTest=function(e,t,n,r,i){return this._query(e,t,n,r,!0,i)},Xe.prototype.hitTestCircle=function(e,t,n,r){return this._queryCircle(e,t,n,!0,r)},Xe.prototype._queryCell=function(e,t,n,r,i,o,a,s){var u=a.seenUids,l=this.boxCells[i];if(null!==l)for(var c=this.bboxes,A=0,f=l;A<f.length;A+=1){var h=f[A];if(!u.box[h]){u.box[h]=!0;var p=4*h;if(e<=c[p+2]&&t<=c[p+3]&&n>=c[p+0]&&r>=c[p+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[h],x1:c[p],y1:c[p+1],x2:c[p+2],y2:c[p+3]})}}}var d=this.circleCells[i];if(null!==d)for(var g=this.circles,v=0,y=d;v<y.length;v+=1){var m=y[v];if(!u.circle[m]){u.circle[m]=!0;var b=3*m;if(this._circleAndRectCollide(g[b],g[b+1],g[b+2],e,t,n,r)&&(!s||s(this.circleKeys[m]))){if(a.hitTest)return o.push(!0),!0;var _=g[b],w=g[b+1],x=g[b+2];o.push({key:this.circleKeys[m],x1:_-x,y1:w-x,x2:_+x,y2:w+x})}}}},Xe.prototype._queryCellCircle=function(e,t,n,r,i,o,a,s){var u=a.circle,l=a.seenUids,c=this.boxCells[i];if(null!==c)for(var A=this.bboxes,f=0,h=c;f<h.length;f+=1){var p=h[f];if(!l.box[p]){l.box[p]=!0;var d=4*p;if(this._circleAndRectCollide(u.x,u.y,u.radius,A[d+0],A[d+1],A[d+2],A[d+3])&&(!s||s(this.boxKeys[p])))return o.push(!0),!0}}var g=this.circleCells[i];if(null!==g)for(var v=this.circles,y=0,m=g;y<m.length;y+=1){var b=m[y];if(!l.circle[b]){l.circle[b]=!0;var _=3*b;if(this._circlesCollide(v[_],v[_+1],v[_+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},Xe.prototype._forEachCell=function(e,t,n,r,i,o,a,s){for(var u=this._convertToXCellCoord(e),l=this._convertToYCellCoord(t),c=this._convertToXCellCoord(n),A=this._convertToYCellCoord(r),f=u;f<=c;f++)for(var h=l;h<=A;h++)if(i.call(this,e,t,n,r,this.xCellCount*h+f,o,a,s))return},Xe.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Xe.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Xe.prototype._circlesCollide=function(e,t,n,r,i,o){var a=r-e,s=i-t,u=n+o;return u*u>a*a+s*s},Xe.prototype._circleAndRectCollide=function(e,t,n,r,i,o,a){var s=(o-r)/2,u=Math.abs(e-(r+s));if(u>s+n)return!1;var l=(a-i)/2,c=Math.abs(t-(i+l));if(c>l+n)return!1;if(u<=s||c<=l)return!0;var A=u-s,f=c-l;return A*A+f*f<=n*n};var ut=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function lt(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(ut,3*r)}}function ct(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var At=function(e,t,n){void 0===t&&(t=new Xe(e.width+200,e.height+200,25)),void 0===n&&(n=new Xe(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function ft(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}At.prototype.placeCollisionBox=function(e,t,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),a=n*o.perspectiveRatio,s=e.x1*a+o.point.x,u=e.y1*a+o.point.y,l=e.x2*a+o.point.x,c=e.y2*a+o.point.y;return!this.isInsideGrid(s,u,l,c)||!t&&this.grid.hitTest(s,u,l,c,i)?{box:[],offscreen:!1}:{box:[s,u,l,c],offscreen:this.isOffscreen(s,u,l,c)}},At.prototype.placeCollisionCircles=function(t,n,r,i,o,a,s,u,l,c,A,f,h){var p=[],d=new e.Point(n.anchorX,n.anchorY),g=$e(d,a),v=et(this.transform.cameraToCenterDistance,g.signedDistanceFromCamera),y=(c?o/v:o*v)/e.ONE_EM,m=$e(d,s).point,b=rt(y,i,n.lineOffsetX*y,n.lineOffsetY*y,!1,m,d,n,r,s,{}),_=!1,w=!1,x=!0;if(b){for(var C=.5*f*v+h,B=new e.Point(-100,-100),E=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),S=new qe,k=b.first,O=b.last,T=[],P=k.path.length-1;P>=1;P--)T.push(k.path[P]);for(var M=1;M<O.path.length;M++)T.push(O.path[M]);var F=2.5*C;if(u){var I=T.map((function(e){return $e(e,u)}));T=I.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:I.map((function(e){return e.point}))}var L=[];if(T.length>0){for(var R=T[0].clone(),D=T[0].clone(),Z=1;Z<T.length;Z++)R.x=Math.min(R.x,T[Z].x),R.y=Math.min(R.y,T[Z].y),D.x=Math.max(D.x,T[Z].x),D.y=Math.max(D.y,T[Z].y);L=R.x>=B.x&&D.x<=E.x&&R.y>=B.y&&D.y<=E.y?[T]:D.x<B.x||R.x>E.x||D.y<B.y||R.y>E.y?[]:e.clipLine([T],B.x,B.y,E.x,E.y)}for(var U=0,j=L;U<j.length;U+=1){var N;S.reset(j[U],.25*C),N=S.length<=.5*C?1:Math.ceil(S.paddedLength/F)+1;for(var z=0;z<N;z++){var Q=z/Math.max(N-1,1),H=S.lerp(Q),V=H.x+100,G=H.y+100;p.push(V,G,C,0);var W=V-C,K=G-C,q=V+C,X=G+C;if(x=x&&this.isOffscreen(W,K,q,X),w=w||this.isInsideGrid(W,K,q,X),!t&&this.grid.hitTestCircle(V,G,C,A)&&(_=!0,!l))return{circles:[],offscreen:!1,collisionDetected:_}}}}return{circles:!l&&_||!w?[]:p,offscreen:x,collisionDetected:_}},At.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,u=t;s<u.length;s+=1){var l=u[s],c=new e.Point(l.x+100,l.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var A={},f={},h=0,p=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));h<p.length;h+=1){var d=p[h],g=d.key;if(void 0===A[g.bucketInstanceId]&&(A[g.bucketInstanceId]={}),!A[g.bucketInstanceId][g.featureIndex]){var v=[new e.Point(d.x1,d.y1),new e.Point(d.x2,d.y1),new e.Point(d.x2,d.y2),new e.Point(d.x1,d.y2)];e.polygonIntersectsPolygon(n,v)&&(A[g.bucketInstanceId][g.featureIndex]=!0,void 0===f[g.bucketInstanceId]&&(f[g.bucketInstanceId]=[]),f[g.bucketInstanceId].push(g.featureIndex))}}return f},At.prototype.insertCollisionBox=function(e,t,n,r,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},e[0],e[1],e[2],e[3])},At.prototype.insertCollisionCircles=function(e,t,n,r,i){for(var o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<e.length;s+=4)o.insertCircle(a,e[s],e[s+1],e[s+2])},At.prototype.projectAndGetPerspectiveRatio=function(t,n,r){var i=[n,r,0,1];return ct(i,i,t),{point:new e.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},At.prototype.isOffscreen=function(e,t,n,r){return n<100||e>=this.screenRightBoundary||r<100||t>this.screenBottomBoundary},At.prototype.isInsideGrid=function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary},At.prototype.getViewportMatrix=function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t};var ht=function(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n};ht.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var pt=function(e,t,n,r,i){this.text=new ht(e?e.text:null,t,n,i),this.icon=new ht(e?e.icon:null,t,r,i)};pt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var dt=function(e,t,n){this.text=e,this.icon=t,this.skipFade=n},gt=function(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]},vt=function(e,t,n,r,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},yt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function mt(t,n,r,i,o){var a=e.getAnchorAlignment(t),s=-(a.horizontalAlign-.5)*n,u=-(a.verticalAlign-.5)*r,l=e.evaluateVariableOffset(t,i);return new e.Point(s+l[0]*o,u+l[1]*o)}function bt(t,n,r,i,o,a){var s=t.x1,u=t.x2,l=t.y1,c=t.y2,A=t.anchorPointX,f=t.anchorPointY,h=new e.Point(n,r);return i&&h._rotate(o?a:-a),{x1:s+h.x,y1:l+h.y,x2:u+h.x,y2:c+h.y,anchorPointX:A,anchorPointY:f}}yt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var _t=function(e,t,n,r){this.transform=e.clone(),this.collisionIndex=new At(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new yt(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function wt(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}_t.prototype.getBucketParts=function(t,n,r,i){var o=r.getBucket(n),a=r.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var s=r.collisionBoxArray,u=o.layers[0].layout,l=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/e.EXTENT,A=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),f="map"===u.get("text-pitch-alignment"),h="map"===u.get("text-rotation-alignment"),p=ft(r,1,this.transform.zoom),d=Ye(A,f,h,this.transform,p),g=null;if(f){var v=Je(A,f,h,this.transform,p);g=e.multiply([],this.transform.labelPlaneMatrix,v)}this.retainedQueryData[o.bucketInstanceId]=new vt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);var y={bucket:o,layout:u,posMatrix:A,textLabelPlaneMatrix:d,labelToScreenMatrix:g,scale:l,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(var m=0,b=o.sortKeyRanges;m<b.length;m+=1){var _=b[m];t.push({sortKey:_.sortKey,symbolInstanceStart:_.symbolInstanceStart,symbolInstanceEnd:_.symbolInstanceEnd,parameters:y})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:y})}},_t.prototype.attemptAnchorPlacement=function(e,t,n,r,i,o,a,s,u,l,c,A,f,h,p){var d,g=[A.textOffset0,A.textOffset1],v=mt(e,n,r,g,i),y=this.collisionIndex.placeCollisionBox(bt(t,v.x,v.y,o,a,this.transform.angle),c,s,u,l.predicate);if(!p||0!==this.collisionIndex.placeCollisionBox(bt(p,v.x,v.y,o,a,this.transform.angle),c,s,u,l.predicate).box.length)return y.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[A.crossTileID]&&this.prevPlacement.placements[A.crossTileID]&&this.prevPlacement.placements[A.crossTileID].text&&(d=this.prevPlacement.variableOffsets[A.crossTileID].anchor),this.variableOffsets[A.crossTileID]={textOffset:g,width:n,height:r,anchor:e,textBoxScale:i,prevAnchor:d},this.markUsedJustification(f,e,A,h),f.allowVerticalPlacement&&(this.markUsedOrientation(f,h,A),this.placedOrientations[A.crossTileID]=h),{shift:v,placedGlyphBoxes:y}):void 0},_t.prototype.placeLayerBucketPart=function(t,n,r){var i=this,o=t.parameters,a=o.bucket,s=o.layout,u=o.posMatrix,l=o.textLabelPlaneMatrix,c=o.labelToScreenMatrix,A=o.textPixelRatio,f=o.holdingForFade,h=o.collisionBoxArray,p=o.partiallyEvaluatedTextSize,d=o.collisionGroup,g=s.get("text-optional"),v=s.get("icon-optional"),y=s.get("text-allow-overlap"),m=s.get("icon-allow-overlap"),b="map"===s.get("text-rotation-alignment"),_="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),x="viewport-y"===s.get("symbol-z-order"),C=y&&(m||!a.hasIconData()||v),B=m&&(y||!a.hasTextData()||g);!a.collisionArrays&&h&&a.deserializeCollisionBoxes(h);var E=function(t,o){if(!n[t.crossTileID])if(f)i.placements[t.crossTileID]=new dt(!1,!1,!1);else{var h,x=!1,E=!1,S=!0,k=null,O={box:null,offscreen:null},T={box:null,offscreen:null},P=null,M=null,F=0,I=0,L=0;o.textFeatureIndex?F=o.textFeatureIndex:t.useRuntimeCollisionCircles&&(F=t.featureIndex),o.verticalTextFeatureIndex&&(I=o.verticalTextFeatureIndex);var R=o.textBox;if(R){var D=function(n){var r=e.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[t.crossTileID];o&&(i.placedOrientations[t.crossTileID]=o,i.markUsedOrientation(a,r=o,t))}return r},Z=function(n,r){if(a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var i=0,s=a.writingModes;i<s.length&&(s[i]===e.WritingMode.vertical?(O=r(),T=O):O=n(),!(O&&O.box&&O.box.length));i+=1);else O=n()};if(s.get("text-variable-anchor")){var U=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var j=i.prevPlacement.variableOffsets[t.crossTileID];U.indexOf(j.anchor)>0&&(U=U.filter((function(e){return e!==j.anchor}))).unshift(j.anchor)}var N=function(e,n,r){for(var o=e.x2-e.x1,s=e.y2-e.y1,l=t.textBoxScale,c=w&&!m?n:null,f={box:[],offscreen:!1},h=y?2*U.length:U.length,p=0;p<h;++p){var g=i.attemptAnchorPlacement(U[p%U.length],e,o,s,l,b,_,A,u,d,p>=U.length,t,a,r,c);if(g&&(f=g.placedGlyphBoxes)&&f.box&&f.box.length){x=!0,k=g.shift;break}}return f};Z((function(){return N(R,o.iconBox,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&!(O&&O.box&&O.box.length)&&t.numVerticalGlyphVertices>0&&n?N(n,o.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),O&&(x=O.box,S=O.offscreen);var z=D(O&&O.box);if(!x&&i.prevPlacement){var Q=i.prevPlacement.variableOffsets[t.crossTileID];Q&&(i.variableOffsets[t.crossTileID]=Q,i.markUsedJustification(a,Q.anchor,t,z))}}else{var H=function(e,n){var r=i.collisionIndex.placeCollisionBox(e,y,A,u,d.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(a,n,t),i.placedOrientations[t.crossTileID]=n),r};Z((function(){return H(R,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?H(n,e.WritingMode.vertical):{box:null,offscreen:null}})),D(O&&O.box&&O.box.length)}}if(x=(h=O)&&h.box&&h.box.length>0,S=h&&h.offscreen,t.useRuntimeCollisionCircles){var V=a.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),G=e.evaluateSizeForFeature(a.textSizeData,p,V),W=s.get("text-padding");P=i.collisionIndex.placeCollisionCircles(y,V,a.lineVertexArray,a.glyphOffsetArray,G,u,l,c,r,_,d.predicate,t.collisionCircleDiameter,W),x=y||P.circles.length>0&&!P.collisionDetected,S=S&&P.offscreen}if(o.iconFeatureIndex&&(L=o.iconFeatureIndex),o.iconBox){var K=function(e){var t=w&&k?bt(e,k.x,k.y,b,_,i.transform.angle):e;return i.collisionIndex.placeCollisionBox(t,m,A,u,d.predicate)};E=T&&T.box&&T.box.length&&o.verticalIconBox?(M=K(o.verticalIconBox)).box.length>0:(M=K(o.iconBox)).box.length>0,S=S&&M.offscreen}var q=g||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,X=v||0===t.numIconVertices;if(q||X?X?q||(E=E&&x):x=E&&x:E=x=E&&x,x&&h&&h.box&&i.collisionIndex.insertCollisionBox(h.box,s.get("text-ignore-placement"),a.bucketInstanceId,T&&T.box&&I?I:F,d.ID),E&&M&&i.collisionIndex.insertCollisionBox(M.box,s.get("icon-ignore-placement"),a.bucketInstanceId,L,d.ID),P&&(x&&i.collisionIndex.insertCollisionCircles(P.circles,s.get("text-ignore-placement"),a.bucketInstanceId,F,d.ID),r)){var Y=a.bucketInstanceId,J=i.collisionCircleArrays[Y];void 0===J&&(J=i.collisionCircleArrays[Y]=new gt);for(var $=0;$<P.circles.length;$+=4)J.circles.push(P.circles[$+0]),J.circles.push(P.circles[$+1]),J.circles.push(P.circles[$+2]),J.circles.push(P.collisionDetected?1:0)}i.placements[t.crossTileID]=new dt(x||C,E||B,S||a.justReloaded),n[t.crossTileID]=!0}};if(x)for(var S=a.getSortedSymbolIndexes(this.transform.angle),k=S.length-1;k>=0;--k){var O=S[k];E(a.symbolInstances.get(O),a.collisionArrays[O])}else for(var T=t.symbolInstanceStart;T<t.symbolInstanceEnd;T++)E(a.symbolInstances.get(T),a.collisionArrays[T]);if(r&&a.bucketInstanceId in this.collisionCircleArrays){var P=this.collisionCircleArrays[a.bucketInstanceId];e.invert(P.invProjMatrix,u),P.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},_t.prototype.markUsedJustification=function(t,n,r,i){var o;o=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)];for(var a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var u=s[a];u>=0&&(t.text.placedSymbolArray.get(u).crossTileID=o>=0&&u!==o?0:r.crossTileID)}},_t.prototype.markUsedOrientation=function(t,n,r){for(var i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,o=n===e.WritingMode.vertical?n:0,a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<s.length;a+=1)t.text.placedSymbolArray.get(s[a]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)},_t.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],l=i[s];l?(this.opacities[s]=new pt(l,r,u.text,u.icon),n=n||u.text!==l.text.placed||u.icon!==l.icon.placed):(this.opacities[s]=new pt(null,r,u.text,u.icon,u.skipFade),n=n||u.text||u.icon)}for(var c in i){var A=i[c];if(!this.opacities[c]){var f=new pt(A,r,!1,!1);f.isHidden()||(this.opacities[c]=f,n=n||A.text.placed||A.icon.placed)}}for(var h in o)this.variableOffsets[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.variableOffsets[h]=o[h]);for(var p in a)this.placedOrientations[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.placedOrientations[p]=a[p]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},_t.prototype.updateLayerOpacities=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.getBucket(e);a&&o.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},_t.prototype.updateBucketOpacities=function(t,n,r){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var o=t.layers[0].layout,a=new pt(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),u=o.get("icon-allow-overlap"),l=o.get("text-variable-anchor"),c="map"===o.get("text-rotation-alignment"),A="map"===o.get("text-pitch-alignment"),f="none"!==o.get("icon-text-fit"),h=new pt(null,0,s&&(u||!t.hasIconData()||o.get("icon-optional")),u&&(s||!t.hasTextData()||o.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var p=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)},d=function(r){var o=t.symbolInstances.get(r),s=o.numHorizontalGlyphVertices,u=o.numVerticalGlyphVertices,d=o.crossTileID,g=i.opacities[d];n[d]?g=a:g||(i.opacities[d]=g=h),n[d]=!0;var v=o.numIconVertices>0,y=i.placedOrientations[o.crossTileID],m=y===e.WritingMode.vertical,b=y===e.WritingMode.horizontal||y===e.WritingMode.horizontalOnly;if(s>0||u>0){var _=Tt(g.text);p(t.text,s,m?Pt:_),p(t.text,u,b?Pt:_);var w=g.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=w||m?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=w||b?1:0);var x=i.variableOffsets[o.crossTileID];x&&i.markUsedJustification(t,x.anchor,o,y);var C=i.placedOrientations[o.crossTileID];C&&(i.markUsedJustification(t,"left",o,C),i.markUsedOrientation(t,C,o))}if(v){var B=Tt(g.icon),E=!(f&&o.verticalPlacedIconSymbolIndex&&m);o.placedIconSymbolIndex>=0&&(p(t.icon,o.numIconVertices,E?B:Pt),t.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=g.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(p(t.icon,o.numVerticalIconVertices,E?Pt:B),t.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var S=t.collisionArrays[r];if(S){var k=new e.Point(0,0);if(S.textBox||S.verticalTextBox){var O=!0;if(l){var T=i.variableOffsets[d];T?(k=mt(T.anchor,T.width,T.height,T.textOffset,T.textBoxScale),c&&k._rotate(A?i.transform.angle:-i.transform.angle)):O=!1}S.textBox&&wt(t.textCollisionBox.collisionVertexArray,g.text.placed,!O||m,k.x,k.y),S.verticalTextBox&&wt(t.textCollisionBox.collisionVertexArray,g.text.placed,!O||b,k.x,k.y)}var P=Boolean(!b&&S.verticalIconBox);S.iconBox&&wt(t.iconCollisionBox.collisionVertexArray,g.icon.placed,P,f?k.x:0,f?k.y:0),S.verticalIconBox&&wt(t.iconCollisionBox.collisionVertexArray,g.icon.placed,!P,f?k.x:0,f?k.y:0)}}},g=0;g<t.symbolInstances.length;g++)d(g);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var v=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=v.invProjMatrix,t.placementViewportMatrix=v.viewportMatrix,t.collisionCircleArray=v.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}},_t.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},_t.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},_t.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},_t.prototype.stillRecent=function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e},_t.prototype.setStale=function(){this.stale=!0};var xt=Math.pow(2,25),Ct=Math.pow(2,24),Bt=Math.pow(2,17),Et=Math.pow(2,16),St=Math.pow(2,9),kt=Math.pow(2,8),Ot=Math.pow(2,1);function Tt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*xt+t*Ct+n*Bt+t*Et+n*St+t*kt+n*Ot+t}var Pt=0,Mt=function(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Mt.prototype.continuePlacement=function(e,t,n,r,i){for(var o=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(o,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<o.length;)if(t.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1};var Ft=function(e,t,n,r,i,o,a){this.placement=new _t(e,i,o,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Ft.prototype.isDone=function(){return this._done},Ft.prototype.continuePlacement=function(t,n,r){for(var i=this,o=e.browser.now(),a=function(){var t=e.browser.now()-o;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new Mt(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ft.prototype.commit=function(e){return this.placement.commit(e),this.placement};var It=512/e.EXTENT/2,Lt=function(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<t.length;r++){var i=t.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}};Lt.prototype.getScaledCoordinates=function(t,n){var r=It/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}},Lt.prototype.findMatches=function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var o=e.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,t),u=0,l=a;u<l.length;u+=1){var c=l[u];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var Rt=function(){this.maxCrossTileID=0};Rt.prototype.generate=function(){return++this.maxCrossTileID};var Dt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Dt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=e},Dt.prototype.addBucket=function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>e.overscaledZ)for(var s in a){var u=a[s];u.tileID.isChildOf(e)&&u.findMatches(t.symbolInstances,e,i)}else{var l=a[e.scaledTo(Number(o)).key];l&&l.findMatches(t.symbolInstances,e,i)}}for(var c=0;c<t.symbolInstances.length;c++){var A=t.symbolInstances.get(c);A.crossTileID||(A.crossTileID=n.generate(),i[A.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Lt(e,t.symbolInstances,t.bucketInstanceId),!0},Dt.prototype.removeBucketCrossTileIDs=function(e,t){for(var n in t.indexedSymbolInstances)for(var r=0,i=t.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[e][i[r].crossTileID]},Dt.prototype.removeStaleBuckets=function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t};var Zt=function(){this.layerIndexes={},this.crossTileIDs=new Rt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Zt.prototype.addLayer=function(e,t,n){var r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Dt);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=t;a<s.length;a+=1){var u=s[a],l=u.getBucket(e);l&&e.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(u.tileID,l,this.crossTileIDs)&&(i=!0),o[l.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},Zt.prototype.pruneUnusedLayers=function(e){var t={};for(var n in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[n]||delete this.layerIndexes[n]};var Ut=function(t,n){return e.emitValidationErrors(t,n&&n.filter((function(e){return"source.canvas"!==e.identifier})))},jt=e.pick(Ne,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Nt=e.pick(Ne,["setCenter","setZoom","setBearing","setPitch"]),zt=function(){var t={},n=e.styleSpec.$version;for(var r in e.styleSpec.$root){var i,o=e.styleSpec.$root[r];o.required&&null!=(i="version"===r?n:"array"===o.type?[]:{})&&(t[r]=i)}return t}(),Qt=function(t){function n(r,i){var o=this;void 0===i&&(i={}),t.call(this),this.map=r,this.dispatcher=new C(Ze(),this),this.imageManager=new f,this.imageManager.setEventedParent(this),this.glyphManager=new m(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new x(256,512),this.crossTileSymbolIndex=new Zt,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(t){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,n){if(e.triggerPluginCompletionEvent(t),n&&n.every((function(e){return e})))for(var r in a.sourceCaches)a.sourceCaches[r].reload()}))})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=o.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadURL=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);var o=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(o,(function(t,n){r._request=null,t?r.fire(new e.ErrorEvent(t)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){r._request=null,r._load(t,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(zt,!1)},n.prototype._load=function(t,n){if(!n||!Ut(this,e.validateStyle(t))){for(var r in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(r,t.sources[r],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=je(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};for(var o=0,a=i;o<a.length;o+=1){var s=a[o];(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},n.prototype._loadSprite=function(t){var n=this;this._spriteRequest=function(t,n,r){var i,o,a,s=e.browser.devicePixelRatio>1?"@2x":"",u=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){u=null,a||(a=e,i=t,c())})),l=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){l=null,a||(a=e,o=t,c())}));function c(){if(a)r(a);else if(i&&o){var t=e.browser.getImageData(o),n={};for(var s in i){var u=i[s],l=u.width,c=u.height,A=u.x,f=u.y,h=u.sdf,p=u.pixelRatio,d=u.stretchX,g=u.stretchY,v=u.content,y=new e.RGBAImage({width:l,height:c});e.RGBAImage.copy(t,y,{x:A,y:f},{x:0,y:0},{width:l,height:c}),n[s]={data:y,pixelRatio:p,sdf:h,stretchX:d,stretchY:g,content:v}}r(null,n)}}return{cancel:function(){u&&(u.cancel(),u=null),l&&(l.cancel(),l=null)}}}(t,this.map._requestManager,(function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new e.Event("data",{dataType:"style"}))}))},n.prototype._validateLayer=function(t){var n=this.sourceCaches[t.source];if(n){var r=t.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+t.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&t.push(i.serialize())}return t},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var u={};for(var l in this.sourceCaches){var c=this.sourceCaches[l];u[l]=c.used,c.used=!1}for(var A=0,f=this._order;A<f.length;A+=1){var h=this._layers[f[A]];h.recalculate(t,this._availableImages),!h.isHidden(t.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}for(var p in u){var d=this.sourceCaches[p];u[p]!==d.used&&d.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:p}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}},n.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(t){var n=this;if(this._checkLoaded(),Ut(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=je(t.layers);var r=function(t,n){if(!t)return[{command:Ne.setStyle,args:[n]}];var r=[];try{if(!e.deepEqual(t.version,n.version))return[{command:Ne.setStyle,args:[n]}];e.deepEqual(t.center,n.center)||r.push({command:Ne.setCenter,args:[n.center]}),e.deepEqual(t.zoom,n.zoom)||r.push({command:Ne.setZoom,args:[n.zoom]}),e.deepEqual(t.bearing,n.bearing)||r.push({command:Ne.setBearing,args:[n.bearing]}),e.deepEqual(t.pitch,n.pitch)||r.push({command:Ne.setPitch,args:[n.pitch]}),e.deepEqual(t.sprite,n.sprite)||r.push({command:Ne.setSprite,args:[n.sprite]}),e.deepEqual(t.glyphs,n.glyphs)||r.push({command:Ne.setGlyphs,args:[n.glyphs]}),e.deepEqual(t.transition,n.transition)||r.push({command:Ne.setTransition,args:[n.transition]}),e.deepEqual(t.light,n.light)||r.push({command:Ne.setLight,args:[n.light]});var i={},o=[];!function(t,n,r,i){var o;for(o in n=n||{},t=t||{})t.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Qe(o,r,i));for(o in n)n.hasOwnProperty(o)&&(t.hasOwnProperty(o)?e.deepEqual(t[o],n[o])||("geojson"===t[o].type&&"geojson"===n[o].type&&Ve(t,n,o)?r.push({command:Ne.setGeoJSONSourceData,args:[o,n[o].data]}):He(o,n,r,i)):ze(o,n,r))}(t.sources,n.sources,o,i);var a=[];t.layers&&t.layers.forEach((function(e){i[e.source]?r.push({command:Ne.removeLayer,args:[e.id]}):a.push(e)})),r=r.concat(o),function(t,n,r){n=n||[];var i,o,a,s,u,l,c,A=(t=t||[]).map(We),f=n.map(We),h=t.reduce(Ke,{}),p=n.reduce(Ke,{}),d=A.slice(),g=Object.create(null);for(i=0,o=0;i<A.length;i++)p.hasOwnProperty(a=A[i])?o++:(r.push({command:Ne.removeLayer,args:[a]}),d.splice(d.indexOf(a,o),1));for(i=0,o=0;i<f.length;i++)d[d.length-1-i]!==(a=f[f.length-1-i])&&(h.hasOwnProperty(a)?(r.push({command:Ne.removeLayer,args:[a]}),d.splice(d.lastIndexOf(a,d.length-o),1)):o++,r.push({command:Ne.addLayer,args:[p[a],l=d[d.length-i]]}),d.splice(d.length-i,0,a),g[a]=!0);for(i=0;i<f.length;i++)if(s=h[a=f[i]],u=p[a],!g[a]&&!e.deepEqual(s,u))if(e.deepEqual(s.source,u.source)&&e.deepEqual(s["source-layer"],u["source-layer"])&&e.deepEqual(s.type,u.type)){for(c in Ge(s.layout,u.layout,r,a,null,Ne.setLayoutProperty),Ge(s.paint,u.paint,r,a,null,Ne.setPaintProperty),e.deepEqual(s.filter,u.filter)||r.push({command:Ne.setFilter,args:[a,u.filter]}),e.deepEqual(s.minzoom,u.minzoom)&&e.deepEqual(s.maxzoom,u.maxzoom)||r.push({command:Ne.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Ge(s[c],u[c],r,a,c.slice(6),Ne.setPaintProperty):e.deepEqual(s[c],u[c])||r.push({command:Ne.setLayerProperty,args:[a,c,u[c]]}));for(c in u)u.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Ge(s[c],u[c],r,a,c.slice(6),Ne.setPaintProperty):e.deepEqual(s[c],u[c])||r.push({command:Ne.setLayerProperty,args:[a,c,u[c]]}))}else r.push({command:Ne.removeLayer,args:[a]}),l=d[d.lastIndexOf(a)+1],r.push({command:Ne.addLayer,args:[u,l]})}(a,n.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:Ne.setStyle,args:[n]}]}return r}(this.serialize(),t).filter((function(e){return!(e.command in Nt)}));if(0===r.length)return!1;var i=r.filter((function(e){return!(e.command in jt)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(e){return e.command})).join(", ")+".");return r.forEach((function(e){"setTransition"!==e.command&&n[e.command].apply(n,e.args)})),this.stylesheet=t,!0},n.prototype.addImage=function(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,n),this._afterImageUpdated(t)},n.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},n.prototype.getImage=function(e){return this.imageManager.getImage(e)},n.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)},n.prototype._afterImageUpdated=function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(t,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[t]=new Te(t,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:t}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},n.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},n.prototype.addLayer=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===t.type){if(Ut(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers."+i,t,{arrayIndex:-1},r))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(e){return this._layers[e]},n.prototype.hasLayer=function(e){return e in this._layers},n.prototype.setLayerZoomRange=function(t,n,r){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(t);if(i){if(!e.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=e.clone$1(n),this._updateLayer(i)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},n.prototype.setLayoutProperty=function(t,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(t,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},n.prototype.setFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=t.sourceLayer,o=this.sourceCaches[r];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,t.id,n)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?t.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,t.id,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];if(void 0!==i){if("vector"!==i.getSource().type||r)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},n.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;for(var s=0,u=e;s<u.length;s+=1){var l=u[s][a];if(l)for(var c=0,A=l;c<A.length;c+=1)i.push(A[c])}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var f=[],h=this._order.length-1;h>=0;h--){var p=this._order[h];if(n(p))for(var d=i.length-1;d>=0;d--){var g=i[d].feature;if(r[g.layer.id]<h)break;f.push(g),i.pop()}else for(var v=0,y=e;v<y.length;v+=1){var m=y[v][p];if(m)for(var b=0,_=m;b<_.length;b+=1)f.push(_[b].feature)}}return f},n.prototype.queryRenderedFeatures=function(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],u=this._layers[s];if(!u)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[u.source]=!0}}var l=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[c]||l.push(D(this.sourceCaches[c],this._layers,this._serializedLayers,t,n,r));return this.placement&&l.push(function(e,t,n,r,i,o,a){for(var s={},u=o.queryRenderedSymbols(r),l=[],c=0,A=Object.keys(u).map(Number);c<A.length;c+=1)l.push(a[A[c]]);l.sort(Z);for(var f=function(){var n=p[h],r=n.featureIndex.lookupSymbolFeatures(u[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var o in r){var a=s[o]=s[o]||[],l=r[o];l.sort((function(e,t){var r=n.featureSortOrder;if(r){var i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(var c=0,A=l;c<A.length;c+=1)a.push(A[c])}},h=0,p=l;h<p.length;h+=1)f();var d=function(t){s[t].forEach((function(r){var i=r.feature,o=n[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var g in s)d(g);return s}(this._layers,this._serializedLayers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)},n.prototype.querySourceFeatures=function(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[t];return r?function(e,t){for(var n=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,t))}return r}(r,n):[]},n.prototype.addSourceType=function(e,t,r){return n.getSourceType(e)?r(new Error('A source type called "'+e+'" already exists.')):(n.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(t,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in t)if(!e.deepEqual(t[o],r[o])){i=!0;break}if(i){var a={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(a)}},n.prototype._validate=function(t,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Ut(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.styleSpec},i)))},n.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},n.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},n.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},n.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},n.prototype._updatePlacement=function(t,n,r,i,o){void 0===o&&(o=!1);for(var a=!1,s=!1,u={},l=0,c=this._order;l<c.length;l+=1){var A=this._layers[c[l]];if("symbol"===A.type){if(!u[A.source]){var f=this.sourceCaches[A.source];u[A.source]=f.getRenderableIds(!0).map((function(e){return f.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var h=this.crossTileSymbolIndex.addLayer(A,u[A.source],t.center.lng);a=a||h}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new Ft(t,this._order,o,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,u),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var p=0,d=this._order;p<d.length;p+=1){var g=this._layers[d[p]];"symbol"===g.type&&this.placement.updateLayerOpacities(g,u[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},n.prototype.getImages=function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)},n.prototype.getGlyphs=function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)},n.prototype.getResource=function(t,n,r){return e.makeRequest(n,r)},n}(e.Evented);Qt.getSourceType=function(e){return L[e]},Qt.setSourceType=function(e,t){L[e]=t},Qt.registerForPluginStateChange=e.registerForPluginStateChange;var Ht=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Vt=yn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Gt=yn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Wt=yn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Kt=yn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),qt=yn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Xt=yn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Yt=yn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Jt=yn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),$t=yn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),en=yn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),tn=yn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=yn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=yn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),on=yn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),an=yn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),sn=yn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),un=yn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),ln=yn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cn=yn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),An=yn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),fn=yn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),hn=yn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),pn=yn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),dn=yn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),gn=yn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),vn=yn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function yn(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:e=e.replace(n,(function(e,t,n,r,i){return s[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:t=t.replace(n,(function(e,t,n,r,i){var o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:r,staticUniforms:a}}var mn=Object.freeze({__proto__:null,prelude:Vt,background:Gt,backgroundPattern:Wt,circle:Kt,clippingMask:qt,heatmap:Xt,heatmapTexture:Yt,collisionBox:Jt,collisionCircle:$t,debug:en,fill:tn,fillOutline:nn,fillOutlinePattern:rn,fillPattern:on,fillExtrusion:an,fillExtrusionPattern:sn,hillshadePrepare:un,hillshade:ln,line:cn,lineGradient:An,linePattern:fn,lineSDF:hn,raster:pn,symbolIcon:dn,symbolSDF:gn,symbolTextAndIcon:vn}),bn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function _n(e){for(var t=[],n=0;n<e.length;n++)if(null!==e[n]){var r=e[n].split(" ");t.push(r.pop())}return t}bn.prototype.bind=function(e,t,n,r,i,o,a,s){this.context=e;for(var u=this.boundPaintVertexBuffers.length!==r.length,l=0;!u&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(u=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===n&&!u&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,n,r,i,o,a,s)},bn.prototype.freshBind=function(e,t,n,r,i,o,a){var s,u=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var A=u;A<s;A++)c.disableVertexAttribArray(A)}t.enableAttributes(c,e);for(var f=0,h=n;f<h.length;f+=1)h[f].enableAttributes(c,e);o&&o.enableAttributes(c,e),a&&a.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);for(var p=0,d=n;p<d.length;p+=1){var g=d[p];g.bind(),g.setVertexAttribPointers(c,e,i)}o&&(o.bind(),o.setVertexAttribPointers(c,e,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,e,i)),l.currentNumAttributes=u},bn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var wn=function(e,t,n,r,i,o){var a=e.gl;this.program=a.createProgram();for(var s=_n(n.staticAttributes),u=r?r.getBinderAttributes():[],l=s.concat(u),c=n.staticUniforms?_n(n.staticUniforms):[],A=r?r.getBinderUniforms():[],f=[],h=0,p=c.concat(A);h<p.length;h+=1){var d=p[h];f.indexOf(d)<0&&f.push(d)}var g=r?r.defines():[];o&&g.push("#define OVERDRAW_INSPECTOR;");var v=g.concat(Vt.fragmentSource,n.fragmentSource).join("\n"),y=g.concat(Vt.vertexSource,n.vertexSource).join("\n"),m=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(m,v),a.compileShader(m),a.attachShader(this.program,m);var b=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(b,y),a.compileShader(b),a.attachShader(this.program,b),this.attributes={};var _={};this.numAttributes=l.length;for(var w=0;w<this.numAttributes;w++)l[w]&&(a.bindAttribLocation(this.program,w,l[w]),this.attributes[l[w]]=w);a.linkProgram(this.program),a.deleteShader(b),a.deleteShader(m);for(var x=0;x<f.length;x++){var C=f[x];if(C&&!_[C]){var B=a.getUniformLocation(this.program,C);B&&(_[C]=B)}}this.fixedUniforms=i(e,_),this.binderUniforms=r?r.getUniforms(e,_):[]}}};function xn(e,t,n){var r=1/ft(n,1,t.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}wn.prototype.draw=function(e,t,n,r,i,o,a,s,u,l,c,A,f,h,p,d){var g,v=e.gl;if(!this.failedToCreate){for(var y in e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(o),this.fixedUniforms)this.fixedUniforms[y].set(a[y]);h&&h.setUniforms(e,this.binderUniforms,A,{zoom:f});for(var m=(g={},g[v.LINES]=2,g[v.TRIANGLES]=3,g[v.LINE_STRIP]=1,g)[t],b=0,_=c.get();b<_.length;b+=1){var w=_[b],x=w.vaos||(w.vaos={});(x[s]||(x[s]=new bn)).bind(e,this,u,h?h.getPaintVertexBuffers():[],l,w.vertexOffset,p,d),v.drawElements(t,w.primitiveLength*m,v.UNSIGNED_SHORT,w.primitiveOffset*m*2)}}};var Cn=function(t,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],u=e.create$1();"viewport"===o.properties.get("anchor")&&e.fromRotation(u,-n.transform.angle),e.transformMat3(s,s,u);var l=o.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+r,u_opacity:i}},Bn=function(t,n,r,i,o,a,s){return e.extend(Cn(t,n,r,i),xn(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},En=function(e){return{u_matrix:e}},Sn=function(t,n,r,i){return e.extend(En(t),xn(r,n,i))},kn=function(e,t){return{u_matrix:e,u_world:t}},On=function(t,n,r,i,o){return e.extend(Sn(t,n,r,i),{u_world:o})},Tn=function(t,n,r,i){var o,a,s=t.transform;if("map"===i.paint.get("circle-pitch-alignment")){var u=ft(r,1,s.zoom);o=!0,a=[u,u]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:a}},Pn=function(e,t,n){var r=ft(n,1,t.zoom),i=Math.pow(2,t.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*i),t.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},Mn=function(e,t,n){return{u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},Fn=function(e,t,n){return void 0===n&&(n=1),{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}},In=function(e){return{u_matrix:e}},Ln=function(e,t,n,r){return{u_matrix:e,u_extrude_scale:ft(t,1,n),u_intensity:r}},Rn=function(t,n,r){var i=t.transform;return{u_matrix:Nn(t,n,r),u_ratio:1/ft(n,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Dn=function(t,n,r,i){return e.extend(Rn(t,n,r),{u_image:0,u_image_height:i})},Zn=function(t,n,r,i){var o=t.transform,a=jn(n,o);return{u_matrix:Nn(t,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/ft(n,1,o.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Un=function(t,n,r,i,o){var a=t.lineAtlas,s=jn(n,t.transform),u="round"===r.layout.get("line-cap"),l=a.getDash(i.from,u),c=a.getDash(i.to,u),A=l.width*o.fromScale,f=c.width*o.toScale;return e.extend(Rn(t,n,r),{u_patternscale_a:[s/A,-l.height/2],u_patternscale_b:[s/f,-c.height/2],u_sdfgamma:a.width/(256*Math.min(A,f)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:l.y,u_tex_y_b:c.y,u_mix:o.t})};function jn(e,t){return 1/ft(e,1,t.tileZoom)}function Nn(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var zn=function(e,t,n,r,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Qn(i.paint.get("raster-hue-rotate"))};var o,a};function Qn(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var Hn,Vn=function(e,t,n,r,i,o,a,s,u,l){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+r,u_texsize:l,u_texture:0}},Gn=function(t,n,r,i,o,a,s,u,l,c,A){var f=o.transform;return e.extend(Vn(t,n,r,i,o,a,s,u,l,c),{u_gamma_scale:i?Math.cos(f._pitch)*f.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+A})},Wn=function(t,n,r,i,o,a,s,u,l,c){return e.extend(Gn(t,n,r,i,o,a,s,u,!0,l,!0),{u_texsize_icon:c,u_texture_icon:1})},Kn=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},qn=function(t,n,r,i,o,a){return e.extend(function(e,t,n,r){var i=n.imageManager.getPattern(e.from.toString()),o=n.imageManager.getPattern(e.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,u=a.height,l=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/l,A=c*(r.tileID.canonical.x+r.tileID.wrap*l),f=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,u],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/ft(r,1,n.transform.tileZoom),u_pixel_coord_upper:[A>>16,f>>16],u_pixel_coord_lower:[65535&A,65535&f]}}(i,a,r,o),{u_matrix:t,u_opacity:n})},Xn={fillExtrusion:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fillExtrusionPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fill:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},fillPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},fillOutline:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}},fillOutlinePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},circle:function(t,n){return{u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},collisionBox:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}},collisionCircle:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,n.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,n.u_viewport_size)}},debug:function(t,n){return{u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_overlay:new e.Uniform1i(t,n.u_overlay),u_overlay_scale:new e.Uniform1f(t,n.u_overlay_scale)}},clippingMask:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmap:function(t,n){return{u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmapTexture:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}},hillshade:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}},hillshadePrepare:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_unpack:new e.Uniform4f(t,n.u_unpack)}},line:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels)}},lineGradient:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image),u_image_height:new e.Uniform1f(t,n.u_image_height)}},linePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_image:new e.Uniform1i(t,n.u_image),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},lineSDF:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}},raster:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}},symbolIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}},symbolSDF:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},symbolTextAndIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texsize_icon:new e.Uniform2f(t,n.u_texsize_icon),u_texture:new e.Uniform1i(t,n.u_texture),u_texture_icon:new e.Uniform1i(t,n.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},background:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}},backgroundPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)}}};function Yn(t,n,r,i,o,a,s){for(var u=t.context,l=u.gl,c=t.useProgram("collisionBox"),A=[],f=0,h=0,p=0;p<i.length;p++){var d=i[p],g=n.getTile(d),v=g.getBucket(r);if(v){var y=d.posMatrix;0===o[0]&&0===o[1]||(y=t.translatePosMatrix(d.posMatrix,g,o,a));var m=s?v.textCollisionBox:v.iconCollisionBox,b=v.collisionCircleArray;if(b.length>0){var _=e.create(),w=y;e.mul(_,v.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(_,_,v.placementViewportMatrix),A.push({circleArray:b,circleOffset:h,transform:w,invTransform:_}),h=f+=b.length/4}m&&c.draw(u,l.LINES,Be.disabled,Ee.disabled,t.colorModeForRenderPass(),ke.disabled,Pn(y,t.transform,g),r.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,null,t.transform.zoom,null,null,m.collisionVertexBuffer)}}if(s&&A.length){var x=t.useProgram("collisionCircle"),C=new e.StructArrayLayout2f1f2i16;C.resize(4*f),C._trim();for(var B=0,E=0,S=A;E<S.length;E+=1)for(var k=S[E],O=0;O<k.circleArray.length/4;O++){var T=4*O,P=k.circleArray[T+0],M=k.circleArray[T+1],F=k.circleArray[T+2],I=k.circleArray[T+3];C.emplace(B++,P,M,F,I,0),C.emplace(B++,P,M,F,I,1),C.emplace(B++,P,M,F,I,2),C.emplace(B++,P,M,F,I,3)}(!Hn||Hn.length<2*f)&&(Hn=function(t){var n=2*t,r=new e.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var o=6*i;r.uint16[o+0]=4*i+0,r.uint16[o+1]=4*i+1,r.uint16[o+2]=4*i+2,r.uint16[o+3]=4*i+2,r.uint16[o+4]=4*i+3,r.uint16[o+5]=4*i+0}return r}(f));for(var L=u.createIndexBuffer(Hn,!0),R=u.createVertexBuffer(C,e.collisionCircleLayout.members,!0),D=0,Z=A;D<Z.length;D+=1){var U=Z[D],j=Mn(U.transform,U.invTransform,t.transform);x.draw(u,l.TRIANGLES,Be.disabled,Ee.disabled,t.colorModeForRenderPass(),ke.disabled,j,r.id,R,L,e.SegmentVector.simpleSegment(0,2*U.circleOffset,U.circleArray.length,U.circleArray.length/2),null,t.transform.zoom,null,null,null)}R.destroy(),L.destroy()}}var Jn=e.identity(new Float32Array(16));function $n(t,n,r,i,o,a){var s=e.getAnchorAlignment(t),u=-(s.horizontalAlign-.5)*n,l=-(s.verticalAlign-.5)*r,c=e.evaluateVariableOffset(t,i);return new e.Point((u/o+c[0])*a,(l/o+c[1])*a)}function er(t,n,r,i,o,a,s,u,l,c,A){var f=t.text.placedSymbolArray,h=t.text.dynamicLayoutVertexArray,p=t.icon.dynamicLayoutVertexArray,d={};h.clear();for(var g=0;g<f.length;g++){var v=f.get(g),y=v.hidden||!v.crossTileID||t.allowVerticalPlacement&&!v.placedOrientation?null:i[v.crossTileID];if(y){var m=new e.Point(v.anchorX,v.anchorY),b=$e(m,r?u:s),_=et(a.cameraToCenterDistance,b.signedDistanceFromCamera),w=o.evaluateSizeForFeature(t.textSizeData,c,v)*_/e.ONE_EM;r&&(w*=t.tilePixelRatio/l);for(var x=$n(y.anchor,y.width,y.height,y.textOffset,y.textBoxScale,w),C=r?$e(m.add(x),s).point:b.point.add(n?x.rotate(-a.angle):x),B=t.allowVerticalPlacement&&v.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,E=0;E<v.numGlyphs;E++)e.addDynamicAttributes(h,C,B);A&&v.associatedIconIndex>=0&&(d[v.associatedIconIndex]={shiftedAnchor:C,angle:B})}else lt(v.numGlyphs,h)}if(A){p.clear();for(var S=t.icon.placedSymbolArray,k=0;k<S.length;k++){var O=S.get(k);if(O.hidden)lt(O.numGlyphs,p);else{var T=d[k];if(T)for(var P=0;P<O.numGlyphs;P++)e.addDynamicAttributes(p,T.shiftedAnchor,T.angle);else lt(O.numGlyphs,p)}}t.icon.dynamicLayoutVertexBuffer.updateData(p)}t.text.dynamicLayoutVertexBuffer.updateData(h)}function tr(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function nr(t,n,r,i,o,a,s,u,l,c,A,f){for(var h=t.context,p=h.gl,d=t.transform,g="map"===u,v="map"===l,y=g&&"point"!==r.layout.get("symbol-placement"),m=g&&!v&&!y,b=void 0!==r.layout.get("symbol-sort-key").constantOr(1),_=!1,w=t.depthModeForSublayer(0,Be.ReadOnly),x=r.layout.get("text-variable-anchor"),C=[],B=0,E=i;B<E.length;B+=1){var S=E[B],k=n.getTile(S),O=k.getBucket(r);if(O){var T=o?O.text:O.icon;if(T&&T.segments.get().length){var P=T.programConfigurations.get(r.id),M=o||O.sdfIcons,F=o?O.textSizeData:O.iconSizeData,I=v||0!==d.pitch,L=t.useProgram(tr(M,o,O),P),R=e.evaluateSizeForZoom(F,d.zoom),D=void 0,Z=[0,0],U=void 0,j=void 0,N=null,z=void 0;if(o)U=k.glyphAtlasTexture,j=p.LINEAR,D=k.glyphAtlasTexture.size,O.iconsInText&&(Z=k.imageAtlasTexture.size,N=k.imageAtlasTexture,z=I||t.options.rotating||t.options.zooming||"composite"===F.kind||"camera"===F.kind?p.LINEAR:p.NEAREST);else{var Q=1!==r.layout.get("icon-size").constantOr(0)||O.iconsNeedLinear;U=k.imageAtlasTexture,j=M||t.options.rotating||t.options.zooming||Q||I?p.LINEAR:p.NEAREST,D=k.imageAtlasTexture.size}var H=ft(k,1,t.transform.zoom),V=Ye(S.posMatrix,v,g,t.transform,H),G=Je(S.posMatrix,v,g,t.transform,H),W=x&&O.hasTextData(),K="none"!==r.layout.get("icon-text-fit")&&W&&O.hasIconData();y&&nt(O,S.posMatrix,t,o,V,G,v,c);var q=t.translatePosMatrix(S.posMatrix,k,a,s),X=y||o&&x||K?Jn:V,Y=t.translatePosMatrix(G,k,a,s,!0),J=M&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),$={program:L,buffers:T,uniformValues:M?O.iconsInText?Wn(F.kind,R,m,v,t,q,X,Y,D,Z):Gn(F.kind,R,m,v,t,q,X,Y,o,D,!0):Vn(F.kind,R,m,v,t,q,X,Y,o,D),atlasTexture:U,atlasTextureIcon:N,atlasInterpolation:j,atlasInterpolationIcon:z,isSDF:M,hasHalo:J};if(b&&O.canOverlap){_=!0;for(var ee=0,te=T.segments.get();ee<te.length;ee+=1){var ne=te[ee];C.push({segments:new e.SegmentVector([ne]),sortKey:ne.sortKey,state:$})}}else C.push({segments:T.segments,sortKey:0,state:$})}}}_&&C.sort((function(e,t){return e.sortKey-t.sortKey}));for(var re=0,ie=C;re<ie.length;re+=1){var oe=ie[re],ae=oe.state;if(h.activeTexture.set(p.TEXTURE0),ae.atlasTexture.bind(ae.atlasInterpolation,p.CLAMP_TO_EDGE),ae.atlasTextureIcon&&(h.activeTexture.set(p.TEXTURE1),ae.atlasTextureIcon&&ae.atlasTextureIcon.bind(ae.atlasInterpolationIcon,p.CLAMP_TO_EDGE)),ae.isSDF){var se=ae.uniformValues;ae.hasHalo&&(se.u_is_halo=1,rr(ae.buffers,oe.segments,r,t,ae.program,w,A,f,se)),se.u_is_halo=0}rr(ae.buffers,oe.segments,r,t,ae.program,w,A,f,ae.uniformValues)}}function rr(e,t,n,r,i,o,a,s,u){var l=r.context;i.draw(l,l.gl.TRIANGLES,o,a,s,ke.disabled,u,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function ir(e,t,n,r,i,o,a){var s,u,l,c,A,f=e.context.gl,h=n.paint.get("fill-pattern"),p=h&&h.constantOr(1),d=n.getCrossfadeParameters();a?(u=p&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=f.LINES):(u=p?"fillPattern":"fill",s=f.TRIANGLES);for(var g=0,v=r;g<v.length;g+=1){var y=v[g],m=t.getTile(y);if(!p||m.patternsLoaded()){var b=m.getBucket(n);if(b){var _=b.programConfigurations.get(n.id),w=e.useProgram(u,_);p&&(e.context.activeTexture.set(f.TEXTURE0),m.imageAtlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE),_.updatePaintBuffers(d));var x=h.constantOr(null);if(x&&m.imageAtlas){var C=m.imageAtlas,B=C.patternPositions[x.to.toString()],E=C.patternPositions[x.from.toString()];B&&E&&_.setConstantPatternPositions(B,E)}var S=e.translatePosMatrix(y.posMatrix,m,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,A=b.segments2;var k=[f.drawingBufferWidth,f.drawingBufferHeight];l="fillOutlinePattern"===u&&p?On(S,e,d,m,k):kn(S,k)}else c=b.indexBuffer,A=b.segments,l=p?Sn(S,e,d,m):En(S);w.draw(e.context,s,i,e.stencilModeForClipping(y),o,ke.disabled,l,n.id,b.layoutVertexBuffer,c,A,n.paint,e.transform.zoom,_)}}}}function or(e,t,n,r,i,o,a){for(var s=e.context,u=s.gl,l=n.paint.get("fill-extrusion-pattern"),c=l.constantOr(1),A=n.getCrossfadeParameters(),f=n.paint.get("fill-extrusion-opacity"),h=0,p=r;h<p.length;h+=1){var d=p[h],g=t.getTile(d),v=g.getBucket(n);if(v){var y=v.programConfigurations.get(n.id),m=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",y);c&&(e.context.activeTexture.set(u.TEXTURE0),g.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),y.updatePaintBuffers(A));var b=l.constantOr(null);if(b&&g.imageAtlas){var _=g.imageAtlas,w=_.patternPositions[b.to.toString()],x=_.patternPositions[b.from.toString()];w&&x&&y.setConstantPatternPositions(w,x)}var C=e.translatePosMatrix(d.posMatrix,g,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),B=n.paint.get("fill-extrusion-vertical-gradient"),E=c?Bn(C,e,B,f,d,A,g):Cn(C,e,B,f);m.draw(s,s.gl.TRIANGLES,i,o,a,ke.backCCW,E,n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,n.paint,e.transform.zoom,y)}}}function ar(t,n,r,i,o,a){var s=t.context,u=s.gl,l=n.fbo;if(l){var c=t.useProgram("hillshade");s.activeTexture.set(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,l.colorAttachment.get());var A=function(t,n,r){var i=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color"),s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);var u,l,c,A=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(n.tileID.toUnwrapped(),A),u_image:0,u_latrange:(u=n.tileID,l=Math.pow(2,u.canonical.z),c=u.canonical.y,[new e.MercatorCoordinate(0,c/l).toLngLat().lat,new e.MercatorCoordinate(0,(c+1)/l).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}}(t,n,r);c.draw(s,u.TRIANGLES,i,o,a,ke.disabled,A,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function sr(t,n,r,i,o,a){var s=t.context,u=s.gl,l=n.dem;if(l&&l.data){var c=l.dim,A=l.stride,f=l.getPixels();if(s.activeTexture.set(u.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(A),n.demTexture){var h=n.demTexture;h.update(f,{premultiply:!1}),h.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new e.Texture(s,f,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);s.activeTexture.set(u.TEXTURE0);var p=n.fbo;if(!p){var d=new e.Texture(s,{width:c,height:c,data:null},u.RGBA);d.bind(u.LINEAR,u.CLAMP_TO_EDGE),(p=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(d.texture)}s.bindFramebuffer.set(p.framebuffer),s.viewport.set([0,0,c,c]),t.useProgram("hillshadePrepare").draw(s,u.TRIANGLES,i,o,a,ke.disabled,function(t,n){var r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,l),r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function ur(t,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=e.browser.now(),u=(s-t.timeAdded)/a,l=n?(s-n.timeAdded)/a:-1,c=r.getSource(),A=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),f=!n||Math.abs(n.tileID.overscaledZ-A)>Math.abs(t.tileID.overscaledZ-A),h=f&&t.refreshedUponExpiration?1:e.clamp(f?u:1-l,0,1);return t.refreshedUponExpiration&&u>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}var lr=new e.Color(1,0,0,1),cr=new e.Color(0,1,0,1),Ar=new e.Color(0,0,1,1),fr=new e.Color(1,0,1,1),hr=new e.Color(0,1,1,1);function pr(e,t,n,r){gr(e,0,t+n/2,e.transform.width,n,r)}function dr(e,t,n,r){gr(e,t-n/2,0,n,e.transform.height,r)}function gr(t,n,r,i,o,a){var s=t.context,u=s.gl;u.enable(u.SCISSOR_TEST),u.scissor(n*e.browser.devicePixelRatio,r*e.browser.devicePixelRatio,i*e.browser.devicePixelRatio,o*e.browser.devicePixelRatio),s.clear({color:a}),u.disable(u.SCISSOR_TEST)}function vr(t,n,r){var i=t.context,o=i.gl,a=r.posMatrix,s=t.useProgram("debug"),u=Be.disabled,l=Ee.disabled,c=t.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,u,l,c,ke.disabled,Fn(a,e.Color.red),"$debug",t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var A=n.getTileByID(r.key).latestRawTileData,f=Math.floor((A&&A.byteLength||0)/1024),h=n.getTile(r).tileSize,p=512/Math.min(h,512)*(r.overscaledZ/t.transform.zoom)*.5,d=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(d+=" => "+r.overscaledZ),function(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,d+" "+f+"kb"),s.draw(i,o.TRIANGLES,u,l,Se.alphaBlended,ke.disabled,Fn(a,e.Color.transparent,p),"$debug",t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var yr={symbol:function(t,n,r,i,o){if("translucent"===t.renderPass){var a=Ee.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,i,o,a,s){for(var u=n.transform,l="map"===o,c="map"===a,A=0,f=t;A<f.length;A+=1){var h=f[A],p=i.getTile(h),d=p.getBucket(r);if(d&&d.text&&d.text.segments.get().length){var g=e.evaluateSizeForZoom(d.textSizeData,u.zoom),v=ft(p,1,n.transform.zoom),y=Ye(h.posMatrix,c,l,n.transform,v),m="none"!==r.layout.get("icon-text-fit")&&d.hasIconData();if(g){var b=Math.pow(2,u.zoom-p.tileID.overscaledZ);er(d,l,c,s,e.symbolSize,u,y,h.posMatrix,b,g,m)}}}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&nr(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&nr(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Yn(t,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Yn(t,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(t,n,r,i){if("translucent"===t.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),u=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var l=t.context,c=l.gl,A=t.depthModeForSublayer(0,Be.ReadOnly),f=Ee.disabled,h=t.colorModeForRenderPass(),p=[],d=0;d<i.length;d++){var g=i[d],v=n.getTile(g),y=v.getBucket(r);if(y){var m=y.programConfigurations.get(r.id),b={programConfiguration:m,program:t.useProgram("circle",m),layoutVertexBuffer:y.layoutVertexBuffer,indexBuffer:y.indexBuffer,uniformValues:Tn(t,g,v,r)};if(u)for(var _=0,w=y.segments.get();_<w.length;_+=1){var x=w[_];p.push({segments:new e.SegmentVector([x]),sortKey:x.sortKey,state:b})}else p.push({segments:y.segments,sortKey:0,state:b})}}u&&p.sort((function(e,t){return e.sortKey-t.sortKey}));for(var C=0,B=p;C<B.length;C+=1){var E=B[C],S=E.state;S.program.draw(l,c.TRIANGLES,A,f,h,ke.disabled,S.uniformValues,r.id,S.layoutVertexBuffer,S.indexBuffer,E.segments,r.paint,t.transform.zoom,S.programConfiguration)}}}},heatmap:function(t,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,a=o.gl,s=Ee.disabled,u=new Se([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n){var r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,n,r){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,t,o,i)}}(o,t,r),o.clear({color:e.Color.transparent});for(var l=0;l<i.length;l++){var c=i[l];if(!n.hasRenderableParent(c)){var A=n.getTile(c),f=A.getBucket(r);if(f){var h=f.programConfigurations.get(r.id);t.useProgram("heatmap",h).draw(o,a.TRIANGLES,Be.disabled,s,u,ke.disabled,Ln(c.posMatrix,A,t.transform.zoom,r.paint.get("heatmap-intensity")),r.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,r.paint,t.transform.zoom,h)}}}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new e.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Be.disabled,Ee.disabled,t.colorModeForRenderPass(),ke.disabled,function(t,n,r,i){var o=e.create();e.ortho(o,0,t.width,t.height,0,0,1);var a=t.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(t,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))},line:function(t,n,r,i){if("translucent"===t.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=t.depthModeForSublayer(0,Be.ReadOnly),u=t.colorModeForRenderPass(),l=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),A=c.constantOr(1),f=r.paint.get("line-gradient"),h=r.getCrossfadeParameters(),p=A?"linePattern":l?"lineSDF":f?"lineGradient":"line",d=t.context,g=d.gl,v=!0,y=0,m=i;y<m.length;y+=1){var b=m[y],_=n.getTile(b);if(!A||_.patternsLoaded()){var w=_.getBucket(r);if(w){var x=w.programConfigurations.get(r.id),C=t.context.program.get(),B=t.useProgram(p,x),E=v||B.program!==C,S=c.constantOr(null);if(S&&_.imageAtlas){var k=_.imageAtlas,O=k.patternPositions[S.to.toString()],T=k.patternPositions[S.from.toString()];O&&T&&x.setConstantPatternPositions(O,T)}var P=A?Zn(t,_,r,h):l?Un(t,_,r,l,h):f?Dn(t,_,r,w.lineClipsArray.length):Rn(t,_,r);if(A)d.activeTexture.set(g.TEXTURE0),_.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),x.updatePaintBuffers(h);else if(l&&(E||t.lineAtlas.dirty))d.activeTexture.set(g.TEXTURE0),t.lineAtlas.bind(d);else if(f){var M=w.gradients[r.id],F=M.texture;if(r.gradientVersion!==M.version){var I=256;if(r.stepInterpolant){var L=n.getSource().maxzoom,R=b.canonical.z===L?Math.ceil(1<<t.transform.maxZoom-b.canonical.z):1;I=e.clamp(e.nextPowerOfTwo(w.maxLineLength/e.EXTENT*1024*R),256,d.maxTextureSize)}M.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:I,image:M.gradient||void 0,clips:w.lineClipsArray}),M.texture?M.texture.update(M.gradient):M.texture=new e.Texture(d,M.gradient,g.RGBA),M.version=r.gradientVersion,F=M.texture}d.activeTexture.set(g.TEXTURE0),F.bind(r.stepInterpolant?g.NEAREST:g.LINEAR,g.CLAMP_TO_EDGE)}B.draw(d,g.TRIANGLES,s,t.stencilModeForClipping(b),u,ke.disabled,P,r.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,r.paint,t.transform.zoom,x,w.layoutVertexBuffer2),v=!1}}}}},fill:function(t,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),u=r.paint.get("fill-pattern"),l=t.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===l){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?Be.ReadWrite:Be.ReadOnly);ir(t,n,r,i,c,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){var A=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Be.ReadOnly);ir(t,n,r,i,A,s,!0)}}},"fill-extrusion":function(e,t,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){var o=new Be(e.context.gl.LEQUAL,Be.ReadWrite,e.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))or(e,t,n,r,o,Ee.disabled,Se.disabled),or(e,t,n,r,o,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var a=e.colorModeForRenderPass();or(e,t,n,r,o,Ee.disabled,a)}}},hillshade:function(e,t,n,r){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var i=e.context,o=e.depthModeForSublayer(0,Be.ReadOnly),a=e.colorModeForRenderPass(),s="translucent"===e.renderPass?e.stencilConfigForOverlap(r):[{},r],u=s[0],l=0,c=s[1];l<c.length;l+=1){var A=c[l],f=t.getTile(A);f.needsHillshadePrepare&&"offscreen"===e.renderPass?sr(e,f,n,o,Ee.disabled,a):"translucent"===e.renderPass&&ar(e,f,n,o,u[A.overscaledZ],a)}i.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,n,r){if("translucent"===e.renderPass&&0!==n.paint.get("raster-opacity")&&r.length)for(var i=e.context,o=i.gl,a=t.getSource(),s=e.useProgram("raster"),u=e.colorModeForRenderPass(),l=a instanceof M?[{},r]:e.stencilConfigForOverlap(r),c=l[0],A=l[1],f=A[A.length-1].overscaledZ,h=!e.options.moving,p=0,d=A;p<d.length;p+=1){var g=d[p],v=e.depthModeForSublayer(g.overscaledZ-f,1===n.paint.get("raster-opacity")?Be.ReadWrite:Be.ReadOnly,o.LESS),y=t.getTile(g),m=e.transform.calculatePosMatrix(g.toUnwrapped(),h);y.registerFadeDuration(n.paint.get("raster-fade-duration"));var b=t.findLoadedParent(g,0),_=ur(y,b,t,n,e.transform),w=void 0,x=void 0,C="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),y.texture.bind(C,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),b?(b.texture.bind(C,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,b.tileID.overscaledZ-y.tileID.overscaledZ),x=[y.tileID.canonical.x*w%1,y.tileID.canonical.y*w%1]):y.texture.bind(C,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var B=zn(m,x||[0,0],w||1,_,n);a instanceof M?s.draw(i,o.TRIANGLES,v,Ee.disabled,u,ke.disabled,B,n.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,v,c[g.overscaledZ],u,ke.disabled,B,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=e.context,a=o.gl,s=e.transform,u=s.tileSize,l=n.paint.get("background-pattern");if(!e.isPatternMissing(l)){var c=!l&&1===r.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===c){var A=Ee.disabled,f=e.depthModeForSublayer(0,"opaque"===c?Be.ReadWrite:Be.ReadOnly),h=e.colorModeForRenderPass(),p=e.useProgram(l?"backgroundPattern":"background"),d=s.coveringTiles({tileSize:u});l&&(o.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));for(var g=n.getCrossfadeParameters(),v=0,y=d;v<y.length;v+=1){var m=y[v],b=e.transform.calculatePosMatrix(m.toUnwrapped()),_=l?qn(b,i,e,l,{tileID:m,tileSize:u},g):Kn(b,i,r);p.draw(o,a.TRIANGLES,f,A,h,ke.disabled,_,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,n){for(var r=0;r<n.length;r++)vr(e,t,n[r])},custom:function(e,t,n){var r=e.context,i=n.implementation;if("offscreen"===e.renderPass){var o=i.prerender;o&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),o.call(i,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(Ee.disabled);var a="3d"===i.renderingMode?new Be(e.context.gl.LEQUAL,Be.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,Be.ReadOnly);r.setDepthMode(a),i.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}},mr=function(e,t){this.context=new Oe(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=Te.maxUnderzooming+Te.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Zt,this.gpuTimers={}};mr.prototype.resize=function(t,n){if(this.width=t*e.browser.devicePixelRatio,this.height=n*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1)this.style._layers[i[r]].resize()},mr.prototype.setup=function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,Ht.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,Ht.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,P.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(o,Ht.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var u=this.context.gl;this.stencilClearMode=new Ee({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},mr.prototype.clearStencil=function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,Be.disabled,this.stencilClearMode,Se.disabled,ke.disabled,In(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},mr.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(Se.disabled),n.setDepthMode(Be.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,Be.disabled,new Ee({func:r.ALWAYS,mask:0},u,255,r.KEEP,r.KEEP,r.REPLACE),Se.disabled,ke.disabled,In(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},mr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Ee({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},mr.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Ee({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},mr.prototype.stencilConfigForOverlap=function(e){var t,n=this.context.gl,r=e.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),i=r[r.length-1].overscaledZ,o=r[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+i]=new Ee({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[a,r]}return[(t={},t[i]=Ee.disabled,t),r]},mr.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Se([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Se.unblended:Se.alphaBlended},mr.prototype.depthModeForSublayer=function(e,t,n){if(!this.opaquePassEnabledForLayer())return Be.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new Be(n||this.context.gl.LEQUAL,t,[r,r])},mr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},mr.prototype.render=function(t,n){var r=this;this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var u,l,c={},A={},f={};for(var h in o){var p=o[h];c[h]=p.getVisibleCoordinates(),A[h]=c[h].slice().reverse(),f[h]=p.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var d=0;d<i.length;d++)if(this.style._layers[i[d]].is3D()){this.opaquePassCutoff=d;break}this.renderPass="offscreen";for(var g=0,v=i;g<v.length;g+=1){var y=this.style._layers[v[g]];if(y.hasOffscreenPass()&&!y.isHidden(this.transform.zoom)){var m=A[y.source];("custom"===y.type||m.length)&&this.renderLayer(this,o[y.source],y,m)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var b=this.style._layers[i[this.currentLayer]],_=o[b.source],w=c[b.source];this._renderTileClippingMasks(b,w),this.renderLayer(this,_,b,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var x=this.style._layers[i[this.currentLayer]],C=o[x.source],B=("symbol"===x.type?f:A)[x.source];this._renderTileClippingMasks(x,c[x.source]),this.renderLayer(this,C,x,B)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(r.transform.zoom)&&(e.source!==(l&&l.id)&&(l=r.style.sourceCaches[e.source]),(!u||u.getSource().maxzoom<l.getSource().maxzoom)&&(u=l))})),u&&yr.debug(this,u,u.getVisibleCoordinates())),this.options.showPadding&&function(e){var t=e.transform.padding;pr(e,e.transform.height-(t.top||0),3,lr),pr(e,t.bottom||0,3,cr),dr(e,t.left||0,3,Ar),dr(e,e.transform.width-(t.right||0),3,fr);var n=e.transform.centerPoint;!function(e,t,n,r){gr(e,t-1,n-10,2,20,r),gr(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,hr)}(this),this.context.setDefault()},mr.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),yr[n.type](e,t,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},mr.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}},mr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},mr.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},mr.prototype.queryGpuTimers=function(e){var t={};for(var n in e){var r=e[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=o}return t},mr.prototype.translatePosMatrix=function(t,n,r,i,o){if(!r[0]&&!r[1])return t;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);r=[r[0]*u-r[1]*s,r[0]*s+r[1]*u]}var l=[o?r[0]:ft(n,r[0],this.transform.zoom),o?r[1]:ft(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,l),c},mr.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},mr.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},mr.prototype.isPatternMissing=function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n},mr.prototype.useProgram=function(e,t){this.cache=this.cache||{};var n=""+e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new wn(this.context,e,mn[e],t,Xn[e],this._showOverdrawInspector)),this.cache[n]},mr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},mr.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)},mr.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},mr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var br=function(e,t){this.points=e,this.planes=t};br.fromInvProjectionMatrix=function(t,n,r){var i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return e.transformMat4([],n,t)})).map((function(t){return e.scale$1([],t,1/t[3]/n*i)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var n=e.sub([],o[t[0]],o[t[1]]),r=e.sub([],o[t[2]],o[t[1]]),i=e.normalize([],e.cross([],n,r)),a=-e.dot(i,o[t[1]]);return i.concat(a)}));return new br(o,a)};var _r=function(t,n){this.min=t,this.max=n,this.center=e.scale$2([],e.add([],this.min,this.max),.5)};_r.prototype.quadrant=function(t){for(var n=[t%2==0,t<2],r=e.clone$2(this.min),i=e.clone$2(this.max),o=0;o<n.length;o++)r[o]=n[o]?this.min[o]:this.center[o],i[o]=n[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new _r(r,i)},_r.prototype.distanceX=function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]},_r.prototype.distanceY=function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]},_r.prototype.intersects=function(t){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<t.planes.length;i++){for(var o=t.planes[i],a=0,s=0;s<n.length;s++)a+=e.dot$1(o,n[s])>=0;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(var u=0;u<3;u++){for(var l=Number.MAX_VALUE,c=-Number.MAX_VALUE,A=0;A<t.points.length;A++){var f=t.points[A][u]-this.min[u];l=Math.min(l,f),c=Math.max(c,f)}if(c<0||l>this.max[u]-this.min[u])return 0}return 1};var wr=function(e,t,n,r){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=r};wr.prototype.interpolate=function(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this},wr.prototype.getCenter=function(t,n){var r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.Point(r,i)},wr.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right},wr.prototype.clone=function(){return new wr(this.top,this.bottom,this.left,this.right)},wr.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var xr=function(t,n,r,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wr,this._posMatrixCache={},this._alignedPosMatrixCache={}},Cr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};xr.prototype.clone=function(){var e=new xr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e},Cr.minZoom.get=function(){return this._minZoom},Cr.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},Cr.maxZoom.get=function(){return this._maxZoom},Cr.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},Cr.minPitch.get=function(){return this._minPitch},Cr.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},Cr.maxPitch.get=function(){return this._maxPitch},Cr.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},Cr.renderWorldCopies.get=function(){return this._renderWorldCopies},Cr.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},Cr.worldSize.get=function(){return this.tileSize*this.scale},Cr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Cr.size.get=function(){return new e.Point(this.width,this.height)},Cr.bearing.get=function(){return-this.angle/Math.PI*180},Cr.bearing.set=function(t){var n=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Cr.pitch.get=function(){return this._pitch/Math.PI*180},Cr.pitch.set=function(t){var n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Cr.fov.get=function(){return this._fov/Math.PI*180},Cr.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},Cr.zoom.get=function(){return this._zoom},Cr.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},Cr.center.get=function(){return this._center},Cr.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},Cr.padding.get=function(){return this._edgeInsets.toJSON()},Cr.padding.set=function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())},Cr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},xr.prototype.isPaddingEqual=function(e){return this._edgeInsets.equals(e)},xr.prototype.interpolatePadding=function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()},xr.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},xr.prototype.getVisibleUnwrappedCoordinates=function(t){var n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),o=this.pointCoordinate(new e.Point(this.width,this.height)),a=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),u=Math.floor(Math.max(r.x,i.x,o.x,a.x)),l=s-1;l<=u+1;l++)0!==l&&n.push(new e.UnwrappedTileID(l,t));return n},xr.prototype.coveringTiles=function(t){var n=this.coveringZoomLevel(t),r=n;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*i.x,o*i.y,0],s=br.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),u=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(u=n);var l=function(e){return{aabb:new _r([e*o,0,0],[(e+1)*o,o,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},c=[],A=[],f=n,h=t.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var p=1;p<=3;p++)c.push(l(-p)),c.push(l(p));for(c.push(l(0));c.length>0;){var d=c.pop(),g=d.x,v=d.y,y=d.fullyVisible;if(!y){var m=d.aabb.intersects(s);if(0===m)continue;y=2===m}var b=d.aabb.distanceX(a),_=d.aabb.distanceY(a),w=Math.max(Math.abs(b),Math.abs(_));if(d.zoom===f||w>3+(1<<f-d.zoom)-2&&d.zoom>=u)A.push({tileID:new e.OverscaledTileID(d.zoom===f?h:d.zoom,d.wrap,d.zoom,g,v),distanceSq:e.sqrLen([a[0]-.5-g,a[1]-.5-v])});else for(var x=0;x<4;x++){var C=(g<<1)+x%2,B=(v<<1)+(x>>1);c.push({aabb:d.aabb.quadrant(x),zoom:d.zoom+1,x:C,y:B,wrap:d.wrap,fullyVisible:y})}}return A.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))},xr.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},Cr.unmodified.get=function(){return this._unmodified},xr.prototype.zoomScale=function(e){return Math.pow(2,e)},xr.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},xr.prototype.project=function(t){var n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)},xr.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},Cr.point.get=function(){return this.project(this.center)},xr.prototype.setLocationAtPoint=function(t,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(t),a=new e.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},xr.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},xr.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},xr.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},xr.prototype.coordinateLocation=function(e){return e.toLngLat()},xr.prototype.pointCoordinate=function(t){var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[1]/i,s=r[1]/o,u=n[2]/i,l=r[2]/o,c=u===l?0:(0-u)/(l-u);return new e.MercatorCoordinate(e.number(n[0]/i,r[0]/o,c)/this.worldSize,e.number(a,s,c)/this.worldSize)},xr.prototype.coordinatePoint=function(t){var n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.Point(n[0]/n[3],n[1]/n[3])},xr.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},xr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},xr.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},xr.prototype.calculatePosMatrix=function(t,n){void 0===n&&(n=!1);var r=t.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=t.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*t.wrap,u=e.identity(new Float64Array(16));return e.translate(u,u,[s*a,o.y*a,0]),e.scale(u,u,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),i[r]=new Float32Array(u),i[r]},xr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},xr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,n,r,i,o=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var A=this.latRange;o=e.mercatorYfromLat(A[1])*this.worldSize,t=(a=e.mercatorYfromLat(A[0])*this.worldSize)-o<l.y?l.y/(a-o):0}if(this.lngRange){var f=this.lngRange;s=e.mercatorXfromLng(f[0])*this.worldSize,n=(u=e.mercatorXfromLng(f[1])*this.worldSize)-s<l.x?l.x/(u-s):0}var h=this.point,p=Math.max(n||0,t||0);if(p)return this.center=this.unproject(new e.Point(n?(u+s)/2:h.x,t?(a+o)/2:h.y)),this.zoom+=this.scaleZoom(p),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var d=h.y,g=l.y/2;d-g<o&&(i=o+g),d+g>a&&(i=a-g)}if(this.lngRange){var v=h.x,y=l.x/2;v-y<s&&(r=s+y),v+y>u&&(r=u-y)}void 0===r&&void 0===i||(this.center=this.unproject(new e.Point(void 0!==r?r:h.x,void 0!==i?i:h.y))),this._unmodified=c,this._constraining=!1}},xr.prototype._calcMatrices=function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,u=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),l=this.height/50,c=new Float64Array(16);e.perspective(c,this._fov,this.width/this.height,l,u),c[8]=2*-t.x/this.width,c[9]=2*t.y/this.height,e.scale(c,c,[1,-1,1]),e.translate(c,c,[0,0,-this.cameraToCenterDistance]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle),e.translate(c,c,[-a,-s,0]),this.mercatorMatrix=e.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),e.scale(c,c,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=e.invert([],this.projMatrix);var A=this.width%2/2,f=this.height%2/2,h=Math.cos(this.angle),p=Math.sin(this.angle),d=a-Math.round(a)+h*A+p*f,g=s-Math.round(s)+h*f+p*A,v=new Float64Array(c);if(e.translate(v,v,[d>.5?d-1:d,g>.5?g-1:g,0]),this.alignedProjMatrix=v,c=e.create(),e.scale(c,c,[this.width/2,-this.height/2,1]),e.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=e.create(),e.scale(c,c,[1,-1,1]),e.translate(c,c,[-1,-1,0]),e.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},xr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},xr.prototype.getCameraPoint=function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))},xr.prototype.getCameraQueryGeometry=function(t){var n=this.getCameraPoint();if(1===t.length)return[t[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,s=0,u=t;s<u.length;s+=1){var l=u[s];r=Math.min(r,l.x),i=Math.min(i,l.y),o=Math.max(o,l.x),a=Math.max(a,l.y)}return[new e.Point(r,i),new e.Point(o,i),new e.Point(o,a),new e.Point(r,a),new e.Point(r,i)]},Object.defineProperties(xr.prototype,Cr);var Br=function(t){var n,r,i,o;this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,o=function(){i=null,r&&(n(),i=setTimeout(o,300),r=!1)},function(){return r=!0,i||o(),i})};Br.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Br.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Br.prototype.getHashString=function(t){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,u=this._map.getBearing(),l=this._map.getPitch(),c="";if(c+=t?"/"+a+"/"+s+"/"+r:r+"/"+s+"/"+a,(u||l)&&(c+="/"+Math.round(10*u)/10),l&&(c+="/"+Math.round(l)),this._hashName){var A=this._hashName,f=!1,h=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===A?(f=!0,t+"="+c):e})).filter((function(e){return e}));return f||h.push(A+"="+c),"#"+h.join("&")}return"#"+c},Br.prototype._getCurrentHash=function(){var t,n=this,r=e.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===n._hashName&&(t=e)})),(t&&t[1]||"").split("/")):r.split("/")},Br.prototype._onHashChange=function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},Br.prototype._updateHashUnthrottled=function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());try{e.window.history.replaceState(e.window.history.state,null,t)}catch(e){}};var Er={linearity:.3,easing:e.bezier(0,0,.3,1)},Sr=e.extend({deceleration:2500,maxSpeed:1400},Er),kr=e.extend({deceleration:20,maxSpeed:1400},Er),Or=e.extend({deceleration:1e3,maxSpeed:360},Er),Tr=e.extend({deceleration:1e3,maxSpeed:90},Er),Pr=function(e){this._map=e,this.clear()};function Mr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Fr(t,n,r){var i=r.maxSpeed,o=r.linearity,a=r.deceleration,s=e.clamp(t*o/(n/1e3),-i,i),u=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*u,amount:s*(u/2)}}Pr.prototype.clear=function(){this._inertiaBuffer=[]},Pr.prototype.record=function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})},Pr.prototype._drainInertiaBuffer=function(){for(var t=this._inertiaBuffer,n=e.browser.now();t.length>0&&n-t[0].time>160;)t.shift()},Pr.prototype._onMoveEnd=function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var o=i[r].settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var u=Fr(n.pan.mag(),a,e.extend({},Sr,t||{}));s.offset=n.pan.mult(u.amount/n.pan.mag()),s.center=this._map.transform.center,Mr(s,u)}if(n.zoom){var l=Fr(n.zoom,a,kr);s.zoom=this._map.transform.zoom+l.amount,Mr(s,l)}if(n.bearing){var c=Fr(n.bearing,a,Or);s.bearing=this._map.transform.bearing+e.clamp(c.amount,-179,179),Mr(s,c)}if(n.pitch){var A=Fr(n.pitch,a,Tr);s.pitch=this._map.transform.pitch+A.amount,Mr(s,A)}if(s.zoom||s.bearing){var f=void 0===n.pinchAround?n.around:n.pinchAround;s.around=f?this._map.unproject(f):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}};var Ir=function(t){function r(r,i,o,a){void 0===a&&(a={});var s=n.mousePos(i.getCanvasContainer(),o),u=i.unproject(s);t.call(this,r,e.extend({point:s,lngLat:u,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),Lr=function(t){function r(r,i,o){var a="touchend"===r?o.changedTouches:o.touches,s=n.touchPos(i.getCanvasContainer(),a),u=s.map((function(e){return i.unproject(e)})),l=s.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new e.Point(0,0)),c=i.unproject(l);t.call(this,r,{points:s,point:l,lngLats:u,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),Rr=function(e){function t(t,n,r){e.call(this,t,{originalEvent:r}),this._defaultPrevented=!1}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,n),t}(e.Event),Dr=function(e,t){this._map=e,this._clickTolerance=t.clickTolerance};Dr.prototype.reset=function(){delete this._mousedownPos},Dr.prototype.wheel=function(e){return this._firePreventable(new Rr(e.type,this._map,e))},Dr.prototype.mousedown=function(e,t){return this._mousedownPos=t,this._firePreventable(new Ir(e.type,this._map,e))},Dr.prototype.mouseup=function(e){this._map.fire(new Ir(e.type,this._map,e))},Dr.prototype.click=function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new Ir(e.type,this._map,e))},Dr.prototype.dblclick=function(e){return this._firePreventable(new Ir(e.type,this._map,e))},Dr.prototype.mouseover=function(e){this._map.fire(new Ir(e.type,this._map,e))},Dr.prototype.mouseout=function(e){this._map.fire(new Ir(e.type,this._map,e))},Dr.prototype.touchstart=function(e){return this._firePreventable(new Lr(e.type,this._map,e))},Dr.prototype.touchmove=function(e){this._map.fire(new Lr(e.type,this._map,e))},Dr.prototype.touchend=function(e){this._map.fire(new Lr(e.type,this._map,e))},Dr.prototype.touchcancel=function(e){this._map.fire(new Lr(e.type,this._map,e))},Dr.prototype._firePreventable=function(e){if(this._map.fire(e),e.defaultPrevented)return{}},Dr.prototype.isEnabled=function(){return!0},Dr.prototype.isActive=function(){return!1},Dr.prototype.enable=function(){},Dr.prototype.disable=function(){};var Zr=function(e){this._map=e};Zr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Zr.prototype.mousemove=function(e){this._map.fire(new Ir(e.type,this._map,e))},Zr.prototype.mousedown=function(){this._delayContextMenu=!0},Zr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ir("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Zr.prototype.contextmenu=function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new Ir(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()},Zr.prototype.isEnabled=function(){return!0},Zr.prototype.isActive=function(){return!1},Zr.prototype.enable=function(){},Zr.prototype.disable=function(){};var Ur=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1};function jr(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}Ur.prototype.isEnabled=function(){return!!this._enabled},Ur.prototype.isActive=function(){return!!this._active},Ur.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ur.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ur.prototype.mousedown=function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(n.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)},Ur.prototype.mousemoveWindow=function(e,t){if(this._active){var r=t;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(i.x,r.x),a=Math.max(i.x,r.x),s=Math.min(i.y,r.y),u=Math.max(i.y,r.y);n.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=u-s+"px"}}},Ur.prototype.mouseupWindow=function(t,r){var i=this;if(this._active&&0===t.button){var o=this._startPos,a=r;if(this.reset(),n.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(o,a,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",t)}},Ur.prototype.keydown=function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))},Ur.prototype.blur=function(){this.reset()},Ur.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},Ur.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))};var Nr=function(e){this.reset(),this.numTouches=e.numTouches};Nr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Nr.prototype.touchstart=function(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){for(var n=new e.Point(0,0),r=0,i=t;r<i.length;r+=1)n._add(i[r]);return n.div(t.length)}(n),this.touches=jr(r,n)))},Nr.prototype.touchmove=function(e,t,n){if(!this.aborted&&this.centroid){var r=jr(n,t);for(var i in this.touches){var o=r[i];(!o||o.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Nr.prototype.touchend=function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var zr=function(e){this.singleTap=new Nr(e),this.numTaps=e.numTaps,this.reset()};zr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},zr.prototype.touchstart=function(e,t,n){this.singleTap.touchstart(e,t,n)},zr.prototype.touchmove=function(e,t,n){this.singleTap.touchmove(e,t,n)},zr.prototype.touchend=function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(r)<30;if(i&&o||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var Qr=function(){this._zoomIn=new zr({numTouches:1,numTaps:2}),this._zoomOut=new zr({numTouches:2,numTaps:1}),this.reset()};Qr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Qr.prototype.touchstart=function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)},Qr.prototype.touchmove=function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)},Qr.prototype.touchend=function(e,t,n){var r=this,i=this._zoomIn.touchend(e,t,n),o=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):o?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(o)},{originalEvent:e})}}):void 0},Qr.prototype.touchcancel=function(){this.reset()},Qr.prototype.enable=function(){this._enabled=!0},Qr.prototype.disable=function(){this._enabled=!1,this.reset()},Qr.prototype.isEnabled=function(){return this._enabled},Qr.prototype.isActive=function(){return this._active};var Hr={0:1,2:2},Vr=function(e){this.reset(),this._clickTolerance=e.clickTolerance||1};Vr.prototype.blur=function(){this.reset()},Vr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Vr.prototype._correctButton=function(e,t){return!1},Vr.prototype._move=function(e,t){return{}},Vr.prototype.mousedown=function(e,t){if(!this._lastPoint){var r=n.mouseButton(e);this._correctButton(e,r)&&(this._lastPoint=t,this._eventButton=r)}},Vr.prototype.mousemoveWindow=function(e,t){var n=this._lastPoint;if(n)if(e.preventDefault(),function(e,t){var n=Hr[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)},Vr.prototype.mouseupWindow=function(e){this._lastPoint&&n.mouseButton(e)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},Vr.prototype.enable=function(){this._enabled=!0},Vr.prototype.disable=function(){this._enabled=!1,this.reset()},Vr.prototype.isEnabled=function(){return this._enabled},Vr.prototype.isActive=function(){return this._active};var Gr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.mousedown=function(t,n){e.prototype.mousedown.call(this,t,n),this._lastPoint&&(this._active=!0)},t.prototype._correctButton=function(e,t){return 0===t&&!e.ctrlKey},t.prototype._move=function(e,t){return{around:t,panDelta:t.sub(e)}},t}(Vr),Wr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Vr),Kr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Vr),qr=function(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()};qr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)},qr.prototype.touchstart=function(e,t,n){return this._calculateTransform(e,t,n)},qr.prototype.touchmove=function(e,t,n){if(this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)},qr.prototype.touchend=function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()},qr.prototype.touchcancel=function(){this.reset()},qr.prototype._calculateTransform=function(t,n,r){r.length>0&&(this._active=!0);var i=jr(r,n),o=new e.Point(0,0),a=new e.Point(0,0),s=0;for(var u in i){var l=i[u],c=this._touches[u];c&&(o._add(l),a._add(l.sub(c)),s++,i[u]=l)}if(this._touches=i,!(s<this._minTouches)&&a.mag()){var A=a.div(s);if(this._sum._add(A),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:A}}},qr.prototype.enable=function(){this._enabled=!0},qr.prototype.disable=function(){this._enabled=!1,this.reset()},qr.prototype.isEnabled=function(){return this._enabled},qr.prototype.isActive=function(){return this._active};var Xr=function(){this.reset()};function Yr(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function Jr(e,t){return Math.log(e/t)/Math.LN2}Xr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Xr.prototype._start=function(e){},Xr.prototype._move=function(e,t,n){return{}},Xr.prototype.touchstart=function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))},Xr.prototype.touchmove=function(e,t,n){if(this._firstTwoTouches){e.preventDefault();var r=this._firstTwoTouches,i=r[1],o=Yr(n,t,r[0]),a=Yr(n,t,i);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}}},Xr.prototype.touchend=function(e,t,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,o=i[1],a=Yr(r,t,i[0]),s=Yr(r,t,o);a&&s||(this._active&&n.suppressClick(),this.reset())}},Xr.prototype.touchcancel=function(){this.reset()},Xr.prototype.enable=function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around},Xr.prototype.disable=function(){this._enabled=!1,this.reset()},Xr.prototype.isEnabled=function(){return this._enabled},Xr.prototype.isActive=function(){return this._active};var $r=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._distance,delete this._startDistance},t.prototype._start=function(e){this._startDistance=this._distance=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Jr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jr(this._distance,n),pinchAround:t}},t}(Xr);function ei(e,t){return 180*e.angleWith(t)/Math.PI}var ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},t.prototype._start=function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ei(this._vector,n),pinchAround:t}},t.prototype._isBelowThreshold=function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,n=ei(e,this._startVector);return Math.abs(n)<t},t}(Xr);function ni(e){return Math.abs(e.y)>Math.abs(e.x)}var ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},t.prototype._start=function(e){this._lastPoints=e,ni(e[0].sub(e[1]))&&(this._valid=!1)},t.prototype._move=function(e,t,n){var r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},t.prototype.gestureBeginsVertically=function(e,t,n){if(void 0!==this._valid)return this._valid;var r=e.mag()>=2,i=t.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=e.y>0==t.y>0;return ni(e)&&ni(t)&&o}},t}(Xr),ii={panStep:100,bearingStep:15,pitchStep:10},oi=function(){var e=ii;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1};function ai(e){return e*(2-e)}oi.prototype.blur=function(){this.reset()},oi.prototype.reset=function(){this._active=!1},oi.prototype.keydown=function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ai,zoom:n?Math.round(u)+n*(e.shiftKey?2:1):u,bearing:s.getBearing()+r*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-o*t._panStep,-a*t._panStep],center:s.getCenter()},{originalEvent:e})}}}},oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(e){this._defaultZoomRate=e},si.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(t){if(this.isEnabled()){var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}},si.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},si.prototype._start=function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,u=this._startZoom,l=this._easing,c=!1;if("wheel"===this._type&&u&&l){var A=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),f=l(A);a=e.number(u,s,f),A<1?this._frameId||(this._frameId=!0):c=!0}else a=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:a-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,i=(e.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=e.bezier(a,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:n},n},si.prototype.blur=function(){this.reset()},si.prototype.reset=function(){this._active=!1};var ui=function(e,t){this._clickZoom=e,this._tapZoom=t};ui.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ui.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ui.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ui.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var li=function(){this.reset()};li.prototype.reset=function(){this._active=!1},li.prototype.blur=function(){this.reset()},li.prototype.dblclick=function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}},li.prototype.enable=function(){this._enabled=!0},li.prototype.disable=function(){this._enabled=!1,this.reset()},li.prototype.isEnabled=function(){return this._enabled},li.prototype.isActive=function(){return this._active};var ci=function(){this._tap=new zr({numTouches:1,numTaps:1}),this.reset()};ci.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ci.prototype.touchstart=function(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))},ci.prototype.touchmove=function(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)},ci.prototype.touchend=function(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)},ci.prototype.touchcancel=function(){this.reset()},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var Ai=function(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n};Ai.prototype.enable=function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Ai.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Ai.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Ai.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var fi=function(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n};fi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},fi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},fi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},fi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var hi=function(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};hi.prototype.enable=function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},hi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},hi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},hi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},hi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},hi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var pi=function(e){return e.zoom||e.drag||e.pitch||e.rotate},di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(e.Event);function gi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var vi=function(t,r){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Pr(t),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var s=a[o],u=s[0];n.addEventListener(u,s[1],u===e.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};vi.prototype.destroy=function(){for(var t=0,r=this._listeners;t<r.length;t+=1){var i=r[t],o=i[0];n.removeEventListener(o,i[1],o===e.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},vi.prototype._addDefaultHandlers=function(e){var t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new Dr(t,e));var r=t.boxZoom=new Ur(t,e);this._add("boxZoom",r);var i=new Qr,o=new li;t.doubleClickZoom=new ui(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new ci;this._add("tapDragZoom",a);var s=t.touchPitch=new ri;this._add("touchPitch",s);var u=new Wr(e),l=new Kr(e);t.dragRotate=new fi(e,u,l),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",l,["mouseRotate"]);var c=new Gr(e),A=new qr(e);t.dragPan=new Ai(n,c,A),this._add("mousePan",c),this._add("touchPan",A,["touchZoom","touchRotate"]);var f=new ti,h=new $r;t.touchZoomRotate=new hi(n,h,f,a),this._add("touchRotate",f,["touchPan","touchZoom"]),this._add("touchZoom",h,["touchPan","touchRotate"]);var p=t.scrollZoom=new si(t,this);this._add("scrollZoom",p,["mousePan"]);var d=t.keyboard=new oi;this._add("keyboard",d),this._add("blockableMapEvent",new Zr(t));for(var g=0,v=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];g<v.length;g+=1){var y=v[g];e.interactive&&e[y]&&t[y].enable(e[y])}},vi.prototype._add=function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t},vi.prototype.stop=function(e){if(!this._updatingCamera){for(var t=0,n=this._handlers;t<n.length;t+=1)n[t].handler.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}},vi.prototype.isActive=function(){for(var e=0,t=this._handlers;e<t.length;e+=1)if(t[e].handler.isActive())return!0;return!1},vi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},vi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},vi.prototype.isMoving=function(){return Boolean(pi(this._eventsInProgress))||this.isZooming()},vi.prototype._blockedByActive=function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1},vi.prototype.handleWindowEvent=function(e){this.handleEvent(e,e.type+"Window")},vi.prototype._getMapTouches=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=r[n];this._el.contains(i.target)&&t.push(i)}return t},vi.prototype.handleEvent=function(e,t){this._updatingCamera=!0;for(var r="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,u=s?n.touchPos(this._el,s):n.mousePos(this._el,e),l=0,c=this._handlers;l<c.length;l+=1){var A=c[l],f=A.handlerName,h=A.handler,p=A.allowed;if(h.isEnabled()){var d=void 0;this._blockedByActive(a,p,f)?h.reset():h[t||e.type]&&(d=h[t||e.type](e,u,s),this.mergeHandlerResult(i,o,d,f,r),d&&d.needsRenderFrame&&this._triggerRenderFrame()),(d||h.isActive())&&(a[f]=h)}}var g={};for(var v in this._previousActiveHandlers)a[v]||(g[v]=r);this._previousActiveHandlers=a,(Object.keys(g).length||gi(i))&&(this._changes.push([i,o,g]),this._triggerRenderFrame()),(Object.keys(a).length||gi(i))&&this._map._stop(!0),this._updatingCamera=!1;var y=i.cameraAnimation;y&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],y(this._map))},vi.prototype.mergeHandlerResult=function(t,n,r,i,o){if(r){e.extend(t,r);var a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}},vi.prototype._applyChanges=function(){for(var t={},n={},r={},i=0,o=this._changes;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1],l=a[2];s.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(t.around=s.around),void 0!==s.pinchAround&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),e.extend(n,u),e.extend(r,l)}this._updateMapTransform(t,n,r),this._changes=[]},vi.prototype._updateMapTransform=function(e,t,n){var r=this._map,i=r.transform;if(!gi(e))return this._fireEvents(t,n,!0);var o=e.panDelta,a=e.zoomDelta,s=e.bearingDelta,u=e.pitchDelta,l=e.around,c=e.pinchAround;void 0!==c&&(l=c),r._stop(!0),l=l||r.transform.centerPoint;var A=i.pointLocation(o?l.sub(o):l);s&&(i.bearing+=s),u&&(i.pitch+=u),a&&(i.zoom+=a),i.setLocationAtPoint(A,l),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)},vi.prototype._fireEvents=function(t,n,r){var i=this,o=pi(this._eventsInProgress),a=pi(t),s={};for(var u in t)this._eventsInProgress[u]||(s[u+"start"]=t[u].originalEvent),this._eventsInProgress[u]=t[u];for(var l in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(l,s[l]);for(var c in a&&this._fireEvent("move",a.originalEvent),t)this._fireEvent(c,t[c].originalEvent);var A,f={};for(var h in this._eventsInProgress){var p=this._eventsInProgress[h],d=p.handlerName,g=p.originalEvent;this._handlersById[d].isActive()||(delete this._eventsInProgress[h],f[h+"end"]=A=n[d]||g)}for(var v in f)this._fireEvent(v,f[v]);var y=pi(this._eventsInProgress);if(r&&(o||a)&&!y){this._updatingCamera=!0;var m=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),b=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};m?(b(m.bearing||this._map.getBearing())&&(m.bearing=0),this._map.easeTo(m,{originalEvent:A})):(this._map.fire(new e.Event("moveend",{originalEvent:A})),b(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},vi.prototype._fireEvent=function(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))},vi.prototype._requestFrame=function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new di("renderFrame",{timeStamp:t})),e._applyChanges()}))},vi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var yi=function(t){function n(n,r){t.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},n.prototype.panBy=function(t,n,r){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)},n.prototype.panTo=function(t,n,r){return this.easeTo(e.extend({center:t},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},n.prototype.zoomTo=function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)},n.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},n.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(e,t){return this.jumpTo({padding:e},t),this},n.prototype.rotateTo=function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)},n.prototype.resetNorth=function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this},n.prototype.resetNorthPitch=function(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this},n.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},n.prototype.cameraForBounds=function(t,n){t=e.LngLatBounds.convert(t);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),r,n)},n.prototype._cameraForBoxAndBearing=function(t,n,r,i){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}i.padding=e.extend(o,i.padding);var s=this.transform,u=s.padding,l=s.project(e.LngLat.convert(t)),c=s.project(e.LngLat.convert(n)),A=l.rotate(-r*Math.PI/180),f=c.rotate(-r*Math.PI/180),h=new e.Point(Math.max(A.x,f.x),Math.max(A.y,f.y)),p=new e.Point(Math.min(A.x,f.x),Math.min(A.y,f.y)),d=h.sub(p),g=(s.width-(u.left+u.right+i.padding.left+i.padding.right))/d.x,v=(s.height-(u.top+u.bottom+i.padding.top+i.padding.bottom))/d.y;if(!(v<0||g<0)){var y=Math.min(s.scaleZoom(s.scale*Math.min(g,v)),i.maxZoom),m="number"==typeof i.offset.x?new e.Point(i.offset.x,i.offset.y):e.Point.convert(i.offset),b=new e.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),_=m.add(b).mult(s.scale/s.zoomScale(y));return{center:s.unproject(l.add(c).div(2).sub(_)),zoom:y,bearing:r}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)},n.prototype.fitScreenCoordinates=function(t,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(t,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(o=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(a=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),i&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),o&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n))},n.prototype.easeTo=function(t,n){var r=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u=this.getPadding(),l="zoom"in t?+t.zoom:o,c="bearing"in t?this._normalizeBearing(t.bearing,a):a,A="pitch"in t?+t.pitch:s,f="padding"in t?t.padding:i.padding,h=e.Point.convert(t.offset),p=i.centerPoint.add(h),d=i.pointLocation(p),g=e.LngLat.convert(t.center||d);this._normalizeCenter(g);var v,y,m=i.project(d),b=i.project(g).sub(m),_=i.zoomScale(l-o);t.around&&(v=e.LngLat.convert(t.around),y=i.locationPoint(v));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==o,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||A!==s,this._padding=!i.isPaddingEqual(f),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,w),this._ease((function(t){if(r._zooming&&(i.zoom=e.number(o,l,t)),r._rotating&&(i.bearing=e.number(a,c,t)),r._pitching&&(i.pitch=e.number(s,A,t)),r._padding&&(i.interpolatePadding(u,f,t),p=i.centerPoint.add(h)),v)i.setLocationAtPoint(v,y);else{var d=i.zoomScale(i.zoom-o),g=l>o?Math.min(2,_):Math.max(.5,_),w=Math.pow(g,1-t),x=i.unproject(m.add(b.mult(t*w)).mult(d));i.setLocationAtPoint(i.renderWorldCopies?x.wrap():x,p)}r._fireMoveEvents(n)}),(function(e){r._afterEase(n,e)}),t),this},n.prototype._prepareEase=function(t,n,r){void 0===r&&(r={}),this._moving=!0,n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))},n.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},n.prototype._afterEase=function(t,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}},n.prototype.flyTo=function(t,n){var r=this;if(!t.essential&&e.browser.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var o=this.transform,a=this.getZoom(),s=this.getBearing(),u=this.getPitch(),l=this.getPadding(),c="zoom"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):a,A="bearing"in t?this._normalizeBearing(t.bearing,s):s,f="pitch"in t?+t.pitch:u,h="padding"in t?t.padding:o.padding,p=o.zoomScale(c-a),d=e.Point.convert(t.offset),g=o.centerPoint.add(d),v=o.pointLocation(g),y=e.LngLat.convert(t.center||v);this._normalizeCenter(y);var m=o.project(v),b=o.project(y).sub(m),_=t.curve,w=Math.max(o.width,o.height),x=w/p,C=b.mag();if("minZoom"in t){var B=e.clamp(Math.min(t.minZoom,a,c),o.minZoom,o.maxZoom),E=w/o.zoomScale(B-a);_=Math.sqrt(E/C*2)}var S=_*_;function k(e){var t=(x*x-w*w+(e?-1:1)*S*S*C*C)/(2*(e?x:w)*S*C);return Math.log(Math.sqrt(t*t+1)-t)}function O(e){return(Math.exp(e)-Math.exp(-e))/2}function T(e){return(Math.exp(e)+Math.exp(-e))/2}var P=k(0),M=function(e){return T(P)/T(P+_*e)},F=function(e){return w*((T(P)*(O(t=P+_*e)/T(t))-O(P))/S)/C;var t},I=(k(1)-P)/_;if(Math.abs(C)<1e-6||!isFinite(I)){if(Math.abs(w-x)<1e-6)return this.easeTo(t,n);var L=x<w?-1:1;I=Math.abs(Math.log(x/w))/_,F=function(){return 0},M=function(e){return Math.exp(L*_*e)}}return t.duration="duration"in t?+t.duration:1e3*I/("screenSpeed"in t?+t.screenSpeed/_:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==A,this._pitching=f!==u,this._padding=!o.isPaddingEqual(h),this._prepareEase(n,!1),this._ease((function(t){var i=t*I,p=1/M(i);o.zoom=1===t?c:a+o.scaleZoom(p),r._rotating&&(o.bearing=e.number(s,A,t)),r._pitching&&(o.pitch=e.number(u,f,t)),r._padding&&(o.interpolatePadding(l,h,t),g=o.centerPoint.add(d));var v=1===t?y:o.unproject(m.add(b.mult(F(i))).mult(p));o.setLocationAtPoint(o.renderWorldCopies?v.wrap():v,g),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),t),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop(!1)}return this},n.prototype._ease=function(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.browser.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t},n.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}},n}(e.Evented),mi=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};mi.prototype.getDefaultPosition=function(){return"bottom-right"},mi.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},mi.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},mi.prototype._setElementTitle=function(e,t){var n=this._map._getUIString("AttributionControl."+t);e.title=n,e.setAttribute("aria-label",n)},mi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},mi.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var r=n.reduce((function(e,t,r){return t.value&&(e+=t.key+"="+t.value+(r<n.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}},mi.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},mi.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&e.indexOf(o.attribution)<0&&e.push(o.attribution)}}e.sort((function(e,t){return e.length-t.length}));var a=(e=e.filter((function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,e.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},mi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var bi=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};bi.prototype.onAdd=function(e){this._map=e,this._container=n.create("div","mapboxgl-ctrl");var t=n.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},bi.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},bi.prototype.getDefaultPosition=function(){return"bottom-left"},bi.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},bi.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},bi.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var _i=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};_i.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},_i.prototype.remove=function(e){for(var t=this._currentlyRunning,n=0,r=t?this._queue.concat(t):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===e)return void(i.cancelled=!0)}},_i.prototype.run=function(e){void 0===e&&(e=0);var t=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=t;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(e),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},_i.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var wi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},xi=e.window.HTMLImageElement,Ci=e.window.HTMLElement,Bi=e.window.ImageBitmap,Ei={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Si=function(r){function i(t){var n=this;if(null!=(t=e.extend({},Ei,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new xr(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(r.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new _i,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},wi,t.locale),this._clickTolerance=t.clickTolerance,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Ci))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return n._update(!1)})),this.on("moveend",(function(){return n._update(!1)})),this.on("zoom",(function(){return n._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new vi(this,t),this._hash=t.hash&&new Br("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new mi({customAttribution:t.customAttribution})),this.addControl(new bi,t.logoPosition),this.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),this.on("data",(function(t){n._update("style"===t.dataType),n.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){n.fire(new e.Event(t.dataType+"dataloading",t))}))}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this},i.prototype.hasControl=function(e){return this._controls.indexOf(e)>-1},i.prototype.resize=function(t){var n=this._containerDimensions(),r=n[0],i=n[1];if(r===this.transform.width&&i===this.transform.height)return this;this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var o=!this._moving;return o&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),o&&this.fire(new e.Event("moveend",t)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},i.prototype.setMinZoom=function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(e){if((e=null==e?60:e)>60)throw new Error("maxPitch must be less than or equal to 60");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},i.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},i.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(e,t,n){var r,i=this;if("mouseenter"===e||"mouseover"===e){var o=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){var a=i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[];a.length?o||(o=!0,n.call(i,new Ir(e,i,r.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){(i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[]).length?a=!0:a&&(a=!1,n.call(i,new Ir(e,i,r.originalEvent)))},mouseout:function(t){a&&(a=!1,n.call(i,new Ir(e,i,t.originalEvent)))}}}}return{layer:t,listener:n,delegates:(r={},r[e]=function(e){var r=i.getLayer(t)?i.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(i,e),delete e.features)},r)}},i.prototype.on=function(e,t,n){if(void 0===n)return r.prototype.on.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(o,i.delegates[o]);return this},i.prototype.once=function(e,t,n){if(void 0===n)return r.prototype.once.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var o in i.delegates)this.once(o,i.delegates[o]);return this},i.prototype.off=function(e,t,n){var i=this;return void 0===n?r.prototype.off.call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(r){for(var o=r[e],a=0;a<o.length;a++){var s=o[a];if(s.layer===t&&s.listener===n){for(var u in s.delegates)i.off(u,s.delegates[u]);return o.splice(a,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(t,n){if(!this.style)return[];var r;if(void 0!==n||void 0===t||t instanceof e.Point||Array.isArray(t)||(n=t,t=void 0),n=n||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])r=[e.Point.convert(t)];else{var i=e.Point.convert(t[0]),o=e.Point.convert(t[1]);r=[i,new e.Point(o.x,i.y),o,new e.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},i.prototype.setStyle=function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))},i.prototype._getUIString=function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '"+e+"'");return t},i.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Qt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Qt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(t,n){var r=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),o=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(o,(function(t,i){t?r.fire(new e.ErrorEvent(t)):i&&r._updateDiff(i,n)}))}else"object"==typeof t&&this._updateDiff(t,n)},i.prototype._updateDiff=function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(t,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)},i.prototype.isSourceLoaded=function(t){var n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},i.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)},i.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},i.prototype.getSource=function(e){return this.style.getSource(e)},i.prototype.addImage=function(t,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;void 0===o&&(o=!1);var a=r.stretchX,s=r.stretchY,u=r.content;if(this._lazyInitEmptyStyle(),n instanceof xi||Bi&&n instanceof Bi){var l=e.browser.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:l.width,height:l.height},l.data),pixelRatio:i,stretchX:a,stretchY:s,content:u,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n;this.style.addImage(t,{data:new e.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,stretchX:a,stretchY:s,content:u,sdf:o,version:0,userImage:c}),c.onAdd&&c.onAdd(this,t)}},i.prototype.updateImage=function(t,n){var r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof xi||Bi&&n instanceof Bi?e.browser.getImageData(n):n,o=i.width,a=i.height,s=i.data;return void 0===o||void 0===a?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==r.data.width||a!==r.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(s,!(n instanceof xi||Bi&&n instanceof Bi)),void this.style.updateImage(t,r))},i.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(e){this.style.removeImage(e)},i.prototype.loadImage=function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)},i.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},i.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},i.prototype.getLayer=function(e){return this.style.getLayer(e)},i.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)},i.prototype.setFilter=function(e,t,n){return void 0===n&&(n={}),this.style.setFilter(e,t,n),this._update(!0)},i.prototype.getFilter=function(e){return this.style.getFilter(e)},i.prototype.setPaintProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(e,t,n,r),this._update(!0)},i.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},i.prototype.setLayoutProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(e,t,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},i.prototype.setLight=function(e,t){return void 0===t&&(t={}),this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},i.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},i.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=n.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){o[e]=n.create("div","mapboxgl-ctrl-"+e,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(t,n){var r=e.browser.devicePixelRatio||1;this._canvas.width=r*t,this._canvas.height=r*n,this._canvas.style.width=t+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new mr(r,this.transform),e.webpSupported.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},i.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},i.prototype._onMapScroll=function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},i.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},i.prototype._render=function(t){var n,r=this,i=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),i=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,u=e.browser.now();this.style.zoomHistory.update(s,u);var l=new e.EvaluationParameters(s,{now:u,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=l.crossFadingFactor();1===c&&c===this._crossFadingFactor||(a=!0,this._crossFadingFactor=c),this.style.update(l)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var A=e.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout((function(){var t=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),r.fire(new e.Event("gpu-timing-frame",{cpuTime:A,gpuTime:t}))}),50)}if(this.listens("gpu-timing-layer")){var f=this.painter.collectGpuTimers();setTimeout((function(){var t=r.painter.queryGpuTimers(f);r.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}var h=this._sourcesDirty||this._styleDirty||this._placementDirty;return h||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||h||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,n=this._controls;t<n.length;t+=1)n[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),ki(this._canvasContainer),ki(this._controlContainer),ki(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new e.Event("remove"))},i.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(e){t._frame=null,t._render(e)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(e){this._showPadding!==e&&(this._showPadding=e,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(e){this._vertices=e,this._update()},i.prototype._setCacheLimits=function(t,n){e.setCacheLimits(t,n)},o.version.get=function(){return e.version},Object.defineProperties(i.prototype,o),i}(yi);function ki(e){e.parentNode&&e.parentNode.removeChild(e)}var Oi={showCompass:!0,showZoom:!0,visualizePitch:!1},Ti=function(t){var r=this;this.options=e.extend({},Oi,t),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return r._map.zoomIn({},{originalEvent:e})})),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return r._map.zoomOut({},{originalEvent:e})})),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:e}):r._map.resetNorth({},{originalEvent:e})})),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Ti.prototype._updateZoomButtons=function(){var e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},Ti.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=e},Ti.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Pi(this._map,this._compass,this.options.visualizePitch)),this._container},Ti.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Ti.prototype._createButton=function(e,t){var r=n.create("button",e,this._container);return r.type="button",r.addEventListener("click",t),r},Ti.prototype._setButtonTitle=function(e,t){var n=this._map._getUIString("NavigationControl."+t);e.title=n,e.setAttribute("aria-label",n)};var Pi=function(t,r,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new Wr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new Kr({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener(r,"mousedown",this.mousedown),n.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(r,"touchmove",this.touchmove),n.addEventListener(r,"touchend",this.touchend),n.addEventListener(r,"touchcancel",this.reset)};function Mi(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var i=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=r.locationPoint(t).distSqr(n);r.locationPoint(i).distSqr(n)<a?t=i:r.locationPoint(o).distSqr(n)<a&&(t=o)}for(;Math.abs(t.lng-r.center.lng)>180;){var s=r.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}Pi.prototype.down=function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),n.disableDrag()},Pi.prototype.move=function(e,t){var n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},Pi.prototype.off=function(){var e=this.element;n.removeEventListener(e,"mousedown",this.mousedown),n.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(e,"touchmove",this.touchmove),n.removeEventListener(e,"touchend",this.touchend),n.removeEventListener(e,"touchcancel",this.reset),this.offTemp()},Pi.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(e.window,"mousemove",this.mousemove),n.removeEventListener(e.window,"mouseup",this.mouseup)},Pi.prototype.mousedown=function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),n.mousePos(this.element,t)),n.addEventListener(e.window,"mousemove",this.mousemove),n.addEventListener(e.window,"mouseup",this.mouseup)},Pi.prototype.mousemove=function(e){this.move(e,n.mousePos(this.element,e))},Pi.prototype.mouseup=function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()},Pi.prototype.touchstart=function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))},Pi.prototype.touchmove=function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))},Pi.prototype.touchend=function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Pi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Fi={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ii(e,t,n){var r=e.classList;for(var i in Fi)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+t)}var Li,Ri=function(t){function r(r,i){if(t.call(this),(r instanceof e.window.HTMLElement||i)&&(r=e.extend({element:r},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&"auto"!==r.pitchAlignment?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=e.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var u=n.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"transform","translate(3.0, 29.0)"),u.setAttributeNS(null,"fill","#000000");for(var l=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<c.length;l+=1){var A=c[l],f=n.createNS("http://www.w3.org/2000/svg","ellipse");f.setAttributeNS(null,"opacity","0.04"),f.setAttributeNS(null,"cx","10.5"),f.setAttributeNS(null,"cy","5.80029008"),f.setAttributeNS(null,"rx",A.rx),f.setAttributeNS(null,"ry",A.ry),u.appendChild(f)}var h=n.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);var p=n.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(p);var d=n.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");var g=n.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(g);var v=n.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(6.0, 7.0)"),v.setAttributeNS(null,"fill","#FFFFFF");var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(8.0, 8.0)");var m=n.createNS("http://www.w3.org/2000/svg","circle");m.setAttributeNS(null,"fill","#000000"),m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"cx","5.5"),m.setAttributeNS(null,"cy","5.5"),m.setAttributeNS(null,"r","5.4999962");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),y.appendChild(m),y.appendChild(b),s.appendChild(u),s.appendChild(h),s.appendChild(d),s.appendChild(v),s.appendChild(y),o.appendChild(s),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=e.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),this._element.addEventListener("mousedown",(function(e){e.preventDefault()})),Ii(this._element,this._anchor,"marker"),this._popup=null}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},r.prototype._onKeyPress=function(e){var t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()},r.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},r.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Mi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(t="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),n.setTransform(this._element,Fi[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+r+" "+t)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},r.prototype._onMove=function(t){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||"auto",this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(e.Evented),Di={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Zi=0,Ui=!1,ji=function(t){function r(n){t.call(this),this.options=e.extend({},Di,n),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.onAdd=function(t){var r;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Li?r(Li):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){r(Li="denied"!==e.state)})):r(Li=!!e.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Zi=0,Ui=!1},r.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},r.prototype._onSuccess=function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}},r.prototype._updateCamera=function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),o=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},r.prototype._updateMarker=function(t){if(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([1,e]),r=t.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&Ui)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(t){var r=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Ri(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ri({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==r._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new e.Event("trackuserlocationend")))}))},r.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Zi--,Ui=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Zi>1?(t={maximumAge:6e5,timeout:0},Ui=!0):(t=this.options.positionOptions,Ui=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(e.Evented),Ni={maxWidth:100,unit:"metric"},zi=function(t){this.options=e.extend({},Ni,t),e.bindAll(["_onMove","setUnit"],this)};function Qi(e,t,n){var r=n&&n.maxWidth||100,i=e._container.clientHeight/2,o=e.unproject([0,i]),a=e.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){var u=3.2808*s;u>5280?Hi(t,r,u/5280,e._getUIString("ScaleControl.Miles")):Hi(t,r,u,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Hi(t,r,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Hi(t,r,s/1e3,e._getUIString("ScaleControl.Kilometers")):Hi(t,r,s,e._getUIString("ScaleControl.Meters"))}function Hi(e,t,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(a)));e.style.width=t*(s/n)+"px",e.innerHTML=s+"&nbsp;"+r}zi.prototype.getDefaultPosition=function(){return"bottom-left"},zi.prototype._onMove=function(){Qi(this._map,this._container,this.options)},zi.prototype.onAdd=function(e){return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},zi.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},zi.prototype.setUnit=function(e){this.options.unit=e,Qi(this._map,this._container,this.options)};var Vi=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange")};Vi.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Vi.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Vi.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Vi.prototype._setupUI=function(){var t=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Vi.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},Vi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Vi.prototype._isFullscreen=function(){return this._fullscreen},Vi.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Vi.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Gi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Wi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Ki=function(t){function r(n){t.call(this),this.options=e.extend(Object.create(Gi),n),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},r.prototype.setHTML=function(t){var n,r=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},r.prototype.setDOMContent=function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this},r.prototype.addClassName=function(e){this._container&&this._container.classList.add(e)},r.prototype.removeClassName=function(e){this._container&&this._container.classList.remove(e)},r.prototype.setOffset=function(e){return this.options.offset=e,this._update(),this},r.prototype.toggleClassName=function(e){if(this._container)return this._container.classList.toggle(e)},r.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},r.prototype._onMouseUp=function(e){this._update(e.point)},r.prototype._onMouseMove=function(e){this._update(e.point)},r.prototype._onDrag=function(e){this._update(e.point)},r.prototype._update=function(t){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return r._container.classList.add(e)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Mi(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var i=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),o=this.options.anchor,a=function t(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new e.Point(0,0),top:new e.Point(0,n),"top-left":new e.Point(r,r),"top-right":new e.Point(-r,r),bottom:new e.Point(0,-n),"bottom-left":new e.Point(r,-r),"bottom-right":new e.Point(-r,-r),left:new e.Point(n,0),right:new e.Point(-n,0)}}if(n instanceof e.Point||Array.isArray(n)){var i=e.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:e.Point.convert(n.center||[0,0]),top:e.Point.convert(n.top||[0,0]),"top-left":e.Point.convert(n["top-left"]||[0,0]),"top-right":e.Point.convert(n["top-right"]||[0,0]),bottom:e.Point.convert(n.bottom||[0,0]),"bottom-left":e.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(n["bottom-right"]||[0,0]),left:e.Point.convert(n.left||[0,0]),right:e.Point.convert(n.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!o){var s,u=this._container.offsetWidth,l=this._container.offsetHeight;s=i.y+a.bottom.y<l?["top"]:i.y>this._map.transform.height-l?["bottom"]:[],i.x<u/2?s.push("left"):i.x>this._map.transform.width-u/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var c=i.add(a[o]).round();n.setTransform(this._container,Fi[o]+" translate("+c.x+"px,"+c.y+"px)"),Ii(this._container,o,"popup")}},r.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(Wi);e&&e.focus()}},r.prototype._onClose=function(){this.remove()},r}(e.Evented),qi={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:Si,NavigationControl:Ti,GeolocateControl:ji,AttributionControl:mi,ScaleControl:zi,FullscreenControl:Vi,Popup:Ki,Marker:Ri,Style:Qt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,prewarm:function(){Ze().acquire(Ie)},clearPrewarmedResources:function(){var e=Re;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Ie),Re=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Le.workerCount},set workerCount(e){Le.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:""};return qi})),n}()},511:function(e,t,n){"use strict";n.d(t,{Q:function(){return X}});var r=n(885),i=n(7762),o=n(1413),a=n(5671),s=n(3144),u=n(4600),l={mousedown:1,mousemove:2,mouseup:4};!function(e){var t=e.prototype.handler;e.prototype.handler=function(e){var n=this.store;e.button>0&&"pointerdown"===e.type&&(function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}(n,(function(t){return t.pointerId===e.pointerId}))||n.push(e)),t.call(this,e)}}(u.PointerEventInput),u.MouseInput.prototype.handler=function(e){var t=l[e.type];1&t&&e.button>=0&&(this.pressed=!0),2&t&&0===e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))};var c=u.Manager,A=u,f=n(136),h=n(7277),p=(0,s.Z)((function e(t,n,r){(0,a.Z)(this,e),this.element=t,this.callback=n,this.options=(0,o.Z)({enable:!0},r)})),d=A?[[A.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[A.Rotate,{enable:!1}],[A.Pinch,{enable:!1}],[A.Swipe,{enable:!1}],[A.Pan,{threshold:0,enable:!1}],[A.Press,{enable:!1}],[A.Tap,{event:"doubletap",taps:2,enable:!1}],[A.Tap,{event:"anytap",enable:!1}],[A.Tap,{enable:!1}]]:null,g={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},v={doubletap:["tap"]},y={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},m=["keydown","keyup"],b=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],_=["wheel","mousewheel"],w={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},x={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},C="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",B="undefined"!==typeof window?window:n.g,E=("undefined"!==typeof n.g?n.g:window,"undefined"!==typeof document&&document,!1);try{var S={get passive(){return E=!0,!0}};B.addEventListener("test",null,S),B.removeEventListener("test",null)}catch(Y){E=!1}var k=-1!==C.indexOf("firefox"),O=_,T="wheel",P=4.000244140625,M=function(e){(0,f.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),(o=t.call(this,e,r,i)).handleEvent=function(e){if(o.options.enable){var t=e.deltaY;B.WheelEvent&&(k&&e.deltaMode===B.WheelEvent.DOM_DELTA_PIXEL&&(t/=B.devicePixelRatio),e.deltaMode===B.WheelEvent.DOM_DELTA_LINE&&(t*=40)),0!==t&&t%P===0&&(t=Math.floor(t/P)),e.shiftKey&&t&&(t*=.25),o.callback({type:T,center:{x:e.clientX,y:e.clientY},delta:-t,srcEvent:e,pointerType:"mouse",target:e.target})}},o.events=(o.options.events||[]).concat(O),o.events.forEach((function(t){return e.addEventListener(t,o.handleEvent,!!E&&{passive:!1})})),o}return(0,s.Z)(n,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===T&&(this.options.enable=t)}}]),n}(p),F=b,I="pointermove",L="pointerover",R="pointerout",D="pointerenter",Z="pointerleave",U=function(e){(0,f.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var o;(0,a.Z)(this,n),(o=t.call(this,e,r,i)).handleEvent=function(e){o.handleOverEvent(e),o.handleOutEvent(e),o.handleEnterEvent(e),o.handleLeaveEvent(e),o.handleMoveEvent(e)},o.pressed=!1;var s=o.options.enable;return o.enableMoveEvent=s,o.enableLeaveEvent=s,o.enableEnterEvent=s,o.enableOutEvent=s,o.enableOverEvent=s,o.events=(o.options.events||[]).concat(F),o.events.forEach((function(t){return e.addEventListener(t,o.handleEvent)})),o}return(0,s.Z)(n,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===I&&(this.enableMoveEvent=t),e===L&&(this.enableOverEvent=t),e===R&&(this.enableOutEvent=t),e===D&&(this.enableEnterEvent=t),e===Z&&(this.enableLeaveEvent=t)}},{key:"handleOverEvent",value:function(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(L,e)}},{key:"handleOutEvent",value:function(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(R,e)}},{key:"handleEnterEvent",value:function(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(D,e)}},{key:"handleLeaveEvent",value:function(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(Z,e)}},{key:"handleMoveEvent",value:function(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit(I,e);break;case"mouseup":this.pressed=!1}}},{key:"_emit",value:function(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}]),n}(p),j=m,N="keydown",z="keyup",Q=function(e){(0,f.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),(o=t.call(this,e,r,i)).handleEvent=function(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(o.enableDownEvent&&"keydown"===e.type&&o.callback({type:N,srcEvent:e,key:e.key,target:e.target}),o.enableUpEvent&&"keyup"===e.type&&o.callback({type:z,srcEvent:e,key:e.key,target:e.target}))},o.enableDownEvent=o.options.enable,o.enableUpEvent=o.options.enable,o.events=(o.options.events||[]).concat(j),e.tabIndex=o.options.tabIndex||0,e.style.outline="none",o.events.forEach((function(t){return e.addEventListener(t,o.handleEvent)})),o}return(0,s.Z)(n,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===N&&(this.enableDownEvent=t),e===z&&(this.enableUpEvent=t)}}]),n}(p),H="contextmenu",V=function(e){(0,f.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),(o=t.call(this,e,r,i)).handleEvent=function(e){o.options.enable&&o.callback({type:H,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})},e.addEventListener("contextmenu",o.handleEvent),o}return(0,s.Z)(n,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(e,t){e===H&&(this.options.enable=t)}}]),n}(p),G={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var W={srcElement:"root",priority:0},K=function(){function e(t){var n=this;(0,a.Z)(this,e),this.handleEvent=function(e){if(!n.isEmpty()){for(var t=n._normalizeEvent(e),r=e.srcEvent.target;r&&r!==t.rootElement;){if(n._emit(t,r),t.handled)return;r=r.parentNode}n._emit(t,"root")}},this.eventManager=t,this.handlers=[],this.handlersByElement=new Map,this._active=!1}return(0,s.Z)(e,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.handlers,s=this.handlersByElement,u=W;"string"===typeof n||n&&n.addEventListener?u=(0,o.Z)((0,o.Z)({},W),{},{srcElement:n}):n&&(u=(0,o.Z)((0,o.Z)({},W),n));var l=s.get(u.srcElement);l||(l=[],s.set(u.srcElement,l));var c={type:e,handler:t,srcElement:u.srcElement,priority:u.priority};r&&(c.once=!0),i&&(c.passive=!0),a.push(c),this._active=this._active||!c.passive;for(var A=l.length-1;A>=0&&!(l[A].priority>=c.priority);)A--;l.splice(A+1,0,c)}},{key:"remove",value:function(e,t){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var o=n[i];if(o.type===e&&o.handler===t){n.splice(i,1);var a=r.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&r.delete(o.srcElement)}}this._active=n.some((function(e){return!e.passive}))}},{key:"_emit",value:function(e,t){var n=this.handlersByElement.get(t);if(n){for(var r=!1,i=function(){e.handled=!0},a=function(){e.handled=!0,r=!0},s=[],u=0;u<n.length;u++){var l=n[u],c=l.type,A=l.handler,f=l.once;if(A((0,o.Z)((0,o.Z)({},e),{},{type:c,stopPropagation:i,stopImmediatePropagation:a})),f&&s.push(n[u]),r)break}for(var h=0;h<s.length;h++){var p=s[h],d=p.type,g=p.handler;this.remove(d,g)}}}},{key:"_normalizeEvent",value:function(e){var t=this.eventManager.getElement();return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},e),function(e){var t=G[e.srcEvent.type];if(!t)return null;var n=e.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,u=!1;return 4===t||2===t&&!Number.isFinite(r)?(a=1===o,s=2===o,u=3===o):2===t?(a=Boolean(1&r),s=Boolean(4&r),u=Boolean(2&r)):1===t&&(a=0===i,s=1===i,u=2===i),{leftButton:a,middleButton:s,rightButton:u}}(e)),function(e,t){var n=e.center;if(!n)return null;var r=t.getBoundingClientRect(),i=r.width/t.offsetWidth||1,o=r.height/t.offsetHeight||1;return{center:n,offsetCenter:{x:(n.x-r.left-t.clientLeft)/i,y:(n.y-r.top-t.clientTop)/o}}}(e,t)),{},{preventDefault:function(){e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t})}}]),e}(),q={events:null,recognizers:null,recognizerOptions:{},Manager:c,touchAction:"none",tabIndex:0},X=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;(0,a.Z)(this,e),this._onBasicInput=function(e){var n=e.srcEvent,r=y[n.type];r&&t.manager.emit(r,e)},this._onOtherEvent=function(e){t.manager.emit(e.type,e)},this.options=(0,o.Z)((0,o.Z)({},q),r),this.events=new Map,this.setElement(n);var i=this.options.events;i&&this.on(i)}return(0,s.Z)(e,[{key:"getElement",value:function(){return this.element}},{key:"setElement",value:function(e){var t=this;if(this.element&&this.destroy(),this.element=e,e){var n=this.options,o=n.Manager;for(var a in this.manager=new o(e,{touchAction:n.touchAction,recognizers:n.recognizers||d}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(g).forEach((function(e){var n=t.manager.get(e);n&&g[e].forEach((function(e){n.recognizeWith(e)}))})),n.recognizerOptions){var s=this.manager.get(a);if(s){var u=n.recognizerOptions[a];delete u.enable,s.set(u)}}this.wheelInput=new M(e,this._onOtherEvent,{enable:!1}),this.moveInput=new U(e,this._onOtherEvent,{enable:!1}),this.keyInput=new Q(e,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new V(e,this._onOtherEvent,{enable:!1});var l,c=(0,i.Z)(this.events);try{for(c.s();!(l=c.n()).done;){var A=(0,r.Z)(l.value,2),f=A[0],h=A[1];h.isEmpty()||(this._toggleRecognizer(h.recognizerName,!0),this.manager.on(f,h.handleEvent))}}catch(Y){c.e(Y)}finally{c.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(e,t,n){this._addEventHandler(e,t,n,!1)}},{key:"once",value:function(e,t,n){this._addEventHandler(e,t,n,!0)}},{key:"watch",value:function(e,t,n){this._addEventHandler(e,t,n,!1,!0)}},{key:"off",value:function(e,t){this._removeEventHandler(e,t)}},{key:"_toggleRecognizer",value:function(e,t){var n=this.manager;if(n){var r=n.get(e);if(r&&r.options.enable!==t){r.set({enable:t});var i=v[e];i&&!this.options.recognizers&&i.forEach((function(i){var o=n.get(i);t?(o.requireFailure(e),r.dropRequireFailure(i)):o.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}}},{key:"_addEventHandler",value:function(e,t,n,r,i){if("string"===typeof e){var o=this.manager,a=this.events,s=x[e]||e,u=a.get(s);u||(u=new K(this),a.set(s,u),u.recognizerName=w[s]||s,o&&o.on(s,u.handleEvent)),u.add(e,t,n,r,i),u.isEmpty()||this._toggleRecognizer(u.recognizerName,!0)}else for(var l in n=t,e)this._addEventHandler(l,e[l],n,r,i)}},{key:"_removeEventHandler",value:function(e,t){if("string"===typeof e){var n=this.events,r=x[e]||e,o=n.get(r);if(o&&(o.remove(e,t),o.isEmpty())){var a,s=o.recognizerName,u=!1,l=(0,i.Z)(n.values());try{for(l.s();!(a=l.n()).done;){var c=a.value;if(c.recognizerName===s&&!c.isEmpty()){u=!0;break}}}catch(Y){l.e(Y)}finally{l.f()}u||this._toggleRecognizer(s,!1)}}else for(var A in e)this._removeEventHandler(A,e[A])}}]),e}()},3150:function(e,t,n){var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"===typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&u&&"function"===typeof u.get?u.get:null,c=s&&Set.prototype.forEach,A="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,d=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,m=String.prototype.replace,b=String.prototype.toUpperCase,_=String.prototype.toLowerCase,w=RegExp.prototype.test,x=Array.prototype.concat,C=Array.prototype.join,B=Array.prototype.slice,E=Math.floor,S="function"===typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,T="function"===typeof Symbol&&"object"===typeof Symbol.iterator,P="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===T||"symbol")?Symbol.toStringTag:null,M=Object.prototype.propertyIsEnumerable,F=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function I(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var r=e<0?-E(-e):E(e);if(r!==e){var i=String(r),o=y.call(t,i.length+1);return m.call(i,n,"$&_")+"."+m.call(m.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return m.call(t,n,"$&_")}var L=n(382),R=L.custom,D=z(R)?R:null;function Z(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function U(e){return m.call(String(e),/"/g,"&quot;")}function j(e){return"[object Array]"===V(e)&&(!P||!("object"===typeof e&&P in e))}function N(e){return"[object RegExp]"===V(e)&&(!P||!("object"===typeof e&&P in e))}function z(e){if(T)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!O)return!1;try{return O.call(e),!0}catch(t){}return!1}e.exports=function e(t,n,r,i){var s=n||{};if(H(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!H(s,"customInspect")||s.customInspect;if("boolean"!==typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(s,"numericSeparator")&&"boolean"!==typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var d=s.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return W(t,s);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var b=String(t);return d?I(t,b):b}if("bigint"===typeof t){var w=String(t)+"n";return d?I(t,w):w}var E="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof r&&(r=0),r>=E&&E>0&&"object"===typeof t)return j(t)?"[Array]":"[Object]";var k=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=C.call(Array(e.indent+1)," ")}return{base:n,prev:C.call(Array(t+1),n)}}(s,r);if("undefined"===typeof i)i=[];else if(G(i,t)>=0)return"[Circular]";function R(t,n,o){if(n&&(i=B.call(i)).push(n),o){var a={depth:s.depth};return H(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,r+1,i)}return e(t,s,r+1,i)}if("function"===typeof t&&!N(t)){var Q=function(e){if(e.name)return e.name;var t=v.call(g.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),K=$(t,R);return"[Function"+(Q?": "+Q:" (anonymous)")+"]"+(K.length>0?" { "+C.call(K,", ")+" }":"")}if(z(t)){var ee=T?m.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(t);return"object"!==typeof t||T?ee:q(ee)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var te="<"+_.call(String(t.nodeName)),ne=t.attributes||[],re=0;re<ne.length;re++)te+=" "+ne[re].name+"="+Z(U(ne[re].value),"double",s);return te+=">",t.childNodes&&t.childNodes.length&&(te+="..."),te+="</"+_.call(String(t.nodeName))+">"}if(j(t)){if(0===t.length)return"[]";var ie=$(t,R);return k&&!function(e){for(var t=0;t<e.length;t++)if(G(e[t],"\n")>=0)return!1;return!0}(ie)?"["+J(ie,k)+"]":"[ "+C.call(ie,", ")+" ]"}if(function(e){return"[object Error]"===V(e)&&(!P||!("object"===typeof e&&P in e))}(t)){var oe=$(t,R);return"cause"in Error.prototype||!("cause"in t)||M.call(t,"cause")?0===oe.length?"["+String(t)+"]":"{ ["+String(t)+"] "+C.call(oe,", ")+" }":"{ ["+String(t)+"] "+C.call(x.call("[cause]: "+R(t.cause),oe),", ")+" }"}if("object"===typeof t&&u){if(D&&"function"===typeof t[D]&&L)return L(t,{depth:E-r});if("symbol"!==u&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!==typeof e)return!1;try{o.call(e);try{l.call(e)}catch(te){return!0}return e instanceof Map}catch(t){}return!1}(t)){var ae=[];return a.call(t,(function(e,n){ae.push(R(n,t,!0)+" => "+R(e,t))})),Y("Map",o.call(t),ae,k)}if(function(e){if(!l||!e||"object"!==typeof e)return!1;try{l.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var se=[];return c.call(t,(function(e){se.push(R(e,t))})),Y("Set",l.call(t),se,k)}if(function(e){if(!A||!e||"object"!==typeof e)return!1;try{A.call(e,A);try{f.call(e,f)}catch(te){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return X("WeakMap");if(function(e){if(!f||!e||"object"!==typeof e)return!1;try{f.call(e,f);try{A.call(e,A)}catch(te){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return X("WeakSet");if(function(e){if(!h||!e||"object"!==typeof e)return!1;try{return h.call(e),!0}catch(t){}return!1}(t))return X("WeakRef");if(function(e){return"[object Number]"===V(e)&&(!P||!("object"===typeof e&&P in e))}(t))return q(R(Number(t)));if(function(e){if(!e||"object"!==typeof e||!S)return!1;try{return S.call(e),!0}catch(t){}return!1}(t))return q(R(S.call(t)));if(function(e){return"[object Boolean]"===V(e)&&(!P||!("object"===typeof e&&P in e))}(t))return q(p.call(t));if(function(e){return"[object String]"===V(e)&&(!P||!("object"===typeof e&&P in e))}(t))return q(R(String(t)));if(!function(e){return"[object Date]"===V(e)&&(!P||!("object"===typeof e&&P in e))}(t)&&!N(t)){var ue=$(t,R),le=F?F(t)===Object.prototype:t instanceof Object||t.constructor===Object,ce=t instanceof Object?"":"null prototype",Ae=!le&&P&&Object(t)===t&&P in t?y.call(V(t),8,-1):ce?"Object":"",fe=(le||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(Ae||ce?"["+C.call(x.call([],Ae||[],ce||[]),": ")+"] ":"");return 0===ue.length?fe+"{}":k?fe+"{"+J(ue,k)+"}":fe+"{ "+C.call(ue,", ")+" }"}return String(t)};var Q=Object.prototype.hasOwnProperty||function(e){return e in this};function H(e,t){return Q.call(e,t)}function V(e){return d.call(e)}function G(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function W(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return W(y.call(e,0,t.maxStringLength),t)+r}return Z(m.call(m.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,K),"single",t)}function K(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+b.call(t.toString(16))}function q(e){return"Object("+e+")"}function X(e){return e+" { ? }"}function Y(e,t,n,r){return e+" ("+t+") {"+(r?J(n,r):C.call(n,", "))+"}"}function J(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+C.call(e,","+n)+"\n"+t.prev}function $(e,t){var n=j(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=H(e,i)?t(e[i],e):""}var o,a="function"===typeof k?k(e):[];if(T){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)H(e,u)&&(n&&String(Number(u))===u&&u<e.length||T&&o["$"+u]instanceof Symbol||(w.call(/[^\w$]/,u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if("function"===typeof k)for(var l=0;l<a.length;l++)M.call(e,a[l])&&r.push("["+t(a[l])+"]: "+t(e[a[l]],e));return r}},2742:function(e){"use strict";var t=function(e){return e!==e};e.exports=function(e,n){return 0===e&&0===n?1/e===1/n:e===n||!(!t(e)||!t(n))}},7557:function(e,t,n){"use strict";var r=n(3109),i=n(1300),o=n(2742),a=n(3187),s=n(1653),u=i(a(),Object);r(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},3187:function(e,t,n){"use strict";var r=n(2742);e.exports=function(){return"function"===typeof Object.is?Object.is:r}},1653:function(e,t,n){"use strict";var r=n(3187),i=n(3109);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},4182:function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(1784),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),l=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],A=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{A(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===o.call(e),r=a(e),s=t&&"[object String]"===o.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=l&&n;if(s&&e.length>0&&!i.call(e,0))for(var d=0;d<e.length;++d)f.push(String(d));if(r&&e.length>0)for(var g=0;g<e.length;++g)f.push(String(g));else for(var v in e)p&&"prototype"===v||!i.call(e,v)||f.push(String(v));if(u)for(var y=function(e){if("undefined"===typeof window||!h)return A(e);try{return A(e)}catch(t){return!1}}(e),m=0;m<c.length;++m)y&&"constructor"===c[m]||!i.call(e,c[m])||f.push(c[m]);return f}}e.exports=r},3323:function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(1784),o=Object.keys,a=o?function(e){return o(e)}:n(4182),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},1784:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},9453:function(e,t,n){"use strict";e.exports=i;var r=n(7159);function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o=4294967296,a=1/o,s="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");function u(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function l(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function c(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function A(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function b(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function _(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function w(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=b(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=w(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=b(this.buf,this.pos)+b(this.buf,this.pos+4)*o;return this.pos+=8,e},readSFixed64:function(){var e=b(this.buf,this.pos)+w(this.buf,this.pos+4)*o;return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return l(e,r,t);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return l(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&s?function(e,t,n){return s.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){var r="",i=t;for(;i<n;){var o,a,s,u=e[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128===(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==i.Bytes)return e.push(this.readVarint(t));var n=u(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==i.Bytes)return e.push(this.readSVarint());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==i.Bytes)return e.push(this.readBoolean());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==i.Bytes)return e.push(this.readFloat());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==i.Bytes)return e.push(this.readDouble());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed32());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed32());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed64());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed64());var t=u(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)for(;this.buf[this.pos++]>127;);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else{if(t!==i.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),_(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),_(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),_(this.buf,-1&e,this.pos),_(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),_(this.buf,-1&e,this.pos),_(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&c(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&c(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,i.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,A,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,v,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,y,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,m,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},9739:function(e){(function(){var t,n,r;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-r)/1e6},n=process.hrtime,r=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},1636:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(6655)),i=a(n(7600)),o=a(n(5646));function a(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t,n){if("transparent"===t)return n;if("transparent"===n)return t;if(0===e)return n;var r=(0,o.default)(t),a=s({},r,{alpha:"number"===typeof r.alpha?r.alpha:1}),u=(0,o.default)(n),l=s({},u,{alpha:"number"===typeof u.alpha?u.alpha:1}),c=a.alpha-l.alpha,A=2*parseFloat(e)-1,f=((A*c===-1?A:A+c)/(1+A*c)+1)/2,h=1-f,p={red:Math.floor(a.red*f+l.red*h),green:Math.floor(a.green*f+l.green*h),blue:Math.floor(a.blue*f+l.blue*h),alpha:a.alpha*(parseFloat(e)/1)+l.alpha*(1-parseFloat(e)/1)};return(0,i.default)(p)}var l=(0,r.default)(u);t.default=l,e.exports=t.default},5646:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if("string"!==typeof e)throw new o.default(3);var t=(0,i.default)(e);if(t.match(s))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(u)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(l))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(c)){var a=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:a}}var d=A.exec(t);if(d)return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10)};var g=f.exec(t.substring(0,50));if(g)return{red:parseInt(""+g[1],10),green:parseInt(""+g[2],10),blue:parseInt(""+g[3],10),alpha:parseFloat(""+g[4])};var v=h.exec(t);if(v){var y=parseInt(""+v[1],10),m=parseInt(""+v[2],10)/100,b=parseInt(""+v[3],10)/100,_="rgb("+(0,r.default)(y,m,b)+")",w=A.exec(_);if(!w)throw new o.default(4,t,_);return{red:parseInt(""+w[1],10),green:parseInt(""+w[2],10),blue:parseInt(""+w[3],10)}}var x=p.exec(t.substring(0,50));if(x){var C=parseInt(""+x[1],10),B=parseInt(""+x[2],10)/100,E=parseInt(""+x[3],10)/100,S="rgb("+(0,r.default)(C,B,E)+")",k=A.exec(S);if(!k)throw new o.default(4,t,S);return{red:parseInt(""+k[1],10),green:parseInt(""+k[2],10),blue:parseInt(""+k[3],10),alpha:parseFloat(""+x[4])}}throw new o.default(5)};var r=a(n(151)),i=a(n(5981)),o=a(n(936));function a(e){return e&&e.__esModule?e:{default:e}}var s=/^#[a-fA-F0-9]{6}$/,u=/^#[a-fA-F0-9]{8}$/,l=/^#[a-fA-F0-9]{3}$/,c=/^#[a-fA-F0-9]{4}$/,A=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,f=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,h=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,p=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;e.exports=t.default},3860:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return(0,r.default)("#"+(0,i.default)(e)+(0,i.default)(t)+(0,i.default)(n));if("object"===typeof e&&void 0===t&&void 0===n)return(0,r.default)("#"+(0,i.default)(e.red)+(0,i.default)(e.green)+(0,i.default)(e.blue));throw new o.default(6)};var r=a(n(7687)),i=a(n(7009)),o=a(n(936));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},7600:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,a){if("string"===typeof e&&"number"===typeof t){var s=(0,r.default)(e);return"rgba("+s.red+","+s.green+","+s.blue+","+t+")"}if("number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof a)return a>=1?(0,i.default)(e,t,n):"rgba("+e+","+t+","+n+","+a+")";if("object"===typeof e&&void 0===t&&void 0===n&&void 0===a)return e.alpha>=1?(0,i.default)(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new o.default(7)};var r=a(n(5646)),i=a(n(3860)),o=a(n(936));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},4569:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(6655)),i=o(n(1636));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return"transparent"===t?t:(0,i.default)(parseFloat(e),"rgb(0, 0, 0)",t)}var s=(0,r.default)(a);t.default=s,e.exports=t.default},7594:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(6655)),i=o(n(1636));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return"transparent"===t?t:(0,i.default)(parseFloat(e),"rgb(255, 255, 255)",t)}var s=(0,r.default)(a);t.default=s,e.exports=t.default},6655:function(e,t){"use strict";function n(e,t,r){return function(){var i=r.concat(Array.prototype.slice.call(arguments));return i.length>=t?e.apply(this,i):n(e,t,i)}}t.__esModule=!0,t.default=function(e){return n(e,e.length,[])},e.exports=t.default},936:function(e,t){"use strict";function n(e){var t="function"===typeof Map?new Map:void 0;return n=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return r(e,arguments,a(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,e)},n(e)}function r(e,t,n){return r=i()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},r.apply(null,arguments)}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}t.__esModule=!0,t.default=void 0;var s=function(e){var t,n;function r(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n),r}(n(Error));t.default=s,e.exports=t.default},151:function(e,t){"use strict";function n(e){return Math.round(255*e)}function r(e,t,r){return n(e)+","+n(t)+","+n(r)}t.__esModule=!0,t.default=void 0;var i=function(e,t,n,i){if(void 0===i&&(i=r),0===t)return i(n,n,n);var o=(e%360+360)%360/60,a=(1-Math.abs(2*n-1))*t,s=a*(1-Math.abs(o%2-1)),u=0,l=0,c=0;o>=0&&o<1?(u=a,l=s):o>=1&&o<2?(u=s,l=a):o>=2&&o<3?(l=a,c=s):o>=3&&o<4?(l=s,c=a):o>=4&&o<5?(u=s,c=a):o>=5&&o<6&&(u=a,c=s);var A=n-a/2;return i(u+A,l+A,c+A)};t.default=i,e.exports=t.default},5981:function(e,t){"use strict";t.__esModule=!0,t.default=void 0;var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var r=function(e){if("string"!==typeof e)return e;var t=e.toLowerCase();return n[t]?"#"+n[t]:e};t.default=r,e.exports=t.default},7009:function(e,t){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t};t.default=n,e.exports=t.default},7687:function(e,t){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};t.default=n,e.exports=t.default},5502:function(e,t,n){"use strict";var r=n(4595);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},4093:function(e,t,n){e.exports=n(5502)()},4595:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8503:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},6189:function(e,t,n){"use strict";var r=n(490),i=n(4879),o=n(8503);e.exports={formats:o,parse:i,stringify:r}},4879:function(e,t,n){"use strict";var r=n(2711),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},l=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),l=s?o.slice(0,s.index):o,c=[];if(l){if(!n.plainObjects&&i.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var A=0;n.depth>0&&null!==(s=a.exec(o))&&A<n.depth;){if(A+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+o.slice(s.index)+"]"),function(e,t,n,r){for(var i=r?t:u(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(l,10);n.parseArrays||""!==l?!isNaN(c)&&s!==l&&String(c)===l&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(a=[])[c]=i:"__proto__"!==l&&(a[l]=i):a={0:i}}i=a}return i}(c,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var c="string"===typeof e?function(e,t){var n,l={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,A=t.parameterLimit===1/0?void 0:t.parameterLimit,f=c.split(t.delimiter,A),h=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<f.length;++n)0===f[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[n]?p="utf-8":"utf8=%26%2310003%3B"===f[n]&&(p="iso-8859-1"),h=n,n=f.length);for(n=0;n<f.length;++n)if(n!==h){var d,g,v=f[n],y=v.indexOf("]="),m=-1===y?v.indexOf("="):y+1;-1===m?(d=t.decoder(v,a.decoder,p,"key"),g=t.strictNullHandling?null:""):(d=t.decoder(v.slice(0,m),a.decoder,p,"key"),g=r.maybeMap(u(v.slice(m+1),t),(function(e){return t.decoder(e,a.decoder,p,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===p&&(g=s(g)),v.indexOf("[]=")>-1&&(g=o(g)?[g]:g),i.call(l,d)?l[d]=r.combine(l[d],g):l[d]=g}return l}(e,n):e,A=n.plainObjects?Object.create(null):{},f=Object.keys(c),h=0;h<f.length;++h){var p=f[h],d=l(p,c[p],n,"string"===typeof e);A=r.merge(A,d,n)}return!0===n.allowSparse?A:r.compact(A)}},490:function(e,t,n){"use strict";var r=n(1309),i=n(2711),o=n(8503),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,l=String.prototype.split,c=Array.prototype.push,A=function(e,t){c.apply(e,u(t)?t:[t])},f=Date.prototype.toISOString,h=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:h,formatter:o.formatters[h],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},d={},g=function e(t,n,o,a,s,c,f,h,g,v,y,m,b,_,w){for(var x,C=t,B=w,E=0,S=!1;void 0!==(B=B.get(d))&&!S;){var k=B.get(t);if(E+=1,"undefined"!==typeof k){if(k===E)throw new RangeError("Cyclic object value");S=!0}"undefined"===typeof B.get(d)&&(E=0)}if("function"===typeof f?C=f(n,C):C instanceof Date?C=v(C):"comma"===o&&u(C)&&(C=i.maybeMap(C,(function(e){return e instanceof Date?v(e):e}))),null===C){if(a)return c&&!b?c(n,p.encoder,_,"key",y):n;C=""}if("string"===typeof(x=C)||"number"===typeof x||"boolean"===typeof x||"symbol"===typeof x||"bigint"===typeof x||i.isBuffer(C)){if(c){var O=b?n:c(n,p.encoder,_,"key",y);if("comma"===o&&b){for(var T=l.call(String(C),","),P="",M=0;M<T.length;++M)P+=(0===M?"":",")+m(c(T[M],p.encoder,_,"value",y));return[m(O)+"="+P]}return[m(O)+"="+m(c(C,p.encoder,_,"value",y))]}return[m(n)+"="+m(String(C))]}var F,I=[];if("undefined"===typeof C)return I;if("comma"===o&&u(C))F=[{value:C.length>0?C.join(",")||null:void 0}];else if(u(f))F=f;else{var L=Object.keys(C);F=h?L.sort(h):L}for(var R=0;R<F.length;++R){var D=F[R],Z="object"===typeof D&&"undefined"!==typeof D.value?D.value:C[D];if(!s||null!==Z){var U=u(C)?"function"===typeof o?o(n,D):n:n+(g?"."+D:"["+D+"]");w.set(t,E);var j=r();j.set(d,w),A(I,e(Z,U,o,a,s,c,f,h,g,v,y,m,b,_,j))}}return I};e.exports=function(e,t){var n,i=e,l=function(e){if(!e)return p;if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if("undefined"!==typeof e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],i=p.filter;return("function"===typeof e.filter||u(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?p.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:p.encode,encoder:"function"===typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"===typeof l.filter?i=(0,l.filter)("",i):u(l.filter)&&(n=l.filter);var c,f=[];if("object"!==typeof i||null===i)return"";c=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=s[c];n||(n=Object.keys(i)),l.sort&&n.sort(l.sort);for(var d=r(),v=0;v<n.length;++v){var y=n[v];l.skipNulls&&null===i[y]||A(f,g(i[y],y,h,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset,d))}var m=f.join(l.delimiter),b=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),m.length>0?b+m:""}},2711:function(e,t,n){"use strict";var r=n(8503),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),u=0;u<s.length;++u){var l=s[u],c=a[l];"object"===typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:a,prop:l}),n.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var s=e;if("symbol"===typeof e?s=Symbol.prototype.toString.call(e):"string"!==typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var u="",l=0;l<s.length;++l){var c=s.charCodeAt(l);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||o===r.RFC1738&&(40===c||41===c)?u+=s.charAt(l):c<128?u+=a[c]:c<2048?u+=a[192|c>>6]+a[128|63&c]:c<55296||c>=57344?u+=a[224|c>>12]+a[128|c>>6&63]+a[128|63&c]:(l+=1,c=65536+((1023&c)<<10|1023&s.charCodeAt(l)),u+=a[240|c>>18]+a[128|c>>12&63]+a[128|c>>6&63]+a[128|63&c])}return u},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(o(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"===typeof a&&n&&"object"===typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t}),a)}}},9687:function(e,t,n){for(var r=n(7143),i="undefined"===typeof window?n.g:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],l=0;!s&&l<o.length;l++)s=i[o[l]+"Request"+a],u=i[o[l]+"Cancel"+a]||i[o[l]+"CancelRequest"+a];if(!s||!u){var c=0,A=0,f=[];s=function(e){if(0===f.length){var t=r(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return f.push({handle:++A,callback:e,cancelled:!1}),A},u=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}},7143:function(e){(function(){var t,n,r,i,o,a;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),o=i-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},1601:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Ee}});var r=n(965),i=n(4301),o=n(2791),a=n(27);function s(e,t){return function(e,t){var n=(0,o.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return function(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}var u={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},l=function(e){var t=e.children;return o.createElement(o.Fragment,null,o.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:u}),t,t&&o.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:u}))};l.propTypes={},l.defaultProps={children:null};var c=n(5592),A=[],f=o.forwardRef((function(e,t){var n,r=o.useState(),l=r[0],f=r[1],h=o.useRef(),p=o.useRef(!1),d=o.useRef(null),g=e.children,v=e.disabled,y=e.noFocusGuards,m=e.persistentFocus,b=e.crossFrame,_=e.autoFocus,w=(e.allowTextSelection,e.group),x=e.className,C=e.whiteList,B=e.hasPositiveIndices,E=e.shards,S=void 0===E?A:E,k=e.as,O=void 0===k?"div":k,T=e.lockProps,P=void 0===T?{}:T,M=e.sideCar,F=e.returnFocus,I=e.focusOptions,L=e.onActivation,R=e.onDeactivation,D=o.useState({})[0],Z=o.useCallback((function(){d.current=d.current||document&&document.activeElement,h.current&&L&&L(h.current),p.current=!0}),[L]),U=o.useCallback((function(){p.current=!1,R&&R(h.current)}),[R]);(0,o.useEffect)((function(){v||(d.current=null)}),[]);var j=o.useCallback((function(e){var t=d.current;if(t&&t.focus){var n="function"===typeof F?F(t):F;if(n){var r="object"===typeof n?n:void 0;d.current=null,e?Promise.resolve().then((function(){return t.focus(r)})):t.focus(r)}}}),[F]),N=o.useCallback((function(e){p.current&&c.qy.useMedium(e)}),[]),z=c.DA.useMedium,Q=o.useCallback((function(e){h.current!==e&&(h.current=e,f(e))}),[]);var H=(0,i.Z)(((n={})[a.ZO]=v&&"disabled",n[a.Sk]=w,n),P),V=!0!==y,G=V&&"tail"!==y,W=s([t,Q]);return o.createElement(o.Fragment,null,V&&[o.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:v?-1:0,style:u}),B?o.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:v?-1:1,style:u}):null],!v&&o.createElement(M,{id:D,sideCar:c.sH,observed:l,disabled:v,persistentFocus:m,crossFrame:b,autoFocus:_,whiteList:C,shards:S,onActivation:Z,onDeactivation:U,returnFocus:j,focusOptions:I}),o.createElement(O,(0,i.Z)({ref:W},H,{className:x,onBlur:z,onFocus:N}),g),G&&o.createElement("div",{"data-focus-guard":!0,tabIndex:v?-1:0,style:u}))}));f.propTypes={},f.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var h=f,p=n(2959);var d=n(8810);var g=function(e,t){return function(n){var r,i=[];function a(){r=e(i.map((function(e){return e.props}))),t(r)}var s=function(e){var t,s;function u(){return e.apply(this,arguments)||this}s=e,(t=u).prototype=Object.create(s.prototype),t.prototype.constructor=t,(0,p.Z)(t,s),u.peek=function(){return r};var l=u.prototype;return l.componentDidMount=function(){i.push(this),a()},l.componentDidUpdate=function(){a()},l.componentWillUnmount=function(){var e=i.indexOf(this);i.splice(e,1),a()},l.render=function(){return o.createElement(n,this.props)},u}(o.PureComponent);return(0,d.Z)(s,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),s}},v=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},y=function(e){return Array.isArray(e)?e:[e]},m=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},b=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},_=function(e,t){return!e||b(e)||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue)&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))}(e)&&t(m(e))},w=function e(t,n){var r=t.get(n);if(void 0!==r)return r;var i=_(n,e.bind(void 0,t));return t.set(n,i),i},x=function e(t,n){var r=t.get(n);if(void 0!==r)return r;var i=function(e,t){return!(e&&!b(e))||!!S(e)&&t(m(e))}(n,e.bind(void 0,t));return t.set(n,i),i},C=function(e){return e.dataset},B=function(e){return"INPUT"===e.tagName},E=function(e){return B(e)&&"radio"===e.type},S=function(e){var t=e.getAttribute(a.WQ);return![!0,"true",""].includes(t)},k=function(e){var t;return Boolean(e&&(null===(t=C(e))||void 0===t?void 0:t.focusGuard))},O=function(e){return!k(e)},T=function(e){return Boolean(e)},P=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},M=function(e,t,n){return v(e).map((function(e,t){return{node:e,index:t,tabIndex:n&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(P)},F=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),I="".concat(F,", [data-focus-guard]"),L=function e(t,n){var r;return v((null===(r=t.shadowRoot)||void 0===r?void 0:r.children)||t.children).reduce((function(t,r){return t.concat(r.matches(n?I:F)?[r]:[],e(r))}),[])},R=function(e,t){return e.reduce((function(e,n){return e.concat(L(n,t),n.parentNode?v(n.parentNode.querySelectorAll(F)).filter((function(e){return e===n})):[])}),[])},D=function(e,t){return v(e).filter((function(e){return w(t,e)})).filter((function(e){return function(e){return!((B(e)||function(e){return"BUTTON"===e.tagName}(e))&&("hidden"===e.type||e.disabled))}(e)}))},Z=function(e,t){return void 0===t&&(t=new Map),v(e).filter((function(e){return x(t,e)}))},U=function(e,t,n){return M(D(R(e,n),t),!0,n)},j=function(e,t){return M(D(R(e),t),!1)},N=function(e,t){return D(function(e){var t=e.querySelectorAll("[".concat(a.GV,"]"));return v(t).map((function(e){return R([e])})).reduce((function(e,t){return e.concat(t)}),[])}(e),t)},z=function e(t,n){return(t.shadowRoot?e(t.shadowRoot,n):Object.getPrototypeOf(t).contains.call(t,n))||v(t.children).some((function(t){return e(t,n)}))},Q=function e(t){return t.activeElement?t.activeElement.shadowRoot?e(t.activeElement.shadowRoot):t.activeElement:void 0},H=function(){return document.activeElement?document.activeElement.shadowRoot?Q(document.activeElement.shadowRoot):document.activeElement:void 0},V=function e(t){return t.parentNode?e(t.parentNode):t},G=function(e){return y(e).filter(Boolean).reduce((function(e,t){var n=t.getAttribute(a.Sk);return e.push.apply(e,n?function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=e[r].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter((function(e,n){return!t.has(n)}))}(v(V(t).querySelectorAll("[".concat(a.Sk,'="').concat(n,'"]:not([').concat(a.ZO,'="disabled"])')))):[t]),e}),[])},W=function(e){return Boolean(v(e.querySelectorAll("iframe")).some((function(e){return e===document.activeElement})))},K=function(e){var t=document&&H();return!(!t||t.dataset&&t.dataset.focusGuard)&&G(e).some((function(e){return z(e,t)||W(e)}))},q=function(e,t){return E(e)&&e.name?function(e,t){return t.filter(E).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},X=function(e){return e[0]&&e.length>1?q(e[0],e):e[0]},Y=function(e,t){return e.length>1?e.indexOf(q(e[t],e)):t},J="NEW_FOCUS",$=function(e,t,n,r){var i=e.length,o=e[0],a=e[i-1],s=k(n);if(!(n&&e.indexOf(n)>=0)){var u=void 0!==n?t.indexOf(n):-1,l=r?t.indexOf(r):u,c=r?e.indexOf(r):-1,A=u-l,f=t.indexOf(o),h=t.indexOf(a),p=function(e){var t=new Set;return e.forEach((function(n){return t.add(q(n,e))})),e.filter((function(e){return t.has(e)}))}(t),d=(void 0!==n?p.indexOf(n):-1)-(r?p.indexOf(r):u),g=Y(e,0),v=Y(e,i-1);return-1===u||-1===c?J:!A&&c>=0?c:u<=f&&s&&Math.abs(A)>1?v:u>=h&&s&&Math.abs(A)>1?g:A&&Math.abs(d)>1?c:u<=f?v:u>h?g:A?Math.abs(A)>1?c:(i+c+A)%i:void 0}},ee=function e(t,n){return void 0===n&&(n=[]),n.push(t),t.parentNode&&e(t.parentNode.host||t.parentNode,n),n},te=function(e,t){for(var n=ee(e),r=ee(t),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},ne=function(e,t,n){var r=y(e),i=y(t),o=r[0],a=!1;return i.filter(Boolean).forEach((function(e){a=te(a||e,e)||a,n.filter(Boolean).forEach((function(e){var t=te(o,e);t&&(a=!a||z(t,a)?t:te(t,a))}))})),a},re=function(e,t){var n=document&&H(),r=G(e).filter(O),i=ne(n||e,e,r),o=new Map,a=j(r,o),s=U(r,o).filter((function(e){var t=e.node;return O(t)}));if(s[0]||(s=a)[0]){var u,l=j([i],o).map((function(e){return e.node})),c=function(e,t){var n=new Map;return t.forEach((function(e){return n.set(e.node,e)})),e.map((function(e){return n.get(e)})).filter(T)}(l,s),A=c.map((function(e){return e.node})),f=$(A,l,n,t);if(f===J){var h=Z(a.map((function(e){return e.node}))).filter((u=function(e,t){return e.reduce((function(e,n){return e.concat(N(n,t))}),[])}(r,o),function(e){var t;return e.autofocus||!!(null===(t=C(e))||void 0===t?void 0:t.autofocus)||u.indexOf(e)>=0}));return{node:h&&h.length?X(h):X(Z(A))}}return void 0===f?f:c[f]}},ie=0,oe=!1,ae=function(e,t,n){void 0===n&&(n={});var r,i,o=re(e,t);if(!oe&&o){if(ie>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),oe=!0,void setTimeout((function(){oe=!1}),1);ie++,r=o.node,i=n.focusOptions,"focus"in r&&r.focus(i),"contentWindow"in r&&r.contentWindow&&r.contentWindow.focus(),ie--}},se=function(e){var t=G(e).filter(O),n=ne(e,e,t),r=new Map,i=U([n],r,!0),o=U(t,r).filter((function(e){var t=e.node;return O(t)})).map((function(e){return e.node}));return i.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:o.indexOf(t)>=0,guard:k(t)}}))},ue=n(3378),le=function(){return document&&document.activeElement===document.body||function(){var e=document&&H();return!!e&&v(document.querySelectorAll("[".concat(a.Gv,"]"))).some((function(t){return z(t,e)}))}()},ce=null,Ae=null,fe=null,he=!1,pe=function(){return!0};function de(e,t,n,r){var i=null,o=e;do{var a=r[o];if(a.guard)a.node.dataset.focusAutoGuard&&(i=a);else{if(!a.lockItem)break;if(o!==e)return;i=null}}while((o+=n)!==t);i&&(i.node.tabIndex=0)}var ge=function(e){return e&&"current"in e?e.current:e},ve=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},ye=function(){var e,t=!1;if(ce){var n=ce,r=n.observed,i=n.persistentFocus,o=n.autoFocus,a=n.shards,s=n.crossFrame,u=n.focusOptions,l=r||fe&&fe.portaledElement,c=document&&document.activeElement;if(l){var A=[l].concat(a.map(ge).filter(Boolean));if(c&&!function(e){return(ce.whiteList||pe)(e)}(c)||(i||(s?Boolean(he):"meanwhile"===he)||!le()||!Ae&&o)&&(l&&!(K(A)||c&&function(e,t){return t.some((function(t){return ve(e,t,t)}))}(c,A)||(e=c,fe&&fe.portaledElement===e))&&(document&&!Ae&&c&&!o?(c.blur&&c.blur(),document.body.focus()):(t=ae(A,Ae,{focusOptions:u}),fe={})),he=!1,Ae=document&&document.activeElement),document){var f=document&&document.activeElement,h=se(A),p=h.map((function(e){return e.node})).indexOf(f);p>-1&&(h.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),de(p,h.length,1,h),de(p,-1,-1,h))}}}return t},me=function(e){ye()&&e&&(e.stopPropagation(),e.preventDefault())},be=function(){return(0,ue.U)(ye)},_e=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||(fe={observerNode:n,portaledElement:t})},we=function(){he="just",setTimeout((function(){he="meanwhile"}),0)};c.qy.assignSyncMedium(_e),c.DA.assignMedium(be),c.zC.assignMedium((function(e){return e({moveFocusInside:ae,focusInside:K})}));var xe=g((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!ce&&(document.addEventListener("focusin",me),document.addEventListener("focusout",be),window.addEventListener("blur",we));var n=ce,r=n&&t&&t.id===n.id;ce=t,n&&!r&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(Ae=null,r&&n.observed===t.observed||t.onActivation(),ye(),(0,ue.U)(ye)):(document.removeEventListener("focusin",me),document.removeEventListener("focusout",be),window.removeEventListener("blur",we),Ae=null)}))((function(){return null})),Ce=o.forwardRef((function(e,t){return o.createElement(h,(0,i.Z)({sideCar:xe,ref:t},e))})),Be=h.propTypes||{};Be.sideCar,(0,r.Z)(Be,["sideCar"]);Ce.propTypes={};var Ee=Ce},5592:function(e,t,n){"use strict";n.d(t,{DA:function(){return u},zC:function(){return l},qy:function(){return s},sH:function(){return c}});var r=n(6107);function i(e){return e}function o(e,t){void 0===t&&(t=i);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}function a(e,t){return void 0===t&&(t=i),o(e,t)}var s=a({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),u=a(),l=a(),c=function(e){void 0===e&&(e={});var t=o(null);return t.options=(0,r.pi)({async:!0,ssr:!1},e),t}({async:!0})},3378:function(e,t,n){"use strict";function r(e){var t=window.setImmediate;"undefined"!==typeof t?t(e):setTimeout(e,1)}n.d(t,{U:function(){return r},X:function(){return i}});var i=function(e,t){var n={};return n[e]=t,n}},3519:function(e,t,n){e.exports=n(2306)},2306:function(e,t,n){"use strict";var r,i=(r=n(2791))&&"object"==typeof r&&"default"in r?r.default:r,o=n(4164);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e.prototype.constructor=e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}};function c(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}var A={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function f(e,t,n){var r="",i="",o=null,a=[];if(void 0===t&&(t="_"),null==n&&(n=A),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var s=!1;return e.split("").forEach((function(e){s=!s&&"\\"===e||(s||!n[e]?(a.push(r.length),r.length===a.length-1&&(i+=e)):o=r.length+1,r+=e,!1)})),{maskChar:t,formatChars:n,prefix:i,mask:r,lastEditablePosition:o,permanents:a}}function h(e,t){return-1!==e.permanents.indexOf(t)}function p(e,t,n){var r=e.mask,i=e.formatChars;if(!n)return!1;if(h(e,t))return r[t]===n;var o=i[r[t]];return new RegExp(o).test(n)}function d(e,t){return t.split("").every((function(t,n){return h(e,n)||!p(e,n,t)}))}function g(e,t){var n=e.maskChar,r=e.prefix;if(!n){for(;t.length>r.length&&h(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var i=r.length,o=t.length;o>=r.length;o--){var a=t[o];if(!h(e,o)&&p(e,o,a)){i=o+1;break}}return i}function v(e,t){return g(e,t)===e.mask.length}function y(e,t){var n=e.maskChar,r=e.mask,i=e.prefix;if(!n){for((t=m(e,"",t,0)).length<i.length&&(t=i);t.length<r.length&&h(e,t.length);)t+=r[t.length];return t}if(t)return m(e,y(e,""),t,0);for(var o=0;o<r.length;o++)h(e,o)?t+=r[o]:t+=n;return t}function m(e,t,n,r){var i=e.mask,o=e.maskChar,a=e.prefix,s=n.split(""),u=v(e,t);return!o&&r>t.length&&(t+=i.slice(t.length,r)),s.every((function(n){for(;c=n,h(e,l=r)&&c!==i[l];){if(r>=t.length&&(t+=i[r]),s=n,o&&h(e,r)&&s===o)return!0;if(++r>=i.length)return!1}var s,l,c;return!p(e,r,n)&&n!==o||(r<t.length?t=o||u||r<a.length?t.slice(0,r)+n+t.slice(r+1):(t=t.slice(0,r)+n+t.slice(r),y(e,t)):o||(t+=n),++r<i.length)})),t}function b(e,t){for(var n=e.mask,r=t;r<n.length;++r)if(!h(e,r))return r;return null}function _(e){return e||0===e?e+"":""}function w(e,t,n,r,i){var o=e.mask,a=e.prefix,s=e.lastEditablePosition,u=t,l="",c=0,A=0,f=Math.min(i.start,n.start);return n.end>i.start?A=(c=function(e,t,n,r){var i=e.mask,o=e.maskChar,a=n.split(""),s=r;return a.every((function(t){for(;a=t,h(e,n=r)&&a!==i[n];)if(++r>=i.length)return!1;var n,a;return(p(e,r,t)||t===o)&&r++,r<i.length})),r-s}(e,0,l=u.slice(i.start,n.end),f))?i.length:0:u.length<r.length&&(A=r.length-u.length),u=r,A&&(1!==A||i.length||(f=i.start===n.start?b(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!h(e,n))return n;return null}(e,n.start)),u=function(e,t,n,r){var i=n+r,o=e.maskChar,a=e.mask,s=e.prefix,u=t.split("");if(o)return u.map((function(t,r){return r<n||i<=r?t:h(e,r)?a[r]:o})).join("");for(var l=i;l<u.length;l++)h(e,l)&&(u[l]="");return n=Math.max(s.length,n),u.splice(n,i-n),t=u.join(""),y(e,t)}(e,u,f,A)),u=m(e,u,l,f),(f+=c)>=o.length?f=o.length:f<a.length&&!c?f=a.length:f>=a.length&&f<s&&c&&(f=b(e,f)),l||(l=null),{value:u=y(e,u),enteredString:l,selection:{start:f,end:f}}}function x(e){return"function"==typeof e}function C(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function B(e){return(C()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function E(e){(C()||clearTimeout)(e)}var S=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=B(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(E(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=o.findDOMNode(u(u(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=g(n.maskOptions,n.value),t=b(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,r){void 0===r&&(r={});var i=n.getInputDOMNode(),o=n.isFocused();i&&o&&(r.deferred||c(i,e,t),null!==n.selectionDeferId&&E(n.selectionDeferId),n.selectionDeferId=B((function(){n.selectionDeferId=null,c(i,e,t)})),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),n=-r.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,r=e.maskChar,i=e.permanents,o=e.formatChars;return{mask:t,maskChar:r,permanents:i,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:o}},n.isInputAutofilled=function(e,t,r,i){var o=n.getInputDOMNode();try{if(o.matches(":-webkit-autofill"))return!0}catch(l){}return!n.focused||i.end<r.length&&t.end===e.length},n.onChange=function(e){var t=u(u(n)).beforePasteState,r=u(u(n)).previousSelection,i=n.props.beforeMaskedValueChange,o=n.getInputValue(),a=n.value,s=n.getSelection();n.isInputAutofilled(o,s,a,r)&&(a=y(n.maskOptions,""),r={start:0,end:0,length:0}),t&&(r=t.selection,a=t.value,s={start:r.start+o.length,end:r.start+o.length,length:0},o=a.slice(0,r.start)+o+a.slice(r.end),n.beforePasteState=null);var l=w(n.maskOptions,o,s,a,r),c=l.enteredString,A=l.selection,f=l.value;if(x(i)){var h=i({value:f,selection:A},{value:a,selection:r},c,n.getBeforeMaskedValueChangeConfig());f=h.value,A=h.selection}n.setInputValue(f),x(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(A.start,A.end,{deferred:!0}):n.setSelection(A.start,A.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions,i=r.mask,o=r.prefix;if(n.focused=!0,n.mounted=!0,i){if(n.value)g(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var a=y(n.maskOptions,o),s=y(n.maskOptions,a),u=g(n.maskOptions,s),l=b(n.maskOptions,u),c={start:l,end:l};if(x(t)){var A=t({value:s,selection:c},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());s=A.value,c=A.selection}var f=s!==n.getInputValue();f&&n.setInputValue(s),f&&x(n.props.onChange)&&n.props.onChange(e),n.setSelection(c.start,c.end)}n.runSaveSelectionLoop()}x(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,r&&!n.props.alwaysShowMask&&d(n.maskOptions,n.value)){var i="";x(t)&&(i=t({value:i,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var o=i!==n.getInputValue();o&&n.setInputValue(i),o&&x(n.props.onChange)&&n.props.onChange(e)}x(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",(function e(t){if(document.removeEventListener("mouseup",e),n.focused){var r=Math.abs(t.clientX-n.mouseDownX),i=Math.abs(t.clientY-n.mouseDownY),o=Math.max(r,i),a=(new Date).getTime()-n.mouseDownTime;(o<=10&&a<=200||o<=5&&a<=300)&&n.setCursorToEnd()}}))}x(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){x(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&x(n.props.inputRef)&&n.props.inputRef(e)};var r=t.mask,i=t.maskChar,a=t.formatChars,s=t.alwaysShowMask,l=t.beforeMaskedValueChange,A=t.defaultValue,h=t.value;n.maskOptions=f(r,i,a),null==A&&(A=""),null==h&&(h=A);var p=_(h);if(n.maskOptions.mask&&(s||p)&&(p=y(n.maskOptions,p),x(l))){var v=t.value;null==t.value&&(v=A),p=l({value:p,selection:null},{value:v=_(v),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=p,n}s(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,r=t.alwaysShowMask,i=t.mask,o=t.maskChar,a=t.formatChars,s=this.maskOptions,u=r||this.isFocused(),l=null!=this.props.value,c=l?_(this.props.value):this.value,A=e?e.start:null;if(this.maskOptions=f(i,o,a),this.maskOptions.mask){!s.mask&&this.isFocused()&&this.runSaveSelectionLoop();var h=this.maskOptions.mask&&this.maskOptions.mask!==s.mask;if(s.mask||l||(c=this.getInputValue()),(h||this.maskOptions.mask&&(c||u))&&(c=y(this.maskOptions,c)),h){var p=g(this.maskOptions,c);(null===A||p<A)&&(A=v(this.maskOptions,c)?p:b(this.maskOptions,p))}!this.maskOptions.mask||!d(this.maskOptions,c)||u||l&&this.props.value||(c="");var m={start:A,end:A};if(x(n)){var w=n({value:c,selection:m},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());c=w.value,m=w.selection}this.value=c;var C=this.getInputValue()!==this.value;C?(this.setInputValue(this.value),this.forceUpdate()):h&&this.forceUpdate();var B=!1;null!=m.start&&null!=m.end&&(B=!e||e.start!==m.start||e.end!==m.end),(B||C)&&this.setSelection(m.start,m.end)}else s.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&E(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){x(n)||l(!1);var o=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],s=a({},r);o.forEach((function(e){return delete s[e]})),e=n(s),o.filter((function(t){return null!=e.props[t]&&e.props[t]!==r[t]})).length&&l(!1)}else e=i.createElement("input",a({ref:this.handleRef},r));var u={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(u.onChange=this.onChange,u.onPaste=this.onPaste,u.onMouseDown=this.onMouseDown),null!=r.value&&(u.value=this.value)),e=i.cloneElement(e,u)},t}(i.Component);e.exports=S},5911:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,A=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,d=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,m=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case A:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case l:case f:case g:case d:case u:return e;default:return t}}case i:return t}}}function w(e){return _(e)===A}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===A||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===d||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===m||e.$$typeof===b||e.$$typeof===v)}},2420:function(e,t,n){"use strict";e.exports=n(5911)},924:function(e,t,n){"use strict";n.r(t),n.d(t,{BaseControl:function(){return $e},CanvasOverlay:function(){return Pt},FlyToInterpolator:function(){return ae},FullscreenControl:function(){return gt},GeolocateControl:function(){return _t},HTMLOverlay:function(){return Ft},InteractiveMap:function(){return ze},Layer:function(){return Ye},LinearInterpolator:function(){return ue},MapController:function(){return Le},Marker:function(){return st},NavigationControl:function(){return Et},Popup:function(){return ft},SVGOverlay:function(){return Lt},ScaleControl:function(){return Ot},Source:function(){return Ge},StaticMap:function(){return we},TRANSITION_EVENTS:function(){return Ce},TransitionInterpolator:function(){return J},WebMercatorViewport:function(){return _.DW},_MapContext:function(){return de},default:function(){return ze}});var r=n(4301);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var A=n(2959);function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,A.Z)(e,t)}var h=n(8810),p=n(2791),d=n(4093),g=n.n(d);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function b(e){if(!e)return null;if("string"===typeof e)return e;e.toJS&&(e=e.toJS());var t={},n=!0,r=!1,i=void 0;try{for(var o,a=e.layers[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t[s.id]=s}}catch(l){r=!0,i=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}var u=e.layers.map((function(e){var n=t[e.ref],r=null;if("interactive"in e&&delete(r=y({},e)).interactive,n){delete(r=r||y({},e)).ref;var i=!0,o=!1,a=void 0;try{for(var s,u=m[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;c in n&&(r[c]=n[c])}}catch(l){o=!0,a=l}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}return r||e}));return y({},e,{layers:u})}var _=n(8611),w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},E=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=void 0;S="undefined"!==typeof window?window:"undefined"!==typeof self?self:n.g;var k=null,O=null,T=S.clearTimeout,P=S.setTimeout,M=S.cancelAnimationFrame||S.mozCancelAnimationFrame||S.webkitCancelAnimationFrame,F=S.requestAnimationFrame||S.mozRequestAnimationFrame||S.webkitRequestAnimationFrame;function I(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u="undefined"!==typeof document&&document.attachEvent;if(!u){a=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(!(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;a(this),this.__resizeRAF__&&k(this.__resizeRAF__),this.__resizeRAF__=O((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}};var l=!1,c="";r="animationstart";var A="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(l=!0),!1===l)for(var p=0;p<A.length;p++)if(void 0!==h.style[A[p]+"AnimationName"]){c="-"+A[p].toLowerCase()+"-",r=f[p],l=!0;break}t="@"+c+"keyframes "+(n="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",i=c+"animation: 1ms "+n+"; "}return{addResizeListener:function(o,l){if(u)o.attachEvent("onresize",l);else{if(!o.__resizeTriggers__){var c=o.ownerDocument,A=S.getComputedStyle(o);A&&"static"===A.position&&(o.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){var r=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=n.head||n.getElementsByTagName("head")[0],a=n.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(n.createTextNode(r)),o.appendChild(a)}}(c),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=c.createElement("div")).className="resize-triggers";var f=c.createElement("div");f.className="expand-trigger",f.appendChild(c.createElement("div"));var h=c.createElement("div");h.className="contract-trigger",o.__resizeTriggers__.appendChild(f),o.__resizeTriggers__.appendChild(h),o.appendChild(o.__resizeTriggers__),a(o),o.addEventListener("scroll",s,!0),r&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&a(o)},o.__resizeTriggers__.addEventListener(r,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(l)}},removeResizeListener:function(e,t){if(u)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(n){}}}}}null==M||null==F?(k=T,O=function(e){return P(e,20)}):(k=function(e){var t=E(e,2),n=t[0],r=t[1];M(n),T(r)},O=function(e){var t=F((function(){T(n),e()})),n=P((function(){M(t),e()}),20);return[t,n]});var L=function(e){function t(){var e,n,r;w(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,i=e.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},u=parseInt(s.paddingLeft,10)||0,l=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,A=parseInt(s.paddingBottom,10)||0,f=o-c-A,h=a-u-l;(!t&&r.state.height!==f||!n&&r.state.width!==h)&&(r.setState({height:o-c-A,width:a-u-l}),i({height:o,width:a}))}},r._setRef=function(e){r._autoSizer=e},B(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),x(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=I(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.disableHeight,i=e.disableWidth,o=e.style,a=this.state,s=a.height,u=a.width,l={overflow:"visible"},c={},A=!1;return r||(0===s&&(A=!0),l.height=0,c.height=s),i||(0===u&&(A=!0),l.width=0,c.width=u),(0,p.createElement)("div",{className:n,ref:this._setRef,style:C({},l,o)},!A&&t(c))}}]),t}(p.PureComponent);L.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var R=L,D="undefined"!==typeof window?window:n.g,Z=("undefined"!==typeof n.g?n.g:window,"undefined"!==typeof document?document:{});var U={container:g().object,gl:g().object,mapboxApiAccessToken:g().string,mapboxApiUrl:g().string,attributionControl:g().bool,preserveDrawingBuffer:g().bool,reuseMaps:g().bool,transformRequest:g().func,mapOptions:g().object,mapStyle:g().oneOfType([g().string,g().object]),visible:g().bool,asyncRender:g().bool,onLoad:g().func,onError:g().func,width:g().number,height:g().number,viewState:g().object,longitude:g().number,latitude:g().number,zoom:g().number,bearing:g().number,pitch:g().number,altitude:g().number},j={container:Z.body,mapboxApiAccessToken:function(){var e=null;if("undefined"!==typeof window&&window.location){var t=window.location.search.match(/access_token=([^&\/]*)/);e=t&&t[1]}e||"undefined"===typeof process||(e=e||{NODE_ENV:"production",PUBLIC_URL:"https://tgve.github.io/app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoibGF5aWsiLCJhIjoiY2xmZXF4cmtlMDAwNjNxcGgyeTB3Z2F0eSJ9.yBHbLSRvwPtHjf5I8ONOzQ",REACT_APP_DEFAULT_URL:"https://raw.githubusercontent.com/tgve/example-data/main/casualties.csv"}.MapboxAccessToken||"pk.eyJ1IjoibGF5aWsiLCJhIjoiY2xmZXF4cmtlMDAwNjNxcGgyeTB3Z2F0eSJ9.yBHbLSRvwPtHjf5I8ONOzQ");return e||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,asyncRender:!1,onLoad:function(){},onError:function(e){e&&console.error(e.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";e.debug&&g().checkPropTypes(U,e,"prop",t)}var z=function(){function e(t){var n=this;if(i(this,e),(0,h.Z)(this,"mapboxgl",void 0),(0,h.Z)(this,"props",j),(0,h.Z)(this,"_map",null),(0,h.Z)(this,"width",0),(0,h.Z)(this,"height",0),(0,h.Z)(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),!t.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=t.mapboxgl,e.initialized||(e.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(t)}return c(e,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(e){return this._update(this.props,e),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"redraw",value:function(){var e=this._map;e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(t){this._map=e.savedMap;var n=this._map.getContainer(),r=t.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,e.savedMap=null,t.mapStyle&&this._map.setStyle(t.mapStyle,{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(t){if(t.reuseMaps&&e.savedMap)this._reuse(t);else{if(t.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,t.gl}}var r={container:t.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:t.mapStyle,interactive:!1,trackResize:!1,attributionControl:t.attributionControl,preserveDrawingBuffer:t.preserveDrawingBuffer};t.transformRequest&&(r.transformRequest=t.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},r,t.mapOptions)),this._map.once("load",t.onLoad),this._map.on("error",t.onError)}return this}},{key:"_destroy",value:function(){this._map&&(e.savedMap?this._map.remove():(e.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(e){var t=this;N(e=Object.assign({},j,e),"Mapbox"),this.mapboxgl.accessToken=e.mapboxApiAccessToken||j.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=e.mapboxApiUrl,this._create(e);var n=e.container;Object.defineProperty(n,"offsetWidth",{get:function(){return t.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return t.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return t.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return t.height}});var r=this._map.getCanvas();r&&(r.style.outline="none"),this._updateMapViewport({},e),this._updateMapSize({},e),this.props=e}},{key:"_update",value:function(e,t){if(this._map){N(t=Object.assign({},this.props,t),"Mapbox");var n=this._updateMapViewport(e,t),r=this._updateMapSize(e,t);t.asyncRender||!n&&!r||this.redraw(),this.props=t}}},{key:"_updateMapSize",value:function(e,t){var n=e.width!==t.width||e.height!==t.height;return n&&(this.width=t.width,this.height=t.height,this.resize()),n}},{key:"_updateMapViewport",value:function(e,t){var n=this._getViewState(e),r=this._getViewState(t),i=r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(r)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude)),i}},{key:"_getViewState",value:function(e){var t=e.viewState||e,n=t.longitude,r=t.latitude,i=t.zoom,o=t.pitch,a=void 0===o?0:o,s=t.bearing,u=void 0===s?0:s,l=t.altitude;return{longitude:n,latitude:r,zoom:i,pitch:a,bearing:u,altitude:void 0===l?1.5:l}}},{key:"_checkStyleSheet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if("undefined"!==typeof Z)try{var t=Z.createElement("div");t.className="mapboxgl-map",t.style.display="none",Z.body.append(t);var n="static"!==window.getComputedStyle(t).position;if(!n){var r=Z.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(e,"/mapbox-gl.css")),Z.head.append(r)}}catch(i){}}},{key:"_viewStateToMapboxProps",value:function(e){return{center:[e.longitude,e.latitude],zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}}}]),e}();(0,h.Z)(z,"initialized",!1),(0,h.Z)(z,"propTypes",U),(0,h.Z)(z,"defaultProps",j),(0,h.Z)(z,"savedMap",null);var Q=n(7545),H=n.n(Q);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function K(e,t){if(e===t)return!0;if(W(e)&&W(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!K(e[n],t[n]))return!1;return!0}return Math.abs(e-t)<=1e-7}function q(e,t,n){return Math.max(t,Math.min(n,e))}function X(e,t,n){return W(e)?e.map((function(e,r){return X(e,t[r],n)})):n*t+(1-n)*e}function Y(e,t){if(!e)throw new Error(t||"react-map-gl: assertion failed.")}var J=function(){function e(){i(this,e),(0,h.Z)(this,"propNames",[])}return c(e,[{key:"arePropsEqual",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=(this.propNames||[])[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!K(e[s],t[s]))return!1}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0}},{key:"initializeProps",value:function(e,t){return{start:e,end:t}}},{key:"interpolateProps",value:function(e,t,n){Y(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(e,t){return t.transitionDuration}}]),e}(),$={longitude:1,bearing:1};function ee(e){return Number.isFinite(e)||Array.isArray(e)}function te(e,t,n){return function(e){return e in $}(e)&&Math.abs(n-t)>180&&(n=n<0?n+360:n-360),n}var ne=["longitude","latitude","zoom","bearing","pitch"],re=["latitude","longitude","zoom","width","height"],ie=["bearing","pitch"],oe={speed:1.2,curve:1.414},ae=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,t),e=s(this,u(t).call(this)),(0,h.Z)(a(e),"speed",void 0),(0,h.Z)(a(e),"propNames",ne),(0,h.Z)(a(e),"props",void 0),e.props=Object.assign({},oe,n),e}return f(t,e),c(t,[{key:"initializeProps",value:function(e,t){var n={},r={},i=!0,o=!1,a=void 0;try{for(var s,u=re[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=e[l],A=t[l];Y(ee(c)&&ee(A),"".concat(l," must be supplied for transition")),n[l]=c,r[l]=te(l,c,A)}}catch(b){o=!0,a=b}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var f=!0,h=!1,p=void 0;try{for(var d,g=ie[Symbol.iterator]();!(f=(d=g.next()).done);f=!0){var v=d.value,y=e[v]||0,m=t[v]||0;n[v]=y,r[v]=te(v,y,m)}}catch(b){h=!0,p=b}finally{try{f||null==g.return||g.return()}finally{if(h)throw p}}return{start:n,end:r}}},{key:"interpolateProps",value:function(e,t,n){var r=(0,_.if)(e,t,n,this.props),i=!0,o=!1,a=void 0;try{for(var s,u=ie[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r[l]=X(e[l],t[l],n)}}catch(c){o=!0,a=c}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return r}},{key:"getDuration",value:function(e,t){var n=t.transitionDuration;return"auto"===n&&(n=(0,_.up)(e,t,this.props)),n}}]),t}(J),se=["longitude","latitude","zoom","bearing","pitch"],ue=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,t),e=s(this,u(t).call(this)),(0,h.Z)(a(e),"around",void 0),Array.isArray(n)&&(n={transitionProps:n}),e.propNames=n.transitionProps||se,n.around&&(e.around=n.around),e}return f(t,e),c(t,[{key:"initializeProps",value:function(e,t){var n={},r={};if(this.around){n.around=this.around;var i=new _.DW(e).unproject(this.around);Object.assign(r,t,{around:new _.DW(t).project(i),aroundLngLat:i})}var o=!0,a=!1,s=void 0;try{for(var u,l=this.propNames[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,A=e[c],f=t[c];Y(ee(A)&&ee(f),"".concat(c," must be supplied for transition")),n[c]=A,r[c]=te(c,A,f)}}catch(h){a=!0,s=h}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}return{start:n,end:r}}},{key:"interpolateProps",value:function(e,t,n){var r={},i=!0,o=!1,a=void 0;try{for(var s,u=this.propNames[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r[l]=X(e[l],t[l],n)}}catch(h){o=!0,a=h}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}if(t.around){var c=G(new _.DW(Object.assign({},t,r)).getMapCenterByLngLatPosition({lngLat:t.aroundLngLat,pos:X(e.around,t.around,n)}),2),A=c[0],f=c[1];r.longitude=A,r.latitude=f}return r}}]),t}(J),le={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},ce=0,Ae=0,fe=1.5,he=function(){function e(t){var n=t.width,r=t.height,o=t.latitude,a=t.longitude,s=t.zoom,u=t.bearing,l=void 0===u?Ae:u,c=t.pitch,A=void 0===c?ce:c,f=t.altitude,p=void 0===f?fe:f,d=t.maxZoom,g=void 0===d?le.maxZoom:d,v=t.minZoom,y=void 0===v?le.minZoom:v,m=t.maxPitch,b=void 0===m?le.maxPitch:m,_=t.minPitch,w=void 0===_?le.minPitch:_,x=t.transitionDuration,C=t.transitionEasing,B=t.transitionInterpolator,E=t.transitionInterruption,S=t.startPanLngLat,k=t.startZoomLngLat,O=t.startBearing,T=t.startPitch,P=t.startZoom;i(this,e),(0,h.Z)(this,"_viewportProps",void 0),(0,h.Z)(this,"_interactiveState",void 0),Y(Number.isFinite(n),"`width` must be supplied"),Y(Number.isFinite(r),"`height` must be supplied"),Y(Number.isFinite(a),"`longitude` must be supplied"),Y(Number.isFinite(o),"`latitude` must be supplied"),Y(Number.isFinite(s),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:o,longitude:a,zoom:s,bearing:l,pitch:A,altitude:p,maxZoom:g,minZoom:y,maxPitch:b,minPitch:w,transitionDuration:x,transitionEasing:C,transitionInterpolator:B,transitionInterruption:E}),this._interactiveState={startPanLngLat:S,startZoomLngLat:k,startBearing:O,startPitch:T,startZoom:P}}return c(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=G(this._calculateNewLngLat({startPanLngLat:r,pos:t}),2),o=i[0],a=i[1];return this._getUpdatedMapState({longitude:o,latitude:a})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){e.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,n=void 0===t?0:t,r=e.deltaScaleY,i=void 0===r?0:r,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:a||0,startPitch:s||0}),l=u.pitch,c=u.bearing;return this._getUpdatedMapState({bearing:c,pitch:l})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(t),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale;Y(r>0,"`scale` must be a positive number");var i=this._interactiveState,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(t)),Y(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:o||0}),u=G(new _.DW(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:t}),2),l=u[0],c=u[1];return this._getUpdatedMapState({zoom:s,longitude:l,latitude:c})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(t){return new e(Object.assign({},this._viewportProps,this._interactiveState,t))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=q(r,n,t);var i=e.maxPitch,o=e.minPitch,a=e.pitch;return e.pitch=q(a,o,i),Object.assign(e,(0,_.QA)(e)),e}},{key:"_unproject",value:function(e){var t=new _.DW(this._viewportProps);return e&&t.unproject(e)}},{key:"_calculateNewLngLat",value:function(e){var t=e.startPanLngLat,n=e.pos;return new _.DW(this._viewportProps).getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return q(n+Math.log2(t),o,i)}},{key:"_calculateNewPitchAndBearing",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY,r=e.startBearing,i=e.startPitch;n=q(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=i;return n>0?u=i+n*(s-i):n<0&&(u=i-n*(a-i)),{pitch:u,bearing:r+180*t}}}]),e}();function pe(e){return e[0].toLowerCase()+e.slice(1)}var de=(0,p.createContext)({viewport:null,map:null,mapContainer:null,onViewportChange:null,onViewStateChange:null,eventManager:null,isDragging:!1});function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(n,!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye="A valid API access token is required to use Mapbox data";var me={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},be=Object.assign({},z.propTypes,{width:g().oneOfType([g().number,g().string]),height:g().oneOfType([g().number,g().string]),onResize:g().func,preventStyleDiffing:g().bool,disableTokenWarning:g().bool,visible:g().bool,className:g().string,style:g().object,visibilityConstraints:g().object}),_e=Object.assign({},z.defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:le}),we=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=s(this,(e=u(t)).call.apply(e,[this].concat(o))),(0,h.Z)(a(n),"state",{accessTokenInvalid:!1}),(0,h.Z)(a(n),"_mapbox",null),(0,h.Z)(a(n),"_map",null),(0,h.Z)(a(n),"_mapboxMapRef",(0,p.createRef)()),(0,h.Z)(a(n),"_mapContainerRef",(0,p.createRef)()),(0,h.Z)(a(n),"_queryParams",{}),(0,h.Z)(a(n),"_width",0),(0,h.Z)(a(n),"_height",0),(0,h.Z)(a(n),"getMap",(function(){return n._map})),(0,h.Z)(a(n),"queryRenderedFeatures",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n._map.queryRenderedFeatures(e,t)})),(0,h.Z)(a(n),"_mapboxMapError",(function(e){401!==(e.error&&e.error.status||e.status)||n.state.accessTokenInvalid||(console.error(ye),n.setState({accessTokenInvalid:!0})),n.props.onError(e)})),n}return f(t,e),c(t,[{key:"componentDidMount",value:function(){if(t.supported()){var e=this.props.mapStyle;this._mapbox=new z(Object.assign({},this.props,{mapboxgl:H(),width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:b(e)})),this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(e){this._mapbox&&(this._updateMapStyle(e,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._mapbox=null,this._map=null)}},{key:"_updateMapSize",value:function(e,t){this._width===e&&this._height===t||(this._width=e,this._height=t,this._updateMapProps(this.props))}},{key:"_updateMapStyle",value:function(e,t){var n=t.mapStyle;n!==e.mapStyle&&n&&this._map.setStyle(b(n),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(e){this._mapbox&&this._mapbox.setProps(Object.assign({},e,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid&&!this.props.disableTokenWarning){return p.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},p.createElement("h3",{key:"header"},"NO_TOKEN_WARNING"),p.createElement("div",{key:"text"},"For information on setting up your basemap, read"),p.createElement("a",{key:"link",href:"https://uber.github.io/react-map-gl/#/Documentation/getting-started/about-mapbox-tokens"},"Note on Map Tokens"))}return null}},{key:"_renderOverlays",value:function(e){var t=this,n=e.width,r=void 0===n?Number(this.props.width):n,i=e.height,o=void 0===i?Number(this.props.height):i;return this._updateMapSize(r,o),p.createElement(de.Consumer,null,(function(e){var n=ve({},e,{viewport:new _.DW(ve({},t.props,{},t.props.viewState,{width:r,height:o})),map:t._map,mapContainer:e.mapContainer||t._mapContainerRef.current});return p.createElement(de.Provider,{value:n},p.createElement("div",{key:"map-overlays",className:"overlays",style:me},t.props.children))}))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.width,r=e.height,i=e.style,o=e.visibilityConstraints,a=Object.assign({position:"relative"},i,{width:n,height:r}),s=this.props.visible&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le;for(var n in t){var r=n.slice(0,3),i=pe(n.slice(3));if("min"===r&&e[i]<t[n])return!1;if("max"===r&&e[i]>t[n])return!1}return!0}(this.props.viewState||this.props,o),u=Object.assign({},me,{visibility:s?"inherit":"hidden"});return p.createElement("div",{key:"map-container",style:a,ref:this._mapContainerRef},p.createElement("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:u,className:t}),p.createElement(R,{key:"autosizer",disableWidth:Number.isFinite(n),disableHeight:Number.isFinite(r),onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return H()&&H().supported()}}]),t}(p.PureComponent);(0,h.Z)(we,"propTypes",be),(0,h.Z)(we,"defaultProps",_e);var xe=function(){};var Ce={BREAK:1,SNAP_TO_END:2,IGNORE:3,UPDATE:4},Be={transitionDuration:0,transitionEasing:function(e){return e},transitionInterpolator:new ue,transitionInterruption:Ce.BREAK,onTransitionStart:xe,onTransitionInterrupt:xe,onTransitionEnd:xe,onViewportChange:xe,onStateChange:xe},Ee=function(){function e(t,n){var r=this;i(this,e),(0,h.Z)(this,"props",void 0),(0,h.Z)(this,"state",void 0),(0,h.Z)(this,"time",void 0),(0,h.Z)(this,"_animationFrame",null),(0,h.Z)(this,"_onTransitionFrame",(function(){r._animationFrame=requestAnimationFrame(r._onTransitionFrame),r._updateViewport()})),t&&(this.props=t),this.time=n||Date.now}return c(e,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(e){var t=this.props;if(this.props=e,this._shouldIgnoreViewportChange(t,e))return!1;if(this._isTransitionEnabled(e)){var n=Object.assign({},t),r=Object.assign({},e);if(this._isTransitionInProgress()&&(t.onTransitionInterrupt(),this.state.interruption===Ce.SNAP_TO_END?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===Ce.UPDATE)){var i=this.time(),o=(i-this.state.startTime)/this.state.duration;r.transitionDuration=this.state.duration-(i-this.state.startTime),r.transitionEasing=function(e,t){var n=e(t);return function(r){return 1/(1-n)*(e(r*(1-t)+t)-n)}}(this.state.easing,o),r.transitionInterpolator=n.transitionInterpolator}return r.onTransitionStart(),this._triggerTransition(n,r),!0}return this._isTransitionInProgress()&&(t.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(e){var t=e.transitionDuration,n=e.transitionInterpolator;return(t>0||"auto"===t)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(e,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return!e||(this._isTransitionInProgress()?this.state.interruption===Ce.IGNORE||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t))}},{key:"_triggerTransition",value:function(e,t){Y(this._isTransitionEnabled(t),"Transition is not enabled"),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=t.transitionInterpolator,r=n.getDuration?n.getDuration(e,t):t.transitionDuration,i=t.transitionInterpolator.initializeProps(e,t),o={inTransition:!0,isZooming:e.zoom!==t.zoom,isPanning:e.longitude!==t.longitude||e.latitude!==t.latitude,isRotating:e.bearing!==t.bearing||e.pitch!==t.pitch};this.state={duration:r,easing:t.transitionEasing,interpolator:t.transitionInterpolator,interruption:t.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{},interactionState:o},this._onTransitionFrame(),this.props.onStateChange(o)}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.props.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var e=this.time(),t=this.state,n=t.startTime,r=t.duration,i=t.easing,o=t.interpolator,a=t.startProps,s=t.endProps,u=!1,l=(e-n)/r;l>=1&&(l=1,u=!0),l=i(l);var c=o.interpolateProps(a,s,l),A=new he(Object.assign({},this.props,c));this.state.propsInTransition=A.getViewportProps(),this.props.onViewportChange(this.state.propsInTransition,this.state.interactionState,this.props),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),e}();(0,h.Z)(Ee,"defaultProps",Be);var Se=n(511);var ke={transitionDuration:0},Oe={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new ue,transitionInterruption:Ce.BREAK},Te=["wheel"],Pe=["panstart","panmove","panend"],Me=["pinchstart","pinchmove","pinchend","pinchcancel"],Fe=["doubletap"],Ie=["keydown"],Le=function(){function e(){var t=this;i(this,e),(0,h.Z)(this,"events",[]),(0,h.Z)(this,"mapState",void 0),(0,h.Z)(this,"onViewportChange",void 0),(0,h.Z)(this,"onStateChange",void 0),(0,h.Z)(this,"mapStateProps",void 0),(0,h.Z)(this,"eventManager",void 0),(0,h.Z)(this,"scrollZoom",!0),(0,h.Z)(this,"dragPan",!0),(0,h.Z)(this,"dragRotate",!0),(0,h.Z)(this,"doubleClickZoom",!0),(0,h.Z)(this,"touchZoom",!0),(0,h.Z)(this,"touchRotate",!1),(0,h.Z)(this,"keyboard",!0),(0,h.Z)(this,"_state",{isDragging:!1}),(0,h.Z)(this,"_events",{}),(0,h.Z)(this,"_transitionManager",new Ee),(0,h.Z)(this,"setState",(function(e){Object.assign(t._state,e),t.onStateChange&&t.onStateChange(t._state)})),this.handleEvent=this.handleEvent.bind(this),this._onWheelEnd=function(e,t){var n,r,i,o=function(){return i=null,e.apply(n,r)};return function(){n=this,r=arguments,i&&clearTimeout(i),i=setTimeout(o,t)}}(this._onWheelEnd,100)}return c(e,[{key:"handleEvent",value:function(e){switch(this.mapState=this.getMapState(),e.type){case"panstart":return this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchcancel":case"pinchend":return this._onPinchEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"getCenter",value:function(e){var t=e.offsetCenter;return[t.x,t.y]}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},e.getViewportProps(),t),o=Object.keys(i).some((function(e){return r[e]!==i[e]}));o&&this.onViewportChange(i,n,r),this.setState(Object.assign({},e.getInteractiveState(),n))}},{key:"getMapState",value:function(e){return new he(Object.assign({},this.mapStateProps,this._state,e))}},{key:"setOptions",value:function(e){var t=e.onViewportChange,n=e.onStateChange,r=e.eventManager,i=void 0===r?this.eventManager:r,o=e.isInteractive,a=void 0===o||o,s=e.scrollZoom,u=void 0===s?this.scrollZoom:s,l=e.dragPan,c=void 0===l?this.dragPan:l,A=e.dragRotate,f=void 0===A?this.dragRotate:A,h=e.doubleClickZoom,p=void 0===h?this.doubleClickZoom:h,d=e.touchZoom,g=void 0===d?this.touchZoom:d,v=e.touchRotate,y=void 0===v?this.touchRotate:v,m=e.keyboard,b=void 0===m?this.keyboard:m;this.onViewportChange=t,this.onStateChange=n;var _=!this.mapStateProps||this.mapStateProps.height!==e.height;this.mapStateProps=e,_&&this.updateViewport(new he(e)),this._transitionManager.processViewportChange(Object.assign({},e,{onStateChange:this.setState})),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(Te,a&&u),this.toggleEvents(Pe,a&&(c||f)),this.toggleEvents(Me,a&&(g||y)),this.toggleEvents(Fe,a&&p),this.toggleEvents(Ie,a&&b),this.scrollZoom=u,this.dragPan=c,this.dragRotate=f,this.doubleClickZoom=p,this.touchZoom=g,this.touchRotate=y,this.keyboard=b}},{key:"toggleEvents",value:function(e,t){var n=this;this.eventManager&&e.forEach((function(e){n._events[e]!==t&&(n._events[e]=t,t?n.eventManager.on(e,n.handleEvent):n.eventManager.off(e,n.handleEvent))}))}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e),n=this.mapState.panStart({pos:t}).rotateStart({pos:t});return this.updateViewport(n,ke,{isDragging:!0}),!0}},{key:"_onPan",value:function(e){return this.isFunctionKeyPressed(e)||e.rightButton?this._onPanRotate(e):this._onPanMove(e)}},{key:"_onPanEnd",value:function(e){var t=this.mapState.panEnd().rotateEnd();return this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),n=this.mapState.pan({pos:t});return this.updateViewport(n,ke,{isPanning:!0}),!0}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=e.deltaX,n=e.deltaY,r=G(this.getCenter(e),2)[1],i=r-n,o=this.mapState.getViewportProps(),a=o.width,s=o.height,u=t/a,l=0;n>0?Math.abs(s-i)>5&&(l=n/(i-s)*1.2):n<0&&i>5&&(l=1-r/i),l=Math.min(1,Math.max(-1,l));var c=this.mapState.rotate({deltaScaleX:u,deltaScaleY:l});return this.updateViewport(c,ke,{isRotating:!0}),!0}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;e.preventDefault();var t=this.getCenter(e),n=e.delta,r=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.mapState.zoom({pos:t,scale:r});return this.updateViewport(i,ke,{isZooming:!0}),this._onWheelEnd(),!0}},{key:"_onWheelEnd",value:function(){this.setState({isZooming:!1})}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e),n=this.mapState.zoomStart({pos:t}).rotateStart({pos:t});return this._state.startPinchRotation=e.rotation,this.updateViewport(n,ke,{isDragging:!0}),!0}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;var t=this.mapState;if(this.touchZoom){var n=e.scale,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){var i=e.rotation,o=this._state.startPinchRotation;t=t.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(t,ke,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(e){var t=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e),n=this.isFunctionKeyPressed(e),r=this.mapState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,Object.assign({},Oe,{transitionInterpolator:new ue({around:t})})),!0}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,n=this.isFunctionKeyPressed(e),r=this.mapStateProps;switch(e.srcEvent.keyCode){case 189:t=n?this.getMapState({zoom:r.zoom-2}):this.getMapState({zoom:r.zoom-1});break;case 187:t=n?this.getMapState({zoom:r.zoom+2}):this.getMapState({zoom:r.zoom+1});break;case 37:t=n?this.getMapState({bearing:r.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:t=n?this.getMapState({bearing:r.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:t=n?this.getMapState({pitch:r.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:t=n?this.getMapState({pitch:r.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(t,Oe)}}]),e}(),Re=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"},{old:"mapControls",new:"controller"}];function De(e){return"react-map-gl: `".concat(e,"` is removed.")}function Ze(e){return"Use `".concat(e,"` instead.")}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Re.forEach((function(t){if(e.hasOwnProperty(t.old)){var n=De(t.old);t.new&&(n="".concat(n," ").concat(Ze(t.new))),console.warn(n)}}))}var je=Object.assign({},we.propTypes,{maxZoom:g().number,minZoom:g().number,maxPitch:g().number,minPitch:g().number,onViewStateChange:g().func,onViewportChange:g().func,onInteractionStateChange:g().func,transitionDuration:g().oneOfType([g().number,g().string]),transitionInterpolator:g().object,transitionInterruption:g().number,transitionEasing:g().func,onTransitionStart:g().func,onTransitionInterrupt:g().func,onTransitionEnd:g().func,scrollZoom:g().bool,dragPan:g().bool,dragRotate:g().bool,doubleClickZoom:g().bool,touchZoom:g().bool,touchRotate:g().bool,keyboard:g().bool,onHover:g().func,onClick:g().func,onDblClick:g().func,onContextMenu:g().func,onMouseDown:g().func,onMouseMove:g().func,onMouseUp:g().func,onTouchStart:g().func,onTouchMove:g().func,onTouchEnd:g().func,onMouseEnter:g().func,onMouseLeave:g().func,onMouseOut:g().func,onWheel:g().func,touchAction:g().string,clickRadius:g().number,interactiveLayerIds:g().array,getCursor:g().func,controller:g().instanceOf(Le)}),Ne=Object.assign({},we.defaultProps,le,Ee.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(e){return e.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",clickRadius:0,getCursor:function(e){var t=e.isDragging,n=e.isHovering;return t?"grabbing":n?"pointer":"grab"}}),ze=function(e){function t(e){var n;return i(this,t),n=s(this,u(t).call(this,e)),(0,h.Z)(a(n),"state",{isLoaded:!1,isDragging:!1,isHovering:!1}),(0,h.Z)(a(n),"_controller",void 0),(0,h.Z)(a(n),"_eventManager",void 0),(0,h.Z)(a(n),"_interactiveContext",void 0),(0,h.Z)(a(n),"_width",0),(0,h.Z)(a(n),"_height",0),(0,h.Z)(a(n),"_eventCanvasRef",(0,p.createRef)()),(0,h.Z)(a(n),"_staticMapRef",(0,p.createRef)()),(0,h.Z)(a(n),"getMap",(function(){return n._staticMapRef.current?n._staticMapRef.current.getMap():null})),(0,h.Z)(a(n),"queryRenderedFeatures",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.getMap();return r&&r.queryRenderedFeatures(e,t)})),(0,h.Z)(a(n),"_onInteractionStateChange",(function(e){var t=e.isDragging,r=void 0!==t&&t;r!==n.state.isDragging&&(n._updateInteractiveContext({isDragging:r}),n.setState({isDragging:r}));var i=n.props.onInteractionStateChange;i&&i(e)})),(0,h.Z)(a(n),"_onResize",(function(e){var t=e.width,r=e.height;n._width=t,n._height=r,n._setControllerProps(n.props),n.props.onResize({width:t,height:r})})),(0,h.Z)(a(n),"_onViewportChange",(function(e,t,r){var i=n.props,o=i.onViewStateChange,a=i.onViewportChange;o&&o({viewState:e,interactionState:t,oldViewState:r}),a&&a(e,t,r)})),(0,h.Z)(a(n),"_onLoad",(function(e){n.setState({isLoaded:!0}),n.props.onLoad(e)})),(0,h.Z)(a(n),"_onEvent",(function(e,t){var r=n.props[e];r&&r(n._normalizeEvent(t))})),(0,h.Z)(a(n),"_onPointerDown",(function(e){if("touch"===e.pointerType)n._onEvent("onTouchStart",e);else n._onEvent("onMouseDown",e)})),(0,h.Z)(a(n),"_onPointerUp",(function(e){if("touch"===e.pointerType)n._onEvent("onTouchEnd",e);else n._onEvent("onMouseUp",e)})),(0,h.Z)(a(n),"_onPointerMove",(function(e){if("touch"===e.pointerType)n._onEvent("onTouchMove",e);else n._onEvent("onMouseMove",e);if(!n.state.isDragging){var t,r=n.props,i=r.onHover,o=r.interactiveLayerIds;e=n._normalizeEvent(e),n.state.isLoaded&&(o||i)&&(t=n._getFeatures({pos:e.point,radius:n.props.clickRadius})),i&&(e.features=t,i(e));var a=Boolean(o&&t&&t.length>0),s=a&&!n.state.isHovering,u=!a&&n.state.isHovering;s&&n._onEvent("onMouseEnter",e),u&&n._onEvent("onMouseLeave",e),(s||u)&&n.setState({isHovering:a})}})),(0,h.Z)(a(n),"_onClick",(function(e){var t=n.props,r=t.onClick,i=t.onNativeClick,o=t.onDblClick,a=t.doubleClickZoom,s=[],u=o||a;switch(e.type){case"anyclick":s.push(i),u||s.push(r);break;case"click":u&&s.push(r)}(s=s.filter(Boolean)).length&&((e=n._normalizeEvent(e)).features=n._getFeatures({pos:e.point,radius:n.props.clickRadius}),s.forEach((function(t){return t(e)})))})),Ue(e),n._controller=e.controller||new Le,n._eventManager=new Se.Q(null,{touchAction:e.touchAction}),n._updateInteractiveContext({isDragging:!1,eventManager:n._eventManager}),n}return f(t,e),c(t,null,[{key:"supported",value:function(){return we.supported()}}]),c(t,[{key:"componentDidMount",value:function(){var e=this._eventManager,t=this._eventCanvasRef.current;e.setElement(t),e.on({pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerup:this._onPointerUp,pointerleave:this._onEvent.bind(this,"onMouseOut"),click:this._onClick,anyclick:this._onClick,dblclick:this._onEvent.bind(this,"onDblClick"),wheel:this._onEvent.bind(this,"onWheel"),contextmenu:this._onEvent.bind(this,"onContextMenu")}),this._setControllerProps(this.props),this._updateInteractiveContext({mapContainer:t})}},{key:"componentDidUpdate",value:function(){this._setControllerProps(this.props)}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_setControllerProps",value:function(e){e=Object.assign({},e,e.viewState,{isInteractive:Boolean(e.onViewStateChange||e.onViewportChange),onViewportChange:this._onViewportChange,onStateChange:this._onInteractionStateChange,eventManager:this._eventManager,width:this._width,height:this._height}),this._controller.setOptions(e);var t=this._interactiveContext;t.onViewportChange=e.onViewportChange,t.onViewStateChange=e.onViewStateChange}},{key:"_getFeatures",value:function(e){var t,n=e.pos,r=e.radius,i={},o=this.getMap();if(this.props.interactiveLayerIds&&(i.layers=this.props.interactiveLayerIds),r){var a=r,s=[[n[0]-a,n[1]+a],[n[0]+a,n[1]-a]];t=o&&o.queryRenderedFeatures(s,i)}else t=o&&o.queryRenderedFeatures(n,i);return t}},{key:"_updateInteractiveContext",value:function(e){this._interactiveContext=Object.assign({},this._interactiveContext,e)}},{key:"_normalizeEvent",value:function(e){if(e.lngLat)return e;var t=e.offsetCenter,n=[t.x,t.y],r=new _.DW(Object.assign({},this.props,{width:this._width,height:this._height}));return e.point=n,e.lngLat=r.unproject(n),e}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,i=e.style,o=e.getCursor,a=Object.assign({position:"relative"},i,{width:t,height:n,cursor:o(this.state)});return p.createElement(de.Provider,{value:this._interactiveContext},p.createElement("div",{key:"event-canvas",ref:this._eventCanvasRef,style:a},p.createElement(we,(0,r.Z)({},this.props,{width:"100%",height:"100%",style:null,onResize:this._onResize,onLoad:this._onLoad,ref:this._staticMapRef}),this.props.children)))}}]),t}(p.PureComponent);function Qe(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Qe(e[n],t[n]))return!1;return!0}if(Array.isArray(t))return!1;if("object"===o(e)&&"object"===o(t)){var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0,s=r;a<s.length;a++){var u=s[a];if(!t.hasOwnProperty(u))return!1;if(!Qe(e[u],t[u]))return!1}return!0}return!1}(0,h.Z)(ze,"propTypes",je),(0,h.Z)(ze,"defaultProps",Ne);var He={type:g().string.isRequired,id:g().string},Ve=0,Ge=function(e){function t(e){var n;return i(this,t),n=s(this,u(t).call(this,e)),(0,h.Z)(a(n),"id",void 0),(0,h.Z)(a(n),"type",void 0),(0,h.Z)(a(n),"_map",null),(0,h.Z)(a(n),"_sourceOptions",{}),(0,h.Z)(a(n),"_updateSource",(function(){var e=a(n),t=e.type;if(e._map){var r=a(n),i=r._sourceOptions,o=r.props;Y(!o.id||o.id===n.id,"source id changed"),Y(o.type===t,"source type changed");var s="",u=0;for(var l in o)"children"===l||"id"===l||Qe(i[l],o[l])||(i[l]=o[l],s=l,u++);var c=n.getSource();c?u&&("geojson"===t?c.setData(i.data):"image"===t?c.updateImage({url:i.url,coordinates:i.coordinates}):"canvas"!==t&&"video"!==t||1!==u||"coordinates"!==s?console.warn("Unable to update <Source> prop: ".concat(s)):c.setCoordinates(i.coordinates)):n._createSource(i)}})),n.id=e.id||"jsx-source-".concat(Ve++),n.type=e.type,n}return f(t,e),c(t,[{key:"componentWillUnmount",value:function(){var e=this,t=this._map;t&&(t.off("styledata",this._updateSource),t.style&&requestAnimationFrame((function(){return t.removeSource(e.id)})))}},{key:"getSource",value:function(){var e=this._map;return e&&e.style&&e.getSource(this.id)}},{key:"_createSource",value:function(e){var t=this._map;t.style&&t.style._loaded&&t.addSource(this.id,e)}},{key:"_render",value:function(e){var t=this;return this._map||(this._map=e.map,this._map.on("styledata",this._updateSource)),this._updateSource(),p.Children.map(this.props.children,(function(e){return(0,p.cloneElement)(e,{source:t.id})}))}},{key:"render",value:function(){return p.createElement(de.Consumer,null,this._render.bind(this))}}]),t}(p.PureComponent);(0,h.Z)(Ge,"propTypes",He);var We=n(965);var Ke={type:g().string.isRequired,id:g().string,source:g().string,beforeId:g().string};function qe(e,t,n,r){var i=n.layout,o=void 0===i?{}:i,a=n.paint,s=void 0===a?{}:a,u=n.filter,l=n.minzoom,c=n.maxzoom,A=n.beforeId,f=function(e,t){if(null==e)return{};var n,r,i=(0,We.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(A!==r.beforeId&&e.moveLayer(t,A),o!==r.layout)for(var h in o)Qe(o[h],r.layout[h])||e.setLayoutProperty(t,h,o[h]);if(s!==r.paint)for(var p in s)Qe(s[p],r.paint[p])||e.setPaintProperty(t,p,s[p]);for(var d in Qe(u,r.filter)||e.setFilter(t,u),l===r.minzoom&&c===r.maxzoom||e.setLayerZoomRange(t,l,c),f)Qe(f[d],r[d])||e.setLayerProperty(t,d,f[d])}var Xe=0,Ye=function(e){function t(e){var n;return i(this,t),n=s(this,u(t).call(this,e)),(0,h.Z)(a(n),"id",void 0),(0,h.Z)(a(n),"type",void 0),(0,h.Z)(a(n),"_map",null),(0,h.Z)(a(n),"_layerOptions",{}),(0,h.Z)(a(n),"_updateLayer",(function(){var e=n._map;if(e){var t=a(n),r=t.props,i=t._layerOptions;if(Y(!r.id||r.id===n.id,"layer id changed"),Y(r.type===n.type,"layer type changed"),n.getLayer())try{qe(e,n.id,r,i),Object.assign(i,r)}catch(o){console.warn(o)}else n._createLayer()}})),n.id=e.id||"jsx-layer-".concat(Xe++),n.type=e.type,n}return f(t,e),c(t,[{key:"componentDidMount",value:function(){this._updateLayer()}},{key:"componentDidUpdate",value:function(){this._updateLayer()}},{key:"componentWillUnmount",value:function(){var e=this._map;e&&(e.off("styledata",this._updateLayer),e.style&&e.removeLayer(this.id))}},{key:"getLayer",value:function(){var e=this._map;return e&&e.style&&e.getLayer(this.id)}},{key:"_createLayer",value:function(){var e=this._map;if(e.style&&e.style._loaded){var t=Object.assign({},this.props);t.id=this.id,delete t.beforeId,e.addLayer(t,this.props.beforeId),this._layerOptions=t}}},{key:"_render",value:function(e){return this._map||(this._map=e.map,this._map.on("styledata",this._updateLayer)),null}},{key:"render",value:function(){return p.createElement(de.Consumer,null,this._render.bind(this))}}]),t}(p.PureComponent);(0,h.Z)(Ye,"propTypes",Ke);var Je={captureScroll:g().bool,captureDrag:g().bool,captureClick:g().bool,captureDoubleClick:g().bool},$e=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=s(this,(e=u(t)).call.apply(e,[this].concat(o))),(0,h.Z)(a(n),"_context",{}),(0,h.Z)(a(n),"_events",null),(0,h.Z)(a(n),"_containerRef",(0,p.createRef)()),(0,h.Z)(a(n),"_onScroll",(function(e){n.props.captureScroll&&e.stopPropagation()})),(0,h.Z)(a(n),"_onDragStart",(function(e){n.props.captureDrag&&e.stopPropagation()})),(0,h.Z)(a(n),"_onDblClick",(function(e){n.props.captureDoubleClick&&e.stopPropagation()})),(0,h.Z)(a(n),"_onClick",(function(e){n.props.captureClick&&e.stopPropagation()})),n}return f(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this._containerRef.current;if(e){var t=this._context.eventManager;t&&(this._events={wheel:this._onScroll,panstart:this._onDragStart,anyclick:this._onClick,click:this._onClick,dblclick:this._onDblClick},t.on(this._events,e))}}},{key:"componentWillUnmount",value:function(){var e=this._context.eventManager;e&&this._events&&e.off(this._events)}},{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){var e=this;return p.createElement(de.Consumer,null,(function(t){return e._context=t,e._render()}))}}]),t}(p.PureComponent);function et(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function tt(){return tt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=et(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},tt.apply(this,arguments)}(0,h.Z)($e,"propTypes",Je),(0,h.Z)($e,"defaultProps",{captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0});var nt=Object.assign({},$e.propTypes,{draggable:g().bool,onDrag:g().func,onDragEnd:g().func,onDragStart:g().func,offsetLeft:g().number,offsetTop:g().number}),rt=Object.assign({},$e.defaultProps,{draggable:!1,offsetLeft:0,offsetTop:0}),it=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=s(this,(e=u(t)).call.apply(e,[this].concat(o))),(0,h.Z)(a(n),"state",{dragPos:null,dragOffset:null}),(0,h.Z)(a(n),"_dragEvents",null),(0,h.Z)(a(n),"_onDragStart",(function(e){var t=n.props,r=t.draggable,i=t.captureDrag;if((r||i)&&e.stopPropagation(),r){var o=n._getDragEventPosition(e),a=n._getDragEventOffset(e);n.setState({dragPos:o,dragOffset:a}),n._setupDragEvents();var s=n.props.onDragStart;if(s&&a){var u=Object.assign({},e);u.lngLat=n._getDragLngLat(o,a),s(u)}}})),(0,h.Z)(a(n),"_onDrag",(function(e){e.stopPropagation();var t=n._getDragEventPosition(e);n.setState({dragPos:t});var r=n.props.onDrag,i=n.state.dragOffset;if(r&&i){var o=Object.assign({},e);o.lngLat=n._getDragLngLat(t,i),r(o)}})),(0,h.Z)(a(n),"_onDragEnd",(function(e){var t=n.state,r=t.dragPos,i=t.dragOffset;e.stopPropagation(),n.setState({dragPos:null,dragOffset:null}),n._removeDragEvents();var o=n.props.onDragEnd;if(o&&r&&i){var a=Object.assign({},e);a.lngLat=n._getDragLngLat(r,i),o(a)}})),(0,h.Z)(a(n),"_onDragCancel",(function(e){e.stopPropagation(),n.setState({dragPos:null,dragOffset:null}),n._removeDragEvents()})),n}return f(t,e),c(t,[{key:"componentWillUnmount",value:function(){tt(u(t.prototype),"componentWillUnmount",this).call(this),this._removeDragEvents()}},{key:"_setupDragEvents",value:function(){var e=this._context.eventManager;e&&(this._dragEvents={panmove:this._onDrag,panend:this._onDragEnd,pancancel:this._onDragCancel},e.on(this._dragEvents))}},{key:"_removeDragEvents",value:function(){var e=this._context.eventManager;e&&this._dragEvents&&(e.off(this._dragEvents),this._dragEvents=null)}},{key:"_getDragEventPosition",value:function(e){var t=e.offsetCenter;return[t.x,t.y]}},{key:"_getDragEventOffset",value:function(e){var t=e.center,n=t.x,r=t.y,i=this._containerRef.current;if(i){var o=i.getBoundingClientRect();return[o.left-n,o.top-r]}return null}},{key:"_getDraggedPosition",value:function(e,t){return[e[0]+t[0],e[1]+t[1]]}},{key:"_getDragLngLat",value:function(e,t){var n=this.props,r=n.offsetLeft,i=n.offsetTop,o=G(this._getDraggedPosition(e,t),2),a=o[0],s=o[1];return this._context.viewport.unproject([a-r,s-i])}}]),t}($e);(0,h.Z)(it,"propTypes",nt),(0,h.Z)(it,"defaultProps",rt);var ot=Object.assign({},it.propTypes,{className:g().string,longitude:g().number.isRequired,latitude:g().number.isRequired}),at=Object.assign({},it.defaultProps,{className:""}),st=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=s(this,(e=u(t)).call.apply(e,[this].concat(o))),(0,h.Z)(a(n),"_control",null),n}return f(t,e),c(t,[{key:"_getPosition",value:function(){var e=this.props,t=e.longitude,n=e.latitude,r=e.offsetLeft,i=e.offsetTop,o=this.state,a=o.dragPos,s=o.dragOffset;if(a&&s)return this._getDraggedPosition(a,s);var u=G(this._context.viewport.project([t,n]),2),l=u[0],c=u[1];return[l+=r,c+=i]}},{key:"_render",value:function(){var e=G(this._getPosition(),2),t=e[0],n=e[1],r="translate(".concat(t,"px, ").concat(n,"px)"),i=this._containerRef.current;if(this._control&&i)i.style.transform=r;else{var o=this.props,a=o.className,s=o.draggable,u=this.state.dragPos,l={position:"absolute",left:0,top:0,transform:r,cursor:s?u?"grabbing":"grab":"auto"};this._control=p.createElement("div",{className:"mapboxgl-marker ".concat(a),ref:this._containerRef,style:l},this.props.children)}return this._control}},{key:"render",value:function(){return this._control=null,tt(u(t.prototype),"render",this).call(this)}}]),t}(it);(0,h.Z)(st,"propTypes",ot),(0,h.Z)(st,"defaultProps",at);var ut={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},lt=Object.keys(ut);var ct=Object.assign({},$e.propTypes,{className:g().string,longitude:g().number.isRequired,latitude:g().number.isRequired,altitude:g().number,offsetLeft:g().number,offsetTop:g().number,tipSize:g().number,closeButton:g().bool,closeOnClick:g().bool,anchor:g().oneOf(Object.keys(ut)),dynamicPosition:g().bool,sortByDepth:g().bool,onClose:g().func}),At=Object.assign({},$e.defaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}}),ft=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=s(this,(e=u(t)).call.apply(e,[this].concat(o))),(0,h.Z)(a(n),"_closeOnClick",!1),(0,h.Z)(a(n),"_contentRef",(0,p.createRef)()),(0,h.Z)(a(n),"_onClick",(function(e){if(n.props.captureClick&&e.stopPropagation(),n.props.closeOnClick||"mapboxgl-popup-close-button"===e.target.className){n.props.onClose();var t=n._context.eventManager;t&&t.once("click",(function(e){return e.stopPropagation()}),e.target)}})),n}return f(t,e),c(t,[{key:"componentDidMount",value:function(){tt(u(t.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"_getPosition",value:function(e,t){var n=this._context.viewport,r=this.props,i=r.anchor,o=r.dynamicPosition,a=r.tipSize,s=this._contentRef.current;return s&&o?function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.selfWidth,a=e.selfHeight,s=e.anchor,u=e.padding,l=void 0===u?0:u,c=ut[s],A=c.x,f=c.y,h=n-f*a,p=h+a,d=.5;if(h<l)for(;h<l&&f>=d;)f-=d,h+=d*a;else if(p>i-l)for(;p>i-l&&f<=.5;)f+=d,p-=d*a;var g=t-A*o,v=g+o,y=.5;if(.5===f&&(A=Math.floor(A),y=1),g<l)for(;g<l&&A>=y;)A-=y,g+=y*o;else if(v>r-l)for(;v>r-l&&A<=1-y;)A+=y,v-=y*o;return lt.find((function(e){var t=ut[e];return t.x===A&&t.y===f}))||s}({x:e,y:t,anchor:i,padding:a,width:n.width,height:n.height,selfWidth:s.clientWidth,selfHeight:s.clientHeight}):i}},{key:"_getContainerStyle",value:function(e,t,n,r){var i=this._context.viewport,o=this.props,a=o.offsetLeft,s=o.offsetTop,u=o.sortByDepth,l=ut[r],c=e+a,A=t+s,f={position:"absolute",transform:"\n        translate(".concat(100*-l.x,"%, ").concat(100*-l.y,"%)\n        translate(").concat(c,"px, ").concat(A,"px)\n      "),display:void 0,zIndex:void 0};return u?(n>1||n<-1||e<0||e>i.width||t<0||t>i.height?f.display="none":f.zIndex=Math.floor((1-n)/2*1e5),f):f}},{key:"_renderTip",value:function(e){var t=this.props.tipSize;return p.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:t}})}},{key:"_renderContent",value:function(){var e=this.props,t=e.closeButton,n=e.children,r=this._context.eventManager?null:this._onClick;return p.createElement("div",{key:"content",ref:this._contentRef,className:"mapboxgl-popup-content",onClick:r},t&&p.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"\xd7"),n)}},{key:"_render",value:function(){var e=this.props,t=e.className,n=e.longitude,r=e.latitude,i=e.altitude,o=G(this._context.viewport.project([n,r,i]),3),a=o[0],s=o[1],u=o[2],l=this._getPosition(a,s),c=this._getContainerStyle(a,s,u,l);return p.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(l," ").concat(t),style:c,ref:this._containerRef},this._renderTip(l),this._renderContent())}}]),t}($e);(0,h.Z)(ft,"propTypes",ct),(0,h.Z)(ft,"defaultProps",At);var ht,pt=Object.assign({},$e.propTypes,{className:g().string,container:g().object}),dt=Object.assign({},$e.defaultProps,{className:"",container:null}),gt=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=s(this,(e=u(t)).call.apply(e,[this].concat(o))),(0,h.Z)(a(n),"state",{isFullscreen:!1,showButton:!1}),(0,h.Z)(a(n),"_mapboxFullscreenControl",null),(0,h.Z)(a(n),"_onFullscreenChange",(function(){var e=!n._mapboxFullscreenControl._fullscreen;n._mapboxFullscreenControl._fullscreen=e,n.setState({isFullscreen:e})})),(0,h.Z)(a(n),"_onClickFullscreen",(function(){n._mapboxFullscreenControl._onClickFullscreen()})),n}return f(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this.props.container||this._context.mapContainer;this._mapboxFullscreenControl=new(H().FullscreenControl)({container:e}),this.setState({showButton:this._mapboxFullscreenControl._checkFullscreenSupport()}),Z.addEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"componentWillUnmount",value:function(){Z.removeEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"_renderButton",value:function(e,t,n){return p.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),type:"button",title:t,onClick:n},p.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){if(!this.state.showButton)return null;var e=this.props.className,t=this.state.isFullscreen?"shrink":"fullscreen";return p.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef},this._renderButton(t,"Toggle fullscreen",this._onClickFullscreen))}}]),t}($e);(0,h.Z)(gt,"propTypes",pt),(0,h.Z)(gt,"defaultProps",dt);var vt=Object.assign({},Ee.defaultProps,{transitionDuration:500}),yt=function(){},mt=Object.assign({},$e.propTypes,{className:g().string,style:g().object,label:g().string,positionOptions:g().object,fitBoundsOptions:g().object,trackUserLocation:g().bool,showUserLocation:g().bool,onViewStateChange:g().func,onViewportChange:g().func,onGeolocate:g().func}),bt=Object.assign({},$e.defaultProps,{className:"",style:{},label:"Geolocate",positionOptions:null,fitBoundsOptions:null,trackUserLocation:!1,showUserLocation:!0,onGeolocate:function(){}}),_t=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=s(this,(e=u(t)).call.apply(e,[this].concat(o))),(0,h.Z)(a(n),"state",{supportsGeolocation:!1,markerPosition:null}),(0,h.Z)(a(n),"_mapboxGeolocateControl",null),(0,h.Z)(a(n),"_geolocateButtonRef",(0,p.createRef)()),(0,h.Z)(a(n),"_setupMapboxGeolocateControl",(function(e){if(e){var t={showUserLocation:!1};["positionOptions","fitBoundsOptions","trackUserLocation"].forEach((function(e){e in n.props&&null!==n.props[e]&&(t[e]=n.props[e])})),n._mapboxGeolocateControl=new(H().GeolocateControl)(t),n._mapboxGeolocateControl._watchState="OFF",n._mapboxGeolocateControl._geolocateButton=n._geolocateButtonRef.current,n._mapboxGeolocateControl.options.trackUserLocation&&n._mapboxGeolocateControl._geolocateButton&&n._mapboxGeolocateControl._geolocateButton.setAttribute("aria-pressed","false"),n._mapboxGeolocateControl._updateMarker=n._updateMarker,n._mapboxGeolocateControl._updateCamera=n._updateCamera,n._mapboxGeolocateControl._setup=!0,n._mapboxGeolocateControl.options.trackUserLocation&&n._context.eventManager.on("panstart",(function(){"ACTIVE_LOCK"===n._mapboxGeolocateControl._watchState&&(n._mapboxGeolocateControl._watchState="BACKGROUND",n._mapboxGeolocateControl._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._mapboxGeolocateControl._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"))})),n._mapboxGeolocateControl.on("geolocate",n.props.onGeolocate)}else console.warn("Geolocation support is not available, the GeolocateControl will not be visible.")})),(0,h.Z)(a(n),"_onClickGeolocate",(function(){return n._mapboxGeolocateControl._map=n._context.map,n.props.showUserLocation&&(n._mapboxGeolocateControl.on("geolocate",n._updateMarker),n._mapboxGeolocateControl.on("trackuserlocationend",n._updateMarker)),n._mapboxGeolocateControl.trigger()})),(0,h.Z)(a(n),"_updateMarker",(function(e){e&&n.setState({markerPosition:e.coords})})),(0,h.Z)(a(n),"_getBounds",(function(e){var t=new(H().LngLat)(e.coords.longitude,e.coords.latitude),n=e.coords.accuracy,r=t.toBounds(n);return[[r._ne.lng,r._ne.lat],[r._sw.lng,r._sw.lat]]})),(0,h.Z)(a(n),"_updateCamera",(function(e){var t=n._context.viewport,r=n._getBounds(e),i=new _.DW(t).fitBounds(r),o=i.longitude,a=i.latitude,s=i.zoom,u=Object.assign({},t,{longitude:o,latitude:a,zoom:s}),l=new he(u),c=Object.assign({},l.getViewportProps(),vt),A=n.props.onViewportChange||n._context.onViewportChange||yt;(n.props.onViewStateChange||n._context.onViewStateChange||yt)({viewState:c}),A(c)})),(0,h.Z)(a(n),"_renderButton",(function(e,t,r){return p.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),ref:n._geolocateButtonRef,type:"button",title:t,onClick:r},p.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))})),(0,h.Z)(a(n),"_renderMarker",(function(){var e=n.state.markerPosition,t=n.props.showUserLocation;return e&&t?p.createElement(st,{key:"location-maker",className:"mapboxgl-user-location-dot",longitude:e.longitude,latitude:e.latitude,onContextMenu:function(e){return e.preventDefault()},captureDrag:!1,captureDoubleClick:!1}):null})),n}return f(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;(void 0!==ht?Promise.resolve(ht):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(e){return ht="denied"!==e.state})):(ht=Boolean(window.navigator.geolocation),Promise.resolve(ht))).then((function(t){e.setState({supportsGeolocation:t}),e._setupMapboxGeolocateControl(t)}))}},{key:"componentWillUnmount",value:function(){if(this._mapboxGeolocateControl){var e=this._mapboxGeolocateControl._geolocationWatchID;void 0!==e&&(window.navigator.geolocation.clearWatch(e),this._mapboxGeolocateControl._geolocationWatchID=void 0)}}},{key:"_render",value:function(){if(!this.state.supportsGeolocation)return null;var e=this.props,t=e.className,n=e.style,r=e.label;return p.createElement("div",null,this._renderMarker(),p.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef,style:n,onContextMenu:function(e){return e.preventDefault()}},this._renderButton("geolocate",r,this._onClickGeolocate)))}}]),t}($e);(0,h.Z)(_t,"propTypes",mt),(0,h.Z)(_t,"defaultProps",bt);var wt=function(){},xt=Object.assign({},$e.propTypes,{className:g().string,onViewStateChange:g().func,onViewportChange:g().func,showCompass:g().bool,showZoom:g().bool,zoomInLabel:g().string,zoomOutLabel:g().string,compassLabel:g().string}),Ct=Object.assign({},$e.defaultProps,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function Bt(e){return function(e,t){for(var n=(e||"").split(".").map(Number),r=(t||"").split(".").map(Number),i=0;i<3;i++){var o=n[i]||0,a=r[i]||0;if(o<a)return-1;if(o>a)return 1}return 0}(e,"1.6.0")>=0?2:1}var Et=function(e){function t(e){var n;return i(this,t),n=s(this,u(t).call(this,e)),(0,h.Z)(a(n),"_uiVersion",void 0),(0,h.Z)(a(n),"_onZoomIn",(function(){n._updateViewport({zoom:n._context.viewport.zoom+1})})),(0,h.Z)(a(n),"_onZoomOut",(function(){n._updateViewport({zoom:n._context.viewport.zoom-1})})),(0,h.Z)(a(n),"_onResetNorth",(function(){n._updateViewport({bearing:0,pitch:0})})),Ue(e),n}return f(t,e),c(t,[{key:"_updateViewport",value:function(e){var t=this._context.viewport,n=new he(Object.assign({},t,e)),r=Object.assign({},n.getViewportProps(),Oe),i=this.props.onViewportChange||this._context.onViewportChange||wt;(this.props.onViewStateChange||this._context.onViewStateChange||wt)({viewState:r}),i(r)}},{key:"_renderCompass",value:function(){var e=this._context.viewport.bearing,t={transform:"rotate(".concat(-e,"deg)")};return 2===this._uiVersion?p.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:t}):p.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:t})}},{key:"_renderButton",value:function(e,t,n,r){return p.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),type:"button",title:t,onClick:n},r||p.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){var e=this.props,t=e.className,n=e.showCompass,r=e.showZoom,i=e.zoomInLabel,o=e.zoomOutLabel,a=e.compassLabel;if(!this._uiVersion){var s=this._context.map;this._uiVersion=Bt(s&&s.version)}return p.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef},r&&this._renderButton("zoom-in",i,this._onZoomIn),r&&this._renderButton("zoom-out",o,this._onZoomOut),n&&this._renderButton("compass",a,this._onResetNorth,this._renderCompass()))}}]),t}($e);(0,h.Z)(Et,"propTypes",xt),(0,h.Z)(Et,"defaultProps",Ct);var St=Object.assign({},$e.propTypes,{maxWidth:g().number,unit:g().oneOf(["imperial","metric","nautical"])}),kt=Object.assign({},$e.defaultProps,{maxWidth:100,unit:"metric"}),Ot=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=s(this,(e=u(t)).call.apply(e,[this].concat(o))),(0,h.Z)(a(n),"_control",null),(0,h.Z)(a(n),"_mapboxScaleControl",null),n}return f(t,e),c(t,[{key:"componentDidMount",value:function(){var e=new(H().ScaleControl);e._map=this._context.map,e._container=this._containerRef.current,this._mapboxScaleControl=e,this._update()}},{key:"_update",value:function(){var e=this._mapboxScaleControl;e&&(e.options=this.props,e._onMove())}},{key:"_render",value:function(){return this._control=this._control||p.createElement("div",{ref:this._containerRef,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}),this._update(),this._control}}]),t}($e);(0,h.Z)(Ot,"propTypes",St),(0,h.Z)(Ot,"defaultProps",kt);var Tt=Object.assign({},$e.propTypes,{redraw:g().func.isRequired}),Pt=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=s(this,(e=u(t)).call.apply(e,[this].concat(o))),(0,h.Z)(a(n),"_canvas",void 0),(0,h.Z)(a(n),"_ctx",void 0),(0,h.Z)(a(n),"_redraw",(function(){var e=n._ctx;if(e){var t=D.devicePixelRatio||1;e.save(),e.scale(t,t);var r=n._context,i=r.viewport,o=r.isDragging;n.props.redraw({width:i.width,height:i.height,ctx:e,isDragging:o,project:i.project.bind(i),unproject:i.unproject.bind(i)}),e.restore()}})),n}return f(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this._containerRef.current;e&&(this._canvas=e,this._ctx=e.getContext("2d")),this._redraw()}},{key:"_render",value:function(){var e=D.devicePixelRatio||1,t=this._context.viewport,n=t.width,r=t.height;return this._redraw(),p.createElement("canvas",{ref:this._containerRef,width:n*e,height:r*e,style:{width:"".concat(n,"px"),height:"".concat(r,"px"),position:"absolute",left:0,top:0}})}}]),t}($e);(0,h.Z)(Pt,"propTypes",Tt),(0,h.Z)(Pt,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1});var Mt=Object.assign({},$e.propTypes,{redraw:g().func.isRequired,style:g().object}),Ft=function(e){function t(){return i(this,t),s(this,u(t).apply(this,arguments))}return f(t,e),c(t,[{key:"_render",value:function(){var e=this._context,t=e.viewport,n=e.isDragging,r=Object.assign({position:"absolute",left:0,top:0,width:t.width,height:t.height},this.props.style);return p.createElement("div",{ref:this._containerRef,style:r},this.props.redraw({width:t.width,height:t.height,isDragging:n,project:t.project.bind(t),unproject:t.unproject.bind(t)}))}}]),t}($e);(0,h.Z)(Ft,"propTypes",Mt),(0,h.Z)(Ft,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1});var It=Object.assign({},$e.propTypes,{redraw:g().func.isRequired,style:g().object}),Lt=function(e){function t(){return i(this,t),s(this,u(t).apply(this,arguments))}return f(t,e),c(t,[{key:"_render",value:function(){var e=this._context,t=e.viewport,n=e.isDragging,r=Object.assign({position:"absolute",left:0,top:0},this.props.style);return p.createElement("svg",{width:t.width,height:t.height,ref:this._containerRef,style:r},this.props.redraw({width:t.width,height:t.height,isDragging:n,project:t.project.bind(t),unproject:t.unproject.bind(t)}))}}]),t}($e);(0,h.Z)(Lt,"propTypes",It),(0,h.Z)(Lt,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1})},6880:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(8113)),s=o(n(9723)),u=o(n(1042)),l=o(n(9739)),c=o(n(9687)),A=o(n(5417)),f=o(n(2791)),h=o(n(4093)),p=1e3/60,d=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=i.state,o=n.currentStyle,a=n.currentVelocity,s=n.lastIdealStyle,u=n.lastIdealVelocity;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var c=e[l];"number"===typeof c&&(t||(t=!0,o=r({},o),a=r({},a),s=r({},s),u=r({},u)),o[l]=c,a[l]=0,s[l]=c,u[l]=0)}t&&i.setState({currentStyle:o,currentVelocity:a,lastIdealStyle:s,lastIdealVelocity:u})},this.startAnimationIfNecessary=function(){i.animationID=c.default((function(e){var t=i.props.style;if(A.default(i.state.currentStyle,t,i.state.currentVelocity))return i.wasAnimating&&i.props.onRest&&i.props.onRest(),i.animationID=null,i.wasAnimating=!1,void(i.accumulatedTime=0);i.wasAnimating=!0;var n=e||l.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>10*p&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/p)*p)/p,a=Math.floor(i.accumulatedTime/p),s={},c={},f={},h={};for(var d in t)if(Object.prototype.hasOwnProperty.call(t,d)){var g=t[d];if("number"===typeof g)f[d]=g,h[d]=0,s[d]=g,c[d]=0;else{for(var v=i.state.lastIdealStyle[d],y=i.state.lastIdealVelocity[d],m=0;m<a;m++){var b=u.default(p/1e3,v,y,g.val,g.stiffness,g.damping,g.precision);v=b[0],y=b[1]}var _=u.default(p/1e3,v,y,g.val,g.stiffness,g.damping,g.precision),w=_[0],x=_[1];f[d]=v+(w-v)*o,h[d]=y+(x-y)*o,s[d]=v,c[d]=y}}i.animationID=null,i.accumulatedTime-=a*p,i.setState({currentStyle:f,currentVelocity:h,lastIdealStyle:s,lastIdealVelocity:c}),i.unreadPropStyle=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:h.default.objectOf(h.default.number),style:h.default.objectOf(h.default.oneOfType([h.default.number,h.default.object])).isRequired,children:h.default.func.isRequired,onRest:h.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||s.default(n),i=a.default(r);return{currentStyle:r,currentVelocity:i,lastIdealStyle:r,lastIdealVelocity:i}},t.prototype.componentDidMount=function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&f.default.Children.only(e)},t}(f.default.Component);t.default=d,e.exports=t.default},7034:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(8113)),s=o(n(9723)),u=o(n(1042)),l=o(n(9739)),c=o(n(9687)),A=o(n(5417)),f=o(n(2791)),h=o(n(4093)),p=1e3/60;var d=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=i.state,n=t.currentStyles,o=t.currentVelocities,a=t.lastIdealStyles,s=t.lastIdealVelocities,u=!1,l=0;l<e.length;l++){var c=e[l],A=!1;for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var h=c[f];"number"===typeof h&&(A||(A=!0,u=!0,n[l]=r({},n[l]),o[l]=r({},o[l]),a[l]=r({},a[l]),s[l]=r({},s[l])),n[l][f]=h,o[l][f]=0,a[l][f]=h,s[l][f]=0)}}u&&i.setState({currentStyles:n,currentVelocities:o,lastIdealStyles:a,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){i.animationID=c.default((function(e){var t=i.props.styles(i.state.lastIdealStyles);if(function(e,t,n){for(var r=0;r<e.length;r++)if(!A.default(e[r],t[r],n[r]))return!1;return!0}(i.state.currentStyles,t,i.state.currentVelocities))return i.animationID=null,void(i.accumulatedTime=0);var n=e||l.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>10*p&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/p)*p)/p,a=Math.floor(i.accumulatedTime/p),s=[],c=[],f=[],h=[],d=0;d<t.length;d++){var g=t[d],v={},y={},m={},b={};for(var _ in g)if(Object.prototype.hasOwnProperty.call(g,_)){var w=g[_];if("number"===typeof w)v[_]=w,y[_]=0,m[_]=w,b[_]=0;else{for(var x=i.state.lastIdealStyles[d][_],C=i.state.lastIdealVelocities[d][_],B=0;B<a;B++){var E=u.default(p/1e3,x,C,w.val,w.stiffness,w.damping,w.precision);x=E[0],C=E[1]}var S=u.default(p/1e3,x,C,w.val,w.stiffness,w.damping,w.precision),k=S[0],O=S[1];v[_]=x+(k-x)*o,y[_]=C+(O-C)*o,m[_]=x,b[_]=C}}f[d]=v,h[d]=y,s[d]=m,c[d]=b}i.animationID=null,i.accumulatedTime-=a*p,i.setState({currentStyles:f,currentVelocities:h,lastIdealStyles:s,lastIdealVelocities:c}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:h.default.arrayOf(h.default.objectOf(h.default.number)),styles:h.default.func.isRequired,children:h.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=t||n().map(s.default),i=r.map((function(e){return a.default(e)}));return{currentStyles:r,currentVelocities:i,lastIdealStyles:r,lastIdealVelocities:i}},t.prototype.componentDidMount=function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&f.default.Children.only(e)},t}(f.default.Component);t.default=d,e.exports=t.default},5476:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(8113)),s=o(n(9723)),u=o(n(1042)),l=o(n(3919)),c=o(n(9739)),A=o(n(9687)),f=o(n(5417)),h=o(n(2791)),p=o(n(4093)),d=1e3/60;function g(e,t,n){var r=t;return null==r?e.map((function(e,t){return{key:e.key,data:e.data,style:n[t]}})):e.map((function(e,t){for(var i=0;i<r.length;i++)if(r[i].key===e.key)return{key:r[i].key,data:r[i].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}}))}function v(e,t,n,r,i,o,s,u,c){for(var A=l.default(r,i,(function(e,r){var i=t(r);return null==i||f.default(o[e],i,s[e])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:i}})),h=[],p=[],d=[],g=[],v=0;v<A.length;v++){for(var y=A[v],m=null,b=0;b<r.length;b++)if(r[b].key===y.key){m=b;break}if(null==m){var _=e(y);h[v]=_,d[v]=_;var w=a.default(y.style);p[v]=w,g[v]=w}else h[v]=o[m],d[v]=u[m],p[v]=s[m],g[v]=c[m]}return[A,h,p,d,g]}var y=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=v(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,e,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),n=t[0],o=t[1],a=t[2],s=t[3],u=t[4],l=0;l<e.length;l++){var c=e[l].style,A=!1;for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var h=c[f];"number"===typeof h&&(A||(A=!0,o[l]=r({},o[l]),a[l]=r({},a[l]),s[l]=r({},s[l]),u[l]=r({},u[l]),n[l]={key:n[l].key,data:n[l].data,style:r({},n[l].style)}),o[l][f]=h,a[l][f]=0,s[l][f]=h,u[l][f]=0,n[l].style[f]=h)}}i.setState({currentStyles:o,currentVelocities:a,mergedPropsStyles:n,lastIdealStyles:s,lastIdealVelocities:u})},this.startAnimationIfNecessary=function(){i.unmounting||(i.animationID=A.default((function(e){if(!i.unmounting){var t=i.props.styles,n="function"===typeof t?t(g(i.state.mergedPropsStyles,i.unreadPropStyles,i.state.lastIdealStyles)):t;if(function(e,t,n,r){if(r.length!==t.length)return!1;for(var i=0;i<r.length;i++)if(r[i].key!==t[i].key)return!1;for(i=0;i<r.length;i++)if(!f.default(e[i],t[i].style,n[i]))return!1;return!0}(i.state.currentStyles,n,i.state.currentVelocities,i.state.mergedPropsStyles))return i.animationID=null,void(i.accumulatedTime=0);var r=e||c.default(),o=r-i.prevTime;if(i.prevTime=r,i.accumulatedTime=i.accumulatedTime+o,i.accumulatedTime>10*d&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var a=(i.accumulatedTime-Math.floor(i.accumulatedTime/d)*d)/d,s=Math.floor(i.accumulatedTime/d),l=v(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,n,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),A=l[0],h=l[1],p=l[2],y=l[3],m=l[4],b=0;b<A.length;b++){var _=A[b].style,w={},x={},C={},B={};for(var E in _)if(Object.prototype.hasOwnProperty.call(_,E)){var S=_[E];if("number"===typeof S)w[E]=S,x[E]=0,C[E]=S,B[E]=0;else{for(var k=y[b][E],O=m[b][E],T=0;T<s;T++){var P=u.default(d/1e3,k,O,S.val,S.stiffness,S.damping,S.precision);k=P[0],O=P[1]}var M=u.default(d/1e3,k,O,S.val,S.stiffness,S.damping,S.precision),F=M[0],I=M[1];w[E]=k+(F-k)*a,x[E]=O+(I-O)*a,C[E]=k,B[E]=O}}y[b]=C,m[b]=B,h[b]=w,p[b]=x}i.animationID=null,i.accumulatedTime-=s*d,i.setState({currentStyles:h,currentVelocities:p,lastIdealStyles:y,lastIdealVelocities:m,mergedPropsStyles:A}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:p.default.arrayOf(p.default.shape({key:p.default.string.isRequired,data:p.default.any,style:p.default.objectOf(p.default.number).isRequired})),styles:p.default.oneOfType([p.default.func,p.default.arrayOf(p.default.shape({key:p.default.string.isRequired,data:p.default.any,style:p.default.objectOf(p.default.oneOfType([p.default.number,p.default.object])).isRequired}))]).isRequired,children:p.default.func.isRequired,willEnter:p.default.func,willLeave:p.default.func,didLeave:p.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return s.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=e.willEnter,i=e.willLeave,o=e.didLeave,u="function"===typeof n?n(t):n,l=void 0;l=null==t?u:t.map((function(e){for(var t=0;t<u.length;t++)if(u[t].key===e.key)return u[t];return e}));var c=null==t?u.map((function(e){return s.default(e.style)})):t.map((function(e){return s.default(e.style)})),A=null==t?u.map((function(e){return a.default(e.style)})):t.map((function(e){return a.default(e.style)})),f=v(r,i,o,l,u,c,A,c,A),h=f[0];return{currentStyles:f[1],currentVelocities:f[2],lastIdealStyles:f[3],lastIdealVelocities:f[4],mergedPropsStyles:h}},t.prototype.componentDidMount=function(){this.prevTime=c.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"===typeof t?t(g(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=c.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(A.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=g(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&h.default.Children.only(t)},t}(h.default.Component);t.default=y,e.exports=t.default},8113:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t},e.exports=t.default},3919:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r={},i=0;i<e.length;i++)r[e[i].key]=i;var o={};for(i=0;i<t.length;i++)o[t[i].key]=i;var a=[];for(i=0;i<t.length;i++)a[i]=t[i];for(i=0;i<e.length;i++)if(!Object.prototype.hasOwnProperty.call(o,e[i].key)){var s=n(i,e[i]);null!=s&&a.push(s)}return a.sort((function(e,n){var i=o[e.key],a=o[n.key],s=r[e.key],u=r[n.key];if(null!=i&&null!=a)return o[e.key]-o[n.key];if(null!=s&&null!=u)return r[e.key]-r[n.key];if(null!=i){for(var l=0;l<t.length;l++){var c=t[l].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(i<o[c]&&u>r[c])return-1;if(i>o[c]&&u<r[c])return 1}}return 1}for(l=0;l<t.length;l++){c=t[l].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(a<o[c]&&s>r[c])return 1;if(a>o[c]&&s<r[c])return-1}}return-1}))},e.exports=t.default},6343:function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},9424:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}var i=n(6880);t.y_=r(i),r(n(7034)),r(n(5476));var o=n(1785);t.ST=r(o);var a=n(6343);t.um=r(a),r(n(9723)),r(n(6280))},6280:function(e,t){"use strict";t.__esModule=!0,t.default=function(){0};e.exports=t.default},5417:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var i="number"===typeof t[r]?t[r]:t[r].val;if(e[r]!==i)return!1}return!0},e.exports=t.default},1785:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return r({},s,t,{val:e})};var i,o=n(6343),a=(i=o)&&i.__esModule?i:{default:i},s=r({},a.default.noWobble,{precision:.01});e.exports=t.default},1042:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r,i,o,a,s){var u=r+(-o*(t-i)+-a*r)*e,l=t+u*e;if(Math.abs(u)<s&&Math.abs(l-i)<s)return n[0]=i,n[1]=0,n;return n[0]=l,n[1]=u,n};var n=[0,0];e.exports=t.default},9723:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"===typeof e[n]?e[n]:e[n].val);return t},e.exports=t.default},5419:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(2791)),l=n(2124),c=n(9297),A=["ArrowRight","ArrowUp","k","PageUp"],f=["ArrowLeft","ArrowDown","j","PageDown"],h=function(e){function t(t){var n=e.call(this,t)||this;if(n.trackRef=u.createRef(),n.thumbRefs=[],n.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(n.props.values.length).fill(0).map((function(e,t){return t})),isChanged:!1,markOffsets:[]},n.getOffsets=function(){var e=n.props,t=e.direction,r=e.values,i=e.min,o=e.max,a=n.trackRef.current,s=a.getBoundingClientRect(),u=(0,l.getPaddingAndBorder)(a);return n.getThumbs().map((function(e,n){var a={x:0,y:0},A=e.getBoundingClientRect(),f=(0,l.getMargin)(e);switch(t){case c.Direction.Right:return a.x=-1*(f.left+u.left),a.y=-1*((A.height-s.height)/2+u.top),a.x+=s.width*(0,l.relativeValue)(r[n],i,o)-A.width/2,a;case c.Direction.Left:return a.x=-1*(f.right+u.right),a.y=-1*((A.height-s.height)/2+u.top),a.x+=s.width-s.width*(0,l.relativeValue)(r[n],i,o)-A.width/2,a;case c.Direction.Up:return a.x=-1*((A.width-s.width)/2+f.left+u.left),a.y=-u.left,a.y+=s.height-s.height*(0,l.relativeValue)(r[n],i,o)-A.height/2,a;case c.Direction.Down:return a.x=-1*((A.width-s.width)/2+f.left+u.left),a.y=-u.left,a.y+=s.height*(0,l.relativeValue)(r[n],i,o)-A.height/2,a;default:return(0,l.assertUnreachable)(t)}}))},n.getThumbs=function(){return n.trackRef&&n.trackRef.current?Array.from(n.trackRef.current.children).filter((function(e){return e.hasAttribute("aria-valuenow")})):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},n.getTargetIndex=function(e){return n.getThumbs().findIndex((function(t){return t===e.target||t.contains(e.target)}))},n.addTouchEvents=function(e){document.addEventListener("touchmove",n.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",n.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",n.schdOnEnd,{passive:!1})},n.addMouseEvents=function(e){document.addEventListener("mousemove",n.schdOnMouseMove),document.addEventListener("mouseup",n.schdOnEnd)},n.onMouseDownTrack=function(e){var t;if(0===e.button)if(e.persist(),e.preventDefault(),n.addMouseEvents(e.nativeEvent),n.props.values.length>1&&n.props.draggableTrack){if(n.thumbRefs.some((function(t){var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e.target)})))return;n.setState({draggedTrackPos:[e.clientX,e.clientY]},(function(){return n.onMove(e.clientX,e.clientY)}))}else{var r=(0,l.getClosestThumbIndex)(n.thumbRefs.map((function(e){return e.current})),e.clientX,e.clientY,n.props.direction);null===(t=n.thumbRefs[r].current)||void 0===t||t.focus(),n.setState({draggedThumbIndex:r},(function(){return n.onMove(e.clientX,e.clientY)}))}},n.onResize=function(){(0,l.translateThumbs)(n.getThumbs(),n.getOffsets(),n.props.rtl),n.calculateMarkOffsets()},n.onTouchStartTrack=function(e){var t;if(e.persist(),n.addTouchEvents(e.nativeEvent),n.props.values.length>1&&n.props.draggableTrack){if(n.thumbRefs.some((function(t){var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e.target)})))return;n.setState({draggedTrackPos:[e.touches[0].clientX,e.touches[0].clientY]},(function(){return n.onMove(e.touches[0].clientX,e.touches[0].clientY)}))}else{var r=(0,l.getClosestThumbIndex)(n.thumbRefs.map((function(e){return e.current})),e.touches[0].clientX,e.touches[0].clientY,n.props.direction);null===(t=n.thumbRefs[r].current)||void 0===t||t.focus(),n.setState({draggedThumbIndex:r},(function(){return n.onMove(e.touches[0].clientX,e.touches[0].clientY)}))}},n.onMouseOrTouchStart=function(e){if(!n.props.disabled){var t=(0,l.isTouchEvent)(e);if(t||0===e.button){var r=n.getTargetIndex(e);-1!==r&&(t?n.addTouchEvents(e):n.addMouseEvents(e),n.setState({draggedThumbIndex:r,thumbZIndexes:n.state.thumbZIndexes.map((function(e,t){return t===r?Math.max.apply(Math,n.state.thumbZIndexes):e<=n.state.thumbZIndexes[r]?e:e-1}))}))}}},n.onMouseMove=function(e){e.preventDefault(),n.onMove(e.clientX,e.clientY)},n.onTouchMove=function(e){e.preventDefault(),n.onMove(e.touches[0].clientX,e.touches[0].clientY)},n.onKeyDown=function(e){var t=n.props,r=t.values,i=t.onChange,o=t.step,a=t.rtl,s=t.direction,u=n.state.isChanged,h=n.getTargetIndex(e.nativeEvent),p=a||s===c.Direction.Left||s===c.Direction.Down?-1:1;-1!==h&&(A.includes(e.key)?(e.preventDefault(),n.setState({draggedThumbIndex:h,isChanged:!0}),i((0,l.replaceAt)(r,h,n.normalizeValue(r[h]+p*("PageUp"===e.key?10*o:o),h)))):f.includes(e.key)?(e.preventDefault(),n.setState({draggedThumbIndex:h,isChanged:!0}),i((0,l.replaceAt)(r,h,n.normalizeValue(r[h]-p*("PageDown"===e.key?10*o:o),h)))):"Tab"===e.key?n.setState({draggedThumbIndex:-1},(function(){u&&n.fireOnFinalChange()})):u&&n.fireOnFinalChange())},n.onKeyUp=function(e){var t=n.state.isChanged;n.setState({draggedThumbIndex:-1},(function(){t&&n.fireOnFinalChange()}))},n.onMove=function(e,t){var r=n.state,i=r.draggedThumbIndex,o=r.draggedTrackPos,a=n.props,s=a.direction,u=a.min,A=a.max,f=a.onChange,h=a.values,p=a.step,d=a.rtl;if(-1===i&&-1===o[0]&&-1===o[1])return null;var g=n.trackRef.current;if(!g)return null;var v=g.getBoundingClientRect(),y=(0,l.isVertical)(s)?v.height:v.width;if(-1!==o[0]&&-1!==o[1]){var m=e-o[0],b=t-o[1],_=0;switch(s){case c.Direction.Right:case c.Direction.Left:_=m/y*(A-u);break;case c.Direction.Down:case c.Direction.Up:_=b/y*(A-u);break;default:(0,l.assertUnreachable)(s)}if(d&&(_*=-1),Math.abs(_)>=p/2){for(var w=0;w<n.thumbRefs.length;w++){if(h[w]===A&&1===Math.sign(_)||h[w]===u&&-1===Math.sign(_))return;var x=h[w]+_;x>A?_=A-h[w]:x<u&&(_=u-h[w])}var C=h.slice(0);for(w=0;w<n.thumbRefs.length;w++)C=(0,l.replaceAt)(C,w,n.normalizeValue(h[w]+_,w));n.setState({draggedTrackPos:[e,t]}),f(C)}}else{var B=0;switch(s){case c.Direction.Right:B=(e-v.left)/y*(A-u)+u;break;case c.Direction.Left:B=(y-(e-v.left))/y*(A-u)+u;break;case c.Direction.Down:B=(t-v.top)/y*(A-u)+u;break;case c.Direction.Up:B=(y-(t-v.top))/y*(A-u)+u;break;default:(0,l.assertUnreachable)(s)}d&&(B=A+u-B),Math.abs(h[i]-B)>=p/2&&f((0,l.replaceAt)(h,i,n.normalizeValue(B,i)))}},n.normalizeValue=function(e,t){var r=n.props,i=r.min,o=r.max,a=r.step,s=r.allowOverlap,u=r.values;return(0,l.normalizeValue)(e,t,i,o,a,s,u)},n.onEnd=function(e){if(e.preventDefault(),document.removeEventListener("mousemove",n.schdOnMouseMove),document.removeEventListener("touchmove",n.schdOnTouchMove),document.removeEventListener("mouseup",n.schdOnEnd),document.removeEventListener("touchend",n.schdOnEnd),document.removeEventListener("touchcancel",n.schdOnEnd),-1===n.state.draggedThumbIndex&&-1===n.state.draggedTrackPos[0]&&-1===n.state.draggedTrackPos[1])return null;n.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},(function(){n.fireOnFinalChange()}))},n.fireOnFinalChange=function(){n.setState({isChanged:!1});var e=n.props,t=e.onFinalChange,r=e.values;t&&t(r)},n.updateMarkRefs=function(e){if(!e.renderMark)return n.numOfMarks=void 0,void(n.markRefs=void 0);n.numOfMarks=(e.max-e.min)/n.props.step,n.markRefs=[];for(var t=0;t<n.numOfMarks+1;t++)n.markRefs[t]=u.createRef()},n.calculateMarkOffsets=function(){if(n.props.renderMark&&n.trackRef&&n.numOfMarks&&n.markRefs&&null!==n.trackRef.current){for(var e=window.getComputedStyle(n.trackRef.current),t=parseInt(e.width,10),r=parseInt(e.height,10),i=parseInt(e.paddingLeft,10),o=parseInt(e.paddingTop,10),a=[],s=0;s<n.numOfMarks+1;s++){var u=9999,l=9999;if(n.markRefs[s].current){var A=n.markRefs[s].current.getBoundingClientRect();u=A.height,l=A.width}n.props.direction===c.Direction.Left||n.props.direction===c.Direction.Right?a.push([Math.round(t/n.numOfMarks*s+i-l/2),-Math.round((u-r)/2)]):a.push([Math.round(r/n.numOfMarks*s+o-u/2),-Math.round((l-t)/2)])}n.setState({markOffsets:a})}},0===t.step)throw new Error('"step" property should be a positive number');return n.schdOnMouseMove=(0,l.schd)(n.onMouseMove),n.schdOnTouchMove=(0,l.schd)(n.onTouchMove),n.schdOnEnd=(0,l.schd)(n.onEnd),n.thumbRefs=t.values.map((function(){return u.createRef()})),n.updateMarkRefs(t),n}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.values,r=t.min,i=t.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",e.onResize)},unobserve:function(){return window.removeEventListener("resize",e.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,l.checkInitialOverlap)(this.props.values),this.props.values.forEach((function(t){return(0,l.checkBoundaries)(t,e.props.min,e.props.max)})),this.resizeObserver.observe(this.trackRef.current),(0,l.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),n.forEach((function(e){(0,l.isStepDivisible)(r,e,i)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.max,i=n.min,o=n.step,a=n.values,s=n.rtl;e.max===r&&e.min===i&&e.step===o||this.updateMarkRefs(this.props),(0,l.translateThumbs)(this.getThumbs(),this.getOffsets(),s),e.max===r&&e.min===i&&e.step===o&&t.markOffsets.length===this.state.markOffsets.length||(this.calculateMarkOffsets(),a.forEach((function(e){(0,l.isStepDivisible)(i,e,o)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})))},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},t.prototype.render=function(){var e=this,t=this.props,n=t.renderTrack,r=t.renderThumb,i=t.renderMark,o=void 0===i?function(){return null}:i,a=t.values,u=t.min,A=t.max,f=t.allowOverlap,h=t.disabled,p=this.state,d=p.draggedThumbIndex,g=p.thumbZIndexes,v=p.markOffsets;return n({props:{style:{transform:"scale(1)",cursor:d>-1?"grabbing":this.props.draggableTrack?(0,l.isVertical)(this.props.direction)?"ns-resize":"ew-resize":1!==a.length||h?"inherit":"pointer"},onMouseDown:h?l.voidFn:this.onMouseDownTrack,onTouchStart:h?l.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:h,children:s(s([],v.map((function(t,n,r){return o({props:{style:e.props.direction===c.Direction.Left||e.props.direction===c.Direction.Right?{position:"absolute",left:"".concat(t[0],"px"),marginTop:"".concat(t[1],"px")}:{position:"absolute",top:"".concat(t[0],"px"),marginLeft:"".concat(t[1],"px")},key:"mark".concat(n),ref:e.markRefs[n]},index:n})})),!0),a.map((function(t,n){var i=e.state.draggedThumbIndex===n;return r({index:n,value:t,isDragged:i,props:{style:{position:"absolute",zIndex:g[n],cursor:h?"inherit":i?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:n,tabIndex:h?void 0:0,"aria-valuemax":f?A:a[n+1]||A,"aria-valuemin":f?u:a[n-1]||u,"aria-valuenow":t,draggable:!1,ref:e.thumbRefs[n],role:"slider",onKeyDown:h?l.voidFn:e.onKeyDown,onKeyUp:h?l.voidFn:e.onKeyUp}})})),!0)})},t.defaultProps={step:1,direction:c.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},t}(u.Component);t.default=h},6057:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkValuesAgainstBoundaries=t.relativeValue=t.useThumbOverlap=t.Direction=t.getTrackBackground=t.Range=void 0;var i=r(n(5419));t.Range=i.default;var o=n(2124);Object.defineProperty(t,"getTrackBackground",{enumerable:!0,get:function(){return o.getTrackBackground}}),Object.defineProperty(t,"useThumbOverlap",{enumerable:!0,get:function(){return o.useThumbOverlap}}),Object.defineProperty(t,"relativeValue",{enumerable:!0,get:function(){return o.relativeValue}}),Object.defineProperty(t,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return o.checkValuesAgainstBoundaries}});var a=n(9297);Object.defineProperty(t,"Direction",{enumerable:!0,get:function(){return a.Direction}})},9297:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Direction=void 0,function(e){e.Right="to right",e.Left="to left",e.Down="to bottom",e.Up="to top"}(t.Direction||(t.Direction={}))},2124:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.useThumbOverlap=t.assertUnreachable=t.voidFn=t.getTrackBackground=t.replaceAt=t.schd=t.translate=t.getClosestThumbIndex=t.translateThumbs=t.getPaddingAndBorder=t.getMargin=t.checkInitialOverlap=t.checkValuesAgainstBoundaries=t.checkBoundaries=t.isVertical=t.relativeValue=t.normalizeValue=t.isStepDivisible=t.isTouchEvent=t.getStepDecimals=void 0;var i=n(2791),o=n(9297);function a(e){return e===o.Direction.Up||e===o.Direction.Down}function s(e,t,n){e.style.transform="translate(".concat(t,"px, ").concat(n,"px)")}t.getStepDecimals=function(e){var t=e.toString().split(".")[1];return t?t.length:0},t.isTouchEvent=function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length},t.isStepDivisible=function(e,t,n){var r=Number(((t-e)/n).toFixed(8));return parseInt(r.toString(),10)===r},t.normalizeValue=function(e,n,r,i,o,a,s){var u=1e11;if(e=Math.round(e*u)/u,!a){var l=s[n-1],c=s[n+1];if(l&&l>e)return l;if(c&&c<e)return c}if(e>i)return i;if(e<r)return r;var A=Math.floor(e*u-r*u)%Math.floor(o*u),f=Math.floor(e*u-Math.abs(A)),h=0===A?e:f/u,p=Math.abs(A/u)<o/2?h:h+o,d=(0,t.getStepDecimals)(o);return parseFloat(p.toFixed(d))},t.relativeValue=function(e,t,n){return(e-t)/(n-t)},t.isVertical=a,t.checkBoundaries=function(e,t,n){if(t>=n)throw new RangeError("min (".concat(t,") is equal/bigger than max (").concat(n,")"));if(e<t)throw new RangeError("value (".concat(e,") is smaller than min (").concat(t,")"));if(e>n)throw new RangeError("value (".concat(e,") is bigger than max (").concat(n,")"))},t.checkValuesAgainstBoundaries=function(e,t,n){return e<t?t:e>n?n:e},t.checkInitialOverlap=function(e){if(!(e.length<2)&&!e.slice(1).every((function(t,n){return e[n]<=t})))throw new RangeError("values={[".concat(e,"]} needs to be sorted when allowOverlap={false}"))},t.getMargin=function(e){var t=window.getComputedStyle(e);return{top:parseInt(t["margin-top"],10),bottom:parseInt(t["margin-bottom"],10),left:parseInt(t["margin-left"],10),right:parseInt(t["margin-right"],10)}},t.getPaddingAndBorder=function(e){var t=window.getComputedStyle(e);return{top:parseInt(t["padding-top"],10)+parseInt(t["border-top-width"],10),bottom:parseInt(t["padding-bottom"],10)+parseInt(t["border-bottom-width"],10),left:parseInt(t["padding-left"],10)+parseInt(t["border-left-width"],10),right:parseInt(t["padding-right"],10)+parseInt(t["border-right-width"],10)}},t.translateThumbs=function(e,t,n){var r=n?-1:1;e.forEach((function(e,n){return s(e,r*t[n].x,t[n].y)}))},t.getClosestThumbIndex=function(e,t,n,r){for(var i=0,o=l(e[0],t,n,r),a=1;a<e.length;a++){var s=l(e[a],t,n,r);s<o&&(o=s,i=a)}return i},t.translate=s;t.schd=function(e){var t=[],n=null;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t=r,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))}},t.replaceAt=function(e,t,n){var r=e.slice(0);return r[t]=n,r},t.getTrackBackground=function(e){var t=e.values,n=e.colors,r=e.min,i=e.max,a=e.direction,s=void 0===a?o.Direction.Right:a,u=e.rtl,l=void 0!==u&&u;l&&s===o.Direction.Right?s=o.Direction.Left:l&&o.Direction.Left&&(s=o.Direction.Right);var c=t.slice(0).sort((function(e,t){return e-t})).map((function(e){return(e-r)/(i-r)*100})).reduce((function(e,t,r){return"".concat(e,", ").concat(n[r]," ").concat(t,"%, ").concat(n[r+1]," ").concat(t,"%")}),"");return"linear-gradient(".concat(s,", ").concat(n[0]," 0%").concat(c,", ").concat(n[n.length-1]," 100%)")},t.voidFn=function(){},t.assertUnreachable=function(e){throw new Error("Didn't expect to get here")};var u=function(e,t,n,i,o){return void 0===o&&(o=function(e){return e}),Math.ceil(r([e],Array.from(e.children),!0).reduce((function(e,r){var a=Math.ceil(r.getBoundingClientRect().width);if(r.innerText&&r.innerText.includes(n)&&0===r.childElementCount){var s=r.cloneNode(!0);s.innerHTML=o(t.toFixed(i)),s.style.visibility="hidden",document.body.appendChild(s),a=Math.ceil(s.getBoundingClientRect().width),document.body.removeChild(s)}return a>e?a:e}),e.getBoundingClientRect().width))};function l(e,t,n,r){var i=e.getBoundingClientRect(),o=i.left,s=i.top,u=i.width,l=i.height;return a(r)?Math.abs(n-(s+l/2)):Math.abs(t-(o+u/2))}t.useThumbOverlap=function(e,n,o,a,s,l){void 0===a&&(a=.1),void 0===s&&(s=" - "),void 0===l&&(l=function(e){return e});var c=(0,t.getStepDecimals)(a),A=(0,i.useState)({}),f=A[0],h=A[1],p=(0,i.useState)(l(n[o].toFixed(c))),d=p[0],g=p[1];return(0,i.useEffect)((function(){if(e){var t=e.getThumbs();if(t.length<1)return;var i={},a=e.getOffsets(),A=function(e,t,n,i,o,a,s){void 0===s&&(s=function(e){return e});var l=[];return function e(c){var A=u(n[c],i[c],o,a,s),f=t[c].x;t.forEach((function(t,h){var p=t.x,d=u(n[h],i[h],o,a,s);c!==h&&(f>=p&&f<=p+d||f+A>=p&&f+A<=p+d)&&(l.includes(h)||(l.push(c),l.push(h),l=r(r([],l,!0),[c,h],!1),e(h)))}))}(e),Array.from(new Set(l.sort()))}(o,a,t,n,s,c,l),f=l(n[o].toFixed(c));if(A.length){var p=A.reduce((function(e,t,n,i){return e.length?r(r([],e,!0),[a[i[n]].x],!1):[a[i[n]].x]}),[]);if(Math.min.apply(Math,p)===a[o].x){var d=[];A.forEach((function(e){d.push(n[e].toFixed(c))})),f=Array.from(new Set(d.sort((function(e,t){return parseFloat(e)-parseFloat(t)})))).map(l).join(s);var v=Math.min.apply(Math,p),y=Math.max.apply(Math,p),m=t[A[p.indexOf(y)]].getBoundingClientRect().width;i.left="".concat(Math.abs(v-(y+m))/2,"px"),i.transform="translate(-50%, 0)"}else i.visibility="hidden"}g(f),h(i)}}),[e,n]),[d,f]}},4005:function(e,t,n){"use strict";n.d(t,{yF:function(){return l},Ot:function(){return u}});var r=n(2791),i=n(1281),o=n(6107),a=function(e,t,n){var r=t+e;return String(n?n(r):r)},s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={quartz:t.props.idSource||i.cL,prefix:(0,i.Gn)(t.props.idSource),id:(0,i.zv)(t.props.idSource||i.cL)},t.uid=function(e){return a(t.state.id+"-"+t.state.quartz.uid(e),t.state.prefix,t.props.name)},t}return(0,o.ZT)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.name,r=this.state,i=r.id,o=r.prefix;return t(a(i,o,n),this.uid)},t}(r.Component),u=function(e){var t=e.children,n=e.prefix,o=void 0===n?"":n;return r.createElement(i.qz.Provider,{value:(0,i._P)(o)},t)},l=function(e){var t=e.name,n=e.children;return r.createElement(i.qz.Consumer,null,(function(e){return r.createElement(s,{name:t,idSource:e,children:n})}))}},1281:function(e,t,n){"use strict";n.d(t,{cL:function(){return a},_P:function(){return o},zv:function(){return u},Gn:function(){return l},qz:function(){return s}});var r=n(2791),i=function(){var e=1,t=new WeakMap;return function n(r,i){return"number"===typeof r||"string"===typeof r?i?"idx-"+i:"val-"+r:t.has(r)?"uid"+t.get(r):(t.set(r,e++),n(r))}},o=(i(),function(e){return void 0===e&&(e=""),{value:1,prefix:e,uid:i()}}),a=o(),s=r.createContext(o()),u=function(e){return e.value++},l=function(e){return e?e.prefix:""}},679:function(e,t,n){"use strict";n.d(t,{D:function(){return a},H:function(){return s}});var r=n(2791),i=n(1281),o=function(){return r.useState(function(e){var t=e||i.cL,n=(0,i.Gn)(t)+(0,i.zv)(t);return{uid:n,gen:function(e){return n+t.uid(e)}}}(r.useContext(i.qz)))},a=function(){return o()[0].uid},s=function(){return o()[0].gen}},2419:function(e,t,n){"use strict";n.r(t),n.d(t,{AbstractSeries:function(){return jo},ArcSeries:function(){return Za},AreaSeries:function(){return Zu},AxisUtils:function(){return rl},Borders:function(){return Wu},ChartLabel:function(){return Ju},CircularGridLines:function(){return cl},ContinuousColorLegend:function(){return Rg},ContinuousSizeLegend:function(){return Ug},ContourSeries:function(){return nA},Crosshair:function(){return AA},CustomSVGSeries:function(){return bA},DecorativeAxis:function(){return TA},DiscreteColorLegend:function(){return Gg},FlexibleHeightXYPlot:function(){return ym},FlexibleWidthXYPlot:function(){return vm},FlexibleXYPlot:function(){return mm},GradientDefs:function(){return MA},GridLines:function(){return HA},HeatmapSeries:function(){return XA},HexbinSeries:function(){return of},Highlight:function(){return ff},Hint:function(){return _f},HorizontalBarSeries:function(){return If},HorizontalBarSeriesCanvas:function(){return Gf},HorizontalGridLines:function(){return Jf},HorizontalRectSeries:function(){return Ah},HorizontalRectSeriesCanvas:function(){return xh},LabelSeries:function(){return Ph},LineMarkSeries:function(){return Yh},LineMarkSeriesCanvas:function(){return dp},LineSeries:function(){return Zh},LineSeriesCanvas:function(){return lp},MarkSeries:function(){return Hh},MarkSeriesCanvas:function(){return rp},ParallelCoordinates:function(){return sv},PolygonSeries:function(){return wp},RadarChart:function(){return pv},RadialChart:function(){return vv},RectSeries:function(){return oh},RectSeriesCanvas:function(){return vh},Sankey:function(){return qv},ScaleUtils:function(){return Fo},SearchableDiscreteColorLegend:function(){return Yg},Sunburst:function(){return ly},Treemap:function(){return rm},VerticalBarSeries:function(){return kp},VerticalBarSeriesCanvas:function(){return Ip},VerticalGridLines:function(){return jp},VerticalRectSeries:function(){return Gp},VerticalRectSeriesCanvas:function(){return Jp},Voronoi:function(){return nd},WhiskerSeries:function(){return ud},XAxis:function(){return Bg},XYPlot:function(){return Od},YAxis:function(){return Mg},makeHeightFlexible:function(){return pm},makeVisFlexible:function(){return dm},makeWidthFlexible:function(){return gm}});var r={};n.r(r),n.d(r,{arc:function(){return Ta},area:function(){return Ha},areaRadial:function(){return $a},curveBasis:function(){return Fs},curveBasisClosed:function(){return Ls},curveBasisOpen:function(){return Ds},curveBundle:function(){return Us},curveCardinal:function(){return zs},curveCardinalClosed:function(){return Hs},curveCardinalOpen:function(){return Gs},curveCatmullRom:function(){return qs},curveCatmullRomClosed:function(){return Ys},curveCatmullRomOpen:function(){return $s},curveLinear:function(){return ja},curveLinearClosed:function(){return tu},curveMonotoneX:function(){return lu},curveMonotoneY:function(){return cu},curveNatural:function(){return hu},curveStep:function(){return du},curveStepAfter:function(){return vu},curveStepBefore:function(){return gu},line:function(){return Qa},lineRadial:function(){return Ja},linkHorizontal:function(){return us},linkRadial:function(){return cs},linkVertical:function(){return ls},pie:function(){return Wa},pointRadial:function(){return es},radialArea:function(){return $a},radialLine:function(){return Ja},stack:function(){return _u},stackOffsetDiverging:function(){return xu},stackOffsetExpand:function(){return wu},stackOffsetNone:function(){return yu},stackOffsetSilhouette:function(){return Cu},stackOffsetWiggle:function(){return Bu},stackOrderAppearance:function(){return Eu},stackOrderAscending:function(){return ku},stackOrderDescending:function(){return Tu},stackOrderInsideOut:function(){return Pu},stackOrderNone:function(){return mu},stackOrderReverse:function(){return Mu},symbol:function(){return Os},symbolCircle:function(){return As},symbolCross:function(){return fs},symbolDiamond:function(){return ds},symbolSquare:function(){return bs},symbolStar:function(){return ms},symbolTriangle:function(){return ws},symbolWye:function(){return Ss},symbols:function(){return ks}});var i=n(4093),o=n.n(i);function a(e){return function(){return e}}function s(e){return e[0]}function u(e){return e[1]}function l(){this._=null}function c(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function A(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function f(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function h(e){for(;e.L;)e=e.L;return e}l.prototype={constructor:l,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=h(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(A(this,n),n=(e=n).U),n.C=!1,r.C=!0,f(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(f(this,n),n=(e=n).U),n.C=!1,r.C=!0,A(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?h(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,A(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,f(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,A(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,f(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,A(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,f(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var p=l;function d(e,t,n,r){var i=[null,null],o=U.push(i)-1;return i.left=e,i.right=t,n&&v(i,e,t,n),r&&v(i,t,e,r),D[e.index].halfedges.push(o),D[t.index].halfedges.push(o),i}function g(e,t,n){var r=[t,n];return r.left=e,r}function v(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function y(e,t,n,r,i){var o,a=e[0],s=e[1],u=a[0],l=a[1],c=0,A=1,f=s[0]-u,h=s[1]-l;if(o=t-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<A&&(A=o)}else if(f>0){if(o>A)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>A)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<A&&(A=o)}if(o=n-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<A&&(A=o)}else if(h>0){if(o>A)return;o>c&&(c=o)}if(o=i-l,h||!(o<0)){if(o/=h,h<0){if(o>A)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<A&&(A=o)}return!(c>0||A<1)||(c>0&&(e[0]=[u+c*f,l+c*h]),A<1&&(e[1]=[u+A*f,l+A*h]),!0)}}}}}function m(e,t,n,r,i){var o=e[1];if(o)return!0;var a,s,u=e[0],l=e.left,c=e.right,A=l[0],f=l[1],h=c[0],p=c[1],d=(A+h)/2,g=(f+p)/2;if(p===f){if(d<t||d>=r)return;if(A>h){if(u){if(u[1]>=i)return}else u=[d,n];o=[d,i]}else{if(u){if(u[1]<n)return}else u=[d,i];o=[d,n]}}else if(s=g-(a=(A-h)/(p-f))*d,a<-1||a>1)if(A>h){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[t,a*t+s];o=[r,a*r+s]}else{if(u){if(u[0]<t)return}else u=[r,a*r+s];o=[t,a*t+s]}return e[0]=u,e[1]=o,!0}function b(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function _(e,t){return t[+(t.left!==e.site)]}function w(e,t){return t[+(t.left===e.site)]}var x,C=[];function B(){c(this),this.x=this.y=this.arc=this.site=this.cy=null}function E(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,A=o[1]-s,f=2*(u*A-l*c);if(!(f>=-N)){var h=u*u+l*l,p=c*c+A*A,d=(A*h-l*p)/f,g=(u*p-c*h)/f,v=C.pop()||new B;v.arc=e,v.site=i,v.x=d+a,v.y=(v.cy=g+s)+Math.sqrt(d*d+g*g),e.circle=v;for(var y=null,m=Z._;m;)if(v.y<m.y||v.y===m.y&&v.x<=m.x){if(!m.L){y=m.P;break}m=m.L}else{if(!m.R){y=m;break}m=m.R}Z.insert(y,v),y||(x=v)}}}}function S(e){var t=e.circle;t&&(t.P||(x=t.N),Z.remove(t),C.push(t),c(t),e.circle=null)}var k=[];function O(){c(this),this.edge=this.site=this.circle=null}function T(e){var t=k.pop()||new O;return t.site=e,t}function P(e){S(e),R.remove(e),k.push(e),c(e)}function M(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,a=e.N,s=[e];P(e);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<j&&Math.abs(r-u.circle.cy)<j;)o=u.P,s.unshift(u),P(u),u=o;s.unshift(u),S(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<j&&Math.abs(r-l.circle.cy)<j;)a=l.N,s.push(l),P(l),l=a;s.push(l),S(l);var c,A=s.length;for(c=1;c<A;++c)l=s[c],u=s[c-1],v(l.edge,u.site,l.site,i);u=s[0],(l=s[A-1]).edge=d(u.site,l.site,null,i),E(u),E(l)}function F(e){for(var t,n,r,i,o=e[0],a=e[1],s=R._;s;)if((r=I(s,a)-o)>j)s=s.L;else{if(!((i=o-L(s,a))>j)){r>-j?(t=s.P,n=s):i>-j?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){D[e.index]={site:e,halfedges:[]}}(e);var u=T(e);if(R.insert(t,u),t||n){if(t===n)return S(t),n=T(t.site),R.insert(u,n),u.edge=n.edge=d(t.site,u.site),E(t),void E(n);if(n){S(t),S(n);var l=t.site,c=l[0],A=l[1],f=e[0]-c,h=e[1]-A,p=n.site,g=p[0]-c,y=p[1]-A,m=2*(f*y-h*g),b=f*f+h*h,_=g*g+y*y,w=[(y*b-h*_)/m+c,(f*_-g*b)/m+A];v(n.edge,l,p,w),u.edge=d(l,e,null,w),n.edge=d(e,p,null,w),E(t),E(n)}else u.edge=d(t.site,u.site)}}function I(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-t;if(!l)return s;var c=s-r,A=1/o-1/l,f=c/l;return A?(-f+Math.sqrt(f*f-2*A*(c*c/(-2*l)-u+l/2+i-o/2)))/A+r:(r+s)/2}function L(e,t){var n=e.N;if(n)return I(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var R,D,Z,U,j=1e-6,N=1e-12;function z(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function Q(e,t){return t[1]-e[1]||t[0]-e[0]}function H(e,t){var n,r,i,o=e.sort(Q).pop();for(U=[],D=new Array(e.length),R=new p,Z=new p;;)if(i=x,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(F(o),n=o[0],r=o[1]),o=e.pop();else{if(!i)break;M(i.arc)}if(function(){for(var e,t,n,r,i=0,o=D.length;i<o;++i)if((e=D[i])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=b(e,U[t[n]]);for(a.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],u=+t[1][0],l=+t[1][1];!function(e,t,n,r){for(var i,o=U.length;o--;)m(i=U[o],e,t,n,r)&&y(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>j||Math.abs(i[0][1]-i[1][1])>j)||delete U[o]}(a,s,u,l),function(e,t,n,r){var i,o,a,s,u,l,c,A,f,h,p,d,v=D.length,y=!0;for(i=0;i<v;++i)if(o=D[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)U[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(h=w(o,U[u[s]]))[0],d=h[1],A=(c=_(o,U[u[++s%l]]))[0],f=c[1],(Math.abs(p-A)>j||Math.abs(d-f)>j)&&(u.splice(s,0,U.push(g(a,h,Math.abs(p-e)<j&&r-d>j?[e,Math.abs(A-e)<j?f:r]:Math.abs(d-r)<j&&n-p>j?[Math.abs(f-r)<j?A:n,r]:Math.abs(p-n)<j&&d-t>j?[n,Math.abs(A-n)<j?f:t]:Math.abs(d-t)<j&&p-e>j?[Math.abs(f-t)<j?A:e,t]:null))-1),++l);l&&(y=!1)}if(y){var m,b,x,C=1/0;for(i=0,y=null;i<v;++i)(o=D[i])&&(x=(m=(a=o.site)[0]-e)*m+(b=a[1]-t)*b)<C&&(C=x,y=o);if(y){var B=[e,t],E=[e,r],S=[n,r],k=[n,t];y.halfedges.push(U.push(g(a=y.site,B,E))-1,U.push(g(a,E,S))-1,U.push(g(a,S,k))-1,U.push(g(a,k,B))-1)}}for(i=0;i<v;++i)(o=D[i])&&(o.halfedges.length||delete D[i])}(a,s,u,l)}this.edges=U,this.cells=D,R=Z=U=D=null}function V(){var e=s,t=u,n=null;function r(r){return new H(r.map((function(n,i){var o=[Math.round(e(n,i,r)/j)*j,Math.round(t(n,i,r)/j)*j];return o.index=i,o.data=n,o})),n)}return r.polygons=function(e){return r(e).polygons()},r.links=function(e){return r(e).links()},r.triangles=function(e){return r(e).triangles()},r.x=function(t){return arguments.length?(e="function"===typeof t?t:a(+t),r):e},r.y=function(e){return arguments.length?(t="function"===typeof e?e:a(+e),r):t},r.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}H.prototype={constructor:H,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return _(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,u=-1,l=t[i[o-1]],c=l.left===s?l.right:l.left;++u<o;)a=c,c=(l=t[i[u]]).left===s?l.right:l.left,a&&c&&r<a.index&&r<c.index&&z(s,a,c)<0&&e.push([s.data,a.data,c.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=e-i.site[0],l=t-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=e-s[0],l=t-s[1],A=u*u+l*l;A<c&&(c=A,a=s.index)}}))}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};var G=n(2791);function W(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function K(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function q(){}var X=.7,Y=1/X,J="\\s*([+-]?\\d+)\\s*",$="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ee="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",te=/^#([0-9a-f]{3,8})$/,ne=new RegExp("^rgb\\("+[J,J,J]+"\\)$"),re=new RegExp("^rgb\\("+[ee,ee,ee]+"\\)$"),ie=new RegExp("^rgba\\("+[J,J,J,$]+"\\)$"),oe=new RegExp("^rgba\\("+[ee,ee,ee,$]+"\\)$"),ae=new RegExp("^hsl\\("+[$,ee,ee]+"\\)$"),se=new RegExp("^hsla\\("+[$,ee,ee,$]+"\\)$"),ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function le(){return this.rgb().formatHex()}function ce(){return this.rgb().formatRgb()}function Ae(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=te.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?fe(t):3===n?new ge(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?he(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?he(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ne.exec(e))?new ge(t[1],t[2],t[3],1):(t=re.exec(e))?new ge(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ie.exec(e))?he(t[1],t[2],t[3],t[4]):(t=oe.exec(e))?he(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ae.exec(e))?be(t[1],t[2]/100,t[3]/100,1):(t=se.exec(e))?be(t[1],t[2]/100,t[3]/100,t[4]):ue.hasOwnProperty(e)?fe(ue[e]):"transparent"===e?new ge(NaN,NaN,NaN,0):null}function fe(e){return new ge(e>>16&255,e>>8&255,255&e,1)}function he(e,t,n,r){return r<=0&&(e=t=n=NaN),new ge(e,t,n,r)}function pe(e){return e instanceof q||(e=Ae(e)),e?new ge((e=e.rgb()).r,e.g,e.b,e.opacity):new ge}function de(e,t,n,r){return 1===arguments.length?pe(e):new ge(e,t,n,null==r?1:r)}function ge(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ve(){return"#"+me(this.r)+me(this.g)+me(this.b)}function ye(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function me(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function be(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xe(e,t,n,r)}function _e(e){if(e instanceof xe)return new xe(e.h,e.s,e.l,e.opacity);if(e instanceof q||(e=Ae(e)),!e)return new xe;if(e instanceof xe)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new xe(a,s,u,e.opacity)}function we(e,t,n,r){return 1===arguments.length?_e(e):new xe(e,t,n,null==r?1:r)}function xe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ce(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Be(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function Ee(e){return function(){return e}}function Se(e,t){return function(n){return e+n*t}}function ke(e){return 1===(e=+e)?Oe:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Ee(isNaN(t)?n:t)}}function Oe(e,t){var n=t-e;return n?Se(e,n):Ee(isNaN(e)?t:e)}W(q,Ae,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:le,formatHex:le,formatHsl:function(){return _e(this).formatHsl()},formatRgb:ce,toString:ce}),W(ge,de,K(q,{brighter:function(e){return e=null==e?Y:Math.pow(Y,e),new ge(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?X:Math.pow(X,e),new ge(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ve,formatHex:ve,formatRgb:ye,toString:ye})),W(xe,we,K(q,{brighter:function(e){return e=null==e?Y:Math.pow(Y,e),new xe(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?X:Math.pow(X,e),new xe(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ge(Ce(e>=240?e-240:e+120,i,r),Ce(e,i,r),Ce(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Te=function e(t){var n=ke(t);function r(e,t){var r=n((e=de(e)).r,(t=de(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Oe(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Pe(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=de(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}Pe((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Be((n-r/t)*t,a,i,o,s)}})),Pe((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Be((n-r/t)*t,i,o,a,s)}}));function Me(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=je(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Fe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ie(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Le(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=je(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Re=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,De=new RegExp(Re.source,"g");function Ze(e,t){var n,r,i,o=Re.lastIndex=De.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Re.exec(e))&&(r=De.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Ie(n,r)})),o=De.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function Ue(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function je(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?Ee(t):("number"===i?Ie:"string"===i?(n=Ae(t))?(t=n,Te):Ze:t instanceof Ae?Te:t instanceof Date?Fe:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Me:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Le:Ie:Ue))(e,t)}var Ne=n(9424),ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var He=o().oneOfType([o().string,o().shape({stiffness:o().number,nonAnimatedProps:o().arrayOf(o().string),damping:o().number}),o().bool]),Ve={animatedProps:o().arrayOf(o().string).isRequired,animation:He,onStart:o().func,onEnd:o().func};function Ge(e){var t=e.animatedProps,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["animatedProps"]);return t.reduce((function(e,t){return n.hasOwnProperty(t)&&(e[t]=n[t]),e}),{})}var We=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._motionEndHandler=function(){n.props.onEnd&&n.props.onEnd()},n._renderChildren=function(e){var t=e.i,r=n.props.children,i=n._interpolator,o=G.Children.only(r),a=i?i(t):i,s=a&&a.data||null;return s&&o.props._data&&(s=s.map((function(e,t){var n=o.props._data[t];return Qe({},e,{parent:n.parent,children:n.children})}))),G.cloneElement(o,Qe({},o.props,a,{data:s||o.props.data||null,_animation:Math.random()}))},n._updateInterpolator(e),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ze(t,[{key:"componentWillUpdate",value:function(e){this._updateInterpolator(this.props,e),e.onStart&&e.onStart()}},{key:"_updateInterpolator",value:function(e,t){this._interpolator=je(Ge(e),t?Ge(t):null)}},{key:"render",value:function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.um.noWobble;if("string"===typeof e)return Ne.um[e]||Ne.um.noWobble;var t=e.damping,n=e.stiffness;return Qe({damping:t||Ne.um.noWobble.damping,stiffness:n||Ne.um.noWobble.stiffness},e)}(this.props.animation),t={i:(0,Ne.ST)(1,e)},n=Math.random();return G.createElement(Ne.y_,Qe({defaultStyle:{i:0},style:t,key:n},{onRest:this._motionEndHandler}),this._renderChildren)}}]),t}(G.PureComponent);We.propTypes=Ve,We.displayName="Animation";var Ke=We,qe=He;function Xe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ye(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Xe(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}var Je=Ye(Xe),$e=Je.right,et=(Je.left,$e);var tt=Array.prototype,nt=(tt.slice,tt.map,Math.sqrt(50)),rt=Math.sqrt(10),it=Math.sqrt(2);function ot(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=at(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o}function at(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=nt?10:o>=rt?5:o>=it?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=nt?10:o>=rt?5:o>=it?2:1)}function st(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=nt?i*=10:o>=rt?i*=5:o>=it&&(i*=2),t<e?-i:i}function ut(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}var lt="$";function ct(){}function At(e,t){var n=new ct;if(e instanceof ct)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}ct.prototype=At.prototype={constructor:ct,has:function(e){return lt+e in this},get:function(e){return this[lt+e]},set:function(e,t){return this[lt+e]=t,this},remove:function(e){var t=lt+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===lt&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===lt&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===lt&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===lt&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===lt&&++e;return e},empty:function(){for(var e in this)if(e[0]===lt)return!1;return!0},each:function(e){for(var t in this)t[0]===lt&&e(this[t],t.slice(1),this)}};var ft=At;function ht(){var e,t,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var u,l,c,A=-1,f=n.length,h=r[i++],p=ft(),d=a();++A<f;)(c=p.get(u=h(l=n[A])+""))?c.push(l):p.set(u,[l]);return p.each((function(e,t){s(d,t,o(e,i,a,s))})),d}function a(e,n){if(++n>r.length)return e;var o,s=i[n-1];return null!=t&&n>=r.length?o=e.entries():(o=[],e.each((function(e,t){o.push({key:t,values:a(e,n)})}))),null!=s?o.sort((function(e,t){return s(e.key,t.key)})):o}return n={object:function(e){return o(e,0,pt,dt)},map:function(e){return o(e,0,gt,vt)},entries:function(e){return a(o(e,0,gt,vt),0)},key:function(e){return r.push(e),n},sortKeys:function(e){return i[r.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}}function pt(){return{}}function dt(e,t,n){e[t]=n}function gt(){return ft()}function vt(e,t,n){e.set(t,n)}function yt(){}var mt=ft.prototype;function bt(e,t){var n=new yt;if(e instanceof yt)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}yt.prototype=bt.prototype={constructor:yt,has:mt.has,add:function(e){return this[lt+(e+="")]=e,this},remove:mt.remove,clear:mt.clear,values:mt.keys,size:mt.size,empty:mt.empty,each:mt.each};var _t=bt,wt=Array.prototype,xt=wt.map,Ct=wt.slice,Bt={name:"implicit"};function Et(e){var t=ft(),n=[],r=Bt;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Bt)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return e=null==e?[]:Ct.call(e),i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=ft();for(var r,o,a=-1,s=e.length;++a<s;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=Ct.call(t),i):e.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Et().domain(n).range(e).unknown(r)},i}function St(){var e,t,n=Et().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,u=0,l=.5;function c(){var n=r().length,c=o[1]<o[0],A=o[c-0],f=o[1-c];e=(f-A)/Math.max(1,n-s+2*u),a&&(e=Math.floor(e)),A+=(f-A-e*(n-s))*l,t=e*(1-s),a&&(A=Math.round(A),t=Math.round(t));var h=ut(n).map((function(t){return A+e*t}));return i(c?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),c()):r()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],c()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,c()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,c()):a},n.padding=function(e){return arguments.length?(s=u=Math.max(0,Math.min(1,e)),c()):s},n.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),c()):s},n.paddingOuter=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),c()):u},n.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),c()):l},n.copy=function(){return St().domain(r()).range(o).round(a).paddingInner(s).paddingOuter(u).align(l)},c()}function kt(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kt(t())},e}function Ot(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Tt(e){return function(){return e}}function Pt(e){return+e}var Mt=[0,1];function Ft(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Tt(t)}function It(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function Lt(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=n(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var n=et(e,t,1,i)-1;return a[n](o[n](t))}}function Rt(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function Dt(e,t){var n,r,i,o=Mt,a=Mt,s=je,u=!1;function l(){return n=Math.min(o.length,a.length)>2?Lt:It,r=i=null,c}function c(t){return(r||(r=n(o,a,u?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}(e):e,s)))(+t)}return c.invert=function(e){return(i||(i=n(a,o,Ft,u?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}(t):t)))(+e)},c.domain=function(e){return arguments.length?(o=xt.call(e,Pt),l()):o.slice()},c.range=function(e){return arguments.length?(a=Ct.call(e),l()):a.slice()},c.rangeRound=function(e){return a=Ct.call(e),s=Ot,l()},c.clamp=function(e){return arguments.length?(u=!!e,l()):u},c.interpolate=function(e){return arguments.length?(s=e,l()):s},l()}var Zt=n(8481),Ut=n(7861),jt=n(9975),Nt=n(4226),zt=n(4827);function Qt(e){var t=e.domain;return e.ticks=function(e){var n=t();return ot(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return function(e,t,n){var r,i=e[0],o=e[e.length-1],a=st(i,o,null==t?10:t);switch((n=(0,Zt.Z)(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=(0,Ut.Z)(a,s))||(n.precision=r),(0,jt.jH)(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=(0,Nt.Z)(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=(0,zt.Z)(a))||(n.precision=r-2*("%"===n.type))}return(0,jt.WU)(n)}(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=at(s,u,n))>0?r=at(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=at(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,t(i)),e},e}function Ht(){var e=Dt(Ft,Ie);return e.copy=function(){return Rt(e,Ht())},Qt(e)}function Vt(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Gt(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:Tt(t)}function Wt(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function Kt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function qt(e){return 10===e?Kt:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Xt(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function Yt(e){return function(t){return-e(-t)}}function Jt(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function $t(){var e=1,t=Dt((function(t,n){return(n=Jt(n,e)-(t=Jt(t,e)))?function(r){return(Jt(r,e)-t)/n}:Tt(n)}),(function(t,n){return n=Jt(n,e)-(t=Jt(t,e)),function(r){return Jt(t+n*r,1/e)}})),n=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return Rt(t,$t().exponent(e))},Qt(t)}function en(){return $t().exponent(.5)}var tn=new Date,nn=new Date;function rn(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return rn((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return tn.setTime(+t),nn.setTime(+r),e(tn),e(nn),Math.floor(n(tn,nn))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var on=rn((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));on.every=function(e){return isFinite(e=Math.floor(e))&&e>0?rn((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var an=on,sn=(on.range,rn((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),un=sn,ln=(sn.range,1e3),cn=6e4,An=36e5,fn=864e5,hn=6048e5;function pn(e){return rn((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cn)/hn}))}var dn=pn(0),gn=pn(1),vn=pn(2),yn=pn(3),mn=pn(4),bn=pn(5),_n=pn(6),wn=(dn.range,gn.range,vn.range,yn.range,mn.range,bn.range,_n.range,rn((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cn)/fn}),(function(e){return e.getDate()-1}))),xn=wn,Cn=(wn.range,rn((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ln-e.getMinutes()*cn)}),(function(e,t){e.setTime(+e+t*An)}),(function(e,t){return(t-e)/An}),(function(e){return e.getHours()}))),Bn=Cn,En=(Cn.range,rn((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ln)}),(function(e,t){e.setTime(+e+t*cn)}),(function(e,t){return(t-e)/cn}),(function(e){return e.getMinutes()}))),Sn=En,kn=(En.range,rn((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*ln)}),(function(e,t){return(t-e)/ln}),(function(e){return e.getUTCSeconds()}))),On=kn,Tn=(kn.range,rn((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));Tn.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?rn((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Tn:null};var Pn=Tn;Tn.range;function Mn(e){return rn((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/hn}))}var Fn=Mn(0),In=Mn(1),Ln=Mn(2),Rn=Mn(3),Dn=Mn(4),Zn=Mn(5),Un=Mn(6),jn=(Fn.range,In.range,Ln.range,Rn.range,Dn.range,Zn.range,Un.range,rn((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/fn}),(function(e){return e.getUTCDate()-1}))),Nn=jn,zn=(jn.range,rn((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));zn.every=function(e){return isFinite(e=Math.floor(e))&&e>0?rn((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Qn=zn;zn.range;function Hn(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Vn(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gn(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Wn,Kn,qn,Xn={"-":"",_:" ",0:"0"},Yn=/^\s*\d+/,Jn=/^%/,$n=/[\\^$*+?|[\]().{}]/g;function er(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function tr(e){return e.replace($n,"\\$&")}function nr(e){return new RegExp("^(?:"+e.map(tr).join("|")+")","i")}function rr(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function ir(e,t,n){var r=Yn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function or(e,t,n){var r=Yn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ar(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function sr(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ur(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function lr(e,t,n){var r=Yn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function cr(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ar(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fr(e,t,n){var r=Yn.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function hr(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function pr(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function dr(e,t,n){var r=Yn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function gr(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function vr(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function yr(e,t,n){var r=Yn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mr(e,t,n){var r=Yn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function br(e,t,n){var r=Yn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _r(e,t,n){var r=Jn.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function wr(e,t,n){var r=Yn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function xr(e,t,n){var r=Yn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Cr(e,t){return er(e.getDate(),t,2)}function Br(e,t){return er(e.getHours(),t,2)}function Er(e,t){return er(e.getHours()%12||12,t,2)}function Sr(e,t){return er(1+xn.count(an(e),e),t,3)}function kr(e,t){return er(e.getMilliseconds(),t,3)}function Or(e,t){return kr(e,t)+"000"}function Tr(e,t){return er(e.getMonth()+1,t,2)}function Pr(e,t){return er(e.getMinutes(),t,2)}function Mr(e,t){return er(e.getSeconds(),t,2)}function Fr(e){var t=e.getDay();return 0===t?7:t}function Ir(e,t){return er(dn.count(an(e)-1,e),t,2)}function Lr(e){var t=e.getDay();return t>=4||0===t?mn(e):mn.ceil(e)}function Rr(e,t){return e=Lr(e),er(mn.count(an(e),e)+(4===an(e).getDay()),t,2)}function Dr(e){return e.getDay()}function Zr(e,t){return er(gn.count(an(e)-1,e),t,2)}function Ur(e,t){return er(e.getFullYear()%100,t,2)}function jr(e,t){return er((e=Lr(e)).getFullYear()%100,t,2)}function Nr(e,t){return er(e.getFullYear()%1e4,t,4)}function zr(e,t){var n=e.getDay();return er((e=n>=4||0===n?mn(e):mn.ceil(e)).getFullYear()%1e4,t,4)}function Qr(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+er(t/60|0,"0",2)+er(t%60,"0",2)}function Hr(e,t){return er(e.getUTCDate(),t,2)}function Vr(e,t){return er(e.getUTCHours(),t,2)}function Gr(e,t){return er(e.getUTCHours()%12||12,t,2)}function Wr(e,t){return er(1+Nn.count(Qn(e),e),t,3)}function Kr(e,t){return er(e.getUTCMilliseconds(),t,3)}function qr(e,t){return Kr(e,t)+"000"}function Xr(e,t){return er(e.getUTCMonth()+1,t,2)}function Yr(e,t){return er(e.getUTCMinutes(),t,2)}function Jr(e,t){return er(e.getUTCSeconds(),t,2)}function $r(e){var t=e.getUTCDay();return 0===t?7:t}function ei(e,t){return er(Fn.count(Qn(e)-1,e),t,2)}function ti(e){var t=e.getUTCDay();return t>=4||0===t?Dn(e):Dn.ceil(e)}function ni(e,t){return e=ti(e),er(Dn.count(Qn(e),e)+(4===Qn(e).getUTCDay()),t,2)}function ri(e){return e.getUTCDay()}function ii(e,t){return er(In.count(Qn(e)-1,e),t,2)}function oi(e,t){return er(e.getUTCFullYear()%100,t,2)}function ai(e,t){return er((e=ti(e)).getUTCFullYear()%100,t,2)}function si(e,t){return er(e.getUTCFullYear()%1e4,t,4)}function ui(e,t){var n=e.getUTCDay();return er((e=n>=4||0===n?Dn(e):Dn.ceil(e)).getUTCFullYear()%1e4,t,4)}function li(){return"+0000"}function ci(){return"%"}function Ai(e){return+e}function fi(e){return Math.floor(+e/1e3)}Wn=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,l=nr(i),c=rr(i),A=nr(o),f=rr(o),h=nr(a),p=rr(a),d=nr(s),g=rr(s),v=nr(u),y=rr(u),m={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Cr,e:Cr,f:Or,g:jr,G:zr,H:Br,I:Er,j:Sr,L:kr,m:Tr,M:Pr,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ai,s:fi,S:Mr,u:Fr,U:Ir,V:Rr,w:Dr,W:Zr,x:null,X:null,y:Ur,Y:Nr,Z:Qr,"%":ci},b={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Hr,e:Hr,f:qr,g:ai,G:ui,H:Vr,I:Gr,j:Wr,L:Kr,m:Xr,M:Yr,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ai,s:fi,S:Jr,u:$r,U:ei,V:ni,w:ri,W:ii,x:null,X:null,y:oi,Y:si,Z:li,"%":ci},_={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=A.exec(t.slice(n));return r?(e.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return C(e,t,n,r)},d:pr,e:pr,f:br,g:cr,G:lr,H:gr,I:gr,j:dr,L:mr,m:hr,M:vr,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:fr,Q:wr,s:xr,S:yr,u:or,U:ar,V:sr,w:ir,W:ur,x:function(e,t,r){return C(e,n,t,r)},X:function(e,t,n){return C(e,r,t,n)},y:cr,Y:lr,Z:Ar,"%":_r};function w(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=Xn[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function x(e,t){return function(n){var r,i,o=Gn(1900,void 0,1);if(C(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Vn(Gn(o.y,0,1))).getUTCDay(),r=i>4||0===i?In.ceil(r):In(r),r=Nn.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Hn(Gn(o.y,0,1))).getDay(),r=i>4||0===i?gn.ceil(r):gn(r),r=xn.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Vn(Gn(o.y,0,1)).getUTCDay():Hn(Gn(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Vn(o)):Hn(o)}}function C(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=_[i in Xn?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return m.x=w(n,m),m.X=w(r,m),m.c=w(t,m),b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),{format:function(e){var t=w(e+="",m);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Kn=Wn.format,Wn.parse,qn=Wn.utcFormat,Wn.utcParse;var hi=1e3,pi=6e4,di=36e5,gi=864e5,vi=2592e6,yi=31536e6;function mi(e){return new Date(e)}function bi(e){return e instanceof Date?+e:+new Date(+e)}function _i(e,t,n,r,i,o,a,s,u){var l=Dt(Ft,Ie),c=l.invert,A=l.domain,f=u(".%L"),h=u(":%S"),p=u("%I:%M"),d=u("%I %p"),g=u("%a %d"),v=u("%b %d"),y=u("%B"),m=u("%Y"),b=[[a,1,hi],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,pi],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,di],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,gi],[r,2,1728e5],[n,1,6048e5],[t,1,vi],[t,3,7776e6],[e,1,yi]];function _(s){return(a(s)<s?f:o(s)<s?h:i(s)<s?p:r(s)<s?d:t(s)<s?n(s)<s?g:v:e(s)<s?y:m)(s)}function w(t,n,r,i){if(null==t&&(t=10),"number"===typeof t){var o=Math.abs(r-n)/t,a=Ye((function(e){return e[2]})).right(b,o);a===b.length?(i=st(n/yi,r/yi,t),t=e):a?(i=(a=b[o/b[a-1][2]<b[a][2]/o?a-1:a])[1],t=a[0]):(i=Math.max(st(n,r,t),1),t=s)}return null==i?t:t.every(i)}return l.invert=function(e){return new Date(c(e))},l.domain=function(e){return arguments.length?A(xt.call(e,bi)):A().map(mi)},l.ticks=function(e,t){var n,r=A(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=w(e,i,o,t))?n.range(i,o+1):[],a?n.reverse():n},l.tickFormat=function(e,t){return null==t?_:u(t)},l.nice=function(e,t){var n=A();return(e=w(e,n[0],n[n.length-1],t))?A(Vt(n,e)):l},l.copy=function(){return Rt(l,_i(e,t,n,r,i,o,a,s,u))},l}var wi=rn((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),xi=wi,Ci=(wi.range,rn((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*An)}),(function(e,t){return(t-e)/An}),(function(e){return e.getUTCHours()}))),Bi=Ci,Ei=(Ci.range,rn((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*cn)}),(function(e,t){return(t-e)/cn}),(function(e){return e.getUTCMinutes()}))),Si=Ei;Ei.range;function ki(e){return e.match(/.{6}/g).map((function(e){return"#"+e}))}ki("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ki("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ki("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),ki("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var Oi=Math.PI/180,Ti=180/Math.PI,Pi=-.14861,Mi=1.78277,Fi=-.29227,Ii=-.90649,Li=1.97294,Ri=Li*Ii,Di=Li*Mi,Zi=Mi*Fi-Ii*Pi;function Ui(e){if(e instanceof Ni)return new Ni(e.h,e.s,e.l,e.opacity);e instanceof ge||(e=pe(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Zi*r+Ri*t-Di*n)/(Zi+Ri-Di),o=r-i,a=(Li*(n-i)-Fi*o)/Ii,s=Math.sqrt(a*a+o*o)/(Li*i*(1-i)),u=s?Math.atan2(a,o)*Ti-120:NaN;return new Ni(u<0?u+360:u,s,i,e.opacity)}function ji(e,t,n,r){return 1===arguments.length?Ui(e):new Ni(e,t,n,null==r?1:r)}function Ni(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function zi(e){return function t(n){function r(t,r){var i=e((t=ji(t)).h,(r=ji(r)).h),o=Oe(t.s,r.s),a=Oe(t.l,r.l),s=Oe(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}W(Ni,ji,K(q,{brighter:function(e){return e=null==e?Y:Math.pow(Y,e),new Ni(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?X:Math.pow(X,e),new Ni(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Oi,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ge(255*(t+n*(Pi*r+Mi*i)),255*(t+n*(Fi*r+Ii*i)),255*(t+n*(Li*r)),this.opacity)}}));zi((function(e,t){var n=t-e;return n?Se(e,n>180||n<-180?n-360*Math.round(n/360):n):Ee(isNaN(e)?t:e)}));var Qi=zi(Oe);Qi(ji(300,.5,0),ji(-240,.5,1)),Qi(ji(-100,.75,.35),ji(80,1.5,.8)),Qi(ji(260,.75,.35),ji(80,1.5,.8)),ji();function Hi(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}Hi(ki("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Hi(ki("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Hi(ki("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Hi(ki("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var Vi=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(G.version.split("."),2),Gi=Vi[0],Wi=Vi[1],Ki=Number(Wi)>13||Number(Gi)>13,qi=function(e){return Ki?e:e&&e.getDOMNode()},Xi={},Yi=!0;function Ji(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.g.process&&Yi||t&&Xi[e]||(console.warn(e),Xi[e]=!0)}function $i(e){return"[object Date]"===Object.prototype.toString.call(e)?e.toDateString():e}var eo,to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},no=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function ro(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oo="linear",ao="ordinal",so="category",uo="literal",lo="time",co=(io(eo={},oo,Ht),io(eo,ao,(function(){return kt(St().paddingInner(1))})),io(eo,so,Et),io(eo,uo,ko),io(eo,"log",(function e(){var t=Dt(Gt,Wt).domain([1,10]),n=t.domain,r=10,i=Xt(10),o=qt(10);function a(){return i=Xt(r),o=qt(r),n()[0]<0&&(i=Yt(i),o=Yt(o)),t}return t.base=function(e){return arguments.length?(r=+e,a()):r},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=function(e){var t,a=n(),s=a[0],u=a[a.length-1];(t=u<s)&&(f=s,s=u,u=f);var l,c,A,f=i(s),h=i(u),p=null==e?10:+e,d=[];if(!(r%1)&&h-f<p){if(f=Math.round(f)-1,h=Math.round(h)+1,s>0){for(;f<h;++f)for(c=1,l=o(f);c<r;++c)if(!((A=l*c)<s)){if(A>u)break;d.push(A)}}else for(;f<h;++f)for(c=r-1,l=o(f);c>=1;--c)if(!((A=l*c)<s)){if(A>u)break;d.push(A)}}else d=ot(f,h,Math.min(h-f,p)).map(o);return t?d.reverse():d},t.tickFormat=function(e,n){if(null==n&&(n=10===r?".0e":","),"function"!==typeof n&&(n=(0,jt.WU)(n)),e===1/0)return n;null==e&&(e=10);var a=Math.max(1,r*e/t.ticks().length);return function(e){var t=e/o(Math.round(i(e)));return t*r<r-.5&&(t*=r),t<=a?n(e):""}},t.nice=function(){return n(Vt(n(),{floor:function(e){return o(Math.floor(i(e)))},ceil:function(e){return o(Math.ceil(i(e)))}}))},t.copy=function(){return Rt(t,e().base(r))},t})),io(eo,lo,(function(){return _i(an,un,dn,xn,Bn,Sn,On,Pn,Kn).domain([new Date(2e3,0,1),new Date(2e3,0,2)])})),io(eo,"time-utc",(function(){return _i(Qn,xi,Fn,Nn,Bi,Si,On,Pn,qn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])})),eo),Ao=["color","fill","opacity","stroke"];function fo(e){return""+e[0].toUpperCase()+e.slice(1)}function ho(e){if(!e)return null;var t=e.type,n=e.domain,r=e.range,i=n[0]===n[1]?0===n[0]?[-1,0]:[-n[0],n[0]]:n;if(t===uo)return ko(r[0]);var o=co[t]().domain(i).range(r);return t===ao&&(o.padding(.5),function(e){e.invert||(e.invert=function(t){var n=e.range(),r=no(n,2),i=r[0],o=r[1],a=Math.min(i,o),s=Math.max(i,o);if(t<a+e.padding()*e.step())return e.domain()[0];if(t>s-e.padding()*e.step())return e.domain()[e.domain().length-1];var u=Math.floor((t-a-e.padding()*e.step())/e.step());return e.domain()[u]})}(o)),o}function po(e,t,n,r){var i=void 0,o=e.reduce((function(e,r){var i=t(r),o=n(r);return _o(i)&&e.push(i),_o(o)&&e.push(o),e}),[]);return o.length?(i=r!==ao&&r!==so?function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}(o):_t(o).values(),i):[]}function go(e,t,n,r,i){return n===uo?{type:uo,domain:[],range:[t],distance:0,attr:e,baseValue:void 0,isValue:!0,accessor:r,accessor0:i}:"undefined"===typeof t?null:{type:so,range:[t],domain:[],distance:0,attr:e,baseValue:void 0,isValue:!0,accessor:r,accessor0:i}}function vo(e,t){var n=t.domain,r=t.type,i=t.accessor,o=t.accessor0,a=function(e,t){var n=new Set(e.map(t));return Array.from(n)}(e,i),s=function(e,t,n,r){return r===lo&&1===t.length?[n(e[0])].concat(ro(t)):t}(e,a,o,r),u=function(e,t){var n=ho(t),r=0;if(n)for(var i=void 0,o=n(e[0]),a=1/0,s=void 0,u=1;u<e.length;u++)i=n(e[u]),(s=Math.abs(i-o))<a&&(a=s,r=u),o=i;return r}(s,t),l=[].concat(n);l[0]-=function(e){return e.length>1?(e[1]-e[0])/2:1===e.length?e[0]-.5:0}(s),l[n.length-1]+=function(e){return e.length>1?(e[e.length-1]-e[e.length-2])/2:1===e.length?e[0]-.5:0}(s),"log"===r&&n[0]<=0&&(l[0]=Math.min(n[1]/10,1));var c=function(e,t,n,r){if(e.length>1){var i=Math.max(n,1);return Math.abs(r(e[i])-r(e[i-1]))}return 1===e.length?Math.abs(r(t[1])-r(t[0])):0}(s,l,u,ho(to({},t,{domain:l})));return{domain0:l[0],domainN:l[l.length-1],distance:c}}function yo(e,t){var n=function(e,t){var n,r=e[t],i=e["_"+t+"Value"],o=e[t+"Range"],a=e[t+"Distance"],s=void 0===a?0:a,u=e[t+"BaseValue"],l=e[t+"Type"],c=void 0===l?oo:l,A=e[t+"NoFallBack"],f=e["get"+fo(t)],h=void 0===f?function(e){return e[t]}:f,p=e["get"+fo(t)+"0"],d=void 0===p?function(e){return e[t+"0"]}:p,g=e[t+"Domain"];return A||"undefined"===typeof r?("undefined"!==typeof u&&(g=function(e,t){var n=[].concat(e);return n[0]>t&&(n[0]=t),n[n.length-1]<t&&(n[n.length-1]=t),n}(g,u)),o&&g&&g.length?{domain:(n={domain:g,range:o,type:c,distance:s,attr:t,baseValue:u,accessor:h,accessor0:d}).domain,range:n.range,type:n.type,distance:n.distance,attr:n.attr,baseValue:n.baseValue,isValue:!1,accessor:n.accessor,accessor0:n.accessor0}:go(t,i,e[t+"Type"],h,d)):go(t,r,e[t+"Type"],h,d)}(e,t);if(!n)return null;if(!function(e,t){var n=t.attr,r=e._adjustBy,i=void 0===r?[]:r,o=e._adjustWhat;return(void 0===o?[]:o).length&&i.length&&-1!==i.indexOf(n)}(e,n))return n;var r=n.type;return r===ao||r===so?function(e){var t=ho(e),n=e.domain,r=e.range;return n.length>1?e.distance=Math.abs(t(n[1])-t(n[0])):e.distance=Math.abs(r[1]-r[0]),e}(n):function(e,t){var n=e._allData,r=e._adjustWhat,i=void 0===r?[]:r,o=t.domain.length,a=t.domain,s=a[0],u=a[o-1],l=t.distance;return n.forEach((function(e,n){if(-1!==i.indexOf(n)&&e&&e.length){var r=vo(e,t),o=r.domain0,a=r.domainN,c=r.distance;s=Math.min(s,o),u=Math.max(u,a),l=Math.max(l,c)}})),t.domain=[s].concat(ro(a.slice(1,-1)),[u]),t.distance=l,t}(e,n)}function mo(e,t){return ho(yo(e,t))}function bo(e,t){return t(e.data?e.data:e)}function _o(e){return"undefined"!==typeof e}function wo(e,t){var n=yo(e,t);if(n){var r=ho(n);return function(e){return r(bo(e,n.accessor))}}return null}function xo(e,t){var n=yo(e,t);if(n){var r=n.domain,i=n.baseValue,o=void 0===i?r[0]:i,a=ho(n);return function(e){var t=bo(e,n.accessor0);return a(_o(t)?t:o)}}return null}function Co(e,t){var n=yo(e,t);return n?(n.isValue||void 0!==e["_"+t+"Value"]||Ji("[React-vis] Cannot use data defined "+t+" for this series type. Using fallback value instead."),e["_"+t+"Value"]||n.range[0]):null}function Bo(e){var t;return io(t={},"_"+e+"Value",o().any),io(t,e+"Domain",o().array),io(t,"get"+fo(e),o().func),io(t,"get"+fo(e)+"0",o().func),io(t,e+"Range",o().array),io(t,e+"Type",o().oneOf(Object.keys(co))),io(t,e+"Distance",o().number),io(t,e+"BaseValue",o().any),t}function Eo(e,t){var n={};return Object.keys(e).forEach((function(r){var i=t.find((function(e){var t=0===r.indexOf(e),n=0===r.indexOf("_"+e),i=0===r.indexOf("get"+fo(e));return t||n||i}));i&&(n[r]=e[r])})),n}function So(e,t,n){var r={};return n.forEach((function(n){e["get"+fo(n)]||(r["get"+fo(n)]=function(e){return e[n]}),e["get"+fo(n)+"0"]||(r["get"+fo(n)+"0"]=function(e){return e[n+"0"]}),e[n+"Domain"]||(r[n+"Domain"]=po(t,e["get"+fo(n)]||r["get"+fo(n)],e["get"+fo(n)+"0"]||r["get"+fo(n)+"0"],e[n+"Type"]),e[n+"Padding"]&&(r[n+"Domain"]=function(e,t){if(!e)return e;if(isNaN(parseFloat(e[0]))||isNaN(parseFloat(e[1])))return e;var n=no(e,2),r=n[0],i=n[1],o=.01*t*(i-r);return[r-o,i+o]}(r[n+"Domain"],e[n+"Padding"])))})),r}function ko(e){function t(t){return void 0===t?e:t}function n(){return t}return t.domain=n,t.range=n,t.unknown=n,t.copy=n,t}function Oo(e){return e?we(e).l>.57?"#222":"#fff":null}function To(e,t){var n=Ao.reduce((function(t,n){var r=e[n+"Domain"],i=e[n+"Range"],o=e[n+"Type"];return r&&i&&o?to({},t,io({},n,co[o]().domain(r).range(i))):t}),{});return t.map((function(e){return Ao.reduce((function(t,r){if(e.props&&void 0!==e.props[r]){var i=e.props[r],o=n[r],a=o?o(i):i;return to({},t,io({},"_"+r+"Value",a))}return t}),{})}))}var Po=["Padding"].map((function(e){return new RegExp(e+"$","i")}));function Mo(e){return Object.keys(e).reduce((function(t,n){return Po.every((function(e){return!n.match(e)}))||(t[n]=e[n]),t}),{})}var Fo={extractScalePropsFromProps:Eo,getAttributeScale:mo,getAttributeFunctor:wo,getAttr0Functor:xo,getAttributeValue:Co,getDomainByAccessor:po,getFontColorFromBackground:Oo,getMissingScaleProps:So,getOptionalScaleProps:Mo,getScaleObjectFromProps:yo,getScalePropTypesByAttribute:Bo,getXYPlotValues:To,literalScale:ko},Io=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Do(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Zo=Lo({},Bo("x"),Bo("y"),Bo("size"),Bo("opacity"),Bo("color"),{width:o().number,height:o().number,data:o().arrayOf(o().oneOfType([o().object,o().array])),onValueMouseOver:o().func,onValueMouseOut:o().func,onValueClick:o().func,onValueRightClick:o().func,onSeriesMouseOver:o().func,onSeriesMouseOut:o().func,onSeriesClick:o().func,onSeriesRightClick:o().func,onNearestX:o().func,onNearestXY:o().func,style:o().object,animation:qe,stack:o().bool}),Uo=function(e){function t(){var e,n,r;Ro(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Do(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._seriesClickHandler=function(e){var t=r.props.onSeriesClick;t&&t({event:e})},r._seriesMouseOutHandler=function(e){var t=r.props.onSeriesMouseOut;t&&t({event:e})},r._seriesMouseOverHandler=function(e){var t=r.props.onSeriesMouseOver;t&&t({event:e})},r._seriesRightClickHandler=function(e){var t=r.props.onSeriesRightClick;t&&t({event:e})},r._valueClickHandler=function(e,t){var n=r.props,i=n.onValueClick,o=n.onSeriesClick;i&&i(e,{event:t}),o&&o({event:t})},r._valueMouseOutHandler=function(e,t){var n=r.props,i=n.onValueMouseOut,o=n.onSeriesMouseOut;i&&i(e,{event:t}),o&&o({event:t})},r._valueMouseOverHandler=function(e,t){var n=r.props,i=n.onValueMouseOver,o=n.onSeriesMouseOver;i&&i(e,{event:t}),o&&o({event:t})},r._valueRightClickHandler=function(e,t){var n=r.props,i=n.onValueRightClick,o=n.onSeriesRightClick;i&&i(e,{event:t}),o&&o({event:t})},Do(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Io(t,[{key:"onParentMouseMove",value:function(e){var t=this.props,n=t.onNearestX,r=t.onNearestXY,i=t.data;(n||r)&&i&&(r?this._handleNearestXY(e):this._handleNearestX(e))}},{key:"onParentTouchMove",value:function(e){e.preventDefault(),this.onParentMouseMove(e)}},{key:"onParentTouchStart",value:function(e){e.preventDefault()}},{key:"_getAttr0Functor",value:function(e){return xo(this.props,e)}},{key:"_getAttributeFunctor",value:function(e){return wo(this.props,e)}},{key:"_getAttributeValue",value:function(e){return Co(this.props,e)}},{key:"_getScaleDistance",value:function(e){var t=yo(this.props,e);return t?t.distance:0}},{key:"_getXYCoordinateInContainer",value:function(e){var t=this.props,n=t.marginTop,r=void 0===n?0:n,i=t.marginLeft,o=void 0===i?0:i,a=e.nativeEvent,s=e.currentTarget,u=s.getBoundingClientRect(),l=a.clientX,c=a.clientY;return"touchmove"===a.type&&(l=a.touches[0].pageX,c=a.touches[0].pageY),{x:l-u.left-s.clientLeft-o,y:c-u.top-s.clientTop-r}}},{key:"_handleNearestX",value:function(e){var t=this.props,n=t.onNearestX,r=t.data,i=Number.POSITIVE_INFINITY,o=null,a=null,s=this._getXYCoordinateInContainer(e),u=this._getAttributeFunctor("x");r.forEach((function(e,t){var n=u(e),r=Math.abs(s.x-n);r<i&&(i=r,o=e,a=t)})),o&&n(o,{innerX:u(o),index:a,event:e.nativeEvent})}},{key:"_handleNearestXY",value:function(e){var t=this.props,n=t.onNearestXY,r=t.data,i=this._getXYCoordinateInContainer(e),o=this._getAttributeFunctor("x"),a=this._getAttributeFunctor("y"),s=V().x(o).y(a)(r).find(i.x,i.y),u=s.data;u&&n(u,{innerX:s[0],innerY:s[1],index:s.index,event:e.nativeEvent})}}],[{key:"getParentConfig",value:function(){return{}}},{key:"requiresSVG",get:function(){return!0}}]),t}(G.PureComponent);Uo.displayName="AbstractSeries",Uo.propTypes=Zo,Uo.defaultProps={className:"",stack:!1,style:{}};var jo=Uo,No=["#12939A","#79C7E3","#1A3177","#FF9833","#EF5D28"],zo=["#19CDD7","#DDB27C","#88572C","#FF991F","#F15C17","#223F9A","#DA70BF","#125C77","#4DC19C","#776E57","#12939A","#17B8BE","#F6D18A","#B7885E","#FFCB99","#F89570","#829AE3","#E79FD5","#1E96BE","#89DAC1","#B3AD9E"],Qo=["#EF5D28","#FF9833"],Ho=[1,10],Vo="literal",Go=No[0],Wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qo(e){return e.type.prototype instanceof jo}function Xo(e){return G.Children.toArray(e).filter((function(e){return e&&qo(e)}))}function Yo(e,t){var n=e.some((function(e){return e&&e.props.stack})),r={};return e.reduce((function(e,i,o){if(!i)return e.push(null),e;var a=i.type.displayName,s=i.props,u=s.data,l=s.cluster,c=void 0===l?"default":l,A=s.stack,f=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!e&&e.some((function(e){return e.radius&&e.angle}))}(e)?e.map((function(e){return Wo({},e,{x:e.radius*Math.cos(e.angle),y:e.radius*Math.sin(e.angle)})})):e}(u);if(!t||!f||!f.length||n&&!A)return e.push(f),e;var h=t+"0",p="y"===t?"x":"y";return e.push(f.map((function(e,n){var i,o;r[c]||(r[c]={}),r[c][a]||(r[c][a]={});var s,u=r[c][a][e[p]];if(!u)return r[c][a][e[p]]=(Ko(s={},h,e[h]),Ko(s,t,e[t]),s),Wo({},e);var l=Wo({},e,(Ko(i={},h,u[t]),Ko(i,t,u[t]+e[t]-(e[h]||0)),i));return r[c][a][e[p]]=(Ko(o={},h,l[h]),Ko(o,t,l[t]),o),l}))),e}),[])}function Jo(e){var t=[],n=function(e){var t={};return e.filter(qo).forEach((function(e){var n=e.type.displayName,r=e.props.cluster;t[n]||(t[n]={sameTypeTotal:0,sameTypeIndex:0,clusters:new Set}),t[n].clusters.add(r),t[n].sameTypeTotal++})),t}(e),r=0;return e.forEach((function(e){var i=void 0;if(qo(e)){var o=n[e.type.displayName];i=Wo({},o,{seriesIndex:r,_colorValue:No[r%No.length],_opacityValue:1}),o.sameTypeIndex++,r++,e.props.cluster&&(i.cluster=e.props.cluster,i.clusters=Array.from(o.clusters),i.sameTypeTotal=i.clusters.length,i.sameTypeIndex=i.clusters.indexOf(e.props.cluster))}t.push(i)})),t}function $o(e){return e.reduce((function(e,t){return Math.max(t.radius,e)}),0)}var ea=["xRange","xDomain","x","yRange","yDomain","y","colorRange","colorDomain","color","opacityRange","opacityDomain","opacity","strokeRange","strokeDomain","stroke","fillRange","fillDomain","fill","width","height","marginLeft","marginTop","marginRight","marginBottom","data","angleDomain","angleRange","angle","radiusDomain","radiusRange","radius","innerRadiusDomain","innerRadiusRange","innerRadius"];function ta(e){var t=e._stackBy,n=e.valuePosAttr,r=e.cluster,i=e.sameTypeTotal,o=void 0===i?1:i,a=e.sameTypeIndex,s=void 0===a?0:a;return t!==n||r||(o=1,s=0),{sameTypeTotal:o,sameTypeIndex:s}}var na=Math.PI,ra=2*na,ia=1e-6,oa=ra-ia;function aa(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function sa(){return new aa}aa.prototype=sa.prototype={constructor:aa,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,u=r-t,l=o-e,c=a-t,A=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(A>ia)if(Math.abs(c*s-u*l)>ia&&i){var f=n-o,h=r-a,p=s*s+u*u,d=f*f+h*h,g=Math.sqrt(p),v=Math.sqrt(A),y=i*Math.tan((na-Math.acos((p+A-d)/(2*g*v)))/2),m=y/v,b=y/g;Math.abs(m-1)>ia&&(this._+="L"+(e+m*l)+","+(t+m*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*h)+","+(this._x1=e+b*s)+","+(this._y1=t+b*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+a,l=t+s,c=1^o,A=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>ia||Math.abs(this._y1-l)>ia)&&(this._+="L"+u+","+l),n&&(A<0&&(A=A%ra+ra),A>oa?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):A>ia&&(this._+="A"+n+","+n+",0,"+ +(A>=na)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var ua=sa;function la(e){return function(){return e}}var ca=Math.abs,Aa=Math.atan2,fa=Math.cos,ha=Math.max,pa=Math.min,da=Math.sin,ga=Math.sqrt,va=1e-12,ya=Math.PI,ma=ya/2,ba=2*ya;function _a(e){return e>1?0:e<-1?ya:Math.acos(e)}function wa(e){return e>=1?ma:e<=-1?-ma:Math.asin(e)}function xa(e){return e.innerRadius}function Ca(e){return e.outerRadius}function Ba(e){return e.startAngle}function Ea(e){return e.endAngle}function Sa(e){return e&&e.padAngle}function ka(e,t,n,r,i,o,a,s){var u=n-e,l=r-t,c=a-i,A=s-o,f=A*u-c*l;if(!(f*f<va))return[e+(f=(c*(t-o)-A*(e-i))/f)*u,t+f*l]}function Oa(e,t,n,r,i,o,a){var s=e-n,u=t-r,l=(a?o:-o)/ga(s*s+u*u),c=l*u,A=-l*s,f=e+c,h=t+A,p=n+c,d=r+A,g=(f+p)/2,v=(h+d)/2,y=p-f,m=d-h,b=y*y+m*m,_=i-o,w=f*d-p*h,x=(m<0?-1:1)*ga(ha(0,_*_*b-w*w)),C=(w*m-y*x)/b,B=(-w*y-m*x)/b,E=(w*m+y*x)/b,S=(-w*y+m*x)/b,k=C-g,O=B-v,T=E-g,P=S-v;return k*k+O*O>T*T+P*P&&(C=E,B=S),{cx:C,cy:B,x01:-c,y01:-A,x11:C*(i/_-1),y11:B*(i/_-1)}}function Ta(){var e=xa,t=Ca,n=la(0),r=null,i=Ba,o=Ea,a=Sa,s=null;function u(){var u,l,c=+e.apply(this,arguments),A=+t.apply(this,arguments),f=i.apply(this,arguments)-ma,h=o.apply(this,arguments)-ma,p=ca(h-f),d=h>f;if(s||(s=u=ua()),A<c&&(l=A,A=c,c=l),A>va)if(p>ba-va)s.moveTo(A*fa(f),A*da(f)),s.arc(0,0,A,f,h,!d),c>va&&(s.moveTo(c*fa(h),c*da(h)),s.arc(0,0,c,h,f,d));else{var g,v,y=f,m=h,b=f,_=h,w=p,x=p,C=a.apply(this,arguments)/2,B=C>va&&(r?+r.apply(this,arguments):ga(c*c+A*A)),E=pa(ca(A-c)/2,+n.apply(this,arguments)),S=E,k=E;if(B>va){var O=wa(B/c*da(C)),T=wa(B/A*da(C));(w-=2*O)>va?(b+=O*=d?1:-1,_-=O):(w=0,b=_=(f+h)/2),(x-=2*T)>va?(y+=T*=d?1:-1,m-=T):(x=0,y=m=(f+h)/2)}var P=A*fa(y),M=A*da(y),F=c*fa(_),I=c*da(_);if(E>va){var L,R=A*fa(m),D=A*da(m),Z=c*fa(b),U=c*da(b);if(p<ya&&(L=ka(P,M,Z,U,R,D,F,I))){var j=P-L[0],N=M-L[1],z=R-L[0],Q=D-L[1],H=1/da(_a((j*z+N*Q)/(ga(j*j+N*N)*ga(z*z+Q*Q)))/2),V=ga(L[0]*L[0]+L[1]*L[1]);S=pa(E,(c-V)/(H-1)),k=pa(E,(A-V)/(H+1))}}x>va?k>va?(g=Oa(Z,U,P,M,A,k,d),v=Oa(R,D,F,I,A,k,d),s.moveTo(g.cx+g.x01,g.cy+g.y01),k<E?s.arc(g.cx,g.cy,k,Aa(g.y01,g.x01),Aa(v.y01,v.x01),!d):(s.arc(g.cx,g.cy,k,Aa(g.y01,g.x01),Aa(g.y11,g.x11),!d),s.arc(0,0,A,Aa(g.cy+g.y11,g.cx+g.x11),Aa(v.cy+v.y11,v.cx+v.x11),!d),s.arc(v.cx,v.cy,k,Aa(v.y11,v.x11),Aa(v.y01,v.x01),!d))):(s.moveTo(P,M),s.arc(0,0,A,y,m,!d)):s.moveTo(P,M),c>va&&w>va?S>va?(g=Oa(F,I,R,D,c,-S,d),v=Oa(P,M,Z,U,c,-S,d),s.lineTo(g.cx+g.x01,g.cy+g.y01),S<E?s.arc(g.cx,g.cy,S,Aa(g.y01,g.x01),Aa(v.y01,v.x01),!d):(s.arc(g.cx,g.cy,S,Aa(g.y01,g.x01),Aa(g.y11,g.x11),!d),s.arc(0,0,c,Aa(g.cy+g.y11,g.cx+g.x11),Aa(v.cy+v.y11,v.cx+v.x11),d),s.arc(v.cx,v.cy,S,Aa(v.y11,v.x11),Aa(v.y01,v.x01),!d))):s.arc(0,0,c,_,b,d):s.lineTo(F,I)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-ya/2;return[fa(r)*n,da(r)*n]},u.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:la(+t),u):e},u.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:la(+e),u):t},u.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:la(+e),u):n},u.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:la(+e),u):r},u.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:la(+e),u):i},u.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:la(+e),u):o},u.padAngle=function(e){return arguments.length?(a="function"===typeof e?e:la(+e),u):a},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u}var Pa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Fa="rv-xy-plot__series rv-xy-plot__series--arc",Ia=["radius","angle"],La=Ma({},jo.defaultProps,{center:{x:0,y:0},arcClassName:"",className:"",style:{},padAngle:0});function Ra(e){var t=e.radius,n=e.angle,r=e.angle0,i=-1*n+Math.PI/2,o=-1*r+Math.PI/2;return Ma({},e,{x:t*Math.cos(i),y:t*Math.sin(i),angle:i,angle0:o})}var Da=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n._getAllScaleProps(e);return n.state={scaleProps:r},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Pa(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({scaleProps:this._getAllScaleProps(e)})}},{key:"_getAllScaleProps",value:function(e){var t=this._getDefaultScaleProps(e),n=Eo(e,Ia),r=So(Ma({},t,n),e.data,Ia);return Ma({},t,n,r)}},{key:"_getDefaultScaleProps",value:function(e){var t=e.innerWidth,n=e.innerHeight,r=Math.min(t/2,n/2);return{radiusRange:[0,r],_radiusValue:r,angleType:"literal"}}},{key:"render",value:function(){var e=this,n=this.props,r=n.arcClassName,i=n.animation,o=n.className,a=n.center,s=n.data,u=n.disableSeries,l=n.hideSeries,c=n.marginLeft,A=n.marginTop,f=n.padAngle,h=n.style;if(!s)return null;if(i){var p=s.map((function(e){return Ma({},e)}));return G.createElement("g",{className:"rv-xy-plot__series--arc__animation-wrapper"},G.createElement(Ke,Ma({},this.props,{animatedProps:ea,data:p}),G.createElement(t,Ma({},this.props,{animation:null,disableSeries:!0,data:p}))),G.createElement(t,Ma({},this.props,{animation:null,hideSeries:!0,style:{stroke:"red"}})))}var d=this.state.scaleProps,g=d.radiusDomain,v=wo(d,"radius"),y=xo(d,"radius"),m=wo(d,"angle"),b=xo(d,"angle"),_=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),w=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),x=this._getAttributeFunctor("opacity"),C=this._getAttributeFunctor("x"),B=this._getAttributeFunctor("y");return G.createElement("g",{className:Fa+" "+o,onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,opacity:l?0:1,pointerEvents:u?"none":"all",transform:"translate("+(c+C(a))+","+(A+B(a))+")"},s.map((function(t,n){var i={innerRadius:g[1]===g[0]?0:y(t),outerRadius:v(t),startAngle:b(t)||0,endAngle:m(t)},o=Ta().padAngle(f),a=t.style||{},s=t.className||"";return G.createElement("path",{style:Ma({opacity:x&&x(t),stroke:w&&w(t),fill:_&&_(t)},h,a),onClick:function(n){return e._valueClickHandler(Ra(t),n)},onContextMenu:function(n){return e._valueRightClickHandler(Ra(t),n)},onMouseOver:function(n){return e._valueMouseOverHandler(Ra(t),n)},onMouseOut:function(n){return e._valueMouseOutHandler(Ra(t),n)},key:n,className:Fa+"-path "+r+" "+s,d:o(i)})})))}}]),t}(jo);Da.propTypes=Ma({},jo.propTypes,Bo("radius"),Bo("angle"),{center:o().shape({x:o().number,y:o().number}),arcClassName:o().string,padAngle:o().oneOfType([o().func,o().number])}),Da.defaultProps=La,Da.displayName="ArcSeries";var Za=Da;function Ua(e){this._context=e}function ja(e){return new Ua(e)}function Na(e){return e[0]}function za(e){return e[1]}function Qa(){var e=Na,t=za,n=la(!0),r=null,i=ja,o=null;function a(a){var s,u,l,c=a.length,A=!1;for(null==r&&(o=i(l=ua())),s=0;s<=c;++s)!(s<c&&n(u=a[s],s,a))===A&&((A=!A)?o.lineStart():o.lineEnd()),A&&o.point(+e(u,s,a),+t(u,s,a));if(l)return o=null,l+""||null}return a.x=function(t){return arguments.length?(e="function"===typeof t?t:la(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:la(+e),a):t},a.defined=function(e){return arguments.length?(n="function"===typeof e?e:la(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}function Ha(){var e=Na,t=null,n=la(0),r=za,i=la(!0),o=null,a=ja,s=null;function u(u){var l,c,A,f,h,p=u.length,d=!1,g=new Array(p),v=new Array(p);for(null==o&&(s=a(h=ua())),l=0;l<=p;++l){if(!(l<p&&i(f=u[l],l,u))===d)if(d=!d)c=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),A=l-1;A>=c;--A)s.point(g[A],v[A]);s.lineEnd(),s.areaEnd()}d&&(g[l]=+e(f,l,u),v[l]=+n(f,l,u),s.point(t?+t(f,l,u):g[l],r?+r(f,l,u):v[l]))}if(h)return s=null,h+""||null}function l(){return Qa().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(e="function"===typeof n?n:la(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:la(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:la(+e),u):t},u.y=function(e){return arguments.length?(n="function"===typeof e?e:la(+e),r=null,u):n},u.y0=function(e){return arguments.length?(n="function"===typeof e?e:la(+e),u):n},u.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:la(+e),u):r},u.lineX0=u.lineY0=function(){return l().x(e).y(n)},u.lineY1=function(){return l().x(e).y(r)},u.lineX1=function(){return l().x(t).y(n)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:la(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u}function Va(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Ga(e){return e}function Wa(){var e=Ga,t=Va,n=null,r=la(0),i=la(ba),o=la(0);function a(a){var s,u,l,c,A,f=a.length,h=0,p=new Array(f),d=new Array(f),g=+r.apply(this,arguments),v=Math.min(ba,Math.max(-ba,i.apply(this,arguments)-g)),y=Math.min(Math.abs(v)/f,o.apply(this,arguments)),m=y*(v<0?-1:1);for(s=0;s<f;++s)(A=d[p[s]=s]=+e(a[s],s,a))>0&&(h+=A);for(null!=t?p.sort((function(e,n){return t(d[e],d[n])})):null!=n&&p.sort((function(e,t){return n(a[e],a[t])})),s=0,l=h?(v-f*m)/h:0;s<f;++s,g=c)u=p[s],c=g+((A=d[u])>0?A*l:0)+m,d[u]={data:a[u],index:s,value:A,startAngle:g,endAngle:c,padAngle:y};return d}return a.value=function(t){return arguments.length?(e="function"===typeof t?t:la(+t),a):e},a.sortValues=function(e){return arguments.length?(t=e,n=null,a):t},a.sort=function(e){return arguments.length?(n=e,t=null,a):n},a.startAngle=function(e){return arguments.length?(r="function"===typeof e?e:la(+e),a):r},a.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:la(+e),a):i},a.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:la(+e),a):o},a}Ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Ka=Xa(ja);function qa(e){this._curve=e}function Xa(e){function t(t){return new qa(e(t))}return t._curve=e,t}function Ya(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(Xa(e)):t()._curve},e}function Ja(){return Ya(Qa().curve(Ka))}function $a(){var e=Ha().curve(Ka),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Ya(n())},delete e.lineX0,e.lineEndAngle=function(){return Ya(r())},delete e.lineX1,e.lineInnerRadius=function(){return Ya(i())},delete e.lineY0,e.lineOuterRadius=function(){return Ya(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(Xa(e)):t()._curve},e}function es(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}qa.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var ts=Array.prototype.slice;function ns(e){return e.source}function rs(e){return e.target}function is(e){var t=ns,n=rs,r=Na,i=za,o=null;function a(){var a,s=ts.call(arguments),u=t.apply(this,s),l=n.apply(this,s);if(o||(o=a=ua()),e(o,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=l,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(e){return arguments.length?(n=e,a):n},a.x=function(e){return arguments.length?(r="function"===typeof e?e:la(+e),a):r},a.y=function(e){return arguments.length?(i="function"===typeof e?e:la(+e),a):i},a.context=function(e){return arguments.length?(o=null==e?null:e,a):o},a}function os(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function as(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function ss(e,t,n,r,i){var o=es(t,n),a=es(t,n=(n+i)/2),s=es(r,n),u=es(r,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function us(){return is(os)}function ls(){return is(as)}function cs(){var e=is(ss);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var As={draw:function(e,t){var n=Math.sqrt(t/ya);e.moveTo(n,0),e.arc(0,0,n,0,ba)}},fs={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},hs=Math.sqrt(1/3),ps=2*hs,ds={draw:function(e,t){var n=Math.sqrt(t/ps),r=n*hs;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},gs=Math.sin(ya/10)/Math.sin(7*ya/10),vs=Math.sin(ba/10)*gs,ys=-Math.cos(ba/10)*gs,ms={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=vs*n,i=ys*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=ba*o/5,s=Math.cos(a),u=Math.sin(a);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*i,u*r+s*i)}e.closePath()}},bs={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},_s=Math.sqrt(3),ws={draw:function(e,t){var n=-Math.sqrt(t/(3*_s));e.moveTo(0,2*n),e.lineTo(-_s*n,-n),e.lineTo(_s*n,-n),e.closePath()}},xs=-.5,Cs=Math.sqrt(3)/2,Bs=1/Math.sqrt(12),Es=3*(Bs/2+1),Ss={draw:function(e,t){var n=Math.sqrt(t/Es),r=n/2,i=n*Bs,o=r,a=n*Bs+n,s=-o,u=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,u),e.lineTo(xs*r-Cs*i,Cs*r+xs*i),e.lineTo(xs*o-Cs*a,Cs*o+xs*a),e.lineTo(xs*s-Cs*u,Cs*s+xs*u),e.lineTo(xs*r+Cs*i,xs*i-Cs*r),e.lineTo(xs*o+Cs*a,xs*a-Cs*o),e.lineTo(xs*s+Cs*u,xs*u-Cs*s),e.closePath()}},ks=[As,fs,ds,bs,ms,ws,Ss];function Os(){var e=la(As),t=la(64),n=null;function r(){var r;if(n||(n=r=ua()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"===typeof t?t:la(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:la(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}function Ts(){}function Ps(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ms(e){this._context=e}function Fs(e){return new Ms(e)}function Is(e){this._context=e}function Ls(e){return new Is(e)}function Rs(e){this._context=e}function Ds(e){return new Rs(e)}function Zs(e,t){this._basis=new Ms(e),this._beta=t}Ms.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ps(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ps(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Is.prototype={areaStart:Ts,areaEnd:Ts,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ps(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Rs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ps(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Zs.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*a),this._beta*t[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Us=function e(t){function n(e){return 1===t?new Ms(e):new Zs(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function js(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Ns(e,t){this._context=e,this._k=(1-t)/6}Ns.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:js(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:js(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var zs=function e(t){function n(e){return new Ns(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Qs(e,t){this._context=e,this._k=(1-t)/6}Qs.prototype={areaStart:Ts,areaEnd:Ts,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:js(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Hs=function e(t){function n(e){return new Qs(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Vs(e,t){this._context=e,this._k=(1-t)/6}Vs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:js(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Gs=function e(t){function n(e){return new Vs(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ws(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>va){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>va){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Ks(e,t){this._context=e,this._alpha=t}Ks.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ws(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var qs=function e(t){function n(e){return t?new Ks(e,t):new Ns(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Xs(e,t){this._context=e,this._alpha=t}Xs.prototype={areaStart:Ts,areaEnd:Ts,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ws(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ys=function e(t){function n(e){return t?new Xs(e,t):new Qs(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Js(e,t){this._context=e,this._alpha=t}Js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ws(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var $s=function e(t){function n(e){return t?new Js(e,t):new Vs(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function eu(e){this._context=e}function tu(e){return new eu(e)}function nu(e){return e<0?-1:1}function ru(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(nu(o)+nu(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function iu(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ou(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function au(e){this._context=e}function su(e){this._context=new uu(e)}function uu(e){this._context=e}function lu(e){return new au(e)}function cu(e){return new su(e)}function Au(e){this._context=e}function fu(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function hu(e){return new Au(e)}function pu(e,t){this._context=e,this._t=t}function du(e){return new pu(e,.5)}function gu(e){return new pu(e,0)}function vu(e){return new pu(e,1)}function yu(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function mu(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function bu(e,t){return e[t]}function _u(){var e=la([]),t=mu,n=yu,r=bu;function i(i){var o,a,s=e.apply(this,arguments),u=i.length,l=s.length,c=new Array(l);for(o=0;o<l;++o){for(var A,f=s[o],h=c[o]=new Array(u),p=0;p<u;++p)h[p]=A=[0,+r(i[p],f,p,i)],A.data=i[p];h.key=f}for(o=0,a=t(c);o<l;++o)c[a[o]].index=o;return n(c,a),c}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:la(ts.call(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:la(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?mu:"function"===typeof e?e:la(ts.call(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?yu:e,i):n},i}function wu(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}yu(e,t)}}function xu(e,t){if((s=e.length)>0)for(var n,r,i,o,a,s,u=0,l=e[t[0]].length;u<l;++u)for(o=a=0,n=0;n<s;++n)(i=(r=e[t[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function Cu(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}yu(e,t)}}function Bu(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,l=0;s<i;++s){for(var c=e[t[s]],A=c[a][1]||0,f=(A-(c[a-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[a][1]||0)-(p[a-1][1]||0)}u+=A,l+=f*A}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,yu(e,t)}}function Eu(e){var t=e.map(Su);return mu(e).sort((function(e,n){return t[e]-t[n]}))}function Su(e){for(var t,n=-1,r=0,i=e.length,o=-1/0;++n<i;)(t=+e[n][1])>o&&(o=t,r=n);return r}function ku(e){var t=e.map(Ou);return mu(e).sort((function(e,n){return t[e]-t[n]}))}function Ou(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}function Tu(e){return ku(e).reverse()}function Pu(e){var t,n,r=e.length,i=e.map(Ou),o=Eu(e),a=0,s=0,u=[],l=[];for(t=0;t<r;++t)n=o[t],a<s?(a+=i[n],u.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(u)}function Mu(e){return mu(e).reverse()}eu.prototype={areaStart:Ts,areaEnd:Ts,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},au.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ou(this,this._t0,iu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ou(this,iu(this,n=ru(this,e,t)),n);break;default:ou(this,this._t0,n=ru(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(su.prototype=Object.create(au.prototype)).point=function(e,t){au.prototype.point.call(this,t,e)},uu.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Au.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=fu(e),i=fu(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Fu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Lu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ru(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Du=function(e){function t(){return Lu(this,t),Ru(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Iu(t,[{key:"_renderArea",value:function(e,t,n,i,o,a){var s=Ha();return null!==o&&("string"===typeof o&&r[o]?s=s.curve(r[o]):"function"===typeof o&&(s=s.curve(o))),(s=(s=s.defined(a)).x(t).y0(n).y1(i))(e)}},{key:"render",value:function(){var e=this.props,n=e.animation,r=e.className,i=e.curve,o=e.data,a=e.marginLeft,s=e.marginTop,u=e.style;if(this.props.nullAccessor&&Ji("nullAccessor has been renamed to getNull",!0),!o)return null;if(n)return G.createElement(Ke,Fu({},this.props,{animatedProps:ea}),G.createElement(t,Fu({},this.props,{animation:null})));var l=this._getAttributeFunctor("x"),c=this._getAttributeFunctor("y"),A=this._getAttr0Functor("y"),f=this._getAttributeValue("stroke")||this._getAttributeValue("color"),h=this._getAttributeValue("fill")||this._getAttributeValue("color"),p=this._getAttributeValue("opacity"),d=Number.isFinite(p)?p:1,g=this.props.nullAccessor||this.props.getNull,v=this._renderArea(o,l,A,c,i,g);return G.createElement("path",{d:v,className:"rv-xy-plot__series rv-xy-plot__series--line "+r,transform:"translate("+a+","+s+")",onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,style:Fu({opacity:d,stroke:f,fill:h},u)})}}]),t}(jo);Du.displayName="AreaSeries",Du.propTypes=Fu({},jo.propTypes,{getNull:o().func}),Du.defaultProps=Fu({},jo.defaultProps,{getNull:function(){return!0}});var Zu=Du,Uu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ju={style:o().shape({bottom:o().object,left:o().object,right:o().object,top:o().object}),marginTop:o().number,marginBottom:o().number,marginLeft:o().number,marginRight:o().number,innerWidth:o().number,innerHeight:o().number},Nu="rv-xy-plot__borders-bottom",zu="rv-xy-plot__borders",Qu="rv-xy-plot__borders-left",Hu="rv-xy-plot__borders-right",Vu="rv-xy-plot__borders-top";function Gu(e){var t=e.marginTop,n=e.marginBottom,r=e.marginLeft,i=e.marginRight,o=e.innerWidth,a=e.innerHeight,s=e.style,u=e.className,l=a+t+n,c=o+r+i;return G.createElement("g",{className:zu+" "+u},G.createElement("rect",{className:Nu+" "+u+"-bottom",style:Uu({},s.all,s.bottom),x:0,y:l-n,width:c,height:n}),G.createElement("rect",{className:Qu+" "+u+"-left",style:Uu({},s.all,s.left),x:0,y:0,width:r,height:l}),G.createElement("rect",{className:Hu+" "+u+"-right",style:Uu({},s.all,s.right),x:c-i,y:0,width:i,height:l}),G.createElement("rect",{className:Vu+" "+u+"-top",style:Uu({},s.all,s.top),x:0,y:0,width:c,height:t}))}Gu.displayName="Borders",Gu.defaultProps={className:"",style:{all:{},bottom:{},left:{},right:{},top:{}}},Gu.propTypes=ju,Gu.requiresSVG=!0;var Wu=Gu,Ku=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function qu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Yu=function(e){function t(){return qu(this,t),Xu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ku(t,[{key:"render",value:function(){var e=this.props,t=e.innerHeight,n=e.innerWidth,r=e.marginBottom,i=e.marginLeft,o=e.marginRight,a=e.marginTop,s=e.className,u=e.includeMargin,l=e.style,c=e.text,A=(n+(u?i+o:0))*e.xPercent+(u?0:i),f=(t+(u?a+r:0))*e.yPercent+(u?i:0);return G.createElement("g",{transform:"translate("+A+", "+f+")",className:"rv-xy-plot__axis__title "+s},G.createElement("text",l,c))}}],[{key:"requiresSVG",get:function(){return!0}}]),t}(G.PureComponent);Yu.displayName="ChartLabel",Yu.propTypes={className:o().string,includeMargin:o().bool,style:o().object,text:o().string.isRequired,xPercent:o().number.isRequired,yPercent:o().number.isRequired},Yu.defaultProps={className:"",includeMargin:!0,text:"",xPercent:0,yPercent:0,style:{}};var Ju=Yu,$u={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom",VERTICAL:"vertical",HORIZONTAL:"horizontal"},el={VERTICAL:"vertical",HORIZONTAL:"horizontal"};function tl(e){return e<700?e>300?10:5:20}function nl(e,t,n){return n||(e.ticks?e.ticks(t):e.domain())}var rl={DIRECTION:el,ORIENTATION:$u,getTicksTotalFromSize:tl,getTickValues:nl},il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ol=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function al(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ul=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickTotal"],ll=function(e){function t(){return al(this,t),sl(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ol(t,[{key:"_getDefaultProps",value:function(){var e=this.props,t=e.innerWidth,n=e.innerHeight,r=e.marginTop;return{left:e.marginLeft,top:r,width:t,height:n,style:{},tickTotal:tl(Math.min(t,n))}}},{key:"render",value:function(){var e=this.props,n=e.animation,r=e.centerX,i=e.centerY;if(n)return G.createElement(Ke,il({},this.props,{animatedProps:ul}),G.createElement(t,il({},this.props,{animation:null})));var o=il({},this._getDefaultProps(),this.props),a=o.tickTotal,s=o.tickValues,u=o.marginLeft,l=o.marginTop,c=o.rRange,A=o.style,f=mo(o,"x"),h=mo(o,"y"),p=nl(f,a,s);return G.createElement("g",{transform:"translate("+(f(r)+u)+","+(h(i)+l)+")",className:"rv-xy-plot__circular-grid-lines"},p.reduce((function(e,t,n){var r=f(t);return c&&(r<c[0]||r>c[1])?e:e.concat([G.createElement("circle",il({cx:0,cy:0,r:r},{key:n,className:"rv-xy-plot__circular-grid-lines__line",style:A}))])}),[]))}}]),t}(G.PureComponent);ll.displayName="CircularGridLines",ll.propTypes={centerX:o().number,centerY:o().number,width:o().number,height:o().number,top:o().number,left:o().number,rRange:o().arrayOf(o().number),style:o().object,tickValues:o().arrayOf(o().number),tickTotal:o().number,animation:qe,marginTop:o().number,marginBottom:o().number,marginLeft:o().number,marginRight:o().number,innerWidth:o().number,innerHeight:o().number},ll.defaultProps={centerX:0,centerY:0},ll.requiresSVG=!0;var cl=ll;function Al(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var fl=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Al(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}(Al);fl.right,fl.left;var hl=Array.prototype,pl=(hl.slice,hl.map,Math.sqrt(50)),dl=Math.sqrt(10),gl=Math.sqrt(2);function vl(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=pl?i*=10:o>=dl?i*=5:o>=gl&&(i*=2),t<e?-i:i}function yl(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function ml(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}var bl=Array.prototype.slice;function _l(e,t){return e-t}function wl(e){return function(){return e}}function xl(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=Cl(e,t[r]))return n;return 0}function Cl(e,t){for(var n=t[0],r=t[1],i=-1,o=0,a=e.length,s=a-1;o<a;s=o++){var u=e[o],l=u[0],c=u[1],A=e[s],f=A[0],h=A[1];if(Bl(u,A,t))return 0;c>r!==h>r&&n<(f-l)*(r-c)/(h-c)+l&&(i=-i)}return i}function Bl(e,t,n){var r,i,o,a;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],o=n[r],a=t[r],i<=o&&o<=a||a<=o&&o<=i)}function El(){}var Sl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function kl(){var e=1,t=1,n=yl,r=s;function i(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(_l);else{var r=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}(e),i=r[0],a=r[1];t=vl(i,a,t),t=ml(Math.floor(i/t)*t,Math.floor(a/t)*t,t)}return t.map((function(t){return o(e,t)}))}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,u,l,c,A,f=new Array,h=new Array;o=s=-1,l=n[0]>=r,Sl[l<<1].forEach(p);for(;++o<e-1;)u=l,l=n[o+1]>=r,Sl[u|l<<1].forEach(p);Sl[l<<0].forEach(p);for(;++s<t-1;){for(o=-1,l=n[s*e+e]>=r,c=n[s*e]>=r,Sl[l<<1|c<<2].forEach(p);++o<e-1;)u=l,l=n[s*e+e+o+1]>=r,A=c,c=n[s*e+o+1]>=r,Sl[u|l<<1|c<<2|A<<3].forEach(p);Sl[l|c<<3].forEach(p)}o=-1,c=n[s*e]>=r,Sl[c<<2].forEach(p);for(;++o<e-1;)A=c,c=n[s*e+o+1]>=r,Sl[c<<2|A<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+o,e[0][1]+s],u=[e[1][0]+o,e[1][1]+s],l=a(r),c=a(u);(t=h[l])?(n=f[c])?(delete h[t.end],delete f[n.start],t===n?(t.ring.push(u),i(t.ring)):f[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(u),h[t.end=c]=t):(t=f[c])?(n=h[l])?(delete f[t.start],delete h[n.end],t===n?(t.ring.push(u),i(t.ring)):f[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete f[t.start],t.ring.unshift(r),f[t.start=l]=t):f[l]=h[c]={start:l,end:c,ring:[r,u]}}Sl[c<<3].forEach(p)}(n,i,(function(e){r(e,n,i),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):s.push(e)})),s.forEach((function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==xl((t=o[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(t){return 2*t[0]+t[1]*(e+1)*4}function s(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],u=0|a,l=0|s,c=r[l*e+u];a>0&&a<e&&u===a&&(o=r[l*e+u-1],n[0]=a+(i-o)/(c-o)-.5),s>0&&s<t&&l===s&&(o=r[(l-1)*e+u],n[1]=s+(i-o)/(c-o)-.5)}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0)||!(o>0))throw new Error("invalid size");return e=r,t=o,i},i.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?wl(bl.call(e)):wl(e),i):n},i.smooth=function(e){return arguments.length?(r=e?s:El,i):r===s},i}function Ol(e,t,n){for(var r=e.width,i=e.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=e.data[s+a*r]),s>=n&&(s>=o&&(u-=e.data[s-o+a*r]),t.data[s-n+a*r]=u/Math.min(s+1,r-1+o-s,o))}function Tl(e,t,n){for(var r=e.width,i=e.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=e.data[a+s*r]),s>=n&&(s>=o&&(u-=e.data[a+(s-o)*r]),t.data[a+(s-n)*r]=u/Math.min(s+1,i-1+o-s,o))}function Pl(e){return e[0]}function Ml(e){return e[1]}function Fl(){return 1}function Il(e){return e}function Ll(e,t){e&&Dl.hasOwnProperty(e.type)&&Dl[e.type](e,t)}var Rl={Feature:function(e,t){Ll(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Ll(n[r].geometry,t)}},Dl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Zl(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Zl(n[r],t,0)},Polygon:function(e,t){Ul(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ul(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Ll(n[r],t)}};function Zl(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Ul(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Zl(e[n],t,1);t.polygonEnd()}function jl(e,t){e&&Rl.hasOwnProperty(e.type)?Rl[e.type](e,t):Ll(e,t)}function Nl(){return new zl}function zl(){this.reset()}zl.prototype={constructor:zl,reset:function(){this.s=this.t=0},add:function(e){Hl(Ql,e,this.t),Hl(this,Ql.s,this.s),this.s?this.t+=Ql.t:this.s=Ql.t},valueOf:function(){return this.s}};var Ql=new zl;function Hl(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var Vl=Math.PI,Gl=2*Vl,Wl=Math.abs,Kl=(Math.atan,Math.atan2,Math.cos,Math.ceil,Math.exp,Math.floor,Math.log,Math.pow,Math.sin,Math.sign,Math.sqrt);Math.tan;function ql(){}var Xl,Yl,Jl,$l,ec=Nl(),tc=Nl(),nc={point:ql,lineStart:ql,lineEnd:ql,polygonStart:function(){nc.lineStart=rc,nc.lineEnd=ac},polygonEnd:function(){nc.lineStart=nc.lineEnd=nc.point=ql,ec.add(Wl(tc)),tc.reset()},result:function(){var e=ec/2;return ec.reset(),e}};function rc(){nc.point=ic}function ic(e,t){nc.point=oc,Xl=Jl=e,Yl=$l=t}function oc(e,t){tc.add($l*e-Jl*t),Jl=e,$l=t}function ac(){oc(Xl,Yl)}var sc=nc,uc=1/0,lc=uc,cc=-uc,Ac=cc,fc={point:function(e,t){e<uc&&(uc=e);e>cc&&(cc=e);t<lc&&(lc=t);t>Ac&&(Ac=t)},lineStart:ql,lineEnd:ql,polygonStart:ql,polygonEnd:ql,result:function(){var e=[[uc,lc],[cc,Ac]];return cc=Ac=-(lc=uc=1/0),e}};var hc,pc,dc,gc,vc=fc,yc=0,mc=0,bc=0,_c=0,wc=0,xc=0,Cc=0,Bc=0,Ec=0,Sc={point:kc,lineStart:Oc,lineEnd:Mc,polygonStart:function(){Sc.lineStart=Fc,Sc.lineEnd=Ic},polygonEnd:function(){Sc.point=kc,Sc.lineStart=Oc,Sc.lineEnd=Mc},result:function(){var e=Ec?[Cc/Ec,Bc/Ec]:xc?[_c/xc,wc/xc]:bc?[yc/bc,mc/bc]:[NaN,NaN];return yc=mc=bc=_c=wc=xc=Cc=Bc=Ec=0,e}};function kc(e,t){yc+=e,mc+=t,++bc}function Oc(){Sc.point=Tc}function Tc(e,t){Sc.point=Pc,kc(dc=e,gc=t)}function Pc(e,t){var n=e-dc,r=t-gc,i=Kl(n*n+r*r);_c+=i*(dc+e)/2,wc+=i*(gc+t)/2,xc+=i,kc(dc=e,gc=t)}function Mc(){Sc.point=kc}function Fc(){Sc.point=Lc}function Ic(){Rc(hc,pc)}function Lc(e,t){Sc.point=Rc,kc(hc=dc=e,pc=gc=t)}function Rc(e,t){var n=e-dc,r=t-gc,i=Kl(n*n+r*r);_c+=i*(dc+e)/2,wc+=i*(gc+t)/2,xc+=i,Cc+=(i=gc*e-dc*t)*(dc+e),Bc+=i*(gc+t),Ec+=3*i,kc(dc=e,gc=t)}var Dc=Sc;function Zc(e){this._context=e}Zc.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Gl)}},result:ql};var Uc,jc,Nc,zc,Qc,Hc=Nl(),Vc={point:ql,lineStart:function(){Vc.point=Gc},lineEnd:function(){Uc&&Wc(jc,Nc),Vc.point=ql},polygonStart:function(){Uc=!0},polygonEnd:function(){Uc=null},result:function(){var e=+Hc;return Hc.reset(),e}};function Gc(e,t){Vc.point=Wc,jc=zc=e,Nc=Qc=t}function Wc(e,t){zc-=e,Qc-=t,Hc.add(Kl(zc*zc+Qc*Qc)),zc=e,Qc=t}var Kc=Vc;function qc(){this._string=[]}function Xc(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}qc.prototype={_radius:4.5,_circle:Xc(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Xc(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var Yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function $c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var tA=function(e){function t(){return $c(this,t),eA(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Jc(t,[{key:"render",value:function(){var e=this.props,n=e.animation,r=e.bandwidth,i=e.className,o=e.colorRange,a=e.data,s=e.innerHeight,u=e.innerWidth,l=e.marginLeft,c=e.marginTop,A=e.style;if(!a||!u||!s)return null;if(n)return G.createElement(Ke,Yc({},this.props,{animatedProps:ea}),G.createElement(t,Yc({},this.props,{animation:null})));var f=this._getAttributeFunctor("x"),h=this._getAttributeFunctor("y"),p=function(){var e=Pl,t=Ml,n=Fl,r=960,i=500,o=20,a=2,s=3*o,u=r+2*s>>a,l=i+2*s>>a,c=wl(20);function A(r){var i=new Float32Array(u*l),A=new Float32Array(u*l);r.forEach((function(r,o,c){var A=+e(r,o,c)+s>>a,f=+t(r,o,c)+s>>a,h=+n(r,o,c);A>=0&&A<u&&f>=0&&f<l&&(i[A+f*u]+=h)})),Ol({width:u,height:l,data:i},{width:u,height:l,data:A},o>>a),Tl({width:u,height:l,data:A},{width:u,height:l,data:i},o>>a),Ol({width:u,height:l,data:i},{width:u,height:l,data:A},o>>a),Tl({width:u,height:l,data:A},{width:u,height:l,data:i},o>>a),Ol({width:u,height:l,data:i},{width:u,height:l,data:A},o>>a),Tl({width:u,height:l,data:A},{width:u,height:l,data:i},o>>a);var h=c(i);if(!Array.isArray(h)){var p=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r}(i);h=vl(0,p,h),(h=ml(0,Math.floor(p/h)*h,h)).shift()}return kl().thresholds(h).size([u,l])(i).map(f)}function f(e){return e.value*=Math.pow(2,-2*a),e.coordinates.forEach(h),e}function h(e){e.forEach(p)}function p(e){e.forEach(d)}function d(e){e[0]=e[0]*Math.pow(2,a)-s,e[1]=e[1]*Math.pow(2,a)-s}function g(){return u=r+2*(s=3*o)>>a,l=i+2*s>>a,A}return A.x=function(t){return arguments.length?(e="function"===typeof t?t:wl(+t),A):e},A.y=function(e){return arguments.length?(t="function"===typeof e?e:wl(+e),A):t},A.weight=function(e){return arguments.length?(n="function"===typeof e?e:wl(+e),A):n},A.size=function(e){if(!arguments.length)return[r,i];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0)&&!(t>=0))throw new Error("invalid size");return r=t,i=n,g()},A.cellSize=function(e){if(!arguments.length)return 1<<a;if(!((e=+e)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(e)/Math.LN2),g()},A.thresholds=function(e){return arguments.length?(c="function"===typeof e?e:Array.isArray(e)?wl(bl.call(e)):wl(e),A):c},A.bandwidth=function(e){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*e*e+1)-1)/2),g()},A}().x((function(e){return f(e)})).y((function(e){return h(e)})).size([u,s]).bandwidth(r)(a),d=function(e,t){var n,r,i=4.5;function o(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),jl(e,n(r))),r.result()}return o.area=function(e){return jl(e,n(sc)),sc.result()},o.measure=function(e){return jl(e,n(Kc)),Kc.result()},o.bounds=function(e){return jl(e,n(vc)),vc.result()},o.centroid=function(e){return jl(e,n(Dc)),Dc.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,Il):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new qc):new Zc(t=e),"function"!==typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)}(),g=function(e){return e.reduce((function(e,t){return{min:Math.min(e.min,t.value),max:Math.max(e.max,t.value)}}),{min:1/0,max:-1/0})}(p),v=g.min,y=g.max,m=Ht().domain([v,y]).range(o||Qo);return G.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--contour "+i,transform:"translate("+l+","+c+")"},p.map((function(e,t){return G.createElement("path",{className:"rv-xy-plot__series--contour-line",key:"rv-xy-plot__series--contour-line-"+t,d:d(e),style:Yc({fill:m(e.value)},A)})})))}}]),t}(jo);tA.propTypes=Yc({},jo.propTypes,{animation:o().bool,bandwidth:o().number,className:o().string,marginLeft:o().number,marginTop:o().number,style:o().object}),tA.defaultProps=Yc({},jo.defaultProps,{bandwidth:40,style:{}});var nA=tA,rA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iA=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function oA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function sA(e){var t=lA(e);if(t)return{title:"x",value:$i(t.x)}}function uA(e){return e.map((function(e,t){if(e)return{value:e.y,title:t}}))}function lA(e){return(e||[]).find((function(e){return Boolean(e)}))}var cA=function(e){function t(){return oA(this,t),aA(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),iA(t,[{key:"_renderCrosshairItems",value:function(){var e=this.props,t=e.values,n=(0,e.itemsFormat)(t);return n?n.filter((function(e){return e})).map((function(e,t){return G.createElement("div",{className:"rv-crosshair__item",key:"item"+t},G.createElement("span",{className:"rv-crosshair__item__title"},e.title),": ",G.createElement("span",{className:"rv-crosshair__item__value"},e.value))})):null}},{key:"_renderCrosshairTitle",value:function(){var e=this.props,t=e.values,n=e.titleFormat,r=e.style,i=n(t);return i?G.createElement("div",{className:"rv-crosshair__title",key:"title",style:r.title},G.createElement("span",{className:"rv-crosshair__title__title"},i.title),": ",G.createElement("span",{className:"rv-crosshair__title__value"},i.value)):null}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.values,i=e.marginTop,o=e.marginLeft,a=e.innerWidth,s=e.innerHeight,u=e.style,l=lA(r);if(!l)return null;var c=wo(this.props,"x")(l),A=this.props.orientation,f=o+c,h=i,p="rv-crosshair__inner rv-crosshair__inner--"+(void 0===A?c>a/2?"left":"right":A);return G.createElement("div",{className:"rv-crosshair "+n,style:{left:f+"px",top:h+"px"}},G.createElement("div",{className:"rv-crosshair__line",style:rA({height:s+"px"},u.line)}),G.createElement("div",{className:p},t||G.createElement("div",{className:"rv-crosshair__inner__content",style:u.box},G.createElement("div",null,this._renderCrosshairTitle(),this._renderCrosshairItems()))))}}],[{key:"defaultProps",get:function(){return{titleFormat:sA,itemsFormat:uA,style:{line:{},title:{},box:{}}}}},{key:"propTypes",get:function(){return{className:o().string,values:o().arrayOf(o().oneOfType([o().number,o().string,o().object])),series:o().object,innerWidth:o().number,innerHeight:o().number,marginLeft:o().number,marginTop:o().number,orientation:o().oneOf(["left","right"]),itemsFormat:o().func,titleFormat:o().func,style:o().shape({line:o().object,title:o().object,box:o().object})}}}]),t}(G.PureComponent);cA.displayName="Crosshair";var AA=cA,fA=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function pA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function gA(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var vA={stroke:"blue",fill:"blue"};function yA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vA;switch(e){case"diamond":return G.createElement("polygon",{style:n,points:"0 0 "+t/2+" "+t/2+" 0 "+t+" "+-t/2+" "+t/2+" 0 0"});case"star":var r=[].concat(gA(new Array(5))).map((function(e,n){var r=n/5*Math.PI*2,i=r+Math.PI/10,o=r-Math.PI/10,a=t/2.61;return"\n        "+Math.cos(o)*t+" "+Math.sin(o)*t+"\n        "+Math.cos(i)*a+" "+Math.sin(i)*a+"\n      "})).join(" ");return G.createElement("polygon",{points:r,x:"0",y:"0",height:t,width:t,style:n});case"square":return G.createElement("rect",{x:""+-t/2,y:""+-t/2,height:t,width:t,style:n});default:return G.createElement("circle",{cx:"0",cy:"0",r:t/2,style:n})}}var mA=function(e){function t(){return pA(this,t),dA(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),fA(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.className,o=n.customComponent,a=n.data,s=n.innerHeight,u=n.innerWidth,l=n.marginLeft,c=n.marginTop,A=n.style,f=n.size;if(!a||!u||!s)return null;if(r)return G.createElement(Ke,hA({},this.props,{animatedProps:ea}),G.createElement(t,hA({},this.props,{animation:!1})));var h=this._getAttributeFunctor("x"),p=this._getAttributeFunctor("y"),d=a.map((function(t,n){var r={x:h(t),y:p(t)},i=function(e){var t=e.customComponent,n=e.defaultType,r=e.positionInPixels,i=(e.positionFunctions,e.style),o=e.propsSize,a=t.size,s=hA({},i,t.style||{}),u=t.customComponent;return u||"string"!==typeof n?u?"string"===typeof u?yA(u||n,a,s):u(t,r,s):n(t,r,s):yA(n,a||o,s)}({customComponent:t,positionInPixels:r,defaultType:o,positionFunctions:{x:h,y:p},style:A,propsSize:f});return G.createElement("g",{className:"rv-xy-plot__series--custom-svg",key:"rv-xy-plot__series--custom-svg-"+n,transform:"translate("+r.x+","+r.y+")",onMouseEnter:function(n){return e._valueMouseOverHandler(t,n)},onMouseLeave:function(n){return e._valueMouseOutHandler(t,n)}},i)}));return G.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--custom-svg-wrapper "+i,transform:"translate("+l+","+c+")"},d)}}]),t}(jo);mA.propTypes={animation:o().bool,className:o().string,customComponent:o().oneOfType([o().string,o().func]),data:o().arrayOf(o().shape({x:o().oneOfType([o().string,o().number]).isRequired,y:o().oneOfType([o().string,o().number]).isRequired})).isRequired,marginLeft:o().number,marginTop:o().number,style:o().object,size:o().number,onValueMouseOver:o().func,onValueMouseOut:o().func},mA.defaultProps=hA({},jo.defaultProps,{animation:!1,customComponent:"circle",style:{},size:2});var bA=mA,_A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function wA(e){var t=e.axisDomain,n=e.numberOfTicks,r=e.axisStart,i=e.axisEnd,o=e.tickValue,a=e.tickSize,s=e.style,u=function(e){var t=e.axisStart,n=e.axisEnd,r=e.numberOfTicks,i=e.axisDomain,o=function(e,t){if(e.x===t.x)return{left:e.y,right:t.y,slope:0,offset:e.x};var n=(e.y-t.y)/(e.x-t.x);return{left:e.x,right:t.x,slope:n,offset:e.y-n*e.x}}(t,n),a=o.left,s=o.right,u=o.slope,l=o.offset,c=(s-a)/r,A=Ht().domain([a,s]).range(i),f=t.x===n.x;return{slope:f?1/0:u,points:ut(a,s+c,c).map((function(e){return f?{y:e,x:u*e+l,text:A(e)}:{x:e,y:u*e+l,text:A(e)}})).slice(0,r+1)}}({axisStart:r,axisEnd:i,numberOfTicks:n,axisDomain:t}),l=u.points,c=function(e,t){return e.x===t.x?t.y>e.y?Math.PI/2:3*Math.PI/2:Math.atan((t.y-e.y)/(t.x-e.x))}(r,i)+Math.PI/2;return l.map((function(e,t){var n=_A({x1:0,y1:0,x2:a*Math.cos(c),y2:a*Math.sin(c)},s.ticks),r=_A({x:a*Math.cos(c),y:a*Math.sin(c),textAnchor:"start"},s.text);return G.createElement("g",{key:t,transform:"translate("+e.x+", "+e.y+")",className:"rv-xy-plot__axis__tick"},G.createElement("line",_A({},n,{className:"rv-xy-plot__axis__tick__line"})),G.createElement("text",_A({},r,{className:"rv-xy-plot__axis__tick__text"}),o(e.text)))}))}var xA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CA=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function BA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var SA=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickSize","tickTotal","tickSizeInner","tickSizeOuter"],kA=function(e){function t(){return BA(this,t),EA(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),CA(t,[{key:"render",value:function(){var e=this.props,n=e.animation,r=e.className,i=e.marginLeft,o=e.marginTop,a=e.axisStart,s=e.axisEnd,u=e.axisDomain,l=e.numberOfTicks,c=e.tickValue,A=e.tickSize,f=e.style;if(n)return G.createElement(Ke,xA({},this.props,{animatedProps:SA}),G.createElement(t,xA({},this.props,{animation:null})));var h=this._getAttributeFunctor("x"),p=this._getAttributeFunctor("y");return G.createElement("g",{className:"rv-xy-manipulable-axis rv-xy-plot__axis "+r,transform:"translate("+i+","+o+")"},G.createElement("line",xA({},xA({x1:h({x:a.x}),x2:h({x:s.x}),y1:p({y:a.y}),y2:p({y:s.y})},f.line),{className:"rv-xy-plot__axis__line"})),G.createElement("g",{className:"rv-xy-manipulable-axis__ticks"},wA({axisDomain:u,axisEnd:{x:h(s),y:p(s)},axisStart:{x:h(a),y:p(a)},numberOfTicks:l,tickValue:c,tickSize:A,style:f})))}}]),t}(jo),OA=(0,jt.WU)(".2r");kA.defaultProps={className:"",numberOfTicks:10,tickValue:function(e){return OA(e)},tickSize:5,style:{line:{strokeWidth:1},ticks:{strokeWidth:2},text:{}}},kA.propTypes=xA({},jo.propTypes,{axisDomain:o().arrayOf(o().number).isRequired,axisEnd:o().shape({x:o().oneOfType([o().number,o().string]),y:o().oneOfType([o().number,o().string])}).isRequired,axisStart:o().shape({x:o().oneOfType([o().number,o().string]),y:o().oneOfType([o().number,o().string])}).isRequired,className:o().string,numberOfTicks:o().number,tickValue:o().func,tickSize:o().number,style:o().shape({line:o().object,ticks:o().object,text:o().object})}),kA.displayName="DecorativeAxis";var TA=kA;function PA(e){var t=e.className;return G.createElement("defs",{className:"rv-gradient-defs "+t},e.children)}PA.displayName="GradientDefs",PA.requiresSVG=!0,PA.propTypes={className:o().string},PA.defaultProps={className:""};var MA=PA,FA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IA=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function LA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ZA=el.VERTICAL,UA=el.HORIZONTAL,jA={direction:o().oneOf([ZA,UA]),attr:o().string.isRequired,width:o().number,height:o().number,top:o().number,left:o().number,style:o().object,tickValues:o().arrayOf(o().oneOfType([o().number,o().string])),tickTotal:o().number,animation:qe,marginTop:o().number,marginBottom:o().number,marginLeft:o().number,marginRight:o().number,innerWidth:o().number,innerHeight:o().number},NA={direction:ZA},zA=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickTotal"],QA=function(e){function t(){return RA(this,t),DA(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),IA(t,[{key:"_getDefaultProps",value:function(){var e=this.props,t=e.innerWidth,n=e.innerHeight,r=e.marginTop;return{left:e.marginLeft,top:r,width:t,height:n,tickTotal:tl(e.direction===ZA?t:n)}}},{key:"render",value:function(){var e=this.props,n=e.animation,r=e.className;if(n)return G.createElement(Ke,FA({},this.props,{animatedProps:zA}),G.createElement(t,FA({},this.props,{animation:null})));var i=FA({},this._getDefaultProps(),this.props),o=i.attr,a=i.direction,s=i.width,u=i.height,l=i.style,c=i.tickTotal,A=i.tickValues,f=i.top,h=i.left,p=a===ZA,d=p?"y":"x",g=p?"x":"y",v=p?u:s,y=mo(i,o),m=nl(y,c,A);return G.createElement("g",{transform:"translate("+h+","+f+")",className:"rv-xy-plot__grid-lines "+r},m.map((function(e,t){var n,r=y(e),i=(LA(n={},g+"1",r),LA(n,g+"2",r),LA(n,d+"1",0),LA(n,d+"2",v),n);return G.createElement("line",FA({},i,{key:t,className:"rv-xy-plot__grid-lines__line",style:l}))})))}}]),t}(G.PureComponent);QA.displayName="GridLines",QA.defaultProps=NA,QA.propTypes=jA,QA.requiresSVG=!0;var HA=QA,VA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GA=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function WA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var qA=function(e){function t(){return WA(this,t),KA(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),GA(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.className,o=n.data,a=n.marginLeft,s=n.marginTop,u=n.style;if(!o)return null;if(r)return G.createElement(Ke,VA({},this.props,{animatedProps:ea}),G.createElement(t,VA({},this.props,{animation:null})));var l=VA({rectStyle:{}},u).rectStyle,c=this._getAttributeFunctor("x"),A=this._getAttributeFunctor("y"),f=this._getAttributeFunctor("opacity"),h=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),p=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),d=this._getScaleDistance("x"),g=this._getScaleDistance("y");return G.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--heatmap "+i,transform:"translate("+a+","+s+")"},o.map((function(t,n){var r=VA({style:VA({stroke:p&&p(t),fill:h&&h(t),opacity:f&&f(t)},u)},l,{x:c(t)-d/2,y:A(t)-g/2,width:d,height:g,key:n,onClick:function(n){return e._valueClickHandler(t,n)},onContextMenu:function(n){return e._valueRightClickHandler(t,n)},onMouseOver:function(n){return e._valueMouseOverHandler(t,n)},onMouseOut:function(n){return e._valueMouseOutHandler(t,n)}});return G.createElement("rect",r)})))}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:"x"===e||"y"===e}}}]),t}(jo);qA.propTypes=VA({},jo.propTypes),qA.displayName="HeatmapSeries";var XA=qA,YA=n(1971),JA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ef(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nf(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var rf=function(e){function t(){return ef(this,t),tf(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$A(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.className,o=n.colorRange,a=n.data,s=n.innerHeight,u=n.innerWidth,l=n.marginLeft,c=n.marginTop,A=n.radius,f=n.sizeHexagonsWithCount,h=n.style,p=n.xOffset,d=n.yOffset;if(!a)return null;if(r)return G.createElement(Ke,JA({},this.props,{animatedProps:ea}),G.createElement(t,JA({},this.props,{animation:null})));var g=this._getAttributeFunctor("x"),v=this._getAttributeFunctor("y"),y=(0,YA.g)().x((function(e){return g(e)+p})).y((function(e){return v(e)+d})).radius(A).size([u,s]),m=y.hexagon(),b=y(a),_=function(e,t){return e.countDomain||[0,Math.max.apply(Math,nf(t.map((function(e){return e.length}))))]}(this.props,b),w=Ht().domain(_).range(o),x=Ht().domain(_).range([0,A]);return G.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--hexbin "+i,transform:"translate("+l+","+c+")"},b.map((function(t,n){var r={style:h,d:f?y.hexagon(x(t.length)):m,fill:w(t.length),transform:"translate("+t.x+", "+t.y+")",key:n,onClick:function(n){return e._valueClickHandler(t,n)},onContextMenu:function(n){return e._valueRightClickHandler(t,n)},onMouseOver:function(n){return e._valueMouseOverHandler(t,n)},onMouseOut:function(n){return e._valueMouseOutHandler(t,n)}};return G.createElement("path",r)})))}}]),t}(jo);rf.propTypes=JA({},jo.propTypes,{radius:o().number}),rf.defaultProps={radius:20,colorRange:Qo,xOffset:0,yOffset:0},rf.displayName="HexbinSeries";var of=rf,af=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function uf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function cf(e){return{xLoc:"touchstart"===e.type?e.pageX:e.offsetX,yLoc:"touchstart"===e.type?e.pageY:e.offsetY}}var Af=function(e){function t(){var e,n,r;uf(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=lf(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={dragging:!1,brushArea:{top:0,right:0,bottom:0,left:0},brushing:!1,startLocX:0,startLocY:0,dragArea:null},lf(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),sf(t,[{key:"_getDrawArea",value:function(e,t){var n=this.state,r=n.startLocX,i=n.startLocY,o=this.props,a=o.enableX,s=o.enableY,u=o.highlightWidth,l=o.highlightHeight,c=o.innerWidth,A=o.innerHeight,f=o.marginLeft,h=o.marginRight,p=o.marginBottom,d=o.marginTop,g=u||c+f+h,v=l||A+d+p;return{bottom:s?Math.max(i,t):v,right:a?Math.max(r,e):g,left:a?Math.min(e,r):0,top:s?Math.min(t,i):0}}},{key:"_getDragArea",value:function(e,t){var n=this.props,r=n.enableX,i=n.enableY,o=this.state,a=o.startLocX,s=o.startLocY,u=o.dragArea;return{bottom:u.bottom+(i?t-s:0),left:u.left+(r?e-a:0),right:u.right+(r?e-a:0),top:u.top+(i?t-s:0)}}},{key:"_clickedOutsideDrag",value:function(e,t){var n=this.props,r=n.enableX,i=n.enableY,o=this.state,a=o.dragArea,s=o.brushArea,u=s.left,l=s.right,c=s.top,A=s.bottom,f=a&&(e<u||e>l),h=a&&(t<c||t>A);return r&&i?f||h:r?f:!i||h}},{key:"_convertAreaToCoordinates",value:function(e){var t=this.props,n=t.enableX,r=t.enableY,i=t.marginLeft,o=t.marginTop,a=mo(this.props,"x"),s=mo(this.props,"y");return n&&r?{bottom:s.invert(e.bottom),left:a.invert(e.left-i),right:a.invert(e.right-i),top:s.invert(e.top)}:r?{bottom:s.invert(e.bottom-o),top:s.invert(e.top-o)}:n?{left:a.invert(e.left-i),right:a.invert(e.right-i)}:{}}},{key:"startBrushing",value:function(e){var t=this,n=this.props,r=n.onBrushStart,i=n.onDragStart,o=n.drag,a=this.state.dragArea,s=cf(e.nativeEvent),u=s.xLoc,l=s.yLoc,c=function(e,n){var r={bottom:l,left:u,right:u,top:l};t.setState({dragging:e,brushArea:a&&!n?a:r,brushing:!e,startLocX:u,startLocY:l})},A=this._clickedOutsideDrag(u,l);if(o&&!a||!o||A)return c(!1,A),void(r&&r(e));o&&a&&(c(!0,A),i&&i(e))}},{key:"stopBrushing",value:function(e){var t=this.state,n=t.brushing,r=t.dragging,i=t.brushArea;if(n||r){var o=this.props,a=o.onBrushEnd,s=o.onDragEnd,u=o.drag,l=Math.abs(i.right-i.left)<5,c=Math.abs(i.top-i.bottom)<5||l;this.setState({brushing:!1,dragging:!1,brushArea:u?i:{top:0,right:0,bottom:0,left:0},startLocX:0,startLocY:0,dragArea:u&&!c&&i}),n&&a&&a(c?null:this._convertAreaToCoordinates(i)),u&&s&&s(c?null:this._convertAreaToCoordinates(i))}}},{key:"onBrush",value:function(e){var t=this.props,n=t.onBrush,r=t.onDrag,i=t.drag,o=this.state,a=o.brushing,s=o.dragging,u=cf(e.nativeEvent),l=u.xLoc,c=u.yLoc;if(a){var A=this._getDrawArea(l,c);this.setState({brushArea:A}),n&&n(this._convertAreaToCoordinates(A))}if(i&&s){var f=this._getDragArea(l,c);this.setState({brushArea:f}),r&&r(this._convertAreaToCoordinates(f))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.color,r=t.className,i=t.highlightHeight,o=t.highlightWidth,a=t.highlightX,s=t.highlightY,u=t.innerWidth,l=t.innerHeight,c=t.marginLeft,A=t.marginRight,f=t.marginTop,h=t.marginBottom,p=t.opacity,d=this.state.brushArea,g=d.left,v=d.right,y=d.top,m=d.bottom,b=0;a&&(b=mo(this.props,"x")(a));var _=0;s&&(_=mo(this.props,"y")(s));var w=o||c+A+u,x=i||f+h+l;return G.createElement("g",{transform:"translate("+b+", "+_+")",className:r+" rv-highlight-container"},G.createElement("rect",{className:"rv-mouse-target",fill:"black",opacity:"0",x:"0",y:"0",width:Math.max(w,0),height:Math.max(x,0),onMouseDown:function(t){return e.startBrushing(t)},onMouseMove:function(t){return e.onBrush(t)},onMouseUp:function(t){return e.stopBrushing(t)},onMouseLeave:function(t){return e.stopBrushing(t)},onTouchEnd:function(t){t.preventDefault(),e.stopBrushing(t)},onTouchCancel:function(t){t.preventDefault(),e.stopBrushing(t)},onContextMenu:function(e){return e.preventDefault()},onContextMenuCapture:function(e){return e.preventDefault()}}),G.createElement("rect",{className:"rv-highlight",pointerEvents:"none",opacity:p,fill:n,x:g,y:y,width:Math.min(Math.max(0,v-g),w),height:Math.min(Math.max(0,m-y),x)}))}}]),t}(jo);Af.displayName="HighlightOverlay",Af.defaultProps={color:"rgb(77, 182, 172)",className:"",enableX:!0,enableY:!0,opacity:.3},Af.propTypes=af({},jo.propTypes,{enableX:o().bool,enableY:o().bool,highlightHeight:o().number,highlightWidth:o().number,highlightX:o().oneOfType([o().string,o().number]),highlightY:o().oneOfType([o().string,o().number]),onBrushStart:o().func,onDragStart:o().func,onBrush:o().func,onDrag:o().func,onBrushEnd:o().func,onDragEnd:o().func});var ff=Af,hf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var vf={AUTO:"auto",LEFT:"left",RIGHT:"right",LEFT_EDGE:"leftEdge",RIGHT_EDGE:"rightEdge",BOTTOM:"bottom",TOP:"top",BOTTOM_EDGE:"bottomEdge",TOP_EDGE:"topEdge"},yf={BOTTOM_LEFT:"bottomleft",BOTTOM_RIGHT:"bottomright",TOP_LEFT:"topleft",TOP_RIGHT:"topright"};function mf(e){return Object.keys(e).map((function(t){return{title:t,value:$i(e[t])}}))}var bf=function(e){function t(){return df(this,t),gf(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pf(t,[{key:"_getAlign",value:function(e,t){var n=this.props,r=n.innerWidth,i=n.innerHeight,o=n.orientation,a=n.align,s=a.horizontal,u=a.vertical,l=o?this._mapOrientationToAlign(o):{horizontal:s,vertical:u};return s===vf.AUTO&&(l.horizontal=e>r/2?vf.LEFT:vf.RIGHT),u===vf.AUTO&&(l.vertical=t>i/2?vf.TOP:vf.BOTTOM),l}},{key:"_getAlignClassNames",value:function(e){var t=this.props.orientation;return(t?"rv-hint--orientation-"+t:"")+" rv-hint--horizontalAlign-"+e.horizontal+"\n     rv-hint--verticalAlign-"+e.vertical}},{key:"_getAlignStyle",value:function(e,t,n){return hf({},this._getXCSS(e.horizontal,t),this._getYCSS(e.vertical,n))}},{key:"_getCSSBottom",value:function(e){if(void 0===e||null===e)return{bottom:0};var t=this.props,n=t.innerHeight;return{bottom:t.marginBottom+n-e}}},{key:"_getCSSLeft",value:function(e){return void 0===e||null===e?{left:0}:{left:this.props.marginLeft+e}}},{key:"_getCSSRight",value:function(e){if(void 0===e||null===e)return{right:0};var t=this.props,n=t.innerWidth;return{right:t.marginRight+n-e}}},{key:"_getCSSTop",value:function(e){return void 0===e||null===e?{top:0}:{top:this.props.marginTop+e}}},{key:"_getPositionInfo",value:function(){var e=this.props,t=e.value,n=e.getAlignStyle,r=wo(this.props,"x")(t),i=wo(this.props,"y")(t),o=this._getAlign(r,i);return{position:n?n(o,r,i):this._getAlignStyle(o,r,i),positionClassName:this._getAlignClassNames(o)}}},{key:"_getXCSS",value:function(e,t){switch(e){case vf.LEFT_EDGE:return this._getCSSLeft(null);case vf.RIGHT_EDGE:return this._getCSSRight(null);case vf.LEFT:return this._getCSSRight(t);default:return this._getCSSLeft(t)}}},{key:"_getYCSS",value:function(e,t){switch(e){case vf.TOP_EDGE:return this._getCSSTop(null);case vf.BOTTOM_EDGE:return this._getCSSBottom(null);case vf.BOTTOM:return this._getCSSTop(t);default:return this._getCSSBottom(t)}}},{key:"_mapOrientationToAlign",value:function(e){switch(e){case yf.BOTTOM_LEFT:return{horizontal:vf.LEFT,vertical:vf.BOTTOM};case yf.BOTTOM_RIGHT:return{horizontal:vf.RIGHT,vertical:vf.BOTTOM};case yf.TOP_LEFT:return{horizontal:vf.LEFT,vertical:vf.TOP};case yf.TOP_RIGHT:return{horizontal:vf.RIGHT,vertical:vf.TOP}}}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.format,r=e.children,i=e.style,o=e.className,a=this._getPositionInfo(),s=a.position,u=a.positionClassName;return G.createElement("div",{className:"rv-hint "+u+" "+o,style:hf({},i,s,{position:"absolute"})},r||G.createElement("div",{className:"rv-hint__content",style:i.content},n(t).map((function(e,t){return G.createElement("div",{key:"rv-hint"+t,style:i.row},G.createElement("span",{className:"rv-hint__title",style:i.title},e.title),": ",G.createElement("span",{className:"rv-hint__value",style:i.value},e.value))}))))}}],[{key:"defaultProps",get:function(){return{format:mf,align:{horizontal:vf.AUTO,vertical:vf.AUTO},style:{}}}},{key:"propTypes",get:function(){return{marginTop:o().number,marginLeft:o().number,innerWidth:o().number,innerHeight:o().number,scales:o().object,value:o().object,format:o().func,style:o().object,className:o().string,align:o().shape({horizontal:o().oneOf([vf.AUTO,vf.LEFT,vf.RIGHT,vf.LEFT_EDGE,vf.RIGHT_EDGE]),vertical:o().oneOf([vf.AUTO,vf.BOTTOM,vf.TOP,vf.BOTTOM_EDGE,vf.TOP_EDGE])}),getAlignStyle:o().func,orientation:o().oneOf([yf.BOTTOM_LEFT,yf.BOTTOM_RIGHT,yf.TOP_LEFT,yf.TOP_RIGHT])}}}]),t}(G.PureComponent);bf.displayName="Hint",bf.ORIENTATION=yf,bf.ALIGN=vf;var _f=bf,wf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Cf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ef(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Sf=function(e){function t(){return Bf(this,t),Ef(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xf(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.className,o=n.data,a=n.linePosAttr,s=n.lineSizeAttr,u=n.marginLeft,l=n.marginTop,c=n.style,A=n.valuePosAttr,f=n.valueSizeAttr,h=n.barWidth;if(!o)return null;if(r)return G.createElement(Ke,wf({},this.props,{animatedProps:ea}),G.createElement(t,wf({},this.props,{animation:null})));var p=ta(this.props),d=p.sameTypeTotal,g=p.sameTypeIndex,v=this._getScaleDistance(a),y=this._getAttributeFunctor(a),m=this._getAttributeFunctor(A),b=this._getAttr0Functor(A),_=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),w=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),x=this._getAttributeFunctor("opacity"),C=v/2*h;return G.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--bar "+i,transform:"translate("+u+","+l+")"},o.map((function(t,n){var r,i=2*C,o=y(t),u=i/d-(d-1)/d,l=o-C+u*g+g,h=(Cf(r={style:wf({opacity:x&&x(t),stroke:w&&w(t),fill:_&&_(t)},c)},a,l),Cf(r,s,u),Cf(r,A,Math.min(b(t),m(t))),Cf(r,f,Math.abs(-b(t)+m(t))),Cf(r,"onClick",(function(n){return e._valueClickHandler(t,n)})),Cf(r,"onContextMenu",(function(n){return e._valueRightClickHandler(t,n)})),Cf(r,"onMouseOver",(function(n){return e._valueMouseOverHandler(t,n)})),Cf(r,"onMouseOut",(function(n){return e._valueMouseOutHandler(t,n)})),Cf(r,"key",n),r);return G.createElement("rect",h)})))}}],[{key:"propTypes",get:function(){return wf({},jo.propTypes,{linePosAttr:o().string,valuePosAttr:o().string,lineSizeAttr:o().string,valueSizeAttr:o().string,cluster:o().string,barWidth:o().number})}},{key:"defaultProps",get:function(){return{barWidth:.85}}}]),t}(jo);Sf.displayName="BarSeries";var kf=Sf,Of=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Pf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Ff=function(e){function t(){return Pf(this,t),Mf(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Tf(t,[{key:"render",value:function(){return G.createElement(kf,Of({},this.props,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}))}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:"y"===e,zeroBaseValue:"x"===e}}}]),t}(jo);Ff.displayName="HorizontalBarSeries";var If=Ff,Lf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Uf=function(e){function t(){return Df(this,t),Zf(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Rf(t,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(e,t){var n=e.data,r=e.linePosAttr,i=e.lineSizeAttr,o=e.valuePosAttr,a=e.marginTop,s=e.marginBottom;if(n&&0!==n.length){var u=function(e,t){var n=yo(e,t);return n?n.distance:0}(e,r),l=wo(e,r),c=wo(e,o),A=xo(e,o),f=wo(e,"fill")||wo(e,"color"),h=wo(e,"stroke")||wo(e,"color"),p=wo(e,"opacity"),d=u/2*.85,g=2*d,v=ta(e),y=v.sameTypeTotal,m=v.sameTypeIndex;n.forEach((function(e){var n=l(e)-d,r=g/y-(y-1)/y,u=de(f(e)),v=de(h(e)),b=p(e)||1,_=n+r*m+m,w=Math.min(A(e),c(e)),x="x"===o?w:_,C="y"===o?w:_,B=Math.abs(-A(e)+c(e)),E="height"===i?r:B,S="width"===i?r:B;t.beginPath(),t.rect(x+s,C+a,S,E),t.fillStyle="rgba("+u.r+", "+u.g+", "+u.b+", "+b+")",t.fill(),t.strokeStyle="rgba("+v.r+", "+v.g+", "+v.b+", "+b+")",t.stroke()}))}}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(jo);Uf.displayName="BarSeriesCanvas",Uf.defaultProps=Lf({},jo.defaultProps,{linePosAttr:o().string.isRequired,valuePosAttr:o().string.isRequired,lineSizeAttr:o().string.isRequired,valueSizeAttr:o().string.isRequired}),Uf.propTypes=Lf({},jo.propTypes);var jf=Uf,Nf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Qf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Vf=function(e){function t(){return Qf(this,t),Hf(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),zf(t,[{key:"render",value:function(){return null}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:"y"===e,zeroBaseValue:"x"===e}}},{key:"renderLayer",value:function(e,t){jf.renderLayer(Nf({},e,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}),t)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(jo);Vf.displayName="HorizontalBarSeriesCanvas",Vf.propTypes=Nf({},jo.propTypes);var Gf=Vf,Wf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kf=el.HORIZONTAL,qf=Wf({},HA.propTypes,{direction:o().oneOf([Kf])}),Xf={direction:Kf,attr:"y"};function Yf(e){return G.createElement(HA,e)}Yf.displayName="HorizontalGridLines",Yf.propTypes=qf,Yf.defaultProps=Xf,Yf.requiresSVG=!0;var Jf=Yf,$f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function th(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ih=function(e){function t(){return nh(this,t),rh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),eh(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.className,o=n.data,a=n.linePosAttr,s=n.lineSizeAttr,u=n.marginLeft,l=n.marginTop,c=n.style,A=n.valuePosAttr,f=n.valueSizeAttr;if(!o)return null;if(r)return G.createElement(Ke,$f({},this.props,{animatedProps:ea}),G.createElement(t,$f({},this.props,{animation:null})));var h=this._getAttributeFunctor(a),p=this._getAttr0Functor(a),d=this._getAttributeFunctor(A),g=this._getAttr0Functor(A),v=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),y=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),m=this._getAttributeFunctor("opacity");return G.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--rect "+i,transform:"translate("+u+","+l+")"},o.map((function(t,n){var r,i=(th(r={style:$f({opacity:m&&m(t),stroke:y&&y(t),fill:v&&v(t)},c)},a,p(t)),th(r,s,Math.abs(h(t)-p(t))),th(r,A,Math.min(g(t),d(t))),th(r,f,Math.abs(-g(t)+d(t))),th(r,"onClick",(function(n){return e._valueClickHandler(t,n)})),th(r,"onContextMenu",(function(n){return e._valueRightClickHandler(t,n)})),th(r,"onMouseOver",(function(n){return e._valueMouseOverHandler(t,n)})),th(r,"onMouseOut",(function(n){return e._valueMouseOutHandler(t,n)})),th(r,"key",n),r);return G.createElement("rect",i)})))}}],[{key:"propTypes",get:function(){return $f({},jo.propTypes,{linePosAttr:o().string,valuePosAttr:o().string,lineSizeAttr:o().string,valueSizeAttr:o().string})}}]),t}(jo);ih.displayName="RectSeries";var oh=ih,ah=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function uh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ch=function(e){function t(){return uh(this,t),lh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),sh(t,[{key:"render",value:function(){return G.createElement(oh,ah({},this.props,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}))}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:!1,zeroBaseValue:"x"===e}}}]),t}(jo);ch.displayName="HorizontalRectSeries";var Ah=ch,fh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ph(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var gh=function(e){function t(){return ph(this,t),dh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),hh(t,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(e,t){var n=e.data,r=e.linePosAttr,i=e.lineSizeAttr,o=e.marginLeft,a=e.marginTop,s=e.valuePosAttr;if(n&&0!==n.length){var u=wo(e,r),l=xo(e,r),c=wo(e,s),A=xo(e,s),f=wo(e,"fill")||wo(e,"color"),h=wo(e,"stroke")||wo(e,"color"),p=wo(e,"opacity");n.forEach((function(e){var n=de(f(e)),r=de(h(e)),d=p(e)||1,g=l(e),v=Math.min(A(e),c(e)),y="x"===s?v:g,m="y"===s?v:g,b=Math.abs(u(e)-l(e)),_=Math.abs(-A(e)+c(e)),w="height"===i?b:_,x="width"===i?b:_;t.beginPath(),t.rect(y+o,m+a,x,w),t.fillStyle="rgba("+n.r+", "+n.g+", "+n.b+", "+d+")",t.fill(),t.strokeStyle="rgba("+r.r+", "+r.g+", "+r.b+", "+d+")",t.stroke()}))}}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(jo);gh.displayName="RectSeriesCanvas",gh.defaultProps=fh({},jo.defaultProps,{linePosAttr:o().string.isRequired,valuePosAttr:o().string.isRequired,lineSizeAttr:o().string.isRequired,valueSizeAttr:o().string.isRequired}),gh.propTypes=fh({},jo.propTypes);var vh=gh,yh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function bh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var wh=function(e){function t(){return bh(this,t),_h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),mh(t,[{key:"render",value:function(){return null}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:!1,zeroBaseValue:"x"===e}}},{key:"renderLayer",value:function(e,t){vh.renderLayer(yh({},e,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}),t)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(jo);wh.displayName="HorizontalRectSeriesCanvas",wh.propTypes=yh({},jo.propTypes);var xh=wh,Ch=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Eh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var kh=function(e,t){return e||(t?"start":"end")},Oh=function(e,t){return e||(t?"text-before-edge":"text-after-edge")},Th=function(e){function t(){return Eh(this,t),Sh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Bh(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.allowOffsetToBeReversed,o=n.className,a=n.data,s=n._data,u=n.getLabel,l=n.marginLeft,c=n.marginTop,A=n.rotation,f=n.style,h=n.xRange,p=n.yRange,d=n.labelAnchorX,g=n.labelAnchorY;if(!a)return null;if(r)return G.createElement(Ke,Ch({},this.props,{animatedProps:ea}),G.createElement(t,Ch({},this.props,{animation:null,_data:a})));var v=this._getAttributeFunctor("x"),y=this._getAttributeFunctor("y");return G.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--label "+o,transform:"translate("+l+","+c+")",style:f},a.reduce((function(t,n,r){var o=n.style,a=n.xOffset,l=n.yOffset;if(!u(n))return t;var c=v(n),f=y(n),m=c<(h[1]-h[0])/2,b=f<Math.abs(p[1]-p[0])/2,_=c+(i&&m?-1:1)*(a||0),w=f+(i&&b?-1:1)*(l||0),x=0===n.rotation||n.rotation?n.rotation:A,C=Ch({dominantBaseline:Oh(g,b),className:"rv-xy-plot__series--label-text",key:r,onClick:function(t){return e._valueClickHandler(n,t)},onContextMenu:function(t){return e._valueRightClickHandler(n,t)},onMouseOver:function(t){return e._valueMouseOverHandler(n,t)},onMouseOut:function(t){return e._valueMouseOutHandler(n,t)},textAnchor:kh(d,m),x:_,y:w,transform:"rotate("+x+","+_+","+w+")"},o),B=u(s?s[r]:n);return t.concat([G.createElement("text",C,B)])}),[]))}}]),t}(jo);Th.propTypes={animation:o().bool,allowOffsetToBeReversed:o().bool,className:o().string,data:o().arrayOf(o().shape({x:o().oneOfType([o().number,o().string]),y:o().oneOfType([o().number,o().string]),angle:o().number,radius:o().number,label:o().string,xOffset:o().number,yOffset:o().number,style:o().object})).isRequired,marginLeft:o().number,marginTop:o().number,rotation:o().number,style:o().object,xRange:o().arrayOf(o().number),yRange:o().arrayOf(o().number),labelAnchorX:o().string,labelAnchorY:o().string},Th.defaultProps=Ch({},jo.defaultProps,{animation:!1,rotation:0,getLabel:function(e){return e.label}}),Th.displayName="LabelSeries";var Ph=Th,Mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ih(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Rh={dashed:"6, 2",solid:null},Dh=function(e){function t(){return Ih(this,t),Lh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fh(t,[{key:"_renderLine",value:function(e,t,n,i,o){var a=Qa();return null!==i&&("string"===typeof i&&r[i]?a=a.curve(r[i]):"function"===typeof i&&(a=a.curve(i))),(a=(a=a.defined(o)).x(t).y(n))(e)}},{key:"render",value:function(){var e=this.props,n=e.animation,r=e.className,i=e.data;if(this.props.nullAccessor&&Ji("nullAccessor has been renamed to getNull",!0),!i)return null;if(n)return G.createElement(Ke,Mh({},this.props,{animatedProps:ea}),G.createElement(t,Mh({},this.props,{animation:null})));var o=this.props,a=o.curve,s=o.marginLeft,u=o.marginTop,l=o.strokeDasharray,c=o.strokeStyle,A=o.strokeWidth,f=o.style,h=this._getAttributeFunctor("x"),p=this._getAttributeFunctor("y"),d=this._getAttributeValue("stroke")||this._getAttributeValue("color"),g=this._getAttributeValue("opacity"),v=Number.isFinite(g)?g:1,y=this.props.nullAccessor||this.props.getNull,m=this._renderLine(i,h,p,a,y);return G.createElement("path",{d:m,className:"rv-xy-plot__series rv-xy-plot__series--line "+r,transform:"translate("+s+","+u+")",onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,style:Mh({opacity:v,strokeDasharray:Rh[c]||l,strokeWidth:A,stroke:d},f)})}}]),t}(jo);Dh.displayName="LineSeries",Dh.propTypes=Mh({},jo.propTypes,{strokeStyle:o().oneOf(Object.keys(Rh)),curve:o().oneOfType([o().string,o().func]),getNull:o().func}),Dh.defaultProps=Mh({},jo.defaultProps,{strokeStyle:"solid",style:{},opacity:1,curve:null,className:"",getNull:function(){return!0}});var Zh=Dh,Uh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Nh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Qh=function(e){function t(){return Nh(this,t),zh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),jh(t,[{key:"_renderCircle",value:function(e,t,n,r,i){var o=this,a=i.fill,s=i.opacity,u=i.size,l=i.stroke,c=i.x,A=i.y,f={r:u?u(e):5,cx:c(e),cy:A(e),style:Uh({opacity:s?s(e):1,stroke:l&&l(e),fill:a&&a(e),strokeWidth:n||1},r),key:t,onClick:function(t){return o._valueClickHandler(e,t)},onContextMenu:function(t){return o._valueRightClickHandler(e,t)},onMouseOver:function(t){return o._valueMouseOverHandler(e,t)},onMouseOut:function(t){return o._valueMouseOutHandler(e,t)}};return G.createElement("circle",f)}},{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.className,o=n.data,a=n.marginLeft,s=n.marginTop,u=n.strokeWidth,l=n.style;this.props.nullAccessor&&Ji("nullAccessor has been renamed to getNull",!0);var c=this.props.nullAccessor||this.props.getNull;if(!o)return null;if(r)return G.createElement(Ke,Uh({},this.props,{animatedProps:ea}),G.createElement(t,Uh({},this.props,{animation:null})));var A={fill:this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),opacity:this._getAttributeFunctor("opacity"),size:this._getAttributeFunctor("size"),stroke:this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),x:this._getAttributeFunctor("x"),y:this._getAttributeFunctor("y")};return G.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--mark "+i,transform:"translate("+a+","+s+")"},o.map((function(t,n){return c(t)&&e._renderCircle(t,n,u,l,A)})))}}]),t}(jo);Qh.displayName="MarkSeries",Qh.propTypes=Uh({},jo.propTypes,{getNull:o().func,strokeWidth:o().number}),Qh.defaultProps={getNull:function(){return!0}};var Hh=Qh,Vh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Gh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var qh=Gh({},Zh.propTypes,{lineStyle:o().object,markStyle:o().object}),Xh=function(e){function t(){return Wh(this,t),Kh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Vh(t,[{key:"render",value:function(){var e=this.props,t=e.lineStyle,n=e.markStyle,r=e.style;return G.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--linemark"},G.createElement(Zh,Gh({},this.props,{style:Gh({},r,t)})),G.createElement(Hh,Gh({},this.props,{style:Gh({},r,n)})))}}],[{key:"defaultProps",get:function(){return Gh({},Zh.defaultProps,{lineStyle:{},markStyle:{}})}}]),t}(jo);Xh.displayName="LineMarkSeries",Xh.propTypes=qh;var Yh=Xh,Jh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var np=function(e){function t(){return ep(this,t),tp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$h(t,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(e,t){var n=e.data,r=e.marginLeft,i=e.marginTop,o=wo(e,"x"),a=wo(e,"y"),s=wo(e,"size")||function(e){return 5},u=wo(e,"fill")||wo(e,"color"),l=wo(e,"stroke")||wo(e,"color"),c=wo(e,"opacity");n.forEach((function(e){var n=de(u(e)),A=de(l(e)),f=c(e)||1;t.beginPath(),t.arc(o(e)+r,a(e)+i,s(e),0,2*Math.PI),t.fillStyle="rgba("+n.r+", "+n.g+", "+n.b+", "+f+")",t.fill(),t.strokeStyle="rgba("+A.r+", "+A.g+", "+A.b+", "+f+")",t.stroke()}))}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(jo);np.displayName="MarkSeriesCanvas",np.propTypes=Jh({},jo.propTypes);var rp=np,ip=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},op=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ap(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var up=function(e){function t(){return ap(this,t),sp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),op(t,[{key:"render",value:function(){return G.createElement("div",null)}}],[{key:"renderLayer",value:function(e,t){var n=e.curve,i=e.data,o=e.marginLeft,a=e.marginTop,s=e.strokeWidth,u=e.strokeDasharray;if(i&&0!==i.length){var l=wo(e,"x"),c=wo(e,"y"),A=de(Co(e,"stroke")||Co(e,"color")),f=Co(e,"opacity"),h=Number.isFinite(f)?f:1,p=Qa().x((function(e){return l(e)+o})).y((function(e){return c(e)+a}));"string"===typeof n&&r[n]?p=p.curve(r[n]):"function"===typeof n&&(p=p.curve(n)),t.beginPath(),t.strokeStyle="rgba("+A.r+", "+A.g+", "+A.b+", "+h+")",t.lineWidth=s,u&&t.setLineDash(u),p.context(t)(i),t.stroke(),t.closePath(),t.lineWidth=1,t.setLineDash([])}}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(jo);up.displayName="LineSeriesCanvas",up.defaultProps=ip({},jo.defaultProps,{strokeWidth:2}),up.propTypes=ip({},jo.propTypes,{strokeWidth:o().number});var lp=up,cp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ap=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function fp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var pp=function(e){function t(){return fp(this,t),hp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ap(t,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(e,t){lp.renderLayer(e,t),rp.renderLayer(e,t)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(jo);pp.displayName="LineMarkSeriesCanvas",pp.propTypes=cp({},jo.propTypes);var dp=pp,gp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function yp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var bp=function(e,t,n){return e.reduce((function(e,r,i){return e+" "+(i?"L":"M")+t(r)+" "+n(r)}),"")+" Z"},_p=function(e){function t(){return yp(this,t),mp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),vp(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.animation,i=n.color,o=n.className,a=n.data,s=n.marginLeft,u=n.marginTop,l=n.style;if(!a)return null;if(r)return G.createElement(Ke,gp({},this.props,{animatedProps:ea}),G.createElement(t,gp({},this.props,{animation:null})));var c=this._getAttributeFunctor("x"),A=this._getAttributeFunctor("y");return G.createElement("path",{className:"rv-xy-plot__series rv-xy-plot__series--polygon "+o,onMouseOver:function(t){return e._seriesMouseOverHandler(a,t)},onMouseOut:function(t){return e._seriesMouseOutHandler(a,t)},onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,fill:i||"#12939A",style:l,d:bp(a,c,A),transform:"translate("+s+","+u+")"})}}],[{key:"propTypes",get:function(){return gp({},jo.propTypes)}}]),t}(jo);_p.displayName="PolygonSeries";var wp=_p,xp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ep(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Sp=function(e){function t(){return Bp(this,t),Ep(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Cp(t,[{key:"render",value:function(){return G.createElement(kf,xp({},this.props,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}))}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:"x"===e,zeroBaseValue:"y"===e}}}]),t}(jo);Sp.displayName="VerticalBarSeries";var kp=Sp,Op=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Pp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Fp=function(e){function t(){return Pp(this,t),Mp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Tp(t,[{key:"render",value:function(){return null}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:"x"===e,zeroBaseValue:"y"===e}}},{key:"renderLayer",value:function(e,t){jf.renderLayer(Op({},e,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}),t)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(jo);Fp.displayName="HorizontalBarSeriesCanvas",Fp.propTypes=Op({},jo.propTypes);var Ip=Fp,Lp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rp=el.VERTICAL,Dp=Lp({},HA.propTypes,{direction:o().oneOf([Rp])}),Zp={direction:Rp,attr:"x"};function Up(e){return G.createElement(HA,e)}Up.displayName="VerticalGridLines",Up.propTypes=Dp,Up.defaultProps=Zp,Up.requiresSVG=!0;var jp=Up,Np=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Qp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Vp=function(e){function t(){return Qp(this,t),Hp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),zp(t,[{key:"render",value:function(){return G.createElement(oh,Np({},this.props,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}))}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:!1,zeroBaseValue:"y"===e}}}]),t}(jo);Vp.displayName="VerticalRectSeries";var Gp=Vp,Wp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function qp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Yp=function(e){function t(){return qp(this,t),Xp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Kp(t,[{key:"render",value:function(){return null}}],[{key:"getParentConfig",value:function(e){return{isDomainAdjustmentNeeded:!1,zeroBaseValue:"y"===e}}},{key:"renderLayer",value:function(e,t){vh.renderLayer(Wp({},e,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}),t)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),t}(jo);Yp.displayName="HorizontalRectSeriesCanvas",Yp.propTypes=Wp({},jo.propTypes);var Jp=Yp,$p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ed=function(e){return e};function td(e){var t=e.className,n=e.extent,r=e.nodes,i=e.onBlur,o=e.onClick,a=e.onMouseUp,s=e.onMouseDown,u=e.onHover,l=e.polygonStyle,c=e.style,A=e.x,f=e.y,h=V().x(A||wo(e,"x")).y(f||wo(e,"y")).extent(n||function(e){var t=e.innerWidth,n=e.innerHeight,r=e.marginLeft,i=e.marginTop;return[[r,i],[t+r,n+i]]}(e)).polygons(r),p=function(e){return function(t){t.preventDefault();var n=function(e){var t=e.nativeEvent,n=t.pageX,r=t.pageY,i=document.elementFromPoint(n,r);if(!i)return-1;var o=i.parentNode;return Array.prototype.indexOf.call(o.childNodes,i)}(t);if(n>-1&&n<h.length){var r=h[n];e(r.data)}}};return G.createElement("g",{className:t+" rv-voronoi",style:c,onTouchEnd:p(a),onTouchStart:p(s),onTouchMove:p(u),onTouchCancel:p(i)},h.map((function(e,t){return G.createElement("path",{className:"rv-voronoi__cell "+(e.data&&e.data.className||""),d:"M"+e.join("L")+"Z",onClick:function(){return o(e.data)},onMouseUp:function(){return a(e.data)},onMouseDown:function(){return s(e.data)},onMouseOver:function(){return u(e.data)},onMouseOut:function(){return i(e.data)},fill:"none",style:$p({pointerEvents:"all"},l,e.data&&e.data.style),key:t})})))}td.requiresSVG=!0,td.displayName="Voronoi",td.defaultProps={className:"",onBlur:ed,onClick:ed,onHover:ed,onMouseDown:ed,onMouseUp:ed},td.propTypes={className:o().string,extent:o().arrayOf(o().arrayOf(o().number)),nodes:o().arrayOf(o().object).isRequired,onBlur:o().func,onClick:o().func,onHover:o().func,onMouseDown:o().func,onMouseUp:o().func,x:o().func,y:o().func};var nd=td,rd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),id=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function od(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ad(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var sd=function(e){function t(){return od(this,t),ad(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),rd(t,[{key:"render",value:function(){var e=this.props,n=e.animation,r=e.className,i=e.crossBarWidth,o=e.data,a=e.marginLeft,s=e.marginTop,u=e.strokeWidth,l=e.style;if(!o)return null;if(n)return G.createElement(Ke,id({},this.props,{animatedProps:ea}),G.createElement(t,id({},this.props,{animation:null})));var c={crossBarWidth:i,opacityFunctor:this._getAttributeFunctor("opacity"),sizeFunctor:this._getAttributeFunctor("size"),strokeFunctor:this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),strokeWidth:u,style:l,xFunctor:this._getAttributeFunctor("x"),yFunctor:this._getAttributeFunctor("y"),valueClickHandler:this._valueClickHandler,valueRightClickHandler:this._valueRightClickHandler,valueMouseOverHandler:this._valueMouseOverHandler,valueMouseOutHandler:this._valueMouseOutHandler};return G.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--whisker "+r,transform:"translate("+a+","+s+")"},o.map(function(e){return function(t,n){var r=e.crossBarWidth,i=e.opacityFunctor,o=e.sizeFunctor,a=e.strokeFunctor,s=e.strokeWidth,u=e.style,l=e.valueClickHandler,c=e.valueMouseOutHandler,A=e.valueMouseOverHandler,f=e.valueRightClickHandler,h=e.xFunctor,p=e.yFunctor,d=o?o(t):0,g=h(t),v=p(t),y=h({x:t.x+t.xVariance/2}),m=h({x:t.x-t.xVariance/2}),b=p({y:t.y+t.yVariance/2}),_=p({y:t.y-t.yVariance/2}),w=y&&g+d<y,x=b&&v-d>b;if(!w&&!x)return null;var C=id({opacity:i?i(t):1,stroke:a&&a(t),strokeWidth:s||1},u),B=r/2,E={x1:g+d,y1:v,x2:y,y2:v,style:C},S={x1:g-d,y1:v,x2:m,y2:v,style:C},k={x1:y,y1:v-B,x2:y,y2:v+B,style:C},O={x1:m,y1:v-B,x2:m,y2:v+B,style:C},T={x1:g,y1:v-d,x2:g,y2:b,style:C},P={x1:g,y1:v+d,x2:g,y2:_,style:C},M={x1:g-B,y1:b,x2:g+B,y2:b,style:C},F={x1:g-B,y1:_,x2:g+B,y2:_,style:C};return G.createElement("g",{className:"mark-whiskers",key:n,onClick:function(e){return l(t,e)},onContextMenu:function(e){return f(t,e)},onMouseOver:function(e){return A(t,e)},onMouseOut:function(e){return c(t,e)}},w?G.createElement("g",{className:"x-whiskers"},G.createElement("line",E),G.createElement("line",S),G.createElement("line",k),G.createElement("line",O)):null,x?G.createElement("g",{className:"y-whiskers"},G.createElement("line",T),G.createElement("line",P),G.createElement("line",M),G.createElement("line",F)):null)}}(c)))}}]),t}(jo);sd.displayName="WhiskerSeries",sd.propTypes=id({},jo.propTypes,{strokeWidth:o().number}),sd.defaultProps=id({},jo.defaultProps,{crossBarWidth:6,size:0,strokeWidth:1});var ud=sd,ld=n(358),cd=n.n(ld),Ad=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function fd(e,t){var n=e.margin,r=e.width,i=e.height,o=Ad({},t,"number"===typeof n?{left:n,right:n,top:n,bottom:n}:n),a=o.left,s=void 0===a?0:a,u=o.top,l=void 0===u?0:u,c=o.right,A=void 0===c?0:c,f=o.bottom,h=void 0===f?0:f;return{marginLeft:s,marginTop:l,marginRight:A,marginBottom:h,innerHeight:i-h-l,innerWidth:r-s-A}}function hd(e,t,n){var r=e/2-n,i=t/2-n;return{bottom:i,left:r,right:r,top:i}}var pd=o().oneOfType([o().shape({left:o().number,top:o().number,right:o().number,bottom:o().number}),o().number]),dd={left:40,right:10,top:10,bottom:40},gd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function yd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function md(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function bd(e,t,n,r,i){e.clearRect(0,0,n,t),r.forEach((function(t){var n=t.interpolator,r=t.newProps,o=t.animation?n?n(i/30):n:function(){return{}};t.renderLayer(vd({},r,o),e)}))}var _d=function(e){function t(){return yd(this,t),md(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),gd(t,[{key:"componentDidMount",value:function(){var e=this.canvas.getContext("2d");if(e){var t=this.props.pixelRatio;e&&(e.scale(t,t),this.drawChildren(null,this.props,e))}}},{key:"componentDidUpdate",value:function(e){this.drawChildren(e,this.props,this.canvas.getContext("2d"))}},{key:"drawChildren",value:function(e,t,n){var r=t.children,i=t.innerHeight,o=t.innerWidth,a=t.marginBottom,s=t.marginLeft,u=t.marginRight,l=t.marginTop;if(n){var c,A,f=r.find((function(e){return e.props.animation})),h=i+l+a,p=o+s+u,d=(c=t.children,A=e?e.children:[],c.map((function(e,t){var n=A[t]?A[t].props:{},r=e.props,i=je(Ge(vd({},n,{animatedProps:ea})),r?Ge(vd({},r,{animatedProps:ea})):null);return{renderLayer:e.type.renderLayer,newProps:e.props,animation:e.props.animation,interpolator:i}})));f?function(e,t,n,r){var i=0,o=setInterval((function(){e?(bd(e,t,n,r,i),i>30&&clearInterval(o),i+=1):clearInterval(o)}),1)}(n,h,p,d):bd(n,h,p,d)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.innerHeight,r=t.innerWidth,i=t.marginBottom,o=t.marginLeft,a=t.marginRight,s=t.marginTop,u=t.pixelRatio,l=n+s+i,c=r+o+a;return G.createElement("div",{style:{left:0,top:0},className:"rv-xy-canvas"},G.createElement("canvas",{className:"rv-xy-canvas-element",height:l*u,width:c*u,style:{height:l+"px",width:c+"px"},ref:function(t){return e.canvas=t}}),this.props.children)}}],[{key:"defaultProps",get:function(){return{pixelRatio:window&&window.devicePixelRatio||1}}}]),t}(G.Component);_d.displayName="CanvasWrapper",_d.propTypes={marginBottom:o().number.isRequired,marginLeft:o().number.isRequired,marginRight:o().number.isRequired,marginTop:o().number.isRequired,innerHeight:o().number.isRequired,innerWidth:o().number.isRequired,pixelRatio:o().number.isRequired};var wd=_d,xd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Cd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Bd=["x","y","radius","angle","color","fill","stroke","opacity","size"];function Ed(e){return e.map((function(e){return Array.isArray(e)?e.map((function(e){return Cd({},e,{parent:null})})):e}))}var Sd=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));kd.call(n);var r=e.stackBy,i=Yo(Xo(e.children),r);return n.state={scaleMixins:n._getScaleMixins(i,e),data:i},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xd(t,null,[{key:"defaultProps",get:function(){return{className:""}}},{key:"propTypes",get:function(){return{animation:qe,className:o().string,dontCheckIfEmpty:o().bool,height:o().number.isRequired,margin:pd,onClick:o().func,onDoubleClick:o().func,onMouseDown:o().func,onMouseUp:o().func,onMouseEnter:o().func,onMouseLeave:o().func,onMouseMove:o().func,onTouchStart:o().func,onTouchMove:o().func,onTouchEnd:o().func,onTouchCancel:o().func,onWheel:o().func,stackBy:o().oneOf(Bd),style:o().object,width:o().number.isRequired}}}]),xd(t,[{key:"componentWillReceiveProps",value:function(e){var t=Yo(Xo(e.children),e.stackBy),n=this.state.scaleMixins,r=this._getScaleMixins(t,e);(function(e,t,n){var r=Cd({},e,{_allData:n?Ed(e._allData):e._allData}),i=Cd({},t,{_allData:n?Ed(t._allData):t._allData});return cd()(r,i)})(r,n,e.hasTreeStructure)||this.setState({scaleMixins:r,data:t})}},{key:"_getClonedChildComponents",value:function(){var e=this,t=this.props,n=this.props.animation,r=this.state,i=r.scaleMixins,o=r.data,a=fd(this.props,dd),s=G.Children.toArray(this.props.children),u=Jo(s),l=To(t,s);return s.map((function(t,r){var s=null;if(u[r]){var c=u[r].seriesIndex;s={data:o[c]}}return G.cloneElement(t,Cd({},a,{animation:n},s&&t.type.prototype&&t.type.prototype.render?{ref:function(t){return e["series"+u[r].seriesIndex]=t}}:{},u[r],i,t.props,l[r],s))}))}},{key:"_getDefaultScaleProps",value:function(e){var t=fd(e,dd),n=t.innerWidth,r=t.innerHeight,i=["color","fill","stroke"].reduce((function(t,n){var r="category"===e[n+"Type"]?zo:Qo;return Cd({},t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n+"Range",r))}),{});return Cd({xRange:[0,n],yRange:[r,0]},i,{opacityType:Vo,sizeRange:Ho})}},{key:"_getScaleMixins",value:function(e,t){var n,r=e.filter((function(e){return e})),i=(n=[]).concat.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)),o=this._getDefaultScaleProps(t),a=Mo(t),s=Eo(t,Bd),u=So(Cd({},o,a,s),i,Bd),l=Xo(t.children),c={},A=new Set,f=new Set;return l.forEach((function(n,r){n&&e[r]&&Bd.forEach((function(e){var i=n.type.getParentConfig(e,n.props),o=i.isDomainAdjustmentNeeded,a=i.zeroBaseValue;if(o&&(A.add(e),f.add(r)),a){var s=t[e+"Domain"];c[e+"BaseValue"]=s?s[0]:0}}))})),Cd({},o,c,s,u,{_allData:e,_adjustBy:Array.from(A),_adjustWhat:Array.from(f),_stackBy:t.stackBy})}},{key:"_isPlotEmpty",value:function(){var e=this.state.data;return!e||!e.length||!e.some((function(e){return e&&e.some((function(e){return e}))}))}},{key:"renderCanvasComponents",value:function(e,t){var n=e.filter((function(e){return e&&!e.type.requiresSVG&&e.type.isCanvas}));if(0===n.length)return null;var r=n[0].props,i=r.marginLeft,o=r.marginTop,a=r.marginBottom,s=r.marginRight,u=r.innerHeight,l=r.innerWidth;return G.createElement(wd,{innerHeight:u,innerWidth:l,marginLeft:i,marginTop:o,marginBottom:a,marginRight:s},n)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.dontCheckIfEmpty,r=e.style,i=e.width,o=e.height;if(!n&&this._isPlotEmpty())return G.createElement("div",{className:"rv-xy-plot "+t,style:Cd({width:i+"px",height:o+"px"},this.props.style)});var a=this._getClonedChildComponents();return G.createElement("div",{style:{width:i+"px",height:o+"px"},className:"rv-xy-plot "+t},G.createElement("svg",{className:"rv-xy-plot__inner",width:i,height:o,style:r,onClick:this._clickHandler,onDoubleClick:this._doubleClickHandler,onMouseDown:this._mouseDownHandler,onMouseUp:this._mouseUpHandler,onMouseMove:this._mouseMoveHandler,onMouseLeave:this._mouseLeaveHandler,onMouseEnter:this._mouseEnterHandler,onTouchStart:this._mouseDownHandler,onTouchMove:this._touchMoveHandler,onTouchEnd:this._touchEndHandler,onTouchCancel:this._touchCancelHandler,onWheel:this._wheelHandler},a.filter((function(e){return e&&e.type.requiresSVG}))),this.renderCanvasComponents(a,this.props),a.filter((function(e){return e&&!e.type.requiresSVG&&!e.type.isCanvas})))}}]),t}(G.Component),kd=function(){var e=this;this._clickHandler=function(t){var n=e.props.onClick;n&&n(t)},this._doubleClickHandler=function(t){var n=e.props.onDoubleClick;n&&n(t)},this._mouseDownHandler=function(t){var n=e.props,r=n.onMouseDown,i=n.children;r&&r(t),Xo(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentMouseDown&&i.onParentMouseDown(t)}))},this._mouseEnterHandler=function(t){var n=e.props,r=n.onMouseEnter,i=n.children;r&&r(t),Xo(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentMouseEnter&&i.onParentMouseEnter(t)}))},this._mouseLeaveHandler=function(t){var n=e.props,r=n.onMouseLeave,i=n.children;r&&r(t),Xo(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentMouseLeave&&i.onParentMouseLeave(t)}))},this._mouseMoveHandler=function(t){var n=e.props,r=n.onMouseMove,i=n.children;r&&r(t),Xo(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentMouseMove&&i.onParentMouseMove(t)}))},this._mouseUpHandler=function(t){var n=e.props,r=n.onMouseUp,i=n.children;r&&r(t),Xo(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentMouseUp&&i.onParentMouseUp(t)}))},this._touchCancelHandler=function(t){var n=e.props.onTouchCancel;n&&n(t)},this._touchEndHandler=function(t){var n=e.props.onTouchEnd;n&&n(t)},this._touchMoveHandler=function(t){var n=e.props,r=n.onTouchMove,i=n.children;r&&r(t),Xo(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentTouchMove&&i.onParentTouchMove(t)}))},this._touchStartHandler=function(t){var n=e.props,r=n.onTouchStart,i=n.children;r&&r(t),Xo(i).forEach((function(n,r){var i=e["series"+r];i&&i.onParentTouchStart&&i.onParentTouchStart(t)}))},this._wheelHandler=function(t){var n=e.props.onWheel;n&&n(t)}};Sd.displayName="XYPlot";var Od=Sd,Td=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pd=$u.LEFT,Md=$u.RIGHT,Fd=$u.TOP,Id=$u.BOTTOM,Ld={height:o().number.isRequired,style:o().object,orientation:o().oneOf([Pd,Md,Fd,Id]).isRequired,width:o().number.isRequired};function Rd(e){var t=e.orientation,n=e.width,r=e.height,i=e.style,o=void 0;return o=t===Pd?{x1:n,x2:n,y1:0,y2:r}:t===Md?{x1:0,x2:0,y1:0,y2:r}:t===Fd?{x1:0,x2:n,y1:r,y2:r}:{x1:0,x2:n,y1:0,y2:0},G.createElement("line",Td({},o,{className:"rv-xy-plot__axis__line",style:i}))}Rd.defaultProps={style:{}},Rd.displayName="AxisLine",Rd.propTypes=Ld;var Dd=Rd,Zd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ud=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Qd=$u.LEFT,Hd=$u.RIGHT,Vd=$u.TOP,Gd=$u.BOTTOM,Wd={height:o().number.isRequired,orientation:o().oneOf([Qd,Hd,Vd,Gd]).isRequired,style:o().object,width:o().number.isRequired};var Kd=function(e){function t(){return Nd(this,t),zd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ud(t,[{key:"_areTicksWrapped",value:function(){var e=this.props.orientation;return e===Qd||e===Vd}},{key:"_getTickContainerPropsGetterFn",value:function(){return this._isAxisVertical()?function(e){return{transform:"translate(0, "+e+")"}}:function(e){return{transform:"translate("+e+", 0)"}}}},{key:"_getTickLabelProps",value:function(){var e=this.props,t=e.orientation,n=e.tickLabelAngle,r=e.tickSize,i=e.tickSizeOuter,o=void 0===i?r:i,a=e.tickPadding,s=void 0===a?r:a,u=void 0;u=t===Qd||t===Gd&&n?"end":t===Hd||t===Vd&&n?"start":"middle";var l=this._isAxisVertical(),c=(this._areTicksWrapped()?-1:1)*(o+s);return{textAnchor:u,dy:t===Vd||n?"0":t===Gd?"0.72em":"0.32em",transform:(l?"translate("+c+", 0)":"translate(0, "+c+")")+(n?" rotate("+n+")":"")}}},{key:"_getTickLineProps",value:function(){var e,t=this.props,n=t.tickSize,r=t.tickSizeOuter,i=void 0===r?n:r,o=t.tickSizeInner,a=void 0===o?n:o,s=this._isAxisVertical(),u=s?"y":"x",l=s?"x":"y",c=this._areTicksWrapped()?-1:1;return jd(e={},u+"1",0),jd(e,u+"2",0),jd(e,l+"1",-c*a),jd(e,l+"2",c*i),e}},{key:"_isAxisVertical",value:function(){var e=this.props.orientation;return e===Qd||e===Hd}},{key:"render",value:function(){var e=this.props,t=e.attr,n=e.orientation,r=e.width,i=e.height,o=e.style,a=e.tickFormat,s=e.tickTotal,u=e.tickValues,l=n===Qd?r:0,c=n===Vd?i:0,A=mo(this.props,t),f=nl(A,s,u),h=function(e,t,n){return n||(e.tickFormat?e.tickFormat(t):function(e){return e})}(A,s,a),p=this._getTickContainerPropsGetterFn(),d=this._getTickLineProps(),g=this._getTickLabelProps(),v=f.map((function(e,t){var n=A(e),i=h(e,t,A,s),a=G.isValidElement(i)&&!["tspan","textPath"].includes(i.type),u=i&&"string"!==typeof i.type;return G.createElement("g",Zd({key:t},p(n,0),{className:"rv-xy-plot__axis__tick",style:o}),G.createElement("line",Zd({},d,{className:"rv-xy-plot__axis__tick__line",style:Zd({},o,o.line)})),a?G.cloneElement(i,u?Zd({},g,{containerWidth:r,tickCount:f.length}):void 0):G.createElement("text",Zd({},g,{className:"rv-xy-plot__axis__tick__text",style:Zd({},o,o.text)}),i))}));return G.createElement("g",{transform:"translate("+l+", "+c+")",className:"rv-xy-plot__axis__ticks"},v)}}]),t}(G.Component);Kd.defaultProps={style:{}},Kd.displayName="AxisTicks",Kd.propTypes=Wd,Kd.requiresSVG=!0;var qd=Kd,Xd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Yd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jd=16,$d=$u.LEFT,eg=$u.RIGHT,tg=$u.TOP,ng=$u.BOTTOM,rg={width:o().number.isRequired,height:o().number.isRequired,orientation:o().oneOf([$d,eg,tg,ng]).isRequired,style:o().object,title:o().string.isRequired};function ig(e){var t=e.orientation,n=e.position,r=e.width,i=e.height,o=e.style,a=e.title,s="translate("+(t===$d?r:0)+", "+(t===tg?i:0)+")",u=function(e,t){var n;return Yd(n={},$d,{end:{x:Jd,y:6,rotation:-90,textAnchor:"end"},middle:{x:Jd,y:t/2-6,rotation:-90,textAnchor:"middle"},start:{x:Jd,y:t-6,rotation:-90,textAnchor:"start"}}),Yd(n,eg,{end:{x:-8,y:6,rotation:-90,textAnchor:"end"},middle:{x:-8,y:t/2-6,rotation:-90,textAnchor:"middle"},start:{x:-8,y:t-6,rotation:-90,textAnchor:"start"}}),Yd(n,tg,{start:{x:6,y:Jd,rotation:0,textAnchor:"start"},middle:{x:e/2-6,y:Jd,rotation:0,textAnchor:"middle"},end:{x:e-6,y:Jd,rotation:0,textAnchor:"end"}}),Yd(n,ng,{start:{x:6,y:-6,rotation:0,textAnchor:"start"},middle:{x:e/2-6,y:-6,rotation:0,textAnchor:"middle"},end:{x:e-6,y:-6,rotation:0,textAnchor:"end"}}),n}(r,i)[t][n],l=u.x,c=u.y,A=u.rotation,f=u.textAnchor,h="translate("+l+", "+c+") rotate("+A+")";return G.createElement("g",{transform:s,className:"rv-xy-plot__axis__title"},G.createElement("g",{style:Xd({textAnchor:f},o),transform:h},G.createElement("text",{style:o},a)))}ig.displayName="AxisTitle",ig.propTypes=rg,ig.defaultProps={position:"end"};var og=ig,ag=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ug(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var cg=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickSize","tickTotal","tickSizeInner","tickSizeOuter"],Ag=$u.LEFT,fg=$u.RIGHT,hg=$u.TOP,pg=$u.BOTTOM,dg={orientation:o().oneOf([Ag,fg,hg,pg]),attr:o().string.isRequired,attrAxis:o().string,width:o().number,height:o().number,top:o().number,left:o().number,title:o().string,style:o().object,className:o().string,hideTicks:o().bool,hideLine:o().bool,on0:o().bool,tickLabelAngle:o().number,tickSize:o().number,tickSizeInner:o().number,tickSizeOuter:o().number,tickPadding:o().number,tickValues:o().arrayOf(o().oneOfType([o().number,o().string])),tickFormat:o().func,tickTotal:o().number,marginTop:o().number,marginBottom:o().number,marginLeft:o().number,marginRight:o().number,innerWidth:o().number,innerHeight:o().number},gg={className:"",on0:!1,style:{},tickSize:6,tickPadding:8,orientation:pg},vg=function(e){function t(){return ug(this,t),lg(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),sg(t,[{key:"_getDefaultAxisProps",value:function(){var e=this.props,t=e.innerWidth,n=e.innerHeight,r=e.marginTop,i=e.marginBottom,o=e.marginLeft,a=e.marginRight,s=e.orientation;return s===pg?{tickTotal:tl(t),top:n+r,left:o,width:t,height:i}:s===hg?{tickTotal:tl(t),top:0,left:o,width:t,height:r}:s===Ag?{tickTotal:tl(n),top:r,left:0,width:o,height:n}:{tickTotal:tl(n),top:r,left:o+t,width:a,height:n}}},{key:"render",value:function(){var e=this.props.animation;if(e){var n=e.nonAnimatedProps?cg.filter((function(t){return e.nonAnimatedProps.indexOf(t)<0})):cg;return G.createElement(Ke,ag({},this.props,{animatedProps:n}),G.createElement(t,ag({},this.props,{animation:null})))}var r=ag({},this._getDefaultAxisProps(),this.props),i=r.attrAxis,o=r.className,a=r.height,s=r.hideLine,u=r.hideTicks,l=r.left,c=r.marginTop,A=r.on0,f=r.orientation,h=r.position,p=r.style,d=r.title,g=r.top,v=r.width,y=[Ag,fg].indexOf(f)>-1,m=y?"rv-xy-plot__axis--vertical":"rv-xy-plot__axis--horizontal",b=l,_=g;if(A){var w=mo(r,i);y?b=w(0):_=c+w(0)}return G.createElement("g",{transform:"translate("+b+","+_+")",className:"rv-xy-plot__axis "+m+" "+o,style:p},!s&&G.createElement(Dd,{height:a,width:v,orientation:f,style:ag({},p,p.line)}),!u&&G.createElement(qd,ag({},r,{style:ag({},p,p.ticks)})),d?G.createElement(og,{position:h,title:d,height:a,width:v,style:ag({},p,p.title),orientation:f}):null)}}]),t}(G.PureComponent);vg.displayName="Axis",vg.propTypes=dg,vg.defaultProps=gg,vg.requiresSVG=!0;var yg=vg,mg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg=$u.TOP,_g=$u.BOTTOM,wg=mg({},yg.propTypes,{orientation:o().oneOf([bg,_g])}),xg={orientation:_g,attr:"x",attrAxis:"y"};function Cg(e){return G.createElement(yg,e)}Cg.displayName="XAxis",Cg.propTypes=wg,Cg.defaultProps=xg,Cg.requiresSVG=!0;var Bg=Cg,Eg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg=$u.LEFT,kg=$u.RIGHT,Og=Eg({},yg.propTypes,{orientation:o().oneOf([Sg,kg])}),Tg={orientation:Sg,attr:"y",attrAxis:"x"};function Pg(e){return G.createElement(yg,e)}Pg.displayName="YAxis",Pg.propTypes=Og,Pg.defaultProps=Tg,Pg.requiresSVG=!0;var Mg=Pg,Fg={className:o().string,height:o().number,endColor:o().string,endTitle:o().oneOfType([o().number,o().string]).isRequired,midColor:o().string,midTitle:o().oneOfType([o().number,o().string]),startColor:o().string,startTitle:o().oneOfType([o().number,o().string]).isRequired,width:o().number},Ig={className:"",startColor:Qo[0],endColor:Qo[1]};function Lg(e){var t=e.startColor,n=e.midColor,r=e.endColor,i=e.startTitle,o=e.midTitle,a=e.endTitle,s=e.height,u=e.width,l=e.className,c=[t];return n&&c.push(n),c.push(r),G.createElement("div",{className:"rv-continuous-color-legend "+l,style:{width:u,height:s}},G.createElement("div",{className:"rv-gradient",style:{background:"linear-gradient(to right, "+c.join(",")+")"}}),G.createElement("div",{className:"rv-legend-titles"},G.createElement("span",{className:"rv-legend-titles__left"},i),G.createElement("span",{className:"rv-legend-titles__right"},a),o?G.createElement("span",{className:"rv-legend-titles__center"},o):null))}Lg.displayName="ContinuousColorLegend",Lg.propTypes=Fg,Lg.defaultProps=Ig;var Rg=Lg,Dg={className:o().string,circlesTotal:o().number,endSize:o().number,endTitle:o().oneOfType([o().number,o().string]).isRequired,height:o().number,startSize:o().number,startTitle:o().oneOfType([o().number,o().string]).isRequired,width:o().number};function Zg(e){for(var t=e.startTitle,n=e.endTitle,r=e.startSize,i=e.endSize,o=e.circlesTotal,a=e.height,s=e.width,u=e.className,l=[],c=(i-r)/(o-1),A=0;A<o;A++){var f=c*A+r;l.push(G.createElement("div",{key:A,className:"rv-bubble",style:{width:f,height:f,borderRadius:f/2}})),l.push(" ")}return G.createElement("div",{className:"rv-continuous-size-legend "+u,style:{width:s,height:a}},G.createElement("div",{className:"rv-bubbles",style:{height:i}},l,G.createElement("div",{className:"rv-spacer"})),G.createElement("div",{className:"rv-legend-titles"},G.createElement("span",{className:"rv-legend-titles__left"},t),G.createElement("span",{className:"rv-legend-titles__right"},n)))}Zg.displayName="ContinuousSizeLegend",Zg.propTypes=Dg,Zg.defaultProps={circlesTotal:10,className:"",endSize:20,startSize:2};var Ug=Zg,jg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng={dashed:"6, 2",solid:null};function zg(e){var t=e.color,n=e.strokeDasharray,r=e.strokeStyle,i=e.strokeWidth,o=e.disabled,a=e.onClick,s=e.orientation,u=e.onMouseEnter,l=e.onMouseLeave,c=e.title,A="rv-discrete-color-legend-item "+s;o&&(A+=" disabled"),a&&(A+=" clickable");var f=Ng[r]||n;return G.createElement("div",{className:A,onClick:a,onMouseEnter:u,onMouseLeave:l},G.createElement("svg",{className:"rv-discrete-color-legend-item__color",height:2,width:14},G.createElement("path",{className:"rv-discrete-color-legend-item__color__path",d:"M 0, 1 L 14, 1",style:jg({},i?{strokeWidth:i}:{},f?{strokeDasharray:f}:{},{stroke:o?null:t})})),G.createElement("span",{className:"rv-discrete-color-legend-item__title"},c))}zg.propTypes={color:o().string.isRequired,disabled:o().bool,title:o().oneOfType([o().string,o().element]).isRequired,onClick:o().func,onMouseEnter:o().func,onMouseLeave:o().func,orientation:o().oneOf(["vertical","horizontal"]).isRequired,strokeDasharray:o().string,strokeWidth:o().number,strokeStyle:o().oneOf(Object.keys(Ng))},zg.defaultProps={disabled:!1,strokeStyle:"solid"},zg.displayName="DiscreteColorLegendItem";var Qg=zg,Hg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Vg(e){var t=e.className,n=e.colors,r=e.height,i=e.items,o=e.onItemClick,a=e.onItemMouseEnter,s=e.onItemMouseLeave,u=e.orientation,l=e.style,c=e.width;return G.createElement("div",{className:"rv-discrete-color-legend "+u+" "+t,style:Hg({width:c,height:r},l)},i.map((function(e,t){return G.createElement(Qg,{title:e.title?e.title:e,color:e.color?e.color:n[t%n.length],strokeDasharray:e.strokeDasharray,strokeStyle:e.strokeStyle,strokeWidth:e.strokeWidth,disabled:Boolean(e.disabled),orientation:u,key:t,onClick:o?function(n){return o(e,t,n)}:null,onMouseEnter:a?function(n){return a(e,t,n)}:null,onMouseLeave:a?function(n){return s(e,t,n)}:null})})))}Vg.displayName="DiscreteColorLegendItem",Vg.propTypes={className:o().string,items:o().arrayOf(o().oneOfType([o().shape({title:o().oneOfType([o().string,o().element]).isRequired,color:o().string,disabled:o().bool}),o().string.isRequired,o().element])).isRequired,onItemClick:o().func,onItemMouseEnter:o().func,onItemMouseLeave:o().func,height:o().number,width:o().number,orientation:o().oneOf(["vertical","horizontal"])},Vg.defaultProps={className:"",colors:No,orientation:"vertical"};var Gg=Vg,Wg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kg=Wg({},Gg.propTypes,{searchText:o().string,onSearchChange:o().func,searchPlaceholder:o().string,searchFn:o().func}),qg={className:"",searchText:"",searchFn:function(e,t){return e.filter((function(e){return-1!==String(e.title||e).toLowerCase().indexOf(t)}))}};function Xg(e){var t=e.className,n=e.colors,r=e.height,i=e.items,o=e.onItemClick,a=e.onSearchChange,s=e.orientation,u=e.searchFn,l=e.searchPlaceholder,c=e.searchText,A=e.width,f=a?function(e){var t=e.target.value;return a(t)}:null,h=u(i,c);return G.createElement("div",{className:"rv-search-wrapper "+t,style:{width:A,height:r}},G.createElement("form",{className:"rv-search-wrapper__form"},G.createElement("input",{type:"search",placeholder:l,className:"rv-search-wrapper__form__input",value:c,onChange:f})),G.createElement("div",{className:"rv-search-wrapper__contents"},G.createElement(Gg,{colors:n,items:h,onItemClick:o,orientation:s})))}Xg.propTypes=Kg,Xg.defaultProps=qg,Xg.displayName="SearchableDiscreteColorLegend";var Yg=Xg,Jg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ev(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var rv="rv-parallel-coordinates-chart",iv=(0,jt.WU)(".2r");function ov(e){var t=e.domains,n=e.style;return t.map((function(e,t){return{x:e.name,y:1.1,label:e.name,style:n}}))}var av=function(e){function t(){var e,n,r;tv(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=nv(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={brushFilters:{}},nv(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Jg(t,[{key:"render",value:function(){var e=this,t=this.state.brushFilters,n=this.props,r=n.animation,i=n.brushing,o=n.className,a=n.children,s=n.colorRange,u=n.data,l=n.domains,c=n.height,A=n.hideInnerMostValues,f=n.margin,h=n.onMouseLeave,p=n.onMouseEnter,d=n.showMarks,g=n.style,v=n.tickFormat,y=n.width,m=function(e){var t=e.animation,n=e.domains,r=e.style,i=e.tickFormat;return n.map((function(e,n){var o=e.domain;return G.createElement(TA,{animation:t,key:n+"-axis",axisStart:{x:e.name,y:0},axisEnd:{x:e.name,y:1},axisDomain:o,numberOfTicks:5,tickValue:function(t){return e.tickFormat?e.tickFormat(t):i(t)},style:r.axes})}))}({domains:l,animation:r,hideInnerMostValues:A,style:g,tickFormat:v}),b=function(e){var t=e.animation,n=e.brushFilters,r=e.colorRange,i=e.domains,o=e.data,a=e.style,s=e.showMarks,u=i.reduce((function(e,t){var n=t.domain;return e[t.name]=Ht().domain(n).range([0,1]),e}),{});return o.map((function(e,o){var l=!0,c=i.map((function(t,r){var i=t.getValue,o=t.name,a=u[o](i?i(e):e[o]),s=n[o];return s&&(a<s.min||a>s.max)&&(l=!1),{x:o,y:a}})),A={animation:t,className:l?"rv-parallel-coordinates-chart-line":"rv-parallel-coordinates-chart-line rv-parallel-coordinates-chart-line-unselected",key:o+"-polygon",data:c,color:e.color||r[o%r.length],style:$g({},a.lines,e.style||{})};return l||(A.style=$g({},A.style,a.deselectedLineStyle)),s?G.createElement(Yh,A):G.createElement(Zh,A)}))}({animation:r,brushFilters:t,colorRange:s,domains:l,data:u,showMarks:d,style:g}),_=G.createElement(Ph,{animation:!0,key:o,className:"rv-parallel-coordinates-chart-label",data:ov({domains:l,style:g.labels})}),w=fd(this.props,dd),x=w.marginLeft,C=w.marginRight;return G.createElement(Od,{height:c,width:y,margin:f,dontCheckIfEmpty:!0,className:o+" "+rv,onMouseLeave:h,onMouseEnter:p,xType:"ordinal",yDomain:[0,1]},a,m.concat(b).concat(_),i&&l.map((function(n){var r=function(r){e.setState({brushFilters:$g({},t,ev({},n.name,r?{min:r.bottom,max:r.top}:null))})};return G.createElement(ff,{key:n.name,drag:!0,highlightX:n.name,onBrushEnd:r,onDragEnd:r,highlightWidth:(y-x-C)/l.length,enableX:!1})})))}}]),t}(G.Component);av.displayName="ParallelCoordinates",av.propTypes={animation:qe,brushing:o().bool,className:o().string,colorType:o().string,colorRange:o().arrayOf(o().string),data:o().arrayOf(o().object).isRequired,domains:o().arrayOf(o().shape({name:o().string.isRequired,domain:o().arrayOf(o().number).isRequired,tickFormat:o().func})).isRequired,height:o().number.isRequired,margin:pd,style:o().shape({axes:o().object,labels:o().object,lines:o().object}),showMarks:o().bool,tickFormat:o().func,width:o().number.isRequired},av.defaultProps={className:"",colorType:"category",colorRange:No,style:{axes:{line:{},ticks:{},text:{}},labels:{fontSize:10,textAnchor:"middle"},lines:{strokeWidth:1,strokeOpacity:1},deselectedLineStyle:{strokeOpacity:.1}},tickFormat:iv};var sv=av,uv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lv="rv-radar-chart",cv=(0,jt.WU)(".2r");function Av(e){var t=1e-12;return Math.abs(e)<=t?e=0:e>0?Math.abs(e-.5)<=t&&(e=.5):e<0&&Math.abs(e+.5)<=t&&(e=-.5),e}function fv(e){var t=e.domains,n=e.startingAngle,r=e.style;return t.map((function(e,i){var o=e.name,a=i/t.length*Math.PI*2+n;return{x:1.2*Math.cos(a),y:1.2*Math.sin(a),label:o,style:r}}))}function hv(e){var t=e.animation,n=e.className,r=e.children,i=e.colorRange,o=e.data,a=e.domains,s=e.height,u=e.hideInnerMostValues,l=e.margin,c=e.onMouseLeave,A=e.onMouseEnter,f=e.startingAngle,h=e.style,p=e.tickFormat,d=e.width,g=e.renderAxesOverPolygons,v=e.onValueMouseOver,y=e.onValueMouseOut,m=e.onSeriesMouseOver,b=e.onSeriesMouseOut,_=function(e){var t=e.animation,n=e.domains,r=e.startingAngle,i=e.style,o=e.tickFormat,a=e.hideInnerMostValues;return n.map((function(e,s){var u=s/n.length*Math.PI*2+r,l=e.domain;return G.createElement(TA,{animation:t,key:s+"-axis",axisStart:{x:0,y:0},axisEnd:{x:Av(Math.cos(u)),y:Av(Math.sin(u))},axisDomain:l,numberOfTicks:5,tickValue:function(t){return a&&t===l[0]?"":e.tickFormat?e.tickFormat(t):o(t)},style:i.axes})}))}({domains:a,animation:t,hideInnerMostValues:u,startingAngle:f,style:h,tickFormat:p}),w=function(e){var t=e.animation,n=e.colorRange,r=e.domains,i=e.data,o=e.style,a=e.startingAngle,s=e.onSeriesMouseOver,u=e.onSeriesMouseOut,l=r.reduce((function(e,t){var n=t.domain;return e[t.name]=Ht().domain(n).range([0,1]),e}),{});return i.map((function(e,i){var c=r.map((function(t,n){var i=t.name,o=t.getValue,s=o?o(e):e[i],u=n/r.length*Math.PI*2+a,c=Math.max(l[i](s),0);return{x:c*Math.cos(u),y:c*Math.sin(u),name:e.name}}));return G.createElement(wp,{animation:t,className:"rv-radar-chart-polygon",key:i+"-polygon",data:c,style:uv({stroke:e.color||e.stroke||n[i%n.length],fill:e.color||e.fill||n[i%n.length]},o.polygons),onSeriesMouseOver:s,onSeriesMouseOut:u})}))}({animation:t,colorRange:i,domains:a,data:o,startingAngle:f,style:h,onSeriesMouseOver:m,onSeriesMouseOut:b}),x=function(e){var t=e.animation,n=e.domains,r=e.data,i=e.startingAngle,o=e.style,a=e.onValueMouseOver,s=e.onValueMouseOut;if(a){var u=n.reduce((function(e,t){var n=t.domain;return e[t.name]=Ht().domain(n).range([0,1]),e}),{});return r.map((function(e,r){var l=n.map((function(t,r){var o=t.name,a=t.getValue,s=a?a(e):e[o],l=r/n.length*Math.PI*2+i,c=Math.max(u[o](s),0);return{x:c*Math.cos(l),y:c*Math.sin(l),domain:o,value:s,dataName:e.name}}));return G.createElement(Hh,{animation:t,className:"rv-radar-chart-polygonPoint",key:r+"-polygonPoint",data:l,size:10,style:uv({},o.polygons,{fill:"transparent",stroke:"transparent"}),onValueMouseOver:a,onValueMouseOut:s})}))}}({animation:t,colorRange:i,domains:a,data:o,startingAngle:f,style:h,onValueMouseOver:v,onValueMouseOut:y}),C=G.createElement(Ph,{animation:t,key:n,className:"rv-radar-chart-label",data:fv({domains:a,style:h.labels,startingAngle:f})});return G.createElement(Od,{height:s,width:d,margin:l,dontCheckIfEmpty:!0,className:n+" "+lv,onMouseLeave:c,onMouseEnter:A,xDomain:[-1,1],yDomain:[-1,1]},r,!g&&_.concat(w).concat(C).concat(x),g&&w.concat(C).concat(_).concat(x))}hv.displayName="RadarChart",hv.propTypes={animation:qe,className:o().string,colorType:o().string,colorRange:o().arrayOf(o().string),data:o().arrayOf(o().object).isRequired,domains:o().arrayOf(o().shape({name:o().string.isRequired,domain:o().arrayOf(o().number).isRequired,tickFormat:o().func})).isRequired,height:o().number.isRequired,hideInnerMostValues:o().bool,margin:pd,startingAngle:o().number,style:o().shape({axes:o().object,labels:o().object,polygons:o().object}),tickFormat:o().func,width:o().number.isRequired,renderAxesOverPolygons:o().bool,onValueMouseOver:o().func,onValueMouseOut:o().func,onSeriesMouseOver:o().func,onSeriesMouseOut:o().func},hv.defaultProps={className:"",colorType:"category",colorRange:No,hideInnerMostValues:!0,startingAngle:Math.PI/2,style:{axes:{line:{},ticks:{},text:{}},labels:{fontSize:10,textAnchor:"middle"},polygons:{strokeWidth:.5,strokeOpacity:1,fillOpacity:.1}},tickFormat:cv,renderAxesOverPolygons:!1};var pv=hv,dv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function gv(e){var t=e.animation,n=e.className,r=e.children,i=e.colorType,o=e.data,a=e.getAngle,s=e.getLabel,u=e.getSubLabel,l=e.height,c=e.hideRootNode,A=e.innerRadius,f=e.labelsAboveChildren,h=e.labelsRadiusMultiplier,p=e.labelsStyle,d=e.margin,g=e.onMouseLeave,v=e.onMouseEnter,y=e.radius,m=e.showLabels,b=e.style,_=e.width,w=function(e){var t=e.data,n=e.getAngle;return Wa().sort(null).value(n)(t).reverse().map((function(e,t){return dv({},e.data,{angle0:e.startAngle,angle:e.endAngle,radius0:e.data.innerRadius||0,radius:e.data.radius||1,color:e.data.color||t})}))}({data:o,height:l,hideRootNode:c,width:_,getAngle:a}),x=$o(w),C=dv({colorType:i},e,{animation:t,radiusDomain:[0,x],data:w,radiusNoFallBack:!0,style:b,arcClassName:"rv-radial-chart__series--pie__slice"});y&&(C.radiusDomain=[0,1],C.radiusRange=[A||0,y],C.radiusType="linear");var B=y||function(e,t){return Math.min(e,t)/2-15}(_,l),E=hd(_,l,B),S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.1,r=t.getLabel,i=t.getSubLabel;return e.reduce((function(e,t){var o=t.angle,a=t.angle0,s=t.radius,u=(o+a)/2*-1+Math.PI/2,l=[];return r(t)&&l.push({angle:u,radius:s*n,label:r(t)}),i(t)&&l.push({angle:u,radius:s*n,label:i(t),style:{fontSize:10},yOffset:12}),e.concat(l)}),[])}(w,{getLabel:s,getSubLabel:u},h);return G.createElement(Od,{height:l,width:_,margin:dv({},d,E),className:n+" rv-radial-chart",onMouseLeave:g,onMouseEnter:v,xDomain:[-x,x],yDomain:[-x,x]},G.createElement(Za,dv({},C,{getAngle:function(e){return e.angle}})),m&&!f&&G.createElement(Ph,{data:S,style:p}),r,m&&f&&G.createElement(Ph,{data:S,style:p}))}gv.displayName="RadialChart",gv.propTypes={animation:qe,className:o().string,colorType:o().string,data:o().arrayOf(o().shape({angle:o().number,className:o().string,label:o().string,radius:o().number,style:o().object})).isRequired,getAngle:o().func,getAngle0:o().func,padAngle:o().oneOfType([o().func,o().number]),getRadius:o().func,getRadius0:o().func,getLabel:o().func,height:o().number.isRequired,labelsAboveChildren:o().bool,labelsStyle:o().object,margin:pd,onValueClick:o().func,onValueMouseOver:o().func,onValueMouseOut:o().func,showLabels:o().bool,style:o().object,subLabel:o().func,width:o().number.isRequired},gv.defaultProps={className:"",colorType:"category",colorRange:No,padAngle:0,getAngle:function(e){return e.angle},getAngle0:function(e){return e.angle0},getRadius:function(e){return e.radius},getRadius0:function(e){return e.radius0},getLabel:function(e){return e.label},getSubLabel:function(e){return e.subLabel}};var vv=gv;function yv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var mv=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return yv(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}(yv),bv=(mv.right,mv.left,Array.prototype);bv.slice,bv.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function _v(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r}function wv(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o}function xv(e){return e.target.depth}function Cv(e,t){return e.sourceLinks.length?e.depth:t-1}function Bv(e){return function(){return e}}function Ev(e,t){return kv(e.source,t.source)||e.index-t.index}function Sv(e,t){return kv(e.target,t.target)||e.index-t.index}function kv(e,t){return e.y0-t.y0}function Ov(e){return e.value}function Tv(e){return(e.y0+e.y1)/2}function Pv(e){return Tv(e.source)*e.value}function Mv(e){return Tv(e.target)*e.value}function Fv(e){return e.index}function Iv(e){return e.nodes}function Lv(e){return e.links}function Rv(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function Dv(e){return[e.source.x1,e.y0]}function Zv(e){return[e.target.x0,e.y1]}var Uv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv=No[1];function Nv(e){var t=e.animation,n=e.data,r=e.node,i=e.opacity,o=e.color,a=e.strokeWidth,s=e.style,u=e.onLinkClick,l=e.onLinkMouseOver,c=e.onLinkMouseOut;return t?G.createElement(Ke,Uv({},e,{animatedProps:ea}),G.createElement(Nv,Uv({},e,{animation:null}))):G.createElement("path",Uv({d:n},s,{className:"rv-sankey__link",opacity:Number.isFinite(i)?i:.7,stroke:o||jv,onClick:function(e){return u(r,e)},onMouseOver:function(e){return l(r,e)},onMouseOut:function(e){return c(r,e)},strokeWidth:a,fill:"none"}))}Nv.displayName="SankeyLink",Nv.requiresSVG=!0;var zv=Nv,Qv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Hv(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Vv=function(e){return e},Gv={justify:Cv,center:function(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?_v(e.sourceLinks,xv)-1:0},left:function(e){return e.depth},right:function(e,t){return t-1-e.height}},Wv={top:20,left:20,right:20,bottom:20};function Kv(e){var t=e.align,n=e.animation,r=e.children,i=e.className,o=e.hasVoronoi,a=e.height,s=e.hideLabels,u=e.labelRotation,l=e.layout,c=e.links,A=e.linkOpacity,f=e.margin,h=e.nodePadding,p=e.nodes,d=e.nodeWidth,g=e.onValueClick,v=e.onValueMouseOver,y=e.onValueMouseOut,m=e.onLinkClick,b=e.onLinkMouseOver,_=e.onLinkMouseOut,w=e.style,x=e.width,C=[].concat(Hv(new Array(p.length))).map((function(e,t){return Qv({},p[t])})),B=[].concat(Hv(new Array(c.length))).map((function(e,t){return Qv({},c[t])})),E=fd({margin:f,height:a,width:x},Wv),S=E.marginLeft,k=E.marginTop,O=E.marginRight,T=E.marginBottom,P=function(){var e=0,t=0,n=1,r=1,i=24,o=8,a=Fv,s=Cv,u=Iv,l=Lv,c=32;function A(){var e={nodes:u.apply(null,arguments),links:l.apply(null,arguments)};return f(e),h(e),p(e),d(e),g(e),e}function f(e){e.nodes.forEach((function(e,t){e.index=t,e.sourceLinks=[],e.targetLinks=[]}));var t=ft(e.nodes,a);e.links.forEach((function(e,n){e.index=n;var r=e.source,i=e.target;"object"!==typeof r&&(r=e.source=Rv(t,r)),"object"!==typeof i&&(i=e.target=Rv(t,i)),r.sourceLinks.push(e),i.targetLinks.push(e)}))}function h(e){e.nodes.forEach((function(e){e.value=Math.max(wv(e.sourceLinks,Ov),wv(e.targetLinks,Ov))}))}function p(t){var r,o,a;for(r=t.nodes,o=[],a=0;r.length;++a,r=o,o=[])r.forEach((function(e){e.depth=a,e.sourceLinks.forEach((function(e){o.indexOf(e.target)<0&&o.push(e.target)}))}));for(r=t.nodes,o=[],a=0;r.length;++a,r=o,o=[])r.forEach((function(e){e.height=a,e.targetLinks.forEach((function(e){o.indexOf(e.source)<0&&o.push(e.source)}))}));var u=(n-e-i)/(a-1);t.nodes.forEach((function(t){t.x1=(t.x0=e+Math.max(0,Math.min(a-1,Math.floor(s.call(null,t,a))))*u)+i}))}function d(e){var n=ht().key((function(e){return e.x0})).sortKeys(yv).entries(e.nodes).map((function(e){return e.values}));!function(){var i=_v(n,(function(e){return(r-t-(e.length-1)*o)/wv(e,Ov)}));n.forEach((function(e){e.forEach((function(e,t){e.y1=(e.y0=t)+e.value*i}))})),e.links.forEach((function(e){e.width=e.value*i}))}(),l();for(var i=1,a=c;a>0;--a)u(i*=.99),l(),s(i),l();function s(e){n.forEach((function(t){t.forEach((function(t){if(t.targetLinks.length){var n=(wv(t.targetLinks,Pv)/wv(t.targetLinks,Ov)-Tv(t))*e;t.y0+=n,t.y1+=n}}))}))}function u(e){n.slice().reverse().forEach((function(t){t.forEach((function(t){if(t.sourceLinks.length){var n=(wv(t.sourceLinks,Mv)/wv(t.sourceLinks,Ov)-Tv(t))*e;t.y0+=n,t.y1+=n}}))}))}function l(){n.forEach((function(e){var n,i,a,s=t,u=e.length;for(e.sort(kv),a=0;a<u;++a)(i=s-(n=e[a]).y0)>0&&(n.y0+=i,n.y1+=i),s=n.y1+o;if((i=s-o-r)>0)for(s=n.y0-=i,n.y1-=i,a=u-2;a>=0;--a)(i=(n=e[a]).y1+o-s)>0&&(n.y0-=i,n.y1-=i),s=n.y0}))}}function g(e){e.nodes.forEach((function(e){e.sourceLinks.sort(Sv),e.targetLinks.sort(Ev)})),e.nodes.forEach((function(e){var t=e.y0,n=t;e.sourceLinks.forEach((function(e){e.y0=t+e.width/2,t+=e.width})),e.targetLinks.forEach((function(e){e.y1=n+e.width/2,n+=e.width}))}))}return A.update=function(e){return g(e),e},A.nodeId=function(e){return arguments.length?(a="function"===typeof e?e:Bv(e),A):a},A.nodeAlign=function(e){return arguments.length?(s="function"===typeof e?e:Bv(e),A):s},A.nodeWidth=function(e){return arguments.length?(i=+e,A):i},A.nodePadding=function(e){return arguments.length?(o=+e,A):o},A.nodes=function(e){return arguments.length?(u="function"===typeof e?e:Bv(e),A):u},A.links=function(e){return arguments.length?(l="function"===typeof e?e:Bv(e),A):l},A.size=function(i){return arguments.length?(e=t=0,n=+i[0],r=+i[1],A):[n-e,r-t]},A.extent=function(i){return arguments.length?(e=+i[0][0],n=+i[1][0],t=+i[0][1],r=+i[1][1],A):[[e,t],[n,r]]},A.iterations=function(e){return arguments.length?(c=+e,A):c},A}().extent([[S,k],[x-O,a-T-k]]).nodeWidth(d).nodePadding(h).nodes(C).links(B).nodeAlign(Gv[t]).iterations(l);P(C);var M=P.nodeWidth(),F=us().source(Dv).target(Zv);return G.createElement(Od,Qv({},e,{yType:"literal",className:"rv-sankey "+i}),B.map((function(e,t){return G.createElement(zv,{style:w.links,data:F(e),opacity:e.opacity||A,color:e.color,onLinkClick:m,onLinkMouseOver:b,onLinkMouseOut:_,strokeWidth:Math.max(e.width,1),node:e,nWidth:M,key:"link-"+t})})),G.createElement(Gp,{animation:n,className:i+" rv-sankey__node",data:C.map((function(e){return Qv({},e,{y:e.y1-k,y0:e.y0-k,x:e.x1,x0:e.x0,color:e.color||No[0],sourceLinks:null,targetLinks:null})})),style:w.rects,onValueClick:g,onValueMouseOver:v,onValueMouseOut:y,colorType:"literal"}),!s&&G.createElement(Ph,{animation:n,className:i,rotation:u,labelAnchorY:"text-before-edge",data:C.map((function(e,t){return Qv({x:e.x0+(e.x0<x/2?M+10:-10),y:(e.y0+e.y1)/2-k,label:e.name,style:Qv({textAnchor:e.x0<x/2?"start":"end",dy:"-.5em"},w.labels)},p[t])}))}),o&&G.createElement(nd,{className:"rv-sankey__voronoi",extent:[[-S,-k],[x+O,a+T]],nodes:C,onClick:g,onHover:v,onBlur:y,x:function(e){return e.x0+(e.x1-e.x0)/2},y:function(e){return e.y0+(e.y1-e.y0)/2}}),r)}Kv.defaultProps={align:"justify",className:"",hasVoronoi:!1,hideLabels:!1,labelRotation:0,layout:50,margin:Wv,nodePadding:10,nodeWidth:10,onValueMouseOver:Vv,onValueClick:Vv,onValueMouseOut:Vv,onLinkClick:Vv,onLinkMouseOver:Vv,onLinkMouseOut:Vv,style:{links:{},rects:{},labels:{}}},Kv.propTypes={align:o().oneOf(["justify","left","right","center"]),className:o().string,hasVoronoi:o().bool,height:o().number.isRequired,hideLabels:o().bool,labelRotation:o().number,layout:o().number,links:o().arrayOf(o().shape({source:o().oneOfType([o().number,o().object]).isRequired,target:o().oneOfType([o().number,o().object]).isRequired})).isRequired,margin:pd,nodePadding:o().number,nodes:o().arrayOf(o().object).isRequired,nodeWidth:o().number,onValueMouseOver:o().func,onValueClick:o().func,onValueMouseOut:o().func,onLinkClick:o().func,onLinkMouseOver:o().func,onLinkMouseOut:o().func,style:o().shape({links:o().object,rects:o().object,labels:o().object}),width:o().number.isRequired};var qv=Kv;function Xv(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Yv(e,t,n,r,i){for(var o,a=e.children,s=-1,u=a.length,l=e.value&&(r-t)/e.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*l}function Jv(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&Yv(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(t,o)),r&&i.eachBefore(Xv),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i}function $v(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function ey(e,t){var n,r,i,o,a,s=new iy(e),u=+e.value&&(s.value=e.value),l=[s];for(null==t&&(t=ty);n=l.pop();)if(u&&(n.value=+n.data.value),(i=t(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new iy(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(ry)}function ty(e){return e.children}function ny(e){e.data=e.data.data}function ry(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function iy(e){this.data=e,this.depth=this.height=0,this.parent=null}iy.prototype=ey.prototype={constructor:iy,count:function(){return this.eachAfter($v)},each:function(e){var t,n,r,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return ey(this).eachBefore(ny)}};var oy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay=["onValueMouseOver","onValueMouseOut","onValueClick","onValueRightClick","onSeriesMouseOver","onSeriesMouseOut","onSeriesClick","onSeriesRightClick"];var sy=function(){};function uy(e){var t=e.getAngle,n=e.getAngle0,r=e.animation,i=e.className,o=e.children,a=e.data,s=e.height,u=e.hideRootNode,l=e.getLabel,c=e.width,A=e.getSize,f=e.colorType,h=function(e){var t=e.data,n=e.height,r=e.hideRootNode,i=e.width,o=e.getSize,a=Jv(),s=ey(t).sum(o),u=Math.min(i,n)/2-10,l=Ht().range([0,2*Math.PI]),c=en().range([0,u]);return a(s).descendants().reduce((function(e,t,n){return r&&0===n?e:e.concat([oy({angle0:Math.max(0,Math.min(2*Math.PI,l(t.x0))),angle:Math.max(0,Math.min(2*Math.PI,l(t.x1))),radius0:Math.max(0,c(t.y0)),radius:Math.max(0,c(t.y1)),depth:t.depth,parent:t.parent},t.data)])}),[])}({data:a,height:s,hideRootNode:u,width:c,getSize:A}),p=$o(h),d=hd(c,s,p),g=function(e,t){var n=t.getAngle,r=t.getAngle0,i=t.getLabel,o=t.getRadius0;return e.filter(i).map((function(e){var t=-1*n(e)+Math.PI/2,i=(-1*r(e)+Math.PI/2+t)/2,a=!e.dontRotateLabel,s=-i/(2*Math.PI)*360;return oy({},e,{children:null,angle:null,radius:null,x:o(e)*Math.cos(i),y:o(e)*Math.sin(i),style:oy({textAnchor:s>90?"end":"start"},e.labelStyle),rotation:a?s>90?s+180:90===s?90:s:null})}))}(h,{getAngle:t,getAngle0:n,getLabel:l,getRadius0:function(e){return e.radius0}});return G.createElement(Od,{height:s,hasTreeStructure:!0,width:c,className:"rv-sunburst "+i,margin:d,xDomain:[-p,p],yDomain:[-p,p]},G.createElement(Za,oy({colorType:f},e,{animation:r,radiusDomain:[0,p],data:r?h.map((function(e,t){return oy({},e,{parent:null,children:null,index:t})})):h,_data:r?h:null,arcClassName:"rv-sunburst__series--radial__arc"},ay.reduce((function(t,n){var i,o=e[n];return t[n]=r?(i=o,function(e,t){return i?i(h[e.index],t):sy}):o,t}),{}))),g.length>0&&G.createElement(Ph,{data:g,getLabel:l}),o)}uy.displayName="Sunburst",uy.propTypes={animation:qe,getAngle:o().func,getAngle0:o().func,className:o().string,colorType:o().string,data:o().object.isRequired,height:o().number.isRequired,hideRootNode:o().bool,getLabel:o().func,onValueClick:o().func,onValueMouseOver:o().func,onValueMouseOut:o().func,getSize:o().func,width:o().number.isRequired,padAngle:o().oneOfType([o().func,o().number])},uy.defaultProps={getAngle:function(e){return e.angle},getAngle0:function(e){return e.angle0},className:"",colorType:"literal",getColor:function(e){return e.color},hideRootNode:!1,getLabel:function(e){return e.label},getSize:function(e){return e.size},padAngle:0};var ly=uy;function cy(e,t,n,r,i){for(var o,a=e.children,s=-1,u=a.length,l=e.value&&(i-n)/e.value;++s<u;)(o=a[s]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*l}var Ay=(1+Math.sqrt(5))/2;function fy(e,t,n,r,i,o){for(var a,s,u,l,c,A,f,h,p,d,g,v=[],y=t.children,m=0,b=0,_=y.length,w=t.value;m<_;){u=i-n,l=o-r;do{c=y[b++].value}while(!c&&b<_);for(A=f=c,g=c*c*(d=Math.max(l/u,u/l)/(w*e)),p=Math.max(f/g,g/A);b<_;++b){if(c+=s=y[b].value,s<A&&(A=s),s>f&&(f=s),g=c*c*d,(h=Math.max(f/g,g/A))>p){c-=s;break}p=h}v.push(a={value:c,dice:u<l,children:y.slice(m,b)}),a.dice?Yv(a,n,r,i,w?r+=l*c/w:o):cy(a,n,r,w?n+=u*c/w:i,o),w-=c,m=b}return v}var hy=function e(t){function n(e,n,r,i,o){fy(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Ay),py=function e(t){function n(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,u,l,c,A=-1,f=a.length,h=e.value;++A<f;){for(u=(s=a[A]).children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?Yv(s,n,r,i,r+=(o-r)*s.value/h):cy(s,n,r,n+=(i-n)*s.value/h,o),h-=s.value}else e._squarify=a=fy(t,e,n,r,i,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Ay);var dy=Array.prototype.slice;function gy(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(dy.call(e))).length,o=[];r<i;)t=e[r],n&&my(n,t)?++r:(n=_y(o=vy(o,t)),r=0);return n}function vy(e,t){var n,r;if(by(t,e))return[t];for(n=0;n<e.length;++n)if(yy(t,e[n])&&by(wy(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(yy(wy(e[n],e[r]),t)&&yy(wy(e[n],t),e[r])&&yy(wy(e[r],t),e[n])&&by(xy(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function yy(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function my(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function by(e,t){for(var n=0;n<t.length;++n)if(!my(e,t[n]))return!1;return!0}function _y(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return wy(e[0],e[1]);case 3:return xy(e[0],e[1],e[2])}}function wy(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,u=o-n,l=a-r,c=s-i,A=Math.sqrt(u*u+l*l);return{x:(n+o+u/A*c)/2,y:(r+a+l/A*c)/2,r:(A+i+s)/2}}function xy(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,u=t.r,l=n.x,c=n.y,A=n.r,f=r-a,h=r-l,p=i-s,d=i-c,g=u-o,v=A-o,y=r*r+i*i-o*o,m=y-a*a-s*s+u*u,b=y-l*l-c*c+A*A,_=h*p-f*d,w=(p*b-d*m)/(2*_)-r,x=(d*g-p*v)/_,C=(h*m-f*b)/(2*_)-i,B=(f*v-h*g)/_,E=x*x+B*B-1,S=2*(o+w*x+C*B),k=w*w+C*C-o*o,O=-(E?(S+Math.sqrt(S*S-4*E*k))/(2*E):k/S);return{x:r+w+x*O,y:i+C+B*O,r:O}}function Cy(e,t,n){var r,i,o,a,s=e.x-t.x,u=e.y-t.y,l=s*s+u*u;l?(i=t.r+n.r,i*=i,a=e.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=e.x-r*s-o*u,n.y=e.y-r*u+o*s):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=t.x+r*s-o*u,n.y=t.y+r*u+o*s)):(n.x=t.x+n.r,n.y=t.y)}function By(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Ey(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function Sy(e){this._=e,this.next=null,this.previous=null}function ky(e){if(!(i=e.length))return 0;var t,n,r,i,o,a,s,u,l,c,A;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;Cy(n,t,r=e[2]),t=new Sy(t),n=new Sy(n),r=new Sy(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){Cy(t._,n._,r=e[s]),r=new Sy(r),u=n.next,l=t.previous,c=n._.r,A=t._.r;do{if(c<=A){if(By(u._,r._)){n=u,t.next=n,n.previous=t,--s;continue e}c+=u._.r,u=u.next}else{if(By(l._,r._)){(t=l).next=n,n.previous=t,--s;continue e}A+=l._.r,l=l.previous}}while(u!==l.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=Ey(t);(r=r.next)!==n;)(a=Ey(r))<o&&(t=r,o=a);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=gy(t),s=0;s<i;++s)(t=e[s]).x-=r.x,t.y-=r.y;return r.r}function Oy(e){return null==e?null:Ty(e)}function Ty(e){if("function"!==typeof e)throw new Error;return e}function Py(){return 0}function My(e){return function(){return e}}function Fy(e){return Math.sqrt(e.value)}function Iy(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Ly(e,t){return function(n){if(r=n.children){var r,i,o,a=r.length,s=e(n)*t||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=ky(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Ry(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var Dy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy=["colorRange","colorDomain","color","opacityRange","opacityDomain","opacity","x0","x1","y0","y1","r"];function Uy(e){var t=e.animation,n=e.getLabel,r=e.mode,i=e.node,o=e.onLeafClick,a=e.onLeafMouseOver,s=e.onLeafMouseOut,u=e.r,l=e.scales,c=e.x0,A=e.x1,f=e.y0,h=e.y1,p=e.style;if(t)return G.createElement(Ke,Dy({},e,{animatedProps:Zy}),G.createElement(Uy,Dy({},e,{animation:null})));var d="circlePack"===r,g=l.color(i),v=l.opacity(i),y=Oo(g),m=n(i.data),b=Dy({top:d?f-u:f,left:d?c-u:c,width:d?2*u:A-c,height:d?2*u:h-f,background:g,opacity:v,color:y},p,i.data.style);return G.createElement("div",{className:"rv-treemap__leaf "+(d?"rv-treemap__leaf--circle":""),onMouseEnter:function(e){return a(i,e)},onMouseLeave:function(e){return s(i,e)},onClick:function(e){return o(i,e)},style:b},G.createElement("div",{className:"rv-treemap__leaf__content"},m))}Uy.propTypes={animation:qe,height:o().number.isRequired,mode:o().string,node:o().object.isRequired,onLeafClick:o().func,onLeafMouseOver:o().func,onLeafMouseOut:o().func,scales:o().object.isRequired,width:o().number.isRequired,r:o().number.isRequired,x0:o().number.isRequired,x1:o().number.isRequired,y0:o().number.isRequired,y1:o().number.isRequired};var jy=Uy,Ny=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function zy(e){var t=e.animation,n=e.className,r=e.height,i=e.hideRootNode,o=e.getLabel,a=e.mode,s=e.nodes,u=e.width,l=e.scales,c=e.style,A="circlePack"===a;return G.createElement("div",{className:"rv-treemap "+(A?"rv-treemap-circle-packed":"")+" "+n,style:{height:r,width:u}},s.map((function(n,r){if(i&&!r)return null;var a=Ny({animation:t,node:n,getLabel:o},e,{x0:A?n.x:n.x0,x1:A?n.x:n.x1,y0:A?n.y:n.y0,y1:A?n.y:n.y1,r:A?n.r:1,scales:l,style:c});return G.createElement(jy,Ny({},a,{key:"leaf-"+r}))})))}zy.displayName="TreemapDOM";var Qy=zy,Hy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Gy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wy(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Ky=function(e){function t(){return Gy(this,t),Wy(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Vy(t,[{key:"getCircularNodes",value:function(){var e=this.props,t=e.animation,n=e.hideRootNode,r=e.nodes,i=e.onLeafMouseOver,o=e.onLeafMouseOut,a=e.onLeafClick,s=e.scales,u=e.style,l=r.reduce((function(e,t,r){if(!r&&n)return e;var i=t.x,o=t.y,a=t.r;return{maxY:Math.max(o+a,e.maxY),minY:Math.min(o-a,e.minY),maxX:Math.max(i+1.2*a,e.maxX),minX:Math.min(i-1.2*a,e.minX),rows:e.rows.concat([{x:i,y:o,size:a,color:s.color(t)}])}}),{rows:[],maxY:-1/0,minY:1/0,maxX:-1/0,minX:1/0}),c=l.rows,A=l.minY,f=l.maxY,h=l.minX,p=l.maxX;return{updatedNodes:G.createElement(Hh,{animation:t,className:"rv-treemap__leaf rv-treemap__leaf--circle",onSeriesMouseEnter:i,onSeriesMouseLeave:o,onSeriesClick:a,data:c,colorType:"literal",getColor:function(e){return e.color},sizeType:"literal",getSize:function(e){return e.size},style:u}),minY:A,maxY:f,minX:h,maxX:p}}},{key:"getNonCircularNodes",value:function(){var e=this.props,t=e.animation,n=e.hideRootNode,r=e.nodes,i=e.onLeafMouseOver,o=e.onLeafMouseOut,a=e.onLeafClick,s=e.scales,u=e.style,l=s.color;return r.reduce((function(e,r,s){if(!s&&n)return e;var c=r.x0,A=r.x1,f=r.y1,h=r.y0,p=c,d=h,g=f-h,v=A-c;e.maxY=Math.max(d+g,e.maxY),e.minY=Math.min(d,e.minY),e.maxX=Math.max(p+v,e.maxX),e.minX=Math.min(p,e.minX);var y=[{x:p,y:d},{x:p,y:d+g},{x:p+v,y:d+g},{x:p+v,y:d}];return e.updatedNodes=e.updatedNodes.concat([G.createElement(wp,{animation:t,className:"rv-treemap__leaf",key:s,color:l(r),type:"literal",onSeriesMouseEnter:i,onSeriesMouseLeave:o,onSeriesClick:a,data:y,style:Hy({},u,r.style)})]),e}),{updatedNodes:[],maxY:-1/0,minY:1/0,maxX:-1/0,minX:1/0})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.height,r=e.mode,i=e.nodes,o=e.width,a="circlePack"===r,s=a?this.getCircularNodes():this.getNonCircularNodes(),u=s.minY,l=s.maxY,c=s.minX,A=s.maxX,f=s.updatedNodes,h=i.reduce((function(e,t){return t.data.title?e.concat(Hy({},t.data,{x:t.x0||t.x,y:t.y0||t.y,label:""+t.data.title})):e}),[]);return G.createElement(Od,Hy({className:"rv-treemap "+(a?"rv-treemap-circle-packed":"")+" "+t,width:o,height:n,yDomain:[l,u],xDomain:[c,A],colorType:"literal",hasTreeStructure:!0},this.props),f,G.createElement(Ph,{data:h}))}}]),t}(G.Component);Ky.displayName="TreemapSVG";var qy=Ky,Xy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Jy={squarify:hy,resquarify:py,slice:cy,dice:Yv,slicedice:function(e,t,n,r,i){(1&e.depth?cy:Yv)(e,t,n,r,i)},binary:function(e,t,n,r,i){var o,a,s=e.children,u=s.length,l=new Array(u+1);for(l[0]=a=o=0;o<u;++o)l[o+1]=a+=s[o].value;!function e(t,n,r,i,o,a,u){if(t>=n-1){var c=s[t];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=u)}var A=l[t],f=r/2+A,h=t+1,p=n-1;for(;h<p;){var d=h+p>>>1;l[d]<f?h=d+1:p=d}f-l[h-1]<l[h]-f&&t+1<h&&--h;var g=l[h]-A,v=r-g;if(a-i>u-o){var y=(i*v+a*g)/r;e(t,h,g,i,o,y,u),e(h,n,v,y,o,a,u)}else{var m=(o*v+u*g)/r;e(t,h,g,i,o,a,m),e(h,n,v,i,m,a,u)}}(0,u,e.value,t,n,r,i)}},$y=function(e){return e},em=["opacity","color"];function tm(e){var t=e.data.children||[],n=Yy({},e,So(e,t,em),{_allData:t});return{opacity:wo(n,"opacity"),color:wo(n,"color")}}var nm=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=Yy({scales:tm(e)},fd(e,e.margin)),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xy(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Yy({scales:tm(e)},fd(e,e.margin)))}},{key:"_getNodesToRender",value:function(){var e=this.state,t=e.innerWidth,n=e.innerHeight,r=this.props,i=r.data,o=r.mode,a=r.padding,s=r.sortFunction,u=r.getSize;if(!i)return[];if("partition"===o||"partition-pivot"===o){var l=Jv().size("partition-pivot"===o?[n,t]:[t,n]).padding(a),c=ey(i).sum(u).sort((function(e,t){return s(e,t,u)})),A=l(c).descendants();return"partition-pivot"===o?A.map((function(e){return Yy({},e,{x0:e.y0,x1:e.y1,y0:e.x0,y1:e.x1})})):A}if("circlePack"===o){var f=function(){var e=null,t=1,n=1,r=Py;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(Iy(e)).eachAfter(Ly(r,.5)).eachBefore(Ry(1)):i.eachBefore(Iy(Fy)).eachAfter(Ly(Py,1)).eachAfter(Ly(r,i.r/Math.min(t,n))).eachBefore(Ry(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=Oy(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:My(+e),i):r},i}().size([t,n]).padding(a),h=ey(i).sum(u).sort((function(e,t){return s(e,t,u)}));return f(h).descendants()}var p=Jy[o],d=function(){var e=hy,t=!1,n=1,r=1,i=[0],o=Py,a=Py,s=Py,u=Py,l=Py;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(A),i=[0],t&&e.eachBefore(Xv),e}function A(t){var n=i[t.depth],r=t.x0+n,c=t.y0+n,A=t.x1-n,f=t.y1-n;A<r&&(r=A=(r+A)/2),f<c&&(c=f=(c+f)/2),t.x0=r,t.y0=c,t.x1=A,t.y1=f,t.children&&(n=i[t.depth+1]=o(t)/2,r+=l(t)-n,c+=a(t)-n,(A-=s(t)-n)<r&&(r=A=(r+A)/2),(f-=u(t)-n)<c&&(c=f=(c+f)/2),e(t,r,c,A,f))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=Ty(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(o="function"===typeof e?e:My(+e),c):o},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(a="function"===typeof e?e:My(+e),c):a},c.paddingRight=function(e){return arguments.length?(s="function"===typeof e?e:My(+e),c):s},c.paddingBottom=function(e){return arguments.length?(u="function"===typeof e?e:My(+e),c):u},c.paddingLeft=function(e){return arguments.length?(l="function"===typeof e?e:My(+e),c):l},c}().tile(p).size([t,n]).padding(a),g=ey(i).sum(u).sort((function(e,t){return s(e,t,u)}));return d(g).descendants()}},{key:"render",value:function(){var e=this.props.renderMode,t=this.state.scales,n=this._getNodesToRender(),r="SVG"===e?qy:Qy;return G.createElement(r,Yy({},this.props,{nodes:n,scales:t}))}}]),t}(G.Component);nm.displayName="Treemap",nm.propTypes={animation:qe,className:o().string,data:o().object.isRequired,height:o().number.isRequired,hideRootNode:o().bool,margin:pd,mode:o().oneOf(Object.keys(Jy).concat(["circlePack","partition","partition-pivot"])),onLeafClick:o().func,onLeafMouseOver:o().func,onLeafMouseOut:o().func,useCirclePacking:o().bool,padding:o().number.isRequired,sortFunction:o().func,width:o().number.isRequired,getSize:o().func,getColor:o().func},nm.defaultProps={className:"",colorRange:Qo,_colorValue:Go,data:{children:[]},hideRootNode:!1,margin:{left:40,right:10,top:10,bottom:40},mode:"squarify",onLeafClick:$y,onLeafMouseOver:$y,onLeafMouseOut:$y,opacityType:Vo,_opacityValue:1,padding:1,sortFunction:function(e,t,n){return n?n(e)-n(t):0},getSize:function(e){return e.size},getColor:function(e){return e.color},getLabel:function(e){return e.title}};var rm=nm,im=n(6e3),om=n.n(im),am=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var um=[],lm=null;function cm(){om().clearTimeout(lm),lm=om().setTimeout(Am,100)}function Am(){um.forEach((function(e){return e()}))}function fm(e){return um.push(e),1===um.length&&om().addEventListener("resize",cm),function(){!function(e){var t=um.indexOf(e);t>-1&&um.splice(t,1)}(e),0===um.length&&(om().clearTimeout(lm),om().removeEventListener("resize",cm))}}function hm(e,t,n){var r=function(r){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t._onResize=function(){var e=qi(t.container),n=e.offsetHeight,r=e.offsetWidth,i=t.state.height===n?{}:{height:n},o=t.state.width===r?{}:{width:r};t.setState(am({},i,o))},t.state={height:0,width:0},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,r),sm(i,null,[{key:"propTypes",get:function(){var t=e.propTypes;t.height,t.width;return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["height","width"])}}]),sm(i,[{key:"componentDidMount",value:function(){this._onResize(),this.cancelSubscription=fm(this._onResize)}},{key:"componentWillReceiveProps",value:function(){this._onResize()}},{key:"componentWillUnmount",value:function(){this.cancelSubscription()}},{key:"render",value:function(){var r=this,i=this.state,o=i.height,a=i.width,s=am({},this.props,{animation:0===o&&0===a?null:this.props.animation}),u=am({},n?{height:o}:{},t?{width:a}:{});return G.createElement("div",{ref:function(e){return r.container=e},style:{width:"100%",height:"100%"}},G.createElement(e,am({},u,s)))}}]),i}(G.Component);return r.displayName="Flexible"+function(e){return e.displayName||e.name||"Component"}(e),r}function pm(e){return hm(e,!1,!0)}function dm(e){return hm(e,!0,!0)}function gm(e){return hm(e,!0,!1)}var vm=gm(Od),ym=pm(Od),mm=dm(Od)},4365:function(e,t,n){"use strict";var r=n(4763).functionsHaveConfigurableNames(),i=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},r&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},996:function(e,t,n){"use strict";var r=n(3109),i=n(1300),o=n(4365),a=n(3947),s=n(2497),u=i(a());r(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},3947:function(e,t,n){"use strict";var r=n(4365),i=n(3109).supportsDescriptors,o=Object.getOwnPropertyDescriptor;e.exports=function(){if(i&&"gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof RegExp.prototype.dotAll&&"boolean"===typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},2497:function(e,t,n){"use strict";var r=n(3109).supportsDescriptors,i=n(3947),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,l=/a/;e.exports=function(){if(!r||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=u(l),n=o(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},1309:function(e,t,n){"use strict";var r=n(598),i=n(4134),o=n(3150),a=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),l=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),A=i("WeakMap.prototype.has",!0),f=i("Map.prototype.get",!0),h=i("Map.prototype.set",!0),p=i("Map.prototype.has",!0),d=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},get:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return l(e,r)}else if(u){if(t)return f(t,r)}else if(n)return function(e,t){var n=d(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return A(e,r)}else if(u){if(t)return p(t,r)}else if(n)return function(e,t){return!!d(e,t)}(n,r);return!1},set:function(r,i){s&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new s),c(e,r,i)):u?(t||(t=new u),h(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=d(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},6929:function(e,t,n){"use strict";n.r(t),n.d(t,{Client:function(){return Be},Server:function(){return Ie}});var r=n(5671),i=n(3144),o=n(885),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,r.Z)(this,e),this.prefix=t,this.count=0,this.offset=374,this.msb=1295,this.power=2}return(0,i.Z)(e,[{key:"next",value:function(){var e=this.increment().toString(36);return this.prefix?"".concat(this.prefix).concat(e):e}},{key:"increment",value:function(){var e=this.count+this.offset;return e===this.msb&&(this.offset+=9*(this.msb+1),this.msb=Math.pow(36,++this.power)-1),this.count++,e}}]),e}(),s=/(!?\(\s*min(-device-)?-width).+\(\s*max(-device)?-width/i,u=/(!?\(\s*max(-device)?-width).+\(\s*min(-device)?-width/i,l=m(s,u,/\(\s*min(-device)?-width/i),c=m(u,s,/\(\s*max(-device)?-width/i),A=/(!?\(\s*min(-device)?-height).+\(\s*max(-device)?-height/i,f=/(!?\(\s*max(-device)?-height).+\(\s*min(-device)?-height/i,h=m(A,f,/\(\s*min(-device)?-height/i),p=m(f,A,/\(\s*max(-device)?-height/i),d=/print/i,g=/^print$/i,v=Number.MAX_VALUE;function y(e){var t=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/.exec(e);if(null===t)return v;var n=t[1];switch(t[2]){case"ch":n=8.8984375*parseFloat(n);break;case"em":case"rem":n=16*parseFloat(n);break;case"ex":n=8.296875*parseFloat(n);break;case"px":n=parseFloat(n)}return+n}function m(e,t,n){return function(r){return!!e.test(r)||!t.test(r)&&n.test(r)}}function b(e,t){if(""===e)return-1;if(""===t)return 1;var n=function(e,t){var n=d.test(e),r=g.test(e),i=d.test(t),o=g.test(t);return n&&i?!r&&o?1:r&&!o?-1:e.localeCompare(t):n?1:i?-1:null}(e,t);if(null!==n)return n;var r=l(e)||h(e),i=c(e)||p(e),o=l(t)||h(t),a=c(t)||p(t);if(r&&a)return-1;if(i&&o)return 1;var s=y(e),u=y(t);return s===v&&u===v?e.localeCompare(t):s===v?1:u===v?-1:s>u?i?-1:1:s<u?i?1:-1:e.localeCompare(t)}var _=function(){function e(t,n,i){(0,r.Z)(this,e),this.idGenerator=t,this.onNewCache=n,this.onNewValue=i,this.sortedCacheKeys=[],this.caches={}}return(0,i.Z)(e,[{key:"getCache",value:function(e){if(!this.caches[e]){var t=new w(this.idGenerator,this.onNewValue);t.key=e,this.sortedCacheKeys.push(e),this.sortedCacheKeys.sort(b);var n=this.sortedCacheKeys.indexOf(e),r=n<this.sortedCacheKeys.length-1?this.sortedCacheKeys[n+1]:void 0;this.caches[e]=t,this.onNewCache(e,t,r)}return this.caches[e]}},{key:"getSortedCacheKeys",value:function(){return this.sortedCacheKeys}}]),e}(),w=function(){function e(t,n){(0,r.Z)(this,e),this.cache={},this.idGenerator=t,this.onNewValue=n}return(0,i.Z)(e,[{key:"addValue",value:function(e,t){var n=this.cache[e];if(n)return n;var r=this.idGenerator.next();return this.cache[e]=r,this.onNewValue(this,r,t),r}}]),e}(),x=n(4942),C=/[A-Z]/g,B=/^ms-/,E={};function S(e){return e in E?E[e]:E[e]=e.replace(C,"-$&").toLowerCase().replace(B,"-ms-")}function k(e){return e.charAt(0).toUpperCase()+e.slice(1)}function O(e,t,n){if(e.hasOwnProperty(t)){for(var r={},i=e[t],o=k(t),a=Object.keys(n),s=0;s<a.length;s++){var u=a[s];if(u===t)for(var l=0;l<i.length;l++)r[i[l]+o]=n[t];r[u]=n[u]}return r}return n}function T(e,t,n,r,i){for(var o=0,a=e.length;o<a;++o){var s=e[o](t,n,r,i);if(s)return s}}function P(e,t){-1===e.indexOf(t)&&e.push(t)}function M(e,t){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)P(e,t[n]);else P(e,t)}function F(e){return e instanceof Object&&!Array.isArray(e)}var I=["Webkit"],L=["ms"],R=["Webkit","ms"],D={plugins:[],prefixMap:{appearance:["Webkit","Moz"],textEmphasisPosition:I,textEmphasis:I,textEmphasisStyle:I,textEmphasisColor:I,boxDecorationBreak:I,maskImage:I,maskMode:I,maskRepeat:I,maskPosition:I,maskClip:I,maskOrigin:I,maskSize:I,maskComposite:I,mask:I,maskBorderSource:I,maskBorderMode:I,maskBorderSlice:I,maskBorderWidth:I,maskBorderOutset:I,maskBorderRepeat:I,maskBorder:I,maskType:I,textDecorationStyle:I,textDecorationSkip:I,textDecorationLine:I,textDecorationColor:I,userSelect:["Webkit","Moz","ms"],backdropFilter:I,fontKerning:I,scrollSnapType:R,scrollSnapPointsX:R,scrollSnapPointsY:R,scrollSnapDestination:R,scrollSnapCoordinate:R,clipPath:I,shapeImageThreshold:I,shapeImageMargin:I,shapeImageOutside:I,filter:I,hyphens:R,flowInto:R,flowFrom:R,breakBefore:R,breakAfter:R,breakInside:R,regionFragment:R,writingMode:R,textOrientation:I,tabSize:["Moz"],fontFeatureSettings:I,columnCount:I,columnFill:I,columnGap:I,columnRule:I,columnRuleColor:I,columnRuleStyle:I,columnRuleWidth:I,columns:I,columnSpan:I,columnWidth:I,wrapFlow:L,wrapThrough:L,wrapMargin:L,textSizeAdjust:R}};var Z=["-webkit-","-moz-",""],U={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};var j=n(4782),N=n.n(j),z=["-webkit-",""];var Q=["-webkit-",""];var H={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};var V={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},G={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"};var W=["-webkit-","-moz-",""],K=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi;var q=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function X(e){return"number"===typeof e&&!isNaN(e)}function Y(e){return"string"===typeof e&&e.includes("/")}var J=["center","end","start","stretch"],$={"inline-grid":["-ms-inline-grid","inline-grid"],grid:["-ms-grid","grid"]},ee={alignSelf:function(e,t){J.indexOf(e)>-1&&(t.msGridRowAlign=e)},gridColumn:function(e,t){if(X(e))t.msGridColumn=e;else if(Y(e)){var n=e.split("/"),r=q(n,2),i=r[0],o=r[1];ee.gridColumnStart(+i,t);var a=o.split(/ ?span /),s=q(a,2),u=s[0],l=s[1];""===u?ee.gridColumnEnd(+i+ +l,t):ee.gridColumnEnd(+o,t)}else ee.gridColumnStart(e,t)},gridColumnEnd:function(e,t){var n=t.msGridColumn;X(e)&&X(n)&&(t.msGridColumnSpan=e-n)},gridColumnStart:function(e,t){X(e)&&(t.msGridColumn=e)},gridRow:function(e,t){if(X(e))t.msGridRow=e;else if(Y(e)){var n=e.split("/"),r=q(n,2),i=r[0],o=r[1];ee.gridRowStart(+i,t);var a=o.split(/ ?span /),s=q(a,2),u=s[0],l=s[1];""===u?ee.gridRowEnd(+i+ +l,t):ee.gridRowEnd(+o,t)}else ee.gridRowStart(e,t)},gridRowEnd:function(e,t){var n=t.msGridRow;X(e)&&X(n)&&(t.msGridRowSpan=e-n)},gridRowStart:function(e,t){X(e)&&(t.msGridRow=e)},gridTemplateColumns:function(e,t){t.msGridColumns=e},gridTemplateRows:function(e,t){t.msGridRows=e},justifySelf:function(e,t){J.indexOf(e)>-1&&(t.msGridColumnAlign=e)}};var te=["-webkit-",""];var ne={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]};var re=["-webkit-","-moz-",""],ie={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},oe={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};var ae=n(4916),se=n.n(ae),ue={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},le={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};var ce=[function(e,t){if("string"===typeof t&&"text"===t)return["-webkit-text","text"]},function(e,t){if("string"===typeof t&&!N()(t)&&t.indexOf("cross-fade(")>-1)return z.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))},function(e,t){if("cursor"===e&&U.hasOwnProperty(t))return Z.map((function(e){return e+t}))},function(e,t){if("string"===typeof t&&!N()(t)&&t.indexOf("filter(")>-1)return Q.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))},function(e,t,n){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),G.hasOwnProperty(e)&&(n[G[e]]=V[t]||t)},function(e,t){if("string"===typeof t&&!N()(t)&&K.test(t))return W.map((function(e){return t.replace(K,(function(t){return e+t}))}))},function(e,t,n){if("display"===e&&t in $)return $[t];e in ee&&(0,ee[e])(t,n)},function(e,t){if("string"===typeof t&&!N()(t)&&t.indexOf("image-set(")>-1)return te.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))},function(e,t,n){if(Object.prototype.hasOwnProperty.call(ne,e))for(var r=ne[e],i=0,o=r.length;i<o;++i)n[r[i]]=t},function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},function(e,t){if(ie.hasOwnProperty(e)&&oe.hasOwnProperty(t))return re.map((function(e){return e+t}))},function(e,t,n,r){if("string"===typeof t&&ue.hasOwnProperty(e)){var i=function(e,t){if(N()(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,i=n.length;r<i;++r){var o=n[r],a=[o];for(var s in t){var u=se()(s);if(o.indexOf(u)>-1&&"order"!==u)for(var l=t[s],c=0,A=l.length;c<A;++c)a.unshift(o.replace(u,le[l[c]]+u))}n[r]=a.join(",")}return n.join(",")}(t,r),o=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return o;var a=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?a:(n["Webkit"+k(e)]=o,n["Moz"+k(e)]=a,i)}},function(e,t){if("display"===e&&H.hasOwnProperty(t))return H[t]}],Ae=function(e){var t=e.prefixMap,n=e.plugins;return function e(r){for(var i in r){var o=r[i];if(F(o))r[i]=e(o);else if(Array.isArray(o)){for(var a=[],s=0,u=o.length;s<u;++s){M(a,T(n,i,o[s],r,t)||o[s])}a.length>0&&(r[i]=a)}else{var l=T(n,i,o,r,t);l&&(r[i]=l),r=O(t,i,r)}}return r}}({prefixMap:D.prefixMap,plugins:ce});function fe(e,t,n,r){var i=e.getCache(n),o="";for(var a in t){var s=t[a];if(void 0!==s&&null!==s)if("object"!==typeof s){0;var u="".concat(S(a),":").concat(s),l="".concat(r).concat(u),c=i.cache[l];if(void 0!==c){o+=" "+c;continue}var A="",f=Ae((0,x.Z)({},a,s));for(var h in f){var p=f[h],d=typeof p;if("string"===d||"number"===d){var g="".concat(S(h),":").concat(p);g!==u&&(A+="".concat(g,";"))}else if(Array.isArray(p))for(var v=S(h),y=0;y<p.length;y++){var m="".concat(v,":").concat(p[y]);m!==u&&(A+="".concat(m,";"))}}A+=u,o+=" "+i.addValue(l,{pseudo:r,block:A})}else":"===a[0]?o+=" "+fe(e,s,n,r+a):"@media"===a.substring(0,6)&&(o+=" "+fe(e,s,a.substr(7),r))}return o.slice(1)}function he(e,t){var n=".".concat(e);return t&&(n+=t),n}function pe(e){var t="";for(var n in e)t+="".concat(n,"{").concat(de(e[n]),"}");return t}function de(e){var t="";for(var n in e){var r=e[n];"string"!==typeof r&&"number"!==typeof r||(t+="".concat(S(n),":").concat(r,";"))}return t.slice(0,-1)}function ge(e,t){return"@keyframes ".concat(e,"{").concat(t,"}")}function ve(e,t){return"@font-face{font-family:".concat(e,";").concat(t,"}")}function ye(e,t){return"".concat(e,"{").concat(t,"}")}var me=/\.([^{:]+)(:[^{]+)?{(?:[^}]*;)?([^}]*?)}/g,be=/@keyframes ([^{]+){((?:(?:from|to|(?:\d+\.?\d*%))\{(?:[^}])*})*)}/g,_e=/@font-face\{font-family:([^;]+);([^}]*)\}/g;function we(e,t,n){for(var r;r=t.exec(n);){var i=r,a=(0,o.Z)(i,4),s=a[1],u=a[2],l=a[3];0;var c=u?"".concat(u).concat(l):l;e.cache[c]=s,e.idGenerator.increment()}}function xe(e,t,n){for(var r;r=t.exec(n);){var i=r,a=(0,o.Z)(i,3),s=a[1],u=a[2];0,e.cache[u]=s,e.idGenerator.increment()}}var Ce=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,e),this.styleElements={};var i=new a(n.prefix),o=function(e,n,r){var i=r.pseudo,o=r.block,a=t.styleElements[e.key].sheet,s=ye(he(n,i),o);try{a.insertRule(s,a.cssRules.length)}catch(u){0}};if(this.styleCache=new _(i,(function(e,n,r){var i=document.createElement("style");if(i.media=e,void 0===r)t.container.appendChild(i);else{var o=Ee(t.container.children,r);t.container.insertBefore(i,t.container.children[o])}t.styleElements[e]=i}),o),this.keyframesCache=new w(new a(n.prefix),(function(e,n,r){t.styleCache.getCache("");var i=t.styleElements[""].sheet,o=ge(n,pe(r));try{i.insertRule(o,i.cssRules.length)}catch(a){0}})),this.fontFaceCache=new w(new a(n.prefix),(function(e,n,r){t.styleCache.getCache("");var i=t.styleElements[""].sheet,o=ve(n,de(r));try{i.insertRule(o,i.cssRules.length)}catch(a){0}})),n.container&&(this.container=n.container),n.hydrate&&n.hydrate.length>0){if(!this.container){var s=n.hydrate[0].parentElement;null!==s&&void 0!==s&&(this.container=s)}for(var u=0;u<n.hydrate.length;u++){var l=n.hydrate[u],c=l.getAttribute("data-hydrate");if("font-face"!==c)if("keyframes"!==c){var A=l.media?l.media:"";this.styleElements[A]=l;var f=new w(i,o);f.key=A,we(f,me,l.textContent),this.styleCache.sortedCacheKeys.push(A),this.styleCache.caches[A]=f}else xe(this.keyframesCache,be,l.textContent);else xe(this.fontFaceCache,_e,l.textContent)}}if(!this.container){if(null===document.head)throw new Error("No container provided and `document.head` was null");this.container=document.head}}return(0,i.Z)(e,[{key:"renderStyle",value:function(e){return fe(this.styleCache,e,"","")}},{key:"renderFontFace",value:function(e){var t=de(e);return this.fontFaceCache.addValue(t,e)}},{key:"renderKeyframes",value:function(e){var t=pe(e);return this.keyframesCache.addValue(t,e)}}]),e}(),Be=Ce;function Ee(e,t){for(var n=0;n<e.length;n++){var r=e[n];if("STYLE"===r.tagName&&r.media===t)return n}return-1}var Se=n(1413),ke=n(4925),Oe=n(2982),Te=["class"],Pe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,e),this.styleRules={"":""},this.styleCache=new _(new a(n.prefix),(function(e){t.styleRules[e]=""}),(function(e,n,r){var i=r.pseudo,o=r.block;t.styleRules[e.key]+=ye(he(n,i),o)})),this.fontFaceRules="",this.fontFaceCache=new w(new a(n.prefix),(function(e,n,r){t.fontFaceRules+=ve(n,de(r))})),this.keyframesRules="",this.keyframesCache=new w(new a(n.prefix),(function(e,n,r){t.keyframesRules+=ge(n,pe(r))}))}return(0,i.Z)(e,[{key:"renderStyle",value:function(e){return fe(this.styleCache,e,"","")}},{key:"renderFontFace",value:function(e){var t=JSON.stringify(e);return this.fontFaceCache.addValue(t,e)}},{key:"renderKeyframes",value:function(e){var t=JSON.stringify(e);return this.keyframesCache.addValue(t,e)}},{key:"getStylesheets",value:function(){return[].concat((0,Oe.Z)(this.keyframesRules.length?[{css:this.keyframesRules,attrs:{"data-hydrate":"keyframes"}}]:[]),(0,Oe.Z)(this.fontFaceRules.length?[{css:this.fontFaceRules,attrs:{"data-hydrate":"font-face"}}]:[]),(0,Oe.Z)(function(e,t){if(0===t.length)return[{css:"",attrs:{}}];var n=[];return t.forEach((function(t){var r=""===t?{}:{media:t};n.push({css:e[t],attrs:r})})),n}(this.styleRules,this.styleCache.getSortedCacheKeys())))}},{key:"getStylesheetsHtml",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_styletron_hydrate_";return Me(this.getStylesheets(),e)}},{key:"getCss",value:function(){return this.keyframesRules+this.fontFaceRules+function(e,t){var n="";return t.forEach((function(t){var r=e[t];n+=""!==t?"@media ".concat(t,"{").concat(r,"}"):r})),n}(this.styleRules,this.styleCache.getSortedCacheKeys())}}]),e}();function Me(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r],o=i.attrs,a=o.class,s=(0,ke.Z)(o,Te),u=(0,Se.Z)({class:a?"".concat(t," ").concat(a):t},s);n+="<style".concat(Fe(u),">").concat(i.css,"</style>")}return n}function Fe(e){var t="";for(var n in e){var r=e[n];!0===r?t+=" "+n:!1!==r&&(t+=" ".concat(n,'="').concat(r,'"'))}return t}var Ie=Pe},29:function(e,t,n){"use strict";n.r(t),n.d(t,{DebugEngine:function(){return l},Provider:function(){return d},autoComposeDeep:function(){return B},autoComposeShallow:function(){return C},composeDynamic:function(){return F},composeStatic:function(){return M},createDeepMergeReducer:function(){return P},createShallowMergeReducer:function(){return T},createStyled:function(){return y},createStyledElementComponent:function(){return I},dynamicComposeDeep:function(){return O},dynamicComposeShallow:function(){return k},resolveStyle:function(){return L},staticComposeDeep:function(){return S},staticComposeShallow:function(){return E},styled:function(){return m},useStyletron:function(){return v},withStyle:function(){return w},withStyleDeep:function(){return _},withTransform:function(){return b},withWrapper:function(){return x}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(2791),u=n(2262);var l=function(){function e(t){if((0,r.Z)(this,e),!t){var n=new Blob(['importScripts("https://unpkg.com/css-to-js-sourcemap-worker@2.0.5/worker.js")'],{type:"application/javascript"});(t=new Worker(URL.createObjectURL(n))).postMessage({id:"init_wasm",url:"https://unpkg.com/css-to-js-sourcemap-worker@2.0.5/mappings.wasm"}),t.postMessage({id:"set_render_interval",interval:120})}this.worker=t,this.counter=0,this.worker.onmessage=function(e){var t=e.data,n=t.id,r=t.css;if("render_css"===n&&r){var i=document.createElement("style");i.appendChild(document.createTextNode(r)),document.head.appendChild(i)}}}return(0,i.Z)(e,[{key:"debug",value:function(e){var t=e.stackIndex,n=e.stackInfo,r="__debug-".concat(this.counter++);return this.worker.postMessage({id:"add_mapped_class",className:r,stackInfo:n,stackIndex:t}),r}}]),e}();function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var A={renderStyle:function(){return""},renderKeyframes:function(){return""},renderFontFace:function(){return""}},f=s.createContext(A),h=s.createContext(!1),p=s.createContext(void 0),d=(s.Component,f.Provider);function g(e){e===A&&console.warn("Styletron Provider is not set up. Defaulting to no-op.")}function v(){var e=s.useContext(f);s.useContext(p),s.useContext(h);g(e);s.useRef(""),s.useRef([]);return[function(t){var n=(0,u.vC)(t,e);return n}]}function y(e){var t=e.getInitialStyle,n=e.driver,r=e.wrapper;return function(e,i){return I(C({reducers:[],base:e,driver:n,getInitialStyle:t,wrapper:r},i))}}var m=y({getInitialStyle:u.r4,driver:u.vC,wrapper:function(e){return e}}),b=function(e,t){return I(F(e.__STYLETRON__,t))},_=function(e,t){return I(B(e.__STYLETRON__,t))},w=_,x=function(e,t){var n=e.__STYLETRON__;return I({getInitialStyle:n.getInitialStyle,base:n.base,driver:n.driver,wrapper:t,reducers:n.reducers})};function C(e,t){return"function"===typeof t?k(e,t):E(e,t)}function B(e,t){return"function"===typeof t?O(e,t):S(e,t)}function E(e,t){return M(e,T(t))}function S(e,t){return M(e,P(t))}function k(e,t){return F(e,(function(e,n){return Z(e,t(n))}))}function O(e,t){return F(e,(function(e,n){return D(e,t(n))}))}function T(e){return{reducer:function(t){return Z(t,e)},assignmentCommutative:!0,factory:T,style:e}}function P(e){return{reducer:function(t){return D(t,e)},assignmentCommutative:!0,factory:P,style:e}}function M(e,t){if(0===e.reducers.length){var n=t.reducer(e.getInitialStyle());return{reducers:e.reducers,base:e.base,driver:e.driver,wrapper:e.wrapper,getInitialStyle:function(){return n}}}var r=e.reducers[0];if(!0===r.assignmentCommutative&&!0===t.assignmentCommutative){var i=t.reducer(r.style);return{getInitialStyle:e.getInitialStyle,base:e.base,driver:e.driver,wrapper:e.wrapper,reducers:[r.factory(i)].concat(e.reducers.slice(1))}}return F(e,t.reducer)}function F(e,t){return{getInitialStyle:e.getInitialStyle,base:e.base,driver:e.driver,wrapper:e.wrapper,reducers:[{assignmentCommutative:!1,reducer:t}].concat(e.reducers)}}function I(e){var t=e.reducers,n=e.base,r=e.driver,i=e.wrapper,o=e.getInitialStyle,a=(e.ext,s.forwardRef((function(e,i){var a=s.useContext(f);s.useContext(p),s.useContext(h);g(a);var u=function(e){var t={};for(var n in e)"$"!==n[0]&&(t[n]=e[n]);return t}(e),l=L(o,t,e);e.$style&&(l="function"===typeof e.$style?D(l,e.$style(e)):D(l,e.$style));var A=r(l,a),d=e.$as?e.$as:n;return u.className=e.className?"".concat(e.className," ").concat(A):A,e.$ref&&console.warn("The prop `$ref` has been deprecated. Use `ref` instead. Refs are now forwarded with React.forwardRef."),s.createElement(d,c({},u,{ref:i||e.$ref}))}))),u=i(a);return u.__STYLETRON__={base:n,reducers:t,driver:r,wrapper:i,getInitialStyle:o},u}function L(e,t,n){for(var r=e(),i=t.length;i--;){r=(0,t[i].reducer)(r,n)}return r}function R(e){return"object"===typeof e&&null!==e}function D(e,t){var n=U({},e);for(var r in t){var i=t[r];R(i)&&R(e[r])?n[r]=D(e[r],i):n[r]=i}return n}function Z(e,t){return U(U({},e),t)}function U(e,t){for(var n in t)e[n]=t[n];return e}},2262:function(e,t,n){"use strict";n.d(t,{r4:function(){return o},vC:function(){return i}});var r=n(7762);function i(e,t){var n=a(e,t);return t.renderStyle(n)}function o(){return{}}function a(e,t){for(var n in e){var i=e[n];if("animationName"!==n||"string"===typeof i)if("fontFamily"!==n||"string"===typeof i)"object"===typeof i&&null!==i&&a(i,t);else{if(Array.isArray(i)){var o,s="",u=(0,r.Z)(i);try{for(u.s();!(o=u.n()).done;){var l=o.value;"object"===typeof l?s+="".concat(t.renderFontFace(l),","):"string"===typeof l&&(s+="".concat(l,","))}}catch(c){u.e(c)}finally{u.f()}e.fontFamily=s.slice(0,-1);continue}if(void 0===i)continue;e.fontFamily=t.renderFontFace(i)}else e.animationName=t.renderKeyframes(i)}return e}},7127:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(885),i=n(7762),o=n(5671),a=n(3144);function s(e,t,n,r,i,o){if(!(i-r<=n)){var a=r+i>>1;u(e,t,a,r,i,o%2),s(e,t,n,r,a-1,o+1),s(e,t,n,a+1,i,o+1)}}function u(e,t,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,c=Math.log(a),A=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*A*(a-A)/a)*(s-a/2<0?-1:1);u(e,t,n,Math.max(r,Math.floor(n-s*A/a+f)),Math.min(i,Math.floor(n+(a-s)*A/a+f)),o)}var h=t[2*n+o],p=r,d=i;for(l(e,t,r,n),t[2*i+o]>h&&l(e,t,r,i);p<d;){for(l(e,t,p,d),p++,d--;t[2*p+o]<h;)p++;for(;t[2*d+o]>h;)d--}t[2*r+o]===h?l(e,t,r,d):l(e,t,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}}function l(e,t,n,r){c(e,n,r),c(t,2*n,2*r),c(t,2*n+1,2*r+1)}function c(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function A(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}var f,h=function(e){return e[0]},p=function(e){return e[1]},d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;(0,o.Z)(this,e),this.nodeSize=i,this.points=t;for(var u=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new u(t.length),c=this.coords=new a(2*t.length),A=0;A<t.length;A++)l[A]=A,c[2*A]=n(t[A]),c[2*A+1]=r(t[A]);s(l,c,i,0,l.length-1,0)}return(0,a.Z)(e,[{key:"range",value:function(e,t,n,r){return function(e,t,n,r,i,o,a){for(var s,u,l=[0,e.length-1,0],c=[];l.length;){var A=l.pop(),f=l.pop(),h=l.pop();if(f-h<=a)for(var p=h;p<=f;p++)s=t[2*p],u=t[2*p+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(e[p]);else{var d=Math.floor((h+f)/2);s=t[2*d],u=t[2*d+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(e[d]);var g=(A+1)%2;(0===A?n<=s:r<=u)&&(l.push(h),l.push(d-1),l.push(g)),(0===A?i>=s:o>=u)&&(l.push(d+1),l.push(f),l.push(g))}}return c}(this.ids,this.coords,e,t,n,r,this.nodeSize)}},{key:"within",value:function(e,t,n){return function(e,t,n,r,i,o){for(var a=[0,e.length-1,0],s=[],u=i*i;a.length;){var l=a.pop(),c=a.pop(),f=a.pop();if(c-f<=o)for(var h=f;h<=c;h++)A(t[2*h],t[2*h+1],n,r)<=u&&s.push(e[h]);else{var p=Math.floor((f+c)/2),d=t[2*p],g=t[2*p+1];A(d,g,n,r)<=u&&s.push(e[p]);var v=(l+1)%2;(0===l?n-i<=d:r-i<=g)&&(a.push(f),a.push(p-1),a.push(v)),(0===l?n+i>=d:r+i>=g)&&(a.push(p+1),a.push(c),a.push(v))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)}}]),e}(),g={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},v=Math.fround||(f=new Float32Array(1),function(e){return f[0]=+e,f[0]}),y=function(){function e(t){(0,o.Z)(this,e),this.options=E(Object.create(g),t),this.trees=new Array(this.options.maxZoom+1)}return(0,a.Z)(e,[{key:"load",value:function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var a="prepare ".concat(e.length," points");n&&console.time(a),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(b(e[u],u));this.trees[i+1]=new d(s,S,k,o,Float32Array),n&&console.timeEnd(a);for(var l=i;l>=r;l--){var c=+Date.now();s=this._cluster(s,l),this.trees[l]=new d(s,S,k,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),o=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,o=180;else if(n>o){var s=this.getClusters([n,r,180,a],t),u=this.getClusters([-180,r,o,a],t);return s.concat(u)}var l,c=this.trees[this._limitZoom(t)],A=c.range(x(n),C(a),x(o),C(r)),f=[],h=(0,i.Z)(A);try{for(h.s();!(l=h.n()).done;){var p=l.value,d=c.points[p];f.push(d.numPoints?_(d):this.points[d.index])}}catch(g){h.e(g)}finally{h.f()}return f}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(r);var a=o.points[t];if(!a)throw new Error(r);var s,u=this.options.radius/(this.options.extent*Math.pow(2,n-1)),l=o.within(a.x,a.y,u),c=[],A=(0,i.Z)(l);try{for(A.s();!(s=A.n()).done;){var f=s.value,h=o.points[f];h.parentId===e&&c.push(h.numPoints?_(h):this.points[h.index])}}catch(p){A.e(p)}finally{A.f()}if(0===c.length)throw new Error(r);return c}},{key:"getLeaves",value:function(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r}},{key:"getTile",value:function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.extent,s=o.radius/a,u=(n-s)/i,l=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((t-s)/i,u,(t+1+s)/i,l),r.points,t,n,i,c),0===t&&this._addTileFeatures(r.range(1-s/i,u,1,l),r.points,i,n,i,c),t===i-1&&this._addTileFeatures(r.range(0,u,s/i,l),r.points,-1,n,i,c),c.features.length?c:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,n,r,o){var a,s=this.getChildren(t),u=(0,i.Z)(s);try{for(u.s();!(a=u.n()).done;){var l=a.value,c=l.properties;if(c&&c.cluster?o+c.point_count<=r?o+=c.point_count:o=this._appendLeaves(e,c.cluster_id,n,r,o):o<r?o++:e.push(l),e.length===n)break}}catch(A){u.e(A)}finally{u.f()}return o}},{key:"_addTileFeatures",value:function(e,t,n,r,o,a){var s,u=(0,i.Z)(e);try{for(u.s();!(s=u.n()).done;){var l=t[s.value],c=l.numPoints,A=void 0,f=void 0,h=void 0;if(c)A=w(l),f=l.x,h=l.y;else{var p=this.points[l.index];A=p.properties,f=x(p.geometry.coordinates[0]),h=C(p.geometry.coordinates[1])}var d={type:1,geometry:[[Math.round(this.options.extent*(f*o-n)),Math.round(this.options.extent*(h*o-r))]],tags:A},g=void 0;c?g=l.id:this.options.generateId?g=l.index:this.points[l.index].id&&(g=this.points[l.index].id),void 0!==g&&(d.id=g),a.features.push(d)}}catch(v){u.e(v)}finally{u.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var n=[],r=this.options,o=r.radius,a=r.extent,s=r.reduce,u=r.minPoints,l=o/(a*Math.pow(2,t)),c=0;c<e.length;c++){var A=e[c];if(!(A.zoom<=t)){A.zoom=t;var f,h=this.trees[t+1],p=h.within(A.x,A.y,l),d=A.numPoints||1,g=d,v=(0,i.Z)(p);try{for(v.s();!(f=v.n()).done;){var y=f.value,b=h.points[y];b.zoom>t&&(g+=b.numPoints||1)}}catch(I){v.e(I)}finally{v.f()}if(g>d&&g>=u){var _,w=A.x*d,x=A.y*d,C=s&&d>1?this._map(A,!0):null,B=(c<<5)+(t+1)+this.points.length,E=(0,i.Z)(p);try{for(E.s();!(_=E.n()).done;){var S=_.value,k=h.points[S];if(!(k.zoom<=t)){k.zoom=t;var O=k.numPoints||1;w+=k.x*O,x+=k.y*O,k.parentId=B,s&&(C||(C=this._map(A,!0)),s(C,this._map(k)))}}}catch(I){E.e(I)}finally{E.f()}A.parentId=B,n.push(m(w/g,x/g,B,g,C))}else if(n.push(A),g>1){var T,P=(0,i.Z)(p);try{for(P.s();!(T=P.n()).done;){var M=T.value,F=h.points[M];F.zoom<=t||(F.zoom=t,n.push(F))}}catch(I){P.e(I)}finally{P.f()}}}}return n}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t){if(e.numPoints)return t?E({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?E({},r):r}}]),e}();function m(e,t,n,r,i){return{x:v(e),y:v(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function b(e,t){var n=(0,r.Z)(e.geometry.coordinates,2),i=n[0],o=n[1];return{x:v(x(i)),y:v(C(o)),zoom:1/0,index:t,parentId:-1}}function _(e){return{type:"Feature",id:e.id,properties:w(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),B(e.y)]}};var t}function w(e){var t=e.numPoints,n=t>=1e4?"".concat(Math.round(t/1e3),"k"):t>=1e3?"".concat(Math.round(t/100)/10,"k"):t;return E(E({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function x(e){return e/360+.5}function C(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function B(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function E(e,t){for(var n in t)e[n]=t[n];return e}function S(e){return e.x}function k(e){return e.y}},6107:function(e,t,n){"use strict";n.d(t,{Jh:function(){return s},ZT:function(){return i},fl:function(){return l},mG:function(){return a},pi:function(){return o}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}Object.create},8862:function(e,t,n){"use strict";n.r(t),t.default={}},9434:function(e,t,n){"use strict";n.r(t),t.default={}},4305:function(e,t,n){"use strict";n.r(t),t.default={}},5134:function(e,t,n){"use strict";n.r(t),t.default={}},5503:function(e,t,n){"use strict";e.exports=n.p+"static/media/location-icon-atlas.37a766e00c9900c1c40d.png"},9293:function(){},7273:function(){},5713:function(){},382:function(){},2564:function(e,t,n){e.exports=function(){var e="1.13.4",t="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||Function("return this")()||{},r=Array.prototype,i=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,a=r.push,s=r.slice,u=i.toString,l=i.hasOwnProperty,c="undefined"!=typeof ArrayBuffer,A="undefined"!=typeof DataView,f=Array.isArray,h=Object.keys,p=Object.create,d=c&&ArrayBuffer.isView,g=isNaN,v=isFinite,y=!{toString:null}.propertyIsEnumerable("toString"),m=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],b=Math.pow(2,53)-1;function _(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}function w(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function x(e){return void 0===e}function C(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)}function B(e){var t="[object "+e+"]";return function(e){return u.call(e)===t}}var E=B("String"),S=B("Number"),k=B("Date"),O=B("RegExp"),T=B("Error"),P=B("Symbol"),M=B("ArrayBuffer"),F=B("Function"),I=t.document&&t.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof I&&(F=function(e){return"function"==typeof e||!1});var L=F,R=B("Object"),D=A&&R(new DataView(new ArrayBuffer(8))),Z="undefined"!=typeof Map&&R(new Map),U=B("DataView"),j=D?function(e){return null!=e&&L(e.getInt8)&&M(e.buffer)}:U,N=f||B("Array");function z(e,t){return null!=e&&l.call(e,t)}var Q=B("Arguments");!function(){Q(arguments)||(Q=function(e){return z(e,"callee")})}();var H=Q;function V(e){return S(e)&&g(e)}function G(e){return function(){return e}}function W(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=b}}function K(e){return function(t){return null==t?void 0:t[e]}}var q=K("byteLength"),X=W(q),Y=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,J=c?function(e){return d?d(e)&&!j(e):X(e)&&Y.test(u.call(e))}:G(!1),$=K("length");function ee(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return!0===t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=m.length,r=e.constructor,o=L(r)&&r.prototype||i,a="constructor";for(z(e,a)&&!t.contains(a)&&t.push(a);n--;)(a=m[n])in e&&e[a]!==o[a]&&!t.contains(a)&&t.push(a)}function te(e){if(!w(e))return[];if(h)return h(e);var t=[];for(var n in e)z(e,n)&&t.push(n);return y&&ee(e,t),t}function ne(e,t){var n=te(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0}function re(e){return e instanceof re?e:this instanceof re?void(this._wrapped=e):new re(e)}function ie(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,q(e))}re.VERSION=e,re.prototype.value=function(){return this._wrapped},re.prototype.valueOf=re.prototype.toJSON=re.prototype.value,re.prototype.toString=function(){return String(this._wrapped)};var oe="[object DataView]";function ae(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&function e(t,n,r,i){t instanceof re&&(t=t._wrapped),n instanceof re&&(n=n._wrapped);var a=u.call(t);if(a!==u.call(n))return!1;if(D&&"[object Object]"==a&&j(t)){if(!j(n))return!1;a=oe}switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return o.valueOf.call(t)===o.valueOf.call(n);case"[object ArrayBuffer]":case oe:return e(ie(t),ie(n),r,i)}var s="[object Array]"===a;if(!s&&J(t)){if(q(t)!==q(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;s=!0}if(!s){if("object"!=typeof t||"object"!=typeof n)return!1;var l=t.constructor,c=n.constructor;if(l!==c&&!(L(l)&&l instanceof l&&L(c)&&c instanceof c)&&"constructor"in t&&"constructor"in n)return!1}i=i||[];for(var A=(r=r||[]).length;A--;)if(r[A]===t)return i[A]===n;if(r.push(t),i.push(n),s){if((A=t.length)!==n.length)return!1;for(;A--;)if(!ae(t[A],n[A],r,i))return!1}else{var f,h=te(t);if(A=h.length,te(n).length!==A)return!1;for(;A--;)if(!z(n,f=h[A])||!ae(t[f],n[f],r,i))return!1}return r.pop(),i.pop(),!0}(e,t,n,r)}function se(e){if(!w(e))return[];var t=[];for(var n in e)t.push(n);return y&&ee(e,t),t}function ue(e){var t=$(e);return function(n){if(null==n)return!1;var r=se(n);if($(r))return!1;for(var i=0;i<t;i++)if(!L(n[e[i]]))return!1;return e!==pe||!L(n[le])}}var le="forEach",ce="has",Ae=["clear","delete"],fe=["get",ce,"set"],he=Ae.concat(le,fe),pe=Ae.concat(fe),de=["add"].concat(Ae,le,ce),ge=Z?ue(he):B("Map"),ve=Z?ue(pe):B("WeakMap"),ye=Z?ue(de):B("Set"),me=B("WeakSet");function be(e){for(var t=te(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function _e(e){for(var t={},n=te(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function we(e){var t=[];for(var n in e)L(e[n])&&t.push(n);return t.sort()}function xe(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;u<s;u++){var l=a[u];t&&void 0!==n[l]||(n[l]=o[l])}return n}}var Ce=xe(se),Be=xe(te),Ee=xe(se,!0);function Se(e){if(!w(e))return{};if(p)return p(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function ke(e){return N(e)?e:[e]}function Oe(e){return re.toPath(e)}function Te(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function Pe(e,t,n){var r=Te(e,Oe(t));return x(r)?n:r}function Me(e){return e}function Fe(e){return e=Be({},e),function(t){return ne(t,e)}}function Ie(e){return e=Oe(e),function(t){return Te(t,e)}}function Le(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}}function Re(e,t,n){return null==e?Me:L(e)?Le(e,t,n):w(e)&&!N(e)?Fe(e):Ie(e)}function De(e,t){return Re(e,t,1/0)}function Ze(e,t,n){return re.iteratee!==De?re.iteratee(e,t):Re(e,t,n)}function Ue(){}function je(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}re.toPath=ke,re.iteratee=De;var Ne=Date.now||function(){return(new Date).getTime()};function ze(e){var t=function(t){return e[t]},n="(?:"+te(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}var Qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},He=ze(Qe),Ve=ze(_e(Qe)),Ge=re.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},We=/(.)^/,Ke={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},qe=/\\|'|\r|\n|\u2028|\u2029/g;function Xe(e){return"\\"+Ke[e]}var Ye=/^\s*(\w|\$)+\s*$/,Je=0;function $e(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=Se(e.prototype),a=e.apply(o,i);return w(a)?a:o}var et=_((function(e,t){var n=et.placeholder,r=function r(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return $e(e,r,this,this,a)};return r}));et.placeholder=re;var tt=_((function(e,t,n){if(!L(e))throw new TypeError("Bind must be called on a function");var r=_((function(i){return $e(e,r,t,this,n.concat(i))}));return r})),nt=W($);function rt(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,o=0,a=$(e);o<a;o++){var s=e[o];if(nt(s)&&(N(s)||H(s)))if(t>1)rt(s,t-1,n,r),i=r.length;else for(var u=0,l=s.length;u<l;)r[i++]=s[u++];else n||(r[i++]=s)}return r}var it=_((function(e,t){var n=(t=rt(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=tt(e[r],e)}return e})),ot=_((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),at=et(ot,re,1);function st(e){return function(){return!e.apply(this,arguments)}}function ut(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var lt=et(ut,2);function ct(e,t,n){t=Ze(t,n);for(var r,i=te(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r}function At(e){return function(t,n,r){n=Ze(n,r);for(var i=$(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}var ft=At(1),ht=At(-1);function pt(e,t,n,r){for(var i=(n=Ze(n,r,1))(t),o=0,a=$(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o}function dt(e,t,n){return function(r,i,o){var a=0,u=$(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(n&&o&&u)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(s.call(r,a,u),V))>=0?o+a:-1;for(o=e>0?a:u-1;o>=0&&o<u;o+=e)if(r[o]===i)return o;return-1}}var gt=dt(1,ft,pt),vt=dt(-1,ht);function yt(e,t,n){var r=(nt(e)?ft:ct)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function mt(e,t,n){var r,i;if(t=Le(t,n),nt(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=te(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}function bt(e,t,n){t=Ze(t,n);for(var r=!nt(e)&&te(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o}function _t(e){var t=function(t,n,r,i){var o=!nt(t)&&te(t),a=(o||t).length,s=e>0?0:a-1;for(i||(r=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var u=o?o[s]:s;r=n(r,t[u],u,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,Le(n,i,4),r,o)}}var wt=_t(1),xt=_t(-1);function Ct(e,t,n){var r=[];return t=Ze(t,n),mt(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function Bt(e,t,n){t=Ze(t,n);for(var r=!nt(e)&&te(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0}function Et(e,t,n){t=Ze(t,n);for(var r=!nt(e)&&te(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1}function St(e,t,n,r){return nt(e)||(e=be(e)),("number"!=typeof n||r)&&(n=0),gt(e,t,n)>=0}var kt=_((function(e,t,n){var r,i;return L(t)?i=t:(t=Oe(t),r=t.slice(0,-1),t=t[t.length-1]),bt(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=Te(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))}));function Ot(e,t){return bt(e,Ie(t))}function Tt(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=nt(e)?e:be(e)).length;s<u;s++)null!=(r=e[s])&&r>o&&(o=r);else t=Ze(t,n),mt(e,(function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)}));return o}var Pt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Mt(e){return e?N(e)?s.call(e):E(e)?e.match(Pt):nt(e)?bt(e,Me):be(e):[]}function Ft(e,t,n){if(null==t||n)return nt(e)||(e=be(e)),e[je(e.length-1)];var r=Mt(e),i=$(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=je(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,t)}function It(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=Ze(r,i),mt(n,(function(t,i){var a=r(t,i,n);e(o,t,a)})),o}}var Lt=It((function(e,t,n){z(e,n)?e[n].push(t):e[n]=[t]})),Rt=It((function(e,t,n){e[n]=t})),Dt=It((function(e,t,n){z(e,n)?e[n]++:e[n]=1})),Zt=It((function(e,t,n){e[n?0:1].push(t)}),!0);function Ut(e,t,n){return t in n}var jt=_((function(e,t){var n={},r=t[0];if(null==e)return n;L(r)?(t.length>1&&(r=Le(r,t[1])),t=se(e)):(r=Ut,t=rt(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];r(s,a,e)&&(n[a]=s)}return n})),Nt=_((function(e,t){var n,r=t[0];return L(r)?(r=st(r),t.length>1&&(n=t[1])):(t=bt(rt(t,!1,!1),String),r=function(e,n){return!St(t,n)}),jt(e,r,n)}));function zt(e,t,n){return s.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Qt(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:zt(e,e.length-t)}function Ht(e,t,n){return s.call(e,null==t||n?1:t)}var Vt=_((function(e,t){return t=rt(t,!0,!0),Ct(e,(function(e){return!St(t,e)}))})),Gt=_((function(e,t){return Vt(e,t)}));function Wt(e,t,n,r){C(t)||(r=n,n=t,t=!1),null!=n&&(n=Ze(n,r));for(var i=[],o=[],a=0,s=$(e);a<s;a++){var u=e[a],l=n?n(u,a,e):u;t&&!n?(a&&o===l||i.push(u),o=l):n?St(o,l)||(o.push(l),i.push(u)):St(i,u)||i.push(u)}return i}var Kt=_((function(e){return Wt(rt(e,!0,!0))}));function qt(e){for(var t=e&&Tt(e,$).length||0,n=Array(t),r=0;r<t;r++)n[r]=Ot(e,r);return n}var Xt=_(qt);function Yt(e,t){return e._chain?re(t).chain():t}function Jt(e){return mt(we(e),(function(t){var n=re[t]=e[t];re.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),Yt(this,n.apply(re,e))}})),re}mt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=r[e];re.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Yt(this,n)}})),mt(["concat","join","slice"],(function(e){var t=r[e];re.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Yt(this,e)}}));var $t=Jt({__proto__:null,VERSION:e,restArguments:_,isObject:w,isNull:function(e){return null===e},isUndefined:x,isBoolean:C,isElement:function(e){return!(!e||1!==e.nodeType)},isString:E,isNumber:S,isDate:k,isRegExp:O,isError:T,isSymbol:P,isArrayBuffer:M,isDataView:j,isArray:N,isFunction:L,isArguments:H,isFinite:function(e){return!P(e)&&v(e)&&!isNaN(parseFloat(e))},isNaN:V,isTypedArray:J,isEmpty:function(e){if(null==e)return!0;var t=$(e);return"number"==typeof t&&(N(e)||E(e)||H(e))?0===t:0===$(te(e))},isMatch:ne,isEqual:function(e,t){return ae(e,t)},isMap:ge,isWeakMap:ve,isSet:ye,isWeakSet:me,keys:te,allKeys:se,values:be,pairs:function(e){for(var t=te(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},invert:_e,functions:we,methods:we,extend:Ce,extendOwn:Be,assign:Be,defaults:Ee,create:function(e,t){var n=Se(e);return t&&Be(n,t),n},clone:function(e){return w(e)?N(e)?e.slice():Ce({},e):e},tap:function(e,t){return t(e),e},get:Pe,has:function(e,t){for(var n=(t=Oe(t)).length,r=0;r<n;r++){var i=t[r];if(!z(e,i))return!1;e=e[i]}return!!n},mapObject:function(e,t,n){t=Ze(t,n);for(var r=te(e),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=t(e[s],s,e)}return o},identity:Me,constant:G,noop:Ue,toPath:ke,property:Ie,propertyOf:function(e){return null==e?Ue:function(t){return Pe(e,t)}},matcher:Fe,matches:Fe,times:function(e,t,n){var r=Array(Math.max(0,e));t=Le(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},random:je,now:Ne,escape:He,unescape:Ve,templateSettings:Ge,template:function(e,t,n){!t&&n&&(t=n),t=Ee({},t,re.templateSettings);var r=RegExp([(t.escape||We).source,(t.interpolate||We).source,(t.evaluate||We).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,(function(t,n,r,a,s){return o+=e.slice(i,s).replace(qe,Xe),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t})),o+="';\n";var a,s=t.variable;if(s){if(!Ye.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(e){throw e.source=o,e}var u=function(e){return a.call(this,e,re)};return u.source="function("+s+"){\n"+o+"}",u},result:function(e,t,n){var r=(t=Oe(t)).length;if(!r)return L(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=L(o)?o.call(e):o}return e},uniqueId:function(e){var t=++Je+"";return e?e+t:t},chain:function(e){var t=re(e);return t._chain=!0,t},iteratee:De,partial:et,bind:tt,bindAll:it,memoize:function(e,t){var n=function n(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return z(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},delay:ot,defer:at,throttle:function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Ne(),r=null,a=e.apply(i,o),r||(i=o=null)},l=function(){var l=Ne();s||!1!==n.leading||(s=l);var c=t-(l-s);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=l,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l},debounce:function(e,t,n){var r,i,o,a,s,u=function u(){var l=Ne()-i;t>l?r=setTimeout(u,t-l):(r=null,n||(a=e.apply(s,o)),r||(o=s=null))},l=_((function(l){return s=this,o=l,i=Ne(),r||(r=setTimeout(u,t),n&&(a=e.apply(s,o))),a}));return l.cancel=function(){clearTimeout(r),r=o=s=null},l},wrap:function(e,t){return et(t,e)},negate:st,compose:function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:ut,once:lt,findKey:ct,findIndex:ft,findLastIndex:ht,sortedIndex:pt,indexOf:gt,lastIndexOf:vt,find:yt,detect:yt,findWhere:function(e,t){return yt(e,Fe(t))},each:mt,forEach:mt,map:bt,collect:bt,reduce:wt,foldl:wt,inject:wt,reduceRight:xt,foldr:xt,filter:Ct,select:Ct,reject:function(e,t,n){return Ct(e,st(Ze(t)),n)},every:Bt,all:Bt,some:Et,any:Et,contains:St,includes:St,include:St,invoke:kt,pluck:Ot,where:function(e,t){return Ct(e,Fe(t))},max:Tt,min:function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=nt(e)?e:be(e)).length;s<u;s++)null!=(r=e[s])&&r<o&&(o=r);else t=Ze(t,n),mt(e,(function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)}));return o},shuffle:function(e){return Ft(e,1/0)},sample:Ft,sortBy:function(e,t,n){var r=0;return t=Ze(t,n),Ot(bt(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")},groupBy:Lt,indexBy:Rt,countBy:Dt,partition:Zt,toArray:Mt,size:function(e){return null==e?0:nt(e)?e.length:te(e).length},pick:jt,omit:Nt,first:Qt,head:Qt,take:Qt,initial:zt,last:function(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Ht(e,Math.max(0,e.length-t))},rest:Ht,tail:Ht,drop:Ht,compact:function(e){return Ct(e,Boolean)},flatten:function(e,t){return rt(e,t,!1)},without:Gt,uniq:Wt,unique:Wt,union:Kt,intersection:function(e){for(var t=[],n=arguments.length,r=0,i=$(e);r<i;r++){var o=e[r];if(!St(t,o)){var a;for(a=1;a<n&&St(arguments[a],o);a++);a===n&&t.push(o)}}return t},difference:Vt,unzip:qt,transpose:qt,zip:Xt,object:function(e,t){for(var n={},r=0,i=$(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},range:function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},chunk:function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(s.call(e,r,r+=t));return n},mixin:Jt,default:re});return $t._=$t,$t}()},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},6296:function(e,t,n){"use strict";function r(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new i(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function i(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return i=function(e){this.s=e,this.n=e.next},i.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new i(e)}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5647:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9611),i=n(8814);function o(e,t,n){return o=(0,i.Z)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&(0,r.Z)(o,n.prototype),o},o.apply(null,arguments)}},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1120),i=n(8814),o=n(1002),a=n(7326);function s(e,t){if(t&&("object"===(0,o.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,a.Z)(e)}function u(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},4925:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new B(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=A(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function A(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=c;var f={};function h(){}function p(){}function d(){}var g={};l(g,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==t&&n.call(y,a)&&(g=y);var m=d.prototype=h.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(o,a,s,u){var l=A(e[o],e,a);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,u)}))}u(l.arg)}var o;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=A(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(m,"constructor",d),l(d,"constructor",p),p.displayName=l(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,u,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),l(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),l(m,u,"Generator"),l(m,a,(function(){return this})),l(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8810:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},4301:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},965:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},2959:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},723:function(e){"use strict";e.exports=JSON.parse('{"marker-1":{"x":0,"y":0,"width":128,"height":128,"anchorY":128},"marker-2":{"x":128,"y":0,"width":128,"height":128,"anchorY":128},"marker-3":{"x":256,"y":0,"width":128,"height":128,"anchorY":128},"marker-4":{"x":384,"y":0,"width":128,"height":128,"anchorY":128},"marker-5":{"x":0,"y":128,"width":128,"height":128,"anchorY":128},"marker-6":{"x":128,"y":128,"width":128,"height":128,"anchorY":128},"marker-7":{"x":256,"y":128,"width":128,"height":128,"anchorY":128},"marker-8":{"x":384,"y":128,"width":128,"height":128,"anchorY":128},"marker-9":{"x":0,"y":256,"width":128,"height":128,"anchorY":128},"marker-10":{"x":128,"y":256,"width":128,"height":128,"anchorY":128},"marker-20":{"x":256,"y":256,"width":128,"height":128,"anchorY":128},"marker-30":{"x":384,"y":256,"width":128,"height":128,"anchorY":128},"marker-40":{"x":0,"y":384,"width":128,"height":128,"anchorY":128},"marker-50":{"x":128,"y":384,"width":128,"height":128,"anchorY":128},"marker-60":{"x":256,"y":384,"width":128,"height":128,"anchorY":128},"marker-70":{"x":384,"y":384,"width":128,"height":128,"anchorY":128},"marker-80":{"x":0,"y":512,"width":128,"height":128,"anchorY":128},"marker-90":{"x":128,"y":512,"width":128,"height":128,"anchorY":128},"marker-100":{"x":256,"y":512,"width":128,"height":128,"anchorY":128},"marker":{"x":384,"y":512,"width":128,"height":128,"anchorY":128}}')},2307:function(e){"use strict";e.exports=JSON.parse('{"name":"@tgve/tgvejs","description":"Turing Geovisualization Engine (TGVE) front-end npm package.","version":"1.5.1","main":"dist/index.js","author":"Layik Hama (https://github.com/layik)","contributors":["Roger Beecham","Nik Lomax","Lydia France","Nick Barlow","Roly Perera"],"license":"MIT","repository":{"type":"git","url":"https://github.com/tgve/tgvejs"},"files":["README.md","dist/"],"dependencies":{"@turf/bbox":"^6.3.0","@turf/bezier-spline":"^6.2.0","@turf/boolean-contains":"^6.5.0","@turf/centroid":"^6.2.0","baseui":"^10.3.0","csv2geojson":"^5.1.1","d3-array":"^2.9.1","d3-format":"^1.4.5","d3-scale":"^3.2.3","d3-scale-chromatic":"^1.5.0","d3-shape":"^1.3.7","deck.gl":"^8.3.14","html2canvas":"^1.3.2","luxon":"^1.25.0","marked":"^4.0.10","prop-types":"^15.6.2","react-leaflet":"^2.8.0","react-leaflet-control":"^2.1.2","react-map-gl":"5.2.1","react-router":"^4.3.1","react-router-dom":"^4.3.1","react-vis":"^1.11.7","styletron-engine-atomic":"^1.4.6","styletron-react":">=5.2.2 < 7","underscore":"^1.12.0"},"scripts":{"lint":"eslint --ignore-path .gitignore .","test":"yarn install --check-files && react-scripts test --env=jest-environment-jsdom-sixteen","test-debug":"react-scripts --inspect-brk test --runInBand --no-cache","eject":"react-scripts eject","coverage":"react-scripts test --coverage .","dist":"node_modules/.bin/babel src/ --out-dir dist --copy-files --no-copy-ignored","bundle":"npx rollup -c \'rollup.config.js\'","watch":"watch --wait=1 \'yarn run dist\' ./src","pub-dry":"rm -rf dist && yarn run dist && npm --dry-run publish","pub":"rm -rf dist && yarn run dist && yarn publish"},"eslintConfig":{"extends":"react-app"},"browserslist":[">0.2%","not ie <= 11","not op_mini all"],"externals":{"react":"commonjs react","react-dom":"commonjs react-dom"},"output":{"libraryTarget":"commonjs2"},"peerDependencies":{"react":">= 16.8.0 < 18","react-dom":">= 16.8.0 < 18"},"devDependencies":{"@babel/cli":"^7.12.10","@babel/core":"^7.12.10","@babel/plugin-proposal-object-rest-spread":"^7.12.1","@babel/preset-env":"^7.12.11","@babel/preset-react":"^7.12.10","@rollup/plugin-babel":"^5.3.0","@rollup/plugin-commonjs":"^19.0.0","@rollup/plugin-image":"^2.0.6","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^13.0.0","@testing-library/jest-dom":"^5.16.2","@testing-library/react":"^12.1.3","chromedriver":"^99.0.0","geckodriver":"^2.0.4","jest-environment-jsdom-sixteen":"^2.0.0","mutationobserver-shim":"^0.3.7","postcss":"^8.3.7","react":"^17.0.2","react-dom":"^17.0.2","react-scripts":"^5.0.1","react-test-renderer":"^16.14.0","rollup":"^2.47.0","rollup-plugin-postcss":"^4.0.1","selenium-webdriver":"^4.0.0-alpha.8","sinon":"^7.5.0","uglifyjs-webpack-plugin":"^2.2.0","watch":"^0.13.0","webpack-cli":"^4.9.1"}}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".93592f8e.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="tgve-app:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var A=l[c];if(A.getAttribute("src")==r||A.getAttribute("data-webpack")==t+o){s=A;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="https://tgve.github.io/app/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunktgve_app=self.webpackChunktgve_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(2791),t=n(4164),r=n(5495),i=n(184);var o=function(){return(0,i.jsx)(r.Z,{defaultURL:"https://raw.githubusercontent.com/tgve/example-data/main/casualties.csv"})},a=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};t.render((0,i.jsx)(e.StrictMode,{children:(0,i.jsx)(o,{})}),document.getElementById("root")),a()}()}();
//# sourceMappingURL=main.63fef85c.js.map